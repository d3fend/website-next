import{s as $,b as j,e as V,t as Z,F as L,j as z,d as B,f as N,h as G,i as k,w as d,O as E,E as J,k as S,l as C,p as X,N as ce,m as R,o as He,Z as Me,H as x,X as Y,c as ne,u as fe,g as oe,a as ae,q as Qe,n as ue,v as Xe,y as Ze,P as we,Q as qe}from"./scheduler.BPS8Q4IK.js";import{S as _e,i as he,t as g,g as T,a as q,e as P,c as ee,b as le,m as te,d as ie}from"./index.RHoRrSTo.js";import{e as M}from"./each.BvFyIW-M.js";import{u as Ge}from"./stores.CHMDvMgc.js";import{f as H}from"./lib.BjPFgosp.js";/* empty css                                              */function ye(r,l,s){const t=r.slice();return t[11]=l[s],t}function Ee(r){let l,s=r[0]["d3f:ref-count"]["@value"]+"",t,e;return{c(){l=V("span"),t=Z(s),this.h()},l(n){l=B(n,"SPAN",{class:!0,title:!0});var i=N(l);t=G(i,s),i.forEach(k),this.h()},h(){d(l,"class","ref-count svelte-1yepj0c"),d(l,"title",e="This technique has "+r[0]["d3f:ref-count"]["@value"]+" public references.")},m(n,i){S(n,l,i),C(l,t)},p(n,i){i&1&&s!==(s=n[0]["d3f:ref-count"]["@value"]+"")&&R(t,s),i&1&&e!==(e="This technique has "+n[0]["d3f:ref-count"]["@value"]+" public references.")&&d(l,"title",e)},d(n){n&&k(l)}}}function Ie(r){let l,s,t=M(H(r[0].children)),e=[];for(let i=0;i<t.length;i+=1)e[i]=Se(ye(r,t,i));const n=i=>q(e[i],1,1,()=>{e[i]=null});return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=L()},l(i){for(let f=0;f<e.length;f+=1)e[f].l(i);l=L()},m(i,f){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(i,f);S(i,l,f),s=!0},p(i,f){if(f&19){t=M(H(i[0].children));let o;for(o=0;o<t.length;o+=1){const v=ye(i,t,o);e[o]?(e[o].p(v,f),g(e[o],1)):(e[o]=Se(v),e[o].c(),g(e[o],1),e[o].m(l.parentNode,l))}for(T(),o=t.length;o<e.length;o+=1)n(o);P()}},i(i){if(!s){for(let f=0;f<t.length;f+=1)g(e[f]);s=!0}},o(i){e=e.filter(Boolean);for(let f=0;f<e.length;f+=1)q(e[f]);s=!1},d(i){i&&k(l),x(e,i)}}}function Se(r){let l,s;return l=new de({props:{leaf:r[11],depth:r[1]+1,recursive:!0,parent:r[0]["@id"],theme:r[4]}}),l.$on("elementClick",r[9]),{c(){ee(l.$$.fragment)},l(t){le(l.$$.fragment,t)},m(t,e){te(l,t,e),s=!0},p(t,e){const n={};e&1&&(n.leaf=t[11]),e&2&&(n.depth=t[1]+1),e&1&&(n.parent=t[0]["@id"]),e&16&&(n.theme=t[4]),l.$set(n)},i(t){s||(g(l.$$.fragment,t),s=!0)},o(t){q(l.$$.fragment,t),s=!1},d(t){ie(l,t)}}}function Ke(r){let l,s,t,e,n=r[0]["rdfs:label"]+"",i,f,o,v,b,_,a,h,u=r[0]["d3f:ref-count"]&&r[6].display_refcount&&Ee(r),w=r[0].children&&Ie(r);return{c(){u&&u.c(),l=j(),s=V("div"),t=V("div"),e=V("a"),i=Z(n),v=j(),w&&w.c(),b=L(),this.h()},l(m){u&&u.l(m),l=z(m),s=B(m,"DIV",{style:!0,class:!0,"data-parent":!0,title:!0});var p=N(s);t=B(p,"DIV",{style:!0,class:!0});var A=N(t);e=B(A,"A",{href:!0});var D=N(e);i=G(D,n),D.forEach(k),A.forEach(k),p.forEach(k),v=z(m),w&&w.l(m),b=L(),this.h()},h(){var m,p;d(e,"href",f="/technique/"+r[0]["@id"]),d(t,"style",""),d(t,"class","svelte-1yepj0c"),E(t,"indent",r[2]),J(s,"--layer-color",((m=r[0].classes)==null?void 0:m.color)||r[5]),J(s,"--layer-select",((p=r[0].classes)==null?void 0:p.select)||""),d(s,"class","tree-leaf svelte-1yepj0c"),d(s,"data-parent",r[3]),d(s,"title",o=`Definition: 

`+r[0]["d3f:definition"]),E(s,"poster_border",r[4]=="poster"),E(s,"sub-leaf",r[2]),E(s,"hidden",!r[0].hasOwnProperty("d3f:ref-count"))},m(m,p){u&&u.m(m,p),S(m,l,p),S(m,s,p),C(s,t),C(t,e),C(e,i),S(m,v,p),w&&w.m(m,p),S(m,b,p),_=!0,a||(h=X(e,"click",ce(r[8])),a=!0)},p(m,[p]){var A,D;m[0]["d3f:ref-count"]&&m[6].display_refcount?u?u.p(m,p):(u=Ee(m),u.c(),u.m(l.parentNode,l)):u&&(u.d(1),u=null),(!_||p&1)&&n!==(n=m[0]["rdfs:label"]+"")&&R(i,n),(!_||p&1&&f!==(f="/technique/"+m[0]["@id"]))&&d(e,"href",f),(!_||p&4)&&E(t,"indent",m[2]),(!_||p&33)&&J(s,"--layer-color",((A=m[0].classes)==null?void 0:A.color)||m[5]),(!_||p&1)&&J(s,"--layer-select",((D=m[0].classes)==null?void 0:D.select)||""),(!_||p&8)&&d(s,"data-parent",m[3]),(!_||p&1&&o!==(o=`Definition: 

`+m[0]["d3f:definition"]))&&d(s,"title",o),(!_||p&16)&&E(s,"poster_border",m[4]=="poster"),(!_||p&4)&&E(s,"sub-leaf",m[2]),(!_||p&1)&&E(s,"hidden",!m[0].hasOwnProperty("d3f:ref-count")),m[0].children?w?(w.p(m,p),p&1&&g(w,1)):(w=Ie(m),w.c(),g(w,1),w.m(b.parentNode,b)):w&&(T(),q(w,1,1,()=>{w=null}),P())},i(m){_||(g(w),_=!0)},o(m){q(w),_=!1},d(m){m&&(k(l),k(s),k(v),k(b)),u&&u.d(m),w&&w.d(m),a=!1,h()}}}function Re(r,l,s){let t,e;He(r,Ge,u=>s(6,e=u));let{leaf:n}=l,{depth:i=0}=l,{recursive:f=!1}=l,{parent:o=""}=l,{theme:v}=l;const b=Me(),_=(u,w,m)=>{b("elementClick",{event:u,element:w,href:m})},a=u=>_(u,n,`/technique/${n["@id"]}`);function h(u){Y.call(this,r,u)}return r.$$set=u=>{"leaf"in u&&s(0,n=u.leaf),"depth"in u&&s(1,i=u.depth),"recursive"in u&&s(2,f=u.recursive),"parent"in u&&s(3,o=u.parent),"theme"in u&&s(4,v=u.theme)},r.$$.update=()=>{r.$$.dirty&4&&s(5,t=f?"#f3f3f3":"white")},[n,i,f,o,v,t,e,_,a,h]}class de extends _e{constructor(l){super(),he(this,l,Re,Ke,$,{leaf:0,depth:1,recursive:2,parent:3,theme:4})}}const Ue=r=>({}),Ce=r=>({});function Ne(r,l,s){const t=r.slice();return t[23]=l[s],t}function De(r,l,s){const t=r.slice();return t[26]=l[s],t}function Ve(r,l,s){const t=r.slice();return t[26]=l[s],t}const We=r=>({}),Be=r=>({});function Ae(r){let l,s,t=M(r[0]),e=[];for(let i=0;i<t.length;i+=1)e[i]=Fe(Ne(r,t,i));const n=i=>q(e[i],1,1,()=>{e[i]=null});return{c(){l=V("div");for(let i=0;i<e.length;i+=1)e[i].c();this.h()},l(i){l=B(i,"DIV",{class:!0});var f=N(l);for(let o=0;o<e.length;o+=1)e[o].l(f);f.forEach(k),this.h()},h(){d(l,"class","tree-trunk svelte-q45eyw"),E(l,"tree-trunk-first",!r[2])},m(i,f){S(i,l,f);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(l,null);s=!0},p(i,f){if(f&1019){t=M(i[0]);let o;for(o=0;o<t.length;o+=1){const v=Ne(i,t,o);e[o]?(e[o].p(v,f),g(e[o],1)):(e[o]=Fe(v),e[o].c(),g(e[o],1),e[o].m(l,null))}for(T(),o=t.length;o<e.length;o+=1)n(o);P()}(!s||f&4)&&E(l,"tree-trunk-first",!i[2])},i(i){if(!s){for(let f=0;f<t.length;f+=1)g(e[f]);s=!0}},o(i){e=e.filter(Boolean);for(let f=0;f<e.length;f+=1)q(e[f]);s=!1},d(i){i&&k(l),x(e,i)}}}function Le(r){let l=(r[5],r[6]),s,t,e=Pe(r);return{c(){e.c(),s=L()},l(n){e.l(n),s=L()},m(n,i){e.m(n,i),S(n,s,i),t=!0},p(n,i){i&96&&$(l,l=(n[5],n[6]))?(T(),q(e,1,1,ue),P(),e=Pe(n),e.c(),g(e,1),e.m(s.parentNode,s)):e.p(n,i)},i(n){t||(g(e),t=!0)},o(n){q(e),t=!1},d(n){n&&k(s),e.d(n)}}}function Ye(r){let l,s,t=r[23]["rdfs:label"]+"",e,n,i,f,o;function v(...b){return r[17](r[23],...b)}return{c(){l=V("div"),s=V("a"),e=Z(t),this.h()},l(b){l=B(b,"DIV",{class:!0});var _=N(l);s=B(_,"A",{href:!0,class:!0});var a=N(s);e=G(a,t),a.forEach(k),_.forEach(k),this.h()},h(){d(s,"href",n="/technique/"+r[23]["@id"]),d(s,"class","svelte-q45eyw"),d(l,"class",i="tree-branch-fork tree-level-"+r[1]+" svelte-q45eyw"),E(l,"poster_border",r[4]==="poster")},m(b,_){S(b,l,_),C(l,s),C(s,e),f||(o=X(s,"click",ce(v)),f=!0)},p(b,_){r=b,_&1&&t!==(t=r[23]["rdfs:label"]+"")&&R(e,t),_&1&&n!==(n="/technique/"+r[23]["@id"])&&d(s,"href",n),_&2&&i!==(i="tree-branch-fork tree-level-"+r[1]+" svelte-q45eyw")&&d(l,"class",i),_&18&&E(l,"poster_border",r[4]==="poster")},d(b){b&&k(l),f=!1,o()}}}function $e(r){let l,s,t=r[23]["rdfs:label"]+"",e,n,i,f,o,v,b,_,a=r[23]["rdfs:label"]+"",h,u,w,m,p,A,D,F,U="+",Q,K,W;function re(){return r[13](r[23])}function c(){return r[14](r[23])}function y(...O){return r[15](r[23],...O)}function se(){return r[16](r[23])}return{c(){l=V("div"),s=V("div"),e=Z(t),i=j(),f=V("div"),o=Z("−"),b=j(),_=V("a"),h=Z(a),m=j(),p=V("div"),A=V("div"),D=V("div"),F=V("a"),F.textContent=U,this.h()},l(O){l=B(O,"DIV",{class:!0});var I=N(l);s=B(I,"DIV",{class:!0,title:!0});var me=N(s);e=G(me,t),me.forEach(k),i=z(I),f=B(I,"DIV",{class:!0,title:!0});var ve=N(f);o=G(ve,"−"),ve.forEach(k),b=z(I),_=B(I,"A",{class:!0,href:!0});var be=N(_);h=G(be,a),be.forEach(k),I.forEach(k),m=z(O),p=B(O,"DIV",{class:!0});var ke=N(p);A=B(ke,"DIV",{class:!0});var ge=N(A);D=B(ge,"DIV",{class:!0,title:!0});var pe=N(D);F=B(pe,"A",{class:!0,"data-svelte-h":!0}),Xe(F)!=="svelte-1h7ue1"&&(F.textContent=U),pe.forEach(k),ge.forEach(k),ke.forEach(k),this.h()},h(){d(s,"class","fork-open svelte-q45eyw"),d(s,"title",n="Expand "+r[23]["rdfs:label"]),E(s,"hide",!r[9](r[23])),d(f,"class","button-collapse small-button left svelte-q45eyw"),d(f,"title",v="Collapse "+r[23]["rdfs:label"]),E(f,"hide",r[9](r[23])),d(_,"class","center svelte-q45eyw"),d(_,"href",u="/tactic/"+r[23]["@id"]),E(_,"hide",r[9](r[23])),d(l,"class",w="tree-branch-fork tree-level-"+r[1]+" svelte-q45eyw"),E(l,"poster_border",r[4]=="poster"),d(F,"class","button-open small-button svelte-q45eyw"),d(D,"class","tree-branch-fork tree-level-1 svelte-q45eyw"),d(D,"title",Q="Expand "+r[23]["rdfs:label"]),d(A,"class","tree-branch svelte-q45eyw"),d(p,"class","tree-trunk svelte-q45eyw"),E(p,"hide",!r[9](r[23]))},m(O,I){S(O,l,I),C(l,s),C(s,e),C(l,i),C(l,f),C(f,o),C(l,b),C(l,_),C(_,h),S(O,m,I),S(O,p,I),C(p,A),C(A,D),C(D,F),K||(W=[X(s,"click",re),X(f,"click",c),X(_,"click",ce(y)),X(D,"click",se)],K=!0)},p(O,I){r=O,I&1&&t!==(t=r[23]["rdfs:label"]+"")&&R(e,t),I&1&&n!==(n="Expand "+r[23]["rdfs:label"])&&d(s,"title",n),I&513&&E(s,"hide",!r[9](r[23])),I&1&&v!==(v="Collapse "+r[23]["rdfs:label"])&&d(f,"title",v),I&513&&E(f,"hide",r[9](r[23])),I&1&&a!==(a=r[23]["rdfs:label"]+"")&&R(h,a),I&1&&u!==(u="/tactic/"+r[23]["@id"])&&d(_,"href",u),I&513&&E(_,"hide",r[9](r[23])),I&2&&w!==(w="tree-branch-fork tree-level-"+r[1]+" svelte-q45eyw")&&d(l,"class",w),I&18&&E(l,"poster_border",r[4]=="poster"),I&1&&Q!==(Q="Expand "+r[23]["rdfs:label"])&&d(D,"title",Q),I&513&&E(p,"hide",!r[9](r[23]))},d(O){O&&(k(l),k(m),k(p)),K=!1,Ze(W)}}}function xe(r){let l,s,t=M(H(r[23].children)),e=[];for(let i=0;i<t.length;i+=1)e[i]=Oe(Ve(r,t,i));const n=i=>q(e[i],1,1,()=>{e[i]=null});return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=L()},l(i){for(let f=0;f<e.length;f+=1)e[f].l(i);l=L()},m(i,f){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(i,f);S(i,l,f),s=!0},p(i,f){if(f&17){t=M(H(i[23].children));let o;for(o=0;o<t.length;o+=1){const v=Ve(i,t,o);e[o]?(e[o].p(v,f),g(e[o],1)):(e[o]=Oe(v),e[o].c(),g(e[o],1),e[o].m(l.parentNode,l))}for(T(),o=t.length;o<e.length;o+=1)n(o);P()}},i(i){if(!s){for(let f=0;f<t.length;f+=1)g(e[f]);s=!0}},o(i){e=e.filter(Boolean);for(let f=0;f<e.length;f+=1)q(e[f]);s=!1},d(i){i&&k(l),x(e,i)}}}function el(r){let l,s,t=r[23].children&&Te(r);return{c(){t&&t.c(),l=L()},l(e){t&&t.l(e),l=L()},m(e,n){t&&t.m(e,n),S(e,l,n),s=!0},p(e,n){e[23].children?t?(t.p(e,n),n&1&&g(t,1)):(t=Te(e),t.c(),g(t,1),t.m(l.parentNode,l)):t&&(T(),q(t,1,1,()=>{t=null}),P())},i(e){s||(g(t),s=!0)},o(e){q(t),s=!1},d(e){e&&k(l),t&&t.d(e)}}}function Oe(r){let l,s;return l=new de({props:{leaf:r[26],theme:r[4]}}),l.$on("elementClick",r[19]),{c(){ee(l.$$.fragment)},l(t){le(l.$$.fragment,t)},m(t,e){te(l,t,e),s=!0},p(t,e){const n={};e&1&&(n.leaf=t[26]),e&16&&(n.theme=t[4]),l.$set(n)},i(t){s||(g(l.$$.fragment,t),s=!0)},o(t){q(l.$$.fragment,t),s=!1},d(t){ie(l,t)}}}function Te(r){let l,s;return l=new il({props:{tree:H(r[23].children),treeLevel:r[1]+1,recursive:!0,theme:r[4]}}),l.$on("elementClick",r[18]),{c(){ee(l.$$.fragment)},l(t){le(l.$$.fragment,t)},m(t,e){te(l,t,e),s=!0},p(t,e){const n={};e&1&&(n.tree=H(t[23].children)),e&2&&(n.treeLevel=t[1]+1),e&16&&(n.theme=t[4]),l.$set(n)},i(t){s||(g(l.$$.fragment,t),s=!0)},o(t){q(l.$$.fragment,t),s=!1},d(t){ie(l,t)}}}function Pe(r){let l,s,t,e,n;function i(a,h){return a[1]==0?$e:Ye}let f=i(r),o=f(r);const v=[el,xe],b=[];function _(a,h){return a[1]<a[3]?0:a[23].children?1:-1}return~(t=_(r))&&(e=b[t]=v[t](r)),{c(){l=V("div"),o.c(),s=j(),e&&e.c(),this.h()},l(a){l=B(a,"DIV",{class:!0});var h=N(l);o.l(h),s=z(h),e&&e.l(h),h.forEach(k),this.h()},h(){d(l,"class","tree-branch svelte-q45eyw"),E(l,"hide_sibling",r[1]==0&&r[9](r[23]))},m(a,h){S(a,l,h),o.m(l,null),C(l,s),~t&&b[t].m(l,null),n=!0},p(a,h){f===(f=i(a))&&o?o.p(a,h):(o.d(1),o=f(a),o&&(o.c(),o.m(l,s)));let u=t;t=_(a),t===u?~t&&b[t].p(a,h):(e&&(T(),q(b[u],1,1,()=>{b[u]=null}),P()),~t?(e=b[t],e?e.p(a,h):(e=b[t]=v[t](a),e.c()),g(e,1),e.m(l,null)):e=null),(!n||h&515)&&E(l,"hide_sibling",a[1]==0&&a[9](a[23]))},i(a){n||(g(e),n=!0)},o(a){q(e),n=!1},d(a){a&&k(l),o.d(),~t&&b[t].d()}}}function je(r){let l,s,t,e=r[23].children&&ze(r);return{c(){l=V("div"),e&&e.c(),s=j(),this.h()},l(n){l=B(n,"DIV",{class:!0});var i=N(l);e&&e.l(i),s=z(i),i.forEach(k),this.h()},h(){d(l,"class","tree-branch test svelte-q45eyw")},m(n,i){S(n,l,i),e&&e.m(l,null),C(l,s),t=!0},p(n,i){n[23].children?e?(e.p(n,i),i&1&&g(e,1)):(e=ze(n),e.c(),g(e,1),e.m(l,s)):e&&(T(),q(e,1,1,()=>{e=null}),P())},i(n){t||(g(e),t=!0)},o(n){q(e),t=!1},d(n){n&&k(l),e&&e.d()}}}function ze(r){let l,s,t=M(H(r[23].children)),e=[];for(let i=0;i<t.length;i+=1)e[i]=Je(De(r,t,i));const n=i=>q(e[i],1,1,()=>{e[i]=null});return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=L()},l(i){for(let f=0;f<e.length;f+=1)e[f].l(i);l=L()},m(i,f){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(i,f);S(i,l,f),s=!0},p(i,f){if(f&17){t=M(H(i[23].children));let o;for(o=0;o<t.length;o+=1){const v=De(i,t,o);e[o]?(e[o].p(v,f),g(e[o],1)):(e[o]=Je(v),e[o].c(),g(e[o],1),e[o].m(l.parentNode,l))}for(T(),o=t.length;o<e.length;o+=1)n(o);P()}},i(i){if(!s){for(let f=0;f<t.length;f+=1)g(e[f]);s=!0}},o(i){e=e.filter(Boolean);for(let f=0;f<e.length;f+=1)q(e[f]);s=!1},d(i){i&&k(l),x(e,i)}}}function Je(r){let l,s;return l=new de({props:{leaf:r[26],theme:r[4]}}),l.$on("elementClick",r[20]),{c(){ee(l.$$.fragment)},l(t){le(l.$$.fragment,t)},m(t,e){te(l,t,e),s=!0},p(t,e){const n={};e&1&&(n.leaf=t[26]),e&16&&(n.theme=t[4]),l.$set(n)},i(t){s||(g(l.$$.fragment,t),s=!0)},o(t){q(l.$$.fragment,t),s=!1},d(t){ie(l,t)}}}function Fe(r){let l,s,t,e=r[1]<=r[3]&&Le(r),n=r[1]>r[3]&&je(r);return{c(){e&&e.c(),l=j(),n&&n.c(),s=L()},l(i){e&&e.l(i),l=z(i),n&&n.l(i),s=L()},m(i,f){e&&e.m(i,f),S(i,l,f),n&&n.m(i,f),S(i,s,f),t=!0},p(i,f){i[1]<=i[3]?e?(e.p(i,f),f&10&&g(e,1)):(e=Le(i),e.c(),g(e,1),e.m(l.parentNode,l)):e&&(T(),q(e,1,1,()=>{e=null}),P()),i[1]>i[3]?n?(n.p(i,f),f&10&&g(n,1)):(n=je(i),n.c(),g(n,1),n.m(s.parentNode,s)):n&&(T(),q(n,1,1,()=>{n=null}),P())},i(i){t||(g(e),g(n),t=!0)},o(i){q(e),q(n),t=!1},d(i){i&&(k(l),k(s)),e&&e.d(i),n&&n.d(i)}}}function ll(r){let l,s,t,e;const n=r[12].above,i=ne(n,r,r[11],Be);let f=r[0].length>0&&Ae(r);const o=r[12].default,v=ne(o,r,r[11],null),b=r[12].below,_=ne(b,r,r[11],Ce);return{c(){i&&i.c(),l=j(),f&&f.c(),s=j(),v&&v.c(),t=j(),_&&_.c()},l(a){i&&i.l(a),l=z(a),f&&f.l(a),s=z(a),v&&v.l(a),t=z(a),_&&_.l(a)},m(a,h){i&&i.m(a,h),S(a,l,h),f&&f.m(a,h),S(a,s,h),v&&v.m(a,h),S(a,t,h),_&&_.m(a,h),e=!0},p(a,[h]){i&&i.p&&(!e||h&2048)&&fe(i,n,a,a[11],e?ae(n,a[11],h,We):oe(a[11]),Be),a[0].length>0?f?(f.p(a,h),h&1&&g(f,1)):(f=Ae(a),f.c(),g(f,1),f.m(s.parentNode,s)):f&&(T(),q(f,1,1,()=>{f=null}),P()),v&&v.p&&(!e||h&2048)&&fe(v,o,a,a[11],e?ae(o,a[11],h,null):oe(a[11]),null),_&&_.p&&(!e||h&2048)&&fe(_,b,a,a[11],e?ae(b,a[11],h,Ue):oe(a[11]),Ce)},i(a){e||(g(i,a),g(f),g(v,a),g(_,a),e=!0)},o(a){q(i,a),q(f),q(v,a),q(_,a),e=!1},d(a){a&&(k(l),k(s),k(t)),i&&i.d(a),f&&f.d(a),v&&v.d(a),_&&_.d(a)}}}function tl(r,l,s){let{$$slots:t={},$$scope:e}=l,{tree:n}=l,{treeLevel:i=0}=l,{recursive:f=!1}=l,{row_depth:o=1}=l,{theme:v}=l,{min_display_priority:b=0}=l;const _=Me();function a(c,y,se){_("elementClick",{event:c,element:y,href:se})}i>0&&n.sort((c,y)=>c["@id"].localeCompare(y["@id"]));let h=new Set,u=new Set;Qe(async()=>{if(localStorage.getItem("show_set"))try{JSON.parse(localStorage.getItem("show_set")).forEach(c=>h.add(c))}catch{console.warn("Failed to load show_set from localeStorage, deleting show_set"),localStorage.removeItem("show_set"),s(5,h)}if(localStorage.getItem("hide_set"))try{JSON.parse(localStorage.getItem("hide_set")).forEach(c=>u.add(c)),s(6,u)}catch{console.warn("Failed to load hide_set from localeStorage, deleting hide_set"),localStorage.removeItem("hide_set")}});function w(c){if(c["d3f:display-order"]){if(c["d3f:display-order"]["@value"]>=b)return console.debug(c["@id"]+" meets min priority of "+b),!0}else return console.debug(c["@id"]+" is less than min priority of "+b),!1}function m(c){let y=c["@id"];console.debug("before"),console.debug("show: "+Array.from(h)),console.debug("hide: "+Array.from(u)),h.has(y)?(h.delete(y),u.add(y)):u.has(y)?(h.add(y),u.delete(y)):u.has(y)&&h.has(y)?(h.delete(y),u.delete(y)):!u.has(y)&&!h.has(y)&&w(c)?u.add(y):h.add(y),s(5,h),s(6,u),h&&localStorage.setItem("show_set",JSON.stringify([...h])),u&&localStorage.setItem("hide_set",JSON.stringify([...u])),console.debug("after"),console.debug("show: "+Array.from(h)),console.debug("hide: "+Array.from(u))}function p(c){return console.debug(`Status for Branch: ${c["@id"]}`),w(c)&&console.debug(`	Branch ${c["@id"]} meets minimum priority`),h.has(c["@id"])&&console.debug(`	Branch ${c["@id"]} is in show_set`),u.has(c["@id"])?console.debug(`	Branch ${c["@id"]} is in hide_set`):console.debug(`	Branch ${c["@id"]} is not in hide_set`),!((w(c)||h.has(c["@id"]))&&!u.has(c["@id"]))}const A=c=>m(c),D=c=>m(c),F=(c,y)=>a(y,c,`/tactic/${c["@id"]}`),U=c=>m(c),Q=(c,y)=>a(y,c,`/technique/${c["@id"]}`);function K(c){Y.call(this,r,c)}function W(c){Y.call(this,r,c)}function re(c){Y.call(this,r,c)}return r.$$set=c=>{"tree"in c&&s(0,n=c.tree),"treeLevel"in c&&s(1,i=c.treeLevel),"recursive"in c&&s(2,f=c.recursive),"row_depth"in c&&s(3,o=c.row_depth),"theme"in c&&s(4,v=c.theme),"min_display_priority"in c&&s(10,b=c.min_display_priority),"$$scope"in c&&s(11,e=c.$$scope)},[n,i,f,o,v,h,u,a,m,p,b,e,t,A,D,F,U,Q,K,W,re]}class il extends _e{constructor(l){super(),he(this,l,tl,ll,$,{tree:0,treeLevel:1,recursive:2,row_depth:3,theme:4,min_display_priority:10})}}function rl(r){let l,s,t;return{c(){l=we("svg"),s=we("circle"),this.h()},l(e){l=qe(e,"svg",{height:!0,width:!0,style:!0,class:!0,viewBox:!0});var n=N(l);s=qe(n,"circle",{role:!0,cx:!0,cy:!0,r:!0,stroke:!0,fill:!0,"stroke-width":!0,"stroke-dasharray":!0,"stroke-linecap":!0}),N(s).forEach(k),n.forEach(k),this.h()},h(){d(s,"role","presentation"),d(s,"cx","16"),d(s,"cy","16"),d(s,"r",r[4]),d(s,"stroke",r[2]),d(s,"fill","none"),d(s,"stroke-width",r[3]),d(s,"stroke-dasharray",t=r[7]+",100"),d(s,"stroke-linecap","round"),d(l,"height",r[0]),d(l,"width",r[0]),J(l,"animation-duration",r[1]+"ms"),J(l,"display",r[5]),J(l,"margin",r[6]),d(l,"class","svelte-spinner svelte-1195q9f"),d(l,"viewBox","0 0 32 32")},m(e,n){S(e,l,n),C(l,s)},p(e,[n]){n&16&&d(s,"r",e[4]),n&4&&d(s,"stroke",e[2]),n&8&&d(s,"stroke-width",e[3]),n&128&&t!==(t=e[7]+",100")&&d(s,"stroke-dasharray",t),n&1&&d(l,"height",e[0]),n&1&&d(l,"width",e[0]),n&2&&J(l,"animation-duration",e[1]+"ms"),n&32&&J(l,"display",e[5]),n&64&&J(l,"margin",e[6])},i:ue,o:ue,d(e){e&&k(l)}}}function sl(r,l,s){let{size:t=25}=l,{speed:e=750}=l,{color:n="rgba(0,0,0,0.4)"}=l,{thickness:i=2}=l,{gap:f=40}=l,{radius:o=10}=l,{display:v="block"}=l,{margin:b="auto"}=l,_;return r.$$set=a=>{"size"in a&&s(0,t=a.size),"speed"in a&&s(1,e=a.speed),"color"in a&&s(2,n=a.color),"thickness"in a&&s(3,i=a.thickness),"gap"in a&&s(8,f=a.gap),"radius"in a&&s(4,o=a.radius),"display"in a&&s(5,v=a.display),"margin"in a&&s(6,b=a.margin)},r.$$.update=()=>{r.$$.dirty&272&&s(7,_=2*Math.PI*o*(100-f)/100)},[t,e,n,i,o,v,b,_,f]}class _l extends _e{constructor(l){super(),he(this,l,sl,rl,$,{size:0,speed:1,color:2,thickness:3,gap:8,radius:4,display:5,margin:6})}}export{_l as L,il as T};
