import{s as _e,c as qe,e as Be,d as Le,f as re,i as V,r as E,F as le,k as Q,P as De,u as je,g as Je,a as Qe,x as wt,ao as tn,o as U,b as He,t as Zt,j as Ie,h as Ft,m as pt,a2 as ve,_ as Ce,$ as nt,al as pe,y as Ye,as as J,D as ae,Q as Se,p as Me,R as Ee,am as nn,E as mn,O as on,Y as bn,J as Rn,at as Ji,I as Qi,S as ln,W as ke,l as We,n as we,a1 as Vt,v as sl,a0 as rl,ak as al,an as ul,au as fl,w as $n,Z as ei}from"./scheduler.xR-uXgLO.js";import{S as me,i as be,t as X,a as F,c as ue,b as ge,m as fe,d as ce,g as Ae,e as Xe}from"./index.BpaDVXPB.js";import{g as ft,a as Yt}from"./spread.CgU5AtxT.js";import{w as ie,r as $e,d as vt}from"./index.iaz6iIjv.js";import{e as kt,u as yn,o as _n}from"./each.BfH-wj2E.js";import{g as cl}from"./globals.D0QH3NT1.js";import{s as xe,k as xi,l as Zn,T as Dn,m as Hn,t as dl}from"./transform.B54KPHx3.js";function hl(t){let e;for(;e=t.sourceEvent;)t=e;return t}function et(t,e){if(t=hl(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const gl={passive:!1},Lt={capture:!0,passive:!1};function In(t){t.stopImmediatePropagation()}function Tt(t){t.preventDefault(),t.stopImmediatePropagation()}function $i(t){var e=t.document.documentElement,n=xe(t).on("dragstart.drag",Tt,Lt);"onselectstart"in e?n.on("selectstart.drag",Tt,Lt):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function eo(t,e){var n=t.document.documentElement,i=xe(t).on("dragstart.drag",null);e&&(i.on("click.drag",Tt,Lt),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Jt=t=>()=>t;function Xn(t,{sourceEvent:e,subject:n,target:i,identifier:o,active:s,x:r,y:l,dx:a,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:r,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}Xn.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function ml(t){return!t.ctrlKey&&!t.button}function bl(){return this.parentNode}function yl(t,e){return e??{x:t.x,y:t.y}}function _l(){return navigator.maxTouchPoints||"ontouchstart"in this}function to(){var t=ml,e=bl,n=yl,i=_l,o={},s=xi("start","drag","end"),r=0,l,a,u,f,h=0;function c(C){C.on("mousedown.drag",d).filter(i).on("touchstart.drag",y).on("touchmove.drag",g,gl).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(C,A){if(!(f||!t.call(this,C,A))){var K=w(this,e.call(this,C,A),C,A,"mouse");K&&(xe(C.view).on("mousemove.drag",b,Lt).on("mouseup.drag",m,Lt),$i(C.view),In(C),u=!1,l=C.clientX,a=C.clientY,K("start",C))}}function b(C){if(Tt(C),!u){var A=C.clientX-l,K=C.clientY-a;u=A*A+K*K>h}o.mouse("drag",C)}function m(C){xe(C.view).on("mousemove.drag mouseup.drag",null),eo(C.view,u),Tt(C),o.mouse("end",C)}function y(C,A){if(t.call(this,C,A)){var K=C.changedTouches,N=e.call(this,C,A),H=K.length,D,W;for(D=0;D<H;++D)(W=w(this,N,C,A,K[D].identifier,K[D]))&&(In(C),W("start",C,K[D]))}}function g(C){var A=C.changedTouches,K=A.length,N,H;for(N=0;N<K;++N)(H=o[A[N].identifier])&&(Tt(C),H("drag",C,A[N]))}function S(C){var A=C.changedTouches,K=A.length,N,H;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),N=0;N<K;++N)(H=o[A[N].identifier])&&(In(C),H("end",C,A[N]))}function w(C,A,K,N,H,D){var W=s.copy(),p=et(D||K,A),B,R,_;if((_=n.call(C,new Xn("beforestart",{sourceEvent:K,target:c,identifier:H,active:r,x:p[0],y:p[1],dx:0,dy:0,dispatch:W}),N))!=null)return B=_.x-p[0]||0,R=_.y-p[1]||0,function I(k,P,O){var z=p,Y;switch(k){case"start":o[H]=I,Y=r++;break;case"end":delete o[H],--r;case"drag":p=et(O||P,A),Y=r;break}W.call(k,C,new Xn(k,{sourceEvent:P,subject:_,target:c,identifier:H,active:Y,x:p[0]+B,y:p[1]+R,dx:p[0]-z[0],dy:p[1]-z[1],dispatch:W}),N)}}return c.filter=function(C){return arguments.length?(t=typeof C=="function"?C:Jt(!!C),c):t},c.container=function(C){return arguments.length?(e=typeof C=="function"?C:Jt(C),c):e},c.subject=function(C){return arguments.length?(n=typeof C=="function"?C:Jt(C),c):n},c.touchable=function(C){return arguments.length?(i=typeof C=="function"?C:Jt(!!C),c):i},c.on=function(){var C=s.on.apply(s,arguments);return C===s?c:C},c.clickDistance=function(C){return arguments.length?(h=(C=+C)*C,c):Math.sqrt(h)},c}var kl=1e-12;function ti(t){return((t=Math.exp(t))+1/t)/2}function wl(t){return((t=Math.exp(t))-1/t)/2}function Sl(t){return((t=Math.exp(2*t))-1)/(t+1)}const El=function t(e,n,i){function o(s,r){var l=s[0],a=s[1],u=s[2],f=r[0],h=r[1],c=r[2],d=f-l,b=h-a,m=d*d+b*b,y,g;if(m<kl)g=Math.log(c/u)/e,y=function(N){return[l+N*d,a+N*b,u*Math.exp(e*N*g)]};else{var S=Math.sqrt(m),w=(c*c-u*u+i*m)/(2*u*n*S),C=(c*c-u*u-i*m)/(2*c*n*S),A=Math.log(Math.sqrt(w*w+1)-w),K=Math.log(Math.sqrt(C*C+1)-C);g=(K-A)/e,y=function(N){var H=N*g,D=ti(A),W=u/(n*S)*(D*Sl(e*H+A)-wl(A));return[l+W*d,a+W*b,u*D/ti(e*H+A)]}}return y.duration=g*1e3*e/Math.SQRT2,y}return o.rho=function(s){var r=Math.max(.001,+s),l=r*r,a=l*l;return t(r,l,a)},o}(Math.SQRT2,2,4),Qt=t=>()=>t;function Cl(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function vn(t){t.stopImmediatePropagation()}function Wt(t){t.preventDefault(),t.stopImmediatePropagation()}function Ml(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Pl(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function ni(){return this.__zoom||Zn}function zl(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Ol(){return navigator.maxTouchPoints||"ontouchstart"in this}function Dl(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],r=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),r>s?(s+r)/2:Math.min(0,s)||Math.max(0,r))}function no(){var t=Ml,e=Pl,n=Dl,i=zl,o=Ol,s=[0,1/0],r=[[-1/0,-1/0],[1/0,1/0]],l=250,a=El,u=xi("start","zoom","end"),f,h,c,d=500,b=150,m=0,y=10;function g(_){_.property("__zoom",ni).on("wheel.zoom",H,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",W).filter(o).on("touchstart.zoom",p).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",R).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(_,I,k,P){var O=_.selection?_.selection():_;O.property("__zoom",ni),_!==O?A(_,I,k,P):O.interrupt().each(function(){K(this,arguments).event(P).start().zoom(null,typeof I=="function"?I.apply(this,arguments):I).end()})},g.scaleBy=function(_,I,k,P){g.scaleTo(_,function(){var O=this.__zoom.k,z=typeof I=="function"?I.apply(this,arguments):I;return O*z},k,P)},g.scaleTo=function(_,I,k,P){g.transform(_,function(){var O=e.apply(this,arguments),z=this.__zoom,Y=k==null?C(O):typeof k=="function"?k.apply(this,arguments):k,G=z.invert(Y),q=typeof I=="function"?I.apply(this,arguments):I;return n(w(S(z,q),Y,G),O,r)},k,P)},g.translateBy=function(_,I,k,P){g.transform(_,function(){return n(this.__zoom.translate(typeof I=="function"?I.apply(this,arguments):I,typeof k=="function"?k.apply(this,arguments):k),e.apply(this,arguments),r)},null,P)},g.translateTo=function(_,I,k,P,O){g.transform(_,function(){var z=e.apply(this,arguments),Y=this.__zoom,G=P==null?C(z):typeof P=="function"?P.apply(this,arguments):P;return n(Zn.translate(G[0],G[1]).scale(Y.k).translate(typeof I=="function"?-I.apply(this,arguments):-I,typeof k=="function"?-k.apply(this,arguments):-k),z,r)},P,O)};function S(_,I){return I=Math.max(s[0],Math.min(s[1],I)),I===_.k?_:new Dn(I,_.x,_.y)}function w(_,I,k){var P=I[0]-k[0]*_.k,O=I[1]-k[1]*_.k;return P===_.x&&O===_.y?_:new Dn(_.k,P,O)}function C(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function A(_,I,k,P){_.on("start.zoom",function(){K(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){K(this,arguments).event(P).end()}).tween("zoom",function(){var O=this,z=arguments,Y=K(O,z).event(P),G=e.apply(O,z),q=k==null?C(G):typeof k=="function"?k.apply(O,z):k,j=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),T=O.__zoom,ee=typeof I=="function"?I.apply(O,z):I,te=a(T.invert(q).concat(j/T.k),ee.invert(q).concat(j/ee.k));return function(v){if(v===1)v=ee;else{var ne=te(v),oe=j/ne[2];v=new Dn(oe,q[0]-ne[0]*oe,q[1]-ne[1]*oe)}Y.zoom(null,v)}})}function K(_,I,k){return!k&&_.__zooming||new N(_,I)}function N(_,I){this.that=_,this.args=I,this.active=0,this.sourceEvent=null,this.extent=e.apply(_,I),this.taps=0}N.prototype={event:function(_){return _&&(this.sourceEvent=_),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(_,I){return this.mouse&&_!=="mouse"&&(this.mouse[1]=I.invert(this.mouse[0])),this.touch0&&_!=="touch"&&(this.touch0[1]=I.invert(this.touch0[0])),this.touch1&&_!=="touch"&&(this.touch1[1]=I.invert(this.touch1[0])),this.that.__zoom=I,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(_){var I=xe(this.that).datum();u.call(_,this.that,new Cl(_,{sourceEvent:this.sourceEvent,target:g,type:_,transform:this.that.__zoom,dispatch:u}),I)}};function H(_,...I){if(!t.apply(this,arguments))return;var k=K(this,I).event(_),P=this.__zoom,O=Math.max(s[0],Math.min(s[1],P.k*Math.pow(2,i.apply(this,arguments)))),z=et(_);if(k.wheel)(k.mouse[0][0]!==z[0]||k.mouse[0][1]!==z[1])&&(k.mouse[1]=P.invert(k.mouse[0]=z)),clearTimeout(k.wheel);else{if(P.k===O)return;k.mouse=[z,P.invert(z)],Hn(this),k.start()}Wt(_),k.wheel=setTimeout(Y,b),k.zoom("mouse",n(w(S(P,O),k.mouse[0],k.mouse[1]),k.extent,r));function Y(){k.wheel=null,k.end()}}function D(_,...I){if(c||!t.apply(this,arguments))return;var k=_.currentTarget,P=K(this,I,!0).event(_),O=xe(_.view).on("mousemove.zoom",q,!0).on("mouseup.zoom",j,!0),z=et(_,k),Y=_.clientX,G=_.clientY;$i(_.view),vn(_),P.mouse=[z,this.__zoom.invert(z)],Hn(this),P.start();function q(T){if(Wt(T),!P.moved){var ee=T.clientX-Y,te=T.clientY-G;P.moved=ee*ee+te*te>m}P.event(T).zoom("mouse",n(w(P.that.__zoom,P.mouse[0]=et(T,k),P.mouse[1]),P.extent,r))}function j(T){O.on("mousemove.zoom mouseup.zoom",null),eo(T.view,P.moved),Wt(T),P.event(T).end()}}function W(_,...I){if(t.apply(this,arguments)){var k=this.__zoom,P=et(_.changedTouches?_.changedTouches[0]:_,this),O=k.invert(P),z=k.k*(_.shiftKey?.5:2),Y=n(w(S(k,z),P,O),e.apply(this,I),r);Wt(_),l>0?xe(this).transition().duration(l).call(A,Y,P,_):xe(this).call(g.transform,Y,P,_)}}function p(_,...I){if(t.apply(this,arguments)){var k=_.touches,P=k.length,O=K(this,I,_.changedTouches.length===P).event(_),z,Y,G,q;for(vn(_),Y=0;Y<P;++Y)G=k[Y],q=et(G,this),q=[q,this.__zoom.invert(q),G.identifier],O.touch0?!O.touch1&&O.touch0[2]!==q[2]&&(O.touch1=q,O.taps=0):(O.touch0=q,z=!0,O.taps=1+!!f);f&&(f=clearTimeout(f)),z&&(O.taps<2&&(h=q[0],f=setTimeout(function(){f=null},d)),Hn(this),O.start())}}function B(_,...I){if(this.__zooming){var k=K(this,I).event(_),P=_.changedTouches,O=P.length,z,Y,G,q;for(Wt(_),z=0;z<O;++z)Y=P[z],G=et(Y,this),k.touch0&&k.touch0[2]===Y.identifier?k.touch0[0]=G:k.touch1&&k.touch1[2]===Y.identifier&&(k.touch1[0]=G);if(Y=k.that.__zoom,k.touch1){var j=k.touch0[0],T=k.touch0[1],ee=k.touch1[0],te=k.touch1[1],v=(v=ee[0]-j[0])*v+(v=ee[1]-j[1])*v,ne=(ne=te[0]-T[0])*ne+(ne=te[1]-T[1])*ne;Y=S(Y,Math.sqrt(v/ne)),G=[(j[0]+ee[0])/2,(j[1]+ee[1])/2],q=[(T[0]+te[0])/2,(T[1]+te[1])/2]}else if(k.touch0)G=k.touch0[0],q=k.touch0[1];else return;k.zoom("touch",n(w(Y,G,q),k.extent,r))}}function R(_,...I){if(this.__zooming){var k=K(this,I).event(_),P=_.changedTouches,O=P.length,z,Y;for(vn(_),c&&clearTimeout(c),c=setTimeout(function(){c=null},d),z=0;z<O;++z)Y=P[z],k.touch0&&k.touch0[2]===Y.identifier?delete k.touch0:k.touch1&&k.touch1[2]===Y.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(Y=et(Y,this),Math.hypot(h[0]-Y[0],h[1]-Y[1])<y)){var G=xe(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return g.wheelDelta=function(_){return arguments.length?(i=typeof _=="function"?_:Qt(+_),g):i},g.filter=function(_){return arguments.length?(t=typeof _=="function"?_:Qt(!!_),g):t},g.touchable=function(_){return arguments.length?(o=typeof _=="function"?_:Qt(!!_),g):o},g.extent=function(_){return arguments.length?(e=typeof _=="function"?_:Qt([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),g):e},g.scaleExtent=function(_){return arguments.length?(s[0]=+_[0],s[1]=+_[1],g):[s[0],s[1]]},g.translateExtent=function(_){return arguments.length?(r[0][0]=+_[0][0],r[1][0]=+_[1][0],r[0][1]=+_[0][1],r[1][1]=+_[1][1],g):[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},g.constrain=function(_){return arguments.length?(n=_,g):n},g.duration=function(_){return arguments.length?(l=+_,g):l},g.interpolate=function(_){return arguments.length?(a=_,g):a},g.on=function(){var _=u.on.apply(u,arguments);return _===u?g:_},g.clickDistance=function(_){return arguments.length?(m=(_=+_)*_,g):Math.sqrt(m)},g.tapDistance=function(_){return arguments.length?(y=+_,g):y},g}function Pe(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,i;n<t.length;n++)(i=Pe(t[n]))!==""&&(e+=(e&&" ")+i);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}const Gt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:i}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`},sn=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Et;(function(t){t.Strict="strict",t.Loose="loose"})(Et||(Et={}));var ot;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(ot||(ot={}));var rn;(function(t){t.Partial="partial",t.Full="full"})(rn||(rn={}));const Wn={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Nt;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Nt||(Nt={}));var an;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(an||(an={}));var he;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(he||(he={}));const ii={[he.Left]:he.Right,[he.Right]:he.Left,[he.Top]:he.Bottom,[he.Bottom]:he.Top};function Hl(t,e){if(!t&&!e)return!0;if(!t||!e||t.size!==e.size)return!1;if(!t.size&&!e.size)return!0;for(const n of t.keys())if(!e.has(n))return!1;return!0}function oi(t,e,n){if(!n)return;const i=[];t.forEach((o,s)=>{e!=null&&e.has(s)||i.push(o)}),i.length&&n(i)}function li(t){return t===null?null:t?"valid":"invalid"}const Il=t=>"id"in t&&"source"in t&&"target"in t,Du=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),Fn=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),kn=(t,e=[0,0])=>{const{width:n,height:i}=Ct(t),o=t.origin??e,s=n*o[0],r=i*o[1];return{x:t.position.x-s,y:t.position.y-r}},Hu=(t,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((i,o)=>{const s=typeof o=="string";let r=!e.nodeLookup&&!s?o:void 0;e.nodeLookup&&(r=s?e.nodeLookup.get(o):Fn(o)?o:e.nodeLookup.get(o.id));const l=r?un(r,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return wn(i,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Sn(n)},Ut=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(i=>{if(e.filter===void 0||e.filter(i)){const o=un(i);n=wn(n,o)}}),Sn(n)},io=(t,e,[n,i,o]=[0,0,1],s=!1,r=!1)=>{const l={...Cn(e,[n,i,o]),width:e.width/o,height:e.height/o},a=[];for(const u of t.values()){const{measured:f,selectable:h=!0,hidden:c=!1}=u;if(r&&!h||c)continue;const d=f.width??u.width??u.initialWidth??null,b=f.height??u.height??u.initialHeight??null,m=pn(l,En(u)),y=(d??0)*(b??0),g=s&&m>0;(!u.internals.handleBounds||g||m>=y||u.dragging)&&a.push(u)}return a},Bn=(t,e)=>{const n=new Set;return t.forEach(i=>{n.add(i.id)}),e.filter(i=>n.has(i.source)||n.has(i.target))};function si(t,e){const n=new Map,i=e!=null&&e.nodes?new Set(e.nodes.map(o=>o.id)):null;return t.forEach(o=>{o.measured.width&&o.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!o.hidden)&&(!i||i.has(o.id))&&n.set(o.id,o)}),n}async function ri({nodes:t,width:e,height:n,panZoom:i,minZoom:o,maxZoom:s},r){if(t.size===0)return Promise.resolve(!1);const l=Ut(t),a=ro(l,e,n,(r==null?void 0:r.minZoom)??o,(r==null?void 0:r.maxZoom)??s,(r==null?void 0:r.padding)??.1);return await i.setViewport(a,{duration:r==null?void 0:r.duration}),Promise.resolve(!0)}function vl({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:o,onError:s}){const r=n.get(t),l=r.parentId?n.get(r.parentId):void 0,{x:a,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},f=r.origin??i;let h=o;if(r.extent==="parent"&&!r.expandParent)if(!l)s==null||s("005",Gt.error005());else{const d=l.measured.width,b=l.measured.height;d&&b&&(h=[[a,u],[a+d,u+b]])}else l&&Kt(r.extent)&&(h=[[r.extent[0][0]+a,r.extent[0][1]+u],[r.extent[1][0]+a,r.extent[1][1]+u]]);const c=Kt(h)?Xt(e,h,r.measured):e;return{position:{x:c.x-a+r.measured.width*f[0],y:c.y-u+r.measured.height*f[1]},positionAbsolute:c}}async function Tl({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:i,onBeforeDelete:o}){const s=new Set(t.map(c=>c.id)),r=[];for(const c of n){if(c.deletable===!1)continue;const d=s.has(c.id),b=!d&&c.parentId&&r.find(m=>m.id===c.parentId);(d||b)&&r.push(c)}const l=new Set(e.map(c=>c.id)),a=i.filter(c=>c.deletable!==!1),f=Bn(r,a);for(const c of a)l.has(c.id)&&!f.find(b=>b.id===c.id)&&f.push(c);if(!o)return{edges:f,nodes:r};const h=await o({nodes:r,edges:f});return typeof h=="boolean"?h?{edges:f,nodes:r}:{edges:[],nodes:[]}:h}const At=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Xt=(t={x:0,y:0},e,n)=>({x:At(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:At(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function oo(t,e,n){const{width:i,height:o}=Ct(n),{x:s,y:r}=n.internals.positionAbsolute;return Xt(t,[[s,r],[s+i,r+o]],e)}const ai=(t,e,n)=>t<e?At(Math.abs(t-e),1,e)/e:t>n?-At(Math.abs(t-n),1,e)/e:0,lo=(t,e,n=15,i=40)=>{const o=ai(t.x,i,e.width-i)*n,s=ai(t.y,i,e.height-i)*n;return[o,s]},wn=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Ln=({x:t,y:e,width:n,height:i})=>({x:t,y:e,x2:t+n,y2:e+i}),Sn=({x:t,y:e,x2:n,y2:i})=>({x:t,y:e,width:n-t,height:i-e}),En=(t,e=[0,0])=>{var o,s;const{x:n,y:i}=Fn(t)?t.internals.positionAbsolute:kn(t,e);return{x:n,y:i,width:((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0,height:((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0}},un=(t,e=[0,0])=>{var o,s;const{x:n,y:i}=Fn(t)?t.internals.positionAbsolute:kn(t,e);return{x:n,y:i,x2:n+(((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0),y2:i+(((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0)}},so=(t,e)=>Sn(wn(Ln(t),Ln(e))),pn=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),i=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*i)},Iu=t=>tt(t.width)&&tt(t.height)&&tt(t.x)&&tt(t.y),tt=t=>!isNaN(t)&&isFinite(t),Nl=(t,e)=>{},Gn=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),Cn=({x:t,y:e},[n,i,o],s=!1,r=[1,1])=>{const l={x:(t-n)/o,y:(e-i)/o};return s?Gn(l,r):l},Vl=({x:t,y:e},[n,i,o])=>({x:t*o+n,y:e*o+i}),ro=(t,e,n,i,o,s)=>{const r=e/(t.width*(1+s)),l=n/(t.height*(1+s)),a=Math.min(r,l),u=At(a,i,o),f=t.x+t.width/2,h=t.y+t.height/2,c=e/2-f*u,d=n/2-h*u;return{x:c,y:d,zoom:u}},fn=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function Kt(t){return t!==void 0&&t!=="parent"}function Ct(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function cn(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function vu(t,e={width:0,height:0},n,i,o){let s=n;const r={...t};for(;s;){const l=i.get(s);if(s=l==null?void 0:l.parentId,l){const a=l.origin||o;r.x+=l.internals.positionAbsolute.x-(e.width??0)*a[0],r.y+=l.internals.positionAbsolute.y-(e.height??0)*a[1]}}return r}function Bt(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:i}){const{x:o,y:s}=ut(t),r=Cn({x:o,y:s},i),{x:l,y:a}=n?Gn(r,e):r;return{xSnapped:l,ySnapped:a,...r}}const ao=t=>({width:t.offsetWidth,height:t.offsetHeight}),Yl=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},Al=["INPUT","SELECT","TEXTAREA"];function Xl(t){var i,o;const e=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||t.target;return Al.includes(e==null?void 0:e.nodeName)||(e==null?void 0:e.hasAttribute("contenteditable"))||!!(e!=null&&e.closest(".nokey"))}const uo=t=>"clientX"in t,ut=(t,e)=>{var s,r;const n=uo(t),i=n?t.clientX:(s=t.touches)==null?void 0:s[0].clientX,o=n?t.clientY:(r=t.touches)==null?void 0:r[0].clientY;return{x:i-((e==null?void 0:e.left)??0),y:o-((e==null?void 0:e.top)??0)}},ui=(t,e,n,i,o)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(r=>{const l=r.getBoundingClientRect();return{id:r.getAttribute("data-handleid"),type:t,nodeId:o,position:r.getAttribute("data-handlepos"),x:(l.left-n.left)/i,y:(l.top-n.top)/i,...ao(r)}})};function Wl({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:o,sourceControlY:s,targetControlX:r,targetControlY:l}){const a=t*.125+o*.375+r*.375+n*.125,u=e*.125+s*.375+l*.375+i*.125,f=Math.abs(a-t),h=Math.abs(u-e);return[a,u,f,h]}function xt(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function fi({pos:t,x1:e,y1:n,x2:i,y2:o,c:s}){switch(t){case he.Left:return[e-xt(e-i,s),n];case he.Right:return[e+xt(i-e,s),n];case he.Top:return[e,n-xt(n-o,s)];case he.Bottom:return[e,n+xt(o-n,s)]}}function fo({sourceX:t,sourceY:e,sourcePosition:n=he.Bottom,targetX:i,targetY:o,targetPosition:s=he.Top,curvature:r=.25}){const[l,a]=fi({pos:n,x1:t,y1:e,x2:i,y2:o,c:r}),[u,f]=fi({pos:s,x1:i,y1:o,x2:t,y2:e,c:r}),[h,c,d,b]=Wl({sourceX:t,sourceY:e,targetX:i,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:f});return[`M${t},${e} C${l},${a} ${u},${f} ${i},${o}`,h,c,d,b]}function co({sourceX:t,sourceY:e,targetX:n,targetY:i}){const o=Math.abs(n-t)/2,s=n<t?n+o:n-o,r=Math.abs(i-e)/2,l=i<e?i+r:i-r;return[s,l,o,r]}function Bl({sourceNode:t,targetNode:e,selected:n=!1,zIndex:i=0,elevateOnSelect:o=!1}){if(!o)return i;const s=n||e.selected||t.selected,r=Math.max(t.internals.z||0,e.internals.z||0,1e3);return i+(s?r:0)}function Ll({sourceNode:t,targetNode:e,width:n,height:i,transform:o}){const s=wn(un(t),un(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const r={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return pn(r,Sn(s))>0}const Kl=({source:t,sourceHandle:e,target:n,targetHandle:i})=>`xy-edge__${t}${e||""}-${n}${i||""}`,Rl=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),Zl=(t,e)=>{if(!t.source||!t.target)return e;let n;return Il(t)?n={...t}:n={...t,id:Kl(t)},Rl(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function ho({sourceX:t,sourceY:e,targetX:n,targetY:i}){const[o,s,r,l]=co({sourceX:t,sourceY:e,targetX:n,targetY:i});return[`M ${t},${e}L ${n},${i}`,o,s,r,l]}const ci={[he.Left]:{x:-1,y:0},[he.Right]:{x:1,y:0},[he.Top]:{x:0,y:-1},[he.Bottom]:{x:0,y:1}},Fl=({source:t,sourcePosition:e=he.Bottom,target:n})=>e===he.Left||e===he.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},di=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function pl({source:t,sourcePosition:e=he.Bottom,target:n,targetPosition:i=he.Top,center:o,offset:s}){const r=ci[e],l=ci[i],a={x:t.x+r.x*s,y:t.y+r.y*s},u={x:n.x+l.x*s,y:n.y+l.y*s},f=Fl({source:a,sourcePosition:e,target:u}),h=f.x!==0?"x":"y",c=f[h];let d=[],b,m;const y={x:0,y:0},g={x:0,y:0},[S,w,C,A]=co({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(r[h]*l[h]===-1){b=o.x??S,m=o.y??w;const N=[{x:b,y:a.y},{x:b,y:u.y}],H=[{x:a.x,y:m},{x:u.x,y:m}];r[h]===c?d=h==="x"?N:H:d=h==="x"?H:N}else{const N=[{x:a.x,y:u.y}],H=[{x:u.x,y:a.y}];if(h==="x"?d=r.x===c?H:N:d=r.y===c?N:H,e===i){const R=Math.abs(t[h]-n[h]);if(R<=s){const _=Math.min(s-1,s-R);r[h]===c?y[h]=(a[h]>t[h]?-1:1)*_:g[h]=(u[h]>n[h]?-1:1)*_}}if(e!==i){const R=h==="x"?"y":"x",_=r[h]===l[R],I=a[R]>u[R],k=a[R]<u[R];(r[h]===1&&(!_&&I||_&&k)||r[h]!==1&&(!_&&k||_&&I))&&(d=h==="x"?N:H)}const D={x:a.x+y.x,y:a.y+y.y},W={x:u.x+g.x,y:u.y+g.y},p=Math.max(Math.abs(D.x-d[0].x),Math.abs(W.x-d[0].x)),B=Math.max(Math.abs(D.y-d[0].y),Math.abs(W.y-d[0].y));p>=B?(b=(D.x+W.x)/2,m=d[0].y):(b=d[0].x,m=(D.y+W.y)/2)}return[[t,{x:a.x+y.x,y:a.y+y.y},...d,{x:u.x+g.x,y:u.y+g.y},n],b,m,C,A]}function Gl(t,e,n,i){const o=Math.min(di(t,e)/2,di(e,n)/2,i),{x:s,y:r}=e;if(t.x===s&&s===n.x||t.y===r&&r===n.y)return`L${s} ${r}`;if(t.y===r){const u=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${s+o*u},${r}Q ${s},${r} ${s},${r+o*f}`}const l=t.x<n.x?1:-1,a=t.y<n.y?-1:1;return`L ${s},${r+o*a}Q ${s},${r} ${s+o*l},${r}`}function dn({sourceX:t,sourceY:e,sourcePosition:n=he.Bottom,targetX:i,targetY:o,targetPosition:s=he.Top,borderRadius:r=5,centerX:l,centerY:a,offset:u=20}){const[f,h,c,d,b]=pl({source:{x:t,y:e},sourcePosition:n,target:{x:i,y:o},targetPosition:s,center:{x:l,y:a},offset:u});return[f.reduce((y,g,S)=>{let w="";return S>0&&S<f.length-1?w=Gl(f[S-1],g,f[S+1],r):w=`${S===0?"M":"L"}${g.x} ${g.y}`,y+=w,y},""),h,c,d,b]}function hi(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function Ul(t){var h;const{sourceNode:e,targetNode:n}=t;if(!hi(e)||!hi(n))return null;const i=e.internals.handleBounds||gi(e.handles),o=n.internals.handleBounds||gi(n.handles),s=mi((i==null?void 0:i.source)??[],t.sourceHandle),r=mi(t.connectionMode===Et.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),t.targetHandle);if(!s||!r)return(h=t.onError)==null||h.call(t,"008",Gt.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const l=(s==null?void 0:s.position)||he.Bottom,a=(r==null?void 0:r.position)||he.Top,u=Rt(e,s,l),f=Rt(n,r,a);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:a}}function gi(t){if(!t)return null;const e=[],n=[];for(const i of t)i.width=i.width??1,i.height=i.height??1,i.type==="source"?e.push(i):i.type==="target"&&n.push(i);return{source:e,target:n}}function Rt(t,e,n=he.Left,i=!1){const o=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,s=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:r,height:l}=e??Ct(t);if(i)return{x:o+r/2,y:s+l/2};switch((e==null?void 0:e.position)??n){case he.Top:return{x:o+r/2,y:s};case he.Right:return{x:o+r,y:s+l/2};case he.Bottom:return{x:o+r/2,y:s+l};case he.Left:return{x:o,y:s+l/2}}}function mi(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function Kn(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`:""}function ql(t,{id:e,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:o}){const s=new Set;return t.reduce((r,l)=>([l.markerStart||i,l.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const u=Kn(a,e);s.has(u)||(r.push({id:u,color:a.color||n,...a}),s.add(u))}}),r),[]).sort((r,l)=>r.id.localeCompare(l.id))}const go={nodeOrigin:[0,0],nodeExtent:sn,elevateNodesOnSelect:!0,defaults:{}},jl={...go,checkEquality:!0};function mo(t,e){const n={...t};for(const i in e)e[i]!==void 0&&(n[i]=e[i]);return n}function bo(t,e,n,i){var l,a;const o=mo(jl,i),s=new Map(e),r=o!=null&&o.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const u of t){let f=s.get(u.id);if(o.checkEquality&&u===(f==null?void 0:f.internals.userNode))e.set(u.id,f);else{const h=kn(u,o.nodeOrigin),c=Kt(u.extent)?u.extent:o.nodeExtent,d=Xt(h,c,Ct(u));f={...o.defaults,...u,measured:{width:(l=u.measured)==null?void 0:l.width,height:(a=u.measured)==null?void 0:a.height},internals:{positionAbsolute:d,handleBounds:u.measured?f==null?void 0:f.internals.handleBounds:void 0,z:_o(u,r),userNode:u}},e.set(u.id,f)}u.parentId&&yo(f,e,n,i)}}function Jl(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function yo(t,e,n,i){const{elevateNodesOnSelect:o,nodeOrigin:s,nodeExtent:r}=mo(go,i),l=t.parentId,a=e.get(l);if(!a){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Jl(t,n);const u=o?1e3:0,{x:f,y:h,z:c}=Ql(t,a,s,r,u),{positionAbsolute:d}=t.internals,b=f!==d.x||h!==d.y;(b||c!==t.internals.z)&&(t.internals={...t.internals,positionAbsolute:b?{x:f,y:h}:d,z:c})}function _o(t,e){return(tt(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function Ql(t,e,n,i,o){const{x:s,y:r}=e.internals.positionAbsolute,l=Ct(t),a=kn(t,n),u=Kt(t.extent)?Xt(a,t.extent,l):a;let f=Xt({x:s+u.x,y:r+u.y},i,l);t.extent==="parent"&&(f=oo(f,l,e));const h=_o(t,o),c=e.internals.z??0;return{x:f.x,y:f.y,z:c>h?c:h}}function xl(t,e,n,i=[0,0]){var r;const o=[],s=new Map;for(const l of t){const a=e.get(l.parentId);if(!a)continue;const u=((r=s.get(l.parentId))==null?void 0:r.expandedRect)??En(a),f=so(u,l.rect);s.set(l.parentId,{expandedRect:f,parent:a})}return s.size>0&&s.forEach(({expandedRect:l,parent:a},u)=>{var w;const f=a.internals.positionAbsolute,h=Ct(a),c=a.origin??i,d=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,b=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,m=Math.max(h.width,Math.round(l.width)),y=Math.max(h.height,Math.round(l.height)),g=(m-h.width)*c[0],S=(y-h.height)*c[1];(d>0||b>0||g||S)&&(o.push({id:u,type:"position",position:{x:a.position.x-d+g,y:a.position.y-b+S}}),(w=n.get(u))==null||w.forEach(C=>{t.some(A=>A.id===C.id)||o.push({id:C.id,type:"position",position:{x:C.position.x+d,y:C.position.y+b}})})),(h.width<l.width||h.height<l.height||d||b)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:m+(d?c[0]*d-g:0),height:y+(b?c[1]*b-S:0)}})}),o}function $l(t,e,n,i,o,s){const r=i==null?void 0:i.querySelector(".xyflow__viewport");let l=!1;if(!r)return{changes:[],updatedInternals:l};const a=[],u=window.getComputedStyle(r),{m22:f}=new window.DOMMatrixReadOnly(u.transform),h=[];for(const c of t.values()){const d=e.get(c.id);if(d)if(d.hidden)d.internals={...d.internals,handleBounds:void 0},l=!0;else{const b=ao(c.nodeElement),m=d.measured.width!==b.width||d.measured.height!==b.height;if(!!(b.width&&b.height&&(m||!d.internals.handleBounds||c.force))){const g=c.nodeElement.getBoundingClientRect(),S=Kt(d.extent)?d.extent:s;let{positionAbsolute:w}=d.internals;d.parentId&&d.extent==="parent"?w=oo(w,b,e.get(d.parentId)):S&&(w=Xt(w,S,b)),d.measured=b,d.internals={...d.internals,positionAbsolute:w,handleBounds:{source:ui("source",c.nodeElement,g,f,d.id),target:ui("target",c.nodeElement,g,f,d.id)}},d.parentId&&yo(d,e,n,{nodeOrigin:o}),l=!0,m&&(a.push({id:d.id,type:"dimensions",dimensions:b}),d.expandParent&&d.parentId&&h.push({id:d.id,parentId:d.parentId,rect:En(d,o)}))}}}if(h.length>0){const c=xl(h,e,n,o);a.push(...c)}return{changes:a,updatedInternals:l}}async function es({delta:t,panZoom:e,transform:n,translateExtent:i,width:o,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const r=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[o,s]],i),l=!!r&&(r.x!==n[0]||r.y!==n[1]||r.k!==n[2]);return Promise.resolve(l)}function ko(t,e,n){t.clear(),e.clear();for(const i of n){const{source:o,target:s,sourceHandle:r=null,targetHandle:l=null}=i,a=`${o}-source-${r}`,u=`${s}-target-${l}`,f=t.get(a)||new Map,h=t.get(u)||new Map,c={edgeId:i.id,source:o,target:s,sourceHandle:r,targetHandle:l};e.set(i.id,i),t.set(a,f.set(`${s}-${l}`,c)),t.set(u,h.set(`${o}-${r}`,c))}}function wo(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:wo(n,e):!1}function bi(t,e,n){let i=t;do{if(i!=null&&i.matches(e))return!0;if(i===n)return!1;i=i.parentElement}while(i);return!1}function ts(t,e,n,i){const o=new Map;for(const[s,r]of t)if((r.selected||r.id===i)&&(!r.parentId||!wo(r,t))&&(r.draggable||e&&typeof r.draggable>"u")){const l=t.get(s);l&&o.set(s,{id:s,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return o}function Tn({nodeId:t,dragItems:e,nodeLookup:n,dragging:i=!0}){var r,l;const o=[];for(const[a,u]of e){const f=(r=n.get(a))==null?void 0:r.internals.userNode;f&&o.push({...f,position:u.position,dragging:i})}if(!t)return[o[0],o];const s=n.get(t).internals.userNode;return[{...s,position:((l=e.get(t))==null?void 0:l.position)||s.position,dragging:i},o]}function ns({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:i,onDragStop:o}){let s={x:null,y:null},r=0,l=new Map,a=!1,u={x:0,y:0},f=null,h=!1,c=null,d=!1;function b({noDragClassName:y,handleSelector:g,domNode:S,isSelectable:w,nodeId:C,nodeClickDistance:A=0}){c=xe(S);function K({x:W,y:p},B){const{nodeLookup:R,nodeExtent:_,snapGrid:I,snapToGrid:k,nodeOrigin:P,onNodeDrag:O,onSelectionDrag:z,onError:Y,updateNodePositions:G}=e();s={x:W,y:p};let q=!1,j={x:0,y:0,x2:0,y2:0};if(l.size>1&&_){const T=Ut(l);j=Ln(T)}for(const[T,ee]of l){let te={x:W-ee.distance.x,y:p-ee.distance.y};k&&(te=Gn(te,I));let v=[[_[0][0],_[0][1]],[_[1][0],_[1][1]]];if(l.size>1&&_&&!ee.extent){const{positionAbsolute:se}=ee.internals,de=se.x-j.x+_[0][0],ye=se.x+ee.measured.width-j.x2+_[1][0],Oe=se.y-j.y+_[0][1],L=se.y+ee.measured.height-j.y2+_[1][1];v=[[de,Oe],[ye,L]]}const{position:ne,positionAbsolute:oe}=vl({nodeId:T,nextPosition:te,nodeLookup:R,nodeExtent:v,nodeOrigin:P,onError:Y});q=q||ee.position.x!==ne.x||ee.position.y!==ne.y,ee.position=ne,ee.internals.positionAbsolute=oe}if(q&&(G(l,!0),B&&(i||O||!C&&z))){const[T,ee]=Tn({nodeId:C,dragItems:l,nodeLookup:R});i==null||i(B,l,T,ee),O==null||O(B,T,ee),C||z==null||z(B,ee)}}async function N(){if(!f)return;const{transform:W,panBy:p,autoPanSpeed:B}=e(),[R,_]=lo(u,f,B);(R!==0||_!==0)&&(s.x=(s.x??0)-R/W[2],s.y=(s.y??0)-_/W[2],await p({x:R,y:_})&&K(s,null)),r=requestAnimationFrame(N)}function H(W){var q;const{nodeLookup:p,multiSelectionActive:B,nodesDraggable:R,transform:_,snapGrid:I,snapToGrid:k,selectNodesOnDrag:P,onNodeDragStart:O,onSelectionDragStart:z,unselectNodesAndEdges:Y}=e();h=!0,(!P||!w)&&!B&&C&&((q=p.get(C))!=null&&q.selected||Y()),w&&P&&C&&(t==null||t(C));const G=Bt(W.sourceEvent,{transform:_,snapGrid:I,snapToGrid:k});if(s=G,l=ts(p,R,G,C),l.size>0&&(n||O||!C&&z)){const[j,T]=Tn({nodeId:C,dragItems:l,nodeLookup:p});n==null||n(W.sourceEvent,l,j,T),O==null||O(W.sourceEvent,j,T),C||z==null||z(W.sourceEvent,T)}}const D=to().clickDistance(A).on("start",W=>{const{domNode:p,nodeDragThreshold:B,transform:R,snapGrid:_,snapToGrid:I}=e();d=!1,B===0&&H(W),s=Bt(W.sourceEvent,{transform:R,snapGrid:_,snapToGrid:I}),f=(p==null?void 0:p.getBoundingClientRect())||null,u=ut(W.sourceEvent,f)}).on("drag",W=>{const{autoPanOnNodeDrag:p,transform:B,snapGrid:R,snapToGrid:_,nodeDragThreshold:I}=e(),k=Bt(W.sourceEvent,{transform:B,snapGrid:R,snapToGrid:_});if(W.sourceEvent.type==="touchmove"&&W.sourceEvent.touches.length>1&&(d=!0),!d){if(!a&&p&&h&&(a=!0,N()),!h){const P=k.xSnapped-(s.x??0),O=k.ySnapped-(s.y??0);Math.sqrt(P*P+O*O)>I&&H(W)}(s.x!==k.xSnapped||s.y!==k.ySnapped)&&l&&h&&(u=ut(W.sourceEvent,f),K(k,W.sourceEvent))}}).on("end",W=>{if(!(!h||d)&&(a=!1,h=!1,cancelAnimationFrame(r),l.size>0)){const{nodeLookup:p,updateNodePositions:B,onNodeDragStop:R,onSelectionDragStop:_}=e();if(B(l,!1),o||R||!C&&_){const[I,k]=Tn({nodeId:C,dragItems:l,nodeLookup:p,dragging:!1});o==null||o(W.sourceEvent,l,I,k),R==null||R(W.sourceEvent,I,k),C||_==null||_(W.sourceEvent,k)}}}).filter(W=>{const p=W.target;return!W.button&&(!y||!bi(p,`.${y}`,S))&&(!g||bi(p,g,S))});c.call(D)}function m(){c==null||c.on(".drag",null)}return{update:b,destroy:m}}function is(t,e,n){const i=[],o={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())pn(o,En(s))>0&&i.push(s);return i}const os=250;function ls(t,e,n,i){var l,a;let o=[],s=1/0;const r=is(t,n,e+os);for(const u of r){const f=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((a=u.internals.handleBounds)==null?void 0:a.target)??[]];for(const h of f){if(i.nodeId===h.nodeId&&i.type===h.type&&i.id===h.id)continue;const{x:c,y:d}=Rt(u,h,h.position,!0),b=Math.sqrt(Math.pow(c-t.x,2)+Math.pow(d-t.y,2));b>e||(b<s?(o=[{...h,x:c,y:d}],s=b):b===s&&o.push({...h,x:c,y:d}))}}if(!o.length)return null;if(o.length>1){const u=i.type==="source"?"target":"source";return o.find(f=>f.type===u)??o[0]}return o[0]}function So(t,e,n,i,o,s=!1){var u,f,h;const r=i.get(t);if(!r)return null;const l=o==="strict"?(u=r.internals.handleBounds)==null?void 0:u[e]:[...((f=r.internals.handleBounds)==null?void 0:f.source)??[],...((h=r.internals.handleBounds)==null?void 0:h.target)??[]],a=(n?l==null?void 0:l.find(c=>c.id===n):l==null?void 0:l[0])??null;return a&&s?{...a,...Rt(r,a,a.position,!0)}:a}function Eo(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function ss(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const Co=()=>!0;function rs(t,{connectionMode:e,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:s,isTarget:r,domNode:l,nodeLookup:a,lib:u,autoPanOnConnect:f,flowId:h,panBy:c,cancelConnection:d,onConnectStart:b,onConnect:m,onConnectEnd:y,isValidConnection:g=Co,onReconnectEnd:S,updateConnection:w,getTransform:C,getFromHandle:A,autoPanSpeed:K}){const N=Yl(t.target);let H=0,D;const{x:W,y:p}=ut(t),B=N==null?void 0:N.elementFromPoint(W,p),R=Eo(s,B),_=l==null?void 0:l.getBoundingClientRect();if(!_||!R)return;const I=So(o,R,i,a,e);if(!I)return;let k=ut(t,_),P=!1,O=null,z=!1,Y=null;function G(){if(!f||!_)return;const[oe,se]=lo(k,_,K);c({x:oe,y:se}),H=requestAnimationFrame(G)}const q={...I,nodeId:o,type:R,position:I.position},j=a.get(o),ee={inProgress:!0,isValid:null,from:Rt(j,q,he.Left,!0),fromHandle:q,fromPosition:q.position,fromNode:j,to:k,toHandle:null,toPosition:ii[q.position],toNode:null};w(ee);let te=ee;b==null||b(t,{nodeId:o,handleId:i,handleType:R});function v(oe){if(!A()||!q){ne(oe);return}const se=C();k=ut(oe,_),D=ls(Cn(k,se,!1,[1,1]),n,a,q),P||(G(),P=!0);const de=Mo(oe,{handle:D,connectionMode:e,fromNodeId:o,fromHandleId:i,fromType:r?"target":"source",isValidConnection:g,doc:N,lib:u,flowId:h,nodeLookup:a});Y=de.handleDomNode,O=de.connection,z=ss(!!D,de.isValid);const ye={...te,isValid:z,to:D&&z?Vl({x:D.x,y:D.y},se):k,toHandle:de.toHandle,toPosition:z&&de.toHandle?de.toHandle.position:ii[q.position],toNode:de.toHandle?a.get(de.toHandle.nodeId):null};z&&D&&te.toHandle&&ye.toHandle&&te.toHandle.type===ye.toHandle.type&&te.toHandle.nodeId===ye.toHandle.nodeId&&te.toHandle.id===ye.toHandle.id&&te.to.x===ye.to.x&&te.to.y===ye.to.y||(w(ye),te=ye)}function ne(oe){(D||Y)&&O&&z&&(m==null||m(O));const{inProgress:se,...de}=te,ye={...de,toPosition:te.toHandle?te.toPosition:null};y==null||y(oe,ye),s&&(S==null||S(oe,ye)),d(),cancelAnimationFrame(H),P=!1,z=!1,O=null,Y=null,N.removeEventListener("mousemove",v),N.removeEventListener("mouseup",ne),N.removeEventListener("touchmove",v),N.removeEventListener("touchend",ne)}N.addEventListener("mousemove",v),N.addEventListener("mouseup",ne),N.addEventListener("touchmove",v),N.addEventListener("touchend",ne)}function Mo(t,{handle:e,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:s,doc:r,lib:l,flowId:a,isValidConnection:u=Co,nodeLookup:f}){const h=s==="target",c=e?r.querySelector(`.${l}-flow__handle[data-id="${a}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:d,y:b}=ut(t),m=r.elementFromPoint(d,b),y=m!=null&&m.classList.contains(`${l}-flow__handle`)?m:c,g={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){const S=Eo(void 0,y),w=y.getAttribute("data-nodeid"),C=y.getAttribute("data-handleid"),A=y.classList.contains("connectable"),K=y.classList.contains("connectableend");if(!w||!S)return g;const N={source:h?w:i,sourceHandle:h?C:o,target:h?i:w,targetHandle:h?o:C};g.connection=N;const D=A&&K&&(n===Et.Strict?h&&S==="source"||!h&&S==="target":w!==i||C!==o);g.isValid=D&&u(N),g.toHandle=So(w,S,C,f,n,!1)}return g}const as={onPointerDown:rs,isValid:Mo};function us({domNode:t,panZoom:e,getTransform:n,getViewScale:i}){const o=xe(t);function s({translateExtent:l,width:a,height:u,zoomStep:f=10,pannable:h=!0,zoomable:c=!0,inversePan:d=!1}){const b=w=>{const C=n();if(w.sourceEvent.type!=="wheel"||!e)return;const A=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*f,K=C[2]*Math.pow(2,A);e.scaleTo(K)};let m=[0,0];const y=w=>{(w.sourceEvent.type==="mousedown"||w.sourceEvent.type==="touchstart")&&(m=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY])},g=w=>{const C=n();if(w.sourceEvent.type!=="mousemove"&&w.sourceEvent.type!=="touchmove"||!e)return;const A=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY],K=[A[0]-m[0],A[1]-m[1]];m=A;const N=i()*Math.max(C[2],Math.log(C[2]))*(d?-1:1),H={x:C[0]-K[0]*N,y:C[1]-K[1]*N},D=[[0,0],[a,u]];e.setViewportConstrained({x:H.x,y:H.y,zoom:C[2]},D,l)},S=no().on("start",y).on("zoom",h?g:null).on("zoom.wheel",c?b:null);o.call(S,{})}function r(){o.on("zoom",null)}return{update:s,destroy:r,pointer:et}}const fs=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Mn=t=>({x:t.x,y:t.y,zoom:t.k}),Nn=({x:t,y:e,zoom:n})=>Zn.translate(t,e).scale(n),It=(t,e)=>t.target.closest(`.${e}`),Po=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),Vn=(t,e=0,n=()=>{})=>{const i=typeof e=="number"&&e>0;return i||n(),i?t.transition().duration(e).on("end",n):t},zo=t=>{const e=t.ctrlKey&&fn()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function cs({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:s,zoomOnPinch:r,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:u}){return f=>{if(It(f,e))return!1;f.preventDefault(),f.stopImmediatePropagation();const h=n.property("__zoom").k||1;if(f.ctrlKey&&r){const y=et(f),g=zo(f),S=h*Math.pow(2,g);i.scaleTo(n,S,y,f);return}const c=f.deltaMode===1?20:1;let d=o===ot.Vertical?0:f.deltaX*c,b=o===ot.Horizontal?0:f.deltaY*c;!fn()&&f.shiftKey&&o!==ot.Vertical&&(d=f.deltaY*c,b=0),i.translateBy(n,-(d/h)*s,-(b/h)*s,{internal:!0});const m=Mn(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,l==null||l(f,m)),t.isPanScrolling&&(a==null||a(f,m),t.panScrollTimeout=setTimeout(()=>{u==null||u(f,m),t.isPanScrolling=!1},150))}}function ds({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(i,o){if(!e&&i.type==="wheel"&&!i.ctrlKey||It(i,t))return null;i.preventDefault(),n.call(this,i,o)}}function hs({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return i=>{var s,r,l;if((s=i.sourceEvent)!=null&&s.internal)return;const o=Mn(i.transform);t.mouseButton=((r=i.sourceEvent)==null?void 0:r.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=o,((l=i.sourceEvent)==null?void 0:l.type)==="mousedown"&&e(!0),n&&(n==null||n(i.sourceEvent,o))}}function gs({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return s=>{var r,l;t.usedRightMouseButton=!!(n&&Po(e,t.mouseButton??0)),(r=s.sourceEvent)!=null&&r.sync||i([s.transform.x,s.transform.y,s.transform.k]),o&&!((l=s.sourceEvent)!=null&&l.internal)&&(o==null||o(s.sourceEvent,Mn(s.transform)))}}function ms({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:s}){return r=>{var l;if(!((l=r.sourceEvent)!=null&&l.internal)&&(t.isZoomingOrPanning=!1,s&&Po(e,t.mouseButton??0)&&!t.usedRightMouseButton&&r.sourceEvent&&s(r.sourceEvent),t.usedRightMouseButton=!1,i(!1),o&&fs(t.prevViewport,r.transform))){const a=Mn(r.transform);t.prevViewport=a,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{o==null||o(r.sourceEvent,a)},n?150:0)}}}function bs({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:s,userSelectionActive:r,noWheelClassName:l,noPanClassName:a,lib:u}){return f=>{var b;const h=t||e,c=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(It(f,`${u}-flow__node`)||It(f,`${u}-flow__edge`)))return!0;if(!i&&!h&&!o&&!s&&!n||r||It(f,l)&&f.type==="wheel"||It(f,a)&&(f.type!=="wheel"||o&&f.type==="wheel"&&!t)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&((b=f.touches)==null?void 0:b.length)>1)return f.preventDefault(),!1;if(!h&&!o&&!c&&f.type==="wheel"||!i&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(i)&&!i.includes(f.button)&&f.type==="mousedown")return!1;const d=Array.isArray(i)&&i.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&d}}function ys({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:i,translateExtent:o,viewport:s,onPanZoom:r,onPanZoomStart:l,onPanZoomEnd:a,onDraggingChange:u}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},h=t.getBoundingClientRect(),c=no().clickDistance(!tt(i)||i<0?0:i).scaleExtent([e,n]).translateExtent(o),d=xe(t).call(c);w({x:s.x,y:s.y,zoom:At(s.zoom,e,n)},[[0,0],[h.width,h.height]],o);const b=d.on("wheel.zoom"),m=d.on("dblclick.zoom");c.wheelDelta(zo);function y(B,R){return d?new Promise(_=>{c==null||c.transform(Vn(d,R==null?void 0:R.duration,()=>_(!0)),B)}):Promise.resolve(!1)}function g({noWheelClassName:B,noPanClassName:R,onPaneContextMenu:_,userSelectionActive:I,panOnScroll:k,panOnDrag:P,panOnScrollMode:O,panOnScrollSpeed:z,preventScrolling:Y,zoomOnPinch:G,zoomOnScroll:q,zoomOnDoubleClick:j,zoomActivationKeyPressed:T,lib:ee,onTransformChange:te}){I&&!f.isZoomingOrPanning&&S();const ne=k&&!T&&!I?cs({zoomPanValues:f,noWheelClassName:B,d3Selection:d,d3Zoom:c,panOnScrollMode:O,panOnScrollSpeed:z,zoomOnPinch:G,onPanZoomStart:l,onPanZoom:r,onPanZoomEnd:a}):ds({noWheelClassName:B,preventScrolling:Y,d3ZoomHandler:b});if(d.on("wheel.zoom",ne,{passive:!1}),!I){const se=hs({zoomPanValues:f,onDraggingChange:u,onPanZoomStart:l});c.on("start",se);const de=gs({zoomPanValues:f,panOnDrag:P,onPaneContextMenu:!!_,onPanZoom:r,onTransformChange:te});c.on("zoom",de);const ye=ms({zoomPanValues:f,panOnDrag:P,panOnScroll:k,onPaneContextMenu:_,onPanZoomEnd:a,onDraggingChange:u});c.on("end",ye)}const oe=bs({zoomActivationKeyPressed:T,panOnDrag:P,zoomOnScroll:q,panOnScroll:k,zoomOnDoubleClick:j,zoomOnPinch:G,userSelectionActive:I,noPanClassName:R,noWheelClassName:B,lib:ee});c.filter(oe),j?d.on("dblclick.zoom",m):d.on("dblclick.zoom",null)}function S(){c.on("zoom",null)}async function w(B,R,_){const I=Nn(B),k=c==null?void 0:c.constrain()(I,R,_);return k&&await y(k),new Promise(P=>P(k))}async function C(B,R){const _=Nn(B);return await y(_,R),new Promise(I=>I(_))}function A(B){if(d){const R=Nn(B),_=d.property("__zoom");(_.k!==B.zoom||_.x!==B.x||_.y!==B.y)&&(c==null||c.transform(d,R,null,{sync:!0}))}}function K(){const B=d?dl(d.node()):{x:0,y:0,k:1};return{x:B.x,y:B.y,zoom:B.k}}function N(B,R){return d?new Promise(_=>{c==null||c.scaleTo(Vn(d,R==null?void 0:R.duration,()=>_(!0)),B)}):Promise.resolve(!1)}function H(B,R){return d?new Promise(_=>{c==null||c.scaleBy(Vn(d,R==null?void 0:R.duration,()=>_(!0)),B)}):Promise.resolve(!1)}function D(B){c==null||c.scaleExtent(B)}function W(B){c==null||c.translateExtent(B)}function p(B){const R=!tt(B)||B<0?0:B;c==null||c.clickDistance(R)}return{update:g,destroy:S,setViewport:C,setViewportConstrained:w,getViewport:K,scaleTo:N,scaleBy:H,setScaleExtent:D,setTranslateExtent:W,syncViewport:A,setClickDistance:p}}var yi;(function(t){t.Line="line",t.Handle="handle"})(yi||(yi={}));const Tu=["top-left","top-right","bottom-left","bottom-right"],Nu=["top","right","bottom","left"];function _s({width:t,prevWidth:e,height:n,prevHeight:i,affectsX:o,affectsY:s}){const r=t-e,l=n-i,a=[r>0?1:r<0?-1:0,l>0?1:l<0?-1:0];return r&&o&&(a[0]=a[0]*-1),l&&s&&(a[1]=a[1]*-1),a}function ks(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),i=t.includes("left"),o=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:i,affectsY:o}}function bt(t,e){return Math.max(0,e-t)}function yt(t,e){return Math.max(0,t-e)}function $t(t,e,n){return Math.max(0,e-t,t-n)}function _i(t,e){return t?!e:e}function ws(t,e,n,i,o,s,r,l){let{affectsX:a,affectsY:u}=e;const{isHorizontal:f,isVertical:h}=e,c=f&&h,{xSnapped:d,ySnapped:b}=n,{minWidth:m,maxWidth:y,minHeight:g,maxHeight:S}=i,{x:w,y:C,width:A,height:K,aspectRatio:N}=t;let H=Math.floor(f?d-t.pointerX:0),D=Math.floor(h?b-t.pointerY:0);const W=A+(a?-H:H),p=K+(u?-D:D),B=-s[0]*A,R=-s[1]*K;let _=$t(W,m,y),I=$t(p,g,S);if(r){let O=0,z=0;a&&H<0?O=bt(w+H+B,r[0][0]):!a&&H>0&&(O=yt(w+W+B,r[1][0])),u&&D<0?z=bt(C+D+R,r[0][1]):!u&&D>0&&(z=yt(C+p+R,r[1][1])),_=Math.max(_,O),I=Math.max(I,z)}if(l){let O=0,z=0;a&&H>0?O=yt(w+H,l[0][0]):!a&&H<0&&(O=bt(w+W,l[1][0])),u&&D>0?z=yt(C+D,l[0][1]):!u&&D<0&&(z=bt(C+p,l[1][1])),_=Math.max(_,O),I=Math.max(I,z)}if(o){if(f){const O=$t(W/N,g,S)*N;if(_=Math.max(_,O),r){let z=0;!a&&!u||a&&!u&&c?z=yt(C+R+W/N,r[1][1])*N:z=bt(C+R+(a?H:-H)/N,r[0][1])*N,_=Math.max(_,z)}if(l){let z=0;!a&&!u||a&&!u&&c?z=bt(C+W/N,l[1][1])*N:z=yt(C+(a?H:-H)/N,l[0][1])*N,_=Math.max(_,z)}}if(h){const O=$t(p*N,m,y)/N;if(I=Math.max(I,O),r){let z=0;!a&&!u||u&&!a&&c?z=yt(w+p*N+B,r[1][0])/N:z=bt(w+(u?D:-D)*N+B,r[0][0])/N,I=Math.max(I,z)}if(l){let z=0;!a&&!u||u&&!a&&c?z=bt(w+p*N,l[1][0])/N:z=yt(w+(u?D:-D)*N,l[0][0])/N,I=Math.max(I,z)}}}D=D+(D<0?I:-I),H=H+(H<0?_:-_),o&&(c?W>p*N?D=(_i(a,u)?-H:H)/N:H=(_i(a,u)?-D:D)*N:f?(D=H/N,u=a):(H=D*N,a=u));const k=a?w+H:w,P=u?C+D:C;return{width:A+(a?-H:H),height:K+(u?-D:D),x:s[0]*H*(a?-1:1)+k,y:s[1]*D*(u?-1:1)+P}}const Oo={width:0,height:0,x:0,y:0},Ss={...Oo,pointerX:0,pointerY:0,aspectRatio:1};function Es(t){return[[0,0],[t.measured.width,t.measured.height]]}function Cs(t,e,n){const i=e.position.x+t.position.x,o=e.position.y+t.position.y,s=t.measured.width??0,r=t.measured.height??0,l=n[0]*s,a=n[1]*r;return[[i-l,o-a],[i+s-l,o+r-a]]}function Vu({domNode:t,nodeId:e,getStoreItems:n,onChange:i,onEnd:o}){const s=xe(t);function r({controlPosition:a,boundaries:u,keepAspectRatio:f,onResizeStart:h,onResize:c,onResizeEnd:d,shouldResize:b}){let m={...Oo},y={...Ss};const g=ks(a);let S,w=[],C,A,K;const N=to().on("start",H=>{const{nodeLookup:D,transform:W,snapGrid:p,snapToGrid:B,nodeOrigin:R}=n();if(S=D.get(e),!S)return;const{xSnapped:_,ySnapped:I}=Bt(H.sourceEvent,{transform:W,snapGrid:p,snapToGrid:B});m={width:S.measured.width??0,height:S.measured.height??0,x:S.position.x??0,y:S.position.y??0},y={...m,pointerX:_,pointerY:I,aspectRatio:m.width/m.height},C=void 0,S.parentId&&(S.extent==="parent"||S.expandParent)&&(C=D.get(S.parentId),A=C&&S.extent==="parent"?Es(C):void 0),w=[],K=void 0;for(const[k,P]of D)if(P.parentId===e&&(w.push({id:k,position:{...P.position},extent:P.extent}),P.extent==="parent"||P.expandParent)){const O=Cs(P,S,P.origin??R);K?K=[[Math.min(O[0][0],K[0][0]),Math.min(O[0][1],K[0][1])],[Math.max(O[1][0],K[1][0]),Math.max(O[1][1],K[1][1])]]:K=O}h==null||h(H,{...m})}).on("drag",H=>{const{transform:D,snapGrid:W,snapToGrid:p,nodeOrigin:B}=n(),R=Bt(H.sourceEvent,{transform:D,snapGrid:W,snapToGrid:p}),_=[];if(!S)return;const{x:I,y:k,width:P,height:O}=m,z={},Y=S.origin??B,{width:G,height:q,x:j,y:T}=ws(y,g,R,u,f,Y,A,K),ee=G!==P,te=q!==O,v=j!==I&&ee,ne=T!==k&&te;if(!v&&!ne&&!ee&&!te)return;if((v||ne||Y[0]===1||Y[1]===1)&&(z.x=v?j:m.x,z.y=ne?T:m.y,m.x=z.x,m.y=z.y,w.length>0)){const ye=j-I,Oe=T-k;for(const L of w)L.position={x:L.position.x-ye+Y[0]*(G-P),y:L.position.y-Oe+Y[1]*(q-O)},_.push(L)}if((ee||te)&&(z.width=ee?G:m.width,z.height=te?q:m.height,m.width=z.width,m.height=z.height),C&&S.expandParent){const ye=Y[0]*(z.width??0);z.x&&z.x<ye&&(m.x=ye,y.x=y.x-(z.x-ye));const Oe=Y[1]*(z.height??0);z.y&&z.y<Oe&&(m.y=Oe,y.y=y.y-(z.y-Oe))}const oe=_s({width:m.width,prevWidth:P,height:m.height,prevHeight:O,affectsX:g.affectsX,affectsY:g.affectsY}),se={...m,direction:oe};(b==null?void 0:b(H,se))!==!1&&(c==null||c(H,se),i(z,_))}).on("end",H=>{d==null||d(H,{...m}),o==null||o()});s.call(N)}function l(){s.on(".drag",null)}return{update:r,destroy:l}}function Ms(t){let e,n,i,o,s,r;const l=t[45].default,a=qe(l,t,t[44],null);return{c(){e=Be("div"),a&&a.c(),this.h()},l(u){e=Le(u,"DIV",{"data-handleid":!0,"data-nodeid":!0,"data-handlepos":!0,"data-id":!0,class:!0,style:!0,role:!0,tabindex:!0});var f=re(e);a&&a.l(f),f.forEach(V),this.h()},h(){E(e,"data-handleid",t[6]),E(e,"data-nodeid",t[14]),E(e,"data-handlepos",t[2]),E(e,"data-id",n=t[13]+"-"+t[14]+"-"+(t[0]||null)+"-"+t[1]),E(e,"class",i=Pe(["svelte-flow__handle",`svelte-flow__handle-${t[2]}`,"nodrag","nopan",t[2],t[4]])),E(e,"style",t[3]),E(e,"role","button"),E(e,"tabindex","-1"),le(e,"valid",t[7]),le(e,"connectingto",t[5]),le(e,"connectingfrom",t[9]),le(e,"source",!t[11]),le(e,"target",t[11]),le(e,"connectablestart",t[12]),le(e,"connectableend",t[12]),le(e,"connectable",t[12]),le(e,"connectionindicator",t[12]&&(!t[10]||t[8]))},m(u,f){Q(u,e,f),a&&a.m(e,null),o=!0,s||(r=[De(e,"mousedown",t[32]),De(e,"touchstart",t[32])],s=!0)},p(u,f){a&&a.p&&(!o||f[1]&8192)&&je(a,l,u,u[44],o?Qe(l,u[44],f,null):Je(u[44]),null),(!o||f[0]&64)&&E(e,"data-handleid",u[6]),(!o||f[0]&4)&&E(e,"data-handlepos",u[2]),(!o||f[0]&8195&&n!==(n=u[13]+"-"+u[14]+"-"+(u[0]||null)+"-"+u[1]))&&E(e,"data-id",n),(!o||f[0]&20&&i!==(i=Pe(["svelte-flow__handle",`svelte-flow__handle-${u[2]}`,"nodrag","nopan",u[2],u[4]])))&&E(e,"class",i),(!o||f[0]&8)&&E(e,"style",u[3]),(!o||f[0]&148)&&le(e,"valid",u[7]),(!o||f[0]&52)&&le(e,"connectingto",u[5]),(!o||f[0]&532)&&le(e,"connectingfrom",u[9]),(!o||f[0]&2068)&&le(e,"source",!u[11]),(!o||f[0]&2068)&&le(e,"target",u[11]),(!o||f[0]&4116)&&le(e,"connectablestart",u[12]),(!o||f[0]&4116)&&le(e,"connectableend",u[12]),(!o||f[0]&4116)&&le(e,"connectable",u[12]),(!o||f[0]&5396)&&le(e,"connectionindicator",u[12]&&(!u[10]||u[8]))},i(u){o||(X(a,u),o=!0)},o(u){F(a,u),o=!1},d(u){u&&V(e),a&&a.d(u),s=!1,wt(r)}}}function Ps(t,e,n){let i,o,s,r,l,a,u,f,h,c,d,b,m,y,g,S,w,C,A,K,N,H,D,W,p,{$$slots:B={},$$scope:R}=e,{id:_=void 0}=e,{type:I="source"}=e,{position:k=he.Top}=e,{style:P=void 0}=e,{isValidConnection:O=void 0}=e,{onconnect:z=void 0}=e,{ondisconnect:Y=void 0}=e,{isConnectable:G=void 0}=e,{class:q=void 0}=e;const j=tn("svelteflow__node_id"),T=tn("svelteflow__node_connectable");U(t,T,x=>n(43,p=x));const ee=Ve(),{connectionMode:te,domNode:v,nodeLookup:ne,connectionRadius:oe,viewport:se,isValidConnection:de,lib:ye,addEdge:Oe,onedgecreate:L,panBy:Te,cancelConnection:ze,updateConnection:ct,autoPanOnConnect:lt,edges:st,connectionLookup:Ke,onconnect:rt,onconnectstart:$,onconnectend:dt,flowId:ht,connection:Z}=ee;U(t,te,x=>n(40,c=x)),U(t,v,x=>n(55,D=x)),U(t,ne,x=>n(54,H=x)),U(t,oe,x=>n(56,W=x)),U(t,se,x=>n(46,m=x)),U(t,de,x=>n(51,C=x)),U(t,ye,x=>n(53,N=x)),U(t,L,x=>n(50,w=x)),U(t,lt,x=>n(52,K=x)),U(t,st,x=>n(42,b=x)),U(t,Ke,x=>n(41,d=x)),U(t,rt,x=>n(49,S=x)),U(t,$,x=>n(48,g=x)),U(t,dt,x=>n(47,y=x)),U(t,ht,x=>n(13,A=x)),U(t,Z,x=>n(39,h=x));function gt(x){const at=uo(x);(at&&x.button===0||!at)&&as.onPointerDown(x,{handleId:s,nodeId:j,isTarget:i,connectionRadius:W,domNode:D,nodeLookup:H,connectionMode:c,lib:N,autoPanOnConnect:K,flowId:A,isValidConnection:O??C,updateConnection:ct,cancelConnection:ze,panBy:Te,onConnect:Ue=>{const Ze=w?w(Ue):Ue;Ze&&(Oe(Ze),S==null||S(Ue))},onConnectStart:(Ue,Ze)=>{g==null||g(Ue,{nodeId:Ze.nodeId,handleId:Ze.handleId,handleType:Ze.handleType})},onConnectEnd:(Ue,Ze)=>{y==null||y(Ue,Ze)},getTransform:()=>[m.x,m.y,m.zoom],getFromHandle:()=>h.fromHandle})}let Re=null,Ge;return t.$$set=x=>{"id"in x&&n(0,_=x.id),"type"in x&&n(1,I=x.type),"position"in x&&n(2,k=x.position),"style"in x&&n(3,P=x.style),"isValidConnection"in x&&n(33,O=x.isValidConnection),"onconnect"in x&&n(34,z=x.onconnect),"ondisconnect"in x&&n(35,Y=x.ondisconnect),"isConnectable"in x&&n(36,G=x.isConnectable),"class"in x&&n(4,q=x.class),"$$scope"in x&&n(44,R=x.$$scope)},t.$$.update=()=>{var x,at,Ue,Ze,Mt,Pt,zt,Ot,mt;if(t.$$.dirty[0]&2&&n(11,i=I==="target"),t.$$.dirty[1]&4128&&n(12,o=G!==void 0?G:p),t.$$.dirty[0]&1&&n(6,s=_||null),t.$$.dirty[0]&3|t.$$.dirty[1]&3096&&(z||Y)&&n(38,Ge=d.get(`${j}-${I}-${_||null}`)),t.$$.dirty[1]&216){if(Re&&!Hl(Ge,Re)){const St=Ge??new Map;oi(Re,St,Y),oi(St,Re,z)}n(37,Re=Ge??new Map)}t.$$.dirty[1]&256&&n(10,r=!!h.fromHandle),t.$$.dirty[0]&66|t.$$.dirty[1]&256&&n(9,l=((x=h.fromHandle)==null?void 0:x.nodeId)===j&&((at=h.fromHandle)==null?void 0:at.type)===I&&((Ue=h.fromHandle)==null?void 0:Ue.id)===s),t.$$.dirty[0]&66|t.$$.dirty[1]&256&&n(5,a=((Ze=h.toHandle)==null?void 0:Ze.nodeId)===j&&((Mt=h.toHandle)==null?void 0:Mt.type)===I&&((Pt=h.toHandle)==null?void 0:Pt.id)===s),t.$$.dirty[0]&66|t.$$.dirty[1]&768&&n(8,u=c===Et.Strict?((zt=h.fromHandle)==null?void 0:zt.type)!==I:j!==((Ot=h.fromHandle)==null?void 0:Ot.nodeId)||s!==((mt=h.fromHandle)==null?void 0:mt.id)),t.$$.dirty[0]&32|t.$$.dirty[1]&256&&n(7,f=a&&h.isValid)},[_,I,k,P,q,a,s,f,u,l,r,i,o,A,j,T,te,v,ne,oe,se,de,ye,L,lt,st,Ke,rt,$,dt,ht,Z,gt,O,z,Y,G,Re,Ge,h,c,d,b,p,R,B]}class hn extends me{constructor(e){super(),be(this,e,Ps,Ms,_e,{id:0,type:1,position:2,style:3,isValidConnection:33,onconnect:34,ondisconnect:35,isConnectable:36,class:4},null,[-1,-1])}}function zs(t){var a;let e,n,i=((a=t[0])==null?void 0:a.label)+"",o,s,r,l;return e=new hn({props:{type:"target",position:t[1]??he.Top}}),r=new hn({props:{type:"source",position:t[2]??he.Bottom}}),{c(){ue(e.$$.fragment),n=He(),o=Zt(i),s=He(),ue(r.$$.fragment)},l(u){ge(e.$$.fragment,u),n=Ie(u),o=Ft(u,i),s=Ie(u),ge(r.$$.fragment,u)},m(u,f){fe(e,u,f),Q(u,n,f),Q(u,o,f),Q(u,s,f),fe(r,u,f),l=!0},p(u,[f]){var d;const h={};f&2&&(h.position=u[1]??he.Top),e.$set(h),(!l||f&1)&&i!==(i=((d=u[0])==null?void 0:d.label)+"")&&pt(o,i);const c={};f&4&&(c.position=u[2]??he.Bottom),r.$set(c)},i(u){l||(X(e.$$.fragment,u),X(r.$$.fragment,u),l=!0)},o(u){F(e.$$.fragment,u),F(r.$$.fragment,u),l=!1},d(u){u&&(V(n),V(o),V(s)),ce(e,u),ce(r,u)}}}function Os(t,e,n){const i=["data","targetPosition","sourcePosition"];ve(e,i);let{data:o={label:"Node"}}=e,{targetPosition:s=void 0}=e,{sourcePosition:r=void 0}=e;return t.$$set=l=>{e=Ce(Ce({},e),nt(l)),n(3,ve(e,i)),"data"in l&&n(0,o=l.data),"targetPosition"in l&&n(1,s=l.targetPosition),"sourcePosition"in l&&n(2,r=l.sourcePosition)},[o,s,r]}class Do extends me{constructor(e){super(),be(this,e,Os,zs,_e,{data:0,targetPosition:1,sourcePosition:2})}}function Ds(t){var r;let e=((r=t[0])==null?void 0:r.label)+"",n,i,o,s;return o=new hn({props:{type:"source",position:t[1]??he.Bottom}}),{c(){n=Zt(e),i=He(),ue(o.$$.fragment)},l(l){n=Ft(l,e),i=Ie(l),ge(o.$$.fragment,l)},m(l,a){Q(l,n,a),Q(l,i,a),fe(o,l,a),s=!0},p(l,[a]){var f;(!s||a&1)&&e!==(e=((f=l[0])==null?void 0:f.label)+"")&&pt(n,e);const u={};a&2&&(u.position=l[1]??he.Bottom),o.$set(u)},i(l){s||(X(o.$$.fragment,l),s=!0)},o(l){F(o.$$.fragment,l),s=!1},d(l){l&&(V(n),V(i)),ce(o,l)}}}function Hs(t,e,n){const i=["data","sourcePosition"];ve(e,i);let{data:o={label:"Node"}}=e,{sourcePosition:s=void 0}=e;return t.$$set=r=>{e=Ce(Ce({},e),nt(r)),n(2,ve(e,i)),"data"in r&&n(0,o=r.data),"sourcePosition"in r&&n(1,s=r.sourcePosition)},[o,s]}class Is extends me{constructor(e){super(),be(this,e,Hs,Ds,_e,{data:0,sourcePosition:1})}}function vs(t){var r;let e=((r=t[0])==null?void 0:r.label)+"",n,i,o,s;return o=new hn({props:{type:"target",position:t[1]??he.Top}}),{c(){n=Zt(e),i=He(),ue(o.$$.fragment)},l(l){n=Ft(l,e),i=Ie(l),ge(o.$$.fragment,l)},m(l,a){Q(l,n,a),Q(l,i,a),fe(o,l,a),s=!0},p(l,[a]){var f;(!s||a&1)&&e!==(e=((f=l[0])==null?void 0:f.label)+"")&&pt(n,e);const u={};a&2&&(u.position=l[1]??he.Top),o.$set(u)},i(l){s||(X(o.$$.fragment,l),s=!0)},o(l){F(o.$$.fragment,l),s=!1},d(l){l&&(V(n),V(i)),ce(o,l)}}}function Ts(t,e,n){const i=["data","targetPosition"];ve(e,i);let{data:o={label:"Node"}}=e,{targetPosition:s=void 0}=e;return t.$$set=r=>{e=Ce(Ce({},e),nt(r)),n(2,ve(e,i)),"data"in r&&n(0,o=r.data),"targetPosition"in r&&n(1,s=r.targetPosition)},[o,s]}class Ns extends me{constructor(e){super(),be(this,e,Ts,vs,_e,{data:0,targetPosition:1})}}function Vs(t,e,n){const i=[];return ve(e,i),t.$$set=o=>{e=Ce(Ce({},e),nt(o)),n(0,ve(e,i))},[]}class Ys extends me{constructor(e){super(),be(this,e,Vs,null,_e,{})}}function ki(t,e,n){if(!e)return;const i=n?e.querySelector(n):e;i&&i.appendChild(t)}function As(t,{target:e,domNode:n}){return ki(t,n,e),{async update({target:i,domNode:o}){ki(t,o,i)},destroy(){t.parentNode&&t.parentNode.removeChild(t)}}}function Xs(t){let e,n,i,o,s;const r=t[3].default,l=qe(r,t,t[2],null);return{c(){e=Be("div"),l&&l.c()},l(a){e=Le(a,"DIV",{});var u=re(e);l&&l.l(u),u.forEach(V)},m(a,u){Q(a,e,u),l&&l.m(e,null),i=!0,o||(s=pe(n=As.call(null,e,{target:".svelte-flow__edgelabel-renderer",domNode:t[0]})),o=!0)},p(a,[u]){l&&l.p&&(!i||u&4)&&je(l,r,a,a[2],i?Qe(r,a[2],u,null):Je(a[2]),null),n&&Ye(n.update)&&u&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:a[0]})},i(a){i||(X(l,a),i=!0)},o(a){F(l,a),i=!1},d(a){a&&V(e),l&&l.d(a),o=!1,s()}}}function Ws(t,e,n){let i,{$$slots:o={},$$scope:s}=e;const{domNode:r}=Ve();return U(t,r,l=>n(0,i=l)),t.$$set=l=>{"$$scope"in l&&n(2,s=l.$$scope)},[i,r,s,o]}class Bs extends me{constructor(e){super(),be(this,e,Ws,Xs,_e,{})}}function Ho(){const{edgeLookup:t,selectionRect:e,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:o,unselectNodesAndEdges:s,elementsSelectable:r}=Ve();return l=>{const a=J(t).get(l);if(!a){console.warn("012",Gt.error012(l));return}(a.selectable||J(r)&&typeof a.selectable>"u")&&(e.set(null),n.set(null),a.selected?a.selected&&J(i)&&s({nodes:[],edges:[a]}):o([l]))}}function Ls(t){let e,n,i=`translate(-50%, -50%) translate(${t[1]}px,${t[2]}px)`,o,s,r;const l=t[5].default,a=qe(l,t,t[7],null);return{c(){e=Be("div"),a&&a.c(),this.h()},l(u){e=Le(u,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var f=re(e);a&&a.l(f),f.forEach(V),this.h()},h(){E(e,"class","svelte-flow__edge-label"),E(e,"style",n="pointer-events: all;"+t[0]),E(e,"role","button"),E(e,"tabindex","-1"),ae(e,"transform",i)},m(u,f){Q(u,e,f),a&&a.m(e,null),o=!0,s||(r=[De(e,"keyup",Rs),De(e,"click",t[6])],s=!0)},p(u,f){a&&a.p&&(!o||f&128)&&je(a,l,u,u[7],o?Qe(l,u[7],f,null):Je(u[7]),null),(!o||f&1&&n!==(n="pointer-events: all;"+u[0]))&&E(e,"style",n);const h=f&1;(f&7&&i!==(i=`translate(-50%, -50%) translate(${u[1]}px,${u[2]}px)`)||h)&&ae(e,"transform",i)},i(u){o||(X(a,u),o=!0)},o(u){F(a,u),o=!1},d(u){u&&V(e),a&&a.d(u),s=!1,wt(r)}}}function Ks(t){let e,n;return e=new Bs({props:{$$slots:{default:[Ls]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment)},l(i){ge(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p(i,[o]){const s={};o&135&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ce(e,i)}}}const Rs=()=>{};function Zs(t,e,n){let{$$slots:i={},$$scope:o}=e,{style:s=void 0}=e,{x:r=void 0}=e,{y:l=void 0}=e;const a=Ho(),u=tn("svelteflow__edge_id"),f=()=>{u&&a(u)};return t.$$set=h=>{"style"in h&&n(0,s=h.style),"x"in h&&n(1,r=h.x),"y"in h&&n(2,l=h.y),"$$scope"in h&&n(7,o=h.$$scope)},[s,r,l,a,u,i,f,o]}class Fs extends me{constructor(e){super(),be(this,e,Zs,Ks,_e,{style:0,x:1,y:2})}}function ps(t){let e;return{c(){e=Se("path"),this.h()},l(n){e=Ee(n,"path",{d:!0,"stroke-opacity":!0,"stroke-width":!0,fill:!0,class:!0}),re(e).forEach(V),this.h()},h(){E(e,"d",t[1]),E(e,"stroke-opacity",0),E(e,"stroke-width",t[10]),E(e,"fill","none"),E(e,"class","svelte-flow__edge-interaction")},m(n,i){Q(n,e,i)},p(n,i){i&2&&E(e,"d",n[1])},d(n){n&&V(e)}}}function wi(t){let e,n;return e=new Fs({props:{x:t[3],y:t[4],style:t[5],$$slots:{default:[Gs]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment)},l(i){ge(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p(i,o){const s={};o&8&&(s.x=i[3]),o&16&&(s.y=i[4]),o&32&&(s.style=i[5]),o&4100&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ce(e,i)}}}function Gs(t){let e;return{c(){e=Zt(t[2])},l(n){e=Ft(n,t[2])},m(n,i){Q(n,e,i)},p(n,i){i&4&&pt(e,n[2])},d(n){n&&V(e)}}}function Us(t){let e,n,i,o,s,r,l=t[10]&&ps(t),a=t[2]&&wi(t);return{c(){e=Se("path"),i=He(),l&&l.c(),o=He(),a&&a.c(),s=Me(),this.h()},l(u){e=Ee(u,"path",{id:!0,d:!0,class:!0,"marker-start":!0,"marker-end":!0,fill:!0,style:!0}),re(e).forEach(V),i=Ie(u),l&&l.l(u),o=Ie(u),a&&a.l(u),s=Me(),this.h()},h(){E(e,"id",t[0]),E(e,"d",t[1]),E(e,"class",n=Pe(["svelte-flow__edge-path",t[9]])),E(e,"marker-start",t[6]),E(e,"marker-end",t[7]),E(e,"fill","none"),E(e,"style",t[8])},m(u,f){Q(u,e,f),Q(u,i,f),l&&l.m(u,f),Q(u,o,f),a&&a.m(u,f),Q(u,s,f),r=!0},p(u,[f]){(!r||f&1)&&E(e,"id",u[0]),(!r||f&2)&&E(e,"d",u[1]),(!r||f&512&&n!==(n=Pe(["svelte-flow__edge-path",u[9]])))&&E(e,"class",n),(!r||f&64)&&E(e,"marker-start",u[6]),(!r||f&128)&&E(e,"marker-end",u[7]),(!r||f&256)&&E(e,"style",u[8]),u[10]&&l.p(u,f),u[2]?a?(a.p(u,f),f&4&&X(a,1)):(a=wi(u),a.c(),X(a,1),a.m(s.parentNode,s)):a&&(Ae(),F(a,1,1,()=>{a=null}),Xe())},i(u){r||(X(a),r=!0)},o(u){F(a),r=!1},d(u){u&&(V(e),V(i),V(o),V(s)),l&&l.d(u),a&&a.d(u)}}}function qs(t,e,n){let{id:i=void 0}=e,{path:o}=e,{label:s=void 0}=e,{labelX:r=void 0}=e,{labelY:l=void 0}=e,{labelStyle:a=void 0}=e,{markerStart:u=void 0}=e,{markerEnd:f=void 0}=e,{style:h=void 0}=e,{interactionWidth:c=20}=e,{class:d=void 0}=e,b=c===void 0?20:c;return t.$$set=m=>{"id"in m&&n(0,i=m.id),"path"in m&&n(1,o=m.path),"label"in m&&n(2,s=m.label),"labelX"in m&&n(3,r=m.labelX),"labelY"in m&&n(4,l=m.labelY),"labelStyle"in m&&n(5,a=m.labelStyle),"markerStart"in m&&n(6,u=m.markerStart),"markerEnd"in m&&n(7,f=m.markerEnd),"style"in m&&n(8,h=m.style),"interactionWidth"in m&&n(11,c=m.interactionWidth),"class"in m&&n(9,d=m.class)},[i,o,s,r,l,a,u,f,h,d,b,c]}class Pn extends me{constructor(e){super(),be(this,e,qs,Us,_e,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}function js(t){let e,n;return e=new Pn({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ue(e.$$.fragment)},l(i){ge(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p(i,[o]){const s={};o&256&&(s.path=i[8]),o&128&&(s.labelX=i[7]),o&64&&(s.labelY=i[6]),o&1&&(s.label=i[0]),o&2&&(s.labelStyle=i[1]),o&8&&(s.markerStart=i[3]),o&16&&(s.markerEnd=i[4]),o&32&&(s.interactionWidth=i[5]),o&4&&(s.style=i[2]),e.$set(s)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ce(e,i)}}}function Js(t,e,n){let i,o,s;const r=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];ve(e,r);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:h=void 0}=e,{interactionWidth:c=void 0}=e,{sourceX:d}=e,{sourceY:b}=e,{sourcePosition:m}=e,{targetX:y}=e,{targetY:g}=e,{targetPosition:S}=e;return t.$$set=w=>{e=Ce(Ce({},e),nt(w)),n(15,ve(e,r)),"label"in w&&n(0,l=w.label),"labelStyle"in w&&n(1,a=w.labelStyle),"style"in w&&n(2,u=w.style),"markerStart"in w&&n(3,f=w.markerStart),"markerEnd"in w&&n(4,h=w.markerEnd),"interactionWidth"in w&&n(5,c=w.interactionWidth),"sourceX"in w&&n(9,d=w.sourceX),"sourceY"in w&&n(10,b=w.sourceY),"sourcePosition"in w&&n(11,m=w.sourcePosition),"targetX"in w&&n(12,y=w.targetX),"targetY"in w&&n(13,g=w.targetY),"targetPosition"in w&&n(14,S=w.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,s]=fo({sourceX:d,sourceY:b,targetX:y,targetY:g,sourcePosition:m,targetPosition:S}),i,(n(7,o),n(9,d),n(10,b),n(12,y),n(13,g),n(11,m),n(14,S)),(n(6,s),n(9,d),n(10,b),n(12,y),n(13,g),n(11,m),n(14,S)))},[l,a,u,f,h,c,s,o,i,d,b,m,y,g,S]}class Io extends me{constructor(e){super(),be(this,e,Js,js,_e,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function Qs(t){let e,n;return e=new Pn({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ue(e.$$.fragment)},l(i){ge(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p(i,[o]){const s={};o&256&&(s.path=i[8]),o&128&&(s.labelX=i[7]),o&64&&(s.labelY=i[6]),o&1&&(s.label=i[0]),o&2&&(s.labelStyle=i[1]),o&8&&(s.markerStart=i[3]),o&16&&(s.markerEnd=i[4]),o&32&&(s.interactionWidth=i[5]),o&4&&(s.style=i[2]),e.$set(s)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ce(e,i)}}}function xs(t,e,n){let i,o,s;const r=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];ve(e,r);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:h=void 0}=e,{interactionWidth:c=void 0}=e,{sourceX:d}=e,{sourceY:b}=e,{sourcePosition:m}=e,{targetX:y}=e,{targetY:g}=e,{targetPosition:S}=e;return t.$$set=w=>{e=Ce(Ce({},e),nt(w)),n(15,ve(e,r)),"label"in w&&n(0,l=w.label),"labelStyle"in w&&n(1,a=w.labelStyle),"style"in w&&n(2,u=w.style),"markerStart"in w&&n(3,f=w.markerStart),"markerEnd"in w&&n(4,h=w.markerEnd),"interactionWidth"in w&&n(5,c=w.interactionWidth),"sourceX"in w&&n(9,d=w.sourceX),"sourceY"in w&&n(10,b=w.sourceY),"sourcePosition"in w&&n(11,m=w.sourcePosition),"targetX"in w&&n(12,y=w.targetX),"targetY"in w&&n(13,g=w.targetY),"targetPosition"in w&&n(14,S=w.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,s]=dn({sourceX:d,sourceY:b,targetX:y,targetY:g,sourcePosition:m,targetPosition:S}),i,(n(7,o),n(9,d),n(10,b),n(12,y),n(13,g),n(11,m),n(14,S)),(n(6,s),n(9,d),n(10,b),n(12,y),n(13,g),n(11,m),n(14,S)))},[l,a,u,f,h,c,s,o,i,d,b,m,y,g,S]}class $s extends me{constructor(e){super(),be(this,e,xs,Qs,_e,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function er(t){let e,n;return e=new Pn({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ue(e.$$.fragment)},l(i){ge(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p(i,[o]){const s={};o&256&&(s.path=i[8]),o&128&&(s.labelX=i[7]),o&64&&(s.labelY=i[6]),o&1&&(s.label=i[0]),o&2&&(s.labelStyle=i[1]),o&8&&(s.markerStart=i[3]),o&16&&(s.markerEnd=i[4]),o&32&&(s.interactionWidth=i[5]),o&4&&(s.style=i[2]),e.$set(s)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ce(e,i)}}}function tr(t,e,n){let i,o,s;const r=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","targetX","targetY"];ve(e,r);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:h=void 0}=e,{interactionWidth:c=void 0}=e,{sourceX:d}=e,{sourceY:b}=e,{targetX:m}=e,{targetY:y}=e;return t.$$set=g=>{e=Ce(Ce({},e),nt(g)),n(13,ve(e,r)),"label"in g&&n(0,l=g.label),"labelStyle"in g&&n(1,a=g.labelStyle),"style"in g&&n(2,u=g.style),"markerStart"in g&&n(3,f=g.markerStart),"markerEnd"in g&&n(4,h=g.markerEnd),"interactionWidth"in g&&n(5,c=g.interactionWidth),"sourceX"in g&&n(9,d=g.sourceX),"sourceY"in g&&n(10,b=g.sourceY),"targetX"in g&&n(11,m=g.targetX),"targetY"in g&&n(12,y=g.targetY)},t.$$.update=()=>{t.$$.dirty&7680&&n(8,[i,o,s]=ho({sourceX:d,sourceY:b,targetX:m,targetY:y}),i,(n(7,o),n(9,d),n(10,b),n(11,m),n(12,y)),(n(6,s),n(9,d),n(10,b),n(11,m),n(12,y)))},[l,a,u,f,h,c,s,o,i,d,b,m,y]}class nr extends me{constructor(e){super(),be(this,e,tr,er,_e,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,targetX:11,targetY:12})}}function ir(t){let e,n;return e=new Pn({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ue(e.$$.fragment)},l(i){ge(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p(i,[o]){const s={};o&256&&(s.path=i[8]),o&128&&(s.labelX=i[7]),o&64&&(s.labelY=i[6]),o&1&&(s.label=i[0]),o&2&&(s.labelStyle=i[1]),o&8&&(s.markerStart=i[3]),o&16&&(s.markerEnd=i[4]),o&32&&(s.interactionWidth=i[5]),o&4&&(s.style=i[2]),e.$set(s)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ce(e,i)}}}function or(t,e,n){let i,o,s;const r=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];ve(e,r);let{label:l=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:h=void 0}=e,{interactionWidth:c=void 0}=e,{sourceX:d}=e,{sourceY:b}=e,{sourcePosition:m}=e,{targetX:y}=e,{targetY:g}=e,{targetPosition:S}=e;return t.$$set=w=>{e=Ce(Ce({},e),nt(w)),n(15,ve(e,r)),"label"in w&&n(0,l=w.label),"labelStyle"in w&&n(1,a=w.labelStyle),"style"in w&&n(2,u=w.style),"markerStart"in w&&n(3,f=w.markerStart),"markerEnd"in w&&n(4,h=w.markerEnd),"interactionWidth"in w&&n(5,c=w.interactionWidth),"sourceX"in w&&n(9,d=w.sourceX),"sourceY"in w&&n(10,b=w.sourceY),"sourcePosition"in w&&n(11,m=w.sourcePosition),"targetX"in w&&n(12,y=w.targetX),"targetY"in w&&n(13,g=w.targetY),"targetPosition"in w&&n(14,S=w.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,s]=dn({sourceX:d,sourceY:b,targetX:y,targetY:g,sourcePosition:m,targetPosition:S,borderRadius:0}),i,(n(7,o),n(9,d),n(10,b),n(12,y),n(13,g),n(11,m),n(14,S)),(n(6,s),n(9,d),n(10,b),n(12,y),n(13,g),n(11,m),n(14,S)))},[l,a,u,f,h,c,s,o,i,d,b,m,y,g,S]}class lr extends me{constructor(e){super(),be(this,e,or,ir,_e,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function sr(t,e){const n=t.set,i=e.set,o=J(t),s=J(e);let l=o.length===0&&s.length>0?s:o;t.set(l);const a=u=>{const f=n(u);return l=f,i(l),f};t.set=e.set=a,t.update=e.update=u=>a(u(l))}function rr(t,e){const n=t.set,i=e.set;let o=J(e);t.set(o);const s=r=>{n(r),i(r),o=r};t.set=e.set=s,t.update=e.update=r=>s(r(o))}const ar=(t,e,n)=>{if(!n)return;const i=J(t),o=e.set,s=n.set;let r=n?J(n):{x:0,y:0,zoom:1};e.set(r),e.set=l=>(o(l),s(l),r=l,l),n.set=l=>(i==null||i.syncViewport(l),o(l),s(l),r=l,l),e.update=l=>{e.set(l(r))},n.update=l=>{n.set(l(r))}},ur=(t,e,n,i=[0,0],o=sn)=>{const{subscribe:s,set:r,update:l}=ie([]);let a=t,u={},f=!0;const h=m=>(bo(m,e,n,{elevateNodesOnSelect:f,nodeOrigin:i,nodeExtent:o,defaults:u,checkEquality:!1}),a=m,r(a),a),c=m=>h(m(a)),d=m=>{u=m},b=m=>{f=m.elevateNodesOnSelect??f};return h(a),{subscribe:s,set:h,update:c,setDefaultOptions:d,setOptions:b}},fr=(t,e,n,i)=>{const{subscribe:o,set:s,update:r}=ie([]);let l=t,a={};const u=c=>{const d=a?c.map(b=>({...a,...b})):c;ko(e,n,d),l=d,s(l)},f=c=>u(c(l)),h=c=>{a=c};return u(l),{subscribe:o,set:u,update:f,setDefaultOptions:h}},vo={input:Is,output:Ns,default:Do,group:Ys},To={straight:nr,smoothstep:$s,default:Io,step:lr},cr=({nodes:t=[],edges:e=[],width:n,height:i,fitView:o,nodeOrigin:s,nodeExtent:r})=>{const l=new Map,a=new Map,u=new Map,f=new Map,h=s??[0,0],c=r??sn;bo(t,l,a,{nodeExtent:c,nodeOrigin:h,elevateNodesOnSelect:!1,checkEquality:!1}),ko(u,f,e);let d={x:0,y:0,zoom:1};if(o&&n&&i){const b=Ut(l,{filter:m=>!!((m.width||m.initialWidth)&&(m.height||m.initialHeight))});d=ro(b,n,i,.5,2,.1)}return{flowId:ie(null),nodes:ur(t,l,a,h,c),nodeLookup:$e(l),parentLookup:$e(a),edgeLookup:$e(f),visibleNodes:$e([]),edges:fr(e,u,f),visibleEdges:$e([]),connectionLookup:$e(u),height:ie(500),width:ie(500),minZoom:ie(.5),maxZoom:ie(2),nodeOrigin:ie(h),nodeDragThreshold:ie(1),nodeExtent:ie(c),translateExtent:ie(sn),autoPanOnNodeDrag:ie(!0),autoPanOnConnect:ie(!0),fitViewOnInit:ie(!1),fitViewOnInitDone:ie(!1),fitViewOptions:ie(void 0),panZoom:ie(null),snapGrid:ie(null),dragging:ie(!1),selectionRect:ie(null),selectionKeyPressed:ie(!1),multiselectionKeyPressed:ie(!1),deleteKeyPressed:ie(!1),panActivationKeyPressed:ie(!1),zoomActivationKeyPressed:ie(!1),selectionRectMode:ie(null),selectionMode:ie(rn.Partial),nodeTypes:ie(vo),edgeTypes:ie(To),viewport:ie(d),connectionMode:ie(Et.Strict),domNode:ie(null),connection:$e(Wn),connectionLineType:ie(Nt.Bezier),connectionRadius:ie(20),isValidConnection:ie(()=>!0),nodesDraggable:ie(!0),nodesConnectable:ie(!0),elementsSelectable:ie(!0),selectNodesOnDrag:ie(!0),markers:$e([]),defaultMarkerColor:ie("#b1b1b7"),lib:$e("svelte"),onlyRenderVisibleElements:ie(!1),onerror:ie(Nl),ondelete:ie(void 0),onedgecreate:ie(void 0),onconnect:ie(void 0),onconnectstart:ie(void 0),onconnectend:ie(void 0),onbeforedelete:ie(void 0),nodesInitialized:ie(!1),edgesInitialized:ie(!1),viewportInitialized:ie(!1),initialized:$e(!1)}};function dr(t){const e=vt([t.edges,t.nodes,t.nodeLookup,t.onlyRenderVisibleElements,t.viewport,t.width,t.height],([n,,i,o,s,r,l])=>o&&r&&l?n.filter(u=>{const f=i.get(u.source),h=i.get(u.target);return f&&h&&Ll({sourceNode:f,targetNode:h,width:r,height:l,transform:[s.x,s.y,s.zoom]})}):n);return vt([e,t.nodes,t.nodeLookup,t.connectionMode,t.onerror],([n,,i,o,s])=>n.reduce((l,a)=>{const u=i.get(a.source),f=i.get(a.target);if(!u||!f)return l;const h=Ul({id:a.id,sourceNode:u,targetNode:f,sourceHandle:a.sourceHandle||null,targetHandle:a.targetHandle||null,connectionMode:o,onError:s});return h&&l.push({...a,zIndex:Bl({selected:a.selected,zIndex:a.zIndex,sourceNode:u,targetNode:f,elevateOnSelect:!1}),...h}),l},[]))}function hr(t){return vt([t.nodeLookup,t.onlyRenderVisibleElements,t.width,t.height,t.viewport,t.nodes],([e,n,i,o,s])=>{const r=[s.x,s.y,s.zoom];return n?io(e,{x:0,y:0,width:i,height:o},r,!0):Array.from(e.values())})}const Un=Symbol();function gr({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:s,nodeExtent:r}){const l=cr({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:s,nodeExtent:r});function a(k){l.nodeTypes.set({...vo,...k})}function u(k){l.edgeTypes.set({...To,...k})}function f(k){const P=J(l.edges);l.edges.set(Zl(k,P))}const h=(k,P=!1)=>{var z;const O=J(l.nodeLookup);for(const[Y,G]of k){const q=(z=O.get(Y))==null?void 0:z.internals.userNode;q&&(q.position=G.position,q.dragging=P)}l.nodes.update(Y=>Y)};function c(k){var Y,G,q;const P=J(l.nodeLookup),{changes:O,updatedInternals:z}=$l(k,P,J(l.parentLookup),J(l.domNode),J(l.nodeOrigin));if(z){if(!J(l.fitViewOnInitDone)&&J(l.fitViewOnInit)){const j=J(l.fitViewOptions),T=b({...j,nodes:j==null?void 0:j.nodes});l.fitViewOnInitDone.set(T)}for(const j of O){const T=(Y=P.get(j.id))==null?void 0:Y.internals.userNode;if(T)switch(j.type){case"dimensions":{const ee={...T.measured,...j.dimensions};j.setAttributes&&(T.width=((G=j.dimensions)==null?void 0:G.width)??T.width,T.height=((q=j.dimensions)==null?void 0:q.height)??T.height),T.measured=ee;break}case"position":T.position=j.position??T.position;break}}l.nodes.update(j=>j),J(l.nodesInitialized)||l.nodesInitialized.set(!0)}}function d(k){const P=J(l.panZoom);if(!P)return Promise.resolve(!1);const O=si(J(l.nodeLookup),k);return ri({nodes:O,width:J(l.width),height:J(l.height),minZoom:J(l.minZoom),maxZoom:J(l.maxZoom),panZoom:P},k)}function b(k){const P=J(l.panZoom);if(!P)return!1;const O=si(J(l.nodeLookup),k);return ri({nodes:O,width:J(l.width),height:J(l.height),minZoom:J(l.minZoom),maxZoom:J(l.maxZoom),panZoom:P},k),O.size>0}function m(k,P){const O=J(l.panZoom);return O?O.scaleBy(k,P):Promise.resolve(!1)}function y(k){return m(1.2,k)}function g(k){return m(1/1.2,k)}function S(k){const P=J(l.panZoom);P&&(P.setScaleExtent([k,J(l.maxZoom)]),l.minZoom.set(k))}function w(k){const P=J(l.panZoom);P&&(P.setScaleExtent([J(l.minZoom),k]),l.maxZoom.set(k))}function C(k){const P=J(l.panZoom);P&&(P.setTranslateExtent(k),l.translateExtent.set(k))}function A(k){let P=!1;return k.forEach(O=>{O.selected&&(O.selected=!1,P=!0)}),P}function K(k){var P;(P=J(l.panZoom))==null||P.setClickDistance(k)}function N(k){A((k==null?void 0:k.nodes)||J(l.nodes))&&l.nodes.set(J(l.nodes)),A((k==null?void 0:k.edges)||J(l.edges))&&l.edges.set(J(l.edges))}l.deleteKeyPressed.subscribe(async k=>{var P;if(k){const O=J(l.nodes),z=J(l.edges),Y=O.filter(T=>T.selected),G=z.filter(T=>T.selected),{nodes:q,edges:j}=await Tl({nodesToRemove:Y,edgesToRemove:G,nodes:O,edges:z,onBeforeDelete:J(l.onbeforedelete)});(q.length||j.length)&&(l.nodes.update(T=>T.filter(ee=>!q.some(te=>te.id===ee.id))),l.edges.update(T=>T.filter(ee=>!j.some(te=>te.id===ee.id))),(P=J(l.ondelete))==null||P({nodes:q,edges:j}))}});function H(k){const P=J(l.multiselectionKeyPressed);l.nodes.update(O=>O.map(z=>{const Y=k.includes(z.id),G=P&&z.selected||Y;return z.selected=G,z})),P||l.edges.update(O=>O.map(z=>(z.selected=!1,z)))}function D(k){const P=J(l.multiselectionKeyPressed);l.edges.update(O=>O.map(z=>{const Y=k.includes(z.id),G=P&&z.selected||Y;return z.selected=G,z})),P||l.nodes.update(O=>O.map(z=>(z.selected=!1,z)))}function W(k){var O;const P=(O=J(l.nodes))==null?void 0:O.find(z=>z.id===k);if(!P){console.warn("012",Gt.error012(k));return}l.selectionRect.set(null),l.selectionRectMode.set(null),P.selected?P.selected&&J(l.multiselectionKeyPressed)&&N({nodes:[P],edges:[]}):H([k])}function p(k){const P=J(l.viewport);return es({delta:k,panZoom:J(l.panZoom),transform:[P.x,P.y,P.zoom],translateExtent:J(l.translateExtent),width:J(l.width),height:J(l.height)})}const B=ie(Wn),R=k=>{B.set({...k})};function _(){B.set(Wn)}function I(){l.fitViewOnInitDone.set(!1),l.selectionRect.set(null),l.selectionRectMode.set(null),l.snapGrid.set(null),l.isValidConnection.set(()=>!0),N(),_()}return{...l,visibleEdges:dr(l),visibleNodes:hr(l),connection:vt([B,l.viewport],([k,P])=>k.inProgress?{...k,to:Cn(k.to,[P.x,P.y,P.zoom])}:{...k}),markers:vt([l.edges,l.defaultMarkerColor,l.flowId],([k,P,O])=>ql(k,{defaultColor:P,id:O})),initialized:(()=>{let k=!1;const P=J(l.nodes).length,O=J(l.edges).length;return vt([l.nodesInitialized,l.edgesInitialized,l.viewportInitialized],([z,Y,G])=>k||(P===0?k=G:O===0?k=G&&z:k=G&&z&&Y,k))})(),syncNodeStores:k=>sr(l.nodes,k),syncEdgeStores:k=>rr(l.edges,k),syncViewport:k=>ar(l.panZoom,l.viewport,k),setNodeTypes:a,setEdgeTypes:u,addEdge:f,updateNodePositions:h,updateNodeInternals:c,zoomIn:y,zoomOut:g,fitView:k=>d(k),setMinZoom:S,setMaxZoom:w,setTranslateExtent:C,setPaneClickDistance:K,unselectNodesAndEdges:N,addSelectedNodes:H,addSelectedEdges:D,handleNodeSelection:W,panBy:p,updateConnection:R,cancelConnection:_,reset:I}}function Ve(){const t=tn(Un);if(!t)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return t.getStore()}function mr({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:s,nodeExtent:r}){const l=gr({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:s,nodeExtent:r});return nn(Un,{getStore:()=>l}),l}function br(t,e){const{panZoom:n,minZoom:i,maxZoom:o,initialViewport:s,viewport:r,dragging:l,translateExtent:a,paneClickDistance:u}=e,f=ys({domNode:t,minZoom:i,maxZoom:o,translateExtent:a,viewport:s,paneClickDistance:u,onDraggingChange:l.set}),h=f.getViewport();return r.set(h),n.set(f),f.update(e),{update(c){f.update(c)}}}function yr(t){let e,n,i,o,s;const r=t[35].default,l=qe(r,t,t[34],null);return{c(){e=Be("div"),l&&l.c(),this.h()},l(a){e=Le(a,"DIV",{class:!0});var u=re(e);l&&l.l(u),u.forEach(V),this.h()},h(){E(e,"class","svelte-flow__zoom svelte-4xkw84")},m(a,u){Q(a,e,u),l&&l.m(e,null),i=!0,o||(s=pe(n=br.call(null,e,{viewport:t[18],minZoom:t[12],maxZoom:t[13],initialViewport:t[11],dragging:t[23],panZoom:t[19],onPanZoomStart:t[0],onPanZoom:t[1],onPanZoomEnd:t[2],zoomOnScroll:t[5],zoomOnDoubleClick:t[6],zoomOnPinch:t[7],panOnScroll:t[9],panOnDrag:t[10],panOnScrollSpeed:.5,panOnScrollMode:t[3]||ot.Free,zoomActivationKeyPressed:t[14],preventScrolling:typeof t[4]=="boolean"?t[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!t[15],translateExtent:t[16],lib:t[17],paneClickDistance:t[8],onTransformChange:t[29]})),o=!0)},p(a,u){l&&l.p&&(!i||u[1]&8)&&je(l,r,a,a[34],i?Qe(r,a[34],u,null):Je(a[34]),null),n&&Ye(n.update)&&u[0]&262143&&n.update.call(null,{viewport:a[18],minZoom:a[12],maxZoom:a[13],initialViewport:a[11],dragging:a[23],panZoom:a[19],onPanZoomStart:a[0],onPanZoom:a[1],onPanZoomEnd:a[2],zoomOnScroll:a[5],zoomOnDoubleClick:a[6],zoomOnPinch:a[7],panOnScroll:a[9],panOnDrag:a[10],panOnScrollSpeed:.5,panOnScrollMode:a[3]||ot.Free,zoomActivationKeyPressed:a[14],preventScrolling:typeof a[4]=="boolean"?a[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!a[15],translateExtent:a[16],lib:a[17],paneClickDistance:a[8],onTransformChange:a[29]})},i(a){i||(X(l,a),i=!0)},o(a){F(l,a),i=!1},d(a){a&&V(e),l&&l.d(a),o=!1,s()}}}function _r(t,e,n){let i,o,s,r,l,a,u,f,h,c,d,{$$slots:b={},$$scope:m}=e,{initialViewport:y=void 0}=e,{onMoveStart:g=void 0}=e,{onMove:S=void 0}=e,{onMoveEnd:w=void 0}=e,{panOnScrollMode:C}=e,{preventScrolling:A}=e,{zoomOnScroll:K}=e,{zoomOnDoubleClick:N}=e,{zoomOnPinch:H}=e,{panOnDrag:D}=e,{panOnScroll:W}=e,{paneClickDistance:p}=e;const{viewport:B,panZoom:R,selectionRect:_,minZoom:I,maxZoom:k,dragging:P,translateExtent:O,lib:z,panActivationKeyPressed:Y,zoomActivationKeyPressed:G,viewportInitialized:q}=Ve();U(t,_,T=>n(15,h=T)),U(t,I,T=>n(12,a=T)),U(t,k,T=>n(13,u=T)),U(t,O,T=>n(16,c=T)),U(t,z,T=>n(17,d=T)),U(t,Y,T=>n(33,l=T)),U(t,G,T=>n(14,f=T)),U(t,q,T=>n(36,r=T));const j=T=>B.set({x:T[0],y:T[1],zoom:T[2]});return mn(()=>{on(q,r=!0,r)}),t.$$set=T=>{"initialViewport"in T&&n(30,y=T.initialViewport),"onMoveStart"in T&&n(0,g=T.onMoveStart),"onMove"in T&&n(1,S=T.onMove),"onMoveEnd"in T&&n(2,w=T.onMoveEnd),"panOnScrollMode"in T&&n(3,C=T.panOnScrollMode),"preventScrolling"in T&&n(4,A=T.preventScrolling),"zoomOnScroll"in T&&n(5,K=T.zoomOnScroll),"zoomOnDoubleClick"in T&&n(6,N=T.zoomOnDoubleClick),"zoomOnPinch"in T&&n(7,H=T.zoomOnPinch),"panOnDrag"in T&&n(31,D=T.panOnDrag),"panOnScroll"in T&&n(32,W=T.panOnScroll),"paneClickDistance"in T&&n(8,p=T.paneClickDistance),"$$scope"in T&&n(34,m=T.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&1073741824&&n(11,i=y||{x:0,y:0,zoom:1}),t.$$.dirty[1]&5&&n(10,o=l||D),t.$$.dirty[1]&6&&n(9,s=l||W)},[g,S,w,C,A,K,N,H,p,s,o,i,a,u,f,h,c,d,B,R,_,I,k,P,O,z,Y,G,q,j,y,D,W,l,m,b]}class kr extends me{constructor(e){super(),be(this,e,_r,yr,_e,{initialViewport:30,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:31,panOnScroll:32,paneClickDistance:8},null,[-1,-1])}}function wr(t){let e,n,i,o;const s=t[28].default,r=qe(s,t,t[27],null);return{c(){e=Be("div"),r&&r.c(),this.h()},l(l){e=Le(l,"DIV",{class:!0});var a=re(e);r&&r.l(a),a.forEach(V),this.h()},h(){E(e,"class","svelte-flow__pane svelte-1esy7hx"),le(e,"draggable",t[0]===!0||Array.isArray(t[0])&&t[0].includes(0)),le(e,"dragging",t[4]),le(e,"selection",t[1])},m(l,a){Q(l,e,a),r&&r.m(e,null),t[29](e),n=!0,i||(o=[De(e,"click",function(){Ye(t[3]?void 0:en(t[15],t[2]))&&(t[3]?void 0:en(t[15],t[2])).apply(this,arguments)}),De(e,"pointerdown",function(){Ye(t[3]?t[16]:void 0)&&(t[3]?t[16]:void 0).apply(this,arguments)}),De(e,"pointermove",function(){Ye(t[3]?t[17]:void 0)&&(t[3]?t[17]:void 0).apply(this,arguments)}),De(e,"pointerup",function(){Ye(t[3]?t[18]:void 0)&&(t[3]?t[18]:void 0).apply(this,arguments)}),De(e,"contextmenu",function(){Ye(en(t[19],t[2]))&&en(t[19],t[2]).apply(this,arguments)})],i=!0)},p(l,a){t=l,r&&r.p&&(!n||a[0]&134217728)&&je(r,s,t,t[27],n?Qe(s,t[27],a,null):Je(t[27]),null),(!n||a[0]&1)&&le(e,"draggable",t[0]===!0||Array.isArray(t[0])&&t[0].includes(0)),(!n||a[0]&16)&&le(e,"dragging",t[4]),(!n||a[0]&2)&&le(e,"selection",t[1])},i(l){n||(X(r,l),n=!0)},o(l){F(r,l),n=!1},d(l){l&&V(e),r&&r.d(l),t[29](null),i=!1,wt(o)}}}function en(t,e){return n=>{n.target===e&&(t==null||t(n))}}function Si(t){return e=>{const n=t.includes(e.id);return e.selected!==n&&(e.selected=n),e}}function Sr(t,e,n){let i,o,s,r,l,a,u,f,h,c,d,b,m,{$$slots:y={},$$scope:g}=e,{panOnDrag:S=void 0}=e,{selectionOnDrag:w=void 0}=e;const C=bn(),{nodes:A,nodeLookup:K,edges:N,viewport:H,dragging:D,elementsSelectable:W,selectionRect:p,selectionRectMode:B,selectionKeyPressed:R,selectionMode:_,panActivationKeyPressed:I,unselectNodesAndEdges:k}=Ve();U(t,K,v=>n(36,h=v)),U(t,N,v=>n(33,a=v)),U(t,H,v=>n(35,f=v)),U(t,D,v=>n(4,m=v)),U(t,W,v=>n(25,d=v)),U(t,p,v=>n(24,c=v)),U(t,B,v=>n(23,l=v)),U(t,R,v=>n(22,r=v)),U(t,_,v=>n(34,u=v)),U(t,I,v=>n(26,b=v));let P,O=null,z=[],Y=!1;function G(v){if(Y){Y=!1;return}C("paneclick",{event:v}),k(),B.set(null)}function q(v){var se,de;if(O=P.getBoundingClientRect(),!W||!o||v.button!==0||v.target!==P||!O)return;(de=(se=v.target)==null?void 0:se.setPointerCapture)==null||de.call(se,v.pointerId);const{x:ne,y:oe}=ut(v,O);k(),p.set({width:0,height:0,startX:ne,startY:oe,x:ne,y:oe})}function j(v){if(!o||!O||!c)return;Y=!0;const ne=ut(v,O),oe=c.startX??0,se=c.startY??0,de={...c,x:ne.x<oe?ne.x:oe,y:ne.y<se?ne.y:se,width:Math.abs(ne.x-oe),height:Math.abs(ne.y-se)},ye=z.map(ze=>ze.id),Oe=Bn(z,a).map(ze=>ze.id);z=io(h,de,[f.x,f.y,f.zoom],u===rn.Partial,!0);const L=Bn(z,a).map(ze=>ze.id),Te=z.map(ze=>ze.id);(ye.length!==Te.length||Te.some(ze=>!ye.includes(ze)))&&A.update(ze=>ze.map(Si(Te))),(Oe.length!==L.length||L.some(ze=>!Oe.includes(ze)))&&N.update(ze=>ze.map(Si(L))),B.set("user"),p.set(de)}function T(v){var ne,oe;v.button===0&&((oe=(ne=v.target)==null?void 0:ne.releasePointerCapture)==null||oe.call(ne,v.pointerId),!o&&l==="user"&&v.target===P&&(G==null||G(v)),p.set(null),z.length>0&&on(B,l="nodes",l),r&&(Y=!1))}const ee=v=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){v.preventDefault();return}C("panecontextmenu",{event:v})};function te(v){Rn[v?"unshift":"push"](()=>{P=v,n(2,P)})}return t.$$set=v=>{"panOnDrag"in v&&n(0,S=v.panOnDrag),"selectionOnDrag"in v&&n(20,w=v.selectionOnDrag),"$$scope"in v&&n(27,g=v.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&67108865&&n(21,i=b||S),t.$$.dirty[0]&24117248&&n(1,o=r||c||w&&i!==!0),t.$$.dirty[0]&41943042&&n(3,s=d&&(o||l==="user"))},[S,o,P,s,m,K,N,H,D,W,p,B,R,_,I,G,q,j,T,ee,w,i,r,l,c,d,b,g,y,te]}class Er extends me{constructor(e){super(),be(this,e,Sr,wr,_e,{panOnDrag:0,selectionOnDrag:20},null,[-1,-1])}}function Cr(t){let e,n;const i=t[3].default,o=qe(i,t,t[2],null);return{c(){e=Be("div"),o&&o.c(),this.h()},l(s){e=Le(s,"DIV",{class:!0,style:!0});var r=re(e);o&&o.l(r),r.forEach(V),this.h()},h(){E(e,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),ae(e,"transform","translate("+t[0].x+"px, "+t[0].y+"px) scale("+t[0].zoom+")")},m(s,r){Q(s,e,r),o&&o.m(e,null),n=!0},p(s,[r]){o&&o.p&&(!n||r&4)&&je(o,i,s,s[2],n?Qe(i,s[2],r,null):Je(s[2]),null),(!n||r&1)&&ae(e,"transform","translate("+s[0].x+"px, "+s[0].y+"px) scale("+s[0].zoom+")")},i(s){n||(X(o,s),n=!0)},o(s){F(o,s),n=!1},d(s){s&&V(e),o&&o.d(s)}}}function Mr(t,e,n){let i,{$$slots:o={},$$scope:s}=e;const{viewport:r}=Ve();return U(t,r,l=>n(0,i=l)),t.$$set=l=>{"$$scope"in l&&n(2,s=l.$$scope)},[i,r,s,o]}class Pr extends me{constructor(e){super(),be(this,e,Mr,Cr,_e,{})}}function No(t,e){const{store:n,onDrag:i,onDragStart:o,onDragStop:s,onNodeMouseDown:r}=e,l=ns({onDrag:i,onDragStart:o,onDragStop:s,onNodeMouseDown:r,getStoreItems:()=>{const u=J(n.snapGrid),f=J(n.viewport);return{nodes:J(n.nodes),nodeLookup:J(n.nodeLookup),edges:J(n.edges),nodeExtent:J(n.nodeExtent),snapGrid:u||[0,0],snapToGrid:!!u,nodeOrigin:J(n.nodeOrigin),multiSelectionActive:J(n.multiselectionKeyPressed),domNode:J(n.domNode),transform:[f.x,f.y,f.zoom],autoPanOnNodeDrag:J(n.autoPanOnNodeDrag),nodesDraggable:J(n.nodesDraggable),selectNodesOnDrag:J(n.selectNodesOnDrag),nodeDragThreshold:J(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function a(u,f){if(f.disabled){l.destroy();return}l.update({domNode:u,noDragClassName:f.noDragClass,handleSelector:f.handleSelector,nodeId:f.nodeId,isSelectable:f.isSelectable,nodeClickDistance:f.nodeClickDistance})}return a(t,e),{update(u){a(t,u)},destroy(){l.destroy()}}}function zr({width:t,height:e,initialWidth:n,initialHeight:i,measuredWidth:o,measuredHeight:s}){if(o===void 0&&s===void 0){const r=t??n,l=e??i;return{width:r?`width:${r}px;`:"",height:l?`height:${l}px;`:""}}return{width:t?`width:${t}px;`:"",height:e?`height:${e}px;`:""}}function Ei(t){let e,n,i,o,s,r=`translate(${t[12]}px, ${t[13]}px)`,l,a,u;var f=t[27];function h(c,d){return{props:{data:c[2],id:c[1],selected:c[3],selectable:c[5],deletable:c[7],sourcePosition:c[14],targetPosition:c[15],zIndex:c[16],dragging:c[9],draggable:c[4],dragHandle:c[19],parentId:c[21],type:c[25],isConnectable:c[28],positionAbsoluteX:c[12],positionAbsoluteY:c[13],width:c[17],height:c[18]}}}return f&&(n=ln(f,h(t))),{c(){e=Be("div"),n&&ue(n.$$.fragment),this.h()},l(c){e=Le(c,"DIV",{"data-id":!0,class:!0,style:!0});var d=re(e);n&&ge(n.$$.fragment,d),d.forEach(V),this.h()},h(){E(e,"data-id",t[1]),E(e,"class",i=Pe(["svelte-flow__node",`svelte-flow__node-${t[25]}`,t[23]])),E(e,"style",o=(t[10]??"")+";"+t[26].width+t[26].height),le(e,"dragging",t[9]),le(e,"selected",t[3]),le(e,"draggable",t[4]),le(e,"connectable",t[6]),le(e,"selectable",t[5]),le(e,"nopan",t[4]),le(e,"parent",t[11]),ae(e,"z-index",t[16]),ae(e,"transform",r),ae(e,"visibility",t[20]?"visible":"hidden")},m(c,d){Q(c,e,d),n&&fe(n,e,null),t[50](e),l=!0,a||(u=[pe(s=No.call(null,e,{nodeId:t[1],isSelectable:t[5],disabled:!1,handleSelector:t[19],noDragClass:"nodrag",nodeClickDistance:t[22],onNodeMouseDown:t[31],onDrag:t[47],onDragStart:t[48],onDragStop:t[49],store:t[29]})),De(e,"click",t[34]),De(e,"mouseenter",t[51]),De(e,"mouseleave",t[52]),De(e,"mousemove",t[53]),De(e,"contextmenu",t[54])],a=!0)},p(c,d){if(d[0]&134217728&&f!==(f=c[27])){if(n){Ae();const m=n;F(m.$$.fragment,1,0,()=>{ce(m,1)}),Xe()}f?(n=ln(f,h(c)),ue(n.$$.fragment),X(n.$$.fragment,1),fe(n,e,null)):n=null}else if(f){const m={};d[0]&4&&(m.data=c[2]),d[0]&2&&(m.id=c[1]),d[0]&8&&(m.selected=c[3]),d[0]&32&&(m.selectable=c[5]),d[0]&128&&(m.deletable=c[7]),d[0]&16384&&(m.sourcePosition=c[14]),d[0]&32768&&(m.targetPosition=c[15]),d[0]&65536&&(m.zIndex=c[16]),d[0]&512&&(m.dragging=c[9]),d[0]&16&&(m.draggable=c[4]),d[0]&524288&&(m.dragHandle=c[19]),d[0]&2097152&&(m.parentId=c[21]),d[0]&33554432&&(m.type=c[25]),d[0]&268435456&&(m.isConnectable=c[28]),d[0]&4096&&(m.positionAbsoluteX=c[12]),d[0]&8192&&(m.positionAbsoluteY=c[13]),d[0]&131072&&(m.width=c[17]),d[0]&262144&&(m.height=c[18]),n.$set(m)}(!l||d[0]&2)&&E(e,"data-id",c[1]),(!l||d[0]&41943040&&i!==(i=Pe(["svelte-flow__node",`svelte-flow__node-${c[25]}`,c[23]])))&&E(e,"class",i),(!l||d[0]&67109888&&o!==(o=(c[10]??"")+";"+c[26].width+c[26].height))&&E(e,"style",o),s&&Ye(s.update)&&d[0]&4718626&&s.update.call(null,{nodeId:c[1],isSelectable:c[5],disabled:!1,handleSelector:c[19],noDragClass:"nodrag",nodeClickDistance:c[22],onNodeMouseDown:c[31],onDrag:c[47],onDragStart:c[48],onDragStop:c[49],store:c[29]}),(!l||d[0]&41943552)&&le(e,"dragging",c[9]),(!l||d[0]&41943048)&&le(e,"selected",c[3]),(!l||d[0]&41943056)&&le(e,"draggable",c[4]),(!l||d[0]&41943104)&&le(e,"connectable",c[6]),(!l||d[0]&41943072)&&le(e,"selectable",c[5]),(!l||d[0]&41943056)&&le(e,"nopan",c[4]),(!l||d[0]&41945088)&&le(e,"parent",c[11]);const b=d[0]&67109888;(d[0]&67175424||b)&&ae(e,"z-index",c[16]),(d[0]&67122176&&r!==(r=`translate(${c[12]}px, ${c[13]}px)`)||b)&&ae(e,"transform",r),(d[0]&68158464||b)&&ae(e,"visibility",c[20]?"visible":"hidden")},i(c){l||(n&&X(n.$$.fragment,c),l=!0)},o(c){n&&F(n.$$.fragment,c),l=!1},d(c){c&&V(e),n&&ce(n),t[50](null),a=!1,wt(u)}}}function Or(t){let e,n,i=!t[8]&&Ei(t);return{c(){i&&i.c(),e=Me()},l(o){i&&i.l(o),e=Me()},m(o,s){i&&i.m(o,s),Q(o,e,s),n=!0},p(o,s){o[8]?i&&(Ae(),F(i,1,1,()=>{i=null}),Xe()):i?(i.p(o,s),s[0]&256&&X(i,1)):(i=Ei(o),i.c(),X(i,1),i.m(e.parentNode,e))},i(o){n||(X(i),n=!0)},o(o){F(i),n=!1},d(o){o&&V(e),i&&i.d(o)}}}function Dr(t,e,n){let i,o,s,r,l,a,{node:u}=e,{id:f}=e,{data:h={}}=e,{selected:c=!1}=e,{draggable:d=void 0}=e,{selectable:b=void 0}=e,{connectable:m=!0}=e,{deletable:y=!0}=e,{hidden:g=!1}=e,{dragging:S=!1}=e,{resizeObserver:w=null}=e,{style:C=void 0}=e,{type:A="default"}=e,{isParent:K=!1}=e,{positionX:N}=e,{positionY:H}=e,{sourcePosition:D=void 0}=e,{targetPosition:W=void 0}=e,{zIndex:p}=e,{measuredWidth:B=void 0}=e,{measuredHeight:R=void 0}=e,{initialWidth:_=void 0}=e,{initialHeight:I=void 0}=e,{width:k=void 0}=e,{height:P=void 0}=e,{dragHandle:O=void 0}=e,{initialized:z=!1}=e,{parentId:Y=void 0}=e,{nodeClickDistance:G=void 0}=e,{class:q=""}=e;const j=Ve(),{nodeTypes:T,nodeDragThreshold:ee,selectNodesOnDrag:te,handleNodeSelection:v,updateNodeInternals:ne}=j;U(t,T,Z=>n(46,l=Z));let oe,se=null;const de=bn(),ye=ie(m);U(t,ye,Z=>n(28,a=Z));let Oe,L,Te;nn("svelteflow__node_id",f),nn("svelteflow__node_connectable",ye),Qi(()=>{se&&(w==null||w.unobserve(se))});function ze(Z){b&&(!J(te)||!d||J(ee)>0)&&v(f),de("nodeclick",{node:u.internals.userNode,event:Z})}const ct=(Z,gt,Re,Ge)=>{de("nodedrag",{event:Z,targetNode:Re,nodes:Ge})},lt=(Z,gt,Re,Ge)=>{de("nodedragstart",{event:Z,targetNode:Re,nodes:Ge})},st=(Z,gt,Re,Ge)=>{de("nodedragstop",{event:Z,targetNode:Re,nodes:Ge})};function Ke(Z){Rn[Z?"unshift":"push"](()=>{oe=Z,n(24,oe)})}const rt=Z=>de("nodemouseenter",{node:u,event:Z}),$=Z=>de("nodemouseleave",{node:u,event:Z}),dt=Z=>de("nodemousemove",{node:u,event:Z}),ht=Z=>de("nodecontextmenu",{node:u,event:Z});return t.$$set=Z=>{"node"in Z&&n(0,u=Z.node),"id"in Z&&n(1,f=Z.id),"data"in Z&&n(2,h=Z.data),"selected"in Z&&n(3,c=Z.selected),"draggable"in Z&&n(4,d=Z.draggable),"selectable"in Z&&n(5,b=Z.selectable),"connectable"in Z&&n(6,m=Z.connectable),"deletable"in Z&&n(7,y=Z.deletable),"hidden"in Z&&n(8,g=Z.hidden),"dragging"in Z&&n(9,S=Z.dragging),"resizeObserver"in Z&&n(35,w=Z.resizeObserver),"style"in Z&&n(10,C=Z.style),"type"in Z&&n(36,A=Z.type),"isParent"in Z&&n(11,K=Z.isParent),"positionX"in Z&&n(12,N=Z.positionX),"positionY"in Z&&n(13,H=Z.positionY),"sourcePosition"in Z&&n(14,D=Z.sourcePosition),"targetPosition"in Z&&n(15,W=Z.targetPosition),"zIndex"in Z&&n(16,p=Z.zIndex),"measuredWidth"in Z&&n(37,B=Z.measuredWidth),"measuredHeight"in Z&&n(38,R=Z.measuredHeight),"initialWidth"in Z&&n(39,_=Z.initialWidth),"initialHeight"in Z&&n(40,I=Z.initialHeight),"width"in Z&&n(17,k=Z.width),"height"in Z&&n(18,P=Z.height),"dragHandle"in Z&&n(19,O=Z.dragHandle),"initialized"in Z&&n(20,z=Z.initialized),"parentId"in Z&&n(21,Y=Z.parentId),"nodeClickDistance"in Z&&n(22,G=Z.nodeClickDistance),"class"in Z&&n(23,q=Z.class)},t.$$.update=()=>{t.$$.dirty[1]&32&&n(25,i=A||"default"),t.$$.dirty[0]&33554432|t.$$.dirty[1]&32768&&n(45,o=!!l[i]),t.$$.dirty[0]&33554432|t.$$.dirty[1]&32768&&n(27,s=l[i]||Do),t.$$.dirty[1]&16416&&(o||console.warn("003",Gt.error003(A))),t.$$.dirty[0]&393216|t.$$.dirty[1]&960&&n(26,r=zr({width:k,height:P,initialWidth:_,initialHeight:I,measuredWidth:B,measuredHeight:R})),t.$$.dirty[0]&64&&ye.set(!!m),t.$$.dirty[0]&50380802|t.$$.dirty[1]&14336&&((Oe&&i!==Oe||L&&D!==L||Te&&W!==Te)&&requestAnimationFrame(()=>ne(new Map([[f,{id:f,nodeElement:oe,force:!0}]]))),n(42,Oe=i),n(43,L=D),n(44,Te=W)),t.$$.dirty[0]&17825792|t.$$.dirty[1]&1040&&w&&(oe!==se||!z)&&(se&&w.unobserve(se),oe&&w.observe(oe),n(41,se=oe))},[u,f,h,c,d,b,m,y,g,S,C,K,N,H,D,W,p,k,P,O,z,Y,G,q,oe,i,r,s,a,j,T,v,de,ye,ze,w,A,B,R,_,I,se,Oe,L,Te,o,l,ct,lt,st,Ke,rt,$,dt,ht]}class Hr extends me{constructor(e){super(),be(this,e,Dr,Or,Ji,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,deletable:7,hidden:8,dragging:9,resizeObserver:35,style:10,type:36,isParent:11,positionX:12,positionY:13,sourcePosition:14,targetPosition:15,zIndex:16,measuredWidth:37,measuredHeight:38,initialWidth:39,initialHeight:40,width:17,height:18,dragHandle:19,initialized:20,parentId:21,nodeClickDistance:22,class:23},null,[-1,-1])}}const{Map:Ir}=cl;function Ci(t,e,n){const i=t.slice();return i[21]=e[n],i}function Mi(t,e){let n,i,o;return i=new Hr({props:{node:e[21],id:e[21].id,data:e[21].data,selected:!!e[21].selected,hidden:!!e[21].hidden,draggable:!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u"),selectable:!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u"),connectable:!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u"),deletable:e[21].deletable??!0,positionX:e[21].internals.positionAbsolute.x,positionY:e[21].internals.positionAbsolute.y,isParent:e[5].has(e[21].id),style:e[21].style,class:e[21].class,type:e[21].type??"default",sourcePosition:e[21].sourcePosition,targetPosition:e[21].targetPosition,dragging:e[21].dragging,zIndex:e[21].internals.z??0,dragHandle:e[21].dragHandle,initialized:cn(e[21]),width:e[21].width,height:e[21].height,initialWidth:e[21].initialWidth,initialHeight:e[21].initialHeight,measuredWidth:e[21].measured.width,measuredHeight:e[21].measured.height,parentId:e[21].parentId,resizeObserver:e[11],nodeClickDistance:e[0]}}),i.$on("nodeclick",e[12]),i.$on("nodemouseenter",e[13]),i.$on("nodemousemove",e[14]),i.$on("nodemouseleave",e[15]),i.$on("nodedrag",e[16]),i.$on("nodedragstart",e[17]),i.$on("nodedragstop",e[18]),i.$on("nodecontextmenu",e[19]),{key:t,first:null,c(){n=Me(),ue(i.$$.fragment),this.h()},l(s){n=Me(),ge(i.$$.fragment,s),this.h()},h(){this.first=n},m(s,r){Q(s,n,r),fe(i,s,r),o=!0},p(s,r){e=s;const l={};r&2&&(l.node=e[21]),r&2&&(l.id=e[21].id),r&2&&(l.data=e[21].data),r&2&&(l.selected=!!e[21].selected),r&2&&(l.hidden=!!e[21].hidden),r&6&&(l.draggable=!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u")),r&10&&(l.selectable=!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u")),r&18&&(l.connectable=!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u")),r&2&&(l.deletable=e[21].deletable??!0),r&2&&(l.positionX=e[21].internals.positionAbsolute.x),r&2&&(l.positionY=e[21].internals.positionAbsolute.y),r&34&&(l.isParent=e[5].has(e[21].id)),r&2&&(l.style=e[21].style),r&2&&(l.class=e[21].class),r&2&&(l.type=e[21].type??"default"),r&2&&(l.sourcePosition=e[21].sourcePosition),r&2&&(l.targetPosition=e[21].targetPosition),r&2&&(l.dragging=e[21].dragging),r&2&&(l.zIndex=e[21].internals.z??0),r&2&&(l.dragHandle=e[21].dragHandle),r&2&&(l.initialized=cn(e[21])),r&2&&(l.width=e[21].width),r&2&&(l.height=e[21].height),r&2&&(l.initialWidth=e[21].initialWidth),r&2&&(l.initialHeight=e[21].initialHeight),r&2&&(l.measuredWidth=e[21].measured.width),r&2&&(l.measuredHeight=e[21].measured.height),r&2&&(l.parentId=e[21].parentId),r&1&&(l.nodeClickDistance=e[0]),i.$set(l)},i(s){o||(X(i.$$.fragment,s),o=!0)},o(s){F(i.$$.fragment,s),o=!1},d(s){s&&V(n),ce(i,s)}}}function vr(t){let e,n=[],i=new Ir,o,s=kt(t[1]);const r=l=>l[21].id;for(let l=0;l<s.length;l+=1){let a=Ci(t,s,l),u=r(a);i.set(u,n[l]=Mi(u,a))}return{c(){e=Be("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=Le(l,"DIV",{class:!0});var a=re(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(V),this.h()},h(){E(e,"class","svelte-flow__nodes svelte-tf4uy4")},m(l,a){Q(l,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(l,[a]){a&2111&&(s=kt(l[1]),Ae(),n=yn(n,a,r,1,l,s,i,e,_n,Mi,null,Ci),Xe())},i(l){if(!o){for(let a=0;a<s.length;a+=1)X(n[a]);o=!0}},o(l){for(let a=0;a<n.length;a+=1)F(n[a]);o=!1},d(l){l&&V(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Tr(t,e,n){let i,o,s,r,l,{nodeClickDistance:a=0}=e;const{visibleNodes:u,nodesDraggable:f,nodesConnectable:h,elementsSelectable:c,updateNodeInternals:d,parentLookup:b}=Ve();U(t,u,H=>n(1,i=H)),U(t,f,H=>n(2,o=H)),U(t,h,H=>n(4,r=H)),U(t,c,H=>n(3,s=H)),U(t,b,H=>n(5,l=H));const m=typeof ResizeObserver>"u"?null:new ResizeObserver(H=>{const D=new Map;H.forEach(W=>{const p=W.target.getAttribute("data-id");D.set(p,{id:p,nodeElement:W.target,force:!0})}),d(D)});Qi(()=>{m==null||m.disconnect()});function y(H){ke.call(this,t,H)}function g(H){ke.call(this,t,H)}function S(H){ke.call(this,t,H)}function w(H){ke.call(this,t,H)}function C(H){ke.call(this,t,H)}function A(H){ke.call(this,t,H)}function K(H){ke.call(this,t,H)}function N(H){ke.call(this,t,H)}return t.$$set=H=>{"nodeClickDistance"in H&&n(0,a=H.nodeClickDistance)},[a,i,o,s,r,l,u,f,h,c,b,m,y,g,S,w,C,A,K,N]}class Nr extends me{constructor(e){super(),be(this,e,Tr,vr,_e,{nodeClickDistance:0})}}function Pi(t){let e,n,i,o,s,r,l,a;var u=t[27];function f(h,c){return{props:{id:h[0],source:h[1],target:h[2],sourceX:h[14],sourceY:h[15],targetX:h[16],targetY:h[17],sourcePosition:h[18],targetPosition:h[19],animated:h[6],selected:h[7],label:h[10],labelStyle:h[11],data:h[3],style:h[4],interactionWidth:h[21],selectable:h[24],deletable:h[8]??!0,type:h[23],sourceHandleId:h[12],targetHandleId:h[13],markerStart:h[26],markerEnd:h[25]}}}return u&&(i=ln(u,f(t))),{c(){e=Se("svg"),n=Se("g"),i&&ue(i.$$.fragment),this.h()},l(h){e=Ee(h,"svg",{});var c=re(e);n=Ee(c,"g",{class:!0,"data-id":!0,"aria-label":!0,role:!0});var d=re(n);i&&ge(i.$$.fragment,d),d.forEach(V),c.forEach(V),this.h()},h(){E(n,"class",o=Pe(["svelte-flow__edge",t[22]])),E(n,"data-id",t[0]),E(n,"aria-label",s=t[20]===null?void 0:t[20]?t[20]:`Edge from ${t[1]} to ${t[2]}`),E(n,"role","img"),le(n,"animated",t[6]),le(n,"selected",t[7]),le(n,"selectable",t[24]),ae(e,"z-index",t[5])},m(h,c){Q(h,e,c),We(e,n),i&&fe(i,n,null),r=!0,l||(a=[De(n,"click",t[32]),De(n,"contextmenu",t[41]),De(n,"mouseenter",t[42]),De(n,"mouseleave",t[43])],l=!0)},p(h,c){if(c[0]&134217728&&u!==(u=h[27])){if(i){Ae();const d=i;F(d.$$.fragment,1,0,()=>{ce(d,1)}),Xe()}u?(i=ln(u,f(h)),ue(i.$$.fragment),X(i.$$.fragment,1),fe(i,n,null)):i=null}else if(u){const d={};c[0]&1&&(d.id=h[0]),c[0]&2&&(d.source=h[1]),c[0]&4&&(d.target=h[2]),c[0]&16384&&(d.sourceX=h[14]),c[0]&32768&&(d.sourceY=h[15]),c[0]&65536&&(d.targetX=h[16]),c[0]&131072&&(d.targetY=h[17]),c[0]&262144&&(d.sourcePosition=h[18]),c[0]&524288&&(d.targetPosition=h[19]),c[0]&64&&(d.animated=h[6]),c[0]&128&&(d.selected=h[7]),c[0]&1024&&(d.label=h[10]),c[0]&2048&&(d.labelStyle=h[11]),c[0]&8&&(d.data=h[3]),c[0]&16&&(d.style=h[4]),c[0]&2097152&&(d.interactionWidth=h[21]),c[0]&16777216&&(d.selectable=h[24]),c[0]&256&&(d.deletable=h[8]??!0),c[0]&8388608&&(d.type=h[23]),c[0]&4096&&(d.sourceHandleId=h[12]),c[0]&8192&&(d.targetHandleId=h[13]),c[0]&67108864&&(d.markerStart=h[26]),c[0]&33554432&&(d.markerEnd=h[25]),i.$set(d)}(!r||c[0]&4194304&&o!==(o=Pe(["svelte-flow__edge",h[22]])))&&E(n,"class",o),(!r||c[0]&1)&&E(n,"data-id",h[0]),(!r||c[0]&1048582&&s!==(s=h[20]===null?void 0:h[20]?h[20]:`Edge from ${h[1]} to ${h[2]}`))&&E(n,"aria-label",s),(!r||c[0]&4194368)&&le(n,"animated",h[6]),(!r||c[0]&4194432)&&le(n,"selected",h[7]),(!r||c[0]&20971520)&&le(n,"selectable",h[24]),c[0]&32&&ae(e,"z-index",h[5])},i(h){r||(i&&X(i.$$.fragment,h),r=!0)},o(h){i&&F(i.$$.fragment,h),r=!1},d(h){h&&V(e),i&&ce(i),l=!1,wt(a)}}}function Vr(t){let e,n,i=!t[9]&&Pi(t);return{c(){i&&i.c(),e=Me()},l(o){i&&i.l(o),e=Me()},m(o,s){i&&i.m(o,s),Q(o,e,s),n=!0},p(o,s){o[9]?i&&(Ae(),F(i,1,1,()=>{i=null}),Xe()):i?(i.p(o,s),s[0]&512&&X(i,1)):(i=Pi(o),i.c(),X(i,1),i.m(e.parentNode,e))},i(o){n||(X(i),n=!0)},o(o){F(i),n=!1},d(o){o&&V(e),i&&i.d(o)}}}function Yr(t,e,n){let i,o,s,r,l,a,u,f,h,{id:c}=e,{type:d="default"}=e,{source:b=""}=e,{target:m=""}=e,{data:y={}}=e,{style:g=void 0}=e,{zIndex:S=void 0}=e,{animated:w=!1}=e,{selected:C=!1}=e,{selectable:A=void 0}=e,{deletable:K=void 0}=e,{hidden:N=!1}=e,{label:H=void 0}=e,{labelStyle:D=void 0}=e,{markerStart:W=void 0}=e,{markerEnd:p=void 0}=e,{sourceHandle:B=void 0}=e,{targetHandle:R=void 0}=e,{sourceX:_}=e,{sourceY:I}=e,{targetX:k}=e,{targetY:P}=e,{sourcePosition:O}=e,{targetPosition:z}=e,{ariaLabel:Y=void 0}=e,{interactionWidth:G=void 0}=e,{class:q=""}=e;nn("svelteflow__edge_id",c);const{edgeLookup:j,edgeTypes:T,flowId:ee,elementsSelectable:te}=Ve();U(t,j,L=>n(44,a=L)),U(t,T,L=>n(40,h=L)),U(t,ee,L=>n(39,f=L)),U(t,te,L=>n(38,u=L));const v=bn(),ne=Ho();function oe(L){const Te=a.get(c);Te&&(ne(c),v("edgeclick",{event:L,edge:Te}))}function se(L,Te){const ze=a.get(c);ze&&v(Te,{event:L,edge:ze})}const de=L=>{se(L,"edgecontextmenu")},ye=L=>{se(L,"edgemouseenter")},Oe=L=>{se(L,"edgemouseleave")};return t.$$set=L=>{"id"in L&&n(0,c=L.id),"type"in L&&n(34,d=L.type),"source"in L&&n(1,b=L.source),"target"in L&&n(2,m=L.target),"data"in L&&n(3,y=L.data),"style"in L&&n(4,g=L.style),"zIndex"in L&&n(5,S=L.zIndex),"animated"in L&&n(6,w=L.animated),"selected"in L&&n(7,C=L.selected),"selectable"in L&&n(35,A=L.selectable),"deletable"in L&&n(8,K=L.deletable),"hidden"in L&&n(9,N=L.hidden),"label"in L&&n(10,H=L.label),"labelStyle"in L&&n(11,D=L.labelStyle),"markerStart"in L&&n(36,W=L.markerStart),"markerEnd"in L&&n(37,p=L.markerEnd),"sourceHandle"in L&&n(12,B=L.sourceHandle),"targetHandle"in L&&n(13,R=L.targetHandle),"sourceX"in L&&n(14,_=L.sourceX),"sourceY"in L&&n(15,I=L.sourceY),"targetX"in L&&n(16,k=L.targetX),"targetY"in L&&n(17,P=L.targetY),"sourcePosition"in L&&n(18,O=L.sourcePosition),"targetPosition"in L&&n(19,z=L.targetPosition),"ariaLabel"in L&&n(20,Y=L.ariaLabel),"interactionWidth"in L&&n(21,G=L.interactionWidth),"class"in L&&n(22,q=L.class)},t.$$.update=()=>{t.$$.dirty[1]&8&&n(23,i=d||"default"),t.$$.dirty[0]&8388608|t.$$.dirty[1]&512&&n(27,o=h[i]||Io),t.$$.dirty[1]&288&&n(26,s=W?`url('#${Kn(W,f)}')`:void 0),t.$$.dirty[1]&320&&n(25,r=p?`url('#${Kn(p,f)}')`:void 0),t.$$.dirty[1]&144&&n(24,l=A??u)},[c,b,m,y,g,S,w,C,K,N,H,D,B,R,_,I,k,P,O,z,Y,G,q,i,l,r,s,o,j,T,ee,te,oe,se,d,A,W,p,u,f,h,de,ye,Oe]}class Ar extends me{constructor(e){super(),be(this,e,Yr,Vr,Ji,{id:0,type:34,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:35,deletable:8,hidden:9,label:10,labelStyle:11,markerStart:36,markerEnd:37,sourceHandle:12,targetHandle:13,sourceX:14,sourceY:15,targetX:16,targetY:17,sourcePosition:18,targetPosition:19,ariaLabel:20,interactionWidth:21,class:22},null,[-1,-1])}}function Xr(t,e,n){let{onMount:i=void 0}=e,{onDestroy:o=void 0}=e;return mn(()=>(i==null||i(),o)),t.$$set=s=>{"onMount"in s&&n(0,i=s.onMount),"onDestroy"in s&&n(1,o=s.onDestroy)},[i,o]}class Wr extends me{constructor(e){super(),be(this,e,Xr,null,_e,{onMount:0,onDestroy:1})}}function zi(t,e,n){const i=t.slice();return i[2]=e[n],i}function Oi(t,e){let n,i,o;const s=[e[2]];let r={};for(let l=0;l<s.length;l+=1)r=Ce(r,s[l]);return i=new Gr({props:r}),{key:t,first:null,c(){n=Me(),ue(i.$$.fragment),this.h()},l(l){n=Me(),ge(i.$$.fragment,l),this.h()},h(){this.first=n},m(l,a){Q(l,n,a),fe(i,l,a),o=!0},p(l,a){e=l;const u=a&1?ft(s,[Yt(e[2])]):{};i.$set(u)},i(l){o||(X(i.$$.fragment,l),o=!0)},o(l){F(i.$$.fragment,l),o=!1},d(l){l&&V(n),ce(i,l)}}}function Br(t){let e,n=[],i=new Map,o,s=kt(t[0]);const r=l=>l[2].id;for(let l=0;l<s.length;l+=1){let a=zi(t,s,l),u=r(a);i.set(u,n[l]=Oi(u,a))}return{c(){e=Se("defs");for(let l=0;l<n.length;l+=1)n[l].c()},l(l){e=Ee(l,"defs",{});var a=re(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(V)},m(l,a){Q(l,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(l,[a]){a&1&&(s=kt(l[0]),Ae(),n=yn(n,a,r,1,l,s,i,e,_n,Oi,null,zi),Xe())},i(l){if(!o){for(let a=0;a<s.length;a+=1)X(n[a]);o=!0}},o(l){for(let a=0;a<n.length;a+=1)F(n[a]);o=!1},d(l){l&&V(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Lr(t,e,n){let i;const{markers:o}=Ve();return U(t,o,s=>n(0,i=s)),[i,o]}class Kr extends me{constructor(e){super(),be(this,e,Lr,Br,_e,{})}}function Rr(t){let e;return{c(){e=Se("polyline"),this.h()},l(n){e=Ee(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),re(e).forEach(V),this.h()},h(){E(e,"stroke",t[6]),E(e,"stroke-linecap","round"),E(e,"stroke-linejoin","round"),E(e,"stroke-width",t[7]),E(e,"fill",t[6]),E(e,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){Q(n,e,i)},p(n,i){i&64&&E(e,"stroke",n[6]),i&128&&E(e,"stroke-width",n[7]),i&64&&E(e,"fill",n[6])},d(n){n&&V(e)}}}function Zr(t){let e;return{c(){e=Se("polyline"),this.h()},l(n){e=Ee(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),re(e).forEach(V),this.h()},h(){E(e,"stroke",t[6]),E(e,"stroke-linecap","round"),E(e,"stroke-linejoin","round"),E(e,"stroke-width",t[7]),E(e,"fill","none"),E(e,"points","-5,-4 0,0 -5,4")},m(n,i){Q(n,e,i)},p(n,i){i&64&&E(e,"stroke",n[6]),i&128&&E(e,"stroke-width",n[7])},d(n){n&&V(e)}}}function Fr(t){let e,n,i;function o(l,a){if(l[1]===an.Arrow)return Zr;if(l[1]===an.ArrowClosed)return Rr}let s=o(t),r=s&&s(t);return{c(){e=Se("marker"),r&&r.c(),this.h()},l(l){e=Ee(l,"marker",{class:!0,id:!0,markerWidth:!0,markerHeight:!0,viewBox:!0,markerUnits:!0,orient:!0,refX:!0,refY:!0});var a=re(e);r&&r.l(a),a.forEach(V),this.h()},h(){E(e,"class","svelte-flow__arrowhead"),E(e,"id",t[0]),E(e,"markerWidth",n=`${t[2]}`),E(e,"markerHeight",i=`${t[3]}`),E(e,"viewBox","-10 -10 20 20"),E(e,"markerUnits",t[4]),E(e,"orient",t[5]),E(e,"refX","0"),E(e,"refY","0")},m(l,a){Q(l,e,a),r&&r.m(e,null)},p(l,[a]){s===(s=o(l))&&r?r.p(l,a):(r&&r.d(1),r=s&&s(l),r&&(r.c(),r.m(e,null))),a&1&&E(e,"id",l[0]),a&4&&n!==(n=`${l[2]}`)&&E(e,"markerWidth",n),a&8&&i!==(i=`${l[3]}`)&&E(e,"markerHeight",i),a&16&&E(e,"markerUnits",l[4]),a&32&&E(e,"orient",l[5])},i:we,o:we,d(l){l&&V(e),r&&r.d()}}}function pr(t,e,n){let{id:i}=e,{type:o}=e,{width:s=12.5}=e,{height:r=12.5}=e,{markerUnits:l="strokeWidth"}=e,{orient:a="auto-start-reverse"}=e,{color:u=void 0}=e,{strokeWidth:f=void 0}=e;return t.$$set=h=>{"id"in h&&n(0,i=h.id),"type"in h&&n(1,o=h.type),"width"in h&&n(2,s=h.width),"height"in h&&n(3,r=h.height),"markerUnits"in h&&n(4,l=h.markerUnits),"orient"in h&&n(5,a=h.orient),"color"in h&&n(6,u=h.color),"strokeWidth"in h&&n(7,f=h.strokeWidth)},[i,o,s,r,l,a,u,f]}class Gr extends me{constructor(e){super(),be(this,e,pr,Fr,_e,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}function Di(t,e,n){const i=t.slice();return i[14]=e[n],i}function Hi(t,e){let n,i,o;return i=new Ar({props:{id:e[14].id,source:e[14].source,target:e[14].target,data:e[14].data,style:e[14].style,animated:e[14].animated,selected:e[14].selected,selectable:e[14].selectable??e[1],deletable:e[14].deletable,hidden:e[14].hidden,label:e[14].label,labelStyle:e[14].labelStyle,markerStart:e[14].markerStart,markerEnd:e[14].markerEnd,sourceHandle:e[14].sourceHandle,targetHandle:e[14].targetHandle,sourceX:e[14].sourceX,sourceY:e[14].sourceY,targetX:e[14].targetX,targetY:e[14].targetY,sourcePosition:e[14].sourcePosition,targetPosition:e[14].targetPosition,ariaLabel:e[14].ariaLabel,interactionWidth:e[14].interactionWidth,class:e[14].class,type:e[14].type||"default",zIndex:e[14].zIndex}}),i.$on("edgeclick",e[7]),i.$on("edgecontextmenu",e[8]),i.$on("edgemouseenter",e[9]),i.$on("edgemouseleave",e[10]),{key:t,first:null,c(){n=Me(),ue(i.$$.fragment),this.h()},l(s){n=Me(),ge(i.$$.fragment,s),this.h()},h(){this.first=n},m(s,r){Q(s,n,r),fe(i,s,r),o=!0},p(s,r){e=s;const l={};r&1&&(l.id=e[14].id),r&1&&(l.source=e[14].source),r&1&&(l.target=e[14].target),r&1&&(l.data=e[14].data),r&1&&(l.style=e[14].style),r&1&&(l.animated=e[14].animated),r&1&&(l.selected=e[14].selected),r&3&&(l.selectable=e[14].selectable??e[1]),r&1&&(l.deletable=e[14].deletable),r&1&&(l.hidden=e[14].hidden),r&1&&(l.label=e[14].label),r&1&&(l.labelStyle=e[14].labelStyle),r&1&&(l.markerStart=e[14].markerStart),r&1&&(l.markerEnd=e[14].markerEnd),r&1&&(l.sourceHandle=e[14].sourceHandle),r&1&&(l.targetHandle=e[14].targetHandle),r&1&&(l.sourceX=e[14].sourceX),r&1&&(l.sourceY=e[14].sourceY),r&1&&(l.targetX=e[14].targetX),r&1&&(l.targetY=e[14].targetY),r&1&&(l.sourcePosition=e[14].sourcePosition),r&1&&(l.targetPosition=e[14].targetPosition),r&1&&(l.ariaLabel=e[14].ariaLabel),r&1&&(l.interactionWidth=e[14].interactionWidth),r&1&&(l.class=e[14].class),r&1&&(l.type=e[14].type||"default"),r&1&&(l.zIndex=e[14].zIndex),i.$set(l)},i(s){o||(X(i.$$.fragment,s),o=!0)},o(s){F(i.$$.fragment,s),o=!1},d(s){s&&V(n),ce(i,s)}}}function Ii(t){let e,n;return e=new Wr({props:{onMount:t[11],onDestroy:t[12]}}),{c(){ue(e.$$.fragment)},l(i){ge(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p(i,o){const s={};o&4&&(s.onMount=i[11]),o&4&&(s.onDestroy=i[12]),e.$set(s)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ce(e,i)}}}function Ur(t){let e,n,i,o,s=[],r=new Map,l,a;i=new Kr({});let u=kt(t[0]);const f=c=>c[14].id;for(let c=0;c<u.length;c+=1){let d=Di(t,u,c),b=f(d);r.set(b,s[c]=Hi(b,d))}let h=t[0].length>0&&Ii(t);return{c(){e=Be("div"),n=Se("svg"),ue(i.$$.fragment),o=He();for(let c=0;c<s.length;c+=1)s[c].c();l=He(),h&&h.c(),this.h()},l(c){e=Le(c,"DIV",{class:!0});var d=re(e);n=Ee(d,"svg",{class:!0});var b=re(n);ge(i.$$.fragment,b),b.forEach(V),o=Ie(d);for(let m=0;m<s.length;m+=1)s[m].l(d);l=Ie(d),h&&h.l(d),d.forEach(V),this.h()},h(){E(n,"class","svelte-flow__marker"),E(e,"class","svelte-flow__edges")},m(c,d){Q(c,e,d),We(e,n),fe(i,n,null),We(e,o);for(let b=0;b<s.length;b+=1)s[b]&&s[b].m(e,null);We(e,l),h&&h.m(e,null),a=!0},p(c,[d]){d&3&&(u=kt(c[0]),Ae(),s=yn(s,d,f,1,c,u,r,e,_n,Hi,l,Di),Xe()),c[0].length>0?h?(h.p(c,d),d&1&&X(h,1)):(h=Ii(c),h.c(),X(h,1),h.m(e,null)):h&&(Ae(),F(h,1,1,()=>{h=null}),Xe())},i(c){if(!a){X(i.$$.fragment,c);for(let d=0;d<u.length;d+=1)X(s[d]);X(h),a=!0}},o(c){F(i.$$.fragment,c);for(let d=0;d<s.length;d+=1)F(s[d]);F(h),a=!1},d(c){c&&V(e),ce(i);for(let d=0;d<s.length;d+=1)s[d].d();h&&h.d()}}}function qr(t,e,n){let i,o,s,{defaultEdgeOptions:r}=e;const{visibleEdges:l,edgesInitialized:a,edges:{setDefaultOptions:u},elementsSelectable:f}=Ve();U(t,l,g=>n(0,i=g)),U(t,a,g=>n(2,s=g)),U(t,f,g=>n(1,o=g)),mn(()=>{r&&u(r)});function h(g){ke.call(this,t,g)}function c(g){ke.call(this,t,g)}function d(g){ke.call(this,t,g)}function b(g){ke.call(this,t,g)}const m=()=>{on(a,s=!0,s)},y=()=>{on(a,s=!1,s)};return t.$$set=g=>{"defaultEdgeOptions"in g&&n(6,r=g.defaultEdgeOptions)},[i,o,s,l,a,f,r,h,c,d,b,m,y]}class jr extends me{constructor(e){super(),be(this,e,qr,Ur,_e,{defaultEdgeOptions:6})}}function vi(t){let e;return{c(){e=Be("div"),this.h()},l(n){e=Le(n,"DIV",{class:!0}),re(e).forEach(V),this.h()},h(){E(e,"class","svelte-flow__selection svelte-1iugwpu"),ae(e,"width",typeof t[2]=="string"?t[2]:`${t[2]}px`),ae(e,"height",typeof t[3]=="string"?t[3]:`${t[3]}px`),ae(e,"transform",`translate(${t[0]}px, ${t[1]}px)`)},m(n,i){Q(n,e,i)},p(n,i){i&4&&ae(e,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&ae(e,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&ae(e,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&V(e)}}}function Jr(t){let e,n=t[4]&&vi(t);return{c(){n&&n.c(),e=Me()},l(i){n&&n.l(i),e=Me()},m(i,o){n&&n.m(i,o),Q(i,e,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=vi(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:we,o:we,d(i){i&&V(e),n&&n.d(i)}}}function Qr(t,e,n){let{x:i=0}=e,{y:o=0}=e,{width:s=0}=e,{height:r=0}=e,{isVisible:l=!0}=e;return t.$$set=a=>{"x"in a&&n(0,i=a.x),"y"in a&&n(1,o=a.y),"width"in a&&n(2,s=a.width),"height"in a&&n(3,r=a.height),"isVisible"in a&&n(4,l=a.isVisible)},[i,o,s,r,l]}class Vo extends me{constructor(e){super(),be(this,e,Qr,Jr,_e,{x:0,y:1,width:2,height:3,isVisible:4})}}function xr(t){var i,o,s,r;let e,n;return e=new Vo({props:{isVisible:!!(t[0]&&t[1]==="user"),width:(i=t[0])==null?void 0:i.width,height:(o=t[0])==null?void 0:o.height,x:(s=t[0])==null?void 0:s.x,y:(r=t[0])==null?void 0:r.y}}),{c(){ue(e.$$.fragment)},l(l){ge(e.$$.fragment,l)},m(l,a){fe(e,l,a),n=!0},p(l,[a]){var f,h,c,d;const u={};a&3&&(u.isVisible=!!(l[0]&&l[1]==="user")),a&1&&(u.width=(f=l[0])==null?void 0:f.width),a&1&&(u.height=(h=l[0])==null?void 0:h.height),a&1&&(u.x=(c=l[0])==null?void 0:c.x),a&1&&(u.y=(d=l[0])==null?void 0:d.y),e.$set(u)},i(l){n||(X(e.$$.fragment,l),n=!0)},o(l){F(e.$$.fragment,l),n=!1},d(l){ce(e,l)}}}function $r(t,e,n){let i,o;const{selectionRect:s,selectionRectMode:r}=Ve();return U(t,s,l=>n(0,i=l)),U(t,r,l=>n(1,o=l)),[i,o,s,r]}class ea extends me{constructor(e){super(),be(this,e,$r,xr,_e,{})}}function Ti(t){let e,n,i,o,s;return n=new Vo({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){e=Be("div"),ue(n.$$.fragment),this.h()},l(r){e=Le(r,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var l=re(e);ge(n.$$.fragment,l),l.forEach(V),this.h()},h(){E(e,"class","selection-wrapper nopan svelte-5pxri"),ae(e,"width",t[1].width+"px"),ae(e,"height",t[1].height+"px"),ae(e,"transform","translate("+t[1].x+"px, "+t[1].y+"px)"),E(e,"role","button"),E(e,"tabindex","-1")},m(r,l){Q(r,e,l),fe(n,e,null),i=!0,o||(s=[pe(No.call(null,e,{disabled:!1,store:t[2],onDrag:t[11],onDragStart:t[12],onDragStop:t[13]})),De(e,"contextmenu",t[7]),De(e,"click",t[8]),De(e,"keyup",na)],o=!0)},p(r,l){(!i||l&2)&&ae(e,"width",r[1].width+"px"),(!i||l&2)&&ae(e,"height",r[1].height+"px"),(!i||l&2)&&ae(e,"transform","translate("+r[1].x+"px, "+r[1].y+"px)")},i(r){i||(X(n.$$.fragment,r),i=!0)},o(r){F(n.$$.fragment,r),i=!1},d(r){r&&V(e),ce(n),o=!1,wt(s)}}}function ta(t){let e=t[0]==="nodes"&&t[1]&&tt(t[1].x)&&tt(t[1].y),n,i,o=e&&Ti(t);return{c(){o&&o.c(),n=Me()},l(s){o&&o.l(s),n=Me()},m(s,r){o&&o.m(s,r),Q(s,n,r),i=!0},p(s,[r]){r&3&&(e=s[0]==="nodes"&&s[1]&&tt(s[1].x)&&tt(s[1].y)),e?o?(o.p(s,r),r&3&&X(o,1)):(o=Ti(s),o.c(),X(o,1),o.m(n.parentNode,n)):o&&(Ae(),F(o,1,1,()=>{o=null}),Xe())},i(s){i||(X(o),i=!0)},o(s){F(o),i=!1},d(s){s&&V(n),o&&o.d(s)}}}const na=()=>{};function ia(t,e,n){let i,o,s;const r=Ve(),{selectionRectMode:l,nodes:a,nodeLookup:u}=r;U(t,l,g=>n(0,s=g)),U(t,a,g=>n(9,i=g)),U(t,u,g=>n(10,o=g));const f=bn();let h=null;function c(g){const S=i.filter(w=>w.selected);f("selectioncontextmenu",{nodes:S,event:g})}function d(g){const S=i.filter(w=>w.selected);f("selectionclick",{nodes:S,event:g})}const b=(g,S,w,C)=>{f("nodedrag",{event:g,targetNode:null,nodes:C})},m=(g,S,w,C)=>{f("nodedragstart",{event:g,targetNode:null,nodes:C})},y=(g,S,w,C)=>{f("nodedragstop",{event:g,targetNode:null,nodes:C})};return t.$$.update=()=>{t.$$.dirty&1537&&s==="nodes"&&n(1,h=Ut(o,{filter:g=>!!g.selected}))},[s,h,r,l,a,u,f,c,d,i,o,b,m,y]}class oa extends me{constructor(e){super(),be(this,e,ia,ta,_e,{})}}function it(t,e){let{enabled:n=!0,trigger:i,type:o="keydown"}=e;function s(r){const l=Array.isArray(i)?i:[i],a={alt:r.altKey,ctrl:r.ctrlKey,shift:r.shiftKey,meta:r.metaKey};for(const u of l){const f={modifier:[],preventDefault:!1,enabled:!0,...u},{modifier:h,key:c,callback:d,preventDefault:b,enabled:m}=f;if(m){if(h.length&&!(Array.isArray(h)?h:[h]).map(S=>typeof S=="string"?[S]:S).some(S=>S.every(w=>a[w])))continue;if(r.key===c){b&&r.preventDefault();const y={node:t,trigger:f,originalEvent:r};t.dispatchEvent(new CustomEvent("shortcut",{detail:y})),d==null||d(y)}}}}return n&&t.addEventListener(o,s),{update:r=>{const{enabled:l=!0,type:a="keydown"}=r;n&&(!l||o!==a)?t.removeEventListener(o,s):!n&&l&&t.addEventListener(a,s),n=l,o=a,i=r.trigger},destroy:()=>{t.removeEventListener(o,s)}}}function la(t){let e,n,i,o,s,r,l,a,u,f,h,c;return{c:we,l:we,m(d,b){h||(c=[pe(e=it.call(null,window,{trigger:Ne(t[0],t[11]),type:"keydown"})),pe(n=it.call(null,window,{trigger:Ne(t[0],t[12]),type:"keyup"})),pe(i=it.call(null,window,{trigger:Ne(t[1],t[13]),type:"keydown"})),pe(o=it.call(null,window,{trigger:Ne(t[1],t[14]),type:"keyup"})),pe(s=it.call(null,window,{trigger:Ne(t[2],t[15]),type:"keydown"})),pe(r=it.call(null,window,{trigger:Ne(t[2],t[16]),type:"keyup"})),pe(l=it.call(null,window,{trigger:Ne(t[3],t[17]),type:"keydown"})),pe(a=it.call(null,window,{trigger:Ne(t[3],t[18]),type:"keyup"})),pe(u=it.call(null,window,{trigger:Ne(t[4],t[19]),type:"keydown"})),pe(f=it.call(null,window,{trigger:Ne(t[4],t[20]),type:"keyup"})),De(window,"blur",t[10]),De(window,"contextmenu",t[10])],h=!0)},p(d,[b]){e&&Ye(e.update)&&b&1&&e.update.call(null,{trigger:Ne(d[0],d[11]),type:"keydown"}),n&&Ye(n.update)&&b&1&&n.update.call(null,{trigger:Ne(d[0],d[12]),type:"keyup"}),i&&Ye(i.update)&&b&2&&i.update.call(null,{trigger:Ne(d[1],d[13]),type:"keydown"}),o&&Ye(o.update)&&b&2&&o.update.call(null,{trigger:Ne(d[1],d[14]),type:"keyup"}),s&&Ye(s.update)&&b&4&&s.update.call(null,{trigger:Ne(d[2],d[15]),type:"keydown"}),r&&Ye(r.update)&&b&4&&r.update.call(null,{trigger:Ne(d[2],d[16]),type:"keyup"}),l&&Ye(l.update)&&b&8&&l.update.call(null,{trigger:Ne(d[3],d[17]),type:"keydown"}),a&&Ye(a.update)&&b&8&&a.update.call(null,{trigger:Ne(d[3],d[18]),type:"keyup"}),u&&Ye(u.update)&&b&16&&u.update.call(null,{trigger:Ne(d[4],d[19]),type:"keydown"}),f&&Ye(f.update)&&b&16&&f.update.call(null,{trigger:Ne(d[4],d[20]),type:"keyup"})},i:we,o:we,d(d){h=!1,wt(c)}}}function Yo(t){return t!==null&&typeof t=="object"}function sa(t){return Yo(t)?t.modifier||[]:[]}function ra(t){return t==null?"":Yo(t)?t.key:t}function Ne(t,e){return(Array.isArray(t)?t:[t]).map(i=>{const o=ra(i);return{key:o,modifier:sa(i),enabled:o!==null,callback:e}})}function aa(t,e,n){let{selectionKey:i="Shift"}=e,{multiSelectionKey:o=fn()?"Meta":"Control"}=e,{deleteKey:s="Backspace"}=e,{panActivationKey:r=" "}=e,{zoomActivationKey:l=fn()?"Meta":"Control"}=e;const{selectionKeyPressed:a,multiselectionKeyPressed:u,deleteKeyPressed:f,panActivationKeyPressed:h,zoomActivationKeyPressed:c,selectionRect:d}=Ve();function b(){d.set(null),a.set(!1),u.set(!1),f.set(!1),h.set(!1),c.set(!1)}const m=()=>a.set(!0),y=()=>a.set(!1),g=()=>u.set(!0),S=()=>u.set(!1),w=D=>{!(D.originalEvent.ctrlKey||D.originalEvent.metaKey||D.originalEvent.shiftKey)&&!Xl(D.originalEvent)&&f.set(!0)},C=()=>f.set(!1),A=()=>h.set(!0),K=()=>h.set(!1),N=()=>c.set(!0),H=()=>c.set(!1);return t.$$set=D=>{"selectionKey"in D&&n(0,i=D.selectionKey),"multiSelectionKey"in D&&n(1,o=D.multiSelectionKey),"deleteKey"in D&&n(2,s=D.deleteKey),"panActivationKey"in D&&n(3,r=D.panActivationKey),"zoomActivationKey"in D&&n(4,l=D.zoomActivationKey)},[i,o,s,r,l,a,u,f,h,c,b,m,y,g,S,w,C,A,K,N,H]}class ua extends me{constructor(e){super(),be(this,e,aa,la,_e,{selectionKey:0,multiSelectionKey:1,deleteKey:2,panActivationKey:3,zoomActivationKey:4})}}const fa=t=>({}),Ni=t=>({});function Vi(t){let e,n,i,o;const s=t[13].connectionLine,r=qe(s,t,t[12],Ni);let l=!t[2]&&Yi(t);return{c(){e=Se("svg"),n=Se("g"),r&&r.c(),l&&l.c(),this.h()},l(a){e=Ee(a,"svg",{width:!0,height:!0,class:!0,style:!0});var u=re(e);n=Ee(u,"g",{class:!0});var f=re(n);r&&r.l(f),l&&l.l(f),f.forEach(V),u.forEach(V),this.h()},h(){E(n,"class",i=Pe(["svelte-flow__connection",li(t[3].isValid)])),E(e,"width",t[5]),E(e,"height",t[6]),E(e,"class","svelte-flow__connectionline"),E(e,"style",t[0])},m(a,u){Q(a,e,u),We(e,n),r&&r.m(n,null),l&&l.m(n,null),o=!0},p(a,u){r&&r.p&&(!o||u&4096)&&je(r,s,a,a[12],o?Qe(s,a[12],u,fa):Je(a[12]),Ni),a[2]?l&&(l.d(1),l=null):l?l.p(a,u):(l=Yi(a),l.c(),l.m(n,null)),(!o||u&8&&i!==(i=Pe(["svelte-flow__connection",li(a[3].isValid)])))&&E(n,"class",i),(!o||u&32)&&E(e,"width",a[5]),(!o||u&64)&&E(e,"height",a[6]),(!o||u&1)&&E(e,"style",a[0])},i(a){o||(X(r,a),o=!0)},o(a){F(r,a),o=!1},d(a){a&&V(e),r&&r.d(a),l&&l.d()}}}function Yi(t){let e;return{c(){e=Se("path"),this.h()},l(n){e=Ee(n,"path",{d:!0,style:!0,fill:!0,class:!0}),re(e).forEach(V),this.h()},h(){E(e,"d",t[4]),E(e,"style",t[1]),E(e,"fill","none"),E(e,"class","svelte-flow__connection-path")},m(n,i){Q(n,e,i)},p(n,i){i&16&&E(e,"d",n[4]),i&2&&E(e,"style",n[1])},d(n){n&&V(e)}}}function ca(t){let e,n,i=t[3].inProgress&&Vi(t);return{c(){i&&i.c(),e=Me()},l(o){i&&i.l(o),e=Me()},m(o,s){i&&i.m(o,s),Q(o,e,s),n=!0},p(o,[s]){o[3].inProgress?i?(i.p(o,s),s&8&&X(i,1)):(i=Vi(o),i.c(),X(i,1),i.m(e.parentNode,e)):i&&(Ae(),F(i,1,1,()=>{i=null}),Xe())},i(o){n||(X(i),n=!0)},o(o){F(i),n=!1},d(o){o&&V(e),i&&i.d(o)}}}function da(t,e,n){let i,o,s,r,{$$slots:l={},$$scope:a}=e,{containerStyle:u=""}=e,{style:f=""}=e,{isCustomComponent:h=!1}=e;const{width:c,height:d,connection:b,connectionLineType:m}=Ve();U(t,c,g=>n(5,s=g)),U(t,d,g=>n(6,r=g)),U(t,b,g=>n(3,o=g)),U(t,m,g=>n(11,i=g));let y=null;return t.$$set=g=>{"containerStyle"in g&&n(0,u=g.containerStyle),"style"in g&&n(1,f=g.style),"isCustomComponent"in g&&n(2,h=g.isCustomComponent),"$$scope"in g&&n(12,a=g.$$scope)},t.$$.update=()=>{if(t.$$.dirty&2060&&o.inProgress&&!h){const{from:g,to:S,fromPosition:w,toPosition:C}=o,A={sourceX:g.x,sourceY:g.y,sourcePosition:w,targetX:S.x,targetY:S.y,targetPosition:C};switch(i){case Nt.Bezier:n(4,[y]=fo(A),y);break;case Nt.Step:n(4,[y]=dn({...A,borderRadius:0}),y);break;case Nt.SmoothStep:n(4,[y]=dn(A),y);break;default:n(4,[y]=ho(A),y)}}},[u,f,h,o,y,s,r,c,d,b,m,i,a,l]}class ha extends me{constructor(e){super(),be(this,e,da,ca,_e,{containerStyle:0,style:1,isCustomComponent:2})}}function ga(t){let e,n,i;const o=t[8].default,s=qe(o,t,t[7],null);let r=[{class:n=Pe(["svelte-flow__panel",t[1],...t[2]])},{style:t[0]},t[5]],l={};for(let a=0;a<r.length;a+=1)l=Ce(l,r[a]);return{c(){e=Be("div"),s&&s.c(),this.h()},l(a){e=Le(a,"DIV",{class:!0,style:!0});var u=re(e);s&&s.l(u),u.forEach(V),this.h()},h(){Vt(e,l),ae(e,"pointer-events",t[3]?"none":"")},m(a,u){Q(a,e,u),s&&s.m(e,null),i=!0},p(a,[u]){s&&s.p&&(!i||u&128)&&je(s,o,a,a[7],i?Qe(o,a[7],u,null):Je(a[7]),null),Vt(e,l=ft(r,[(!i||u&6&&n!==(n=Pe(["svelte-flow__panel",a[1],...a[2]])))&&{class:n},(!i||u&1)&&{style:a[0]},u&32&&a[5]])),ae(e,"pointer-events",a[3]?"none":"")},i(a){i||(X(s,a),i=!0)},o(a){F(s,a),i=!1},d(a){a&&V(e),s&&s.d(a)}}}function ma(t,e,n){let i;const o=["position","style","class"];let s=ve(e,o),r,{$$slots:l={},$$scope:a}=e,{position:u="top-right"}=e,{style:f=void 0}=e,{class:h=void 0}=e;const{selectionRectMode:c}=Ve();return U(t,c,d=>n(3,r=d)),t.$$set=d=>{e=Ce(Ce({},e),nt(d)),n(5,s=ve(e,o)),"position"in d&&n(6,u=d.position),"style"in d&&n(0,f=d.style),"class"in d&&n(1,h=d.class),"$$scope"in d&&n(7,a=d.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=`${u}`.split("-"))},[f,h,i,r,c,s,u,a,l]}class qn extends me{constructor(e){super(),be(this,e,ma,ga,_e,{position:6,style:0,class:1})}}function Ai(t){let e,n;return e=new qn({props:{position:t[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[ba]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment)},l(i){ge(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p(i,o){const s={};o&2&&(s.position=i[1]),o&4&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ce(e,i)}}}function ba(t){let e,n="Svelte Flow";return{c(){e=Be("a"),e.textContent=n,this.h()},l(i){e=Le(i,"A",{href:!0,target:!0,rel:!0,"aria-label":!0,"data-svelte-h":!0}),sl(e)!=="svelte-2vm8e4"&&(e.textContent=n),this.h()},h(){E(e,"href","https://svelteflow.dev"),E(e,"target","_blank"),E(e,"rel","noopener noreferrer"),E(e,"aria-label","Svelte Flow attribution")},m(i,o){Q(i,e,o)},p:we,d(i){i&&V(e)}}}function ya(t){var o;let e,n,i=!((o=t[0])!=null&&o.hideAttribution)&&Ai(t);return{c(){i&&i.c(),e=Me()},l(s){i&&i.l(s),e=Me()},m(s,r){i&&i.m(s,r),Q(s,e,r),n=!0},p(s,[r]){var l;(l=s[0])!=null&&l.hideAttribution?i&&(Ae(),F(i,1,1,()=>{i=null}),Xe()):i?(i.p(s,r),r&1&&X(i,1)):(i=Ai(s),i.c(),X(i,1),i.m(e.parentNode,e))},i(s){n||(X(i),n=!0)},o(s){F(i),n=!1},d(s){s&&V(e),i&&i.d(s)}}}function _a(t,e,n){let{proOptions:i=void 0}=e,{position:o="bottom-right"}=e;return t.$$set=s=>{"proOptions"in s&&n(0,i=s.proOptions),"position"in s&&n(1,o=s.position)},[i,o]}class ka extends me{constructor(e){super(),be(this,e,_a,ya,_e,{proOptions:0,position:1})}}function Xi(t,{nodeTypes:e,edgeTypes:n,minZoom:i,maxZoom:o,translateExtent:s,paneClickDistance:r}){e!==void 0&&t.setNodeTypes(e),n!==void 0&&t.setEdgeTypes(n),i!==void 0&&t.setMinZoom(i),o!==void 0&&t.setMaxZoom(o),s!==void 0&&t.setTranslateExtent(s),r!==void 0&&t.setPaneClickDistance(r)}const wa=t=>Object.keys(t);function Sa(t,e){wa(e).forEach(n=>{const i=e[n];i!==void 0&&t[n].set(i)})}function Ea(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Ca(t="light"){return $e("light",n=>{if(t!=="system"){n(t);return}const i=Ea(),o=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}})}const Ma=t=>({}),Wi=t=>({slot:"connectionLine"});function Pa(t){let e;const n=t[75].connectionLine,i=qe(n,t,t[99],Wi);return{c(){i&&i.c()},l(o){i&&i.l(o)},m(o,s){i&&i.m(o,s),e=!0},p(o,s){i&&i.p&&(!e||s[3]&64)&&je(i,n,o,o[99],e?Qe(n,o[99],s,Ma):Je(o[99]),Wi)},i(o){e||(X(i,o),e=!0)},o(o){F(i,o),e=!1},d(o){i&&i.d(o)}}}function za(t){let e,n,i,o,s,r,l,a,u,f,h,c;return e=new jr({props:{defaultEdgeOptions:t[21]}}),e.$on("edgeclick",t[78]),e.$on("edgecontextmenu",t[79]),e.$on("edgemouseenter",t[80]),e.$on("edgemouseleave",t[81]),i=new ha({props:{containerStyle:t[7],style:t[6],isCustomComponent:t[34].connectionLine,$$slots:{connectionLine:[Pa]},$$scope:{ctx:t}}}),u=new Nr({props:{nodeClickDistance:t[23]}}),u.$on("nodeclick",t[82]),u.$on("nodemouseenter",t[83]),u.$on("nodemousemove",t[84]),u.$on("nodemouseleave",t[85]),u.$on("nodedragstart",t[86]),u.$on("nodedrag",t[87]),u.$on("nodedragstop",t[88]),u.$on("nodecontextmenu",t[89]),h=new oa({}),h.$on("selectionclick",t[90]),h.$on("selectioncontextmenu",t[91]),h.$on("nodedragstart",t[92]),h.$on("nodedrag",t[93]),h.$on("nodedragstop",t[94]),{c(){ue(e.$$.fragment),n=He(),ue(i.$$.fragment),o=He(),s=Be("div"),r=He(),l=Be("div"),a=He(),ue(u.$$.fragment),f=He(),ue(h.$$.fragment),this.h()},l(d){ge(e.$$.fragment,d),n=Ie(d),ge(i.$$.fragment,d),o=Ie(d),s=Le(d,"DIV",{class:!0}),re(s).forEach(V),r=Ie(d),l=Le(d,"DIV",{class:!0}),re(l).forEach(V),a=Ie(d),ge(u.$$.fragment,d),f=Ie(d),ge(h.$$.fragment,d),this.h()},h(){E(s,"class","svelte-flow__edgelabel-renderer"),E(l,"class","svelte-flow__viewport-portal")},m(d,b){fe(e,d,b),Q(d,n,b),fe(i,d,b),Q(d,o,b),Q(d,s,b),Q(d,r,b),Q(d,l,b),Q(d,a,b),fe(u,d,b),Q(d,f,b),fe(h,d,b),c=!0},p(d,b){const m={};b[0]&2097152&&(m.defaultEdgeOptions=d[21]),e.$set(m);const y={};b[0]&128&&(y.containerStyle=d[7]),b[0]&64&&(y.style=d[6]),b[1]&8&&(y.isCustomComponent=d[34].connectionLine),b[3]&64&&(y.$$scope={dirty:b,ctx:d}),i.$set(y);const g={};b[0]&8388608&&(g.nodeClickDistance=d[23]),u.$set(g)},i(d){c||(X(e.$$.fragment,d),X(i.$$.fragment,d),X(u.$$.fragment,d),X(h.$$.fragment,d),c=!0)},o(d){F(e.$$.fragment,d),F(i.$$.fragment,d),F(u.$$.fragment,d),F(h.$$.fragment,d),c=!1},d(d){d&&(V(n),V(o),V(s),V(r),V(l),V(a),V(f)),ce(e,d),ce(i,d),ce(u,d),ce(h,d)}}}function Oa(t){let e,n,i,o;return e=new Pr({props:{$$slots:{default:[za]},$$scope:{ctx:t}}}),i=new ea({}),{c(){ue(e.$$.fragment),n=He(),ue(i.$$.fragment)},l(s){ge(e.$$.fragment,s),n=Ie(s),ge(i.$$.fragment,s)},m(s,r){fe(e,s,r),Q(s,n,r),fe(i,s,r),o=!0},p(s,r){const l={};r[0]&10485952|r[1]&8|r[3]&64&&(l.$$scope={dirty:r,ctx:s}),e.$set(l)},i(s){o||(X(e.$$.fragment,s),X(i.$$.fragment,s),o=!0)},o(s){F(e.$$.fragment,s),F(i.$$.fragment,s),o=!1},d(s){s&&V(n),ce(e,s),ce(i,s)}}}function Da(t){let e,n;return e=new Er({props:{panOnDrag:t[17]===void 0?!0:t[17],selectionOnDrag:t[18],$$slots:{default:[Oa]},$$scope:{ctx:t}}}),e.$on("paneclick",t[95]),e.$on("panecontextmenu",t[96]),{c(){ue(e.$$.fragment)},l(i){ge(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p(i,o){const s={};o[0]&131072&&(s.panOnDrag=i[17]===void 0?!0:i[17]),o[0]&262144&&(s.selectionOnDrag=i[18]),o[0]&10485952|o[1]&8|o[3]&64&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ce(e,i)}}}function Ha(t){let e,n,i,o,s,r,l,a,u,f,h,c;n=new ua({props:{selectionKey:t[1],deleteKey:t[5],panActivationKey:t[2],multiSelectionKey:t[3],zoomActivationKey:t[4]}}),o=new kr({props:{initialViewport:t[31],onMoveStart:t[8],onMove:t[9],onMoveEnd:t[10],panOnScrollMode:t[11]===void 0?ot.Free:t[11],preventScrolling:t[12]===void 0?!0:t[12],zoomOnScroll:t[13]===void 0?!0:t[13],zoomOnDoubleClick:t[14]===void 0?!0:t[14],zoomOnPinch:t[15]===void 0?!0:t[15],panOnScroll:t[16]===void 0?!1:t[16],panOnDrag:t[17]===void 0?!0:t[17],paneClickDistance:t[22]===void 0?0:t[22],$$slots:{default:[Da]},$$scope:{ctx:t}}}),r=new ka({props:{proOptions:t[20],position:t[19]}});const d=t[75].default,b=qe(d,t,t[99],null);let m=[{style:t[24]},{class:a=Pe(["svelte-flow",t[25],t[30]])},{"data-testid":"svelte-flow__wrapper"},t[33],{role:"application"}],y={};for(let g=0;g<m.length;g+=1)y=Ce(y,m[g]);return{c(){e=Be("div"),ue(n.$$.fragment),i=He(),ue(o.$$.fragment),s=He(),ue(r.$$.fragment),l=He(),b&&b.c(),this.h()},l(g){e=Le(g,"DIV",{style:!0,class:!0,"data-testid":!0,role:!0});var S=re(e);ge(n.$$.fragment,S),i=Ie(S),ge(o.$$.fragment,S),s=Ie(S),ge(r.$$.fragment,S),l=Ie(S),b&&b.l(S),S.forEach(V),this.h()},h(){Vt(e,y),rl(()=>t[98].call(e)),le(e,"svelte-12wlba6",!0)},m(g,S){Q(g,e,S),fe(n,e,null),We(e,i),fe(o,e,null),We(e,s),fe(r,e,null),We(e,l),b&&b.m(e,null),t[97](e),u=al(e,t[98].bind(e)),f=!0,h||(c=[De(e,"dragover",t[76]),De(e,"drop",t[77])],h=!0)},p(g,S){const w={};S[0]&2&&(w.selectionKey=g[1]),S[0]&32&&(w.deleteKey=g[5]),S[0]&4&&(w.panActivationKey=g[2]),S[0]&8&&(w.multiSelectionKey=g[3]),S[0]&16&&(w.zoomActivationKey=g[4]),n.$set(w);const C={};S[0]&256&&(C.onMoveStart=g[8]),S[0]&512&&(C.onMove=g[9]),S[0]&1024&&(C.onMoveEnd=g[10]),S[0]&2048&&(C.panOnScrollMode=g[11]===void 0?ot.Free:g[11]),S[0]&4096&&(C.preventScrolling=g[12]===void 0?!0:g[12]),S[0]&8192&&(C.zoomOnScroll=g[13]===void 0?!0:g[13]),S[0]&16384&&(C.zoomOnDoubleClick=g[14]===void 0?!0:g[14]),S[0]&32768&&(C.zoomOnPinch=g[15]===void 0?!0:g[15]),S[0]&65536&&(C.panOnScroll=g[16]===void 0?!1:g[16]),S[0]&131072&&(C.panOnDrag=g[17]===void 0?!0:g[17]),S[0]&4194304&&(C.paneClickDistance=g[22]===void 0?0:g[22]),S[0]&10879168|S[1]&8|S[3]&64&&(C.$$scope={dirty:S,ctx:g}),o.$set(C);const A={};S[0]&1048576&&(A.proOptions=g[20]),S[0]&524288&&(A.position=g[19]),r.$set(A),b&&b.p&&(!f||S[3]&64)&&je(b,d,g,g[99],f?Qe(d,g[99],S,null):Je(g[99]),null),Vt(e,y=ft(m,[(!f||S[0]&16777216)&&{style:g[24]},(!f||S[0]&1107296256&&a!==(a=Pe(["svelte-flow",g[25],g[30]])))&&{class:a},{"data-testid":"svelte-flow__wrapper"},S[1]&4&&g[33],{role:"application"}])),le(e,"svelte-12wlba6",!0)},i(g){f||(X(n.$$.fragment,g),X(o.$$.fragment,g),X(r.$$.fragment,g),X(b,g),f=!0)},o(g){F(n.$$.fragment,g),F(o.$$.fragment,g),F(r.$$.fragment,g),F(b,g),f=!1},d(g){g&&V(e),ce(n),ce(o),ce(r),b&&b.d(g),t[97](null),u(),h=!1,wt(c)}}}function Ia(t,e,n){let i;const o=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","nodeExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","nodeOrigin","paneClickDistance","nodeClickDistance","defaultMarkerColor","style","class"];let s=ve(e,o),r,l,a=we,u=()=>(a(),a=$n(H,M=>n(100,l=M)),H),f,h=we,c=()=>(h(),h=$n(i,M=>n(30,f=M)),i);t.$$.on_destroy.push(()=>a()),t.$$.on_destroy.push(()=>h());let{$$slots:d={},$$scope:b}=e;const m=ul(d);let{id:y="1"}=e,{nodes:g}=e,{edges:S}=e,{fitView:w=void 0}=e,{fitViewOptions:C=void 0}=e,{minZoom:A=void 0}=e,{maxZoom:K=void 0}=e,{initialViewport:N=void 0}=e,{viewport:H=void 0}=e;u();let{nodeTypes:D=void 0}=e,{edgeTypes:W=void 0}=e,{selectionKey:p=void 0}=e,{selectionMode:B=void 0}=e,{panActivationKey:R=void 0}=e,{multiSelectionKey:_=void 0}=e,{zoomActivationKey:I=void 0}=e,{nodesDraggable:k=void 0}=e,{nodesConnectable:P=void 0}=e,{nodeDragThreshold:O=void 0}=e,{elementsSelectable:z=void 0}=e,{snapGrid:Y=void 0}=e,{deleteKey:G=void 0}=e,{connectionRadius:q=void 0}=e,{connectionLineType:j=void 0}=e,{connectionMode:T=Et.Strict}=e,{connectionLineStyle:ee=""}=e,{connectionLineContainerStyle:te=""}=e,{onMoveStart:v=void 0}=e,{onMove:ne=void 0}=e,{onMoveEnd:oe=void 0}=e,{isValidConnection:se=void 0}=e,{translateExtent:de=void 0}=e,{nodeExtent:ye=void 0}=e,{onlyRenderVisibleElements:Oe=void 0}=e,{panOnScrollMode:L=ot.Free}=e,{preventScrolling:Te=!0}=e,{zoomOnScroll:ze=!0}=e,{zoomOnDoubleClick:ct=!0}=e,{zoomOnPinch:lt=!0}=e,{panOnScroll:st=!1}=e,{panOnDrag:Ke=!0}=e,{selectionOnDrag:rt=void 0}=e,{autoPanOnConnect:$=!0}=e,{autoPanOnNodeDrag:dt=!0}=e,{onerror:ht=void 0}=e,{ondelete:Z=void 0}=e,{onedgecreate:gt=void 0}=e,{attributionPosition:Re=void 0}=e,{proOptions:Ge=void 0}=e,{defaultEdgeOptions:x=void 0}=e,{width:at=void 0}=e,{height:Ue=void 0}=e,{colorMode:Ze="light"}=e,{onconnect:Mt=void 0}=e,{onconnectstart:Pt=void 0}=e,{onconnectend:zt=void 0}=e,{onbeforedelete:Ot=void 0}=e,{oninit:mt=void 0}=e,{nodeOrigin:St=void 0}=e,{paneClickDistance:qt=0}=e,{nodeClickDistance:jn=0}=e,{defaultMarkerColor:zn="#b1b1b7"}=e,{style:Jn=void 0}=e,{class:Qn=void 0}=e,jt,Dt,Ht;const Ao=l||N,Fe=fl(Un)?Ve():mr({nodes:J(g),edges:J(S),width:at,height:Ue,fitView:w,nodeOrigin:St,nodeExtent:ye});mn(()=>(Fe.width.set(Dt),Fe.height.set(Ht),Fe.domNode.set(jt),Fe.syncNodeStores(g),Fe.syncEdgeStores(S),Fe.syncViewport(H),w!==void 0&&Fe.fitViewOnInit.set(w),C&&Fe.fitViewOptions.set(C),Xi(Fe,{nodeTypes:D,edgeTypes:W,minZoom:A,maxZoom:K,translateExtent:de,paneClickDistance:qt}),()=>{Fe.reset()}));const{initialized:xn}=Fe;U(t,xn,M=>n(74,r=M));let On=!1;function Xo(M){ke.call(this,t,M)}function Wo(M){ke.call(this,t,M)}function Bo(M){ke.call(this,t,M)}function Lo(M){ke.call(this,t,M)}function Ko(M){ke.call(this,t,M)}function Ro(M){ke.call(this,t,M)}function Zo(M){ke.call(this,t,M)}function Fo(M){ke.call(this,t,M)}function po(M){ke.call(this,t,M)}function Go(M){ke.call(this,t,M)}function Uo(M){ke.call(this,t,M)}function qo(M){ke.call(this,t,M)}function jo(M){ke.call(this,t,M)}function Jo(M){ke.call(this,t,M)}function Qo(M){ke.call(this,t,M)}function xo(M){ke.call(this,t,M)}function $o(M){ke.call(this,t,M)}function el(M){ke.call(this,t,M)}function tl(M){ke.call(this,t,M)}function nl(M){ke.call(this,t,M)}function il(M){ke.call(this,t,M)}function ol(M){Rn[M?"unshift":"push"](()=>{jt=M,n(28,jt)})}function ll(){Dt=this.clientWidth,Ht=this.clientHeight,n(26,Dt),n(27,Ht)}return t.$$set=M=>{e=Ce(Ce({},e),nt(M)),n(33,s=ve(e,o)),"id"in M&&n(35,y=M.id),"nodes"in M&&n(36,g=M.nodes),"edges"in M&&n(37,S=M.edges),"fitView"in M&&n(38,w=M.fitView),"fitViewOptions"in M&&n(39,C=M.fitViewOptions),"minZoom"in M&&n(40,A=M.minZoom),"maxZoom"in M&&n(41,K=M.maxZoom),"initialViewport"in M&&n(42,N=M.initialViewport),"viewport"in M&&u(n(0,H=M.viewport)),"nodeTypes"in M&&n(43,D=M.nodeTypes),"edgeTypes"in M&&n(44,W=M.edgeTypes),"selectionKey"in M&&n(1,p=M.selectionKey),"selectionMode"in M&&n(45,B=M.selectionMode),"panActivationKey"in M&&n(2,R=M.panActivationKey),"multiSelectionKey"in M&&n(3,_=M.multiSelectionKey),"zoomActivationKey"in M&&n(4,I=M.zoomActivationKey),"nodesDraggable"in M&&n(46,k=M.nodesDraggable),"nodesConnectable"in M&&n(47,P=M.nodesConnectable),"nodeDragThreshold"in M&&n(48,O=M.nodeDragThreshold),"elementsSelectable"in M&&n(49,z=M.elementsSelectable),"snapGrid"in M&&n(50,Y=M.snapGrid),"deleteKey"in M&&n(5,G=M.deleteKey),"connectionRadius"in M&&n(51,q=M.connectionRadius),"connectionLineType"in M&&n(52,j=M.connectionLineType),"connectionMode"in M&&n(53,T=M.connectionMode),"connectionLineStyle"in M&&n(6,ee=M.connectionLineStyle),"connectionLineContainerStyle"in M&&n(7,te=M.connectionLineContainerStyle),"onMoveStart"in M&&n(8,v=M.onMoveStart),"onMove"in M&&n(9,ne=M.onMove),"onMoveEnd"in M&&n(10,oe=M.onMoveEnd),"isValidConnection"in M&&n(54,se=M.isValidConnection),"translateExtent"in M&&n(55,de=M.translateExtent),"nodeExtent"in M&&n(56,ye=M.nodeExtent),"onlyRenderVisibleElements"in M&&n(57,Oe=M.onlyRenderVisibleElements),"panOnScrollMode"in M&&n(11,L=M.panOnScrollMode),"preventScrolling"in M&&n(12,Te=M.preventScrolling),"zoomOnScroll"in M&&n(13,ze=M.zoomOnScroll),"zoomOnDoubleClick"in M&&n(14,ct=M.zoomOnDoubleClick),"zoomOnPinch"in M&&n(15,lt=M.zoomOnPinch),"panOnScroll"in M&&n(16,st=M.panOnScroll),"panOnDrag"in M&&n(17,Ke=M.panOnDrag),"selectionOnDrag"in M&&n(18,rt=M.selectionOnDrag),"autoPanOnConnect"in M&&n(58,$=M.autoPanOnConnect),"autoPanOnNodeDrag"in M&&n(59,dt=M.autoPanOnNodeDrag),"onerror"in M&&n(60,ht=M.onerror),"ondelete"in M&&n(61,Z=M.ondelete),"onedgecreate"in M&&n(62,gt=M.onedgecreate),"attributionPosition"in M&&n(19,Re=M.attributionPosition),"proOptions"in M&&n(20,Ge=M.proOptions),"defaultEdgeOptions"in M&&n(21,x=M.defaultEdgeOptions),"width"in M&&n(63,at=M.width),"height"in M&&n(64,Ue=M.height),"colorMode"in M&&n(65,Ze=M.colorMode),"onconnect"in M&&n(66,Mt=M.onconnect),"onconnectstart"in M&&n(67,Pt=M.onconnectstart),"onconnectend"in M&&n(68,zt=M.onconnectend),"onbeforedelete"in M&&n(69,Ot=M.onbeforedelete),"oninit"in M&&n(70,mt=M.oninit),"nodeOrigin"in M&&n(71,St=M.nodeOrigin),"paneClickDistance"in M&&n(22,qt=M.paneClickDistance),"nodeClickDistance"in M&&n(23,jn=M.nodeClickDistance),"defaultMarkerColor"in M&&n(72,zn=M.defaultMarkerColor),"style"in M&&n(24,Jn=M.style),"class"in M&&n(25,Qn=M.class),"$$scope"in M&&n(99,b=M.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&201326592&&Dt!==void 0&&Ht!==void 0&&(Fe.width.set(Dt),Fe.height.set(Ht)),t.$$.dirty[2]&6400&&!On&&r&&(mt==null||mt(),n(73,On=!0)),t.$$.dirty[1]&2097135632|t.$$.dirty[2]&1777&&Sa(Fe,{flowId:y,connectionLineType:j,connectionRadius:q,selectionMode:B,snapGrid:Y,defaultMarkerColor:zn,nodesDraggable:k,nodesConnectable:P,elementsSelectable:z,onlyRenderVisibleElements:Oe,isValidConnection:se,autoPanOnConnect:$,autoPanOnNodeDrag:dt,onerror:ht,ondelete:Z,onedgecreate:gt,connectionMode:T,nodeDragThreshold:O,onconnect:Mt,onconnectstart:Pt,onconnectend:zt,onbeforedelete:Ot,nodeOrigin:St}),t.$$.dirty[0]&4194304|t.$$.dirty[1]&16791040&&Xi(Fe,{nodeTypes:D,edgeTypes:W,minZoom:A,maxZoom:K,translateExtent:de,paneClickDistance:qt}),t.$$.dirty[2]&8&&c(n(29,i=Ca(Ze)))},[H,p,R,_,I,G,ee,te,v,ne,oe,L,Te,ze,ct,lt,st,Ke,rt,Re,Ge,x,qt,jn,Jn,Qn,Dt,Ht,jt,i,f,Ao,xn,s,m,y,g,S,w,C,A,K,N,D,W,B,k,P,O,z,Y,q,j,T,se,de,ye,Oe,$,dt,ht,Z,gt,at,Ue,Ze,Mt,Pt,zt,Ot,mt,St,zn,On,r,d,Xo,Wo,Bo,Lo,Ko,Ro,Zo,Fo,po,Go,Uo,qo,jo,Jo,Qo,xo,$o,el,tl,nl,il,ol,ll,b]}class Yu extends me{constructor(e){super(),be(this,e,Ia,Ha,_e,{id:35,nodes:36,edges:37,fitView:38,fitViewOptions:39,minZoom:40,maxZoom:41,initialViewport:42,viewport:0,nodeTypes:43,edgeTypes:44,selectionKey:1,selectionMode:45,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:46,nodesConnectable:47,nodeDragThreshold:48,elementsSelectable:49,snapGrid:50,deleteKey:5,connectionRadius:51,connectionLineType:52,connectionMode:53,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:54,translateExtent:55,nodeExtent:56,onlyRenderVisibleElements:57,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:58,autoPanOnNodeDrag:59,onerror:60,ondelete:61,onedgecreate:62,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:63,height:64,colorMode:65,onconnect:66,onconnectstart:67,onconnectend:68,onbeforedelete:69,oninit:70,nodeOrigin:71,paneClickDistance:22,nodeClickDistance:23,defaultMarkerColor:72,style:24,class:25},null,[-1,-1,-1,-1])}}const va=t=>({}),Bi=t=>({class:"button-svg"});function Ta(t){let e,n,i,o,s;const r=t[8].default,l=qe(r,t,t[7],Bi);let a=[{type:"button"},{class:n=Pe(["svelte-flow__controls-button",t[0]])},t[6]],u={};for(let f=0;f<a.length;f+=1)u=Ce(u,a[f]);return{c(){e=Be("button"),l&&l.c(),this.h()},l(f){e=Le(f,"BUTTON",{type:!0,class:!0});var h=re(e);l&&l.l(h),h.forEach(V),this.h()},h(){Vt(e,u),ae(e,"--xy-controls-button-background-color-props",t[1]),ae(e,"--xy-controls-button-background-color-hover-props",t[2]),ae(e,"--xy-controls-button-color-props",t[3]),ae(e,"--xy-controls-button-color-hover-props",t[4]),ae(e,"--xy-controls-button-border-color-props",t[5])},m(f,h){Q(f,e,h),l&&l.m(e,null),e.autofocus&&e.focus(),i=!0,o||(s=De(e,"click",t[9]),o=!0)},p(f,[h]){l&&l.p&&(!i||h&128)&&je(l,r,f,f[7],i?Qe(r,f[7],h,va):Je(f[7]),Bi),Vt(e,u=ft(a,[{type:"button"},(!i||h&1&&n!==(n=Pe(["svelte-flow__controls-button",f[0]])))&&{class:n},h&64&&f[6]])),ae(e,"--xy-controls-button-background-color-props",f[1]),ae(e,"--xy-controls-button-background-color-hover-props",f[2]),ae(e,"--xy-controls-button-color-props",f[3]),ae(e,"--xy-controls-button-color-hover-props",f[4]),ae(e,"--xy-controls-button-border-color-props",f[5])},i(f){i||(X(l,f),i=!0)},o(f){F(l,f),i=!1},d(f){f&&V(e),l&&l.d(f),o=!1,s()}}}function Na(t,e,n){const i=["class"];let o=ve(e,i),{$$slots:s={},$$scope:r}=e,{class:l=void 0}=e,a,u,f,h,c;function d(b){ke.call(this,t,b)}return t.$$set=b=>{e=Ce(Ce({},e),nt(b)),n(6,o=ve(e,i)),"class"in b&&n(0,l=b.class),"$$scope"in b&&n(7,r=b.$$scope)},[l,a,u,f,h,c,o,r,s,d]}class gn extends me{constructor(e){super(),be(this,e,Na,Ta,_e,{class:0})}}function Va(t){let e,n;return{c(){e=Se("svg"),n=Se("path"),this.h()},l(i){e=Ee(i,"svg",{xmlns:!0,viewBox:!0});var o=re(e);n=Ee(o,"path",{d:!0}),re(n).forEach(V),o.forEach(V),this.h()},h(){E(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 32 32")},m(i,o){Q(i,e,o),We(e,n)},p:we,i:we,o:we,d(i){i&&V(e)}}}class Ya extends me{constructor(e){super(),be(this,e,null,Va,_e,{})}}function Aa(t){let e,n;return{c(){e=Se("svg"),n=Se("path"),this.h()},l(i){e=Ee(i,"svg",{xmlns:!0,viewBox:!0});var o=re(e);n=Ee(o,"path",{d:!0}),re(n).forEach(V),o.forEach(V),this.h()},h(){E(n,"d","M0 0h32v4.2H0z"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 32 5")},m(i,o){Q(i,e,o),We(e,n)},p:we,i:we,o:we,d(i){i&&V(e)}}}class Xa extends me{constructor(e){super(),be(this,e,null,Aa,_e,{})}}function Wa(t){let e,n;return{c(){e=Se("svg"),n=Se("path"),this.h()},l(i){e=Ee(i,"svg",{xmlns:!0,viewBox:!0});var o=re(e);n=Ee(o,"path",{d:!0}),re(n).forEach(V),o.forEach(V),this.h()},h(){E(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 32 30")},m(i,o){Q(i,e,o),We(e,n)},p:we,i:we,o:we,d(i){i&&V(e)}}}class Ba extends me{constructor(e){super(),be(this,e,null,Wa,_e,{})}}function La(t){let e,n;return{c(){e=Se("svg"),n=Se("path"),this.h()},l(i){e=Ee(i,"svg",{xmlns:!0,viewBox:!0});var o=re(e);n=Ee(o,"path",{d:!0}),re(n).forEach(V),o.forEach(V),this.h()},h(){E(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 25 32")},m(i,o){Q(i,e,o),We(e,n)},p:we,i:we,o:we,d(i){i&&V(e)}}}class Ka extends me{constructor(e){super(),be(this,e,null,La,_e,{})}}function Ra(t){let e,n;return{c(){e=Se("svg"),n=Se("path"),this.h()},l(i){e=Ee(i,"svg",{xmlns:!0,viewBox:!0});var o=re(e);n=Ee(o,"path",{d:!0}),re(n).forEach(V),o.forEach(V),this.h()},h(){E(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 25 32")},m(i,o){Q(i,e,o),We(e,n)},p:we,i:we,o:we,d(i){i&&V(e)}}}class Za extends me{constructor(e){super(),be(this,e,null,Ra,_e,{})}}const Fa=t=>({}),Li=t=>({}),pa=t=>({}),Ki=t=>({});function Ri(t){let e,n,i,o;const s=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:t[9]},t[17]];let r={$$slots:{default:[Ga]},$$scope:{ctx:t}};for(let u=0;u<s.length;u+=1)r=Ce(r,s[u]);e=new gn({props:r}),e.$on("click",t[18]);const l=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:t[10]},t[17]];let a={$$slots:{default:[Ua]},$$scope:{ctx:t}};for(let u=0;u<l.length;u+=1)a=Ce(a,l[u]);return i=new gn({props:a}),i.$on("click",t[19]),{c(){ue(e.$$.fragment),n=He(),ue(i.$$.fragment)},l(u){ge(e.$$.fragment,u),n=Ie(u),ge(i.$$.fragment,u)},m(u,f){fe(e,u,f),Q(u,n,f),fe(i,u,f),o=!0},p(u,f){const h=f[0]&131584?ft(s,[s[0],s[1],s[2],f[0]&512&&{disabled:u[9]},f[0]&131072&&Yt(u[17])]):{};f[1]&32&&(h.$$scope={dirty:f,ctx:u}),e.$set(h);const c=f[0]&132096?ft(l,[l[0],l[1],l[2],f[0]&1024&&{disabled:u[10]},f[0]&131072&&Yt(u[17])]):{};f[1]&32&&(c.$$scope={dirty:f,ctx:u}),i.$set(c)},i(u){o||(X(e.$$.fragment,u),X(i.$$.fragment,u),o=!0)},o(u){F(e.$$.fragment,u),F(i.$$.fragment,u),o=!1},d(u){u&&V(n),ce(e,u),ce(i,u)}}}function Ga(t){let e,n;return e=new Ya({}),{c(){ue(e.$$.fragment)},l(i){ge(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ce(e,i)}}}function Ua(t){let e,n;return e=new Xa({}),{c(){ue(e.$$.fragment)},l(i){ge(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ce(e,i)}}}function Zi(t){let e,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},t[17]];let o={$$slots:{default:[qa]},$$scope:{ctx:t}};for(let s=0;s<i.length;s+=1)o=Ce(o,i[s]);return e=new gn({props:o}),e.$on("click",t[20]),{c(){ue(e.$$.fragment)},l(s){ge(e.$$.fragment,s)},m(s,r){fe(e,s,r),n=!0},p(s,r){const l=r[0]&131072?ft(i,[i[0],i[1],i[2],Yt(s[17])]):{};r[1]&32&&(l.$$scope={dirty:r,ctx:s}),e.$set(l)},i(s){n||(X(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){ce(e,s)}}}function qa(t){let e,n;return e=new Ba({}),{c(){ue(e.$$.fragment)},l(i){ge(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ce(e,i)}}}function Fi(t){let e,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},t[17]];let o={$$slots:{default:[Qa]},$$scope:{ctx:t}};for(let s=0;s<i.length;s+=1)o=Ce(o,i[s]);return e=new gn({props:o}),e.$on("click",t[21]),{c(){ue(e.$$.fragment)},l(s){ge(e.$$.fragment,s)},m(s,r){fe(e,s,r),n=!0},p(s,r){const l=r[0]&131072?ft(i,[i[0],i[1],i[2],Yt(s[17])]):{};r[0]&256|r[1]&32&&(l.$$scope={dirty:r,ctx:s}),e.$set(l)},i(s){n||(X(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){ce(e,s)}}}function ja(t){let e,n;return e=new Ka({}),{c(){ue(e.$$.fragment)},l(i){ge(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ce(e,i)}}}function Ja(t){let e,n;return e=new Za({}),{c(){ue(e.$$.fragment)},l(i){ge(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ce(e,i)}}}function Qa(t){let e,n,i,o;const s=[Ja,ja],r=[];function l(a,u){return a[8]?0:1}return e=l(t),n=r[e]=s[e](t),{c(){n.c(),i=Me()},l(a){n.l(a),i=Me()},m(a,u){r[e].m(a,u),Q(a,i,u),o=!0},p(a,u){let f=e;e=l(a),e!==f&&(Ae(),F(r[f],1,1,()=>{r[f]=null}),Xe(),n=r[e],n||(n=r[e]=s[e](a),n.c()),X(n,1),n.m(i.parentNode,i))},i(a){o||(X(n),o=!0)},o(a){F(n),o=!1},d(a){a&&V(i),r[e].d(a)}}}function xa(t){let e,n,i,o,s,r;const l=t[35].before,a=qe(l,t,t[36],Ki);let u=t[1]&&Ri(t),f=t[2]&&Zi(t),h=t[3]&&Fi(t);const c=t[35].default,d=qe(c,t,t[36],null),b=t[35].after,m=qe(b,t,t[36],Li);return{c(){a&&a.c(),e=He(),u&&u.c(),n=He(),f&&f.c(),i=He(),h&&h.c(),o=He(),d&&d.c(),s=He(),m&&m.c()},l(y){a&&a.l(y),e=Ie(y),u&&u.l(y),n=Ie(y),f&&f.l(y),i=Ie(y),h&&h.l(y),o=Ie(y),d&&d.l(y),s=Ie(y),m&&m.l(y)},m(y,g){a&&a.m(y,g),Q(y,e,g),u&&u.m(y,g),Q(y,n,g),f&&f.m(y,g),Q(y,i,g),h&&h.m(y,g),Q(y,o,g),d&&d.m(y,g),Q(y,s,g),m&&m.m(y,g),r=!0},p(y,g){a&&a.p&&(!r||g[1]&32)&&je(a,l,y,y[36],r?Qe(l,y[36],g,pa):Je(y[36]),Ki),y[1]?u?(u.p(y,g),g[0]&2&&X(u,1)):(u=Ri(y),u.c(),X(u,1),u.m(n.parentNode,n)):u&&(Ae(),F(u,1,1,()=>{u=null}),Xe()),y[2]?f?(f.p(y,g),g[0]&4&&X(f,1)):(f=Zi(y),f.c(),X(f,1),f.m(i.parentNode,i)):f&&(Ae(),F(f,1,1,()=>{f=null}),Xe()),y[3]?h?(h.p(y,g),g[0]&8&&X(h,1)):(h=Fi(y),h.c(),X(h,1),h.m(o.parentNode,o)):h&&(Ae(),F(h,1,1,()=>{h=null}),Xe()),d&&d.p&&(!r||g[1]&32)&&je(d,c,y,y[36],r?Qe(c,y[36],g,null):Je(y[36]),null),m&&m.p&&(!r||g[1]&32)&&je(m,b,y,y[36],r?Qe(b,y[36],g,Fa):Je(y[36]),Li)},i(y){r||(X(a,y),X(u),X(f),X(h),X(d,y),X(m,y),r=!0)},o(y){F(a,y),F(u),F(f),F(h),F(d,y),F(m,y),r=!1},d(y){y&&(V(e),V(n),V(i),V(o),V(s)),a&&a.d(y),u&&u.d(y),f&&f.d(y),h&&h.d(y),d&&d.d(y),m&&m.d(y)}}}function $a(t){let e,n;return e=new qn({props:{class:Pe(["svelte-flow__controls",t[7],t[6]]),position:t[0],"data-testid":"svelte-flow__controls","aria-label":t[4]??"Svelte Flow controls",style:t[5],$$slots:{default:[xa]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment)},l(i){ge(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p(i,o){const s={};o[0]&192&&(s.class=Pe(["svelte-flow__controls",i[7],i[6]])),o[0]&1&&(s.position=i[0]),o[0]&16&&(s["aria-label"]=i[4]??"Svelte Flow controls"),o[0]&32&&(s.style=i[5]),o[0]&1806|o[1]&32&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ce(e,i)}}}function eu(t,e,n){let i,o,s,r,l,a,u,f,h,c,{$$slots:d={},$$scope:b}=e,{position:m="bottom-left"}=e,{showZoom:y=!0}=e,{showFitView:g=!0}=e,{showLock:S=!0}=e,{buttonBgColor:w=void 0}=e,{buttonBgColorHover:C=void 0}=e,{buttonColor:A=void 0}=e,{buttonColorHover:K=void 0}=e,{buttonBorderColor:N=void 0}=e,{ariaLabel:H=void 0}=e,{style:D=void 0}=e,{orientation:W="vertical"}=e,{fitViewOptions:p=void 0}=e,{class:B=""}=e;const{zoomIn:R,zoomOut:_,fitView:I,viewport:k,minZoom:P,maxZoom:O,nodesDraggable:z,nodesConnectable:Y,elementsSelectable:G}=Ve();U(t,k,v=>n(30,a=v)),U(t,P,v=>n(31,u=v)),U(t,O,v=>n(29,l=v)),U(t,z,v=>n(34,c=v)),U(t,Y,v=>n(33,h=v)),U(t,G,v=>n(32,f=v));const q={bgColor:w,bgColorHover:C,color:A,colorHover:K,borderColor:N},j=()=>{R()},T=()=>{_()},ee=()=>{I(p)},te=()=>{n(8,i=!i),z.set(i),Y.set(i),G.set(i)};return t.$$set=v=>{"position"in v&&n(0,m=v.position),"showZoom"in v&&n(1,y=v.showZoom),"showFitView"in v&&n(2,g=v.showFitView),"showLock"in v&&n(3,S=v.showLock),"buttonBgColor"in v&&n(22,w=v.buttonBgColor),"buttonBgColorHover"in v&&n(23,C=v.buttonBgColorHover),"buttonColor"in v&&n(24,A=v.buttonColor),"buttonColorHover"in v&&n(25,K=v.buttonColorHover),"buttonBorderColor"in v&&n(26,N=v.buttonBorderColor),"ariaLabel"in v&&n(4,H=v.ariaLabel),"style"in v&&n(5,D=v.style),"orientation"in v&&n(27,W=v.orientation),"fitViewOptions"in v&&n(28,p=v.fitViewOptions),"class"in v&&n(6,B=v.class),"$$scope"in v&&n(36,b=v.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&14&&n(8,i=c||h||f),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&n(10,o=a.zoom<=u),t.$$.dirty[0]&1610612736&&n(9,s=a.zoom>=l),t.$$.dirty[0]&134217728&&n(7,r=W==="horizontal"?"horizontal":"vertical")},[m,y,g,S,H,D,B,r,i,s,o,k,P,O,z,Y,G,q,j,T,ee,te,w,C,A,K,N,W,p,l,a,u,f,h,c,d,b]}class Au extends me{constructor(e){super(),be(this,e,eu,$a,_e,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:22,buttonBgColorHover:23,buttonColor:24,buttonColorHover:25,buttonBorderColor:26,ariaLabel:4,style:5,orientation:27,fitViewOptions:28,class:6},null,[-1,-1])}}var _t;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(_t||(_t={}));function tu(t){let e,n;return{c(){e=Se("circle"),this.h()},l(i){e=Ee(i,"circle",{cx:!0,cy:!0,r:!0,class:!0}),re(e).forEach(V),this.h()},h(){E(e,"cx",t[0]),E(e,"cy",t[0]),E(e,"r",t[0]),E(e,"class",n=Pe(["svelte-flow__background-pattern","dots",t[1]]))},m(i,o){Q(i,e,o)},p(i,[o]){o&1&&E(e,"cx",i[0]),o&1&&E(e,"cy",i[0]),o&1&&E(e,"r",i[0]),o&2&&n!==(n=Pe(["svelte-flow__background-pattern","dots",i[1]]))&&E(e,"class",n)},i:we,o:we,d(i){i&&V(e)}}}function nu(t,e,n){let{radius:i=5}=e,{class:o=""}=e;return t.$$set=s=>{"radius"in s&&n(0,i=s.radius),"class"in s&&n(1,o=s.class)},[i,o]}class iu extends me{constructor(e){super(),be(this,e,nu,tu,_e,{radius:0,class:1})}}function ou(t){let e,n,i;return{c(){e=Se("path"),this.h()},l(o){e=Ee(o,"path",{"stroke-width":!0,d:!0,class:!0}),re(e).forEach(V),this.h()},h(){E(e,"stroke-width",t[0]),E(e,"d",n=`M${t[1][0]/2} 0 V${t[1][1]} M0 ${t[1][1]/2} H${t[1][0]}`),E(e,"class",i=Pe(["svelte-flow__background-pattern",t[2],t[3]]))},m(o,s){Q(o,e,s)},p(o,[s]){s&1&&E(e,"stroke-width",o[0]),s&2&&n!==(n=`M${o[1][0]/2} 0 V${o[1][1]} M0 ${o[1][1]/2} H${o[1][0]}`)&&E(e,"d",n),s&12&&i!==(i=Pe(["svelte-flow__background-pattern",o[2],o[3]]))&&E(e,"class",i)},i:we,o:we,d(o){o&&V(e)}}}function lu(t,e,n){let{lineWidth:i=1}=e,{dimensions:o}=e,{variant:s=void 0}=e,{class:r=""}=e;return t.$$set=l=>{"lineWidth"in l&&n(0,i=l.lineWidth),"dimensions"in l&&n(1,o=l.dimensions),"variant"in l&&n(2,s=l.variant),"class"in l&&n(3,r=l.class)},[i,o,s,r]}class su extends me{constructor(e){super(),be(this,e,lu,ou,_e,{lineWidth:0,dimensions:1,variant:2,class:3})}}function ru(t){let e,n;return e=new su({props:{dimensions:t[6],variant:t[0],lineWidth:t[1],class:t[4]}}),{c(){ue(e.$$.fragment)},l(i){ge(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p(i,o){const s={};o&64&&(s.dimensions=i[6]),o&1&&(s.variant=i[0]),o&2&&(s.lineWidth=i[1]),o&16&&(s.class=i[4]),e.$set(s)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ce(e,i)}}}function au(t){let e,n;return e=new iu({props:{radius:t[7]/2,class:t[4]}}),{c(){ue(e.$$.fragment)},l(i){ge(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p(i,o){const s={};o&128&&(s.radius=i[7]/2),o&16&&(s.class=i[4]),e.$set(s)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ce(e,i)}}}function uu(t){let e,n,i,o,s,r,l,a,u,f,h,c,d;const b=[au,ru],m=[];function y(g,S){return g[14]?0:1}return i=y(t),o=m[i]=b[i](t),{c(){e=Se("svg"),n=Se("pattern"),o.c(),f=Se("rect"),this.h()},l(g){e=Ee(g,"svg",{class:!0,"data-testid":!0});var S=re(e);n=Ee(S,"pattern",{id:!0,x:!0,y:!0,width:!0,height:!0,patternUnits:!0,patternTransform:!0});var w=re(n);o.l(w),w.forEach(V),f=Ee(S,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),re(f).forEach(V),S.forEach(V),this.h()},h(){E(n,"id",t[11]),E(n,"x",s=t[9].x%t[8][0]),E(n,"y",r=t[9].y%t[8][1]),E(n,"width",l=t[8][0]),E(n,"height",a=t[8][1]),E(n,"patternUnits","userSpaceOnUse"),E(n,"patternTransform",u=`translate(-${t[10][0]},-${t[10][1]})`),E(f,"x","0"),E(f,"y","0"),E(f,"width","100%"),E(f,"height","100%"),E(f,"fill",h=`url(#${t[11]})`),E(e,"class",c=ei(Pe(["svelte-flow__background",t[5]]))+" svelte-1r7pe8d"),E(e,"data-testid","svelte-flow__background"),ae(e,"--xy-background-color-props",t[2]),ae(e,"--xy-background-pattern-color-props",t[3])},m(g,S){Q(g,e,S),We(e,n),m[i].m(n,null),We(e,f),d=!0},p(g,[S]){o.p(g,S),(!d||S&2048)&&E(n,"id",g[11]),(!d||S&768&&s!==(s=g[9].x%g[8][0]))&&E(n,"x",s),(!d||S&768&&r!==(r=g[9].y%g[8][1]))&&E(n,"y",r),(!d||S&256&&l!==(l=g[8][0]))&&E(n,"width",l),(!d||S&256&&a!==(a=g[8][1]))&&E(n,"height",a),(!d||S&1024&&u!==(u=`translate(-${g[10][0]},-${g[10][1]})`))&&E(n,"patternTransform",u),(!d||S&2048&&h!==(h=`url(#${g[11]})`))&&E(f,"fill",h),(!d||S&32&&c!==(c=ei(Pe(["svelte-flow__background",g[5]]))+" svelte-1r7pe8d"))&&E(e,"class",c),S&4&&ae(e,"--xy-background-color-props",g[2]),S&8&&ae(e,"--xy-background-pattern-color-props",g[3])},i(g){d||(X(o),d=!0)},o(g){F(o),d=!1},d(g){g&&V(e),m[i].d()}}}const fu={[_t.Dots]:1,[_t.Lines]:1,[_t.Cross]:6};function cu(t,e,n){let i,o,s,r,l,a,u,{id:f=void 0}=e,{variant:h=_t.Dots}=e,{gap:c=20}=e,{size:d=1}=e,{lineWidth:b=1}=e,{bgColor:m=void 0}=e,{patternColor:y=void 0}=e,{patternClass:g=void 0}=e,{class:S=""}=e;const{viewport:w,flowId:C}=Ve();U(t,w,D=>n(9,a=D)),U(t,C,D=>n(18,u=D));const A=d||fu[h],K=h===_t.Dots,N=h===_t.Cross,H=Array.isArray(c)?c:[c,c];return t.$$set=D=>{"id"in D&&n(15,f=D.id),"variant"in D&&n(0,h=D.variant),"gap"in D&&n(16,c=D.gap),"size"in D&&n(17,d=D.size),"lineWidth"in D&&n(1,b=D.lineWidth),"bgColor"in D&&n(2,m=D.bgColor),"patternColor"in D&&n(3,y=D.patternColor),"patternClass"in D&&n(4,g=D.patternClass),"class"in D&&n(5,S=D.class)},t.$$.update=()=>{t.$$.dirty&294912&&n(11,i=`background-pattern-${u}-${f||""}`),t.$$.dirty&512&&n(8,o=[H[0]*a.zoom||1,H[1]*a.zoom||1]),t.$$.dirty&512&&n(7,s=A*a.zoom),t.$$.dirty&384&&n(6,r=N?[s,s]:o),t.$$.dirty&192&&n(10,l=K?[s/2,s/2]:[r[0]/2,r[1]/2])},[h,b,m,y,g,S,r,s,o,a,l,i,w,C,K,f,c,d,u]}class Xu extends me{constructor(e){super(),be(this,e,cu,uu,_e,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}function du(t){let e,n,i;return{c(){e=Se("rect"),this.h()},l(o){e=Ee(o,"rect",{class:!0,x:!0,y:!0,rx:!0,ry:!0,width:!0,height:!0,style:!0,"shape-rendering":!0}),re(e).forEach(V),this.h()},h(){E(e,"class",n=Pe(["svelte-flow__minimap-node",t[10]])),E(e,"x",t[0]),E(e,"y",t[1]),E(e,"rx",t[4]),E(e,"ry",t[4]),E(e,"width",t[2]),E(e,"height",t[3]),E(e,"style",i=`${t[5]?`fill: ${t[5]};`:""}${t[7]?`stroke: ${t[7]};`:""}${t[8]?`stroke-width: ${t[8]};`:""}`),E(e,"shape-rendering",t[6]),le(e,"selected",t[9])},m(o,s){Q(o,e,s)},p(o,[s]){s&1024&&n!==(n=Pe(["svelte-flow__minimap-node",o[10]]))&&E(e,"class",n),s&1&&E(e,"x",o[0]),s&2&&E(e,"y",o[1]),s&16&&E(e,"rx",o[4]),s&16&&E(e,"ry",o[4]),s&4&&E(e,"width",o[2]),s&8&&E(e,"height",o[3]),s&416&&i!==(i=`${o[5]?`fill: ${o[5]};`:""}${o[7]?`stroke: ${o[7]};`:""}${o[8]?`stroke-width: ${o[8]};`:""}`)&&E(e,"style",i),s&64&&E(e,"shape-rendering",o[6]),s&1536&&le(e,"selected",o[9])},i:we,o:we,d(o){o&&V(e)}}}function hu(t,e,n){let{x:i}=e,{y:o}=e,{width:s=0}=e,{height:r=0}=e,{borderRadius:l=5}=e,{color:a=void 0}=e,{shapeRendering:u}=e,{strokeColor:f=void 0}=e,{strokeWidth:h=2}=e,{selected:c=!1}=e,{class:d=""}=e;return t.$$set=b=>{"x"in b&&n(0,i=b.x),"y"in b&&n(1,o=b.y),"width"in b&&n(2,s=b.width),"height"in b&&n(3,r=b.height),"borderRadius"in b&&n(4,l=b.borderRadius),"color"in b&&n(5,a=b.color),"shapeRendering"in b&&n(6,u=b.shapeRendering),"strokeColor"in b&&n(7,f=b.strokeColor),"strokeWidth"in b&&n(8,h=b.strokeWidth),"selected"in b&&n(9,c=b.selected),"class"in b&&n(10,d=b.class)},[i,o,s,r,l,a,u,f,h,c,d]}class gu extends me{constructor(e){super(),be(this,e,hu,du,_e,{x:0,y:1,width:2,height:3,borderRadius:4,color:5,shapeRendering:6,strokeColor:7,strokeWidth:8,selected:9,class:10})}}function mu(t,e){const n=us({domNode:t,panZoom:e.panZoom,getTransform:()=>{const o=J(e.viewport);return[o.x,o.y,o.zoom]},getViewScale:e.getViewScale});function i(o){n.update({translateExtent:o.translateExtent,width:o.width,height:o.height,inversePan:o.inversePan,zoomStep:o.zoomStep,pannable:o.pannable,zoomable:o.zoomable})}return{update:i,destroy(){n.destroy()}}}function pi(t,e,n){const i=t.slice();i[55]=e[n];const o=i[20].get(i[55].id);return i[56]=o,i}function Yn(t){const e=t.slice(),n=Ct(e[56]);return e[59]=n,e}function Gi(t){let e,n,i=[],o=new Map,s,r,l,a,u,f,h,c=t[1]&&Ui(t),d=kt(t[19]);const b=m=>m[55].id;for(let m=0;m<d.length;m+=1){let y=pi(t,d,m),g=b(y);o.set(g,i[m]=ji(g,y))}return{c(){e=Se("svg"),c&&c.c(),n=Me();for(let m=0;m<i.length;m+=1)i[m].c();s=Se("path"),this.h()},l(m){e=Ee(m,"svg",{width:!0,height:!0,viewBox:!0,class:!0,role:!0,"aria-labelledby":!0});var y=re(e);c&&c.l(y),n=Me();for(let g=0;g<i.length;g+=1)i[g].l(y);s=Ee(y,"path",{class:!0,d:!0,"fill-rule":!0,"pointer-events":!0}),re(s).forEach(V),y.forEach(V),this.h()},h(){E(s,"class","svelte-flow__minimap-mask"),E(s,"d",r="M"+(t[26]-t[15])+","+(t[25]-t[15])+"h"+(t[24]+t[15]*2)+"v"+(t[23]+t[15]*2)+"h"+(-t[24]-t[15]*2)+`z
      M`+t[18].x+","+t[18].y+"h"+t[18].width+"v"+t[18].height+"h"+-t[18].width+"z"),E(s,"fill-rule","evenodd"),E(s,"pointer-events","none"),E(e,"width",t[17]),E(e,"height",t[16]),E(e,"viewBox",l=t[26]+" "+t[25]+" "+t[24]+" "+t[23]),E(e,"class","svelte-flow__minimap-svg"),E(e,"role","img"),E(e,"aria-labelledby",t[41]),ae(e,"--xy-minimap-mask-background-color-props",t[5]),ae(e,"--xy-minimap-mask-stroke-color-props",t[6]),ae(e,"--xy-minimap-mask-stroke-width-props",t[7]?t[7]*t[14]:void 0)},m(m,y){Q(m,e,y),c&&c.m(e,null),We(e,n);for(let g=0;g<i.length;g+=1)i[g]&&i[g].m(e,null);We(e,s),u=!0,f||(h=pe(a=mu.call(null,e,{panZoom:t[27],viewport:t[31],getViewScale:t[42],translateExtent:t[28],width:t[22],height:t[21],inversePan:t[10],zoomStep:t[11],pannable:t[8],zoomable:t[9]})),f=!0)},p(m,y){m[1]?c?c.p(m,y):(c=Ui(m),c.c(),c.m(e,n)):c&&(c.d(1),c=null),y[0]&1572876|y[1]&960&&(d=kt(m[19]),Ae(),i=yn(i,y,b,1,m,d,o,e,_n,ji,s,pi),Xe()),(!u||y[0]&126124032&&r!==(r="M"+(m[26]-m[15])+","+(m[25]-m[15])+"h"+(m[24]+m[15]*2)+"v"+(m[23]+m[15]*2)+"h"+(-m[24]-m[15]*2)+`z
      M`+m[18].x+","+m[18].y+"h"+m[18].width+"v"+m[18].height+"h"+-m[18].width+"z"))&&E(s,"d",r),(!u||y[0]&131072)&&E(e,"width",m[17]),(!u||y[0]&65536)&&E(e,"height",m[16]),(!u||y[0]&125829120&&l!==(l=m[26]+" "+m[25]+" "+m[24]+" "+m[23]))&&E(e,"viewBox",l),a&&Ye(a.update)&&y[0]&408948480&&a.update.call(null,{panZoom:m[27],viewport:m[31],getViewScale:m[42],translateExtent:m[28],width:m[22],height:m[21],inversePan:m[10],zoomStep:m[11],pannable:m[8],zoomable:m[9]}),y[0]&32&&ae(e,"--xy-minimap-mask-background-color-props",m[5]),y[0]&64&&ae(e,"--xy-minimap-mask-stroke-color-props",m[6]),y[0]&16512&&ae(e,"--xy-minimap-mask-stroke-width-props",m[7]?m[7]*m[14]:void 0)},i(m){if(!u){for(let y=0;y<d.length;y+=1)X(i[y]);u=!0}},o(m){for(let y=0;y<i.length;y+=1)F(i[y]);u=!1},d(m){m&&V(e),c&&c.d();for(let y=0;y<i.length;y+=1)i[y].d();f=!1,h()}}}function Ui(t){let e,n;return{c(){e=Se("title"),n=Zt(t[1]),this.h()},l(i){e=Ee(i,"title",{id:!0});var o=re(e);n=Ft(o,t[1]),o.forEach(V),this.h()},h(){E(e,"id",t[41])},m(i,o){Q(i,e,o),We(e,n)},p(i,o){o[0]&2&&pt(n,i[1])},d(i){i&&V(e)}}}function qi(t){var s;let e,n;const i=[{x:t[56].internals.positionAbsolute.x},{y:t[56].internals.positionAbsolute.y},t[59],{selected:t[56].selected},{color:(s=t[37])==null?void 0:s.call(t,t[56])},{borderRadius:t[2]},{strokeColor:t[38](t[56])},{strokeWidth:t[3]},{shapeRendering:t[40]},{class:t[39](t[56])}];let o={};for(let r=0;r<i.length;r+=1)o=Ce(o,i[r]);return e=new gu({props:o}),{c(){ue(e.$$.fragment)},l(r){ge(e.$$.fragment,r)},m(r,l){fe(e,r,l),n=!0},p(r,l){var u;const a=l[0]&1572876|l[1]&960?ft(i,[l[0]&1572864&&{x:r[56].internals.positionAbsolute.x},l[0]&1572864&&{y:r[56].internals.positionAbsolute.y},l[0]&1572864&&Yt(r[59]),l[0]&1572864&&{selected:r[56].selected},l[0]&1572864|l[1]&64&&{color:(u=r[37])==null?void 0:u.call(r,r[56])},l[0]&4&&{borderRadius:r[2]},l[0]&1572864|l[1]&128&&{strokeColor:r[38](r[56])},l[0]&8&&{strokeWidth:r[3]},l[1]&512&&{shapeRendering:r[40]},l[0]&1572864|l[1]&256&&{class:r[39](r[56])}]):{};e.$set(a)},i(r){n||(X(e.$$.fragment,r),n=!0)},o(r){F(e.$$.fragment,r),n=!1},d(r){ce(e,r)}}}function ji(t,e){let n,i=e[56]&&cn(e[56]),o,s,r=i&&qi(Yn(e));return{key:t,first:null,c(){n=Me(),r&&r.c(),o=Me(),this.h()},l(l){n=Me(),r&&r.l(l),o=Me(),this.h()},h(){this.first=n},m(l,a){Q(l,n,a),r&&r.m(l,a),Q(l,o,a),s=!0},p(l,a){e=l,a[0]&1572864&&(i=e[56]&&cn(e[56])),i?r?(r.p(Yn(e),a),a[0]&1572864&&X(r,1)):(r=qi(Yn(e)),r.c(),X(r,1),r.m(o.parentNode,o)):r&&(Ae(),F(r,1,1,()=>{r=null}),Xe())},i(l){s||(X(r),s=!0)},o(l){F(r),s=!1},d(l){l&&(V(n),V(o)),r&&r.d(l)}}}function bu(t){let e,n,i=t[27]&&Gi(t);return{c(){i&&i.c(),e=Me()},l(o){i&&i.l(o),e=Me()},m(o,s){i&&i.m(o,s),Q(o,e,s),n=!0},p(o,s){o[27]?i?(i.p(o,s),s[0]&134217728&&X(i,1)):(i=Gi(o),i.c(),X(i,1),i.m(e.parentNode,e)):i&&(Ae(),F(i,1,1,()=>{i=null}),Xe())},i(o){n||(X(i),n=!0)},o(o){F(i),n=!1},d(o){o&&V(e),i&&i.d(o)}}}function yu(t){let e,n;return e=new qn({props:{position:t[0],style:t[12]+(t[4]?`;--xy-minimap-background-color-props:${t[4]}`:""),class:Pe(["svelte-flow__minimap",t[13]]),"data-testid":"svelte-flow__minimap",$$slots:{default:[bu]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment)},l(i){ge(e.$$.fragment,i)},m(i,o){fe(e,i,o),n=!0},p(i,o){const s={};o[0]&1&&(s.position=i[0]),o[0]&4112&&(s.style=i[12]+(i[4]?`;--xy-minimap-background-color-props:${i[4]}`:"")),o[0]&8192&&(s.class=Pe(["svelte-flow__minimap",i[13]])),o[0]&536858606|o[1]&536870912&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){ce(e,i)}}}const An=t=>t instanceof Function?t:()=>t,_u=200,ku=150;function wu(t,e,n){let i,o,s,r,l,a,u,f,h,c,d,b,m,y,g,S,w,C,A,K,N,{position:H="bottom-right"}=e,{ariaLabel:D="Mini map"}=e,{nodeStrokeColor:W="transparent"}=e,{nodeColor:p=void 0}=e,{nodeClass:B=""}=e,{nodeBorderRadius:R=5}=e,{nodeStrokeWidth:_=2}=e,{bgColor:I=void 0}=e,{maskColor:k=void 0}=e,{maskStrokeColor:P=void 0}=e,{maskStrokeWidth:O=void 0}=e,{width:z=void 0}=e,{height:Y=void 0}=e,{pannable:G=!0}=e,{zoomable:q=!0}=e,{inversePan:j=void 0}=e,{zoomStep:T=void 0}=e,{style:ee=""}=e,{class:te=""}=e;const{nodes:v,nodeLookup:ne,viewport:oe,width:se,height:de,flowId:ye,panZoom:Oe,translateExtent:L}=Ve();U(t,v,$=>n(19,y=$)),U(t,ne,$=>n(20,g=$)),U(t,oe,$=>n(53,S=$)),U(t,se,$=>n(22,C=$)),U(t,de,$=>n(21,w=$)),U(t,ye,$=>n(54,A=$)),U(t,Oe,$=>n(27,K=$)),U(t,L,$=>n(28,N=$));const Te=p===void 0?void 0:An(p),ze=An(W),ct=An(B),lt=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",st=`svelte-flow__minimap-desc-${A}`;let Ke=i;const rt=()=>a;return t.$$set=$=>{"position"in $&&n(0,H=$.position),"ariaLabel"in $&&n(1,D=$.ariaLabel),"nodeStrokeColor"in $&&n(43,W=$.nodeStrokeColor),"nodeColor"in $&&n(44,p=$.nodeColor),"nodeClass"in $&&n(45,B=$.nodeClass),"nodeBorderRadius"in $&&n(2,R=$.nodeBorderRadius),"nodeStrokeWidth"in $&&n(3,_=$.nodeStrokeWidth),"bgColor"in $&&n(4,I=$.bgColor),"maskColor"in $&&n(5,k=$.maskColor),"maskStrokeColor"in $&&n(6,P=$.maskStrokeColor),"maskStrokeWidth"in $&&n(7,O=$.maskStrokeWidth),"width"in $&&n(46,z=$.width),"height"in $&&n(47,Y=$.height),"pannable"in $&&n(8,G=$.pannable),"zoomable"in $&&n(9,q=$.zoomable),"inversePan"in $&&n(10,j=$.inversePan),"zoomStep"in $&&n(11,T=$.zoomStep),"style"in $&&n(12,ee=$.style),"class"in $&&n(13,te=$.class)},t.$$.update=()=>{t.$$.dirty[0]&6291456|t.$$.dirty[1]&4194304&&n(18,i={x:-S.x/S.zoom,y:-S.y/S.zoom,width:C/S.zoom,height:w/S.zoom}),t.$$.dirty[0]&1835008&&n(48,Ke=g.size>0?so(Ut(g),i):i),t.$$.dirty[1]&32768&&n(17,o=z??_u),t.$$.dirty[1]&65536&&n(16,s=Y??ku),t.$$.dirty[0]&131072|t.$$.dirty[1]&131072&&n(52,r=Ke.width/o),t.$$.dirty[0]&65536|t.$$.dirty[1]&131072&&n(51,l=Ke.height/s),t.$$.dirty[1]&3145728&&n(14,a=Math.max(r,l)),t.$$.dirty[0]&147456&&n(50,u=a*o),t.$$.dirty[0]&81920&&n(49,f=a*s),t.$$.dirty[0]&16384&&n(15,h=5*a),t.$$.dirty[0]&32768|t.$$.dirty[1]&655360&&n(26,c=Ke.x-(u-Ke.width)/2-h),t.$$.dirty[0]&32768|t.$$.dirty[1]&393216&&n(25,d=Ke.y-(f-Ke.height)/2-h),t.$$.dirty[0]&32768|t.$$.dirty[1]&524288&&n(24,b=u+h*2),t.$$.dirty[0]&32768|t.$$.dirty[1]&262144&&n(23,m=f+h*2)},[H,D,R,_,I,k,P,O,G,q,j,T,ee,te,a,h,s,o,i,y,g,w,C,m,b,d,c,K,N,v,ne,oe,se,de,ye,Oe,L,Te,ze,ct,lt,st,rt,W,p,B,z,Y,Ke,f,u,l,r,S]}class Wu extends me{constructor(e){super(),be(this,e,wu,yu,_e,{position:0,ariaLabel:1,nodeStrokeColor:43,nodeColor:44,nodeClass:45,nodeBorderRadius:2,nodeStrokeWidth:3,bgColor:4,maskColor:5,maskStrokeColor:6,maskStrokeWidth:7,width:46,height:47,pannable:8,zoomable:9,inversePan:10,zoomStep:11,style:12,class:13},null,[-1,-1])}}export{Xu as B,Au as C,Bs as E,hn as H,Wu as M,he as P,yi as R,Yu as S,Vu as X,_t as a,Iu as b,gr as c,pn as d,Tl as e,Hu as f,ro as g,vu as h,Du as i,Pe as j,Un as k,Nu as l,Tu as m,En as n,Pn as o,Cn as p,an as q,Vl as r,fo as s,Ve as u};
