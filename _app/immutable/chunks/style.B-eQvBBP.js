import{s as me,c as qe,e as Be,d as Le,f as ie,i as T,q as E,D as ne,k as j,O as He,u as je,g as Je,a as Qe,v as yt,ap as qt,o as F,b as De,t as At,j as Te,h as Yt,m as Xt,a2 as ve,_ as ze,$ as nt,al as Fe,w as Ve,an as U,B as le,P as Se,G as Me,Q as Ee,am as jt,C as sn,N as Jt,Y as rn,F as In,at as Ri,E as Zi,R as Qt,W as ye,l as Xe,n as ke,a1 as Tt,p as Jo,a0 as Qo,ak as po,ao as xo,au as $o,r as Zn,S as Fn}from"./scheduler.XFNaxh87.js";import{S as de,i as he,t as V,a as W,c as se,b as ce,m as re,d as ae,g as Ae,e as Ye}from"./index.CZJgJfrq.js";import{g as ct,a as vt}from"./spread.CgU5AtxT.js";import{w as te,r as $e,d as Ot}from"./index.BQBQGMgF.js";import{e as bt,u as an,o as un}from"./each.BM1lhngx.js";import{g as el}from"./globals.D0QH3NT1.js";import{s as xe,k as Fi,l as Nn,T as bn,m as yn,t as tl}from"./transform.B54KPHx3.js";function nl(t){let e;for(;e=t.sourceEvent;)t=e;return t}function et(t,e){if(t=nl(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const il={passive:!1},Vt={capture:!0,passive:!1};function _n(t){t.stopImmediatePropagation()}function Ht(t){t.preventDefault(),t.stopImmediatePropagation()}function Gi(t){var e=t.document.documentElement,n=xe(t).on("dragstart.drag",Ht,Vt);"onselectstart"in e?n.on("selectstart.drag",Ht,Vt):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ui(t,e){var n=t.document.documentElement,i=xe(t).on("dragstart.drag",null);e&&(i.on("click.drag",Ht,Vt),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Zt=t=>()=>t;function Pn(t,{sourceEvent:e,subject:n,target:i,identifier:o,active:s,x:l,y:r,dx:a,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:r,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}Pn.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function ol(t){return!t.ctrlKey&&!t.button}function ll(){return this.parentNode}function sl(t,e){return e??{x:t.x,y:t.y}}function rl(){return navigator.maxTouchPoints||"ontouchstart"in this}function al(){var t=ol,e=ll,n=sl,i=rl,o={},s=Fi("start","drag","end"),l=0,r,a,u,f,h=0;function d(C){C.on("mousedown.drag",c).filter(i).on("touchstart.drag",y).on("touchmove.drag",g,il).on("touchend.drag touchcancel.drag",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(C,Y){if(!(f||!t.call(this,C,Y))){var Z=w(this,e.call(this,C,Y),C,Y,"mouse");Z&&(xe(C.view).on("mousemove.drag",m,Vt).on("mouseup.drag",b,Vt),Gi(C.view),_n(C),u=!1,r=C.clientX,a=C.clientY,Z("start",C))}}function m(C){if(Ht(C),!u){var Y=C.clientX-r,Z=C.clientY-a;u=Y*Y+Z*Z>h}o.mouse("drag",C)}function b(C){xe(C.view).on("mousemove.drag mouseup.drag",null),Ui(C.view,u),Ht(C),o.mouse("end",C)}function y(C,Y){if(t.call(this,C,Y)){var Z=C.changedTouches,v=e.call(this,C,Y),J=Z.length,O,K;for(O=0;O<J;++O)(K=w(this,v,C,Y,Z[O].identifier,Z[O]))&&(_n(C),K("start",C,Z[O]))}}function g(C){var Y=C.changedTouches,Z=Y.length,v,J;for(v=0;v<Z;++v)(J=o[Y[v].identifier])&&(Ht(C),J("drag",C,Y[v]))}function M(C){var Y=C.changedTouches,Z=Y.length,v,J;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),v=0;v<Z;++v)(J=o[Y[v].identifier])&&(_n(C),J("end",C,Y[v]))}function w(C,Y,Z,v,J,O){var K=s.copy(),q=et(O||Z,Y),$,N,_;if((_=n.call(C,new Pn("beforestart",{sourceEvent:Z,target:d,identifier:J,active:l,x:q[0],y:q[1],dx:0,dy:0,dispatch:K}),v))!=null)return $=_.x-q[0]||0,N=_.y-q[1]||0,function k(S,P,D){var A=q,X;switch(S){case"start":o[J]=k,X=l++;break;case"end":delete o[J],--l;case"drag":q=et(D||P,Y),X=l;break}K.call(S,C,new Pn(S,{sourceEvent:P,subject:_,target:d,identifier:J,active:X,x:q[0]+$,y:q[1]+N,dx:q[0]-A[0],dy:q[1]-A[1],dispatch:K}),v)}}return d.filter=function(C){return arguments.length?(t=typeof C=="function"?C:Zt(!!C),d):t},d.container=function(C){return arguments.length?(e=typeof C=="function"?C:Zt(C),d):e},d.subject=function(C){return arguments.length?(n=typeof C=="function"?C:Zt(C),d):n},d.touchable=function(C){return arguments.length?(i=typeof C=="function"?C:Zt(!!C),d):i},d.on=function(){var C=s.on.apply(s,arguments);return C===s?d:C},d.clickDistance=function(C){return arguments.length?(h=(C=+C)*C,d):Math.sqrt(h)},d}var ul=1e-12;function Gn(t){return((t=Math.exp(t))+1/t)/2}function fl(t){return((t=Math.exp(t))-1/t)/2}function cl(t){return((t=Math.exp(2*t))-1)/(t+1)}const dl=function t(e,n,i){function o(s,l){var r=s[0],a=s[1],u=s[2],f=l[0],h=l[1],d=l[2],c=f-r,m=h-a,b=c*c+m*m,y,g;if(b<ul)g=Math.log(d/u)/e,y=function(v){return[r+v*c,a+v*m,u*Math.exp(e*v*g)]};else{var M=Math.sqrt(b),w=(d*d-u*u+i*b)/(2*u*n*M),C=(d*d-u*u-i*b)/(2*d*n*M),Y=Math.log(Math.sqrt(w*w+1)-w),Z=Math.log(Math.sqrt(C*C+1)-C);g=(Z-Y)/e,y=function(v){var J=v*g,O=Gn(Y),K=u/(n*M)*(O*cl(e*J+Y)-fl(Y));return[r+K*c,a+K*m,u*O/Gn(e*J+Y)]}}return y.duration=g*1e3*e/Math.SQRT2,y}return o.rho=function(s){var l=Math.max(.001,+s),r=l*l,a=r*r;return t(l,r,a)},o}(Math.SQRT2,2,4),Ft=t=>()=>t;function hl(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function kn(t){t.stopImmediatePropagation()}function Nt(t){t.preventDefault(),t.stopImmediatePropagation()}function gl(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function ml(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Un(){return this.__zoom||Nn}function bl(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function yl(){return navigator.maxTouchPoints||"ontouchstart"in this}function _l(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],l=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),l>s?(s+l)/2:Math.min(0,s)||Math.max(0,l))}function qi(){var t=gl,e=ml,n=_l,i=bl,o=yl,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],r=250,a=dl,u=Fi("start","zoom","end"),f,h,d,c=500,m=150,b=0,y=10;function g(_){_.property("__zoom",Un).on("wheel.zoom",J,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",K).filter(o).on("touchstart.zoom",q).on("touchmove.zoom",$).on("touchend.zoom touchcancel.zoom",N).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(_,k,S,P){var D=_.selection?_.selection():_;D.property("__zoom",Un),_!==D?Y(_,k,S,P):D.interrupt().each(function(){Z(this,arguments).event(P).start().zoom(null,typeof k=="function"?k.apply(this,arguments):k).end()})},g.scaleBy=function(_,k,S,P){g.scaleTo(_,function(){var D=this.__zoom.k,A=typeof k=="function"?k.apply(this,arguments):k;return D*A},S,P)},g.scaleTo=function(_,k,S,P){g.transform(_,function(){var D=e.apply(this,arguments),A=this.__zoom,X=S==null?C(D):typeof S=="function"?S.apply(this,arguments):S,G=A.invert(X),R=typeof k=="function"?k.apply(this,arguments):k;return n(w(M(A,R),X,G),D,l)},S,P)},g.translateBy=function(_,k,S,P){g.transform(_,function(){return n(this.__zoom.translate(typeof k=="function"?k.apply(this,arguments):k,typeof S=="function"?S.apply(this,arguments):S),e.apply(this,arguments),l)},null,P)},g.translateTo=function(_,k,S,P,D){g.transform(_,function(){var A=e.apply(this,arguments),X=this.__zoom,G=P==null?C(A):typeof P=="function"?P.apply(this,arguments):P;return n(Nn.translate(G[0],G[1]).scale(X.k).translate(typeof k=="function"?-k.apply(this,arguments):-k,typeof S=="function"?-S.apply(this,arguments):-S),A,l)},P,D)};function M(_,k){return k=Math.max(s[0],Math.min(s[1],k)),k===_.k?_:new bn(k,_.x,_.y)}function w(_,k,S){var P=k[0]-S[0]*_.k,D=k[1]-S[1]*_.k;return P===_.x&&D===_.y?_:new bn(_.k,P,D)}function C(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function Y(_,k,S,P){_.on("start.zoom",function(){Z(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){Z(this,arguments).event(P).end()}).tween("zoom",function(){var D=this,A=arguments,X=Z(D,A).event(P),G=e.apply(D,A),R=S==null?C(G):typeof S=="function"?S.apply(D,A):S,I=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),x=D.__zoom,ge=typeof k=="function"?k.apply(D,A):k,be=a(x.invert(R).concat(I/x.k),ge.invert(R).concat(I/ge.k));return function(H){if(H===1)H=ge;else{var ee=be(H),ue=I/ee[2];H=new bn(ue,R[0]-ee[0]*ue,R[1]-ee[1]*ue)}X.zoom(null,H)}})}function Z(_,k,S){return!S&&_.__zooming||new v(_,k)}function v(_,k){this.that=_,this.args=k,this.active=0,this.sourceEvent=null,this.extent=e.apply(_,k),this.taps=0}v.prototype={event:function(_){return _&&(this.sourceEvent=_),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(_,k){return this.mouse&&_!=="mouse"&&(this.mouse[1]=k.invert(this.mouse[0])),this.touch0&&_!=="touch"&&(this.touch0[1]=k.invert(this.touch0[0])),this.touch1&&_!=="touch"&&(this.touch1[1]=k.invert(this.touch1[0])),this.that.__zoom=k,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(_){var k=xe(this.that).datum();u.call(_,this.that,new hl(_,{sourceEvent:this.sourceEvent,target:g,type:_,transform:this.that.__zoom,dispatch:u}),k)}};function J(_,...k){if(!t.apply(this,arguments))return;var S=Z(this,k).event(_),P=this.__zoom,D=Math.max(s[0],Math.min(s[1],P.k*Math.pow(2,i.apply(this,arguments)))),A=et(_);if(S.wheel)(S.mouse[0][0]!==A[0]||S.mouse[0][1]!==A[1])&&(S.mouse[1]=P.invert(S.mouse[0]=A)),clearTimeout(S.wheel);else{if(P.k===D)return;S.mouse=[A,P.invert(A)],yn(this),S.start()}Nt(_),S.wheel=setTimeout(X,m),S.zoom("mouse",n(w(M(P,D),S.mouse[0],S.mouse[1]),S.extent,l));function X(){S.wheel=null,S.end()}}function O(_,...k){if(d||!t.apply(this,arguments))return;var S=_.currentTarget,P=Z(this,k,!0).event(_),D=xe(_.view).on("mousemove.zoom",R,!0).on("mouseup.zoom",I,!0),A=et(_,S),X=_.clientX,G=_.clientY;Gi(_.view),kn(_),P.mouse=[A,this.__zoom.invert(A)],yn(this),P.start();function R(x){if(Nt(x),!P.moved){var ge=x.clientX-X,be=x.clientY-G;P.moved=ge*ge+be*be>b}P.event(x).zoom("mouse",n(w(P.that.__zoom,P.mouse[0]=et(x,S),P.mouse[1]),P.extent,l))}function I(x){D.on("mousemove.zoom mouseup.zoom",null),Ui(x.view,P.moved),Nt(x),P.event(x).end()}}function K(_,...k){if(t.apply(this,arguments)){var S=this.__zoom,P=et(_.changedTouches?_.changedTouches[0]:_,this),D=S.invert(P),A=S.k*(_.shiftKey?.5:2),X=n(w(M(S,A),P,D),e.apply(this,k),l);Nt(_),r>0?xe(this).transition().duration(r).call(Y,X,P,_):xe(this).call(g.transform,X,P,_)}}function q(_,...k){if(t.apply(this,arguments)){var S=_.touches,P=S.length,D=Z(this,k,_.changedTouches.length===P).event(_),A,X,G,R;for(kn(_),X=0;X<P;++X)G=S[X],R=et(G,this),R=[R,this.__zoom.invert(R),G.identifier],D.touch0?!D.touch1&&D.touch0[2]!==R[2]&&(D.touch1=R,D.taps=0):(D.touch0=R,A=!0,D.taps=1+!!f);f&&(f=clearTimeout(f)),A&&(D.taps<2&&(h=R[0],f=setTimeout(function(){f=null},c)),yn(this),D.start())}}function $(_,...k){if(this.__zooming){var S=Z(this,k).event(_),P=_.changedTouches,D=P.length,A,X,G,R;for(Nt(_),A=0;A<D;++A)X=P[A],G=et(X,this),S.touch0&&S.touch0[2]===X.identifier?S.touch0[0]=G:S.touch1&&S.touch1[2]===X.identifier&&(S.touch1[0]=G);if(X=S.that.__zoom,S.touch1){var I=S.touch0[0],x=S.touch0[1],ge=S.touch1[0],be=S.touch1[1],H=(H=ge[0]-I[0])*H+(H=ge[1]-I[1])*H,ee=(ee=be[0]-x[0])*ee+(ee=be[1]-x[1])*ee;X=M(X,Math.sqrt(H/ee)),G=[(I[0]+ge[0])/2,(I[1]+ge[1])/2],R=[(x[0]+be[0])/2,(x[1]+be[1])/2]}else if(S.touch0)G=S.touch0[0],R=S.touch0[1];else return;S.zoom("touch",n(w(X,G,R),S.extent,l))}}function N(_,...k){if(this.__zooming){var S=Z(this,k).event(_),P=_.changedTouches,D=P.length,A,X;for(kn(_),d&&clearTimeout(d),d=setTimeout(function(){d=null},c),A=0;A<D;++A)X=P[A],S.touch0&&S.touch0[2]===X.identifier?delete S.touch0:S.touch1&&S.touch1[2]===X.identifier&&delete S.touch1;if(S.touch1&&!S.touch0&&(S.touch0=S.touch1,delete S.touch1),S.touch0)S.touch0[1]=this.__zoom.invert(S.touch0[0]);else if(S.end(),S.taps===2&&(X=et(X,this),Math.hypot(h[0]-X[0],h[1]-X[1])<y)){var G=xe(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return g.wheelDelta=function(_){return arguments.length?(i=typeof _=="function"?_:Ft(+_),g):i},g.filter=function(_){return arguments.length?(t=typeof _=="function"?_:Ft(!!_),g):t},g.touchable=function(_){return arguments.length?(o=typeof _=="function"?_:Ft(!!_),g):o},g.extent=function(_){return arguments.length?(e=typeof _=="function"?_:Ft([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),g):e},g.scaleExtent=function(_){return arguments.length?(s[0]=+_[0],s[1]=+_[1],g):[s[0],s[1]]},g.translateExtent=function(_){return arguments.length?(l[0][0]=+_[0][0],l[1][0]=+_[1][0],l[0][1]=+_[0][1],l[1][1]=+_[1][1],g):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},g.constrain=function(_){return arguments.length?(n=_,g):n},g.duration=function(_){return arguments.length?(r=+_,g):r},g.interpolate=function(_){return arguments.length?(a=_,g):a},g.on=function(){var _=u.on.apply(u,arguments);return _===u?g:_},g.clickDistance=function(_){return arguments.length?(b=(_=+_)*_,g):Math.sqrt(b)},g.tapDistance=function(_){return arguments.length?(y=+_,g):y},g}function Ce(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,i;n<t.length;n++)(i=Ce(t[n]))!==""&&(e+=(e&&" ")+i);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}const Wt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${t} handle id: "${n&&i}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`},qn=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var kt;(function(t){t.Strict="strict",t.Loose="loose"})(kt||(kt={}));var lt;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(lt||(lt={}));var pt;(function(t){t.Partial="partial",t.Full="full"})(pt||(pt={}));const On={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Dt;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Dt||(Dt={}));var xt;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(xt||(xt={}));var fe;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(fe||(fe={}));const jn={[fe.Left]:fe.Right,[fe.Right]:fe.Left,[fe.Top]:fe.Bottom,[fe.Bottom]:fe.Top};function kl(t,e){if(!t&&!e)return!0;if(!t||!e||t.size!==e.size)return!1;if(!t.size&&!e.size)return!0;for(const n of t.keys())if(!e.has(n))return!1;return!0}function Jn(t,e,n){if(!n)return;const i=[];t.forEach((o,s)=>{e!=null&&e.has(s)||i.push(o)}),i.length&&n(i)}function Qn(t){return t===null?null:t?"valid":"invalid"}const wl=t=>"id"in t&&"source"in t&&"target"in t,du=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),ji=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),Bt=(t,e=[0,0])=>{const{width:n,height:i}=cn(t),o=t.origin??e,s=n*o[0],l=i*o[1];return{x:t.position.x-s,y:t.position.y-l}},Lt=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(i=>{if(e.filter===void 0||e.filter(i)){const o=Tn(i);n=Vn(n,o)}}),An(n)},Ji=(t,e,[n,i,o]=[0,0,1],s=!1,l=!1)=>{const r={...fn(e,[n,i,o]),width:e.width/o,height:e.height/o},a=[];for(const[,u]of t){const{measured:f,selectable:h=!0,hidden:d=!1}=u,c=f.width??u.width??u.initialWidth??null,m=f.height??u.height??u.initialHeight??null;if(l&&!h||d)continue;const b=xi(r,Yn(u)),y=c===null||m===null,g=s&&b>0,M=(c??0)*(m??0);(y||g||b>=M||u.dragging)&&a.push(u)}return a},Hn=(t,e)=>{const n=new Set;return t.forEach(i=>{n.add(i.id)}),e.filter(i=>n.has(i.source)||n.has(i.target))};function pn(t,e){const n=new Map,i=e!=null&&e.nodes?new Set(e.nodes.map(o=>o.id)):null;return t.forEach(o=>{o.measured.width&&o.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!o.hidden)&&(!i||i.has(o.id))&&n.set(o.id,o)}),n}async function xn({nodes:t,width:e,height:n,panZoom:i,minZoom:o,maxZoom:s},l){if(t.size===0)return Promise.resolve(!1);const r=Lt(t),a=$i(r,e,n,(l==null?void 0:l.minZoom)??o,(l==null?void 0:l.maxZoom)??s,(l==null?void 0:l.padding)??.1);return await i.setViewport(a,{duration:l==null?void 0:l.duration}),Promise.resolve(!0)}function Sl(t,e){var n,i;return!e||e==="parent"?e:[e[0],[e[1][0]-(((n=t.measured)==null?void 0:n.width)??0),e[1][1]-(((i=t.measured)==null?void 0:i.height)??0)]]}function El({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:o,onError:s}){const l=n.get(t),r=l.parentId?n.get(l.parentId):void 0,{x:a,y:u}=r?r.internals.positionAbsolute:{x:0,y:0},f=l.origin??i;let h=Sl(l,l.extent||o);if(l.extent==="parent"&&!l.expandParent)if(!r)s==null||s("005",Wt.error005());else{const c=l.measured.width,m=l.measured.height,b=r.measured.width,y=r.measured.height;c&&m&&b&&y&&(h=[[a,u],[a+b-c,u+y-m]])}else r&&ei(l.extent)&&(h=[[l.extent[0][0]+a,l.extent[0][1]+u],[l.extent[1][0]+a,l.extent[1][1]+u]]);const d=ei(h)?Ml(e,h):e;return{position:{x:d.x-a+l.measured.width*f[0],y:d.y-u+l.measured.height*f[1]},positionAbsolute:d}}async function zl({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:i,onBeforeDelete:o}){const s=new Set(t.map(d=>d.id)),l=[];for(const d of n){if(d.deletable===!1)continue;const c=s.has(d.id),m=!c&&d.parentId&&l.find(b=>b.id===d.parentId);(c||m)&&l.push(d)}const r=new Set(e.map(d=>d.id)),a=i.filter(d=>d.deletable!==!1),f=Hn(l,a);for(const d of a)r.has(d.id)&&!f.find(m=>m.id===d.id)&&f.push(d);if(!o)return{edges:f,nodes:l};const h=await o({nodes:l,edges:f});return typeof h=="boolean"?h?{edges:f,nodes:l}:{edges:[],nodes:[]}:h}const It=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Ml=(t={x:0,y:0},e)=>({x:It(t.x,e[0][0],e[1][0]),y:It(t.y,e[0][1],e[1][1])}),$n=(t,e,n)=>t<e?It(Math.abs(t-e),1,e)/e:t>n?-It(Math.abs(t-n),1,e)/e:0,Qi=(t,e,n=15,i=40)=>{const o=$n(t.x,i,e.width-i)*n,s=$n(t.y,i,e.height-i)*n;return[o,s]},Vn=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Dn=({x:t,y:e,width:n,height:i})=>({x:t,y:e,x2:t+n,y2:e+i}),An=({x:t,y:e,x2:n,y2:i})=>({x:t,y:e,width:n-t,height:i-e}),Yn=(t,e=[0,0])=>{var o,s;const{x:n,y:i}=ji(t)?t.internals.positionAbsolute:Bt(t,e);return{x:n,y:i,width:((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0,height:((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0}},Tn=(t,e=[0,0])=>{var o,s;const{x:n,y:i}=ji(t)?t.internals.positionAbsolute:Bt(t,e);return{x:n,y:i,x2:n+(((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0),y2:i+(((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0)}},pi=(t,e)=>An(Vn(Dn(t),Dn(e))),xi=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),i=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*i)},hu=t=>tt(t.width)&&tt(t.height)&&tt(t.x)&&tt(t.y),tt=t=>!isNaN(t)&&isFinite(t),Cl=(t,e)=>{},Xn=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),fn=({x:t,y:e},[n,i,o],s=!1,l=[1,1])=>{const r={x:(t-n)/o,y:(e-i)/o};return s?Xn(r,l):r},Pl=({x:t,y:e},[n,i,o])=>({x:t*o+n,y:e*o+i}),$i=(t,e,n,i,o,s)=>{const l=e/(t.width*(1+s)),r=n/(t.height*(1+s)),a=Math.min(l,r),u=It(a,i,o),f=t.x+t.width/2,h=t.y+t.height/2,d=e/2-f*u,c=n/2-h*u;return{x:d,y:c,zoom:u}},$t=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function ei(t){return t!==void 0&&t!=="parent"}function cn(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function en(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function wn(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:i}){const{x:o,y:s}=ft(t),l=fn({x:o,y:s},i),{x:r,y:a}=n?Xn(l,e):l;return{xSnapped:r,ySnapped:a,...l}}const eo=t=>({width:t.offsetWidth,height:t.offsetHeight}),Ol=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},Hl=["INPUT","SELECT","TEXTAREA"];function Dl(t){var i,o;const e=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||t.target;return Hl.includes(e==null?void 0:e.nodeName)||(e==null?void 0:e.hasAttribute("contenteditable"))||!!(e!=null&&e.closest(".nokey"))}const to=t=>"clientX"in t,ft=(t,e)=>{var s,l;const n=to(t),i=n?t.clientX:(s=t.touches)==null?void 0:s[0].clientX,o=n?t.clientY:(l=t.touches)==null?void 0:l[0].clientY;return{x:i-((e==null?void 0:e.left)??0),y:o-((e==null?void 0:e.top)??0)}},ti=(t,e,n,i,o)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(l=>{const r=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),type:t,nodeId:o,position:l.getAttribute("data-handlepos"),x:(r.left-n.left)/i,y:(r.top-n.top)/i,...eo(l)}})};function Tl({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:o,sourceControlY:s,targetControlX:l,targetControlY:r}){const a=t*.125+o*.375+l*.375+n*.125,u=e*.125+s*.375+r*.375+i*.125,f=Math.abs(a-t),h=Math.abs(u-e);return[a,u,f,h]}function Gt(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function ni({pos:t,x1:e,y1:n,x2:i,y2:o,c:s}){switch(t){case fe.Left:return[e-Gt(e-i,s),n];case fe.Right:return[e+Gt(i-e,s),n];case fe.Top:return[e,n-Gt(n-o,s)];case fe.Bottom:return[e,n+Gt(o-n,s)]}}function no({sourceX:t,sourceY:e,sourcePosition:n=fe.Bottom,targetX:i,targetY:o,targetPosition:s=fe.Top,curvature:l=.25}){const[r,a]=ni({pos:n,x1:t,y1:e,x2:i,y2:o,c:l}),[u,f]=ni({pos:s,x1:i,y1:o,x2:t,y2:e,c:l}),[h,d,c,m]=Tl({sourceX:t,sourceY:e,targetX:i,targetY:o,sourceControlX:r,sourceControlY:a,targetControlX:u,targetControlY:f});return[`M${t},${e} C${r},${a} ${u},${f} ${i},${o}`,h,d,c,m]}function io({sourceX:t,sourceY:e,targetX:n,targetY:i}){const o=Math.abs(n-t)/2,s=n<t?n+o:n-o,l=Math.abs(i-e)/2,r=i<e?i+l:i-l;return[s,r,o,l]}function vl({sourceNode:t,targetNode:e,selected:n=!1,zIndex:i=0,elevateOnSelect:o=!1}){if(!o)return i;const s=n||e.selected||t.selected,l=Math.max(t.internals.z||0,e.internals.z||0,1e3);return i+(s?l:0)}function Il({sourceNode:t,targetNode:e,width:n,height:i,transform:o}){const s=Vn(Tn(t),Tn(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const l={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return xi(l,An(s))>0}const Nl=({source:t,sourceHandle:e,target:n,targetHandle:i})=>`xy-edge__${t}${e||""}-${n}${i||""}`,Vl=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),Al=(t,e)=>{if(!t.source||!t.target)return e;let n;return wl(t)?n={...t}:n={...t,id:Nl(t)},Vl(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function oo({sourceX:t,sourceY:e,targetX:n,targetY:i}){const[o,s,l,r]=io({sourceX:t,sourceY:e,targetX:n,targetY:i});return[`M ${t},${e}L ${n},${i}`,o,s,l,r]}const ii={[fe.Left]:{x:-1,y:0},[fe.Right]:{x:1,y:0},[fe.Top]:{x:0,y:-1},[fe.Bottom]:{x:0,y:1}},Yl=({source:t,sourcePosition:e=fe.Bottom,target:n})=>e===fe.Left||e===fe.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},oi=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function Xl({source:t,sourcePosition:e=fe.Bottom,target:n,targetPosition:i=fe.Top,center:o,offset:s}){const l=ii[e],r=ii[i],a={x:t.x+l.x*s,y:t.y+l.y*s},u={x:n.x+r.x*s,y:n.y+r.y*s},f=Yl({source:a,sourcePosition:e,target:u}),h=f.x!==0?"x":"y",d=f[h];let c=[],m,b;const y={x:0,y:0},g={x:0,y:0},[M,w,C,Y]=io({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(l[h]*r[h]===-1){m=o.x??M,b=o.y??w;const v=[{x:m,y:a.y},{x:m,y:u.y}],J=[{x:a.x,y:b},{x:u.x,y:b}];l[h]===d?c=h==="x"?v:J:c=h==="x"?J:v}else{const v=[{x:a.x,y:u.y}],J=[{x:u.x,y:a.y}];if(h==="x"?c=l.x===d?J:v:c=l.y===d?v:J,e===i){const N=Math.abs(t[h]-n[h]);if(N<=s){const _=Math.min(s-1,s-N);l[h]===d?y[h]=(a[h]>t[h]?-1:1)*_:g[h]=(u[h]>n[h]?-1:1)*_}}if(e!==i){const N=h==="x"?"y":"x",_=l[h]===r[N],k=a[N]>u[N],S=a[N]<u[N];(l[h]===1&&(!_&&k||_&&S)||l[h]!==1&&(!_&&S||_&&k))&&(c=h==="x"?v:J)}const O={x:a.x+y.x,y:a.y+y.y},K={x:u.x+g.x,y:u.y+g.y},q=Math.max(Math.abs(O.x-c[0].x),Math.abs(K.x-c[0].x)),$=Math.max(Math.abs(O.y-c[0].y),Math.abs(K.y-c[0].y));q>=$?(m=(O.x+K.x)/2,b=c[0].y):(m=c[0].x,b=(O.y+K.y)/2)}return[[t,{x:a.x+y.x,y:a.y+y.y},...c,{x:u.x+g.x,y:u.y+g.y},n],m,b,C,Y]}function Wl(t,e,n,i){const o=Math.min(oi(t,e)/2,oi(e,n)/2,i),{x:s,y:l}=e;if(t.x===s&&s===n.x||t.y===l&&l===n.y)return`L${s} ${l}`;if(t.y===l){const u=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${s+o*u},${l}Q ${s},${l} ${s},${l+o*f}`}const r=t.x<n.x?1:-1,a=t.y<n.y?-1:1;return`L ${s},${l+o*a}Q ${s},${l} ${s+o*r},${l}`}function tn({sourceX:t,sourceY:e,sourcePosition:n=fe.Bottom,targetX:i,targetY:o,targetPosition:s=fe.Top,borderRadius:l=5,centerX:r,centerY:a,offset:u=20}){const[f,h,d,c,m]=Xl({source:{x:t,y:e},sourcePosition:n,target:{x:i,y:o},targetPosition:s,center:{x:r,y:a},offset:u});return[f.reduce((y,g,M)=>{let w="";return M>0&&M<f.length-1?w=Wl(f[M-1],g,f[M+1],l):w=`${M===0?"M":"L"}${g.x} ${g.y}`,y+=w,y},""),h,d,c,m]}function li(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function Bl(t){var h;const{sourceNode:e,targetNode:n}=t;if(!li(e)||!li(n))return null;const i=e.internals.handleBounds||si(e.handles),o=n.internals.handleBounds||si(n.handles),s=ri((i==null?void 0:i.source)??[],t.sourceHandle),l=ri(t.connectionMode===kt.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),t.targetHandle);if(!s||!l)return(h=t.onError)==null||h.call(t,"008",Wt.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const r=(s==null?void 0:s.position)||fe.Bottom,a=(l==null?void 0:l.position)||fe.Top,u=nn(e,s,r),f=nn(n,l,a);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:r,targetPosition:a}}function si(t){if(!t)return null;const e=[],n=[];for(const i of t)i.width=i.width??1,i.height=i.height??1,i.type==="source"?e.push(i):i.type==="target"&&n.push(i);return{source:e,target:n}}function nn(t,e,n=fe.Left,i=!1){const o=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,s=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:l,height:r}=e??cn(t);if(i)return{x:o+l/2,y:s+r/2};switch((e==null?void 0:e.position)??n){case fe.Top:return{x:o+l/2,y:s};case fe.Right:return{x:o+l,y:s+r/2};case fe.Bottom:return{x:o+l/2,y:s+r};case fe.Left:return{x:o,y:s+r/2}}}function ri(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function vn(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`:""}function Ll(t,{id:e,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:o}){const s=new Set;return t.reduce((l,r)=>([r.markerStart||i,r.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const u=vn(a,e);s.has(u)||(l.push({id:u,color:a.color||n,...a}),s.add(u))}}),l),[]).sort((l,r)=>l.id.localeCompare(r.id))}const lo={nodeOrigin:[0,0],elevateNodesOnSelect:!0,defaults:{}},Kl={...lo,checkEquality:!0};function so(t,e,n,i){var r,a;const o={...Kl,...i},s=new Map(e);e.clear(),n.clear();const l=i!=null&&i.elevateNodesOnSelect?1e3:0;for(const u of t){let f=s.get(u.id);o.checkEquality&&u===(f==null?void 0:f.internals.userNode)||(f={...o.defaults,...u,measured:{width:(r=u.measured)==null?void 0:r.width,height:(a=u.measured)==null?void 0:a.height},internals:{positionAbsolute:Bt(u,o.nodeOrigin),handleBounds:f==null?void 0:f.internals.handleBounds,z:ao(u,l),userNode:u}}),e.set(u.id,f),u.parentId&&ro(f,e,n,i)}}function ro(t,e,n,i){const o={...lo,...i},s=t.parentId,l=e.get(s);if(!l)throw new Error(`Parent node ${s} not found`);const r=n.get(s);r?r.set(t.id,t):n.set(s,new Map([[t.id,t]]));const a=i!=null&&i.elevateNodesOnSelect?1e3:0,{x:u,y:f,z:h}=Rl(t,l,o.nodeOrigin,a),d=t.internals.positionAbsolute,c=u!==d.x||f!==d.y;(c||h!==t.internals.z)&&(t.internals={...t.internals,positionAbsolute:c?{x:u,y:f}:d,z:h})}function ao(t,e){return(tt(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function Rl(t,e,n,i){const o=Bt(t,n),s=ao(t,i),l=e.internals.z??0;return{x:e.internals.positionAbsolute.x+o.x,y:e.internals.positionAbsolute.y+o.y,z:l>s?l:s}}function Zl(t,e,n,i=[0,0]){var l;const o=[],s=new Map;for(const r of t){const a=e.get(r.parentId);if(!a)continue;const u=((l=s.get(r.parentId))==null?void 0:l.expandedRect)??Yn(a),f=pi(u,r.rect);s.set(r.parentId,{expandedRect:f,parent:a})}return s.size>0&&s.forEach(({expandedRect:r,parent:a},u)=>{var w;const f=a.internals.positionAbsolute,h=cn(a),d=a.origin??i,c=r.x<f.x?Math.round(Math.abs(f.x-r.x)):0,m=r.y<f.y?Math.round(Math.abs(f.y-r.y)):0,b=Math.max(h.width,Math.round(r.width)),y=Math.max(h.height,Math.round(r.height)),g=(b-h.width)*d[0],M=(y-h.height)*d[1];(c>0||m>0||g||M)&&(o.push({id:u,type:"position",position:{x:a.position.x-c+g,y:a.position.y-m+M}}),(w=n.get(u))==null||w.forEach(C=>{t.some(Y=>Y.id===C.id)||o.push({id:C.id,type:"position",position:{x:C.position.x+c,y:C.position.y+m}})})),(h.width<r.width||h.height<r.height||c||m)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:b+(c?d[0]*c-g:0),height:y+(m?d[1]*m-M:0)}})}),o}function Fl(t,e,n,i,o){const s=i==null?void 0:i.querySelector(".xyflow__viewport");let l=!1;if(!s)return{changes:[],updatedInternals:l};const r=[],a=window.getComputedStyle(s),{m22:u}=new window.DOMMatrixReadOnly(a.transform),f=[];for(const h of t.values()){const d=e.get(h.id);if(d)if(d.hidden)d.internals={...d.internals,handleBounds:void 0},l=!0;else{const c=eo(h.nodeElement),m=d.measured.width!==c.width||d.measured.height!==c.height;if(!!(c.width&&c.height&&(m||!d.internals.handleBounds||h.force))){const y=h.nodeElement.getBoundingClientRect();d.measured=c,d.internals={...d.internals,positionAbsolute:Bt(d,o),handleBounds:{source:ti("source",h.nodeElement,y,u,d.id),target:ti("target",h.nodeElement,y,u,d.id)}},d.parentId&&ro(d,e,n,{nodeOrigin:o}),l=!0,m&&(r.push({id:d.id,type:"dimensions",dimensions:c}),d.expandParent&&d.parentId&&f.push({id:d.id,parentId:d.parentId,rect:Yn(d,o)}))}}}if(f.length>0){const h=Zl(f,e,n,o);r.push(...h)}return{changes:r,updatedInternals:l}}async function Gl({delta:t,panZoom:e,transform:n,translateExtent:i,width:o,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const l=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[o,s]],i),r=!!l&&(l.x!==n[0]||l.y!==n[1]||l.k!==n[2]);return Promise.resolve(r)}function uo(t,e,n){t.clear(),e.clear();for(const i of n){const{source:o,target:s,sourceHandle:l=null,targetHandle:r=null}=i,a=`${o}-source-${l}`,u=`${s}-target-${r}`,f=t.get(a)||new Map,h=t.get(u)||new Map,d={edgeId:i.id,source:o,target:s,sourceHandle:l,targetHandle:r};e.set(i.id,i),t.set(a,f.set(`${s}-${r}`,d)),t.set(u,h.set(`${o}-${l}`,d))}}function fo(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:fo(n,e):!1}function ai(t,e,n){let i=t;do{if(i!=null&&i.matches(e))return!0;if(i===n)return!1;i=i.parentElement}while(i);return!1}function Ul(t,e,n,i){const o=new Map;for(const[s,l]of t)if((l.selected||l.id===i)&&(!l.parentId||!fo(l,t))&&(l.draggable||e&&typeof l.draggable>"u")){const r=t.get(s);r&&o.set(s,{id:s,position:r.position||{x:0,y:0},distance:{x:n.x-r.internals.positionAbsolute.x,y:n.y-r.internals.positionAbsolute.y},extent:r.extent,parentId:r.parentId,origin:r.origin,expandParent:r.expandParent,internals:{positionAbsolute:r.internals.positionAbsolute||{x:0,y:0}},measured:{width:r.measured.width??0,height:r.measured.height??0}})}return o}function Sn({nodeId:t,dragItems:e,nodeLookup:n,dragging:i=!0}){var l,r;const o=[];for(const[a,u]of e){const f=(l=n.get(a))==null?void 0:l.internals.userNode;f&&o.push({...f,position:u.position,dragging:i})}if(!t)return[o[0],o];const s=n.get(t).internals.userNode;return[{...s,position:((r=e.get(t))==null?void 0:r.position)||s.position,dragging:i},o]}function ql({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:i,onDragStop:o}){let s={x:null,y:null},l=0,r=new Map,a=!1,u={x:0,y:0},f=null,h=!1,d=null,c=!1;function m({noDragClassName:y,handleSelector:g,domNode:M,isSelectable:w,nodeId:C}){d=xe(M);function Y({x:O,y:K},q){const{nodeLookup:$,nodeExtent:N,snapGrid:_,snapToGrid:k,nodeOrigin:S,onNodeDrag:P,onSelectionDrag:D,onError:A,updateNodePositions:X}=e();s={x:O,y:K};let G=!1,R={x:0,y:0,x2:0,y2:0};if(r.size>1&&N){const I=Lt(r);R=Dn(I)}for(const[I,x]of r){let ge={x:O-x.distance.x,y:K-x.distance.y};k&&(ge=Xn(ge,_));let be=[[N[0][0],N[0][1]],[N[1][0],N[1][1]]];if(r.size>1&&N&&!x.extent){const{positionAbsolute:ue}=x.internals,oe=ue.x-R.x+N[0][0],_e=ue.x+x.measured.width-R.x2+N[1][0],we=ue.y-R.y+N[0][1],Pe=ue.y+x.measured.height-R.y2+N[1][1];be=[[oe,we],[_e,Pe]]}const{position:H,positionAbsolute:ee}=El({nodeId:I,nextPosition:ge,nodeLookup:$,nodeExtent:be,nodeOrigin:S,onError:A});G=G||x.position.x!==H.x||x.position.y!==H.y,x.position=H,x.internals.positionAbsolute=ee}if(G&&(X(r,!0),q&&(i||P||!C&&D))){const[I,x]=Sn({nodeId:C,dragItems:r,nodeLookup:$});i==null||i(q,r,I,x),P==null||P(q,I,x),C||D==null||D(q,x)}}async function Z(){if(!f)return;const{transform:O,panBy:K,autoPanSpeed:q}=e(),[$,N]=Qi(u,f,q);($!==0||N!==0)&&(s.x=(s.x??0)-$/O[2],s.y=(s.y??0)-N/O[2],await K({x:$,y:N})&&Y(s,null)),l=requestAnimationFrame(Z)}function v(O){var G;const{nodeLookup:K,multiSelectionActive:q,nodesDraggable:$,transform:N,snapGrid:_,snapToGrid:k,selectNodesOnDrag:S,onNodeDragStart:P,onSelectionDragStart:D,unselectNodesAndEdges:A}=e();h=!0,(!S||!w)&&!q&&C&&((G=K.get(C))!=null&&G.selected||A()),w&&S&&C&&(t==null||t(C));const X=wn(O.sourceEvent,{transform:N,snapGrid:_,snapToGrid:k});if(s=X,r=Ul(K,$,X,C),r.size>0&&(n||P||!C&&D)){const[R,I]=Sn({nodeId:C,dragItems:r,nodeLookup:K});n==null||n(O.sourceEvent,r,R,I),P==null||P(O.sourceEvent,R,I),C||D==null||D(O.sourceEvent,I)}}const J=al().on("start",O=>{const{domNode:K,nodeDragThreshold:q,transform:$,snapGrid:N,snapToGrid:_}=e();c=!1,q===0&&v(O),s=wn(O.sourceEvent,{transform:$,snapGrid:N,snapToGrid:_}),f=(K==null?void 0:K.getBoundingClientRect())||null,u=ft(O.sourceEvent,f)}).on("drag",O=>{const{autoPanOnNodeDrag:K,transform:q,snapGrid:$,snapToGrid:N,nodeDragThreshold:_}=e(),k=wn(O.sourceEvent,{transform:q,snapGrid:$,snapToGrid:N});if(O.sourceEvent.type==="touchmove"&&O.sourceEvent.touches.length>1&&(c=!0),!c){if(!a&&K&&h&&(a=!0,Z()),!h){const S=k.xSnapped-(s.x??0),P=k.ySnapped-(s.y??0);Math.sqrt(S*S+P*P)>_&&v(O)}(s.x!==k.xSnapped||s.y!==k.ySnapped)&&r&&h&&(u=ft(O.sourceEvent,f),Y(k,O.sourceEvent))}}).on("end",O=>{if(!(!h||c)&&(a=!1,h=!1,cancelAnimationFrame(l),r.size>0)){const{nodeLookup:K,updateNodePositions:q,onNodeDragStop:$,onSelectionDragStop:N}=e();if(q(r,!1),o||$||!C&&N){const[_,k]=Sn({nodeId:C,dragItems:r,nodeLookup:K,dragging:!1});o==null||o(O.sourceEvent,r,_,k),$==null||$(O.sourceEvent,_,k),C||N==null||N(O.sourceEvent,k)}}}).filter(O=>{const K=O.target;return!O.button&&(!y||!ai(K,`.${y}`,M))&&(!g||ai(K,g,M))});d.call(J)}function b(){d==null||d.on(".drag",null)}return{update:m,destroy:b}}function ui(t,e,n,i){let o=null;return[(e[n]||[]).reduce((l,r)=>{if(t.id===i.nodeId&&n===i.handleType&&r.id===i.handleId)o=r;else{const a=nn(t,r,r.position,!0);l.push({...r,...a})}return l},[]),o]}function jl(t,e,n){let i=[],o=1/0;for(const s of n){const l=Math.sqrt(Math.pow(s.x-t.x,2)+Math.pow(s.y-t.y,2));l<=e&&(l<o?i=[s]:l===o&&i.push(s),o=l)}return i.length?i.length===1?i[0]:i.find(s=>s.type==="target")||i[0]:null}function Jl({nodeLookup:t,nodeId:e,handleId:n,handleType:i}){const o=[],s={nodeId:e,handleId:n,handleType:i};let l=null;for(const r of t.values())if(r.internals.handleBounds){const[a,u]=ui(r,r.internals.handleBounds,"source",s),[f,h]=ui(r,r.internals.handleBounds,"target",s);l=l||(u??h),o.push(...a,...f)}return[o,l]}function co(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function Ql(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const ho=()=>!0;function pl(t,{connectionMode:e,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:s,isTarget:l,domNode:r,nodeLookup:a,lib:u,autoPanOnConnect:f,flowId:h,panBy:d,cancelConnection:c,onConnectStart:m,onConnect:b,onConnectEnd:y,isValidConnection:g=ho,onReconnectEnd:M,updateConnection:w,getTransform:C,getFromHandle:Y,autoPanSpeed:Z}){const v=Ol(t.target);let J=0,O;const{x:K,y:q}=ft(t),$=v==null?void 0:v.elementFromPoint(K,q),N=co(s,$),_=r==null?void 0:r.getBoundingClientRect();if(!_||!N)return;let k=ft(t,_),S=!1,P=null,D=!1,A=null;const[X,G]=Jl({nodeLookup:a,nodeId:o,handleId:i,handleType:N});function R(){if(!f||!_)return;const[oe,_e]=Qi(k,_,Z);d({x:oe,y:_e}),J=requestAnimationFrame(R)}const I={...G,nodeId:o,type:N,position:G.position},x=a.get(o),be={inProgress:!0,isValid:null,from:nn(x,I,fe.Left,!0),fromHandle:I,fromPosition:I.position,fromNode:x,to:k,toHandle:null,toPosition:jn[I.position],toNode:null};w(be);let H=be;m==null||m(t,{nodeId:o,handleId:i,handleType:N});function ee(oe){if(!Y()||!I){ue(oe);return}const _e=C();k=ft(oe,_),O=jl(fn(k,_e,!1,[1,1]),n,X),S||(R(),S=!0);const we=go(oe,{handle:O,connectionMode:e,fromNodeId:o,fromHandleId:i,fromType:l?"target":"source",isValidConnection:g,doc:v,lib:u,flowId:h,handleLookup:X});A=we.handleDomNode,P=we.connection,D=Ql(!!O,we.isValid);const Pe={...H,isValid:D,to:O&&D?Pl({x:O.x,y:O.y},_e):k,toHandle:we.toHandle,toPosition:D&&we.toHandle?we.toHandle.position:jn[I.position],toNode:we.toHandle?a.get(we.toHandle.nodeId):null};D&&O&&H.toHandle&&Pe.toHandle&&H.toHandle.type===Pe.toHandle.type&&H.toHandle.nodeId===Pe.toHandle.nodeId&&H.toHandle.id===Pe.toHandle.id||(w(Pe),H=Pe)}function ue(oe){(O||A)&&P&&D&&(b==null||b(P)),y==null||y(oe),s&&(M==null||M(oe)),c(),cancelAnimationFrame(J),S=!1,D=!1,P=null,A=null,v.removeEventListener("mousemove",ee),v.removeEventListener("mouseup",ue),v.removeEventListener("touchmove",ee),v.removeEventListener("touchend",ue)}v.addEventListener("mousemove",ee),v.addEventListener("mouseup",ue),v.addEventListener("touchmove",ee),v.addEventListener("touchend",ue)}function go(t,{handle:e,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:s,doc:l,lib:r,flowId:a,isValidConnection:u=ho,handleLookup:f}){const h=s==="target",d=e?l.querySelector(`.${r}-flow__handle[data-id="${a}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:c,y:m}=ft(t),b=l.elementFromPoint(c,m),y=b!=null&&b.classList.contains(`${r}-flow__handle`)?b:d,g={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){const M=co(void 0,y),w=y.getAttribute("data-nodeid"),C=y.getAttribute("data-handleid"),Y=y.classList.contains("connectable"),Z=y.classList.contains("connectableend");if(!w)return g;const v={source:h?w:i,sourceHandle:h?C:o,target:h?i:w,targetHandle:h?o:C};g.connection=v;const O=Y&&Z&&(n===kt.Strict?h&&M==="source"||!h&&M==="target":w!==i||C!==o);if(g.isValid=O&&u(v),f){const K=f.find(q=>q.id===C&&q.nodeId===w&&q.type===M);K&&(g.toHandle={...K})}}return g}const xl={onPointerDown:pl,isValid:go};function $l({domNode:t,panZoom:e,getTransform:n,getViewScale:i}){const o=xe(t);function s({translateExtent:r,width:a,height:u,zoomStep:f=10,pannable:h=!0,zoomable:d=!0,inversePan:c=!1}){const m=w=>{const C=n();if(w.sourceEvent.type!=="wheel"||!e)return;const Y=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*f,Z=C[2]*Math.pow(2,Y);e.scaleTo(Z)};let b=[0,0];const y=w=>{(w.sourceEvent.type==="mousedown"||w.sourceEvent.type==="touchstart")&&(b=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY])},g=w=>{const C=n();if(w.sourceEvent.type!=="mousemove"&&w.sourceEvent.type!=="touchmove"||!e)return;const Y=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY],Z=[Y[0]-b[0],Y[1]-b[1]];b=Y;const v=i()*Math.max(C[2],Math.log(C[2]))*(c?-1:1),J={x:C[0]-Z[0]*v,y:C[1]-Z[1]*v},O=[[0,0],[a,u]];e.setViewportConstrained({x:J.x,y:J.y,zoom:C[2]},O,r)},M=qi().on("start",y).on("zoom",h?g:null).on("zoom.wheel",d?m:null);o.call(M,{})}function l(){o.on("zoom",null)}return{update:s,destroy:l,pointer:et}}const es=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,dn=t=>({x:t.x,y:t.y,zoom:t.k}),En=({x:t,y:e,zoom:n})=>Nn.translate(t,e).scale(n),Pt=(t,e)=>t.target.closest(`.${e}`),mo=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),zn=(t,e=0,n=()=>{})=>{const i=typeof e=="number"&&e>0;return i||n(),i?t.transition().duration(e).on("end",n):t},bo=t=>{const e=t.ctrlKey&&$t()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function ts({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:s,zoomOnPinch:l,onPanZoomStart:r,onPanZoom:a,onPanZoomEnd:u}){return f=>{if(Pt(f,e))return!1;f.preventDefault(),f.stopImmediatePropagation();const h=n.property("__zoom").k||1;if(f.ctrlKey&&l){const y=et(f),g=bo(f),M=h*Math.pow(2,g);i.scaleTo(n,M,y,f);return}const d=f.deltaMode===1?20:1;let c=o===lt.Vertical?0:f.deltaX*d,m=o===lt.Horizontal?0:f.deltaY*d;!$t()&&f.shiftKey&&o!==lt.Vertical&&(c=f.deltaY*d,m=0),i.translateBy(n,-(c/h)*s,-(m/h)*s,{internal:!0});const b=dn(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,r==null||r(f,b)),t.isPanScrolling&&(a==null||a(f,b),t.panScrollTimeout=setTimeout(()=>{u==null||u(f,b),t.isPanScrolling=!1},150))}}function ns({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(i,o){if(!e&&i.type==="wheel"&&!i.ctrlKey||Pt(i,t))return null;i.preventDefault(),n.call(this,i,o)}}function is({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return i=>{var s,l,r;if((s=i.sourceEvent)!=null&&s.internal)return;const o=dn(i.transform);t.mouseButton=((l=i.sourceEvent)==null?void 0:l.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=o,((r=i.sourceEvent)==null?void 0:r.type)==="mousedown"&&e(!0),n&&(n==null||n(i.sourceEvent,o))}}function os({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return s=>{var l,r;t.usedRightMouseButton=!!(n&&mo(e,t.mouseButton??0)),(l=s.sourceEvent)!=null&&l.sync||i([s.transform.x,s.transform.y,s.transform.k]),o&&!((r=s.sourceEvent)!=null&&r.internal)&&(o==null||o(s.sourceEvent,dn(s.transform)))}}function ls({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:s}){return l=>{var r;if(!((r=l.sourceEvent)!=null&&r.internal)&&(t.isZoomingOrPanning=!1,s&&mo(e,t.mouseButton??0)&&!t.usedRightMouseButton&&l.sourceEvent&&s(l.sourceEvent),t.usedRightMouseButton=!1,i(!1),o&&es(t.prevViewport,l.transform))){const a=dn(l.transform);t.prevViewport=a,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{o==null||o(l.sourceEvent,a)},n?150:0)}}}function ss({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:s,userSelectionActive:l,noWheelClassName:r,noPanClassName:a,lib:u}){return f=>{var m;const h=t||e,d=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(Pt(f,`${u}-flow__node`)||Pt(f,`${u}-flow__edge`)))return!0;if(!i&&!h&&!o&&!s&&!n||l||Pt(f,r)&&f.type==="wheel"||Pt(f,a)&&(f.type!=="wheel"||o&&f.type==="wheel"&&!t)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&((m=f.touches)==null?void 0:m.length)>1)return f.preventDefault(),!1;if(!h&&!o&&!d&&f.type==="wheel"||!i&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(i)&&!i.includes(f.button)&&f.type==="mousedown")return!1;const c=Array.isArray(i)&&i.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&c}}function rs({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:i,translateExtent:o,viewport:s,onPanZoom:l,onPanZoomStart:r,onPanZoomEnd:a,onTransformChange:u,onDraggingChange:f}){const h={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=t.getBoundingClientRect(),c=qi().clickDistance(!tt(i)||i<0?0:i).scaleExtent([e,n]).translateExtent(o),m=xe(t).call(c);C({x:s.x,y:s.y,zoom:It(s.zoom,e,n)},[[0,0],[d.width,d.height]],o);const b=m.on("wheel.zoom"),y=m.on("dblclick.zoom");c.wheelDelta(bo);function g(N,_){return m?new Promise(k=>{c==null||c.transform(zn(m,_==null?void 0:_.duration,()=>k(!0)),N)}):Promise.resolve(!1)}function M({noWheelClassName:N,noPanClassName:_,onPaneContextMenu:k,userSelectionActive:S,panOnScroll:P,panOnDrag:D,panOnScrollMode:A,panOnScrollSpeed:X,preventScrolling:G,zoomOnPinch:R,zoomOnScroll:I,zoomOnDoubleClick:x,zoomActivationKeyPressed:ge,lib:be}){S&&!h.isZoomingOrPanning&&w();const ee=P&&!ge&&!S?ts({zoomPanValues:h,noWheelClassName:N,d3Selection:m,d3Zoom:c,panOnScrollMode:A,panOnScrollSpeed:X,zoomOnPinch:R,onPanZoomStart:r,onPanZoom:l,onPanZoomEnd:a}):ns({noWheelClassName:N,preventScrolling:G,d3ZoomHandler:b});if(m.on("wheel.zoom",ee,{passive:!1}),!S){const oe=is({zoomPanValues:h,onDraggingChange:f,onPanZoomStart:r});c.on("start",oe);const _e=os({zoomPanValues:h,panOnDrag:D,onPaneContextMenu:!!k,onPanZoom:l,onTransformChange:u});c.on("zoom",_e);const we=ls({zoomPanValues:h,panOnDrag:D,panOnScroll:P,onPaneContextMenu:k,onPanZoomEnd:a,onDraggingChange:f});c.on("end",we)}const ue=ss({zoomActivationKeyPressed:ge,panOnDrag:D,zoomOnScroll:I,panOnScroll:P,zoomOnDoubleClick:x,zoomOnPinch:R,userSelectionActive:S,noPanClassName:_,noWheelClassName:N,lib:be});c.filter(ue),x?m.on("dblclick.zoom",y):m.on("dblclick.zoom",null)}function w(){c.on("zoom",null)}async function C(N,_,k){const S=En(N),P=c==null?void 0:c.constrain()(S,_,k);return P&&await g(P),new Promise(D=>D(P))}async function Y(N,_){const k=En(N);return await g(k,_),new Promise(S=>S(k))}function Z(N){if(m){const _=En(N),k=m.property("__zoom");(k.k!==N.zoom||k.x!==N.x||k.y!==N.y)&&(c==null||c.transform(m,_,null,{sync:!0}))}}function v(){const N=m?tl(m.node()):{x:0,y:0,k:1};return{x:N.x,y:N.y,zoom:N.k}}function J(N,_){return m?new Promise(k=>{c==null||c.scaleTo(zn(m,_==null?void 0:_.duration,()=>k(!0)),N)}):Promise.resolve(!1)}function O(N,_){return m?new Promise(k=>{c==null||c.scaleBy(zn(m,_==null?void 0:_.duration,()=>k(!0)),N)}):Promise.resolve(!1)}function K(N){c==null||c.scaleExtent(N)}function q(N){c==null||c.translateExtent(N)}function $(N){const _=!tt(N)||N<0?0:N;c==null||c.clickDistance(_)}return{update:M,destroy:w,setViewport:Y,setViewportConstrained:C,getViewport:v,scaleTo:J,scaleBy:O,setScaleExtent:K,setTranslateExtent:q,syncViewport:Z,setClickDistance:$}}var fi;(function(t){t.Line="line",t.Handle="handle"})(fi||(fi={}));function as(t){let e,n,i,o,s,l;const r=t[44].default,a=qe(r,t,t[43],null);return{c(){e=Be("div"),a&&a.c(),this.h()},l(u){e=Le(u,"DIV",{"data-handleid":!0,"data-nodeid":!0,"data-handlepos":!0,"data-id":!0,class:!0,style:!0,role:!0,tabindex:!0});var f=ie(e);a&&a.l(f),f.forEach(T),this.h()},h(){E(e,"data-handleid",t[7]),E(e,"data-nodeid",t[14]),E(e,"data-handlepos",t[3]),E(e,"data-id",n=t[13]+"-"+t[14]+"-"+(t[1]||null)+"-"+t[2]),E(e,"class",i=Ce(["svelte-flow__handle",`svelte-flow__handle-${t[3]}`,"nodrag","nopan",t[3],t[5]])),E(e,"style",t[4]),E(e,"role","button"),E(e,"tabindex","-1"),ne(e,"valid",t[8]),ne(e,"connectingto",t[6]),ne(e,"connectingfrom",t[10]),ne(e,"source",!t[12]),ne(e,"target",t[12]),ne(e,"connectablestart",t[0]),ne(e,"connectableend",t[0]),ne(e,"connectable",t[0]),ne(e,"connectionindicator",t[0]&&(!t[11]||t[9]))},m(u,f){j(u,e,f),a&&a.m(e,null),o=!0,s||(l=[He(e,"mousedown",t[32]),He(e,"touchstart",t[32])],s=!0)},p(u,f){a&&a.p&&(!o||f[1]&4096)&&je(a,r,u,u[43],o?Qe(r,u[43],f,null):Je(u[43]),null),(!o||f[0]&128)&&E(e,"data-handleid",u[7]),(!o||f[0]&8)&&E(e,"data-handlepos",u[3]),(!o||f[0]&8198&&n!==(n=u[13]+"-"+u[14]+"-"+(u[1]||null)+"-"+u[2]))&&E(e,"data-id",n),(!o||f[0]&40&&i!==(i=Ce(["svelte-flow__handle",`svelte-flow__handle-${u[3]}`,"nodrag","nopan",u[3],u[5]])))&&E(e,"class",i),(!o||f[0]&16)&&E(e,"style",u[4]),(!o||f[0]&296)&&ne(e,"valid",u[8]),(!o||f[0]&104)&&ne(e,"connectingto",u[6]),(!o||f[0]&1064)&&ne(e,"connectingfrom",u[10]),(!o||f[0]&4136)&&ne(e,"source",!u[12]),(!o||f[0]&4136)&&ne(e,"target",u[12]),(!o||f[0]&41)&&ne(e,"connectablestart",u[0]),(!o||f[0]&41)&&ne(e,"connectableend",u[0]),(!o||f[0]&41)&&ne(e,"connectable",u[0]),(!o||f[0]&2601)&&ne(e,"connectionindicator",u[0]&&(!u[11]||u[9]))},i(u){o||(V(a,u),o=!0)},o(u){W(a,u),o=!1},d(u){u&&T(e),a&&a.d(u),s=!1,yt(l)}}}function us(t,e,n){let i,o,s,l,r,a,u,f,h,d,c,m,b,y,g,M,w,C,Y,Z,v,J,O,K,{$$slots:q={},$$scope:$}=e,{id:N=void 0}=e,{type:_="source"}=e,{position:k=fe.Top}=e,{style:S=void 0}=e,{isConnectable:P=void 0}=e,{isValidConnection:D=void 0}=e,{onconnect:A=void 0}=e,{ondisconnect:X=void 0}=e,{class:G=void 0}=e;const R=qt("svelteflow__node_id"),I=qt("svelteflow__node_connectable");F(t,I,Q=>n(42,K=Q));const x=Ne(),{connectionMode:ge,domNode:be,nodeLookup:H,connectionRadius:ee,viewport:ue,isValidConnection:oe,lib:_e,addEdge:we,onedgecreate:Pe,panBy:B,cancelConnection:We,updateConnection:Oe,autoPanOnConnect:st,edges:rt,connectionLookup:at,onconnect:Ke,onconnectstart:it,onconnectend:p,flowId:dt,connection:L}=x;F(t,ge,Q=>n(39,h=Q)),F(t,be,Q=>n(54,J=Q)),F(t,H,Q=>n(53,v=Q)),F(t,ee,Q=>n(55,O=Q)),F(t,ue,Q=>n(45,m=Q)),F(t,oe,Q=>n(50,w=Q)),F(t,_e,Q=>n(52,Z=Q)),F(t,Pe,Q=>n(49,M=Q)),F(t,st,Q=>n(51,Y=Q)),F(t,rt,Q=>n(41,c=Q)),F(t,at,Q=>n(40,d=Q)),F(t,Ke,Q=>n(48,g=Q)),F(t,it,Q=>n(47,y=Q)),F(t,p,Q=>n(46,b=Q)),F(t,dt,Q=>n(13,C=Q)),F(t,L,Q=>n(38,f=Q));function ht(Q){const ut=to(Q);(ut&&Q.button===0||!ut)&&xl.onPointerDown(Q,{handleId:o,nodeId:R,isTarget:i,connectionRadius:O,domNode:J,nodeLookup:v,connectionMode:h,lib:Z,autoPanOnConnect:Y,flowId:C,isValidConnection:D??w,updateConnection:Oe,cancelConnection:We,panBy:B,onConnect:Ue=>{const pe=M?M(Ue):Ue;pe&&(we(pe),g==null||g(Ue))},onConnectStart:(Ue,pe)=>{y==null||y(Ue,{nodeId:pe.nodeId,handleId:pe.handleId,handleType:pe.handleType})},onConnectEnd:Ue=>{b==null||b(Ue)},getTransform:()=>[m.x,m.y,m.zoom],getFromHandle:()=>f.fromHandle})}let Re=null,Ge;return t.$$set=Q=>{"id"in Q&&n(1,N=Q.id),"type"in Q&&n(2,_=Q.type),"position"in Q&&n(3,k=Q.position),"style"in Q&&n(4,S=Q.style),"isConnectable"in Q&&n(0,P=Q.isConnectable),"isValidConnection"in Q&&n(33,D=Q.isValidConnection),"onconnect"in Q&&n(34,A=Q.onconnect),"ondisconnect"in Q&&n(35,X=Q.ondisconnect),"class"in Q&&n(5,G=Q.class),"$$scope"in Q&&n(43,$=Q.$$scope)},t.$$.update=()=>{var Q,ut,Ue,pe,wt,St,Et,zt,gt;if(t.$$.dirty[0]&4&&n(12,i=_==="target"),t.$$.dirty[0]&1|t.$$.dirty[1]&2048&&n(0,P=P!==void 0?P:K),t.$$.dirty[0]&2&&n(7,o=N||null),t.$$.dirty[0]&6|t.$$.dirty[1]&1560&&(A||X)&&n(37,Ge=d.get(`${R}-${_}-${N||null}`)),t.$$.dirty[1]&120){if(Re&&!kl(Ge,Re)){const _t=Ge??new Map;Jn(Re,_t,X),Jn(_t,Re,A)}n(36,Re=Ge??new Map)}t.$$.dirty[1]&128&&n(11,s=!!f.fromHandle),t.$$.dirty[0]&132|t.$$.dirty[1]&128&&n(10,l=((Q=f.fromHandle)==null?void 0:Q.nodeId)===R&&((ut=f.fromHandle)==null?void 0:ut.type)===_&&((Ue=f.fromHandle)==null?void 0:Ue.id)===o),t.$$.dirty[0]&132|t.$$.dirty[1]&128&&n(6,r=((pe=f.toHandle)==null?void 0:pe.nodeId)===R&&((wt=f.toHandle)==null?void 0:wt.type)===_&&((St=f.toHandle)==null?void 0:St.id)===o),t.$$.dirty[0]&132|t.$$.dirty[1]&384&&n(9,a=h===kt.Strict?((Et=f.fromHandle)==null?void 0:Et.type)!==_:R!==((zt=f.fromHandle)==null?void 0:zt.nodeId)||o!==((gt=f.fromHandle)==null?void 0:gt.id)),t.$$.dirty[0]&64|t.$$.dirty[1]&128&&n(8,u=r&&f.isValid)},[P,N,_,k,S,G,r,o,u,a,l,s,i,C,R,I,ge,be,H,ee,ue,oe,_e,Pe,st,rt,at,Ke,it,p,dt,L,ht,D,A,X,Re,Ge,f,h,d,c,K,$,q]}class on extends de{constructor(e){super(),he(this,e,us,as,me,{id:1,type:2,position:3,style:4,isConnectable:0,isValidConnection:33,onconnect:34,ondisconnect:35,class:5},null,[-1,-1])}}function fs(t){var a;let e,n,i=((a=t[0])==null?void 0:a.label)+"",o,s,l,r;return e=new on({props:{type:"target",position:t[1]??fe.Top}}),l=new on({props:{type:"source",position:t[2]??fe.Bottom}}),{c(){se(e.$$.fragment),n=De(),o=At(i),s=De(),se(l.$$.fragment)},l(u){ce(e.$$.fragment,u),n=Te(u),o=Yt(u,i),s=Te(u),ce(l.$$.fragment,u)},m(u,f){re(e,u,f),j(u,n,f),j(u,o,f),j(u,s,f),re(l,u,f),r=!0},p(u,[f]){var c;const h={};f&2&&(h.position=u[1]??fe.Top),e.$set(h),(!r||f&1)&&i!==(i=((c=u[0])==null?void 0:c.label)+"")&&Xt(o,i);const d={};f&4&&(d.position=u[2]??fe.Bottom),l.$set(d)},i(u){r||(V(e.$$.fragment,u),V(l.$$.fragment,u),r=!0)},o(u){W(e.$$.fragment,u),W(l.$$.fragment,u),r=!1},d(u){u&&(T(n),T(o),T(s)),ae(e,u),ae(l,u)}}}function cs(t,e,n){const i=["data","targetPosition","sourcePosition"];ve(e,i);let{data:o={label:"Node"}}=e,{targetPosition:s=void 0}=e,{sourcePosition:l=void 0}=e;return t.$$set=r=>{e=ze(ze({},e),nt(r)),n(3,ve(e,i)),"data"in r&&n(0,o=r.data),"targetPosition"in r&&n(1,s=r.targetPosition),"sourcePosition"in r&&n(2,l=r.sourcePosition)},[o,s,l]}class yo extends de{constructor(e){super(),he(this,e,cs,fs,me,{data:0,targetPosition:1,sourcePosition:2})}}function ds(t){var l;let e=((l=t[0])==null?void 0:l.label)+"",n,i,o,s;return o=new on({props:{type:"source",position:t[1]??fe.Bottom}}),{c(){n=At(e),i=De(),se(o.$$.fragment)},l(r){n=Yt(r,e),i=Te(r),ce(o.$$.fragment,r)},m(r,a){j(r,n,a),j(r,i,a),re(o,r,a),s=!0},p(r,[a]){var f;(!s||a&1)&&e!==(e=((f=r[0])==null?void 0:f.label)+"")&&Xt(n,e);const u={};a&2&&(u.position=r[1]??fe.Bottom),o.$set(u)},i(r){s||(V(o.$$.fragment,r),s=!0)},o(r){W(o.$$.fragment,r),s=!1},d(r){r&&(T(n),T(i)),ae(o,r)}}}function hs(t,e,n){const i=["data","sourcePosition"];ve(e,i);let{data:o={label:"Node"}}=e,{sourcePosition:s=void 0}=e;return t.$$set=l=>{e=ze(ze({},e),nt(l)),n(2,ve(e,i)),"data"in l&&n(0,o=l.data),"sourcePosition"in l&&n(1,s=l.sourcePosition)},[o,s]}class gs extends de{constructor(e){super(),he(this,e,hs,ds,me,{data:0,sourcePosition:1})}}function ms(t){var l;let e=((l=t[0])==null?void 0:l.label)+"",n,i,o,s;return o=new on({props:{type:"target",position:t[1]??fe.Top}}),{c(){n=At(e),i=De(),se(o.$$.fragment)},l(r){n=Yt(r,e),i=Te(r),ce(o.$$.fragment,r)},m(r,a){j(r,n,a),j(r,i,a),re(o,r,a),s=!0},p(r,[a]){var f;(!s||a&1)&&e!==(e=((f=r[0])==null?void 0:f.label)+"")&&Xt(n,e);const u={};a&2&&(u.position=r[1]??fe.Top),o.$set(u)},i(r){s||(V(o.$$.fragment,r),s=!0)},o(r){W(o.$$.fragment,r),s=!1},d(r){r&&(T(n),T(i)),ae(o,r)}}}function bs(t,e,n){const i=["data","targetPosition"];ve(e,i);let{data:o={label:"Node"}}=e,{targetPosition:s=void 0}=e;return t.$$set=l=>{e=ze(ze({},e),nt(l)),n(2,ve(e,i)),"data"in l&&n(0,o=l.data),"targetPosition"in l&&n(1,s=l.targetPosition)},[o,s]}class ys extends de{constructor(e){super(),he(this,e,bs,ms,me,{data:0,targetPosition:1})}}function _s(t,e,n){const i=[];return ve(e,i),t.$$set=o=>{e=ze(ze({},e),nt(o)),n(0,ve(e,i))},[]}class ks extends de{constructor(e){super(),he(this,e,_s,null,me,{})}}function ci(t,e,n){if(!e)return;const i=n?e.querySelector(n):e;i&&i.appendChild(t)}function ws(t,{target:e,domNode:n}){return ci(t,n,e),{async update({target:i,domNode:o}){ci(t,o,i)},destroy(){t.parentNode&&t.parentNode.removeChild(t)}}}function Ss(t){let e,n,i,o,s;const l=t[3].default,r=qe(l,t,t[2],null);return{c(){e=Be("div"),r&&r.c()},l(a){e=Le(a,"DIV",{});var u=ie(e);r&&r.l(u),u.forEach(T)},m(a,u){j(a,e,u),r&&r.m(e,null),i=!0,o||(s=Fe(n=ws.call(null,e,{target:".svelte-flow__edgelabel-renderer",domNode:t[0]})),o=!0)},p(a,[u]){r&&r.p&&(!i||u&4)&&je(r,l,a,a[2],i?Qe(l,a[2],u,null):Je(a[2]),null),n&&Ve(n.update)&&u&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:a[0]})},i(a){i||(V(r,a),i=!0)},o(a){W(r,a),i=!1},d(a){a&&T(e),r&&r.d(a),o=!1,s()}}}function Es(t,e,n){let i,{$$slots:o={},$$scope:s}=e;const{domNode:l}=Ne();return F(t,l,r=>n(0,i=r)),t.$$set=r=>{"$$scope"in r&&n(2,s=r.$$scope)},[i,l,s,o]}class zs extends de{constructor(e){super(),he(this,e,Es,Ss,me,{})}}function _o(){const{edgeLookup:t,selectionRect:e,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:o,unselectNodesAndEdges:s,elementsSelectable:l}=Ne();return r=>{const a=U(t).get(r);if(!a){console.warn("012",Wt.error012(r));return}(a.selectable||U(l)&&typeof a.selectable>"u")&&(e.set(null),n.set(null),a.selected?a.selected&&U(i)&&s({nodes:[],edges:[a]}):o([r]))}}function Ms(t){let e,n,i=`translate(-50%, -50%) translate(${t[1]}px,${t[2]}px)`,o,s,l;const r=t[5].default,a=qe(r,t,t[7],null);return{c(){e=Be("div"),a&&a.c(),this.h()},l(u){e=Le(u,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var f=ie(e);a&&a.l(f),f.forEach(T),this.h()},h(){E(e,"class","svelte-flow__edge-label"),E(e,"style",n="pointer-events: all;"+t[0]),E(e,"role","button"),E(e,"tabindex","-1"),le(e,"transform",i)},m(u,f){j(u,e,f),a&&a.m(e,null),o=!0,s||(l=[He(e,"keyup",Ps),He(e,"click",t[6])],s=!0)},p(u,f){a&&a.p&&(!o||f&128)&&je(a,r,u,u[7],o?Qe(r,u[7],f,null):Je(u[7]),null),(!o||f&1&&n!==(n="pointer-events: all;"+u[0]))&&E(e,"style",n);const h=f&1;(f&7&&i!==(i=`translate(-50%, -50%) translate(${u[1]}px,${u[2]}px)`)||h)&&le(e,"transform",i)},i(u){o||(V(a,u),o=!0)},o(u){W(a,u),o=!1},d(u){u&&T(e),a&&a.d(u),s=!1,yt(l)}}}function Cs(t){let e,n;return e=new zs({props:{$$slots:{default:[Ms]},$$scope:{ctx:t}}}),{c(){se(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,[o]){const s={};o&135&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}const Ps=()=>{};function Os(t,e,n){let{$$slots:i={},$$scope:o}=e,{style:s=void 0}=e,{x:l=void 0}=e,{y:r=void 0}=e;const a=_o(),u=qt("svelteflow__edge_id"),f=()=>{u&&a(u)};return t.$$set=h=>{"style"in h&&n(0,s=h.style),"x"in h&&n(1,l=h.x),"y"in h&&n(2,r=h.y),"$$scope"in h&&n(7,o=h.$$scope)},[s,l,r,a,u,i,f,o]}class Hs extends de{constructor(e){super(),he(this,e,Os,Cs,me,{style:0,x:1,y:2})}}function Ds(t){let e;return{c(){e=Se("path"),this.h()},l(n){e=Ee(n,"path",{d:!0,"stroke-opacity":!0,"stroke-width":!0,fill:!0,class:!0}),ie(e).forEach(T),this.h()},h(){E(e,"d",t[1]),E(e,"stroke-opacity",0),E(e,"stroke-width",t[10]),E(e,"fill","none"),E(e,"class","svelte-flow__edge-interaction")},m(n,i){j(n,e,i)},p(n,i){i&2&&E(e,"d",n[1])},d(n){n&&T(e)}}}function di(t){let e,n;return e=new Hs({props:{x:t[3],y:t[4],style:t[5],$$slots:{default:[Ts]},$$scope:{ctx:t}}}),{c(){se(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,o){const s={};o&8&&(s.x=i[3]),o&16&&(s.y=i[4]),o&32&&(s.style=i[5]),o&4100&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}function Ts(t){let e;return{c(){e=At(t[2])},l(n){e=Yt(n,t[2])},m(n,i){j(n,e,i)},p(n,i){i&4&&Xt(e,n[2])},d(n){n&&T(e)}}}function vs(t){let e,n,i,o,s,l,r=t[10]&&Ds(t),a=t[2]&&di(t);return{c(){e=Se("path"),i=De(),r&&r.c(),o=De(),a&&a.c(),s=Me(),this.h()},l(u){e=Ee(u,"path",{id:!0,d:!0,class:!0,"marker-start":!0,"marker-end":!0,fill:!0,style:!0}),ie(e).forEach(T),i=Te(u),r&&r.l(u),o=Te(u),a&&a.l(u),s=Me(),this.h()},h(){E(e,"id",t[0]),E(e,"d",t[1]),E(e,"class",n=Ce(["svelte-flow__edge-path",t[9]])),E(e,"marker-start",t[6]),E(e,"marker-end",t[7]),E(e,"fill","none"),E(e,"style",t[8])},m(u,f){j(u,e,f),j(u,i,f),r&&r.m(u,f),j(u,o,f),a&&a.m(u,f),j(u,s,f),l=!0},p(u,[f]){(!l||f&1)&&E(e,"id",u[0]),(!l||f&2)&&E(e,"d",u[1]),(!l||f&512&&n!==(n=Ce(["svelte-flow__edge-path",u[9]])))&&E(e,"class",n),(!l||f&64)&&E(e,"marker-start",u[6]),(!l||f&128)&&E(e,"marker-end",u[7]),(!l||f&256)&&E(e,"style",u[8]),u[10]&&r.p(u,f),u[2]?a?(a.p(u,f),f&4&&V(a,1)):(a=di(u),a.c(),V(a,1),a.m(s.parentNode,s)):a&&(Ae(),W(a,1,1,()=>{a=null}),Ye())},i(u){l||(V(a),l=!0)},o(u){W(a),l=!1},d(u){u&&(T(e),T(i),T(o),T(s)),r&&r.d(u),a&&a.d(u)}}}function Is(t,e,n){let{id:i=void 0}=e,{path:o}=e,{label:s=void 0}=e,{labelX:l=void 0}=e,{labelY:r=void 0}=e,{labelStyle:a=void 0}=e,{markerStart:u=void 0}=e,{markerEnd:f=void 0}=e,{style:h=void 0}=e,{interactionWidth:d=20}=e,{class:c=void 0}=e,m=d===void 0?20:d;return t.$$set=b=>{"id"in b&&n(0,i=b.id),"path"in b&&n(1,o=b.path),"label"in b&&n(2,s=b.label),"labelX"in b&&n(3,l=b.labelX),"labelY"in b&&n(4,r=b.labelY),"labelStyle"in b&&n(5,a=b.labelStyle),"markerStart"in b&&n(6,u=b.markerStart),"markerEnd"in b&&n(7,f=b.markerEnd),"style"in b&&n(8,h=b.style),"interactionWidth"in b&&n(11,d=b.interactionWidth),"class"in b&&n(9,c=b.class)},[i,o,s,l,r,a,u,f,h,c,m,d]}class hn extends de{constructor(e){super(),he(this,e,Is,vs,me,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}function Ns(t){let e,n;return e=new hn({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){se(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,[o]){const s={};o&256&&(s.path=i[8]),o&128&&(s.labelX=i[7]),o&64&&(s.labelY=i[6]),o&1&&(s.label=i[0]),o&2&&(s.labelStyle=i[1]),o&8&&(s.markerStart=i[3]),o&16&&(s.markerEnd=i[4]),o&32&&(s.interactionWidth=i[5]),o&4&&(s.style=i[2]),e.$set(s)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}function Vs(t,e,n){let i,o,s;const l=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];ve(e,l);let{label:r=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:h=void 0}=e,{interactionWidth:d=void 0}=e,{sourceX:c}=e,{sourceY:m}=e,{sourcePosition:b}=e,{targetX:y}=e,{targetY:g}=e,{targetPosition:M}=e;return t.$$set=w=>{e=ze(ze({},e),nt(w)),n(15,ve(e,l)),"label"in w&&n(0,r=w.label),"labelStyle"in w&&n(1,a=w.labelStyle),"style"in w&&n(2,u=w.style),"markerStart"in w&&n(3,f=w.markerStart),"markerEnd"in w&&n(4,h=w.markerEnd),"interactionWidth"in w&&n(5,d=w.interactionWidth),"sourceX"in w&&n(9,c=w.sourceX),"sourceY"in w&&n(10,m=w.sourceY),"sourcePosition"in w&&n(11,b=w.sourcePosition),"targetX"in w&&n(12,y=w.targetX),"targetY"in w&&n(13,g=w.targetY),"targetPosition"in w&&n(14,M=w.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,s]=no({sourceX:c,sourceY:m,targetX:y,targetY:g,sourcePosition:b,targetPosition:M}),i,(n(7,o),n(9,c),n(10,m),n(12,y),n(13,g),n(11,b),n(14,M)),(n(6,s),n(9,c),n(10,m),n(12,y),n(13,g),n(11,b),n(14,M)))},[r,a,u,f,h,d,s,o,i,c,m,b,y,g,M]}class ko extends de{constructor(e){super(),he(this,e,Vs,Ns,me,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function As(t){let e,n;return e=new hn({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){se(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,[o]){const s={};o&256&&(s.path=i[8]),o&128&&(s.labelX=i[7]),o&64&&(s.labelY=i[6]),o&1&&(s.label=i[0]),o&2&&(s.labelStyle=i[1]),o&8&&(s.markerStart=i[3]),o&16&&(s.markerEnd=i[4]),o&32&&(s.interactionWidth=i[5]),o&4&&(s.style=i[2]),e.$set(s)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}function Ys(t,e,n){let i,o,s;const l=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];ve(e,l);let{label:r=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:h=void 0}=e,{interactionWidth:d=void 0}=e,{sourceX:c}=e,{sourceY:m}=e,{sourcePosition:b}=e,{targetX:y}=e,{targetY:g}=e,{targetPosition:M}=e;return t.$$set=w=>{e=ze(ze({},e),nt(w)),n(15,ve(e,l)),"label"in w&&n(0,r=w.label),"labelStyle"in w&&n(1,a=w.labelStyle),"style"in w&&n(2,u=w.style),"markerStart"in w&&n(3,f=w.markerStart),"markerEnd"in w&&n(4,h=w.markerEnd),"interactionWidth"in w&&n(5,d=w.interactionWidth),"sourceX"in w&&n(9,c=w.sourceX),"sourceY"in w&&n(10,m=w.sourceY),"sourcePosition"in w&&n(11,b=w.sourcePosition),"targetX"in w&&n(12,y=w.targetX),"targetY"in w&&n(13,g=w.targetY),"targetPosition"in w&&n(14,M=w.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,s]=tn({sourceX:c,sourceY:m,targetX:y,targetY:g,sourcePosition:b,targetPosition:M}),i,(n(7,o),n(9,c),n(10,m),n(12,y),n(13,g),n(11,b),n(14,M)),(n(6,s),n(9,c),n(10,m),n(12,y),n(13,g),n(11,b),n(14,M)))},[r,a,u,f,h,d,s,o,i,c,m,b,y,g,M]}class Xs extends de{constructor(e){super(),he(this,e,Ys,As,me,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function Ws(t){let e,n;return e=new hn({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){se(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,[o]){const s={};o&256&&(s.path=i[8]),o&128&&(s.labelX=i[7]),o&64&&(s.labelY=i[6]),o&1&&(s.label=i[0]),o&2&&(s.labelStyle=i[1]),o&8&&(s.markerStart=i[3]),o&16&&(s.markerEnd=i[4]),o&32&&(s.interactionWidth=i[5]),o&4&&(s.style=i[2]),e.$set(s)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}function Bs(t,e,n){let i,o,s;const l=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","targetX","targetY"];ve(e,l);let{label:r=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:h=void 0}=e,{interactionWidth:d=void 0}=e,{sourceX:c}=e,{sourceY:m}=e,{targetX:b}=e,{targetY:y}=e;return t.$$set=g=>{e=ze(ze({},e),nt(g)),n(13,ve(e,l)),"label"in g&&n(0,r=g.label),"labelStyle"in g&&n(1,a=g.labelStyle),"style"in g&&n(2,u=g.style),"markerStart"in g&&n(3,f=g.markerStart),"markerEnd"in g&&n(4,h=g.markerEnd),"interactionWidth"in g&&n(5,d=g.interactionWidth),"sourceX"in g&&n(9,c=g.sourceX),"sourceY"in g&&n(10,m=g.sourceY),"targetX"in g&&n(11,b=g.targetX),"targetY"in g&&n(12,y=g.targetY)},t.$$.update=()=>{t.$$.dirty&7680&&n(8,[i,o,s]=oo({sourceX:c,sourceY:m,targetX:b,targetY:y}),i,(n(7,o),n(9,c),n(10,m),n(11,b),n(12,y)),(n(6,s),n(9,c),n(10,m),n(11,b),n(12,y)))},[r,a,u,f,h,d,s,o,i,c,m,b,y]}class Ls extends de{constructor(e){super(),he(this,e,Bs,Ws,me,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,targetX:11,targetY:12})}}function Ks(t){let e,n;return e=new hn({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){se(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,[o]){const s={};o&256&&(s.path=i[8]),o&128&&(s.labelX=i[7]),o&64&&(s.labelY=i[6]),o&1&&(s.label=i[0]),o&2&&(s.labelStyle=i[1]),o&8&&(s.markerStart=i[3]),o&16&&(s.markerEnd=i[4]),o&32&&(s.interactionWidth=i[5]),o&4&&(s.style=i[2]),e.$set(s)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}function Rs(t,e,n){let i,o,s;const l=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];ve(e,l);let{label:r=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:h=void 0}=e,{interactionWidth:d=void 0}=e,{sourceX:c}=e,{sourceY:m}=e,{sourcePosition:b}=e,{targetX:y}=e,{targetY:g}=e,{targetPosition:M}=e;return t.$$set=w=>{e=ze(ze({},e),nt(w)),n(15,ve(e,l)),"label"in w&&n(0,r=w.label),"labelStyle"in w&&n(1,a=w.labelStyle),"style"in w&&n(2,u=w.style),"markerStart"in w&&n(3,f=w.markerStart),"markerEnd"in w&&n(4,h=w.markerEnd),"interactionWidth"in w&&n(5,d=w.interactionWidth),"sourceX"in w&&n(9,c=w.sourceX),"sourceY"in w&&n(10,m=w.sourceY),"sourcePosition"in w&&n(11,b=w.sourcePosition),"targetX"in w&&n(12,y=w.targetX),"targetY"in w&&n(13,g=w.targetY),"targetPosition"in w&&n(14,M=w.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,s]=tn({sourceX:c,sourceY:m,targetX:y,targetY:g,sourcePosition:b,targetPosition:M,borderRadius:0}),i,(n(7,o),n(9,c),n(10,m),n(12,y),n(13,g),n(11,b),n(14,M)),(n(6,s),n(9,c),n(10,m),n(12,y),n(13,g),n(11,b),n(14,M)))},[r,a,u,f,h,d,s,o,i,c,m,b,y,g,M]}class Zs extends de{constructor(e){super(),he(this,e,Rs,Ks,me,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function Fs(t,e){const n=t.set,i=e.set,o=U(t),s=U(e);let r=o.length===0&&s.length>0?s:o;t.set(r);const a=u=>{const f=n(u);return r=f,i(r),f};t.set=e.set=a,t.update=e.update=u=>a(u(r))}function Gs(t,e){const n=t.set,i=e.set;let o=U(e);t.set(o);const s=l=>{n(l),i(l),o=l};t.set=e.set=s,t.update=e.update=l=>s(l(o))}const Us=(t,e,n)=>{if(!n)return;const i=U(t),o=e.set,s=n.set;let l=n?U(n):{x:0,y:0,zoom:1};e.set(l),e.set=r=>(o(r),s(r),l=r,r),n.set=r=>(i==null||i.syncViewport(r),o(r),s(r),l=r,r),e.update=r=>{e.set(r(l))},n.update=r=>{n.set(r(l))}},qs=(t,e,n,i=[0,0])=>{const{subscribe:o,set:s,update:l}=te([]);let r=t,a={},u=!0;const f=m=>(so(m,e,n,{elevateNodesOnSelect:u,nodeOrigin:i,defaults:a,checkEquality:!1}),r=m,s(r),r),h=m=>f(m(r)),d=m=>{a=m},c=m=>{u=m.elevateNodesOnSelect??u};return f(r),{subscribe:o,set:f,update:h,setDefaultOptions:d,setOptions:c}},js=(t,e,n,i)=>{const{subscribe:o,set:s,update:l}=te([]);let r=t,a={};const u=d=>{const c=a?d.map(m=>({...a,...m})):d;uo(e,n,c),r=c,s(r)},f=d=>u(d(r)),h=d=>{a=d};return u(r),{subscribe:o,set:u,update:f,setDefaultOptions:h}},wo={input:gs,output:ys,default:yo,group:ks},So={straight:Ls,smoothstep:Xs,default:ko,step:Zs},Js=({nodes:t=[],edges:e=[],width:n,height:i,fitView:o,nodeOrigin:s})=>{const l=new Map,r=new Map,a=s??[0,0];so(t,l,r,{nodeOrigin:a,elevateNodesOnSelect:!1,checkEquality:!1});const u=new Map,f=new Map;uo(u,f,e);let h={x:0,y:0,zoom:1};if(o&&n&&i){const d=Lt(l,{filter:c=>!!((c.width||c.initialWidth)&&(c.height||c.initialHeight))});h=$i(d,n,i,.5,2,.1)}return{flowId:te(null),nodes:qs(t,l,r,a),nodeLookup:$e(l),parentLookup:$e(r),edgeLookup:$e(f),visibleNodes:$e([]),edges:js(e,u,f),visibleEdges:$e([]),connectionLookup:$e(u),height:te(500),width:te(500),minZoom:te(.5),maxZoom:te(2),nodeOrigin:te(a),nodeDragThreshold:te(1),nodeExtent:te(qn),translateExtent:te(qn),autoPanOnNodeDrag:te(!0),autoPanOnConnect:te(!0),fitViewOnInit:te(!1),fitViewOnInitDone:te(!1),fitViewOptions:te(void 0),panZoom:te(null),snapGrid:te(null),dragging:te(!1),selectionRect:te(null),selectionKeyPressed:te(!1),multiselectionKeyPressed:te(!1),deleteKeyPressed:te(!1),panActivationKeyPressed:te(!1),zoomActivationKeyPressed:te(!1),selectionRectMode:te(null),selectionMode:te(pt.Partial),nodeTypes:te(wo),edgeTypes:te(So),viewport:te(h),connectionMode:te(kt.Strict),domNode:te(null),connection:$e(On),connectionLineType:te(Dt.Bezier),connectionRadius:te(20),isValidConnection:te(()=>!0),nodesDraggable:te(!0),nodesConnectable:te(!0),elementsSelectable:te(!0),selectNodesOnDrag:te(!0),markers:$e([]),defaultMarkerColor:te("#b1b1b7"),lib:$e("svelte"),onlyRenderVisibleElements:te(!1),onerror:te(Cl),ondelete:te(void 0),onedgecreate:te(void 0),onconnect:te(void 0),onconnectstart:te(void 0),onconnectend:te(void 0),onbeforedelete:te(void 0),nodesInitialized:te(!1),edgesInitialized:te(!1),viewportInitialized:te(!1),initialized:$e(!1)}};function Qs(t){const e=Ot([t.edges,t.nodes,t.nodeLookup,t.onlyRenderVisibleElements,t.viewport,t.width,t.height],([n,,i,o,s,l,r])=>o&&l&&r?n.filter(u=>{const f=i.get(u.source),h=i.get(u.target);return f&&h&&Il({sourceNode:f,targetNode:h,width:l,height:r,transform:[s.x,s.y,s.zoom]})}):n);return Ot([e,t.nodes,t.nodeLookup,t.connectionMode,t.onerror],([n,,i,o,s])=>n.reduce((r,a)=>{const u=i.get(a.source),f=i.get(a.target);if(!u||!f)return r;const h=Bl({id:a.id,sourceNode:u,targetNode:f,sourceHandle:a.sourceHandle||null,targetHandle:a.targetHandle||null,connectionMode:o,onError:s});return h&&r.push({...a,zIndex:vl({selected:a.selected,zIndex:a.zIndex,sourceNode:u,targetNode:f,elevateOnSelect:!1}),...h}),r},[]))}function ps(t){return Ot([t.nodeLookup,t.onlyRenderVisibleElements,t.width,t.height,t.viewport,t.nodes],([e,n,i,o,s])=>{const l=[s.x,s.y,s.zoom];return n?Ji(e,{x:0,y:0,width:i,height:o},l,!0):Array.from(e.values())})}const Wn=Symbol();function xs({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:s}){const l=Js({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:s});function r(k){l.nodeTypes.set({...wo,...k})}function a(k){l.edgeTypes.set({...So,...k})}function u(k){const S=U(l.edges);l.edges.set(Al(k,S))}const f=(k,S=!1)=>{var D;const P=U(l.nodeLookup);for(const[A,X]of k){const G=(D=P.get(A))==null?void 0:D.internals.userNode;G&&(G.position=X.position,G.dragging=S)}l.nodes.update(A=>A)};function h(k){var A,X,G;const S=U(l.nodeLookup),{changes:P,updatedInternals:D}=Fl(k,S,U(l.parentLookup),U(l.domNode),U(l.nodeOrigin));if(D){if(!U(l.fitViewOnInitDone)&&U(l.fitViewOnInit)){const R=U(l.fitViewOptions),I=c({...R,nodes:R==null?void 0:R.nodes});l.fitViewOnInitDone.set(I)}for(const R of P){const I=(A=S.get(R.id))==null?void 0:A.internals.userNode;if(I)switch(R.type){case"dimensions":{const x={...I.measured,...R.dimensions};R.setAttributes&&(I.width=((X=R.dimensions)==null?void 0:X.width)??I.width,I.height=((G=R.dimensions)==null?void 0:G.height)??I.height),I.measured=x;break}case"position":I.position=R.position??I.position;break}}l.nodes.update(R=>R),U(l.nodesInitialized)||l.nodesInitialized.set(!0)}}function d(k){const S=U(l.panZoom);if(!S)return Promise.resolve(!1);const P=pn(U(l.nodeLookup),k);return xn({nodes:P,width:U(l.width),height:U(l.height),minZoom:U(l.minZoom),maxZoom:U(l.maxZoom),panZoom:S},k)}function c(k){const S=U(l.panZoom);if(!S)return!1;const P=pn(U(l.nodeLookup),k);return xn({nodes:P,width:U(l.width),height:U(l.height),minZoom:U(l.minZoom),maxZoom:U(l.maxZoom),panZoom:S},k),P.size>0}function m(k,S){const P=U(l.panZoom);return P?P.scaleBy(k,S):Promise.resolve(!1)}function b(k){return m(1.2,k)}function y(k){return m(1/1.2,k)}function g(k){const S=U(l.panZoom);S&&(S.setScaleExtent([k,U(l.maxZoom)]),l.minZoom.set(k))}function M(k){const S=U(l.panZoom);S&&(S.setScaleExtent([U(l.minZoom),k]),l.maxZoom.set(k))}function w(k){const S=U(l.panZoom);S&&(S.setTranslateExtent(k),l.translateExtent.set(k))}function C(k){let S=!1;return k.forEach(P=>{P.selected&&(P.selected=!1,S=!0)}),S}function Y(k){var S;(S=U(l.panZoom))==null||S.setClickDistance(k)}function Z(k){C((k==null?void 0:k.nodes)||U(l.nodes))&&l.nodes.set(U(l.nodes)),C((k==null?void 0:k.edges)||U(l.edges))&&l.edges.set(U(l.edges))}l.deleteKeyPressed.subscribe(async k=>{var S;if(k){const P=U(l.nodes),D=U(l.edges),A=P.filter(I=>I.selected),X=D.filter(I=>I.selected),{nodes:G,edges:R}=await zl({nodesToRemove:A,edgesToRemove:X,nodes:P,edges:D,onBeforeDelete:U(l.onbeforedelete)});(G.length||R.length)&&(l.nodes.update(I=>I.filter(x=>!G.some(ge=>ge.id===x.id))),l.edges.update(I=>I.filter(x=>!R.some(ge=>ge.id===x.id))),(S=U(l.ondelete))==null||S({nodes:G,edges:R}))}});function v(k){const S=U(l.multiselectionKeyPressed);l.nodes.update(P=>P.map(D=>{const A=k.includes(D.id),X=S&&D.selected||A;return D.selected=X,D})),S||l.edges.update(P=>P.map(D=>(D.selected=!1,D)))}function J(k){const S=U(l.multiselectionKeyPressed);l.edges.update(P=>P.map(D=>{const A=k.includes(D.id),X=S&&D.selected||A;return D.selected=X,D})),S||l.nodes.update(P=>P.map(D=>(D.selected=!1,D)))}function O(k){var P;const S=(P=U(l.nodes))==null?void 0:P.find(D=>D.id===k);if(!S){console.warn("012",Wt.error012(k));return}l.selectionRect.set(null),l.selectionRectMode.set(null),S.selected?S.selected&&U(l.multiselectionKeyPressed)&&Z({nodes:[S],edges:[]}):v([k])}function K(k){const S=U(l.viewport);return Gl({delta:k,panZoom:U(l.panZoom),transform:[S.x,S.y,S.zoom],translateExtent:U(l.translateExtent),width:U(l.width),height:U(l.height)})}const q=te(On),$=k=>{q.set({...k})};function N(){q.set(On)}function _(){l.fitViewOnInitDone.set(!1),l.selectionRect.set(null),l.selectionRectMode.set(null),l.snapGrid.set(null),l.isValidConnection.set(()=>!0),Z(),N()}return{...l,visibleEdges:Qs(l),visibleNodes:ps(l),connection:Ot([q,l.viewport],([k,S])=>k.inProgress?{...k,to:fn(k.to,[S.x,S.y,S.zoom])}:{...k}),markers:Ot([l.edges,l.defaultMarkerColor,l.flowId],([k,S,P])=>Ll(k,{defaultColor:S,id:P})),initialized:(()=>{let k=!1;const S=U(l.nodes).length,P=U(l.edges).length;return Ot([l.nodesInitialized,l.edgesInitialized,l.viewportInitialized],([D,A,X])=>k||(S===0?k=X:P===0?k=X&&D:k=X&&D&&A,k))})(),syncNodeStores:k=>Fs(l.nodes,k),syncEdgeStores:k=>Gs(l.edges,k),syncViewport:k=>Us(l.panZoom,l.viewport,k),setNodeTypes:r,setEdgeTypes:a,addEdge:u,updateNodePositions:f,updateNodeInternals:h,zoomIn:b,zoomOut:y,fitView:k=>d(k),setMinZoom:g,setMaxZoom:M,setTranslateExtent:w,setPaneClickDistance:Y,unselectNodesAndEdges:Z,addSelectedNodes:v,addSelectedEdges:J,handleNodeSelection:O,panBy:K,updateConnection:$,cancelConnection:N,reset:_}}function Ne(){const t=qt(Wn);if(!t)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return t.getStore()}function $s({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:s}){const l=xs({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:s});return jt(Wn,{getStore:()=>l}),l}function er(t,e){const{panZoom:n,minZoom:i,maxZoom:o,initialViewport:s,viewport:l,dragging:r,translateExtent:a,paneClickDistance:u}=e,f=rs({domNode:t,minZoom:i,maxZoom:o,translateExtent:a,viewport:s,paneClickDistance:u,onTransformChange:d=>l.set({x:d[0],y:d[1],zoom:d[2]}),onDraggingChange:r.set}),h=f.getViewport();return l.set(h),n.set(f),f.update(e),{update(d){f.update(d)}}}function tr(t){let e,n,i,o,s;const l=t[34].default,r=qe(l,t,t[33],null);return{c(){e=Be("div"),r&&r.c(),this.h()},l(a){e=Le(a,"DIV",{class:!0});var u=ie(e);r&&r.l(u),u.forEach(T),this.h()},h(){E(e,"class","svelte-flow__zoom svelte-4xkw84")},m(a,u){j(a,e,u),r&&r.m(e,null),i=!0,o||(s=Fe(n=er.call(null,e,{viewport:t[18],minZoom:t[12],maxZoom:t[13],initialViewport:t[11],dragging:t[23],panZoom:t[19],onPanZoomStart:t[0],onPanZoom:t[1],onPanZoomEnd:t[2],zoomOnScroll:t[5],zoomOnDoubleClick:t[6],zoomOnPinch:t[7],panOnScroll:t[9],panOnDrag:t[10],panOnScrollSpeed:.5,panOnScrollMode:t[3]||lt.Free,zoomActivationKeyPressed:t[14],preventScrolling:typeof t[4]=="boolean"?t[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!t[15],translateExtent:t[16],lib:t[17],paneClickDistance:t[8]})),o=!0)},p(a,u){r&&r.p&&(!i||u[1]&4)&&je(r,l,a,a[33],i?Qe(l,a[33],u,null):Je(a[33]),null),n&&Ve(n.update)&&u[0]&262143&&n.update.call(null,{viewport:a[18],minZoom:a[12],maxZoom:a[13],initialViewport:a[11],dragging:a[23],panZoom:a[19],onPanZoomStart:a[0],onPanZoom:a[1],onPanZoomEnd:a[2],zoomOnScroll:a[5],zoomOnDoubleClick:a[6],zoomOnPinch:a[7],panOnScroll:a[9],panOnDrag:a[10],panOnScrollSpeed:.5,panOnScrollMode:a[3]||lt.Free,zoomActivationKeyPressed:a[14],preventScrolling:typeof a[4]=="boolean"?a[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!a[15],translateExtent:a[16],lib:a[17],paneClickDistance:a[8]})},i(a){i||(V(r,a),i=!0)},o(a){W(r,a),i=!1},d(a){a&&T(e),r&&r.d(a),o=!1,s()}}}function nr(t,e,n){let i,o,s,l,r,a,u,f,h,d,c,{$$slots:m={},$$scope:b}=e,{initialViewport:y=void 0}=e,{onMoveStart:g=void 0}=e,{onMove:M=void 0}=e,{onMoveEnd:w=void 0}=e,{panOnScrollMode:C}=e,{preventScrolling:Y}=e,{zoomOnScroll:Z}=e,{zoomOnDoubleClick:v}=e,{zoomOnPinch:J}=e,{panOnDrag:O}=e,{panOnScroll:K}=e,{paneClickDistance:q}=e;const{viewport:$,panZoom:N,selectionRect:_,minZoom:k,maxZoom:S,dragging:P,translateExtent:D,lib:A,panActivationKeyPressed:X,zoomActivationKeyPressed:G,viewportInitialized:R}=Ne();return F(t,_,I=>n(15,h=I)),F(t,k,I=>n(12,a=I)),F(t,S,I=>n(13,u=I)),F(t,D,I=>n(16,d=I)),F(t,A,I=>n(17,c=I)),F(t,X,I=>n(32,r=I)),F(t,G,I=>n(14,f=I)),F(t,R,I=>n(35,l=I)),sn(()=>{Jt(R,l=!0,l)}),t.$$set=I=>{"initialViewport"in I&&n(29,y=I.initialViewport),"onMoveStart"in I&&n(0,g=I.onMoveStart),"onMove"in I&&n(1,M=I.onMove),"onMoveEnd"in I&&n(2,w=I.onMoveEnd),"panOnScrollMode"in I&&n(3,C=I.panOnScrollMode),"preventScrolling"in I&&n(4,Y=I.preventScrolling),"zoomOnScroll"in I&&n(5,Z=I.zoomOnScroll),"zoomOnDoubleClick"in I&&n(6,v=I.zoomOnDoubleClick),"zoomOnPinch"in I&&n(7,J=I.zoomOnPinch),"panOnDrag"in I&&n(30,O=I.panOnDrag),"panOnScroll"in I&&n(31,K=I.panOnScroll),"paneClickDistance"in I&&n(8,q=I.paneClickDistance),"$$scope"in I&&n(33,b=I.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&536870912&&n(11,i=y||{x:0,y:0,zoom:1}),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&2&&n(10,o=r||O),t.$$.dirty[1]&3&&n(9,s=r||K)},[g,M,w,C,Y,Z,v,J,q,s,o,i,a,u,f,h,d,c,$,N,_,k,S,P,D,A,X,G,R,y,O,K,r,b,m]}class ir extends de{constructor(e){super(),he(this,e,nr,tr,me,{initialViewport:29,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:30,panOnScroll:31,paneClickDistance:8},null,[-1,-1])}}function or(t){let e,n,i,o;const s=t[28].default,l=qe(s,t,t[27],null);return{c(){e=Be("div"),l&&l.c(),this.h()},l(r){e=Le(r,"DIV",{class:!0});var a=ie(e);l&&l.l(a),a.forEach(T),this.h()},h(){E(e,"class","svelte-flow__pane svelte-1esy7hx"),ne(e,"draggable",t[0]),ne(e,"dragging",t[4]),ne(e,"selection",t[1])},m(r,a){j(r,e,a),l&&l.m(e,null),t[29](e),n=!0,i||(o=[He(e,"click",function(){Ve(t[3]?void 0:Ut(t[15],t[2]))&&(t[3]?void 0:Ut(t[15],t[2])).apply(this,arguments)}),He(e,"pointerdown",function(){Ve(t[3]?t[16]:void 0)&&(t[3]?t[16]:void 0).apply(this,arguments)}),He(e,"pointermove",function(){Ve(t[3]?t[17]:void 0)&&(t[3]?t[17]:void 0).apply(this,arguments)}),He(e,"pointerup",function(){Ve(t[3]?t[18]:void 0)&&(t[3]?t[18]:void 0).apply(this,arguments)}),He(e,"contextmenu",function(){Ve(Ut(t[19],t[2]))&&Ut(t[19],t[2]).apply(this,arguments)})],i=!0)},p(r,a){t=r,l&&l.p&&(!n||a[0]&134217728)&&je(l,s,t,t[27],n?Qe(s,t[27],a,null):Je(t[27]),null),(!n||a[0]&1)&&ne(e,"draggable",t[0]),(!n||a[0]&16)&&ne(e,"dragging",t[4]),(!n||a[0]&2)&&ne(e,"selection",t[1])},i(r){n||(V(l,r),n=!0)},o(r){W(l,r),n=!1},d(r){r&&T(e),l&&l.d(r),t[29](null),i=!1,yt(o)}}}function Ut(t,e){return n=>{n.target===e&&(t==null||t(n))}}function hi(t){return e=>{const n=t.includes(e.id);return e.selected!==n&&(e.selected=n),e}}function lr(t,e,n){let i,o,s,l,r,a,u,f,h,d,c,m,b,{$$slots:y={},$$scope:g}=e,{panOnDrag:M=void 0}=e,{selectionOnDrag:w=void 0}=e;const C=rn(),{nodes:Y,nodeLookup:Z,edges:v,viewport:J,dragging:O,elementsSelectable:K,selectionRect:q,selectionRectMode:$,selectionKeyPressed:N,selectionMode:_,panActivationKeyPressed:k,unselectNodesAndEdges:S}=Ne();F(t,Z,H=>n(36,h=H)),F(t,v,H=>n(33,a=H)),F(t,J,H=>n(35,f=H)),F(t,O,H=>n(4,b=H)),F(t,K,H=>n(25,c=H)),F(t,q,H=>n(24,d=H)),F(t,$,H=>n(23,r=H)),F(t,N,H=>n(22,l=H)),F(t,_,H=>n(34,u=H)),F(t,k,H=>n(26,m=H));let P,D=null,A=[],X=!1;function G(H){if(X){X=!1;return}C("paneclick",{event:H}),S(),$.set(null)}function R(H){var oe,_e;if(D=P.getBoundingClientRect(),(_e=(oe=H.target)==null?void 0:oe.setPointerCapture)==null||_e.call(oe,H.pointerId),!K||!o||H.button!==0||H.target!==P||!D)return;const{x:ee,y:ue}=ft(H,D);S(),q.set({width:0,height:0,startX:ee,startY:ue,x:ee,y:ue})}function I(H){if(!o||!D||!d)return;X=!0;const ee=ft(H,D),ue=d.startX??0,oe=d.startY??0,_e={...d,x:ee.x<ue?ee.x:ue,y:ee.y<oe?ee.y:oe,width:Math.abs(ee.x-ue),height:Math.abs(ee.y-oe)},we=A.map(Oe=>Oe.id),Pe=Hn(A,a).map(Oe=>Oe.id);A=Ji(h,_e,[f.x,f.y,f.zoom],u===pt.Partial,!0);const B=Hn(A,a).map(Oe=>Oe.id),We=A.map(Oe=>Oe.id);(we.length!==We.length||We.some(Oe=>!we.includes(Oe)))&&Y.update(Oe=>Oe.map(hi(We))),(Pe.length!==B.length||B.some(Oe=>!Pe.includes(Oe)))&&v.update(Oe=>Oe.map(hi(B))),$.set("user"),q.set(_e)}function x(H){var ee,ue;H.button===0&&((ue=(ee=H.target)==null?void 0:ee.releasePointerCapture)==null||ue.call(ee,H.pointerId),!o&&r==="user"&&H.target===P&&(G==null||G(H)),q.set(null),A.length>0&&Jt($,r="nodes",r),l&&(X=!1))}const ge=H=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){H.preventDefault();return}C("panecontextmenu",{event:H})};function be(H){In[H?"unshift":"push"](()=>{P=H,n(2,P)})}return t.$$set=H=>{"panOnDrag"in H&&n(0,M=H.panOnDrag),"selectionOnDrag"in H&&n(20,w=H.selectionOnDrag),"$$scope"in H&&n(27,g=H.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&67108865&&n(21,i=m||M),t.$$.dirty[0]&24117248&&n(1,o=l||d||w&&i!==!0),t.$$.dirty[0]&41943042&&n(3,s=c&&(o||r==="user"))},[M,o,P,s,b,Z,v,J,O,K,q,$,N,_,k,G,R,I,x,ge,w,i,l,r,d,c,m,g,y,be]}class sr extends de{constructor(e){super(),he(this,e,lr,or,me,{panOnDrag:0,selectionOnDrag:20},null,[-1,-1])}}function rr(t){let e,n;const i=t[3].default,o=qe(i,t,t[2],null);return{c(){e=Be("div"),o&&o.c(),this.h()},l(s){e=Le(s,"DIV",{class:!0,style:!0});var l=ie(e);o&&o.l(l),l.forEach(T),this.h()},h(){E(e,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),le(e,"transform","translate("+t[0].x+"px, "+t[0].y+"px) scale("+t[0].zoom+")")},m(s,l){j(s,e,l),o&&o.m(e,null),n=!0},p(s,[l]){o&&o.p&&(!n||l&4)&&je(o,i,s,s[2],n?Qe(i,s[2],l,null):Je(s[2]),null),(!n||l&1)&&le(e,"transform","translate("+s[0].x+"px, "+s[0].y+"px) scale("+s[0].zoom+")")},i(s){n||(V(o,s),n=!0)},o(s){W(o,s),n=!1},d(s){s&&T(e),o&&o.d(s)}}}function ar(t,e,n){let i,{$$slots:o={},$$scope:s}=e;const{viewport:l}=Ne();return F(t,l,r=>n(0,i=r)),t.$$set=r=>{"$$scope"in r&&n(2,s=r.$$scope)},[i,l,s,o]}class ur extends de{constructor(e){super(),he(this,e,ar,rr,me,{})}}function Eo(t,e){const{store:n,onDrag:i,onDragStart:o,onDragStop:s,onNodeMouseDown:l}=e,r=ql({onDrag:i,onDragStart:o,onDragStop:s,onNodeMouseDown:l,getStoreItems:()=>{const u=U(n.snapGrid),f=U(n.viewport);return{nodes:U(n.nodes),nodeLookup:U(n.nodeLookup),edges:U(n.edges),nodeExtent:U(n.nodeExtent),snapGrid:u||[0,0],snapToGrid:!!u,nodeOrigin:U(n.nodeOrigin),multiSelectionActive:U(n.multiselectionKeyPressed),domNode:U(n.domNode),transform:[f.x,f.y,f.zoom],autoPanOnNodeDrag:U(n.autoPanOnNodeDrag),nodesDraggable:U(n.nodesDraggable),selectNodesOnDrag:U(n.selectNodesOnDrag),nodeDragThreshold:U(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function a(u,f){if(f.disabled){r.destroy();return}r.update({domNode:u,noDragClassName:f.noDragClass,handleSelector:f.handleSelector,nodeId:f.nodeId,isSelectable:f.isSelectable})}return a(t,e),{update(u){a(t,u)},destroy(){r.destroy()}}}function fr({width:t,height:e,initialWidth:n,initialHeight:i,measuredWidth:o,measuredHeight:s}){if(o===void 0&&s===void 0){const l=t??n,r=e??i;return{width:l?`width:${l}px;`:"",height:r?`height:${r}px;`:""}}return{width:t?`width:${t}px;`:"",height:e?`height:${e}px;`:""}}function gi(t){let e,n,i,o,s,l=`translate(${t[12]}px, ${t[13]}px)`,r,a,u;var f=t[26];function h(d,c){return{props:{data:d[2],id:d[1],selected:d[3],selectable:d[5],deletable:d[7],sourcePosition:d[14],targetPosition:d[15],zIndex:d[16],dragging:d[9],draggable:d[4],dragHandle:d[19],parentId:d[21],type:d[24],isConnectable:d[27],positionAbsoluteX:d[12],positionAbsoluteY:d[13],width:d[17],height:d[18]}}}return f&&(n=Qt(f,h(t))),{c(){e=Be("div"),n&&se(n.$$.fragment),this.h()},l(d){e=Le(d,"DIV",{"data-id":!0,class:!0,style:!0});var c=ie(e);n&&ce(n.$$.fragment,c),c.forEach(T),this.h()},h(){E(e,"data-id",t[1]),E(e,"class",i=Ce(["svelte-flow__node",`svelte-flow__node-${t[24]}`,t[22]])),E(e,"style",o=(t[10]??"")+";"+t[25].width+t[25].height),ne(e,"dragging",t[9]),ne(e,"selected",t[3]),ne(e,"draggable",t[4]),ne(e,"connectable",t[6]),ne(e,"selectable",t[5]),ne(e,"nopan",t[4]),ne(e,"parent",t[11]),le(e,"z-index",t[16]),le(e,"transform",l),le(e,"visibility",t[20]?"visible":"hidden")},m(d,c){j(d,e,c),n&&re(n,e,null),t[49](e),r=!0,a||(u=[Fe(s=Eo.call(null,e,{nodeId:t[1],isSelectable:t[5],disabled:!1,handleSelector:t[19],noDragClass:"nodrag",onNodeMouseDown:t[30],onDrag:t[46],onDragStart:t[47],onDragStop:t[48],store:t[28]})),He(e,"click",t[33]),He(e,"mouseenter",t[50]),He(e,"mouseleave",t[51]),He(e,"mousemove",t[52]),He(e,"contextmenu",t[53])],a=!0)},p(d,c){if(c[0]&67108864&&f!==(f=d[26])){if(n){Ae();const b=n;W(b.$$.fragment,1,0,()=>{ae(b,1)}),Ye()}f?(n=Qt(f,h(d)),se(n.$$.fragment),V(n.$$.fragment,1),re(n,e,null)):n=null}else if(f){const b={};c[0]&4&&(b.data=d[2]),c[0]&2&&(b.id=d[1]),c[0]&8&&(b.selected=d[3]),c[0]&32&&(b.selectable=d[5]),c[0]&128&&(b.deletable=d[7]),c[0]&16384&&(b.sourcePosition=d[14]),c[0]&32768&&(b.targetPosition=d[15]),c[0]&65536&&(b.zIndex=d[16]),c[0]&512&&(b.dragging=d[9]),c[0]&16&&(b.draggable=d[4]),c[0]&524288&&(b.dragHandle=d[19]),c[0]&2097152&&(b.parentId=d[21]),c[0]&16777216&&(b.type=d[24]),c[0]&134217728&&(b.isConnectable=d[27]),c[0]&4096&&(b.positionAbsoluteX=d[12]),c[0]&8192&&(b.positionAbsoluteY=d[13]),c[0]&131072&&(b.width=d[17]),c[0]&262144&&(b.height=d[18]),n.$set(b)}(!r||c[0]&2)&&E(e,"data-id",d[1]),(!r||c[0]&20971520&&i!==(i=Ce(["svelte-flow__node",`svelte-flow__node-${d[24]}`,d[22]])))&&E(e,"class",i),(!r||c[0]&33555456&&o!==(o=(d[10]??"")+";"+d[25].width+d[25].height))&&E(e,"style",o),s&&Ve(s.update)&&c[0]&524322&&s.update.call(null,{nodeId:d[1],isSelectable:d[5],disabled:!1,handleSelector:d[19],noDragClass:"nodrag",onNodeMouseDown:d[30],onDrag:d[46],onDragStart:d[47],onDragStop:d[48],store:d[28]}),(!r||c[0]&20972032)&&ne(e,"dragging",d[9]),(!r||c[0]&20971528)&&ne(e,"selected",d[3]),(!r||c[0]&20971536)&&ne(e,"draggable",d[4]),(!r||c[0]&20971584)&&ne(e,"connectable",d[6]),(!r||c[0]&20971552)&&ne(e,"selectable",d[5]),(!r||c[0]&20971536)&&ne(e,"nopan",d[4]),(!r||c[0]&20973568)&&ne(e,"parent",d[11]);const m=c[0]&33555456;(c[0]&33620992||m)&&le(e,"z-index",d[16]),(c[0]&33567744&&l!==(l=`translate(${d[12]}px, ${d[13]}px)`)||m)&&le(e,"transform",l),(c[0]&34604032||m)&&le(e,"visibility",d[20]?"visible":"hidden")},i(d){r||(n&&V(n.$$.fragment,d),r=!0)},o(d){n&&W(n.$$.fragment,d),r=!1},d(d){d&&T(e),n&&ae(n),t[49](null),a=!1,yt(u)}}}function cr(t){let e,n,i=!t[8]&&gi(t);return{c(){i&&i.c(),e=Me()},l(o){i&&i.l(o),e=Me()},m(o,s){i&&i.m(o,s),j(o,e,s),n=!0},p(o,s){o[8]?i&&(Ae(),W(i,1,1,()=>{i=null}),Ye()):i?(i.p(o,s),s[0]&256&&V(i,1)):(i=gi(o),i.c(),V(i,1),i.m(e.parentNode,e))},i(o){n||(V(i),n=!0)},o(o){W(i),n=!1},d(o){o&&T(e),i&&i.d(o)}}}function dr(t,e,n){let i,o,s,l,r,a,{node:u}=e,{id:f}=e,{data:h={}}=e,{selected:d=!1}=e,{draggable:c=void 0}=e,{selectable:m=void 0}=e,{connectable:b=!0}=e,{deletable:y=!0}=e,{hidden:g=!1}=e,{dragging:M=!1}=e,{resizeObserver:w=null}=e,{style:C=void 0}=e,{type:Y="default"}=e,{isParent:Z=!1}=e,{positionX:v}=e,{positionY:J}=e,{sourcePosition:O=void 0}=e,{targetPosition:K=void 0}=e,{zIndex:q}=e,{measuredWidth:$=void 0}=e,{measuredHeight:N=void 0}=e,{initialWidth:_=void 0}=e,{initialHeight:k=void 0}=e,{width:S=void 0}=e,{height:P=void 0}=e,{dragHandle:D=void 0}=e,{initialized:A=!1}=e,{parentId:X=void 0}=e,{class:G=""}=e;const R=Ne(),{nodeTypes:I,nodeDragThreshold:x,selectNodesOnDrag:ge,handleNodeSelection:be,updateNodeInternals:H}=R;F(t,I,L=>n(45,r=L));let ee,ue=null;const oe=rn(),_e=te(b);F(t,_e,L=>n(27,a=L));let we,Pe,B;jt("svelteflow__node_id",f),jt("svelteflow__node_connectable",_e),Zi(()=>{ue&&(w==null||w.unobserve(ue))});function We(L){m&&(!U(ge)||!c||U(x)>0)&&be(f),oe("nodeclick",{node:u.internals.userNode,event:L})}const Oe=(L,ht,Re,Ge)=>{oe("nodedrag",{event:L,targetNode:Re,nodes:Ge})},st=(L,ht,Re,Ge)=>{oe("nodedragstart",{event:L,targetNode:Re,nodes:Ge})},rt=(L,ht,Re,Ge)=>{oe("nodedragstop",{event:L,targetNode:Re,nodes:Ge})};function at(L){In[L?"unshift":"push"](()=>{ee=L,n(23,ee)})}const Ke=L=>oe("nodemouseenter",{node:u,event:L}),it=L=>oe("nodemouseleave",{node:u,event:L}),p=L=>oe("nodemousemove",{node:u,event:L}),dt=L=>oe("nodecontextmenu",{node:u,event:L});return t.$$set=L=>{"node"in L&&n(0,u=L.node),"id"in L&&n(1,f=L.id),"data"in L&&n(2,h=L.data),"selected"in L&&n(3,d=L.selected),"draggable"in L&&n(4,c=L.draggable),"selectable"in L&&n(5,m=L.selectable),"connectable"in L&&n(6,b=L.connectable),"deletable"in L&&n(7,y=L.deletable),"hidden"in L&&n(8,g=L.hidden),"dragging"in L&&n(9,M=L.dragging),"resizeObserver"in L&&n(34,w=L.resizeObserver),"style"in L&&n(10,C=L.style),"type"in L&&n(35,Y=L.type),"isParent"in L&&n(11,Z=L.isParent),"positionX"in L&&n(12,v=L.positionX),"positionY"in L&&n(13,J=L.positionY),"sourcePosition"in L&&n(14,O=L.sourcePosition),"targetPosition"in L&&n(15,K=L.targetPosition),"zIndex"in L&&n(16,q=L.zIndex),"measuredWidth"in L&&n(36,$=L.measuredWidth),"measuredHeight"in L&&n(37,N=L.measuredHeight),"initialWidth"in L&&n(38,_=L.initialWidth),"initialHeight"in L&&n(39,k=L.initialHeight),"width"in L&&n(17,S=L.width),"height"in L&&n(18,P=L.height),"dragHandle"in L&&n(19,D=L.dragHandle),"initialized"in L&&n(20,A=L.initialized),"parentId"in L&&n(21,X=L.parentId),"class"in L&&n(22,G=L.class)},t.$$.update=()=>{t.$$.dirty[1]&16&&n(24,i=Y||"default"),t.$$.dirty[0]&16777216|t.$$.dirty[1]&16384&&n(44,o=!!r[i]),t.$$.dirty[0]&16777216|t.$$.dirty[1]&16384&&n(26,s=r[i]||yo),t.$$.dirty[1]&8208&&(o||console.warn("003",Wt.error003(Y))),t.$$.dirty[0]&393216|t.$$.dirty[1]&480&&n(25,l=fr({width:S,height:P,initialWidth:_,initialHeight:k,measuredWidth:$,measuredHeight:N})),t.$$.dirty[0]&64&&_e.set(!!b),t.$$.dirty[0]&25214978|t.$$.dirty[1]&7168&&((we&&i!==we||Pe&&O!==Pe||B&&K!==B)&&requestAnimationFrame(()=>H(new Map([[f,{id:f,nodeElement:ee,force:!0}]]))),n(41,we=i),n(42,Pe=O),n(43,B=K)),t.$$.dirty[0]&9437184|t.$$.dirty[1]&520&&w&&(ee!==ue||!A)&&(ue&&w.unobserve(ue),ee&&w.observe(ee),n(40,ue=ee))},[u,f,h,d,c,m,b,y,g,M,C,Z,v,J,O,K,q,S,P,D,A,X,G,ee,i,l,s,a,R,I,be,oe,_e,We,w,Y,$,N,_,k,ue,we,Pe,B,o,r,Oe,st,rt,at,Ke,it,p,dt]}class hr extends de{constructor(e){super(),he(this,e,dr,cr,Ri,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,deletable:7,hidden:8,dragging:9,resizeObserver:34,style:10,type:35,isParent:11,positionX:12,positionY:13,sourcePosition:14,targetPosition:15,zIndex:16,measuredWidth:36,measuredHeight:37,initialWidth:38,initialHeight:39,width:17,height:18,dragHandle:19,initialized:20,parentId:21,class:22},null,[-1,-1])}}const{Map:gr}=el;function mi(t,e,n){const i=t.slice();return i[20]=e[n],i}function bi(t,e){let n,i,o;return i=new hr({props:{node:e[20],id:e[20].id,data:e[20].data,selected:!!e[20].selected,hidden:!!e[20].hidden,draggable:!!(e[20].draggable||e[1]&&typeof e[20].draggable>"u"),selectable:!!(e[20].selectable||e[2]&&typeof e[20].selectable>"u"),connectable:!!(e[20].connectable||e[3]&&typeof e[20].connectable>"u"),deletable:e[20].deletable??!0,positionX:e[20].internals.positionAbsolute.x,positionY:e[20].internals.positionAbsolute.y,isParent:e[4].has(e[20].id),style:e[20].style,class:e[20].class,type:e[20].type??"default",sourcePosition:e[20].sourcePosition,targetPosition:e[20].targetPosition,dragging:e[20].dragging,zIndex:e[20].internals.z??0,dragHandle:e[20].dragHandle,initialized:en(e[20]),width:e[20].width,height:e[20].height,initialWidth:e[20].initialWidth,initialHeight:e[20].initialHeight,measuredWidth:e[20].measured.width,measuredHeight:e[20].measured.height,parentId:e[20].parentId,resizeObserver:e[10]}}),i.$on("nodeclick",e[11]),i.$on("nodemouseenter",e[12]),i.$on("nodemousemove",e[13]),i.$on("nodemouseleave",e[14]),i.$on("nodedrag",e[15]),i.$on("nodedragstart",e[16]),i.$on("nodedragstop",e[17]),i.$on("nodecontextmenu",e[18]),{key:t,first:null,c(){n=Me(),se(i.$$.fragment),this.h()},l(s){n=Me(),ce(i.$$.fragment,s),this.h()},h(){this.first=n},m(s,l){j(s,n,l),re(i,s,l),o=!0},p(s,l){e=s;const r={};l&1&&(r.node=e[20]),l&1&&(r.id=e[20].id),l&1&&(r.data=e[20].data),l&1&&(r.selected=!!e[20].selected),l&1&&(r.hidden=!!e[20].hidden),l&3&&(r.draggable=!!(e[20].draggable||e[1]&&typeof e[20].draggable>"u")),l&5&&(r.selectable=!!(e[20].selectable||e[2]&&typeof e[20].selectable>"u")),l&9&&(r.connectable=!!(e[20].connectable||e[3]&&typeof e[20].connectable>"u")),l&1&&(r.deletable=e[20].deletable??!0),l&1&&(r.positionX=e[20].internals.positionAbsolute.x),l&1&&(r.positionY=e[20].internals.positionAbsolute.y),l&17&&(r.isParent=e[4].has(e[20].id)),l&1&&(r.style=e[20].style),l&1&&(r.class=e[20].class),l&1&&(r.type=e[20].type??"default"),l&1&&(r.sourcePosition=e[20].sourcePosition),l&1&&(r.targetPosition=e[20].targetPosition),l&1&&(r.dragging=e[20].dragging),l&1&&(r.zIndex=e[20].internals.z??0),l&1&&(r.dragHandle=e[20].dragHandle),l&1&&(r.initialized=en(e[20])),l&1&&(r.width=e[20].width),l&1&&(r.height=e[20].height),l&1&&(r.initialWidth=e[20].initialWidth),l&1&&(r.initialHeight=e[20].initialHeight),l&1&&(r.measuredWidth=e[20].measured.width),l&1&&(r.measuredHeight=e[20].measured.height),l&1&&(r.parentId=e[20].parentId),i.$set(r)},i(s){o||(V(i.$$.fragment,s),o=!0)},o(s){W(i.$$.fragment,s),o=!1},d(s){s&&T(n),ae(i,s)}}}function mr(t){let e,n=[],i=new gr,o,s=bt(t[0]);const l=r=>r[20].id;for(let r=0;r<s.length;r+=1){let a=mi(t,s,r),u=l(a);i.set(u,n[r]=bi(u,a))}return{c(){e=Be("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=Le(r,"DIV",{class:!0});var a=ie(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(T),this.h()},h(){E(e,"class","svelte-flow__nodes svelte-tf4uy4")},m(r,a){j(r,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(r,[a]){a&1055&&(s=bt(r[0]),Ae(),n=an(n,a,l,1,r,s,i,e,un,bi,null,mi),Ye())},i(r){if(!o){for(let a=0;a<s.length;a+=1)V(n[a]);o=!0}},o(r){for(let a=0;a<n.length;a+=1)W(n[a]);o=!1},d(r){r&&T(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function br(t,e,n){let i,o,s,l,r;const{visibleNodes:a,nodesDraggable:u,nodesConnectable:f,elementsSelectable:h,updateNodeInternals:d,parentLookup:c}=Ne();F(t,a,v=>n(0,i=v)),F(t,u,v=>n(1,o=v)),F(t,f,v=>n(3,l=v)),F(t,h,v=>n(2,s=v)),F(t,c,v=>n(4,r=v));const m=typeof ResizeObserver>"u"?null:new ResizeObserver(v=>{const J=new Map;v.forEach(O=>{const K=O.target.getAttribute("data-id");J.set(K,{id:K,nodeElement:O.target,force:!0})}),d(J)});Zi(()=>{m==null||m.disconnect()});function b(v){ye.call(this,t,v)}function y(v){ye.call(this,t,v)}function g(v){ye.call(this,t,v)}function M(v){ye.call(this,t,v)}function w(v){ye.call(this,t,v)}function C(v){ye.call(this,t,v)}function Y(v){ye.call(this,t,v)}function Z(v){ye.call(this,t,v)}return[i,o,s,l,r,a,u,f,h,c,m,b,y,g,M,w,C,Y,Z]}class yr extends de{constructor(e){super(),he(this,e,br,mr,me,{})}}function yi(t){let e,n,i,o,s,l,r,a;var u=t[27];function f(h,d){return{props:{id:h[0],source:h[1],target:h[2],sourceX:h[14],sourceY:h[15],targetX:h[16],targetY:h[17],sourcePosition:h[18],targetPosition:h[19],animated:h[6],selected:h[7],label:h[10],labelStyle:h[11],data:h[3],style:h[4],interactionWidth:h[21],selectable:h[24],deletable:h[8]??!0,type:h[23],sourceHandleId:h[12],targetHandleId:h[13],markerStart:h[26],markerEnd:h[25]}}}return u&&(i=Qt(u,f(t))),{c(){e=Se("svg"),n=Se("g"),i&&se(i.$$.fragment),this.h()},l(h){e=Ee(h,"svg",{});var d=ie(e);n=Ee(d,"g",{class:!0,"data-id":!0,"aria-label":!0,role:!0});var c=ie(n);i&&ce(i.$$.fragment,c),c.forEach(T),d.forEach(T),this.h()},h(){E(n,"class",o=Ce(["svelte-flow__edge",t[22]])),E(n,"data-id",t[0]),E(n,"aria-label",s=t[20]===null?void 0:t[20]?t[20]:`Edge from ${t[1]} to ${t[2]}`),E(n,"role","img"),ne(n,"animated",t[6]),ne(n,"selected",t[7]),ne(n,"selectable",t[24]),le(e,"z-index",t[5])},m(h,d){j(h,e,d),Xe(e,n),i&&re(i,n,null),l=!0,r||(a=[He(n,"click",t[32]),He(n,"contextmenu",t[41]),He(n,"mouseenter",t[42]),He(n,"mouseleave",t[43])],r=!0)},p(h,d){if(d[0]&134217728&&u!==(u=h[27])){if(i){Ae();const c=i;W(c.$$.fragment,1,0,()=>{ae(c,1)}),Ye()}u?(i=Qt(u,f(h)),se(i.$$.fragment),V(i.$$.fragment,1),re(i,n,null)):i=null}else if(u){const c={};d[0]&1&&(c.id=h[0]),d[0]&2&&(c.source=h[1]),d[0]&4&&(c.target=h[2]),d[0]&16384&&(c.sourceX=h[14]),d[0]&32768&&(c.sourceY=h[15]),d[0]&65536&&(c.targetX=h[16]),d[0]&131072&&(c.targetY=h[17]),d[0]&262144&&(c.sourcePosition=h[18]),d[0]&524288&&(c.targetPosition=h[19]),d[0]&64&&(c.animated=h[6]),d[0]&128&&(c.selected=h[7]),d[0]&1024&&(c.label=h[10]),d[0]&2048&&(c.labelStyle=h[11]),d[0]&8&&(c.data=h[3]),d[0]&16&&(c.style=h[4]),d[0]&2097152&&(c.interactionWidth=h[21]),d[0]&16777216&&(c.selectable=h[24]),d[0]&256&&(c.deletable=h[8]??!0),d[0]&8388608&&(c.type=h[23]),d[0]&4096&&(c.sourceHandleId=h[12]),d[0]&8192&&(c.targetHandleId=h[13]),d[0]&67108864&&(c.markerStart=h[26]),d[0]&33554432&&(c.markerEnd=h[25]),i.$set(c)}(!l||d[0]&4194304&&o!==(o=Ce(["svelte-flow__edge",h[22]])))&&E(n,"class",o),(!l||d[0]&1)&&E(n,"data-id",h[0]),(!l||d[0]&1048582&&s!==(s=h[20]===null?void 0:h[20]?h[20]:`Edge from ${h[1]} to ${h[2]}`))&&E(n,"aria-label",s),(!l||d[0]&4194368)&&ne(n,"animated",h[6]),(!l||d[0]&4194432)&&ne(n,"selected",h[7]),(!l||d[0]&20971520)&&ne(n,"selectable",h[24]),d[0]&32&&le(e,"z-index",h[5])},i(h){l||(i&&V(i.$$.fragment,h),l=!0)},o(h){i&&W(i.$$.fragment,h),l=!1},d(h){h&&T(e),i&&ae(i),r=!1,yt(a)}}}function _r(t){let e,n,i=!t[9]&&yi(t);return{c(){i&&i.c(),e=Me()},l(o){i&&i.l(o),e=Me()},m(o,s){i&&i.m(o,s),j(o,e,s),n=!0},p(o,s){o[9]?i&&(Ae(),W(i,1,1,()=>{i=null}),Ye()):i?(i.p(o,s),s[0]&512&&V(i,1)):(i=yi(o),i.c(),V(i,1),i.m(e.parentNode,e))},i(o){n||(V(i),n=!0)},o(o){W(i),n=!1},d(o){o&&T(e),i&&i.d(o)}}}function kr(t,e,n){let i,o,s,l,r,a,u,f,h,{id:d}=e,{type:c="default"}=e,{source:m=""}=e,{target:b=""}=e,{data:y={}}=e,{style:g=void 0}=e,{zIndex:M=void 0}=e,{animated:w=!1}=e,{selected:C=!1}=e,{selectable:Y=void 0}=e,{deletable:Z=void 0}=e,{hidden:v=!1}=e,{label:J=void 0}=e,{labelStyle:O=void 0}=e,{markerStart:K=void 0}=e,{markerEnd:q=void 0}=e,{sourceHandle:$=void 0}=e,{targetHandle:N=void 0}=e,{sourceX:_}=e,{sourceY:k}=e,{targetX:S}=e,{targetY:P}=e,{sourcePosition:D}=e,{targetPosition:A}=e,{ariaLabel:X=void 0}=e,{interactionWidth:G=void 0}=e,{class:R=""}=e;jt("svelteflow__edge_id",d);const{edgeLookup:I,edgeTypes:x,flowId:ge,elementsSelectable:be}=Ne();F(t,I,B=>n(44,a=B)),F(t,x,B=>n(40,h=B)),F(t,ge,B=>n(39,f=B)),F(t,be,B=>n(38,u=B));const H=rn(),ee=_o();function ue(B){const We=a.get(d);We&&(ee(d),H("edgeclick",{event:B,edge:We}))}function oe(B,We){const Oe=a.get(d);Oe&&H(We,{event:B,edge:Oe})}const _e=B=>{oe(B,"edgecontextmenu")},we=B=>{oe(B,"edgemouseenter")},Pe=B=>{oe(B,"edgemouseleave")};return t.$$set=B=>{"id"in B&&n(0,d=B.id),"type"in B&&n(34,c=B.type),"source"in B&&n(1,m=B.source),"target"in B&&n(2,b=B.target),"data"in B&&n(3,y=B.data),"style"in B&&n(4,g=B.style),"zIndex"in B&&n(5,M=B.zIndex),"animated"in B&&n(6,w=B.animated),"selected"in B&&n(7,C=B.selected),"selectable"in B&&n(35,Y=B.selectable),"deletable"in B&&n(8,Z=B.deletable),"hidden"in B&&n(9,v=B.hidden),"label"in B&&n(10,J=B.label),"labelStyle"in B&&n(11,O=B.labelStyle),"markerStart"in B&&n(36,K=B.markerStart),"markerEnd"in B&&n(37,q=B.markerEnd),"sourceHandle"in B&&n(12,$=B.sourceHandle),"targetHandle"in B&&n(13,N=B.targetHandle),"sourceX"in B&&n(14,_=B.sourceX),"sourceY"in B&&n(15,k=B.sourceY),"targetX"in B&&n(16,S=B.targetX),"targetY"in B&&n(17,P=B.targetY),"sourcePosition"in B&&n(18,D=B.sourcePosition),"targetPosition"in B&&n(19,A=B.targetPosition),"ariaLabel"in B&&n(20,X=B.ariaLabel),"interactionWidth"in B&&n(21,G=B.interactionWidth),"class"in B&&n(22,R=B.class)},t.$$.update=()=>{t.$$.dirty[1]&8&&n(23,i=c||"default"),t.$$.dirty[0]&8388608|t.$$.dirty[1]&512&&n(27,o=h[i]||ko),t.$$.dirty[1]&288&&n(26,s=K?`url('#${vn(K,f)}')`:void 0),t.$$.dirty[1]&320&&n(25,l=q?`url('#${vn(q,f)}')`:void 0),t.$$.dirty[1]&144&&n(24,r=Y??u)},[d,m,b,y,g,M,w,C,Z,v,J,O,$,N,_,k,S,P,D,A,X,G,R,i,r,l,s,o,I,x,ge,be,ue,oe,c,Y,K,q,u,f,h,_e,we,Pe]}class wr extends de{constructor(e){super(),he(this,e,kr,_r,Ri,{id:0,type:34,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:35,deletable:8,hidden:9,label:10,labelStyle:11,markerStart:36,markerEnd:37,sourceHandle:12,targetHandle:13,sourceX:14,sourceY:15,targetX:16,targetY:17,sourcePosition:18,targetPosition:19,ariaLabel:20,interactionWidth:21,class:22},null,[-1,-1])}}function Sr(t,e,n){let{onMount:i=void 0}=e,{onDestroy:o=void 0}=e;return sn(()=>(i==null||i(),o)),t.$$set=s=>{"onMount"in s&&n(0,i=s.onMount),"onDestroy"in s&&n(1,o=s.onDestroy)},[i,o]}class Er extends de{constructor(e){super(),he(this,e,Sr,null,me,{onMount:0,onDestroy:1})}}function _i(t,e,n){const i=t.slice();return i[2]=e[n],i}function ki(t,e){let n,i,o;const s=[e[2]];let l={};for(let r=0;r<s.length;r+=1)l=ze(l,s[r]);return i=new Tr({props:l}),{key:t,first:null,c(){n=Me(),se(i.$$.fragment),this.h()},l(r){n=Me(),ce(i.$$.fragment,r),this.h()},h(){this.first=n},m(r,a){j(r,n,a),re(i,r,a),o=!0},p(r,a){e=r;const u=a&1?ct(s,[vt(e[2])]):{};i.$set(u)},i(r){o||(V(i.$$.fragment,r),o=!0)},o(r){W(i.$$.fragment,r),o=!1},d(r){r&&T(n),ae(i,r)}}}function zr(t){let e,n=[],i=new Map,o,s=bt(t[0]);const l=r=>r[2].id;for(let r=0;r<s.length;r+=1){let a=_i(t,s,r),u=l(a);i.set(u,n[r]=ki(u,a))}return{c(){e=Se("defs");for(let r=0;r<n.length;r+=1)n[r].c()},l(r){e=Ee(r,"defs",{});var a=ie(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(T)},m(r,a){j(r,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(r,[a]){a&1&&(s=bt(r[0]),Ae(),n=an(n,a,l,1,r,s,i,e,un,ki,null,_i),Ye())},i(r){if(!o){for(let a=0;a<s.length;a+=1)V(n[a]);o=!0}},o(r){for(let a=0;a<n.length;a+=1)W(n[a]);o=!1},d(r){r&&T(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Mr(t,e,n){let i;const{markers:o}=Ne();return F(t,o,s=>n(0,i=s)),[i,o]}class Cr extends de{constructor(e){super(),he(this,e,Mr,zr,me,{})}}function Pr(t){let e;return{c(){e=Se("polyline"),this.h()},l(n){e=Ee(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),ie(e).forEach(T),this.h()},h(){E(e,"stroke",t[6]),E(e,"stroke-linecap","round"),E(e,"stroke-linejoin","round"),E(e,"stroke-width",t[7]),E(e,"fill",t[6]),E(e,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){j(n,e,i)},p(n,i){i&64&&E(e,"stroke",n[6]),i&128&&E(e,"stroke-width",n[7]),i&64&&E(e,"fill",n[6])},d(n){n&&T(e)}}}function Or(t){let e;return{c(){e=Se("polyline"),this.h()},l(n){e=Ee(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),ie(e).forEach(T),this.h()},h(){E(e,"stroke",t[6]),E(e,"stroke-linecap","round"),E(e,"stroke-linejoin","round"),E(e,"stroke-width",t[7]),E(e,"fill","none"),E(e,"points","-5,-4 0,0 -5,4")},m(n,i){j(n,e,i)},p(n,i){i&64&&E(e,"stroke",n[6]),i&128&&E(e,"stroke-width",n[7])},d(n){n&&T(e)}}}function Hr(t){let e,n,i;function o(r,a){if(r[1]===xt.Arrow)return Or;if(r[1]===xt.ArrowClosed)return Pr}let s=o(t),l=s&&s(t);return{c(){e=Se("marker"),l&&l.c(),this.h()},l(r){e=Ee(r,"marker",{class:!0,id:!0,markerWidth:!0,markerHeight:!0,viewBox:!0,markerUnits:!0,orient:!0,refX:!0,refY:!0});var a=ie(e);l&&l.l(a),a.forEach(T),this.h()},h(){E(e,"class","svelte-flow__arrowhead"),E(e,"id",t[0]),E(e,"markerWidth",n=`${t[2]}`),E(e,"markerHeight",i=`${t[3]}`),E(e,"viewBox","-10 -10 20 20"),E(e,"markerUnits",t[4]),E(e,"orient",t[5]),E(e,"refX","0"),E(e,"refY","0")},m(r,a){j(r,e,a),l&&l.m(e,null)},p(r,[a]){s===(s=o(r))&&l?l.p(r,a):(l&&l.d(1),l=s&&s(r),l&&(l.c(),l.m(e,null))),a&1&&E(e,"id",r[0]),a&4&&n!==(n=`${r[2]}`)&&E(e,"markerWidth",n),a&8&&i!==(i=`${r[3]}`)&&E(e,"markerHeight",i),a&16&&E(e,"markerUnits",r[4]),a&32&&E(e,"orient",r[5])},i:ke,o:ke,d(r){r&&T(e),l&&l.d()}}}function Dr(t,e,n){let{id:i}=e,{type:o}=e,{width:s=12.5}=e,{height:l=12.5}=e,{markerUnits:r="strokeWidth"}=e,{orient:a="auto-start-reverse"}=e,{color:u=void 0}=e,{strokeWidth:f=void 0}=e;return t.$$set=h=>{"id"in h&&n(0,i=h.id),"type"in h&&n(1,o=h.type),"width"in h&&n(2,s=h.width),"height"in h&&n(3,l=h.height),"markerUnits"in h&&n(4,r=h.markerUnits),"orient"in h&&n(5,a=h.orient),"color"in h&&n(6,u=h.color),"strokeWidth"in h&&n(7,f=h.strokeWidth)},[i,o,s,l,r,a,u,f]}class Tr extends de{constructor(e){super(),he(this,e,Dr,Hr,me,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}function wi(t,e,n){const i=t.slice();return i[14]=e[n],i}function Si(t,e){let n,i,o;return i=new wr({props:{id:e[14].id,source:e[14].source,target:e[14].target,data:e[14].data,style:e[14].style,animated:e[14].animated,selected:e[14].selected,selectable:e[14].selectable??e[1],deletable:e[14].deletable,hidden:e[14].hidden,label:e[14].label,labelStyle:e[14].labelStyle,markerStart:e[14].markerStart,markerEnd:e[14].markerEnd,sourceHandle:e[14].sourceHandle,targetHandle:e[14].targetHandle,sourceX:e[14].sourceX,sourceY:e[14].sourceY,targetX:e[14].targetX,targetY:e[14].targetY,sourcePosition:e[14].sourcePosition,targetPosition:e[14].targetPosition,ariaLabel:e[14].ariaLabel,interactionWidth:e[14].interactionWidth,class:e[14].class,type:e[14].type||"default",zIndex:e[14].zIndex}}),i.$on("edgeclick",e[7]),i.$on("edgecontextmenu",e[8]),i.$on("edgemouseenter",e[9]),i.$on("edgemouseleave",e[10]),{key:t,first:null,c(){n=Me(),se(i.$$.fragment),this.h()},l(s){n=Me(),ce(i.$$.fragment,s),this.h()},h(){this.first=n},m(s,l){j(s,n,l),re(i,s,l),o=!0},p(s,l){e=s;const r={};l&1&&(r.id=e[14].id),l&1&&(r.source=e[14].source),l&1&&(r.target=e[14].target),l&1&&(r.data=e[14].data),l&1&&(r.style=e[14].style),l&1&&(r.animated=e[14].animated),l&1&&(r.selected=e[14].selected),l&3&&(r.selectable=e[14].selectable??e[1]),l&1&&(r.deletable=e[14].deletable),l&1&&(r.hidden=e[14].hidden),l&1&&(r.label=e[14].label),l&1&&(r.labelStyle=e[14].labelStyle),l&1&&(r.markerStart=e[14].markerStart),l&1&&(r.markerEnd=e[14].markerEnd),l&1&&(r.sourceHandle=e[14].sourceHandle),l&1&&(r.targetHandle=e[14].targetHandle),l&1&&(r.sourceX=e[14].sourceX),l&1&&(r.sourceY=e[14].sourceY),l&1&&(r.targetX=e[14].targetX),l&1&&(r.targetY=e[14].targetY),l&1&&(r.sourcePosition=e[14].sourcePosition),l&1&&(r.targetPosition=e[14].targetPosition),l&1&&(r.ariaLabel=e[14].ariaLabel),l&1&&(r.interactionWidth=e[14].interactionWidth),l&1&&(r.class=e[14].class),l&1&&(r.type=e[14].type||"default"),l&1&&(r.zIndex=e[14].zIndex),i.$set(r)},i(s){o||(V(i.$$.fragment,s),o=!0)},o(s){W(i.$$.fragment,s),o=!1},d(s){s&&T(n),ae(i,s)}}}function Ei(t){let e,n;return e=new Er({props:{onMount:t[11],onDestroy:t[12]}}),{c(){se(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,o){const s={};o&4&&(s.onMount=i[11]),o&4&&(s.onDestroy=i[12]),e.$set(s)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}function vr(t){let e,n,i,o,s=[],l=new Map,r,a;i=new Cr({});let u=bt(t[0]);const f=d=>d[14].id;for(let d=0;d<u.length;d+=1){let c=wi(t,u,d),m=f(c);l.set(m,s[d]=Si(m,c))}let h=t[0].length>0&&Ei(t);return{c(){e=Be("div"),n=Se("svg"),se(i.$$.fragment),o=De();for(let d=0;d<s.length;d+=1)s[d].c();r=De(),h&&h.c(),this.h()},l(d){e=Le(d,"DIV",{class:!0});var c=ie(e);n=Ee(c,"svg",{class:!0});var m=ie(n);ce(i.$$.fragment,m),m.forEach(T),o=Te(c);for(let b=0;b<s.length;b+=1)s[b].l(c);r=Te(c),h&&h.l(c),c.forEach(T),this.h()},h(){E(n,"class","svelte-flow__marker"),E(e,"class","svelte-flow__edges")},m(d,c){j(d,e,c),Xe(e,n),re(i,n,null),Xe(e,o);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(e,null);Xe(e,r),h&&h.m(e,null),a=!0},p(d,[c]){c&3&&(u=bt(d[0]),Ae(),s=an(s,c,f,1,d,u,l,e,un,Si,r,wi),Ye()),d[0].length>0?h?(h.p(d,c),c&1&&V(h,1)):(h=Ei(d),h.c(),V(h,1),h.m(e,null)):h&&(Ae(),W(h,1,1,()=>{h=null}),Ye())},i(d){if(!a){V(i.$$.fragment,d);for(let c=0;c<u.length;c+=1)V(s[c]);V(h),a=!0}},o(d){W(i.$$.fragment,d);for(let c=0;c<s.length;c+=1)W(s[c]);W(h),a=!1},d(d){d&&T(e),ae(i);for(let c=0;c<s.length;c+=1)s[c].d();h&&h.d()}}}function Ir(t,e,n){let i,o,s,{defaultEdgeOptions:l}=e;const{visibleEdges:r,edgesInitialized:a,edges:{setDefaultOptions:u},elementsSelectable:f}=Ne();F(t,r,g=>n(0,i=g)),F(t,a,g=>n(2,s=g)),F(t,f,g=>n(1,o=g)),sn(()=>{l&&u(l)});function h(g){ye.call(this,t,g)}function d(g){ye.call(this,t,g)}function c(g){ye.call(this,t,g)}function m(g){ye.call(this,t,g)}const b=()=>{Jt(a,s=!0,s)},y=()=>{Jt(a,s=!1,s)};return t.$$set=g=>{"defaultEdgeOptions"in g&&n(6,l=g.defaultEdgeOptions)},[i,o,s,r,a,f,l,h,d,c,m,b,y]}class Nr extends de{constructor(e){super(),he(this,e,Ir,vr,me,{defaultEdgeOptions:6})}}function zi(t){let e;return{c(){e=Be("div"),this.h()},l(n){e=Le(n,"DIV",{class:!0}),ie(e).forEach(T),this.h()},h(){E(e,"class","svelte-flow__selection svelte-1iugwpu"),le(e,"width",typeof t[2]=="string"?t[2]:`${t[2]}px`),le(e,"height",typeof t[3]=="string"?t[3]:`${t[3]}px`),le(e,"transform",`translate(${t[0]}px, ${t[1]}px)`)},m(n,i){j(n,e,i)},p(n,i){i&4&&le(e,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&le(e,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&le(e,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&T(e)}}}function Vr(t){let e,n=t[4]&&zi(t);return{c(){n&&n.c(),e=Me()},l(i){n&&n.l(i),e=Me()},m(i,o){n&&n.m(i,o),j(i,e,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=zi(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:ke,o:ke,d(i){i&&T(e),n&&n.d(i)}}}function Ar(t,e,n){let{x:i=0}=e,{y:o=0}=e,{width:s=0}=e,{height:l=0}=e,{isVisible:r=!0}=e;return t.$$set=a=>{"x"in a&&n(0,i=a.x),"y"in a&&n(1,o=a.y),"width"in a&&n(2,s=a.width),"height"in a&&n(3,l=a.height),"isVisible"in a&&n(4,r=a.isVisible)},[i,o,s,l,r]}class zo extends de{constructor(e){super(),he(this,e,Ar,Vr,me,{x:0,y:1,width:2,height:3,isVisible:4})}}function Yr(t){var i,o,s,l;let e,n;return e=new zo({props:{isVisible:!!(t[0]&&t[1]==="user"),width:(i=t[0])==null?void 0:i.width,height:(o=t[0])==null?void 0:o.height,x:(s=t[0])==null?void 0:s.x,y:(l=t[0])==null?void 0:l.y}}),{c(){se(e.$$.fragment)},l(r){ce(e.$$.fragment,r)},m(r,a){re(e,r,a),n=!0},p(r,[a]){var f,h,d,c;const u={};a&3&&(u.isVisible=!!(r[0]&&r[1]==="user")),a&1&&(u.width=(f=r[0])==null?void 0:f.width),a&1&&(u.height=(h=r[0])==null?void 0:h.height),a&1&&(u.x=(d=r[0])==null?void 0:d.x),a&1&&(u.y=(c=r[0])==null?void 0:c.y),e.$set(u)},i(r){n||(V(e.$$.fragment,r),n=!0)},o(r){W(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function Xr(t,e,n){let i,o;const{selectionRect:s,selectionRectMode:l}=Ne();return F(t,s,r=>n(0,i=r)),F(t,l,r=>n(1,o=r)),[i,o,s,l]}class Wr extends de{constructor(e){super(),he(this,e,Xr,Yr,me,{})}}function Mi(t){let e,n,i,o,s;return n=new zo({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){e=Be("div"),se(n.$$.fragment),this.h()},l(l){e=Le(l,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var r=ie(e);ce(n.$$.fragment,r),r.forEach(T),this.h()},h(){E(e,"class","selection-wrapper nopan svelte-5pxri"),le(e,"width",t[1].width+"px"),le(e,"height",t[1].height+"px"),le(e,"transform","translate("+t[1].x+"px, "+t[1].y+"px)"),E(e,"role","button"),E(e,"tabindex","-1")},m(l,r){j(l,e,r),re(n,e,null),i=!0,o||(s=[Fe(Eo.call(null,e,{disabled:!1,store:t[2],onDrag:t[11],onDragStart:t[12],onDragStop:t[13]})),He(e,"contextmenu",t[7]),He(e,"click",t[8]),He(e,"keyup",Lr)],o=!0)},p(l,r){(!i||r&2)&&le(e,"width",l[1].width+"px"),(!i||r&2)&&le(e,"height",l[1].height+"px"),(!i||r&2)&&le(e,"transform","translate("+l[1].x+"px, "+l[1].y+"px)")},i(l){i||(V(n.$$.fragment,l),i=!0)},o(l){W(n.$$.fragment,l),i=!1},d(l){l&&T(e),ae(n),o=!1,yt(s)}}}function Br(t){let e=t[0]==="nodes"&&t[1]&&tt(t[1].x)&&tt(t[1].y),n,i,o=e&&Mi(t);return{c(){o&&o.c(),n=Me()},l(s){o&&o.l(s),n=Me()},m(s,l){o&&o.m(s,l),j(s,n,l),i=!0},p(s,[l]){l&3&&(e=s[0]==="nodes"&&s[1]&&tt(s[1].x)&&tt(s[1].y)),e?o?(o.p(s,l),l&3&&V(o,1)):(o=Mi(s),o.c(),V(o,1),o.m(n.parentNode,n)):o&&(Ae(),W(o,1,1,()=>{o=null}),Ye())},i(s){i||(V(o),i=!0)},o(s){W(o),i=!1},d(s){s&&T(n),o&&o.d(s)}}}const Lr=()=>{};function Kr(t,e,n){let i,o,s;const l=Ne(),{selectionRectMode:r,nodes:a,nodeLookup:u}=l;F(t,r,g=>n(0,s=g)),F(t,a,g=>n(9,i=g)),F(t,u,g=>n(10,o=g));const f=rn();let h=null;function d(g){const M=i.filter(w=>w.selected);f("selectioncontextmenu",{nodes:M,event:g})}function c(g){const M=i.filter(w=>w.selected);f("selectionclick",{nodes:M,event:g})}const m=(g,M,w,C)=>{f("nodedrag",{event:g,targetNode:null,nodes:C})},b=(g,M,w,C)=>{f("nodedragstart",{event:g,targetNode:null,nodes:C})},y=(g,M,w,C)=>{f("nodedragstop",{event:g,targetNode:null,nodes:C})};return t.$$.update=()=>{t.$$.dirty&1537&&s==="nodes"&&n(1,h=Lt(o,{filter:g=>!!g.selected}))},[s,h,l,r,a,u,f,d,c,i,o,m,b,y]}class Rr extends de{constructor(e){super(),he(this,e,Kr,Br,me,{})}}function ot(t,e){let{enabled:n=!0,trigger:i,type:o="keydown"}=e;function s(l){const r=Array.isArray(i)?i:[i],a={alt:l.altKey,ctrl:l.ctrlKey,shift:l.shiftKey,meta:l.metaKey};for(const u of r){const f={modifier:[],preventDefault:!1,enabled:!0,...u},{modifier:h,key:d,callback:c,preventDefault:m,enabled:b}=f;if(b){if(h.length&&!(Array.isArray(h)?h:[h]).map(M=>typeof M=="string"?[M]:M).some(M=>M.every(w=>a[w])))continue;if(l.key===d){m&&l.preventDefault();const y={node:t,trigger:f,originalEvent:l};t.dispatchEvent(new CustomEvent("shortcut",{detail:y})),c==null||c(y)}}}}return n&&t.addEventListener(o,s),{update:l=>{const{enabled:r=!0,type:a="keydown"}=l;n&&(!r||o!==a)?t.removeEventListener(o,s):!n&&r&&t.addEventListener(a,s),n=r,o=a,i=l.trigger},destroy:()=>{t.removeEventListener(o,s)}}}function Zr(t){let e,n,i,o,s,l,r,a,u,f,h,d;return{c:ke,l:ke,m(c,m){h||(d=[Fe(e=ot.call(null,window,{trigger:Ie(t[0],t[11]),type:"keydown"})),Fe(n=ot.call(null,window,{trigger:Ie(t[0],t[12]),type:"keyup"})),Fe(i=ot.call(null,window,{trigger:Ie(t[1],t[13]),type:"keydown"})),Fe(o=ot.call(null,window,{trigger:Ie(t[1],t[14]),type:"keyup"})),Fe(s=ot.call(null,window,{trigger:Ie(t[2],t[15]),type:"keydown"})),Fe(l=ot.call(null,window,{trigger:Ie(t[2],t[16]),type:"keyup"})),Fe(r=ot.call(null,window,{trigger:Ie(t[3],t[17]),type:"keydown"})),Fe(a=ot.call(null,window,{trigger:Ie(t[3],t[18]),type:"keyup"})),Fe(u=ot.call(null,window,{trigger:Ie(t[4],t[19]),type:"keydown"})),Fe(f=ot.call(null,window,{trigger:Ie(t[4],t[20]),type:"keyup"})),He(window,"blur",t[10]),He(window,"contextmenu",t[10])],h=!0)},p(c,[m]){e&&Ve(e.update)&&m&1&&e.update.call(null,{trigger:Ie(c[0],c[11]),type:"keydown"}),n&&Ve(n.update)&&m&1&&n.update.call(null,{trigger:Ie(c[0],c[12]),type:"keyup"}),i&&Ve(i.update)&&m&2&&i.update.call(null,{trigger:Ie(c[1],c[13]),type:"keydown"}),o&&Ve(o.update)&&m&2&&o.update.call(null,{trigger:Ie(c[1],c[14]),type:"keyup"}),s&&Ve(s.update)&&m&4&&s.update.call(null,{trigger:Ie(c[2],c[15]),type:"keydown"}),l&&Ve(l.update)&&m&4&&l.update.call(null,{trigger:Ie(c[2],c[16]),type:"keyup"}),r&&Ve(r.update)&&m&8&&r.update.call(null,{trigger:Ie(c[3],c[17]),type:"keydown"}),a&&Ve(a.update)&&m&8&&a.update.call(null,{trigger:Ie(c[3],c[18]),type:"keyup"}),u&&Ve(u.update)&&m&16&&u.update.call(null,{trigger:Ie(c[4],c[19]),type:"keydown"}),f&&Ve(f.update)&&m&16&&f.update.call(null,{trigger:Ie(c[4],c[20]),type:"keyup"})},i:ke,o:ke,d(c){h=!1,yt(d)}}}function Mo(t){return t!==null&&typeof t=="object"}function Fr(t){return Mo(t)?t.modifier||[]:[]}function Gr(t){return t==null?"":Mo(t)?t.key:t}function Ie(t,e){return(Array.isArray(t)?t:[t]).map(i=>{const o=Gr(i);return{key:o,modifier:Fr(i),enabled:o!==null,callback:e}})}function Ur(t,e,n){let{selectionKey:i="Shift"}=e,{multiSelectionKey:o=$t()?"Meta":"Control"}=e,{deleteKey:s="Backspace"}=e,{panActivationKey:l=" "}=e,{zoomActivationKey:r=$t()?"Meta":"Control"}=e;const{selectionKeyPressed:a,multiselectionKeyPressed:u,deleteKeyPressed:f,panActivationKeyPressed:h,zoomActivationKeyPressed:d,selectionRect:c}=Ne();function m(){c.set(null),a.set(!1),u.set(!1),f.set(!1),h.set(!1),d.set(!1)}const b=()=>a.set(!0),y=()=>a.set(!1),g=()=>u.set(!0),M=()=>u.set(!1),w=O=>{!(O.originalEvent.ctrlKey||O.originalEvent.metaKey||O.originalEvent.shiftKey)&&!Dl(O.originalEvent)&&f.set(!0)},C=()=>f.set(!1),Y=()=>h.set(!0),Z=()=>h.set(!1),v=()=>d.set(!0),J=()=>d.set(!1);return t.$$set=O=>{"selectionKey"in O&&n(0,i=O.selectionKey),"multiSelectionKey"in O&&n(1,o=O.multiSelectionKey),"deleteKey"in O&&n(2,s=O.deleteKey),"panActivationKey"in O&&n(3,l=O.panActivationKey),"zoomActivationKey"in O&&n(4,r=O.zoomActivationKey)},[i,o,s,l,r,a,u,f,h,d,m,b,y,g,M,w,C,Y,Z,v,J]}class qr extends de{constructor(e){super(),he(this,e,Ur,Zr,me,{selectionKey:0,multiSelectionKey:1,deleteKey:2,panActivationKey:3,zoomActivationKey:4})}}const jr=t=>({}),Ci=t=>({});function Pi(t){let e,n,i,o;const s=t[13].connectionLine,l=qe(s,t,t[12],Ci);let r=!t[2]&&Oi(t);return{c(){e=Se("svg"),n=Se("g"),l&&l.c(),r&&r.c(),this.h()},l(a){e=Ee(a,"svg",{width:!0,height:!0,class:!0,style:!0});var u=ie(e);n=Ee(u,"g",{class:!0});var f=ie(n);l&&l.l(f),r&&r.l(f),f.forEach(T),u.forEach(T),this.h()},h(){E(n,"class",i=Ce(["svelte-flow__connection",Qn(t[3].isValid)])),E(e,"width",t[5]),E(e,"height",t[6]),E(e,"class","svelte-flow__connectionline"),E(e,"style",t[0])},m(a,u){j(a,e,u),Xe(e,n),l&&l.m(n,null),r&&r.m(n,null),o=!0},p(a,u){l&&l.p&&(!o||u&4096)&&je(l,s,a,a[12],o?Qe(s,a[12],u,jr):Je(a[12]),Ci),a[2]?r&&(r.d(1),r=null):r?r.p(a,u):(r=Oi(a),r.c(),r.m(n,null)),(!o||u&8&&i!==(i=Ce(["svelte-flow__connection",Qn(a[3].isValid)])))&&E(n,"class",i),(!o||u&32)&&E(e,"width",a[5]),(!o||u&64)&&E(e,"height",a[6]),(!o||u&1)&&E(e,"style",a[0])},i(a){o||(V(l,a),o=!0)},o(a){W(l,a),o=!1},d(a){a&&T(e),l&&l.d(a),r&&r.d()}}}function Oi(t){let e;return{c(){e=Se("path"),this.h()},l(n){e=Ee(n,"path",{d:!0,style:!0,fill:!0,class:!0}),ie(e).forEach(T),this.h()},h(){E(e,"d",t[4]),E(e,"style",t[1]),E(e,"fill","none"),E(e,"class","svelte-flow__connection-path")},m(n,i){j(n,e,i)},p(n,i){i&16&&E(e,"d",n[4]),i&2&&E(e,"style",n[1])},d(n){n&&T(e)}}}function Jr(t){let e,n,i=t[3].inProgress&&Pi(t);return{c(){i&&i.c(),e=Me()},l(o){i&&i.l(o),e=Me()},m(o,s){i&&i.m(o,s),j(o,e,s),n=!0},p(o,[s]){o[3].inProgress?i?(i.p(o,s),s&8&&V(i,1)):(i=Pi(o),i.c(),V(i,1),i.m(e.parentNode,e)):i&&(Ae(),W(i,1,1,()=>{i=null}),Ye())},i(o){n||(V(i),n=!0)},o(o){W(i),n=!1},d(o){o&&T(e),i&&i.d(o)}}}function Qr(t,e,n){let i,o,s,l,{$$slots:r={},$$scope:a}=e,{containerStyle:u=""}=e,{style:f=""}=e,{isCustomComponent:h=!1}=e;const{width:d,height:c,connection:m,connectionLineType:b}=Ne();F(t,d,g=>n(5,s=g)),F(t,c,g=>n(6,l=g)),F(t,m,g=>n(3,o=g)),F(t,b,g=>n(11,i=g));let y=null;return t.$$set=g=>{"containerStyle"in g&&n(0,u=g.containerStyle),"style"in g&&n(1,f=g.style),"isCustomComponent"in g&&n(2,h=g.isCustomComponent),"$$scope"in g&&n(12,a=g.$$scope)},t.$$.update=()=>{if(t.$$.dirty&2060&&o.inProgress&&!h){const{from:g,to:M,fromPosition:w,toPosition:C}=o,Y={sourceX:g.x,sourceY:g.y,sourcePosition:w,targetX:M.x,targetY:M.y,targetPosition:C};switch(i){case Dt.Bezier:n(4,[y]=no(Y),y);break;case Dt.Step:n(4,[y]=tn({...Y,borderRadius:0}),y);break;case Dt.SmoothStep:n(4,[y]=tn(Y),y);break;default:n(4,[y]=oo(Y),y)}}},[u,f,h,o,y,s,l,d,c,m,b,i,a,r]}class pr extends de{constructor(e){super(),he(this,e,Qr,Jr,me,{containerStyle:0,style:1,isCustomComponent:2})}}function xr(t){let e,n,i;const o=t[8].default,s=qe(o,t,t[7],null);let l=[{class:n=Ce(["svelte-flow__panel",t[1],...t[2]])},{style:t[0]},t[5]],r={};for(let a=0;a<l.length;a+=1)r=ze(r,l[a]);return{c(){e=Be("div"),s&&s.c(),this.h()},l(a){e=Le(a,"DIV",{class:!0,style:!0});var u=ie(e);s&&s.l(u),u.forEach(T),this.h()},h(){Tt(e,r),le(e,"pointer-events",t[3]?"none":"")},m(a,u){j(a,e,u),s&&s.m(e,null),i=!0},p(a,[u]){s&&s.p&&(!i||u&128)&&je(s,o,a,a[7],i?Qe(o,a[7],u,null):Je(a[7]),null),Tt(e,r=ct(l,[(!i||u&6&&n!==(n=Ce(["svelte-flow__panel",a[1],...a[2]])))&&{class:n},(!i||u&1)&&{style:a[0]},u&32&&a[5]])),le(e,"pointer-events",a[3]?"none":"")},i(a){i||(V(s,a),i=!0)},o(a){W(s,a),i=!1},d(a){a&&T(e),s&&s.d(a)}}}function $r(t,e,n){let i;const o=["position","style","class"];let s=ve(e,o),l,{$$slots:r={},$$scope:a}=e,{position:u="top-right"}=e,{style:f=void 0}=e,{class:h=void 0}=e;const{selectionRectMode:d}=Ne();return F(t,d,c=>n(3,l=c)),t.$$set=c=>{e=ze(ze({},e),nt(c)),n(5,s=ve(e,o)),"position"in c&&n(6,u=c.position),"style"in c&&n(0,f=c.style),"class"in c&&n(1,h=c.class),"$$scope"in c&&n(7,a=c.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=`${u}`.split("-"))},[f,h,i,l,d,s,u,a,r]}class Bn extends de{constructor(e){super(),he(this,e,$r,xr,me,{position:6,style:0,class:1})}}function Hi(t){let e,n;return e=new Bn({props:{position:t[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[ea]},$$scope:{ctx:t}}}),{c(){se(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,o){const s={};o&2&&(s.position=i[1]),o&4&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}function ea(t){let e,n="Svelte Flow";return{c(){e=Be("a"),e.textContent=n,this.h()},l(i){e=Le(i,"A",{href:!0,target:!0,rel:!0,"aria-label":!0,"data-svelte-h":!0}),Jo(e)!=="svelte-2vm8e4"&&(e.textContent=n),this.h()},h(){E(e,"href","https://svelteflow.dev"),E(e,"target","_blank"),E(e,"rel","noopener noreferrer"),E(e,"aria-label","Svelte Flow attribution")},m(i,o){j(i,e,o)},p:ke,d(i){i&&T(e)}}}function ta(t){var o;let e,n,i=!((o=t[0])!=null&&o.hideAttribution)&&Hi(t);return{c(){i&&i.c(),e=Me()},l(s){i&&i.l(s),e=Me()},m(s,l){i&&i.m(s,l),j(s,e,l),n=!0},p(s,[l]){var r;(r=s[0])!=null&&r.hideAttribution?i&&(Ae(),W(i,1,1,()=>{i=null}),Ye()):i?(i.p(s,l),l&1&&V(i,1)):(i=Hi(s),i.c(),V(i,1),i.m(e.parentNode,e))},i(s){n||(V(i),n=!0)},o(s){W(i),n=!1},d(s){s&&T(e),i&&i.d(s)}}}function na(t,e,n){let{proOptions:i=void 0}=e,{position:o="bottom-right"}=e;return t.$$set=s=>{"proOptions"in s&&n(0,i=s.proOptions),"position"in s&&n(1,o=s.position)},[i,o]}class ia extends de{constructor(e){super(),he(this,e,na,ta,me,{proOptions:0,position:1})}}function Di(t,{nodeTypes:e,edgeTypes:n,minZoom:i,maxZoom:o,translateExtent:s,paneClickDistance:l}){e!==void 0&&t.setNodeTypes(e),n!==void 0&&t.setEdgeTypes(n),i!==void 0&&t.setMinZoom(i),o!==void 0&&t.setMaxZoom(o),s!==void 0&&t.setTranslateExtent(s),l!==void 0&&t.setPaneClickDistance(l)}const oa=t=>Object.keys(t);function la(t,e){oa(e).forEach(n=>{const i=e[n];i!==void 0&&t[n].set(i)})}function sa(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function ra(t="light"){return $e("light",n=>{if(t!=="system"){n(t);return}const i=sa(),o=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}})}const aa=t=>({}),Ti=t=>({slot:"connectionLine"});function ua(t){let e;const n=t[73].connectionLine,i=qe(n,t,t[97],Ti);return{c(){i&&i.c()},l(o){i&&i.l(o)},m(o,s){i&&i.m(o,s),e=!0},p(o,s){i&&i.p&&(!e||s[3]&16)&&je(i,n,o,o[97],e?Qe(n,o[97],s,aa):Je(o[97]),Ti)},i(o){e||(V(i,o),e=!0)},o(o){W(i,o),e=!1},d(o){i&&i.d(o)}}}function fa(t){let e,n,i,o,s,l,r,a,u,f,h,d;return e=new Nr({props:{defaultEdgeOptions:t[21]}}),e.$on("edgeclick",t[76]),e.$on("edgecontextmenu",t[77]),e.$on("edgemouseenter",t[78]),e.$on("edgemouseleave",t[79]),i=new pr({props:{containerStyle:t[7],style:t[6],isCustomComponent:t[33].connectionLine,$$slots:{connectionLine:[ua]},$$scope:{ctx:t}}}),u=new yr({}),u.$on("nodeclick",t[80]),u.$on("nodemouseenter",t[81]),u.$on("nodemousemove",t[82]),u.$on("nodemouseleave",t[83]),u.$on("nodedragstart",t[84]),u.$on("nodedrag",t[85]),u.$on("nodedragstop",t[86]),u.$on("nodecontextmenu",t[87]),h=new Rr({}),h.$on("selectionclick",t[88]),h.$on("selectioncontextmenu",t[89]),h.$on("nodedragstart",t[90]),h.$on("nodedrag",t[91]),h.$on("nodedragstop",t[92]),{c(){se(e.$$.fragment),n=De(),se(i.$$.fragment),o=De(),s=Be("div"),l=De(),r=Be("div"),a=De(),se(u.$$.fragment),f=De(),se(h.$$.fragment),this.h()},l(c){ce(e.$$.fragment,c),n=Te(c),ce(i.$$.fragment,c),o=Te(c),s=Le(c,"DIV",{class:!0}),ie(s).forEach(T),l=Te(c),r=Le(c,"DIV",{class:!0}),ie(r).forEach(T),a=Te(c),ce(u.$$.fragment,c),f=Te(c),ce(h.$$.fragment,c),this.h()},h(){E(s,"class","svelte-flow__edgelabel-renderer"),E(r,"class","svelte-flow__viewport-portal")},m(c,m){re(e,c,m),j(c,n,m),re(i,c,m),j(c,o,m),j(c,s,m),j(c,l,m),j(c,r,m),j(c,a,m),re(u,c,m),j(c,f,m),re(h,c,m),d=!0},p(c,m){const b={};m[0]&2097152&&(b.defaultEdgeOptions=c[21]),e.$set(b);const y={};m[0]&128&&(y.containerStyle=c[7]),m[0]&64&&(y.style=c[6]),m[1]&4&&(y.isCustomComponent=c[33].connectionLine),m[3]&16&&(y.$$scope={dirty:m,ctx:c}),i.$set(y)},i(c){d||(V(e.$$.fragment,c),V(i.$$.fragment,c),V(u.$$.fragment,c),V(h.$$.fragment,c),d=!0)},o(c){W(e.$$.fragment,c),W(i.$$.fragment,c),W(u.$$.fragment,c),W(h.$$.fragment,c),d=!1},d(c){c&&(T(n),T(o),T(s),T(l),T(r),T(a),T(f)),ae(e,c),ae(i,c),ae(u,c),ae(h,c)}}}function ca(t){let e,n,i,o;return e=new ur({props:{$$slots:{default:[fa]},$$scope:{ctx:t}}}),i=new Wr({}),{c(){se(e.$$.fragment),n=De(),se(i.$$.fragment)},l(s){ce(e.$$.fragment,s),n=Te(s),ce(i.$$.fragment,s)},m(s,l){re(e,s,l),j(s,n,l),re(i,s,l),o=!0},p(s,l){const r={};l[0]&2097344|l[1]&4|l[3]&16&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){o||(V(e.$$.fragment,s),V(i.$$.fragment,s),o=!0)},o(s){W(e.$$.fragment,s),W(i.$$.fragment,s),o=!1},d(s){s&&T(n),ae(e,s),ae(i,s)}}}function da(t){let e,n;return e=new sr({props:{panOnDrag:t[17]===void 0?!0:t[17],selectionOnDrag:t[18],$$slots:{default:[ca]},$$scope:{ctx:t}}}),e.$on("paneclick",t[93]),e.$on("panecontextmenu",t[94]),{c(){se(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,o){const s={};o[0]&131072&&(s.panOnDrag=i[17]===void 0?!0:i[17]),o[0]&262144&&(s.selectionOnDrag=i[18]),o[0]&2097344|o[1]&4|o[3]&16&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}function ha(t){let e,n,i,o,s,l,r,a,u,f,h,d;n=new qr({props:{selectionKey:t[1],deleteKey:t[5],panActivationKey:t[2],multiSelectionKey:t[3],zoomActivationKey:t[4]}}),o=new ir({props:{initialViewport:t[30],onMoveStart:t[8],onMove:t[9],onMoveEnd:t[10],panOnScrollMode:t[11]===void 0?lt.Free:t[11],preventScrolling:t[12]===void 0?!0:t[12],zoomOnScroll:t[13]===void 0?!0:t[13],zoomOnDoubleClick:t[14]===void 0?!0:t[14],zoomOnPinch:t[15]===void 0?!0:t[15],panOnScroll:t[16]===void 0?!1:t[16],panOnDrag:t[17]===void 0?!0:t[17],paneClickDistance:t[22]===void 0?0:t[22],$$slots:{default:[da]},$$scope:{ctx:t}}}),l=new ia({props:{proOptions:t[20],position:t[19]}});const c=t[73].default,m=qe(c,t,t[97],null);let b=[{style:t[23]},{class:a=Ce(["svelte-flow",t[24],t[29]])},{"data-testid":"svelte-flow__wrapper"},t[32],{role:"application"}],y={};for(let g=0;g<b.length;g+=1)y=ze(y,b[g]);return{c(){e=Be("div"),se(n.$$.fragment),i=De(),se(o.$$.fragment),s=De(),se(l.$$.fragment),r=De(),m&&m.c(),this.h()},l(g){e=Le(g,"DIV",{style:!0,class:!0,"data-testid":!0,role:!0});var M=ie(e);ce(n.$$.fragment,M),i=Te(M),ce(o.$$.fragment,M),s=Te(M),ce(l.$$.fragment,M),r=Te(M),m&&m.l(M),M.forEach(T),this.h()},h(){Tt(e,y),Qo(()=>t[96].call(e)),ne(e,"svelte-12wlba6",!0)},m(g,M){j(g,e,M),re(n,e,null),Xe(e,i),re(o,e,null),Xe(e,s),re(l,e,null),Xe(e,r),m&&m.m(e,null),t[95](e),u=po(e,t[96].bind(e)),f=!0,h||(d=[He(e,"dragover",t[74]),He(e,"drop",t[75])],h=!0)},p(g,M){const w={};M[0]&2&&(w.selectionKey=g[1]),M[0]&32&&(w.deleteKey=g[5]),M[0]&4&&(w.panActivationKey=g[2]),M[0]&8&&(w.multiSelectionKey=g[3]),M[0]&16&&(w.zoomActivationKey=g[4]),n.$set(w);const C={};M[0]&256&&(C.onMoveStart=g[8]),M[0]&512&&(C.onMove=g[9]),M[0]&1024&&(C.onMoveEnd=g[10]),M[0]&2048&&(C.panOnScrollMode=g[11]===void 0?lt.Free:g[11]),M[0]&4096&&(C.preventScrolling=g[12]===void 0?!0:g[12]),M[0]&8192&&(C.zoomOnScroll=g[13]===void 0?!0:g[13]),M[0]&16384&&(C.zoomOnDoubleClick=g[14]===void 0?!0:g[14]),M[0]&32768&&(C.zoomOnPinch=g[15]===void 0?!0:g[15]),M[0]&65536&&(C.panOnScroll=g[16]===void 0?!1:g[16]),M[0]&131072&&(C.panOnDrag=g[17]===void 0?!0:g[17]),M[0]&4194304&&(C.paneClickDistance=g[22]===void 0?0:g[22]),M[0]&2490560|M[1]&4|M[3]&16&&(C.$$scope={dirty:M,ctx:g}),o.$set(C);const Y={};M[0]&1048576&&(Y.proOptions=g[20]),M[0]&524288&&(Y.position=g[19]),l.$set(Y),m&&m.p&&(!f||M[3]&16)&&je(m,c,g,g[97],f?Qe(c,g[97],M,null):Je(g[97]),null),Tt(e,y=ct(b,[(!f||M[0]&8388608)&&{style:g[23]},(!f||M[0]&553648128&&a!==(a=Ce(["svelte-flow",g[24],g[29]])))&&{class:a},{"data-testid":"svelte-flow__wrapper"},M[1]&2&&g[32],{role:"application"}])),ne(e,"svelte-12wlba6",!0)},i(g){f||(V(n.$$.fragment,g),V(o.$$.fragment,g),V(l.$$.fragment,g),V(m,g),f=!0)},o(g){W(n.$$.fragment,g),W(o.$$.fragment,g),W(l.$$.fragment,g),W(m,g),f=!1},d(g){g&&T(e),ae(n),ae(o),ae(l),m&&m.d(g),t[95](null),u(),h=!1,yt(d)}}}function ga(t,e,n){let i;const o=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","nodeOrigin","paneClickDistance","defaultMarkerColor","style","class"];let s=ve(e,o),l,r,a=ke,u=()=>(a(),a=Zn(J,z=>n(98,r=z)),J),f,h=ke,d=()=>(h(),h=Zn(i,z=>n(29,f=z)),i);t.$$.on_destroy.push(()=>a()),t.$$.on_destroy.push(()=>h());let{$$slots:c={},$$scope:m}=e;const b=xo(c);let{id:y="1"}=e,{nodes:g}=e,{edges:M}=e,{fitView:w=void 0}=e,{fitViewOptions:C=void 0}=e,{minZoom:Y=void 0}=e,{maxZoom:Z=void 0}=e,{initialViewport:v=void 0}=e,{viewport:J=void 0}=e;u();let{nodeTypes:O=void 0}=e,{edgeTypes:K=void 0}=e,{selectionKey:q=void 0}=e,{selectionMode:$=void 0}=e,{panActivationKey:N=void 0}=e,{multiSelectionKey:_=void 0}=e,{zoomActivationKey:k=void 0}=e,{nodesDraggable:S=void 0}=e,{nodesConnectable:P=void 0}=e,{nodeDragThreshold:D=void 0}=e,{elementsSelectable:A=void 0}=e,{snapGrid:X=void 0}=e,{deleteKey:G=void 0}=e,{connectionRadius:R=void 0}=e,{connectionLineType:I=void 0}=e,{connectionMode:x=kt.Strict}=e,{connectionLineStyle:ge=""}=e,{connectionLineContainerStyle:be=""}=e,{onMoveStart:H=void 0}=e,{onMove:ee=void 0}=e,{onMoveEnd:ue=void 0}=e,{isValidConnection:oe=void 0}=e,{translateExtent:_e=void 0}=e,{onlyRenderVisibleElements:we=void 0}=e,{panOnScrollMode:Pe=lt.Free}=e,{preventScrolling:B=!0}=e,{zoomOnScroll:We=!0}=e,{zoomOnDoubleClick:Oe=!0}=e,{zoomOnPinch:st=!0}=e,{panOnScroll:rt=!1}=e,{panOnDrag:at=!0}=e,{selectionOnDrag:Ke=void 0}=e,{autoPanOnConnect:it=!0}=e,{autoPanOnNodeDrag:p=!0}=e,{onerror:dt=void 0}=e,{ondelete:L=void 0}=e,{onedgecreate:ht=void 0}=e,{attributionPosition:Re=void 0}=e,{proOptions:Ge=void 0}=e,{defaultEdgeOptions:Q=void 0}=e,{width:ut=void 0}=e,{height:Ue=void 0}=e,{colorMode:pe="light"}=e,{onconnect:wt=void 0}=e,{onconnectstart:St=void 0}=e,{onconnectend:Et=void 0}=e,{onbeforedelete:zt=void 0}=e,{oninit:gt=void 0}=e,{nodeOrigin:_t=void 0}=e,{paneClickDistance:Kt=0}=e,{defaultMarkerColor:gn="#b1b1b7"}=e,{style:Ln=void 0}=e,{class:Kn=void 0}=e,Rt,Mt,Ct;const Co=r||v,Ze=$o(Wn)?Ne():$s({nodes:U(g),edges:U(M),width:ut,height:Ue,fitView:w,nodeOrigin:_t});sn(()=>(Ze.width.set(Mt),Ze.height.set(Ct),Ze.domNode.set(Rt),Ze.syncNodeStores(g),Ze.syncEdgeStores(M),Ze.syncViewport(J),w!==void 0&&Ze.fitViewOnInit.set(w),C&&Ze.fitViewOptions.set(C),Di(Ze,{nodeTypes:O,edgeTypes:K,minZoom:Y,maxZoom:Z,translateExtent:_e,paneClickDistance:Kt}),()=>{Ze.reset()}));const{initialized:Rn}=Ze;F(t,Rn,z=>n(72,l=z));let mn=!1;function Po(z){ye.call(this,t,z)}function Oo(z){ye.call(this,t,z)}function Ho(z){ye.call(this,t,z)}function Do(z){ye.call(this,t,z)}function To(z){ye.call(this,t,z)}function vo(z){ye.call(this,t,z)}function Io(z){ye.call(this,t,z)}function No(z){ye.call(this,t,z)}function Vo(z){ye.call(this,t,z)}function Ao(z){ye.call(this,t,z)}function Yo(z){ye.call(this,t,z)}function Xo(z){ye.call(this,t,z)}function Wo(z){ye.call(this,t,z)}function Bo(z){ye.call(this,t,z)}function Lo(z){ye.call(this,t,z)}function Ko(z){ye.call(this,t,z)}function Ro(z){ye.call(this,t,z)}function Zo(z){ye.call(this,t,z)}function Fo(z){ye.call(this,t,z)}function Go(z){ye.call(this,t,z)}function Uo(z){ye.call(this,t,z)}function qo(z){In[z?"unshift":"push"](()=>{Rt=z,n(27,Rt)})}function jo(){Mt=this.clientWidth,Ct=this.clientHeight,n(25,Mt),n(26,Ct)}return t.$$set=z=>{e=ze(ze({},e),nt(z)),n(32,s=ve(e,o)),"id"in z&&n(34,y=z.id),"nodes"in z&&n(35,g=z.nodes),"edges"in z&&n(36,M=z.edges),"fitView"in z&&n(37,w=z.fitView),"fitViewOptions"in z&&n(38,C=z.fitViewOptions),"minZoom"in z&&n(39,Y=z.minZoom),"maxZoom"in z&&n(40,Z=z.maxZoom),"initialViewport"in z&&n(41,v=z.initialViewport),"viewport"in z&&u(n(0,J=z.viewport)),"nodeTypes"in z&&n(42,O=z.nodeTypes),"edgeTypes"in z&&n(43,K=z.edgeTypes),"selectionKey"in z&&n(1,q=z.selectionKey),"selectionMode"in z&&n(44,$=z.selectionMode),"panActivationKey"in z&&n(2,N=z.panActivationKey),"multiSelectionKey"in z&&n(3,_=z.multiSelectionKey),"zoomActivationKey"in z&&n(4,k=z.zoomActivationKey),"nodesDraggable"in z&&n(45,S=z.nodesDraggable),"nodesConnectable"in z&&n(46,P=z.nodesConnectable),"nodeDragThreshold"in z&&n(47,D=z.nodeDragThreshold),"elementsSelectable"in z&&n(48,A=z.elementsSelectable),"snapGrid"in z&&n(49,X=z.snapGrid),"deleteKey"in z&&n(5,G=z.deleteKey),"connectionRadius"in z&&n(50,R=z.connectionRadius),"connectionLineType"in z&&n(51,I=z.connectionLineType),"connectionMode"in z&&n(52,x=z.connectionMode),"connectionLineStyle"in z&&n(6,ge=z.connectionLineStyle),"connectionLineContainerStyle"in z&&n(7,be=z.connectionLineContainerStyle),"onMoveStart"in z&&n(8,H=z.onMoveStart),"onMove"in z&&n(9,ee=z.onMove),"onMoveEnd"in z&&n(10,ue=z.onMoveEnd),"isValidConnection"in z&&n(53,oe=z.isValidConnection),"translateExtent"in z&&n(54,_e=z.translateExtent),"onlyRenderVisibleElements"in z&&n(55,we=z.onlyRenderVisibleElements),"panOnScrollMode"in z&&n(11,Pe=z.panOnScrollMode),"preventScrolling"in z&&n(12,B=z.preventScrolling),"zoomOnScroll"in z&&n(13,We=z.zoomOnScroll),"zoomOnDoubleClick"in z&&n(14,Oe=z.zoomOnDoubleClick),"zoomOnPinch"in z&&n(15,st=z.zoomOnPinch),"panOnScroll"in z&&n(16,rt=z.panOnScroll),"panOnDrag"in z&&n(17,at=z.panOnDrag),"selectionOnDrag"in z&&n(18,Ke=z.selectionOnDrag),"autoPanOnConnect"in z&&n(56,it=z.autoPanOnConnect),"autoPanOnNodeDrag"in z&&n(57,p=z.autoPanOnNodeDrag),"onerror"in z&&n(58,dt=z.onerror),"ondelete"in z&&n(59,L=z.ondelete),"onedgecreate"in z&&n(60,ht=z.onedgecreate),"attributionPosition"in z&&n(19,Re=z.attributionPosition),"proOptions"in z&&n(20,Ge=z.proOptions),"defaultEdgeOptions"in z&&n(21,Q=z.defaultEdgeOptions),"width"in z&&n(61,ut=z.width),"height"in z&&n(62,Ue=z.height),"colorMode"in z&&n(63,pe=z.colorMode),"onconnect"in z&&n(64,wt=z.onconnect),"onconnectstart"in z&&n(65,St=z.onconnectstart),"onconnectend"in z&&n(66,Et=z.onconnectend),"onbeforedelete"in z&&n(67,zt=z.onbeforedelete),"oninit"in z&&n(68,gt=z.oninit),"nodeOrigin"in z&&n(69,_t=z.nodeOrigin),"paneClickDistance"in z&&n(22,Kt=z.paneClickDistance),"defaultMarkerColor"in z&&n(70,gn=z.defaultMarkerColor),"style"in z&&n(23,Ln=z.style),"class"in z&&n(24,Kn=z.class),"$$scope"in z&&n(97,m=z.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&100663296&&Mt!==void 0&&Ct!==void 0&&(Ze.width.set(Mt),Ze.height.set(Ct)),t.$$.dirty[2]&1600&&!mn&&l&&(gt==null||gt(),n(71,mn=!0)),t.$$.dirty[1]&1065345032|t.$$.dirty[2]&444&&la(Ze,{flowId:y,connectionLineType:I,connectionRadius:R,selectionMode:$,snapGrid:X,defaultMarkerColor:gn,nodesDraggable:S,nodesConnectable:P,elementsSelectable:A,onlyRenderVisibleElements:we,isValidConnection:oe,autoPanOnConnect:it,autoPanOnNodeDrag:p,onerror:dt,ondelete:L,onedgecreate:ht,connectionMode:x,nodeDragThreshold:D,onconnect:wt,onconnectstart:St,onconnectend:Et,onbeforedelete:zt,nodeOrigin:_t}),t.$$.dirty[0]&4194304|t.$$.dirty[1]&8395520&&Di(Ze,{nodeTypes:O,edgeTypes:K,minZoom:Y,maxZoom:Z,translateExtent:_e,paneClickDistance:Kt}),t.$$.dirty[2]&2&&d(n(28,i=ra(pe)))},[J,q,N,_,k,G,ge,be,H,ee,ue,Pe,B,We,Oe,st,rt,at,Ke,Re,Ge,Q,Kt,Ln,Kn,Mt,Ct,Rt,i,f,Co,Rn,s,b,y,g,M,w,C,Y,Z,v,O,K,$,S,P,D,A,X,R,I,x,oe,_e,we,it,p,dt,L,ht,ut,Ue,pe,wt,St,Et,zt,gt,_t,gn,mn,l,c,Po,Oo,Ho,Do,To,vo,Io,No,Vo,Ao,Yo,Xo,Wo,Bo,Lo,Ko,Ro,Zo,Fo,Go,Uo,qo,jo,m]}class gu extends de{constructor(e){super(),he(this,e,ga,ha,me,{id:34,nodes:35,edges:36,fitView:37,fitViewOptions:38,minZoom:39,maxZoom:40,initialViewport:41,viewport:0,nodeTypes:42,edgeTypes:43,selectionKey:1,selectionMode:44,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:45,nodesConnectable:46,nodeDragThreshold:47,elementsSelectable:48,snapGrid:49,deleteKey:5,connectionRadius:50,connectionLineType:51,connectionMode:52,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:53,translateExtent:54,onlyRenderVisibleElements:55,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:56,autoPanOnNodeDrag:57,onerror:58,ondelete:59,onedgecreate:60,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:61,height:62,colorMode:63,onconnect:64,onconnectstart:65,onconnectend:66,onbeforedelete:67,oninit:68,nodeOrigin:69,paneClickDistance:22,defaultMarkerColor:70,style:23,class:24},null,[-1,-1,-1,-1])}}const ma=t=>({}),vi=t=>({class:"button-svg"});function ba(t){let e,n,i,o,s;const l=t[8].default,r=qe(l,t,t[7],vi);let a=[{type:"button"},{class:n=Ce(["svelte-flow__controls-button",t[0]])},t[6]],u={};for(let f=0;f<a.length;f+=1)u=ze(u,a[f]);return{c(){e=Be("button"),r&&r.c(),this.h()},l(f){e=Le(f,"BUTTON",{type:!0,class:!0});var h=ie(e);r&&r.l(h),h.forEach(T),this.h()},h(){Tt(e,u),le(e,"--xy-controls-button-background-color-props",t[1]),le(e,"--xy-controls-button-background-color-hover-props",t[2]),le(e,"--xy-controls-button-color-props",t[3]),le(e,"--xy-controls-button-color-hover-props",t[4]),le(e,"--xy-controls-button-border-color-props",t[5])},m(f,h){j(f,e,h),r&&r.m(e,null),e.autofocus&&e.focus(),i=!0,o||(s=He(e,"click",t[9]),o=!0)},p(f,[h]){r&&r.p&&(!i||h&128)&&je(r,l,f,f[7],i?Qe(l,f[7],h,ma):Je(f[7]),vi),Tt(e,u=ct(a,[{type:"button"},(!i||h&1&&n!==(n=Ce(["svelte-flow__controls-button",f[0]])))&&{class:n},h&64&&f[6]])),le(e,"--xy-controls-button-background-color-props",f[1]),le(e,"--xy-controls-button-background-color-hover-props",f[2]),le(e,"--xy-controls-button-color-props",f[3]),le(e,"--xy-controls-button-color-hover-props",f[4]),le(e,"--xy-controls-button-border-color-props",f[5])},i(f){i||(V(r,f),i=!0)},o(f){W(r,f),i=!1},d(f){f&&T(e),r&&r.d(f),o=!1,s()}}}function ya(t,e,n){const i=["class"];let o=ve(e,i),{$$slots:s={},$$scope:l}=e,{class:r=void 0}=e,a,u,f,h,d;function c(m){ye.call(this,t,m)}return t.$$set=m=>{e=ze(ze({},e),nt(m)),n(6,o=ve(e,i)),"class"in m&&n(0,r=m.class),"$$scope"in m&&n(7,l=m.$$scope)},[r,a,u,f,h,d,o,l,s,c]}class ln extends de{constructor(e){super(),he(this,e,ya,ba,me,{class:0})}}function _a(t){let e,n;return{c(){e=Se("svg"),n=Se("path"),this.h()},l(i){e=Ee(i,"svg",{xmlns:!0,viewBox:!0});var o=ie(e);n=Ee(o,"path",{d:!0}),ie(n).forEach(T),o.forEach(T),this.h()},h(){E(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 32 32")},m(i,o){j(i,e,o),Xe(e,n)},p:ke,i:ke,o:ke,d(i){i&&T(e)}}}class ka extends de{constructor(e){super(),he(this,e,null,_a,me,{})}}function wa(t){let e,n;return{c(){e=Se("svg"),n=Se("path"),this.h()},l(i){e=Ee(i,"svg",{xmlns:!0,viewBox:!0});var o=ie(e);n=Ee(o,"path",{d:!0}),ie(n).forEach(T),o.forEach(T),this.h()},h(){E(n,"d","M0 0h32v4.2H0z"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 32 5")},m(i,o){j(i,e,o),Xe(e,n)},p:ke,i:ke,o:ke,d(i){i&&T(e)}}}class Sa extends de{constructor(e){super(),he(this,e,null,wa,me,{})}}function Ea(t){let e,n;return{c(){e=Se("svg"),n=Se("path"),this.h()},l(i){e=Ee(i,"svg",{xmlns:!0,viewBox:!0});var o=ie(e);n=Ee(o,"path",{d:!0}),ie(n).forEach(T),o.forEach(T),this.h()},h(){E(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 32 30")},m(i,o){j(i,e,o),Xe(e,n)},p:ke,i:ke,o:ke,d(i){i&&T(e)}}}class za extends de{constructor(e){super(),he(this,e,null,Ea,me,{})}}function Ma(t){let e,n;return{c(){e=Se("svg"),n=Se("path"),this.h()},l(i){e=Ee(i,"svg",{xmlns:!0,viewBox:!0});var o=ie(e);n=Ee(o,"path",{d:!0}),ie(n).forEach(T),o.forEach(T),this.h()},h(){E(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 25 32")},m(i,o){j(i,e,o),Xe(e,n)},p:ke,i:ke,o:ke,d(i){i&&T(e)}}}class Ca extends de{constructor(e){super(),he(this,e,null,Ma,me,{})}}function Pa(t){let e,n;return{c(){e=Se("svg"),n=Se("path"),this.h()},l(i){e=Ee(i,"svg",{xmlns:!0,viewBox:!0});var o=ie(e);n=Ee(o,"path",{d:!0}),ie(n).forEach(T),o.forEach(T),this.h()},h(){E(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 25 32")},m(i,o){j(i,e,o),Xe(e,n)},p:ke,i:ke,o:ke,d(i){i&&T(e)}}}class Oa extends de{constructor(e){super(),he(this,e,null,Pa,me,{})}}const Ha=t=>({}),Ii=t=>({}),Da=t=>({}),Ni=t=>({});function Vi(t){let e,n,i,o;const s=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:t[9]},t[17]];let l={$$slots:{default:[Ta]},$$scope:{ctx:t}};for(let u=0;u<s.length;u+=1)l=ze(l,s[u]);e=new ln({props:l}),e.$on("click",t[18]);const r=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:t[10]},t[17]];let a={$$slots:{default:[va]},$$scope:{ctx:t}};for(let u=0;u<r.length;u+=1)a=ze(a,r[u]);return i=new ln({props:a}),i.$on("click",t[19]),{c(){se(e.$$.fragment),n=De(),se(i.$$.fragment)},l(u){ce(e.$$.fragment,u),n=Te(u),ce(i.$$.fragment,u)},m(u,f){re(e,u,f),j(u,n,f),re(i,u,f),o=!0},p(u,f){const h=f[0]&131584?ct(s,[s[0],s[1],s[2],f[0]&512&&{disabled:u[9]},f[0]&131072&&vt(u[17])]):{};f[1]&32&&(h.$$scope={dirty:f,ctx:u}),e.$set(h);const d=f[0]&132096?ct(r,[r[0],r[1],r[2],f[0]&1024&&{disabled:u[10]},f[0]&131072&&vt(u[17])]):{};f[1]&32&&(d.$$scope={dirty:f,ctx:u}),i.$set(d)},i(u){o||(V(e.$$.fragment,u),V(i.$$.fragment,u),o=!0)},o(u){W(e.$$.fragment,u),W(i.$$.fragment,u),o=!1},d(u){u&&T(n),ae(e,u),ae(i,u)}}}function Ta(t){let e,n;return e=new ka({}),{c(){se(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}function va(t){let e,n;return e=new Sa({}),{c(){se(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}function Ai(t){let e,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},t[17]];let o={$$slots:{default:[Ia]},$$scope:{ctx:t}};for(let s=0;s<i.length;s+=1)o=ze(o,i[s]);return e=new ln({props:o}),e.$on("click",t[20]),{c(){se(e.$$.fragment)},l(s){ce(e.$$.fragment,s)},m(s,l){re(e,s,l),n=!0},p(s,l){const r=l[0]&131072?ct(i,[i[0],i[1],i[2],vt(s[17])]):{};l[1]&32&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){n||(V(e.$$.fragment,s),n=!0)},o(s){W(e.$$.fragment,s),n=!1},d(s){ae(e,s)}}}function Ia(t){let e,n;return e=new za({}),{c(){se(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}function Yi(t){let e,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},t[17]];let o={$$slots:{default:[Aa]},$$scope:{ctx:t}};for(let s=0;s<i.length;s+=1)o=ze(o,i[s]);return e=new ln({props:o}),e.$on("click",t[21]),{c(){se(e.$$.fragment)},l(s){ce(e.$$.fragment,s)},m(s,l){re(e,s,l),n=!0},p(s,l){const r=l[0]&131072?ct(i,[i[0],i[1],i[2],vt(s[17])]):{};l[0]&256|l[1]&32&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){n||(V(e.$$.fragment,s),n=!0)},o(s){W(e.$$.fragment,s),n=!1},d(s){ae(e,s)}}}function Na(t){let e,n;return e=new Ca({}),{c(){se(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}function Va(t){let e,n;return e=new Oa({}),{c(){se(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}function Aa(t){let e,n,i,o;const s=[Va,Na],l=[];function r(a,u){return a[8]?0:1}return e=r(t),n=l[e]=s[e](t),{c(){n.c(),i=Me()},l(a){n.l(a),i=Me()},m(a,u){l[e].m(a,u),j(a,i,u),o=!0},p(a,u){let f=e;e=r(a),e!==f&&(Ae(),W(l[f],1,1,()=>{l[f]=null}),Ye(),n=l[e],n||(n=l[e]=s[e](a),n.c()),V(n,1),n.m(i.parentNode,i))},i(a){o||(V(n),o=!0)},o(a){W(n),o=!1},d(a){a&&T(i),l[e].d(a)}}}function Ya(t){let e,n,i,o,s,l;const r=t[35].before,a=qe(r,t,t[36],Ni);let u=t[1]&&Vi(t),f=t[2]&&Ai(t),h=t[3]&&Yi(t);const d=t[35].default,c=qe(d,t,t[36],null),m=t[35].after,b=qe(m,t,t[36],Ii);return{c(){a&&a.c(),e=De(),u&&u.c(),n=De(),f&&f.c(),i=De(),h&&h.c(),o=De(),c&&c.c(),s=De(),b&&b.c()},l(y){a&&a.l(y),e=Te(y),u&&u.l(y),n=Te(y),f&&f.l(y),i=Te(y),h&&h.l(y),o=Te(y),c&&c.l(y),s=Te(y),b&&b.l(y)},m(y,g){a&&a.m(y,g),j(y,e,g),u&&u.m(y,g),j(y,n,g),f&&f.m(y,g),j(y,i,g),h&&h.m(y,g),j(y,o,g),c&&c.m(y,g),j(y,s,g),b&&b.m(y,g),l=!0},p(y,g){a&&a.p&&(!l||g[1]&32)&&je(a,r,y,y[36],l?Qe(r,y[36],g,Da):Je(y[36]),Ni),y[1]?u?(u.p(y,g),g[0]&2&&V(u,1)):(u=Vi(y),u.c(),V(u,1),u.m(n.parentNode,n)):u&&(Ae(),W(u,1,1,()=>{u=null}),Ye()),y[2]?f?(f.p(y,g),g[0]&4&&V(f,1)):(f=Ai(y),f.c(),V(f,1),f.m(i.parentNode,i)):f&&(Ae(),W(f,1,1,()=>{f=null}),Ye()),y[3]?h?(h.p(y,g),g[0]&8&&V(h,1)):(h=Yi(y),h.c(),V(h,1),h.m(o.parentNode,o)):h&&(Ae(),W(h,1,1,()=>{h=null}),Ye()),c&&c.p&&(!l||g[1]&32)&&je(c,d,y,y[36],l?Qe(d,y[36],g,null):Je(y[36]),null),b&&b.p&&(!l||g[1]&32)&&je(b,m,y,y[36],l?Qe(m,y[36],g,Ha):Je(y[36]),Ii)},i(y){l||(V(a,y),V(u),V(f),V(h),V(c,y),V(b,y),l=!0)},o(y){W(a,y),W(u),W(f),W(h),W(c,y),W(b,y),l=!1},d(y){y&&(T(e),T(n),T(i),T(o),T(s)),a&&a.d(y),u&&u.d(y),f&&f.d(y),h&&h.d(y),c&&c.d(y),b&&b.d(y)}}}function Xa(t){let e,n;return e=new Bn({props:{class:Ce(["svelte-flow__controls",t[7],t[6]]),position:t[0],"data-testid":"svelte-flow__controls","aria-label":t[4]??"Svelte Flow controls",style:t[5],$$slots:{default:[Ya]},$$scope:{ctx:t}}}),{c(){se(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,o){const s={};o[0]&192&&(s.class=Ce(["svelte-flow__controls",i[7],i[6]])),o[0]&1&&(s.position=i[0]),o[0]&16&&(s["aria-label"]=i[4]??"Svelte Flow controls"),o[0]&32&&(s.style=i[5]),o[0]&1806|o[1]&32&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}function Wa(t,e,n){let i,o,s,l,r,a,u,f,h,d,{$$slots:c={},$$scope:m}=e,{position:b="bottom-left"}=e,{showZoom:y=!0}=e,{showFitView:g=!0}=e,{showLock:M=!0}=e,{buttonBgColor:w=void 0}=e,{buttonBgColorHover:C=void 0}=e,{buttonColor:Y=void 0}=e,{buttonColorHover:Z=void 0}=e,{buttonBorderColor:v=void 0}=e,{ariaLabel:J=void 0}=e,{style:O=void 0}=e,{orientation:K="vertical"}=e,{fitViewOptions:q=void 0}=e,{class:$=""}=e;const{zoomIn:N,zoomOut:_,fitView:k,viewport:S,minZoom:P,maxZoom:D,nodesDraggable:A,nodesConnectable:X,elementsSelectable:G}=Ne();F(t,S,H=>n(30,a=H)),F(t,P,H=>n(31,u=H)),F(t,D,H=>n(29,r=H)),F(t,A,H=>n(34,d=H)),F(t,X,H=>n(33,h=H)),F(t,G,H=>n(32,f=H));const R={bgColor:w,bgColorHover:C,color:Y,colorHover:Z,borderColor:v},I=()=>{N()},x=()=>{_()},ge=()=>{k(q)},be=()=>{n(8,i=!i),A.set(i),X.set(i),G.set(i)};return t.$$set=H=>{"position"in H&&n(0,b=H.position),"showZoom"in H&&n(1,y=H.showZoom),"showFitView"in H&&n(2,g=H.showFitView),"showLock"in H&&n(3,M=H.showLock),"buttonBgColor"in H&&n(22,w=H.buttonBgColor),"buttonBgColorHover"in H&&n(23,C=H.buttonBgColorHover),"buttonColor"in H&&n(24,Y=H.buttonColor),"buttonColorHover"in H&&n(25,Z=H.buttonColorHover),"buttonBorderColor"in H&&n(26,v=H.buttonBorderColor),"ariaLabel"in H&&n(4,J=H.ariaLabel),"style"in H&&n(5,O=H.style),"orientation"in H&&n(27,K=H.orientation),"fitViewOptions"in H&&n(28,q=H.fitViewOptions),"class"in H&&n(6,$=H.class),"$$scope"in H&&n(36,m=H.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&14&&n(8,i=d||h||f),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&n(10,o=a.zoom<=u),t.$$.dirty[0]&1610612736&&n(9,s=a.zoom>=r),t.$$.dirty[0]&134217728&&n(7,l=K==="horizontal"?"horizontal":"vertical")},[b,y,g,M,J,O,$,l,i,s,o,S,P,D,A,X,G,R,I,x,ge,be,w,C,Y,Z,v,K,q,r,a,u,f,h,d,c,m]}class mu extends de{constructor(e){super(),he(this,e,Wa,Xa,me,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:22,buttonBgColorHover:23,buttonColor:24,buttonColorHover:25,buttonBorderColor:26,ariaLabel:4,style:5,orientation:27,fitViewOptions:28,class:6},null,[-1,-1])}}var mt;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(mt||(mt={}));function Ba(t){let e,n;return{c(){e=Se("circle"),this.h()},l(i){e=Ee(i,"circle",{cx:!0,cy:!0,r:!0,class:!0}),ie(e).forEach(T),this.h()},h(){E(e,"cx",t[0]),E(e,"cy",t[0]),E(e,"r",t[0]),E(e,"class",n=Ce(["svelte-flow__background-pattern","dots",t[1]]))},m(i,o){j(i,e,o)},p(i,[o]){o&1&&E(e,"cx",i[0]),o&1&&E(e,"cy",i[0]),o&1&&E(e,"r",i[0]),o&2&&n!==(n=Ce(["svelte-flow__background-pattern","dots",i[1]]))&&E(e,"class",n)},i:ke,o:ke,d(i){i&&T(e)}}}function La(t,e,n){let{radius:i=5}=e,{class:o=""}=e;return t.$$set=s=>{"radius"in s&&n(0,i=s.radius),"class"in s&&n(1,o=s.class)},[i,o]}class Ka extends de{constructor(e){super(),he(this,e,La,Ba,me,{radius:0,class:1})}}function Ra(t){let e,n,i;return{c(){e=Se("path"),this.h()},l(o){e=Ee(o,"path",{"stroke-width":!0,d:!0,class:!0}),ie(e).forEach(T),this.h()},h(){E(e,"stroke-width",t[0]),E(e,"d",n=`M${t[1][0]/2} 0 V${t[1][1]} M0 ${t[1][1]/2} H${t[1][0]}`),E(e,"class",i=Ce(["svelte-flow__background-pattern",t[2],t[3]]))},m(o,s){j(o,e,s)},p(o,[s]){s&1&&E(e,"stroke-width",o[0]),s&2&&n!==(n=`M${o[1][0]/2} 0 V${o[1][1]} M0 ${o[1][1]/2} H${o[1][0]}`)&&E(e,"d",n),s&12&&i!==(i=Ce(["svelte-flow__background-pattern",o[2],o[3]]))&&E(e,"class",i)},i:ke,o:ke,d(o){o&&T(e)}}}function Za(t,e,n){let{lineWidth:i=1}=e,{dimensions:o}=e,{variant:s=void 0}=e,{class:l=""}=e;return t.$$set=r=>{"lineWidth"in r&&n(0,i=r.lineWidth),"dimensions"in r&&n(1,o=r.dimensions),"variant"in r&&n(2,s=r.variant),"class"in r&&n(3,l=r.class)},[i,o,s,l]}class Fa extends de{constructor(e){super(),he(this,e,Za,Ra,me,{lineWidth:0,dimensions:1,variant:2,class:3})}}function Ga(t){let e,n;return e=new Fa({props:{dimensions:t[6],variant:t[0],lineWidth:t[1],class:t[4]}}),{c(){se(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,o){const s={};o&64&&(s.dimensions=i[6]),o&1&&(s.variant=i[0]),o&2&&(s.lineWidth=i[1]),o&16&&(s.class=i[4]),e.$set(s)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}function Ua(t){let e,n;return e=new Ka({props:{radius:t[7]/2,class:t[4]}}),{c(){se(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,o){const s={};o&128&&(s.radius=i[7]/2),o&16&&(s.class=i[4]),e.$set(s)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}function qa(t){let e,n,i,o,s,l,r,a,u,f,h,d,c;const m=[Ua,Ga],b=[];function y(g,M){return g[14]?0:1}return i=y(t),o=b[i]=m[i](t),{c(){e=Se("svg"),n=Se("pattern"),o.c(),f=Se("rect"),this.h()},l(g){e=Ee(g,"svg",{class:!0,"data-testid":!0});var M=ie(e);n=Ee(M,"pattern",{id:!0,x:!0,y:!0,width:!0,height:!0,patternUnits:!0,patternTransform:!0});var w=ie(n);o.l(w),w.forEach(T),f=Ee(M,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),ie(f).forEach(T),M.forEach(T),this.h()},h(){E(n,"id",t[11]),E(n,"x",s=t[9].x%t[8][0]),E(n,"y",l=t[9].y%t[8][1]),E(n,"width",r=t[8][0]),E(n,"height",a=t[8][1]),E(n,"patternUnits","userSpaceOnUse"),E(n,"patternTransform",u=`translate(-${t[10][0]},-${t[10][1]})`),E(f,"x","0"),E(f,"y","0"),E(f,"width","100%"),E(f,"height","100%"),E(f,"fill",h=`url(#${t[11]})`),E(e,"class",d=Fn(Ce(["svelte-flow__background",t[5]]))+" svelte-1r7pe8d"),E(e,"data-testid","svelte-flow__background"),le(e,"--xy-background-color-props",t[2]),le(e,"--xy-background-pattern-color-props",t[3])},m(g,M){j(g,e,M),Xe(e,n),b[i].m(n,null),Xe(e,f),c=!0},p(g,[M]){o.p(g,M),(!c||M&2048)&&E(n,"id",g[11]),(!c||M&768&&s!==(s=g[9].x%g[8][0]))&&E(n,"x",s),(!c||M&768&&l!==(l=g[9].y%g[8][1]))&&E(n,"y",l),(!c||M&256&&r!==(r=g[8][0]))&&E(n,"width",r),(!c||M&256&&a!==(a=g[8][1]))&&E(n,"height",a),(!c||M&1024&&u!==(u=`translate(-${g[10][0]},-${g[10][1]})`))&&E(n,"patternTransform",u),(!c||M&2048&&h!==(h=`url(#${g[11]})`))&&E(f,"fill",h),(!c||M&32&&d!==(d=Fn(Ce(["svelte-flow__background",g[5]]))+" svelte-1r7pe8d"))&&E(e,"class",d),M&4&&le(e,"--xy-background-color-props",g[2]),M&8&&le(e,"--xy-background-pattern-color-props",g[3])},i(g){c||(V(o),c=!0)},o(g){W(o),c=!1},d(g){g&&T(e),b[i].d()}}}const ja={[mt.Dots]:1,[mt.Lines]:1,[mt.Cross]:6};function Ja(t,e,n){let i,o,s,l,r,a,u,{id:f=void 0}=e,{variant:h=mt.Dots}=e,{gap:d=20}=e,{size:c=1}=e,{lineWidth:m=1}=e,{bgColor:b=void 0}=e,{patternColor:y=void 0}=e,{patternClass:g=void 0}=e,{class:M=""}=e;const{viewport:w,flowId:C}=Ne();F(t,w,O=>n(9,a=O)),F(t,C,O=>n(18,u=O));const Y=c||ja[h],Z=h===mt.Dots,v=h===mt.Cross,J=Array.isArray(d)?d:[d,d];return t.$$set=O=>{"id"in O&&n(15,f=O.id),"variant"in O&&n(0,h=O.variant),"gap"in O&&n(16,d=O.gap),"size"in O&&n(17,c=O.size),"lineWidth"in O&&n(1,m=O.lineWidth),"bgColor"in O&&n(2,b=O.bgColor),"patternColor"in O&&n(3,y=O.patternColor),"patternClass"in O&&n(4,g=O.patternClass),"class"in O&&n(5,M=O.class)},t.$$.update=()=>{t.$$.dirty&294912&&n(11,i=`background-pattern-${u}-${f||""}`),t.$$.dirty&512&&n(8,o=[J[0]*a.zoom||1,J[1]*a.zoom||1]),t.$$.dirty&512&&n(7,s=Y*a.zoom),t.$$.dirty&384&&n(6,l=v?[s,s]:o),t.$$.dirty&192&&n(10,r=Z?[s/2,s/2]:[l[0]/2,l[1]/2])},[h,m,b,y,g,M,l,s,o,a,r,i,w,C,Z,f,d,c,u]}class bu extends de{constructor(e){super(),he(this,e,Ja,qa,me,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}function Qa(t){let e,n,i;return{c(){e=Se("rect"),this.h()},l(o){e=Ee(o,"rect",{class:!0,x:!0,y:!0,rx:!0,ry:!0,width:!0,height:!0,style:!0,"shape-rendering":!0}),ie(e).forEach(T),this.h()},h(){E(e,"class",n=Ce(["svelte-flow__minimap-node",t[10]])),E(e,"x",t[0]),E(e,"y",t[1]),E(e,"rx",t[4]),E(e,"ry",t[4]),E(e,"width",t[2]),E(e,"height",t[3]),E(e,"style",i=`${t[5]?`fill: ${t[5]};`:""}${t[7]?`stroke: ${t[7]};`:""}${t[8]?`stroke-width: ${t[8]};`:""}`),E(e,"shape-rendering",t[6]),ne(e,"selected",t[9])},m(o,s){j(o,e,s)},p(o,[s]){s&1024&&n!==(n=Ce(["svelte-flow__minimap-node",o[10]]))&&E(e,"class",n),s&1&&E(e,"x",o[0]),s&2&&E(e,"y",o[1]),s&16&&E(e,"rx",o[4]),s&16&&E(e,"ry",o[4]),s&4&&E(e,"width",o[2]),s&8&&E(e,"height",o[3]),s&416&&i!==(i=`${o[5]?`fill: ${o[5]};`:""}${o[7]?`stroke: ${o[7]};`:""}${o[8]?`stroke-width: ${o[8]};`:""}`)&&E(e,"style",i),s&64&&E(e,"shape-rendering",o[6]),s&1536&&ne(e,"selected",o[9])},i:ke,o:ke,d(o){o&&T(e)}}}function pa(t,e,n){let{x:i}=e,{y:o}=e,{width:s=0}=e,{height:l=0}=e,{borderRadius:r=5}=e,{color:a=void 0}=e,{shapeRendering:u}=e,{strokeColor:f=void 0}=e,{strokeWidth:h=2}=e,{selected:d=!1}=e,{class:c=""}=e;return t.$$set=m=>{"x"in m&&n(0,i=m.x),"y"in m&&n(1,o=m.y),"width"in m&&n(2,s=m.width),"height"in m&&n(3,l=m.height),"borderRadius"in m&&n(4,r=m.borderRadius),"color"in m&&n(5,a=m.color),"shapeRendering"in m&&n(6,u=m.shapeRendering),"strokeColor"in m&&n(7,f=m.strokeColor),"strokeWidth"in m&&n(8,h=m.strokeWidth),"selected"in m&&n(9,d=m.selected),"class"in m&&n(10,c=m.class)},[i,o,s,l,r,a,u,f,h,d,c]}class xa extends de{constructor(e){super(),he(this,e,pa,Qa,me,{x:0,y:1,width:2,height:3,borderRadius:4,color:5,shapeRendering:6,strokeColor:7,strokeWidth:8,selected:9,class:10})}}function $a(t,e){const n=$l({domNode:t,panZoom:e.panZoom,getTransform:()=>{const o=U(e.viewport);return[o.x,o.y,o.zoom]},getViewScale:e.getViewScale});function i(o){n.update({translateExtent:o.translateExtent,width:o.width,height:o.height,inversePan:o.inversePan,zoomStep:o.zoomStep,pannable:o.pannable,zoomable:o.zoomable})}return{update:i,destroy(){n.destroy()}}}function Xi(t,e,n){const i=t.slice();i[55]=e[n];const o=i[20].get(i[55].id);return i[56]=o,i}function Mn(t){const e=t.slice(),n=cn(e[56]);return e[59]=n,e}function Wi(t){let e,n,i=[],o=new Map,s,l,r,a,u,f,h,d=t[1]&&Bi(t),c=bt(t[19]);const m=b=>b[55].id;for(let b=0;b<c.length;b+=1){let y=Xi(t,c,b),g=m(y);o.set(g,i[b]=Ki(g,y))}return{c(){e=Se("svg"),d&&d.c(),n=Me();for(let b=0;b<i.length;b+=1)i[b].c();s=Se("path"),this.h()},l(b){e=Ee(b,"svg",{width:!0,height:!0,viewBox:!0,class:!0,role:!0,"aria-labelledby":!0});var y=ie(e);d&&d.l(y),n=Me();for(let g=0;g<i.length;g+=1)i[g].l(y);s=Ee(y,"path",{class:!0,d:!0,"fill-rule":!0,"pointer-events":!0}),ie(s).forEach(T),y.forEach(T),this.h()},h(){E(s,"class","svelte-flow__minimap-mask"),E(s,"d",l="M"+(t[26]-t[15])+","+(t[25]-t[15])+"h"+(t[24]+t[15]*2)+"v"+(t[23]+t[15]*2)+"h"+(-t[24]-t[15]*2)+`z
      M`+t[18].x+","+t[18].y+"h"+t[18].width+"v"+t[18].height+"h"+-t[18].width+"z"),E(s,"fill-rule","evenodd"),E(s,"pointer-events","none"),E(e,"width",t[17]),E(e,"height",t[16]),E(e,"viewBox",r=t[26]+" "+t[25]+" "+t[24]+" "+t[23]),E(e,"class","svelte-flow__minimap-svg"),E(e,"role","img"),E(e,"aria-labelledby",t[41]),le(e,"--xy-minimap-mask-background-color-props",t[5]),le(e,"--xy-minimap-mask-stroke-color-props",t[6]),le(e,"--xy-minimap-mask-stroke-width-props",t[7]?t[7]*t[14]:void 0)},m(b,y){j(b,e,y),d&&d.m(e,null),Xe(e,n);for(let g=0;g<i.length;g+=1)i[g]&&i[g].m(e,null);Xe(e,s),u=!0,f||(h=Fe(a=$a.call(null,e,{panZoom:t[27],viewport:t[31],getViewScale:t[42],translateExtent:t[28],width:t[22],height:t[21],inversePan:t[10],zoomStep:t[11],pannable:t[8],zoomable:t[9]})),f=!0)},p(b,y){b[1]?d?d.p(b,y):(d=Bi(b),d.c(),d.m(e,n)):d&&(d.d(1),d=null),y[0]&1572876|y[1]&960&&(c=bt(b[19]),Ae(),i=an(i,y,m,1,b,c,o,e,un,Ki,s,Xi),Ye()),(!u||y[0]&126124032&&l!==(l="M"+(b[26]-b[15])+","+(b[25]-b[15])+"h"+(b[24]+b[15]*2)+"v"+(b[23]+b[15]*2)+"h"+(-b[24]-b[15]*2)+`z
      M`+b[18].x+","+b[18].y+"h"+b[18].width+"v"+b[18].height+"h"+-b[18].width+"z"))&&E(s,"d",l),(!u||y[0]&131072)&&E(e,"width",b[17]),(!u||y[0]&65536)&&E(e,"height",b[16]),(!u||y[0]&125829120&&r!==(r=b[26]+" "+b[25]+" "+b[24]+" "+b[23]))&&E(e,"viewBox",r),a&&Ve(a.update)&&y[0]&408948480&&a.update.call(null,{panZoom:b[27],viewport:b[31],getViewScale:b[42],translateExtent:b[28],width:b[22],height:b[21],inversePan:b[10],zoomStep:b[11],pannable:b[8],zoomable:b[9]}),y[0]&32&&le(e,"--xy-minimap-mask-background-color-props",b[5]),y[0]&64&&le(e,"--xy-minimap-mask-stroke-color-props",b[6]),y[0]&16512&&le(e,"--xy-minimap-mask-stroke-width-props",b[7]?b[7]*b[14]:void 0)},i(b){if(!u){for(let y=0;y<c.length;y+=1)V(i[y]);u=!0}},o(b){for(let y=0;y<i.length;y+=1)W(i[y]);u=!1},d(b){b&&T(e),d&&d.d();for(let y=0;y<i.length;y+=1)i[y].d();f=!1,h()}}}function Bi(t){let e,n;return{c(){e=Se("title"),n=At(t[1]),this.h()},l(i){e=Ee(i,"title",{id:!0});var o=ie(e);n=Yt(o,t[1]),o.forEach(T),this.h()},h(){E(e,"id",t[41])},m(i,o){j(i,e,o),Xe(e,n)},p(i,o){o[0]&2&&Xt(n,i[1])},d(i){i&&T(e)}}}function Li(t){var s;let e,n;const i=[{x:t[56].internals.positionAbsolute.x},{y:t[56].internals.positionAbsolute.y},t[59],{selected:t[56].selected},{color:(s=t[37])==null?void 0:s.call(t,t[56])},{borderRadius:t[2]},{strokeColor:t[38](t[56])},{strokeWidth:t[3]},{shapeRendering:t[40]},{class:t[39](t[56])}];let o={};for(let l=0;l<i.length;l+=1)o=ze(o,i[l]);return e=new xa({props:o}),{c(){se(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,r){re(e,l,r),n=!0},p(l,r){var u;const a=r[0]&1572876|r[1]&960?ct(i,[r[0]&1572864&&{x:l[56].internals.positionAbsolute.x},r[0]&1572864&&{y:l[56].internals.positionAbsolute.y},r[0]&1572864&&vt(l[59]),r[0]&1572864&&{selected:l[56].selected},r[0]&1572864|r[1]&64&&{color:(u=l[37])==null?void 0:u.call(l,l[56])},r[0]&4&&{borderRadius:l[2]},r[0]&1572864|r[1]&128&&{strokeColor:l[38](l[56])},r[0]&8&&{strokeWidth:l[3]},r[1]&512&&{shapeRendering:l[40]},r[0]&1572864|r[1]&256&&{class:l[39](l[56])}]):{};e.$set(a)},i(l){n||(V(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){ae(e,l)}}}function Ki(t,e){let n,i=e[56]&&en(e[56]),o,s,l=i&&Li(Mn(e));return{key:t,first:null,c(){n=Me(),l&&l.c(),o=Me(),this.h()},l(r){n=Me(),l&&l.l(r),o=Me(),this.h()},h(){this.first=n},m(r,a){j(r,n,a),l&&l.m(r,a),j(r,o,a),s=!0},p(r,a){e=r,a[0]&1572864&&(i=e[56]&&en(e[56])),i?l?(l.p(Mn(e),a),a[0]&1572864&&V(l,1)):(l=Li(Mn(e)),l.c(),V(l,1),l.m(o.parentNode,o)):l&&(Ae(),W(l,1,1,()=>{l=null}),Ye())},i(r){s||(V(l),s=!0)},o(r){W(l),s=!1},d(r){r&&(T(n),T(o)),l&&l.d(r)}}}function eu(t){let e,n,i=t[27]&&Wi(t);return{c(){i&&i.c(),e=Me()},l(o){i&&i.l(o),e=Me()},m(o,s){i&&i.m(o,s),j(o,e,s),n=!0},p(o,s){o[27]?i?(i.p(o,s),s[0]&134217728&&V(i,1)):(i=Wi(o),i.c(),V(i,1),i.m(e.parentNode,e)):i&&(Ae(),W(i,1,1,()=>{i=null}),Ye())},i(o){n||(V(i),n=!0)},o(o){W(i),n=!1},d(o){o&&T(e),i&&i.d(o)}}}function tu(t){let e,n;return e=new Bn({props:{position:t[0],style:t[12]+(t[4]?`;--xy-minimap-background-color-props:${t[4]}`:""),class:Ce(["svelte-flow__minimap",t[13]]),"data-testid":"svelte-flow__minimap",$$slots:{default:[eu]},$$scope:{ctx:t}}}),{c(){se(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){re(e,i,o),n=!0},p(i,o){const s={};o[0]&1&&(s.position=i[0]),o[0]&4112&&(s.style=i[12]+(i[4]?`;--xy-minimap-background-color-props:${i[4]}`:"")),o[0]&8192&&(s.class=Ce(["svelte-flow__minimap",i[13]])),o[0]&536858606|o[1]&536870912&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(V(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}const Cn=t=>t instanceof Function?t:()=>t,nu=200,iu=150;function ou(t,e,n){let i,o,s,l,r,a,u,f,h,d,c,m,b,y,g,M,w,C,Y,Z,v,{position:J="bottom-right"}=e,{ariaLabel:O="Mini map"}=e,{nodeStrokeColor:K="transparent"}=e,{nodeColor:q=void 0}=e,{nodeClass:$=""}=e,{nodeBorderRadius:N=5}=e,{nodeStrokeWidth:_=2}=e,{bgColor:k=void 0}=e,{maskColor:S=void 0}=e,{maskStrokeColor:P=void 0}=e,{maskStrokeWidth:D=void 0}=e,{width:A=void 0}=e,{height:X=void 0}=e,{pannable:G=!0}=e,{zoomable:R=!0}=e,{inversePan:I=void 0}=e,{zoomStep:x=void 0}=e,{style:ge=""}=e,{class:be=""}=e;const{nodes:H,nodeLookup:ee,viewport:ue,width:oe,height:_e,flowId:we,panZoom:Pe,translateExtent:B}=Ne();F(t,H,p=>n(19,y=p)),F(t,ee,p=>n(20,g=p)),F(t,ue,p=>n(53,M=p)),F(t,oe,p=>n(22,C=p)),F(t,_e,p=>n(21,w=p)),F(t,we,p=>n(54,Y=p)),F(t,Pe,p=>n(27,Z=p)),F(t,B,p=>n(28,v=p));const We=q===void 0?void 0:Cn(q),Oe=Cn(K),st=Cn($),rt=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",at=`svelte-flow__minimap-desc-${Y}`;let Ke=i;const it=()=>a;return t.$$set=p=>{"position"in p&&n(0,J=p.position),"ariaLabel"in p&&n(1,O=p.ariaLabel),"nodeStrokeColor"in p&&n(43,K=p.nodeStrokeColor),"nodeColor"in p&&n(44,q=p.nodeColor),"nodeClass"in p&&n(45,$=p.nodeClass),"nodeBorderRadius"in p&&n(2,N=p.nodeBorderRadius),"nodeStrokeWidth"in p&&n(3,_=p.nodeStrokeWidth),"bgColor"in p&&n(4,k=p.bgColor),"maskColor"in p&&n(5,S=p.maskColor),"maskStrokeColor"in p&&n(6,P=p.maskStrokeColor),"maskStrokeWidth"in p&&n(7,D=p.maskStrokeWidth),"width"in p&&n(46,A=p.width),"height"in p&&n(47,X=p.height),"pannable"in p&&n(8,G=p.pannable),"zoomable"in p&&n(9,R=p.zoomable),"inversePan"in p&&n(10,I=p.inversePan),"zoomStep"in p&&n(11,x=p.zoomStep),"style"in p&&n(12,ge=p.style),"class"in p&&n(13,be=p.class)},t.$$.update=()=>{t.$$.dirty[0]&6291456|t.$$.dirty[1]&4194304&&n(18,i={x:-M.x/M.zoom,y:-M.y/M.zoom,width:C/M.zoom,height:w/M.zoom}),t.$$.dirty[0]&1835008&&n(48,Ke=g.size>0?pi(Lt(g),i):i),t.$$.dirty[1]&32768&&n(17,o=A??nu),t.$$.dirty[1]&65536&&n(16,s=X??iu),t.$$.dirty[0]&131072|t.$$.dirty[1]&131072&&n(52,l=Ke.width/o),t.$$.dirty[0]&65536|t.$$.dirty[1]&131072&&n(51,r=Ke.height/s),t.$$.dirty[1]&3145728&&n(14,a=Math.max(l,r)),t.$$.dirty[0]&147456&&n(50,u=a*o),t.$$.dirty[0]&81920&&n(49,f=a*s),t.$$.dirty[0]&16384&&n(15,h=5*a),t.$$.dirty[0]&32768|t.$$.dirty[1]&655360&&n(26,d=Ke.x-(u-Ke.width)/2-h),t.$$.dirty[0]&32768|t.$$.dirty[1]&393216&&n(25,c=Ke.y-(f-Ke.height)/2-h),t.$$.dirty[0]&32768|t.$$.dirty[1]&524288&&n(24,m=u+h*2),t.$$.dirty[0]&32768|t.$$.dirty[1]&262144&&n(23,b=f+h*2)},[J,O,N,_,k,S,P,D,G,R,I,x,ge,be,a,h,s,o,i,y,g,w,C,b,m,c,d,Z,v,H,ee,ue,oe,_e,we,Pe,B,We,Oe,st,rt,at,it,K,q,$,A,X,Ke,f,u,r,l,M]}class yu extends de{constructor(e){super(),he(this,e,ou,tu,me,{position:0,ariaLabel:1,nodeStrokeColor:43,nodeColor:44,nodeClass:45,nodeBorderRadius:2,nodeStrokeWidth:3,bgColor:4,maskColor:5,maskStrokeColor:6,maskStrokeWidth:7,width:46,height:47,pannable:8,zoomable:9,inversePan:10,zoomStep:11,style:12,class:13},null,[-1,-1])}}export{bu as B,mu as C,zs as E,on as H,yu as M,fe as P,gu as S,mt as a,hu as b,xs as c,xi as d,zl as e,en as f,$i as g,hn as h,du as i,xt as j,Wn as k,no as l,Yn as n,fn as p,Pl as r,Ne as u};
