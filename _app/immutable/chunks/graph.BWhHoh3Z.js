import{S as ie,i as ae,b as oe,c as A}from"./_isIterateeCall.3YwRjA99.js";import{ar as O,as as I,at as ue,au as W,av as he,aw as fe,ax as de,ay as ce,az as ge,aA as le}from"./mermaid-f47111a7.YVbxmbk5.js";import{k as c,g as q,s as _e,e as be,f as pe,h as me,b as v,c as Z,i as ye,j as Te,l as J,S as je,m as Ae,d as Ee}from"./_baseEach.XPLUTvI3.js";import{g as $,n as C,h as Q,j as Ce,a as Oe,S as L,f as x}from"./_getTag.1801gKJ-.js";import{S as M,a as X,i as w}from"./isArray.CqO_RI43.js";import{a as we}from"./toString.8PGGVYZ3.js";import{a as Le}from"./_arrayReduce.CrxnWFSq.js";import{i as G}from"./isEmpty.C48d9UGx.js";function Se(){}function z(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}function Ne(t,e,r,n){for(var s=t.length,i=r+(n?1:-1);n?i--:++i<s;)if(e(t[i],i,t))return i;return-1}function Fe(t){return t!==t}function Ie(t,e,r){for(var n=r-1,s=t.length;++n<s;)if(t[n]===e)return n;return-1}function ve(t,e,r){return e===e?Ie(t,e,r):Ne(t,Fe,r)}function $e(t,e){var r=t==null?0:t.length;return!!r&&ve(t,e,0)>-1}function Pe(t,e){return t&&O(e,c(e),t)}function De(t,e){return t&&O(e,I(e),t)}function xe(t,e){return O(t,q(t),e)}var Me=Object.getOwnPropertySymbols,k=Me?function(t){for(var e=[];t;)be(e,q(t)),t=ue(t);return e}:_e;function Ge(t,e){return O(t,k(t),e)}function Ue(t){return pe(t,I,k)}var Be=Object.prototype,Re=Be.hasOwnProperty;function Ve(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Re.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function Ke(t,e){var r=e?W(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Ye=/\w*$/;function He(t){var e=new t.constructor(t.source,Ye.exec(t));return e.lastIndex=t.lastIndex,e}var U=M?M.prototype:void 0,B=U?U.valueOf:void 0;function We(t){return B?Object(B.call(t)):{}}var qe="[object Boolean]",Ze="[object Date]",Je="[object Map]",Qe="[object Number]",Xe="[object RegExp]",ze="[object Set]",ke="[object String]",et="[object Symbol]",tt="[object ArrayBuffer]",rt="[object DataView]",nt="[object Float32Array]",st="[object Float64Array]",it="[object Int8Array]",at="[object Int16Array]",ot="[object Int32Array]",ut="[object Uint8Array]",ht="[object Uint8ClampedArray]",ft="[object Uint16Array]",dt="[object Uint32Array]";function ct(t,e,r){var n=t.constructor;switch(e){case tt:return W(t);case qe:case Ze:return new n(+t);case rt:return Ke(t,r);case nt:case st:case it:case at:case ot:case ut:case ht:case ft:case dt:return he(t,r);case Je:return new n;case Qe:case ke:return new n(t);case Xe:return He(t);case ze:return new n;case et:return We(t)}}var gt="[object Map]";function lt(t){return X(t)&&$(t)==gt}var R=C&&C.isMap,_t=R?Q(R):lt,bt="[object Set]";function pt(t){return X(t)&&$(t)==bt}var V=C&&C.isSet,mt=V?Q(V):pt,yt=1,Tt=2,jt=4,ee="[object Arguments]",At="[object Array]",Et="[object Boolean]",Ct="[object Date]",Ot="[object Error]",te="[object Function]",wt="[object GeneratorFunction]",Lt="[object Map]",St="[object Number]",re="[object Object]",Nt="[object RegExp]",Ft="[object Set]",It="[object String]",vt="[object Symbol]",$t="[object WeakMap]",Pt="[object ArrayBuffer]",Dt="[object DataView]",xt="[object Float32Array]",Mt="[object Float64Array]",Gt="[object Int8Array]",Ut="[object Int16Array]",Bt="[object Int32Array]",Rt="[object Uint8Array]",Vt="[object Uint8ClampedArray]",Kt="[object Uint16Array]",Yt="[object Uint32Array]",u={};u[ee]=u[At]=u[Pt]=u[Dt]=u[Et]=u[Ct]=u[xt]=u[Mt]=u[Gt]=u[Ut]=u[Bt]=u[Lt]=u[St]=u[re]=u[Nt]=u[Ft]=u[It]=u[vt]=u[Rt]=u[Vt]=u[Kt]=u[Yt]=!0;u[Ot]=u[te]=u[$t]=!1;function S(t,e,r,n,s,i){var a,o=e&yt,h=e&Tt,j=e&jt;if(r&&(a=s?r(t,n,s,i):r(t)),a!==void 0)return a;if(!Ce(t))return t;var d=w(t);if(d){if(a=Ve(t),!o)return fe(t,a)}else{var f=$(t),y=f==te||f==wt;if(Oe(t))return de(t,o);if(f==re||f==ee||y&&!s){if(a=h||y?{}:ce(t),!o)return h?Ge(t,De(a,t)):xe(t,Pe(a,t))}else{if(!u[f])return s?t:{};a=ct(t,f,o)}}i||(i=new ie);var P=i.get(t);if(P)return P;i.set(t,a),mt(t)?t.forEach(function(g){a.add(S(g,e,r,g,t,i))}):_t(t)&&t.forEach(function(g,_){a.set(_,S(g,e,r,_,t,i))});var se=j?h?Ue:me:h?I:c,D=d?void 0:se(t);return z(D||t,function(g,_){D&&(_=g,g=t[_]),ge(a,_,S(g,e,r,_,t,i))}),a}function Ht(t,e,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(r(e,t[n]))return!0;return!1}function Wt(t){return typeof t=="function"?t:ae}function b(t,e){var r=w(t)?z:v;return r(t,Wt(e))}function qt(t,e){var r=[];return v(t,function(n,s,i){e(n,s,i)&&r.push(n)}),r}function E(t,e){var r=w(t)?ye:qt;return r(t,Z(e))}var Zt=Object.prototype,Jt=Zt.hasOwnProperty;function Qt(t,e){return t!=null&&Jt.call(t,e)}function l(t,e){return t!=null&&Te(t,e,Qt)}function Xt(t,e){return we(e,function(r){return t[r]})}function N(t){return t==null?[]:Xt(t,c(t))}function m(t){return t===void 0}function zt(t,e,r,n,s){return s(t,function(i,a,o){r=n?(n=!1,i):e(r,i,a,o)}),r}function kt(t,e,r){var n=w(t)?Le:zt,s=arguments.length<3;return n(t,Z(e),r,s,v)}var er=1/0,tr=L&&1/J(new L([,-0]))[1]==er?function(t){return new L(t)}:Se,rr=200;function nr(t,e,r){var n=-1,s=$e,i=t.length,a=!0,o=[],h=o;if(r)a=!1,s=Ht;else if(i>=rr){var j=e?null:tr(t);if(j)return J(j);a=!1,s=Ae,h=new je}else h=e?[]:o;e:for(;++n<i;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,a&&f===f){for(var y=h.length;y--;)if(h[y]===f)continue e;e&&h.push(f),o.push(d)}else s(h,f,r)||(h!==o&&h.push(f),o.push(d))}return o}var sr=oe(function(t){return nr(Ee(t,1,le,!0))}),ir="\0",p="\0",K="";class ne{constructor(e={}){this._isDirected=l(e,"directed")?e.directed:!0,this._isMultigraph=l(e,"multigraph")?e.multigraph:!1,this._isCompound=l(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=A(void 0),this._defaultEdgeLabelFn=A(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[p]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return x(e)||(e=A(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return c(this._nodes)}sources(){var e=this;return E(this.nodes(),function(r){return G(e._in[r])})}sinks(){var e=this;return E(this.nodes(),function(r){return G(e._out[r])})}setNodes(e,r){var n=arguments,s=this;return b(e,function(i){n.length>1?s.setNode(i,r):s.setNode(i)}),this}setNode(e,r){return l(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=r),this):(this._nodes[e]=arguments.length>1?r:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=p,this._children[e]={},this._children[p][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return l(this._nodes,e)}removeNode(e){var r=this;if(l(this._nodes,e)){var n=function(s){r.removeEdge(r._edgeObjs[s])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],b(this.children(e),function(s){r.setParent(s)}),delete this._children[e]),b(c(this._in[e]),n),delete this._in[e],delete this._preds[e],b(c(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(m(r))r=p;else{r+="";for(var n=r;!m(n);n=this.parent(n))if(n===e)throw new Error("Setting "+r+" as parent of "+e+" would create a cycle");this.setNode(r)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=r,this._children[r][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var r=this._parent[e];if(r!==p)return r}}children(e){if(m(e)&&(e=p),this._isCompound){var r=this._children[e];if(r)return c(r)}else{if(e===p)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var r=this._preds[e];if(r)return c(r)}successors(e){var r=this._sucs[e];if(r)return c(r)}neighbors(e){var r=this.predecessors(e);if(r)return sr(r,this.successors(e))}isLeaf(e){var r;return this.isDirected()?r=this.successors(e):r=this.neighbors(e),r.length===0}filterNodes(e){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var n=this;b(this._nodes,function(a,o){e(o)&&r.setNode(o,a)}),b(this._edgeObjs,function(a){r.hasNode(a.v)&&r.hasNode(a.w)&&r.setEdge(a,n.edge(a))});var s={};function i(a){var o=n.parent(a);return o===void 0||r.hasNode(o)?(s[a]=o,o):o in s?s[o]:i(o)}return this._isCompound&&b(r.nodes(),function(a){r.setParent(a,i(a))}),r}setDefaultEdgeLabel(e){return x(e)||(e=A(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return N(this._edgeObjs)}setPath(e,r){var n=this,s=arguments;return kt(e,function(i,a){return s.length>1?n.setEdge(i,a,r):n.setEdge(i,a),a}),this}setEdge(){var e,r,n,s,i=!1,a=arguments[0];typeof a=="object"&&a!==null&&"v"in a?(e=a.v,r=a.w,n=a.name,arguments.length===2&&(s=arguments[1],i=!0)):(e=a,r=arguments[1],n=arguments[3],arguments.length>2&&(s=arguments[2],i=!0)),e=""+e,r=""+r,m(n)||(n=""+n);var o=T(this._isDirected,e,r,n);if(l(this._edgeLabels,o))return i&&(this._edgeLabels[o]=s),this;if(!m(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(r),this._edgeLabels[o]=i?s:this._defaultEdgeLabelFn(e,r,n);var h=ar(this._isDirected,e,r,n);return e=h.v,r=h.w,Object.freeze(h),this._edgeObjs[o]=h,Y(this._preds[r],e),Y(this._sucs[e],r),this._in[r][o]=h,this._out[e][o]=h,this._edgeCount++,this}edge(e,r,n){var s=arguments.length===1?F(this._isDirected,arguments[0]):T(this._isDirected,e,r,n);return this._edgeLabels[s]}hasEdge(e,r,n){var s=arguments.length===1?F(this._isDirected,arguments[0]):T(this._isDirected,e,r,n);return l(this._edgeLabels,s)}removeEdge(e,r,n){var s=arguments.length===1?F(this._isDirected,arguments[0]):T(this._isDirected,e,r,n),i=this._edgeObjs[s];return i&&(e=i.v,r=i.w,delete this._edgeLabels[s],delete this._edgeObjs[s],H(this._preds[r],e),H(this._sucs[e],r),delete this._in[r][s],delete this._out[e][s],this._edgeCount--),this}inEdges(e,r){var n=this._in[e];if(n){var s=N(n);return r?E(s,function(i){return i.v===r}):s}}outEdges(e,r){var n=this._out[e];if(n){var s=N(n);return r?E(s,function(i){return i.w===r}):s}}nodeEdges(e,r){var n=this.inEdges(e,r);if(n)return n.concat(this.outEdges(e,r))}}ne.prototype._nodeCount=0;ne.prototype._edgeCount=0;function Y(t,e){t[e]?t[e]++:t[e]=1}function H(t,e){--t[e]||delete t[e]}function T(t,e,r,n){var s=""+e,i=""+r;if(!t&&s>i){var a=s;s=i,i=a}return s+K+i+K+(m(n)?ir:n)}function ar(t,e,r,n){var s=""+e,i=""+r;if(!t&&s>i){var a=s;s=i,i=a}var o={v:s,w:i};return n&&(o.name=n),o}function F(t,e){return T(t,e.v,e.w,e.name)}export{ne as G,Ne as a,S as b,Wt as c,E as d,b as f,l as h,m as i,kt as r,N as v};
