import{s as me,c as Ue,e as Be,d as Le,f as le,i as H,q as E,D as ie,k as J,O as De,u as qe,g as je,a as Je,v as yt,ap as qt,o as G,b as He,t as At,j as Te,h as Yt,m as Xt,a2 as ve,_ as Ce,$ as nt,al as Ze,w as Ae,an as j,B as se,P as Se,G as ze,Q as Ee,am as jt,C as sn,N as Jt,Y as rn,F as Nn,at as Zi,E as Fi,R as Qt,W as _e,l as We,n as ke,a1 as Tt,p as Qo,a0 as po,ak as xo,ao as $o,au as el,r as Gn,S as Un}from"./scheduler.XFNaxh87.js";import{S as he,i as ge,t as N,a as K,c as re,b as ce,m as ae,d as ue,g as Ye,e as Xe}from"./index.CZJgJfrq.js";import{g as ct,a as vt}from"./spread.CgU5AtxT.js";import{w as ee,r as $e,d as Ot}from"./index.BQBQGMgF.js";import{e as bt,u as an,o as un}from"./each.BM1lhngx.js";import{g as tl}from"./globals.D0QH3NT1.js";import{s as xe,k as Gi,l as Vn,T as bn,m as yn,t as nl}from"./transform.B54KPHx3.js";function il(t){let e;for(;e=t.sourceEvent;)t=e;return t}function et(t,e){if(t=il(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const ol={passive:!1},Vt={capture:!0,passive:!1};function _n(t){t.stopImmediatePropagation()}function Dt(t){t.preventDefault(),t.stopImmediatePropagation()}function Ui(t){var e=t.document.documentElement,n=xe(t).on("dragstart.drag",Dt,Vt);"onselectstart"in e?n.on("selectstart.drag",Dt,Vt):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function qi(t,e){var n=t.document.documentElement,i=xe(t).on("dragstart.drag",null);e&&(i.on("click.drag",Dt,Vt),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Zt=t=>()=>t;function On(t,{sourceEvent:e,subject:n,target:i,identifier:o,active:s,x:l,y:r,dx:a,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:r,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}On.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function ll(t){return!t.ctrlKey&&!t.button}function sl(){return this.parentNode}function rl(t,e){return e??{x:t.x,y:t.y}}function al(){return navigator.maxTouchPoints||"ontouchstart"in this}function ul(){var t=ll,e=sl,n=rl,i=al,o={},s=Gi("start","drag","end"),l=0,r,a,u,f,h=0;function d(M){M.on("mousedown.drag",c).filter(i).on("touchstart.drag",y).on("touchmove.drag",g,ol).on("touchend.drag touchcancel.drag",z).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(M,Y){if(!(f||!t.call(this,M,Y))){var Z=w(this,e.call(this,M,Y),M,Y,"mouse");Z&&(xe(M.view).on("mousemove.drag",b,Vt).on("mouseup.drag",m,Vt),Ui(M.view),_n(M),u=!1,r=M.clientX,a=M.clientY,Z("start",M))}}function b(M){if(Dt(M),!u){var Y=M.clientX-r,Z=M.clientY-a;u=Y*Y+Z*Z>h}o.mouse("drag",M)}function m(M){xe(M.view).on("mousemove.drag mouseup.drag",null),qi(M.view,u),Dt(M),o.mouse("end",M)}function y(M,Y){if(t.call(this,M,Y)){var Z=M.changedTouches,B=e.call(this,M,Y),V=Z.length,v,W;for(v=0;v<V;++v)(W=w(this,B,M,Y,Z[v].identifier,Z[v]))&&(_n(M),W("start",M,Z[v]))}}function g(M){var Y=M.changedTouches,Z=Y.length,B,V;for(B=0;B<Z;++B)(V=o[Y[B].identifier])&&(Dt(M),V("drag",M,Y[B]))}function z(M){var Y=M.changedTouches,Z=Y.length,B,V;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),B=0;B<Z;++B)(V=o[Y[B].identifier])&&(_n(M),V("end",M,Y[B]))}function w(M,Y,Z,B,V,v){var W=s.copy(),U=et(v||Z,Y),$,A,_;if((_=n.call(M,new On("beforestart",{sourceEvent:Z,target:d,identifier:V,active:l,x:U[0],y:U[1],dx:0,dy:0,dispatch:W}),B))!=null)return $=_.x-U[0]||0,A=_.y-U[1]||0,function S(k,P,D){var I=U,X;switch(k){case"start":o[V]=S,X=l++;break;case"end":delete o[V],--l;case"drag":U=et(D||P,Y),X=l;break}W.call(k,M,new On(k,{sourceEvent:P,subject:_,target:d,identifier:V,active:X,x:U[0]+$,y:U[1]+A,dx:U[0]-I[0],dy:U[1]-I[1],dispatch:W}),B)}}return d.filter=function(M){return arguments.length?(t=typeof M=="function"?M:Zt(!!M),d):t},d.container=function(M){return arguments.length?(e=typeof M=="function"?M:Zt(M),d):e},d.subject=function(M){return arguments.length?(n=typeof M=="function"?M:Zt(M),d):n},d.touchable=function(M){return arguments.length?(i=typeof M=="function"?M:Zt(!!M),d):i},d.on=function(){var M=s.on.apply(s,arguments);return M===s?d:M},d.clickDistance=function(M){return arguments.length?(h=(M=+M)*M,d):Math.sqrt(h)},d}var fl=1e-12;function qn(t){return((t=Math.exp(t))+1/t)/2}function cl(t){return((t=Math.exp(t))-1/t)/2}function dl(t){return((t=Math.exp(2*t))-1)/(t+1)}const hl=function t(e,n,i){function o(s,l){var r=s[0],a=s[1],u=s[2],f=l[0],h=l[1],d=l[2],c=f-r,b=h-a,m=c*c+b*b,y,g;if(m<fl)g=Math.log(d/u)/e,y=function(B){return[r+B*c,a+B*b,u*Math.exp(e*B*g)]};else{var z=Math.sqrt(m),w=(d*d-u*u+i*m)/(2*u*n*z),M=(d*d-u*u-i*m)/(2*d*n*z),Y=Math.log(Math.sqrt(w*w+1)-w),Z=Math.log(Math.sqrt(M*M+1)-M);g=(Z-Y)/e,y=function(B){var V=B*g,v=qn(Y),W=u/(n*z)*(v*dl(e*V+Y)-cl(Y));return[r+W*c,a+W*b,u*v/qn(e*V+Y)]}}return y.duration=g*1e3*e/Math.SQRT2,y}return o.rho=function(s){var l=Math.max(.001,+s),r=l*l,a=r*r;return t(l,r,a)},o}(Math.SQRT2,2,4),Ft=t=>()=>t;function gl(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function kn(t){t.stopImmediatePropagation()}function Nt(t){t.preventDefault(),t.stopImmediatePropagation()}function ml(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function bl(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function jn(){return this.__zoom||Vn}function yl(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function _l(){return navigator.maxTouchPoints||"ontouchstart"in this}function kl(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],l=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),l>s?(s+l)/2:Math.min(0,s)||Math.max(0,l))}function ji(){var t=ml,e=bl,n=kl,i=yl,o=_l,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],r=250,a=hl,u=Gi("start","zoom","end"),f,h,d,c=500,b=150,m=0,y=10;function g(_){_.property("__zoom",jn).on("wheel.zoom",V,{passive:!1}).on("mousedown.zoom",v).on("dblclick.zoom",W).filter(o).on("touchstart.zoom",U).on("touchmove.zoom",$).on("touchend.zoom touchcancel.zoom",A).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(_,S,k,P){var D=_.selection?_.selection():_;D.property("__zoom",jn),_!==D?Y(_,S,k,P):D.interrupt().each(function(){Z(this,arguments).event(P).start().zoom(null,typeof S=="function"?S.apply(this,arguments):S).end()})},g.scaleBy=function(_,S,k,P){g.scaleTo(_,function(){var D=this.__zoom.k,I=typeof S=="function"?S.apply(this,arguments):S;return D*I},k,P)},g.scaleTo=function(_,S,k,P){g.transform(_,function(){var D=e.apply(this,arguments),I=this.__zoom,X=k==null?M(D):typeof k=="function"?k.apply(this,arguments):k,q=I.invert(X),F=typeof S=="function"?S.apply(this,arguments):S;return n(w(z(I,F),X,q),D,l)},k,P)},g.translateBy=function(_,S,k,P){g.transform(_,function(){return n(this.__zoom.translate(typeof S=="function"?S.apply(this,arguments):S,typeof k=="function"?k.apply(this,arguments):k),e.apply(this,arguments),l)},null,P)},g.translateTo=function(_,S,k,P,D){g.transform(_,function(){var I=e.apply(this,arguments),X=this.__zoom,q=P==null?M(I):typeof P=="function"?P.apply(this,arguments):P;return n(Vn.translate(q[0],q[1]).scale(X.k).translate(typeof S=="function"?-S.apply(this,arguments):-S,typeof k=="function"?-k.apply(this,arguments):-k),I,l)},P,D)};function z(_,S){return S=Math.max(s[0],Math.min(s[1],S)),S===_.k?_:new bn(S,_.x,_.y)}function w(_,S,k){var P=S[0]-k[0]*_.k,D=S[1]-k[1]*_.k;return P===_.x&&D===_.y?_:new bn(_.k,P,D)}function M(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function Y(_,S,k,P){_.on("start.zoom",function(){Z(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){Z(this,arguments).event(P).end()}).tween("zoom",function(){var D=this,I=arguments,X=Z(D,I).event(P),q=e.apply(D,I),F=k==null?M(q):typeof k=="function"?k.apply(D,I):k,T=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),x=D.__zoom,te=typeof S=="function"?S.apply(D,I):S,ye=a(x.invert(F).concat(T/x.k),te.invert(F).concat(T/te.k));return function(O){if(O===1)O=te;else{var ne=ye(O),de=T/ne[2];O=new bn(de,F[0]-ne[0]*de,F[1]-ne[1]*de)}X.zoom(null,O)}})}function Z(_,S,k){return!k&&_.__zooming||new B(_,S)}function B(_,S){this.that=_,this.args=S,this.active=0,this.sourceEvent=null,this.extent=e.apply(_,S),this.taps=0}B.prototype={event:function(_){return _&&(this.sourceEvent=_),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(_,S){return this.mouse&&_!=="mouse"&&(this.mouse[1]=S.invert(this.mouse[0])),this.touch0&&_!=="touch"&&(this.touch0[1]=S.invert(this.touch0[0])),this.touch1&&_!=="touch"&&(this.touch1[1]=S.invert(this.touch1[0])),this.that.__zoom=S,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(_){var S=xe(this.that).datum();u.call(_,this.that,new gl(_,{sourceEvent:this.sourceEvent,target:g,type:_,transform:this.that.__zoom,dispatch:u}),S)}};function V(_,...S){if(!t.apply(this,arguments))return;var k=Z(this,S).event(_),P=this.__zoom,D=Math.max(s[0],Math.min(s[1],P.k*Math.pow(2,i.apply(this,arguments)))),I=et(_);if(k.wheel)(k.mouse[0][0]!==I[0]||k.mouse[0][1]!==I[1])&&(k.mouse[1]=P.invert(k.mouse[0]=I)),clearTimeout(k.wheel);else{if(P.k===D)return;k.mouse=[I,P.invert(I)],yn(this),k.start()}Nt(_),k.wheel=setTimeout(X,b),k.zoom("mouse",n(w(z(P,D),k.mouse[0],k.mouse[1]),k.extent,l));function X(){k.wheel=null,k.end()}}function v(_,...S){if(d||!t.apply(this,arguments))return;var k=_.currentTarget,P=Z(this,S,!0).event(_),D=xe(_.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",T,!0),I=et(_,k),X=_.clientX,q=_.clientY;Ui(_.view),kn(_),P.mouse=[I,this.__zoom.invert(I)],yn(this),P.start();function F(x){if(Nt(x),!P.moved){var te=x.clientX-X,ye=x.clientY-q;P.moved=te*te+ye*ye>m}P.event(x).zoom("mouse",n(w(P.that.__zoom,P.mouse[0]=et(x,k),P.mouse[1]),P.extent,l))}function T(x){D.on("mousemove.zoom mouseup.zoom",null),qi(x.view,P.moved),Nt(x),P.event(x).end()}}function W(_,...S){if(t.apply(this,arguments)){var k=this.__zoom,P=et(_.changedTouches?_.changedTouches[0]:_,this),D=k.invert(P),I=k.k*(_.shiftKey?.5:2),X=n(w(z(k,I),P,D),e.apply(this,S),l);Nt(_),r>0?xe(this).transition().duration(r).call(Y,X,P,_):xe(this).call(g.transform,X,P,_)}}function U(_,...S){if(t.apply(this,arguments)){var k=_.touches,P=k.length,D=Z(this,S,_.changedTouches.length===P).event(_),I,X,q,F;for(kn(_),X=0;X<P;++X)q=k[X],F=et(q,this),F=[F,this.__zoom.invert(F),q.identifier],D.touch0?!D.touch1&&D.touch0[2]!==F[2]&&(D.touch1=F,D.taps=0):(D.touch0=F,I=!0,D.taps=1+!!f);f&&(f=clearTimeout(f)),I&&(D.taps<2&&(h=F[0],f=setTimeout(function(){f=null},c)),yn(this),D.start())}}function $(_,...S){if(this.__zooming){var k=Z(this,S).event(_),P=_.changedTouches,D=P.length,I,X,q,F;for(Nt(_),I=0;I<D;++I)X=P[I],q=et(X,this),k.touch0&&k.touch0[2]===X.identifier?k.touch0[0]=q:k.touch1&&k.touch1[2]===X.identifier&&(k.touch1[0]=q);if(X=k.that.__zoom,k.touch1){var T=k.touch0[0],x=k.touch0[1],te=k.touch1[0],ye=k.touch1[1],O=(O=te[0]-T[0])*O+(O=te[1]-T[1])*O,ne=(ne=ye[0]-x[0])*ne+(ne=ye[1]-x[1])*ne;X=z(X,Math.sqrt(O/ne)),q=[(T[0]+te[0])/2,(T[1]+te[1])/2],F=[(x[0]+ye[0])/2,(x[1]+ye[1])/2]}else if(k.touch0)q=k.touch0[0],F=k.touch0[1];else return;k.zoom("touch",n(w(X,q,F),k.extent,l))}}function A(_,...S){if(this.__zooming){var k=Z(this,S).event(_),P=_.changedTouches,D=P.length,I,X;for(kn(_),d&&clearTimeout(d),d=setTimeout(function(){d=null},c),I=0;I<D;++I)X=P[I],k.touch0&&k.touch0[2]===X.identifier?delete k.touch0:k.touch1&&k.touch1[2]===X.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(X=et(X,this),Math.hypot(h[0]-X[0],h[1]-X[1])<y)){var q=xe(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return g.wheelDelta=function(_){return arguments.length?(i=typeof _=="function"?_:Ft(+_),g):i},g.filter=function(_){return arguments.length?(t=typeof _=="function"?_:Ft(!!_),g):t},g.touchable=function(_){return arguments.length?(o=typeof _=="function"?_:Ft(!!_),g):o},g.extent=function(_){return arguments.length?(e=typeof _=="function"?_:Ft([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),g):e},g.scaleExtent=function(_){return arguments.length?(s[0]=+_[0],s[1]=+_[1],g):[s[0],s[1]]},g.translateExtent=function(_){return arguments.length?(l[0][0]=+_[0][0],l[1][0]=+_[1][0],l[0][1]=+_[0][1],l[1][1]=+_[1][1],g):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},g.constrain=function(_){return arguments.length?(n=_,g):n},g.duration=function(_){return arguments.length?(r=+_,g):r},g.interpolate=function(_){return arguments.length?(a=_,g):a},g.on=function(){var _=u.on.apply(u,arguments);return _===u?g:_},g.clickDistance=function(_){return arguments.length?(m=(_=+_)*_,g):Math.sqrt(m)},g.tapDistance=function(_){return arguments.length?(y=+_,g):y},g}function Me(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,i;n<t.length;n++)(i=Me(t[n]))!==""&&(e+=(e&&" ")+i);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}const Wt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${t} handle id: "${n&&i}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`},Jn=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var kt;(function(t){t.Strict="strict",t.Loose="loose"})(kt||(kt={}));var lt;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(lt||(lt={}));var pt;(function(t){t.Partial="partial",t.Full="full"})(pt||(pt={}));const Dn={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Ht;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Ht||(Ht={}));var xt;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(xt||(xt={}));var fe;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(fe||(fe={}));const Qn={[fe.Left]:fe.Right,[fe.Right]:fe.Left,[fe.Top]:fe.Bottom,[fe.Bottom]:fe.Top};function wl(t,e){if(!t&&!e)return!0;if(!t||!e||t.size!==e.size)return!1;if(!t.size&&!e.size)return!0;for(const n of t.keys())if(!e.has(n))return!1;return!0}function pn(t,e,n){if(!n)return;const i=[];t.forEach((o,s)=>{e!=null&&e.has(s)||i.push(o)}),i.length&&n(i)}function xn(t){return t===null?null:t?"valid":"invalid"}const Sl=t=>"id"in t&&"source"in t&&"target"in t,hu=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),Ji=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),Bt=(t,e=[0,0])=>{const{width:n,height:i}=cn(t),o=t.origin??e,s=n*o[0],l=i*o[1];return{x:t.position.x-s,y:t.position.y-l}},Lt=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(i=>{if(e.filter===void 0||e.filter(i)){const o=vn(i);n=An(n,o)}}),Yn(n)},Qi=(t,e,[n,i,o]=[0,0,1],s=!1,l=!1)=>{const r={...fn(e,[n,i,o]),width:e.width/o,height:e.height/o},a=[];for(const[,u]of t){const{measured:f,selectable:h=!0,hidden:d=!1}=u,c=f.width??u.width??u.initialWidth??null,b=f.height??u.height??u.initialHeight??null;if(l&&!h||d)continue;const m=$i(r,Xn(u)),y=c===null||b===null,g=s&&m>0,z=(c??0)*(b??0);(y||g||m>=z||u.dragging)&&a.push(u)}return a},Hn=(t,e)=>{const n=new Set;return t.forEach(i=>{n.add(i.id)}),e.filter(i=>n.has(i.source)||n.has(i.target))};function $n(t,e){const n=new Map,i=e!=null&&e.nodes?new Set(e.nodes.map(o=>o.id)):null;return t.forEach(o=>{o.measured.width&&o.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!o.hidden)&&(!i||i.has(o.id))&&n.set(o.id,o)}),n}async function ei({nodes:t,width:e,height:n,panZoom:i,minZoom:o,maxZoom:s},l){if(t.size===0)return Promise.resolve(!1);const r=Lt(t),a=eo(r,e,n,(l==null?void 0:l.minZoom)??o,(l==null?void 0:l.maxZoom)??s,(l==null?void 0:l.padding)??.1);return await i.setViewport(a,{duration:l==null?void 0:l.duration}),Promise.resolve(!0)}function El(t,e){var n,i;return!e||e==="parent"?e:[e[0],[e[1][0]-(((n=t.measured)==null?void 0:n.width)??0),e[1][1]-(((i=t.measured)==null?void 0:i.height)??0)]]}function Cl({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:o,onError:s}){const l=n.get(t),r=l.parentId?n.get(l.parentId):void 0,{x:a,y:u}=r?r.internals.positionAbsolute:{x:0,y:0},f=l.origin??i;let h=El(l,l.extent||o);if(l.extent==="parent"&&!l.expandParent)if(!r)s==null||s("005",Wt.error005());else{const c=l.measured.width,b=l.measured.height,m=r.measured.width,y=r.measured.height;c&&b&&m&&y&&(h=[[a,u],[a+m-c,u+y-b]])}else r&&ni(l.extent)&&(h=[[l.extent[0][0]+a,l.extent[0][1]+u],[l.extent[1][0]+a,l.extent[1][1]+u]]);const d=ni(h)?Ml(e,h):e;return{position:{x:d.x-a+l.measured.width*f[0],y:d.y-u+l.measured.height*f[1]},positionAbsolute:d}}async function zl({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:i,onBeforeDelete:o}){const s=new Set(t.map(d=>d.id)),l=[];for(const d of n){if(d.deletable===!1)continue;const c=s.has(d.id),b=!c&&d.parentId&&l.find(m=>m.id===d.parentId);(c||b)&&l.push(d)}const r=new Set(e.map(d=>d.id)),a=i.filter(d=>d.deletable!==!1),f=Hn(l,a);for(const d of a)r.has(d.id)&&!f.find(b=>b.id===d.id)&&f.push(d);if(!o)return{edges:f,nodes:l};const h=await o({nodes:l,edges:f});return typeof h=="boolean"?h?{edges:f,nodes:l}:{edges:[],nodes:[]}:h}const It=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Ml=(t={x:0,y:0},e)=>({x:It(t.x,e[0][0],e[1][0]),y:It(t.y,e[0][1],e[1][1])}),ti=(t,e,n)=>t<e?It(Math.abs(t-e),1,e)/e:t>n?-It(Math.abs(t-n),1,e)/e:0,pi=(t,e,n=15,i=40)=>{const o=ti(t.x,i,e.width-i)*n,s=ti(t.y,i,e.height-i)*n;return[o,s]},An=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Tn=({x:t,y:e,width:n,height:i})=>({x:t,y:e,x2:t+n,y2:e+i}),Yn=({x:t,y:e,x2:n,y2:i})=>({x:t,y:e,width:n-t,height:i-e}),Xn=(t,e=[0,0])=>{var o,s;const{x:n,y:i}=Ji(t)?t.internals.positionAbsolute:Bt(t,e);return{x:n,y:i,width:((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0,height:((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0}},vn=(t,e=[0,0])=>{var o,s;const{x:n,y:i}=Ji(t)?t.internals.positionAbsolute:Bt(t,e);return{x:n,y:i,x2:n+(((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0),y2:i+(((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0)}},xi=(t,e)=>Yn(An(Tn(t),Tn(e))),$i=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),i=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*i)},gu=t=>tt(t.width)&&tt(t.height)&&tt(t.x)&&tt(t.y),tt=t=>!isNaN(t)&&isFinite(t),Pl=(t,e)=>{},Wn=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),fn=({x:t,y:e},[n,i,o],s=!1,l=[1,1])=>{const r={x:(t-n)/o,y:(e-i)/o};return s?Wn(r,l):r},Ol=({x:t,y:e},[n,i,o])=>({x:t*o+n,y:e*o+i}),eo=(t,e,n,i,o,s)=>{const l=e/(t.width*(1+s)),r=n/(t.height*(1+s)),a=Math.min(l,r),u=It(a,i,o),f=t.x+t.width/2,h=t.y+t.height/2,d=e/2-f*u,c=n/2-h*u;return{x:d,y:c,zoom:u}},$t=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function ni(t){return t!==void 0&&t!=="parent"}function cn(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function en(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function wn(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:i}){const{x:o,y:s}=ft(t),l=fn({x:o,y:s},i),{x:r,y:a}=n?Wn(l,e):l;return{xSnapped:r,ySnapped:a,...l}}const to=t=>({width:t.offsetWidth,height:t.offsetHeight}),Dl=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},Hl=["INPUT","SELECT","TEXTAREA"];function Tl(t){var i,o;const e=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||t.target;return Hl.includes(e==null?void 0:e.nodeName)||(e==null?void 0:e.hasAttribute("contenteditable"))||!!(e!=null&&e.closest(".nokey"))}const no=t=>"clientX"in t,ft=(t,e)=>{var s,l;const n=no(t),i=n?t.clientX:(s=t.touches)==null?void 0:s[0].clientX,o=n?t.clientY:(l=t.touches)==null?void 0:l[0].clientY;return{x:i-((e==null?void 0:e.left)??0),y:o-((e==null?void 0:e.top)??0)}},ii=(t,e,n,i,o)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(l=>{const r=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),type:t,nodeId:o,position:l.getAttribute("data-handlepos"),x:(r.left-n.left)/i,y:(r.top-n.top)/i,...to(l)}})};function vl({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:o,sourceControlY:s,targetControlX:l,targetControlY:r}){const a=t*.125+o*.375+l*.375+n*.125,u=e*.125+s*.375+r*.375+i*.125,f=Math.abs(a-t),h=Math.abs(u-e);return[a,u,f,h]}function Gt(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function oi({pos:t,x1:e,y1:n,x2:i,y2:o,c:s}){switch(t){case fe.Left:return[e-Gt(e-i,s),n];case fe.Right:return[e+Gt(i-e,s),n];case fe.Top:return[e,n-Gt(n-o,s)];case fe.Bottom:return[e,n+Gt(o-n,s)]}}function io({sourceX:t,sourceY:e,sourcePosition:n=fe.Bottom,targetX:i,targetY:o,targetPosition:s=fe.Top,curvature:l=.25}){const[r,a]=oi({pos:n,x1:t,y1:e,x2:i,y2:o,c:l}),[u,f]=oi({pos:s,x1:i,y1:o,x2:t,y2:e,c:l}),[h,d,c,b]=vl({sourceX:t,sourceY:e,targetX:i,targetY:o,sourceControlX:r,sourceControlY:a,targetControlX:u,targetControlY:f});return[`M${t},${e} C${r},${a} ${u},${f} ${i},${o}`,h,d,c,b]}function oo({sourceX:t,sourceY:e,targetX:n,targetY:i}){const o=Math.abs(n-t)/2,s=n<t?n+o:n-o,l=Math.abs(i-e)/2,r=i<e?i+l:i-l;return[s,r,o,l]}function Il({sourceNode:t,targetNode:e,selected:n=!1,zIndex:i=0,elevateOnSelect:o=!1}){if(!o)return i;const s=n||e.selected||t.selected,l=Math.max(t.internals.z||0,e.internals.z||0,1e3);return i+(s?l:0)}function Nl({sourceNode:t,targetNode:e,width:n,height:i,transform:o}){const s=An(vn(t),vn(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const l={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return $i(l,Yn(s))>0}const Vl=({source:t,sourceHandle:e,target:n,targetHandle:i})=>`xy-edge__${t}${e||""}-${n}${i||""}`,Al=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),Yl=(t,e)=>{if(!t.source||!t.target)return e;let n;return Sl(t)?n={...t}:n={...t,id:Vl(t)},Al(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function lo({sourceX:t,sourceY:e,targetX:n,targetY:i}){const[o,s,l,r]=oo({sourceX:t,sourceY:e,targetX:n,targetY:i});return[`M ${t},${e}L ${n},${i}`,o,s,l,r]}const li={[fe.Left]:{x:-1,y:0},[fe.Right]:{x:1,y:0},[fe.Top]:{x:0,y:-1},[fe.Bottom]:{x:0,y:1}},Xl=({source:t,sourcePosition:e=fe.Bottom,target:n})=>e===fe.Left||e===fe.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},si=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function Wl({source:t,sourcePosition:e=fe.Bottom,target:n,targetPosition:i=fe.Top,center:o,offset:s}){const l=li[e],r=li[i],a={x:t.x+l.x*s,y:t.y+l.y*s},u={x:n.x+r.x*s,y:n.y+r.y*s},f=Xl({source:a,sourcePosition:e,target:u}),h=f.x!==0?"x":"y",d=f[h];let c=[],b,m;const y={x:0,y:0},g={x:0,y:0},[z,w,M,Y]=oo({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(l[h]*r[h]===-1){b=o.x??z,m=o.y??w;const B=[{x:b,y:a.y},{x:b,y:u.y}],V=[{x:a.x,y:m},{x:u.x,y:m}];l[h]===d?c=h==="x"?B:V:c=h==="x"?V:B}else{const B=[{x:a.x,y:u.y}],V=[{x:u.x,y:a.y}];if(h==="x"?c=l.x===d?V:B:c=l.y===d?B:V,e===i){const A=Math.abs(t[h]-n[h]);if(A<=s){const _=Math.min(s-1,s-A);l[h]===d?y[h]=(a[h]>t[h]?-1:1)*_:g[h]=(u[h]>n[h]?-1:1)*_}}if(e!==i){const A=h==="x"?"y":"x",_=l[h]===r[A],S=a[A]>u[A],k=a[A]<u[A];(l[h]===1&&(!_&&S||_&&k)||l[h]!==1&&(!_&&k||_&&S))&&(c=h==="x"?B:V)}const v={x:a.x+y.x,y:a.y+y.y},W={x:u.x+g.x,y:u.y+g.y},U=Math.max(Math.abs(v.x-c[0].x),Math.abs(W.x-c[0].x)),$=Math.max(Math.abs(v.y-c[0].y),Math.abs(W.y-c[0].y));U>=$?(b=(v.x+W.x)/2,m=c[0].y):(b=c[0].x,m=(v.y+W.y)/2)}return[[t,{x:a.x+y.x,y:a.y+y.y},...c,{x:u.x+g.x,y:u.y+g.y},n],b,m,M,Y]}function Bl(t,e,n,i){const o=Math.min(si(t,e)/2,si(e,n)/2,i),{x:s,y:l}=e;if(t.x===s&&s===n.x||t.y===l&&l===n.y)return`L${s} ${l}`;if(t.y===l){const u=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${s+o*u},${l}Q ${s},${l} ${s},${l+o*f}`}const r=t.x<n.x?1:-1,a=t.y<n.y?-1:1;return`L ${s},${l+o*a}Q ${s},${l} ${s+o*r},${l}`}function tn({sourceX:t,sourceY:e,sourcePosition:n=fe.Bottom,targetX:i,targetY:o,targetPosition:s=fe.Top,borderRadius:l=5,centerX:r,centerY:a,offset:u=20}){const[f,h,d,c,b]=Wl({source:{x:t,y:e},sourcePosition:n,target:{x:i,y:o},targetPosition:s,center:{x:r,y:a},offset:u});return[f.reduce((y,g,z)=>{let w="";return z>0&&z<f.length-1?w=Bl(f[z-1],g,f[z+1],l):w=`${z===0?"M":"L"}${g.x} ${g.y}`,y+=w,y},""),h,d,c,b]}function ri(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function Ll(t){var h;const{sourceNode:e,targetNode:n}=t;if(!ri(e)||!ri(n))return null;const i=e.internals.handleBounds||ai(e.handles),o=n.internals.handleBounds||ai(n.handles),s=ui((i==null?void 0:i.source)??[],t.sourceHandle),l=ui(t.connectionMode===kt.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),t.targetHandle);if(!s||!l)return(h=t.onError)==null||h.call(t,"008",Wt.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const r=(s==null?void 0:s.position)||fe.Bottom,a=(l==null?void 0:l.position)||fe.Top,u=nn(e,s,r),f=nn(n,l,a);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:r,targetPosition:a}}function ai(t){if(!t)return null;const e=[],n=[];for(const i of t)i.width=i.width??1,i.height=i.height??1,i.type==="source"?e.push(i):i.type==="target"&&n.push(i);return{source:e,target:n}}function nn(t,e,n=fe.Left,i=!1){const o=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,s=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:l,height:r}=e??cn(t);if(i)return{x:o+l/2,y:s+r/2};switch((e==null?void 0:e.position)??n){case fe.Top:return{x:o+l/2,y:s};case fe.Right:return{x:o+l,y:s+r/2};case fe.Bottom:return{x:o+l/2,y:s+r};case fe.Left:return{x:o,y:s+r/2}}}function ui(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function In(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`:""}function Kl(t,{id:e,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:o}){const s=new Set;return t.reduce((l,r)=>([r.markerStart||i,r.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const u=In(a,e);s.has(u)||(l.push({id:u,color:a.color||n,...a}),s.add(u))}}),l),[]).sort((l,r)=>l.id.localeCompare(r.id))}const so={nodeOrigin:[0,0],elevateNodesOnSelect:!0,defaults:{}},Rl={...so,checkEquality:!0};function ro(t,e,n,i){var r,a;const o={...Rl,...i},s=new Map(e);e.clear(),n.clear();const l=i!=null&&i.elevateNodesOnSelect?1e3:0;for(const u of t){let f=s.get(u.id);o.checkEquality&&u===(f==null?void 0:f.internals.userNode)||(f={...o.defaults,...u,measured:{width:(r=u.measured)==null?void 0:r.width,height:(a=u.measured)==null?void 0:a.height},internals:{positionAbsolute:Bt(u,o.nodeOrigin),handleBounds:u.measured?f==null?void 0:f.internals.handleBounds:void 0,z:uo(u,l),userNode:u}}),e.set(u.id,f),u.parentId&&ao(f,e,n,i)}}function ao(t,e,n,i){const o={...so,...i},s=t.parentId,l=e.get(s);if(!l){console.warn(`Parent node ${s} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}const r=n.get(s);r?r.set(t.id,t):n.set(s,new Map([[t.id,t]]));const a=i!=null&&i.elevateNodesOnSelect?1e3:0,{x:u,y:f,z:h}=Zl(t,l,o.nodeOrigin,a),d=t.internals.positionAbsolute,c=u!==d.x||f!==d.y;(c||h!==t.internals.z)&&(t.internals={...t.internals,positionAbsolute:c?{x:u,y:f}:d,z:h})}function uo(t,e){return(tt(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function Zl(t,e,n,i){const o=Bt(t,n),s=uo(t,i),l=e.internals.z??0;return{x:e.internals.positionAbsolute.x+o.x,y:e.internals.positionAbsolute.y+o.y,z:l>s?l:s}}function Fl(t,e,n,i=[0,0]){var l;const o=[],s=new Map;for(const r of t){const a=e.get(r.parentId);if(!a)continue;const u=((l=s.get(r.parentId))==null?void 0:l.expandedRect)??Xn(a),f=xi(u,r.rect);s.set(r.parentId,{expandedRect:f,parent:a})}return s.size>0&&s.forEach(({expandedRect:r,parent:a},u)=>{var w;const f=a.internals.positionAbsolute,h=cn(a),d=a.origin??i,c=r.x<f.x?Math.round(Math.abs(f.x-r.x)):0,b=r.y<f.y?Math.round(Math.abs(f.y-r.y)):0,m=Math.max(h.width,Math.round(r.width)),y=Math.max(h.height,Math.round(r.height)),g=(m-h.width)*d[0],z=(y-h.height)*d[1];(c>0||b>0||g||z)&&(o.push({id:u,type:"position",position:{x:a.position.x-c+g,y:a.position.y-b+z}}),(w=n.get(u))==null||w.forEach(M=>{t.some(Y=>Y.id===M.id)||o.push({id:M.id,type:"position",position:{x:M.position.x+c,y:M.position.y+b}})})),(h.width<r.width||h.height<r.height||c||b)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:m+(c?d[0]*c-g:0),height:y+(b?d[1]*b-z:0)}})}),o}function Gl(t,e,n,i,o){const s=i==null?void 0:i.querySelector(".xyflow__viewport");let l=!1;if(!s)return{changes:[],updatedInternals:l};const r=[],a=window.getComputedStyle(s),{m22:u}=new window.DOMMatrixReadOnly(a.transform),f=[];for(const h of t.values()){const d=e.get(h.id);if(d)if(d.hidden)d.internals={...d.internals,handleBounds:void 0},l=!0;else{const c=to(h.nodeElement),b=d.measured.width!==c.width||d.measured.height!==c.height;if(!!(c.width&&c.height&&(b||!d.internals.handleBounds||h.force))){const y=h.nodeElement.getBoundingClientRect();d.measured=c,d.internals={...d.internals,positionAbsolute:Bt(d,o),handleBounds:{source:ii("source",h.nodeElement,y,u,d.id),target:ii("target",h.nodeElement,y,u,d.id)}},d.parentId&&ao(d,e,n,{nodeOrigin:o}),l=!0,b&&(r.push({id:d.id,type:"dimensions",dimensions:c}),d.expandParent&&d.parentId&&f.push({id:d.id,parentId:d.parentId,rect:Xn(d,o)}))}}}if(f.length>0){const h=Fl(f,e,n,o);r.push(...h)}return{changes:r,updatedInternals:l}}async function Ul({delta:t,panZoom:e,transform:n,translateExtent:i,width:o,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const l=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[o,s]],i),r=!!l&&(l.x!==n[0]||l.y!==n[1]||l.k!==n[2]);return Promise.resolve(r)}function fo(t,e,n){t.clear(),e.clear();for(const i of n){const{source:o,target:s,sourceHandle:l=null,targetHandle:r=null}=i,a=`${o}-source-${l}`,u=`${s}-target-${r}`,f=t.get(a)||new Map,h=t.get(u)||new Map,d={edgeId:i.id,source:o,target:s,sourceHandle:l,targetHandle:r};e.set(i.id,i),t.set(a,f.set(`${s}-${r}`,d)),t.set(u,h.set(`${o}-${l}`,d))}}function co(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:co(n,e):!1}function fi(t,e,n){let i=t;do{if(i!=null&&i.matches(e))return!0;if(i===n)return!1;i=i.parentElement}while(i);return!1}function ql(t,e,n,i){const o=new Map;for(const[s,l]of t)if((l.selected||l.id===i)&&(!l.parentId||!co(l,t))&&(l.draggable||e&&typeof l.draggable>"u")){const r=t.get(s);r&&o.set(s,{id:s,position:r.position||{x:0,y:0},distance:{x:n.x-r.internals.positionAbsolute.x,y:n.y-r.internals.positionAbsolute.y},extent:r.extent,parentId:r.parentId,origin:r.origin,expandParent:r.expandParent,internals:{positionAbsolute:r.internals.positionAbsolute||{x:0,y:0}},measured:{width:r.measured.width??0,height:r.measured.height??0}})}return o}function Sn({nodeId:t,dragItems:e,nodeLookup:n,dragging:i=!0}){var l,r;const o=[];for(const[a,u]of e){const f=(l=n.get(a))==null?void 0:l.internals.userNode;f&&o.push({...f,position:u.position,dragging:i})}if(!t)return[o[0],o];const s=n.get(t).internals.userNode;return[{...s,position:((r=e.get(t))==null?void 0:r.position)||s.position,dragging:i},o]}function jl({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:i,onDragStop:o}){let s={x:null,y:null},l=0,r=new Map,a=!1,u={x:0,y:0},f=null,h=!1,d=null,c=!1;function b({noDragClassName:y,handleSelector:g,domNode:z,isSelectable:w,nodeId:M,nodeClickDistance:Y=0}){d=xe(z);function Z({x:W,y:U},$){const{nodeLookup:A,nodeExtent:_,snapGrid:S,snapToGrid:k,nodeOrigin:P,onNodeDrag:D,onSelectionDrag:I,onError:X,updateNodePositions:q}=e();s={x:W,y:U};let F=!1,T={x:0,y:0,x2:0,y2:0};if(r.size>1&&_){const x=Lt(r);T=Tn(x)}for(const[x,te]of r){let ye={x:W-te.distance.x,y:U-te.distance.y};k&&(ye=Wn(ye,S));let O=[[_[0][0],_[0][1]],[_[1][0],_[1][1]]];if(r.size>1&&_&&!te.extent){const{positionAbsolute:oe}=te.internals,be=oe.x-T.x+_[0][0],we=oe.x+te.measured.width-T.x2+_[1][0],Pe=oe.y-T.y+_[0][1],L=oe.y+te.measured.height-T.y2+_[1][1];O=[[be,Pe],[we,L]]}const{position:ne,positionAbsolute:de}=Cl({nodeId:x,nextPosition:ye,nodeLookup:A,nodeExtent:O,nodeOrigin:P,onError:X});F=F||te.position.x!==ne.x||te.position.y!==ne.y,te.position=ne,te.internals.positionAbsolute=de}if(F&&(q(r,!0),$&&(i||D||!M&&I))){const[x,te]=Sn({nodeId:M,dragItems:r,nodeLookup:A});i==null||i($,r,x,te),D==null||D($,x,te),M||I==null||I($,te)}}async function B(){if(!f)return;const{transform:W,panBy:U,autoPanSpeed:$}=e(),[A,_]=pi(u,f,$);(A!==0||_!==0)&&(s.x=(s.x??0)-A/W[2],s.y=(s.y??0)-_/W[2],await U({x:A,y:_})&&Z(s,null)),l=requestAnimationFrame(B)}function V(W){var F;const{nodeLookup:U,multiSelectionActive:$,nodesDraggable:A,transform:_,snapGrid:S,snapToGrid:k,selectNodesOnDrag:P,onNodeDragStart:D,onSelectionDragStart:I,unselectNodesAndEdges:X}=e();h=!0,(!P||!w)&&!$&&M&&((F=U.get(M))!=null&&F.selected||X()),w&&P&&M&&(t==null||t(M));const q=wn(W.sourceEvent,{transform:_,snapGrid:S,snapToGrid:k});if(s=q,r=ql(U,A,q,M),r.size>0&&(n||D||!M&&I)){const[T,x]=Sn({nodeId:M,dragItems:r,nodeLookup:U});n==null||n(W.sourceEvent,r,T,x),D==null||D(W.sourceEvent,T,x),M||I==null||I(W.sourceEvent,x)}}const v=ul().clickDistance(Y).on("start",W=>{const{domNode:U,nodeDragThreshold:$,transform:A,snapGrid:_,snapToGrid:S}=e();c=!1,$===0&&V(W),s=wn(W.sourceEvent,{transform:A,snapGrid:_,snapToGrid:S}),f=(U==null?void 0:U.getBoundingClientRect())||null,u=ft(W.sourceEvent,f)}).on("drag",W=>{const{autoPanOnNodeDrag:U,transform:$,snapGrid:A,snapToGrid:_,nodeDragThreshold:S}=e(),k=wn(W.sourceEvent,{transform:$,snapGrid:A,snapToGrid:_});if(W.sourceEvent.type==="touchmove"&&W.sourceEvent.touches.length>1&&(c=!0),!c){if(!a&&U&&h&&(a=!0,B()),!h){const P=k.xSnapped-(s.x??0),D=k.ySnapped-(s.y??0);Math.sqrt(P*P+D*D)>S&&V(W)}(s.x!==k.xSnapped||s.y!==k.ySnapped)&&r&&h&&(u=ft(W.sourceEvent,f),Z(k,W.sourceEvent))}}).on("end",W=>{if(!(!h||c)&&(a=!1,h=!1,cancelAnimationFrame(l),r.size>0)){const{nodeLookup:U,updateNodePositions:$,onNodeDragStop:A,onSelectionDragStop:_}=e();if($(r,!1),o||A||!M&&_){const[S,k]=Sn({nodeId:M,dragItems:r,nodeLookup:U,dragging:!1});o==null||o(W.sourceEvent,r,S,k),A==null||A(W.sourceEvent,S,k),M||_==null||_(W.sourceEvent,k)}}}).filter(W=>{const U=W.target;return!W.button&&(!y||!fi(U,`.${y}`,z))&&(!g||fi(U,g,z))});d.call(v)}function m(){d==null||d.on(".drag",null)}return{update:b,destroy:m}}function En(t,e,n,i){let o=null;return[(e[n]||[]).reduce((l,r)=>{if(t.id===i.nodeId&&n===i.handleType&&r.id===i.handleId)o=r;else{const a=nn(t,r,r.position,!0);l.push({...r,...a})}return l},[]),o]}function Jl(t,e,n){let i=[],o=1/0;for(const s of n.values()){const l=Math.sqrt(Math.pow(s.x-t.x,2)+Math.pow(s.y-t.y,2));l<=e&&(l<o?i=[s]:l===o&&i.push(s),o=l)}return i.length?i.length===1?i[0]:i.find(s=>s.type==="target")||i[0]:null}function Ql({nodeLookup:t,nodeId:e,handleId:n,handleType:i}){const o=new Map,s={nodeId:e,handleId:n,handleType:i};let l=null;for(const r of t.values())if(r.internals.handleBounds){const[a,u]=En(r,r.internals.handleBounds,"source",s),[f,h]=En(r,r.internals.handleBounds,"target",s);l=l||(u??h),[...a,...f].forEach(d=>o.set(`${d.nodeId}-${d.type}-${d.id}`,d))}if(!l){const r=t.get(e);if(r!=null&&r.internals.handleBounds){s.handleType=i==="source"?"target":"source";const[,a]=En(r,r.internals.handleBounds,s.handleType,s);l=a}}return[o,l]}function ho(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function pl(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const go=()=>!0;function xl(t,{connectionMode:e,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:s,isTarget:l,domNode:r,nodeLookup:a,lib:u,autoPanOnConnect:f,flowId:h,panBy:d,cancelConnection:c,onConnectStart:b,onConnect:m,onConnectEnd:y,isValidConnection:g=go,onReconnectEnd:z,updateConnection:w,getTransform:M,getFromHandle:Y,autoPanSpeed:Z}){const B=Dl(t.target);let V=0,v;const{x:W,y:U}=ft(t),$=B==null?void 0:B.elementFromPoint(W,U),A=ho(s,$),_=r==null?void 0:r.getBoundingClientRect();if(!_||!A)return;let S=ft(t,_),k=!1,P=null,D=!1,I=null;const[X,q]=Ql({nodeLookup:a,nodeId:o,handleId:i,handleType:A});function F(){if(!f||!_)return;const[oe,be]=pi(S,_,Z);d({x:oe,y:be}),V=requestAnimationFrame(F)}const T={...q,nodeId:o,type:A,position:q.position},x=a.get(o),ye={inProgress:!0,isValid:null,from:nn(x,T,fe.Left,!0),fromHandle:T,fromPosition:T.position,fromNode:x,to:S,toHandle:null,toPosition:Qn[T.position],toNode:null};w(ye);let O=ye;b==null||b(t,{nodeId:o,handleId:i,handleType:A});function ne(oe){if(!Y()||!T){de(oe);return}const be=M();S=ft(oe,_),v=Jl(fn(S,be,!1,[1,1]),n,X),k||(F(),k=!0);const we=mo(oe,{handle:v,connectionMode:e,fromNodeId:o,fromHandleId:i,fromType:l?"target":"source",isValidConnection:g,doc:B,lib:u,flowId:h,handleLookup:X});I=we.handleDomNode,P=we.connection,D=pl(!!v,we.isValid);const Pe={...O,isValid:D,to:v&&D?Ol({x:v.x,y:v.y},be):S,toHandle:we.toHandle,toPosition:D&&we.toHandle?we.toHandle.position:Qn[T.position],toNode:we.toHandle?a.get(we.toHandle.nodeId):null};D&&v&&O.toHandle&&Pe.toHandle&&O.toHandle.type===Pe.toHandle.type&&O.toHandle.nodeId===Pe.toHandle.nodeId&&O.toHandle.id===Pe.toHandle.id||(w(Pe),O=Pe)}function de(oe){(v||I)&&P&&D&&(m==null||m(P)),y==null||y(oe),s&&(z==null||z(oe)),c(),cancelAnimationFrame(V),k=!1,D=!1,P=null,I=null,B.removeEventListener("mousemove",ne),B.removeEventListener("mouseup",de),B.removeEventListener("touchmove",ne),B.removeEventListener("touchend",de)}B.addEventListener("mousemove",ne),B.addEventListener("mouseup",de),B.addEventListener("touchmove",ne),B.addEventListener("touchend",de)}function mo(t,{handle:e,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:s,doc:l,lib:r,flowId:a,isValidConnection:u=go,handleLookup:f}){const h=s==="target",d=e?l.querySelector(`.${r}-flow__handle[data-id="${a}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:c,y:b}=ft(t),m=l.elementFromPoint(c,b),y=m!=null&&m.classList.contains(`${r}-flow__handle`)?m:d,g={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){const z=ho(void 0,y),w=y.getAttribute("data-nodeid"),M=y.getAttribute("data-handleid"),Y=y.classList.contains("connectable"),Z=y.classList.contains("connectableend");if(!w)return g;const B={source:h?w:i,sourceHandle:h?M:o,target:h?i:w,targetHandle:h?o:M};g.connection=B;const v=Y&&Z&&(n===kt.Strict?h&&z==="source"||!h&&z==="target":w!==i||M!==o);g.isValid=v&&u(B);const W=f==null?void 0:f.get(`${w}-${z}-${M}`);W&&(g.toHandle={...W})}return g}const $l={onPointerDown:xl,isValid:mo};function es({domNode:t,panZoom:e,getTransform:n,getViewScale:i}){const o=xe(t);function s({translateExtent:r,width:a,height:u,zoomStep:f=10,pannable:h=!0,zoomable:d=!0,inversePan:c=!1}){const b=w=>{const M=n();if(w.sourceEvent.type!=="wheel"||!e)return;const Y=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*f,Z=M[2]*Math.pow(2,Y);e.scaleTo(Z)};let m=[0,0];const y=w=>{(w.sourceEvent.type==="mousedown"||w.sourceEvent.type==="touchstart")&&(m=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY])},g=w=>{const M=n();if(w.sourceEvent.type!=="mousemove"&&w.sourceEvent.type!=="touchmove"||!e)return;const Y=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY],Z=[Y[0]-m[0],Y[1]-m[1]];m=Y;const B=i()*Math.max(M[2],Math.log(M[2]))*(c?-1:1),V={x:M[0]-Z[0]*B,y:M[1]-Z[1]*B},v=[[0,0],[a,u]];e.setViewportConstrained({x:V.x,y:V.y,zoom:M[2]},v,r)},z=ji().on("start",y).on("zoom",h?g:null).on("zoom.wheel",d?b:null);o.call(z,{})}function l(){o.on("zoom",null)}return{update:s,destroy:l,pointer:et}}const ts=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,dn=t=>({x:t.x,y:t.y,zoom:t.k}),Cn=({x:t,y:e,zoom:n})=>Vn.translate(t,e).scale(n),Pt=(t,e)=>t.target.closest(`.${e}`),bo=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),zn=(t,e=0,n=()=>{})=>{const i=typeof e=="number"&&e>0;return i||n(),i?t.transition().duration(e).on("end",n):t},yo=t=>{const e=t.ctrlKey&&$t()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function ns({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:s,zoomOnPinch:l,onPanZoomStart:r,onPanZoom:a,onPanZoomEnd:u}){return f=>{if(Pt(f,e))return!1;f.preventDefault(),f.stopImmediatePropagation();const h=n.property("__zoom").k||1;if(f.ctrlKey&&l){const y=et(f),g=yo(f),z=h*Math.pow(2,g);i.scaleTo(n,z,y,f);return}const d=f.deltaMode===1?20:1;let c=o===lt.Vertical?0:f.deltaX*d,b=o===lt.Horizontal?0:f.deltaY*d;!$t()&&f.shiftKey&&o!==lt.Vertical&&(c=f.deltaY*d,b=0),i.translateBy(n,-(c/h)*s,-(b/h)*s,{internal:!0});const m=dn(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,r==null||r(f,m)),t.isPanScrolling&&(a==null||a(f,m),t.panScrollTimeout=setTimeout(()=>{u==null||u(f,m),t.isPanScrolling=!1},150))}}function is({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(i,o){if(!e&&i.type==="wheel"&&!i.ctrlKey||Pt(i,t))return null;i.preventDefault(),n.call(this,i,o)}}function os({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return i=>{var s,l,r;if((s=i.sourceEvent)!=null&&s.internal)return;const o=dn(i.transform);t.mouseButton=((l=i.sourceEvent)==null?void 0:l.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=o,((r=i.sourceEvent)==null?void 0:r.type)==="mousedown"&&e(!0),n&&(n==null||n(i.sourceEvent,o))}}function ls({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return s=>{var l,r;t.usedRightMouseButton=!!(n&&bo(e,t.mouseButton??0)),(l=s.sourceEvent)!=null&&l.sync||i([s.transform.x,s.transform.y,s.transform.k]),o&&!((r=s.sourceEvent)!=null&&r.internal)&&(o==null||o(s.sourceEvent,dn(s.transform)))}}function ss({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:s}){return l=>{var r;if(!((r=l.sourceEvent)!=null&&r.internal)&&(t.isZoomingOrPanning=!1,s&&bo(e,t.mouseButton??0)&&!t.usedRightMouseButton&&l.sourceEvent&&s(l.sourceEvent),t.usedRightMouseButton=!1,i(!1),o&&ts(t.prevViewport,l.transform))){const a=dn(l.transform);t.prevViewport=a,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{o==null||o(l.sourceEvent,a)},n?150:0)}}}function rs({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:s,userSelectionActive:l,noWheelClassName:r,noPanClassName:a,lib:u}){return f=>{var b;const h=t||e,d=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(Pt(f,`${u}-flow__node`)||Pt(f,`${u}-flow__edge`)))return!0;if(!i&&!h&&!o&&!s&&!n||l||Pt(f,r)&&f.type==="wheel"||Pt(f,a)&&(f.type!=="wheel"||o&&f.type==="wheel"&&!t)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&((b=f.touches)==null?void 0:b.length)>1)return f.preventDefault(),!1;if(!h&&!o&&!d&&f.type==="wheel"||!i&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(i)&&!i.includes(f.button)&&f.type==="mousedown")return!1;const c=Array.isArray(i)&&i.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&c}}function as({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:i,translateExtent:o,viewport:s,onPanZoom:l,onPanZoomStart:r,onPanZoomEnd:a,onTransformChange:u,onDraggingChange:f}){const h={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=t.getBoundingClientRect(),c=ji().clickDistance(!tt(i)||i<0?0:i).scaleExtent([e,n]).translateExtent(o),b=xe(t).call(c);M({x:s.x,y:s.y,zoom:It(s.zoom,e,n)},[[0,0],[d.width,d.height]],o);const m=b.on("wheel.zoom"),y=b.on("dblclick.zoom");c.wheelDelta(yo);function g(A,_){return b?new Promise(S=>{c==null||c.transform(zn(b,_==null?void 0:_.duration,()=>S(!0)),A)}):Promise.resolve(!1)}function z({noWheelClassName:A,noPanClassName:_,onPaneContextMenu:S,userSelectionActive:k,panOnScroll:P,panOnDrag:D,panOnScrollMode:I,panOnScrollSpeed:X,preventScrolling:q,zoomOnPinch:F,zoomOnScroll:T,zoomOnDoubleClick:x,zoomActivationKeyPressed:te,lib:ye}){k&&!h.isZoomingOrPanning&&w();const ne=P&&!te&&!k?ns({zoomPanValues:h,noWheelClassName:A,d3Selection:b,d3Zoom:c,panOnScrollMode:I,panOnScrollSpeed:X,zoomOnPinch:F,onPanZoomStart:r,onPanZoom:l,onPanZoomEnd:a}):is({noWheelClassName:A,preventScrolling:q,d3ZoomHandler:m});if(b.on("wheel.zoom",ne,{passive:!1}),!k){const oe=os({zoomPanValues:h,onDraggingChange:f,onPanZoomStart:r});c.on("start",oe);const be=ls({zoomPanValues:h,panOnDrag:D,onPaneContextMenu:!!S,onPanZoom:l,onTransformChange:u});c.on("zoom",be);const we=ss({zoomPanValues:h,panOnDrag:D,panOnScroll:P,onPaneContextMenu:S,onPanZoomEnd:a,onDraggingChange:f});c.on("end",we)}const de=rs({zoomActivationKeyPressed:te,panOnDrag:D,zoomOnScroll:T,panOnScroll:P,zoomOnDoubleClick:x,zoomOnPinch:F,userSelectionActive:k,noPanClassName:_,noWheelClassName:A,lib:ye});c.filter(de),x?b.on("dblclick.zoom",y):b.on("dblclick.zoom",null)}function w(){c.on("zoom",null)}async function M(A,_,S){const k=Cn(A),P=c==null?void 0:c.constrain()(k,_,S);return P&&await g(P),new Promise(D=>D(P))}async function Y(A,_){const S=Cn(A);return await g(S,_),new Promise(k=>k(S))}function Z(A){if(b){const _=Cn(A),S=b.property("__zoom");(S.k!==A.zoom||S.x!==A.x||S.y!==A.y)&&(c==null||c.transform(b,_,null,{sync:!0}))}}function B(){const A=b?nl(b.node()):{x:0,y:0,k:1};return{x:A.x,y:A.y,zoom:A.k}}function V(A,_){return b?new Promise(S=>{c==null||c.scaleTo(zn(b,_==null?void 0:_.duration,()=>S(!0)),A)}):Promise.resolve(!1)}function v(A,_){return b?new Promise(S=>{c==null||c.scaleBy(zn(b,_==null?void 0:_.duration,()=>S(!0)),A)}):Promise.resolve(!1)}function W(A){c==null||c.scaleExtent(A)}function U(A){c==null||c.translateExtent(A)}function $(A){const _=!tt(A)||A<0?0:A;c==null||c.clickDistance(_)}return{update:z,destroy:w,setViewport:Y,setViewportConstrained:M,getViewport:B,scaleTo:V,scaleBy:v,setScaleExtent:W,setTranslateExtent:U,syncViewport:Z,setClickDistance:$}}var ci;(function(t){t.Line="line",t.Handle="handle"})(ci||(ci={}));function us(t){let e,n,i,o,s,l;const r=t[44].default,a=Ue(r,t,t[43],null);return{c(){e=Be("div"),a&&a.c(),this.h()},l(u){e=Le(u,"DIV",{"data-handleid":!0,"data-nodeid":!0,"data-handlepos":!0,"data-id":!0,class:!0,style:!0,role:!0,tabindex:!0});var f=le(e);a&&a.l(f),f.forEach(H),this.h()},h(){E(e,"data-handleid",t[7]),E(e,"data-nodeid",t[14]),E(e,"data-handlepos",t[3]),E(e,"data-id",n=t[13]+"-"+t[14]+"-"+(t[1]||null)+"-"+t[2]),E(e,"class",i=Me(["svelte-flow__handle",`svelte-flow__handle-${t[3]}`,"nodrag","nopan",t[3],t[5]])),E(e,"style",t[4]),E(e,"role","button"),E(e,"tabindex","-1"),ie(e,"valid",t[8]),ie(e,"connectingto",t[6]),ie(e,"connectingfrom",t[10]),ie(e,"source",!t[12]),ie(e,"target",t[12]),ie(e,"connectablestart",t[0]),ie(e,"connectableend",t[0]),ie(e,"connectable",t[0]),ie(e,"connectionindicator",t[0]&&(!t[11]||t[9]))},m(u,f){J(u,e,f),a&&a.m(e,null),o=!0,s||(l=[De(e,"mousedown",t[32]),De(e,"touchstart",t[32])],s=!0)},p(u,f){a&&a.p&&(!o||f[1]&4096)&&qe(a,r,u,u[43],o?Je(r,u[43],f,null):je(u[43]),null),(!o||f[0]&128)&&E(e,"data-handleid",u[7]),(!o||f[0]&8)&&E(e,"data-handlepos",u[3]),(!o||f[0]&8198&&n!==(n=u[13]+"-"+u[14]+"-"+(u[1]||null)+"-"+u[2]))&&E(e,"data-id",n),(!o||f[0]&40&&i!==(i=Me(["svelte-flow__handle",`svelte-flow__handle-${u[3]}`,"nodrag","nopan",u[3],u[5]])))&&E(e,"class",i),(!o||f[0]&16)&&E(e,"style",u[4]),(!o||f[0]&296)&&ie(e,"valid",u[8]),(!o||f[0]&104)&&ie(e,"connectingto",u[6]),(!o||f[0]&1064)&&ie(e,"connectingfrom",u[10]),(!o||f[0]&4136)&&ie(e,"source",!u[12]),(!o||f[0]&4136)&&ie(e,"target",u[12]),(!o||f[0]&41)&&ie(e,"connectablestart",u[0]),(!o||f[0]&41)&&ie(e,"connectableend",u[0]),(!o||f[0]&41)&&ie(e,"connectable",u[0]),(!o||f[0]&2601)&&ie(e,"connectionindicator",u[0]&&(!u[11]||u[9]))},i(u){o||(N(a,u),o=!0)},o(u){K(a,u),o=!1},d(u){u&&H(e),a&&a.d(u),s=!1,yt(l)}}}function fs(t,e,n){let i,o,s,l,r,a,u,f,h,d,c,b,m,y,g,z,w,M,Y,Z,B,V,v,W,{$$slots:U={},$$scope:$}=e,{id:A=void 0}=e,{type:_="source"}=e,{position:S=fe.Top}=e,{style:k=void 0}=e,{isConnectable:P=void 0}=e,{isValidConnection:D=void 0}=e,{onconnect:I=void 0}=e,{ondisconnect:X=void 0}=e,{class:q=void 0}=e;const F=qt("svelteflow__node_id"),T=qt("svelteflow__node_connectable");G(t,T,Q=>n(42,W=Q));const x=Ve(),{connectionMode:te,domNode:ye,nodeLookup:O,connectionRadius:ne,viewport:de,isValidConnection:oe,lib:be,addEdge:we,onedgecreate:Pe,panBy:L,cancelConnection:Ie,updateConnection:Oe,autoPanOnConnect:st,edges:rt,connectionLookup:at,onconnect:Ke,onconnectstart:it,onconnectend:p,flowId:dt,connection:ht}=x;G(t,te,Q=>n(39,h=Q)),G(t,ye,Q=>n(54,V=Q)),G(t,O,Q=>n(53,B=Q)),G(t,ne,Q=>n(55,v=Q)),G(t,de,Q=>n(45,b=Q)),G(t,oe,Q=>n(50,w=Q)),G(t,be,Q=>n(52,Z=Q)),G(t,Pe,Q=>n(49,z=Q)),G(t,st,Q=>n(51,Y=Q)),G(t,rt,Q=>n(41,c=Q)),G(t,at,Q=>n(40,d=Q)),G(t,Ke,Q=>n(48,g=Q)),G(t,it,Q=>n(47,y=Q)),G(t,p,Q=>n(46,m=Q)),G(t,dt,Q=>n(13,M=Q)),G(t,ht,Q=>n(38,f=Q));function R(Q){const ut=no(Q);(ut&&Q.button===0||!ut)&&$l.onPointerDown(Q,{handleId:o,nodeId:F,isTarget:i,connectionRadius:v,domNode:V,nodeLookup:B,connectionMode:h,lib:Z,autoPanOnConnect:Y,flowId:M,isValidConnection:D??w,updateConnection:Oe,cancelConnection:Ie,panBy:L,onConnect:Ge=>{const Qe=z?z(Ge):Ge;Qe&&(we(Qe),g==null||g(Ge))},onConnectStart:(Ge,Qe)=>{y==null||y(Ge,{nodeId:Qe.nodeId,handleId:Qe.handleId,handleType:Qe.handleType})},onConnectEnd:Ge=>{m==null||m(Ge)},getTransform:()=>[b.x,b.y,b.zoom],getFromHandle:()=>f.fromHandle})}let pe=null,Fe;return t.$$set=Q=>{"id"in Q&&n(1,A=Q.id),"type"in Q&&n(2,_=Q.type),"position"in Q&&n(3,S=Q.position),"style"in Q&&n(4,k=Q.style),"isConnectable"in Q&&n(0,P=Q.isConnectable),"isValidConnection"in Q&&n(33,D=Q.isValidConnection),"onconnect"in Q&&n(34,I=Q.onconnect),"ondisconnect"in Q&&n(35,X=Q.ondisconnect),"class"in Q&&n(5,q=Q.class),"$$scope"in Q&&n(43,$=Q.$$scope)},t.$$.update=()=>{var Q,ut,Ge,Qe,wt,St,Et,Ct,gt;if(t.$$.dirty[0]&4&&n(12,i=_==="target"),t.$$.dirty[0]&1|t.$$.dirty[1]&2048&&n(0,P=P!==void 0?P:W),t.$$.dirty[0]&2&&n(7,o=A||null),t.$$.dirty[0]&6|t.$$.dirty[1]&1560&&(I||X)&&n(37,Fe=d.get(`${F}-${_}-${A||null}`)),t.$$.dirty[1]&120){if(pe&&!wl(Fe,pe)){const _t=Fe??new Map;pn(pe,_t,X),pn(_t,pe,I)}n(36,pe=Fe??new Map)}t.$$.dirty[1]&128&&n(11,s=!!f.fromHandle),t.$$.dirty[0]&132|t.$$.dirty[1]&128&&n(10,l=((Q=f.fromHandle)==null?void 0:Q.nodeId)===F&&((ut=f.fromHandle)==null?void 0:ut.type)===_&&((Ge=f.fromHandle)==null?void 0:Ge.id)===o),t.$$.dirty[0]&132|t.$$.dirty[1]&128&&n(6,r=((Qe=f.toHandle)==null?void 0:Qe.nodeId)===F&&((wt=f.toHandle)==null?void 0:wt.type)===_&&((St=f.toHandle)==null?void 0:St.id)===o),t.$$.dirty[0]&132|t.$$.dirty[1]&384&&n(9,a=h===kt.Strict?((Et=f.fromHandle)==null?void 0:Et.type)!==_:F!==((Ct=f.fromHandle)==null?void 0:Ct.nodeId)||o!==((gt=f.fromHandle)==null?void 0:gt.id)),t.$$.dirty[0]&64|t.$$.dirty[1]&128&&n(8,u=r&&f.isValid)},[P,A,_,S,k,q,r,o,u,a,l,s,i,M,F,T,te,ye,O,ne,de,oe,be,Pe,st,rt,at,Ke,it,p,dt,ht,R,D,I,X,pe,Fe,f,h,d,c,W,$,U]}class on extends he{constructor(e){super(),ge(this,e,fs,us,me,{id:1,type:2,position:3,style:4,isConnectable:0,isValidConnection:33,onconnect:34,ondisconnect:35,class:5},null,[-1,-1])}}function cs(t){var a;let e,n,i=((a=t[0])==null?void 0:a.label)+"",o,s,l,r;return e=new on({props:{type:"target",position:t[1]??fe.Top}}),l=new on({props:{type:"source",position:t[2]??fe.Bottom}}),{c(){re(e.$$.fragment),n=He(),o=At(i),s=He(),re(l.$$.fragment)},l(u){ce(e.$$.fragment,u),n=Te(u),o=Yt(u,i),s=Te(u),ce(l.$$.fragment,u)},m(u,f){ae(e,u,f),J(u,n,f),J(u,o,f),J(u,s,f),ae(l,u,f),r=!0},p(u,[f]){var c;const h={};f&2&&(h.position=u[1]??fe.Top),e.$set(h),(!r||f&1)&&i!==(i=((c=u[0])==null?void 0:c.label)+"")&&Xt(o,i);const d={};f&4&&(d.position=u[2]??fe.Bottom),l.$set(d)},i(u){r||(N(e.$$.fragment,u),N(l.$$.fragment,u),r=!0)},o(u){K(e.$$.fragment,u),K(l.$$.fragment,u),r=!1},d(u){u&&(H(n),H(o),H(s)),ue(e,u),ue(l,u)}}}function ds(t,e,n){const i=["data","targetPosition","sourcePosition"];ve(e,i);let{data:o={label:"Node"}}=e,{targetPosition:s=void 0}=e,{sourcePosition:l=void 0}=e;return t.$$set=r=>{e=Ce(Ce({},e),nt(r)),n(3,ve(e,i)),"data"in r&&n(0,o=r.data),"targetPosition"in r&&n(1,s=r.targetPosition),"sourcePosition"in r&&n(2,l=r.sourcePosition)},[o,s,l]}class _o extends he{constructor(e){super(),ge(this,e,ds,cs,me,{data:0,targetPosition:1,sourcePosition:2})}}function hs(t){var l;let e=((l=t[0])==null?void 0:l.label)+"",n,i,o,s;return o=new on({props:{type:"source",position:t[1]??fe.Bottom}}),{c(){n=At(e),i=He(),re(o.$$.fragment)},l(r){n=Yt(r,e),i=Te(r),ce(o.$$.fragment,r)},m(r,a){J(r,n,a),J(r,i,a),ae(o,r,a),s=!0},p(r,[a]){var f;(!s||a&1)&&e!==(e=((f=r[0])==null?void 0:f.label)+"")&&Xt(n,e);const u={};a&2&&(u.position=r[1]??fe.Bottom),o.$set(u)},i(r){s||(N(o.$$.fragment,r),s=!0)},o(r){K(o.$$.fragment,r),s=!1},d(r){r&&(H(n),H(i)),ue(o,r)}}}function gs(t,e,n){const i=["data","sourcePosition"];ve(e,i);let{data:o={label:"Node"}}=e,{sourcePosition:s=void 0}=e;return t.$$set=l=>{e=Ce(Ce({},e),nt(l)),n(2,ve(e,i)),"data"in l&&n(0,o=l.data),"sourcePosition"in l&&n(1,s=l.sourcePosition)},[o,s]}class ms extends he{constructor(e){super(),ge(this,e,gs,hs,me,{data:0,sourcePosition:1})}}function bs(t){var l;let e=((l=t[0])==null?void 0:l.label)+"",n,i,o,s;return o=new on({props:{type:"target",position:t[1]??fe.Top}}),{c(){n=At(e),i=He(),re(o.$$.fragment)},l(r){n=Yt(r,e),i=Te(r),ce(o.$$.fragment,r)},m(r,a){J(r,n,a),J(r,i,a),ae(o,r,a),s=!0},p(r,[a]){var f;(!s||a&1)&&e!==(e=((f=r[0])==null?void 0:f.label)+"")&&Xt(n,e);const u={};a&2&&(u.position=r[1]??fe.Top),o.$set(u)},i(r){s||(N(o.$$.fragment,r),s=!0)},o(r){K(o.$$.fragment,r),s=!1},d(r){r&&(H(n),H(i)),ue(o,r)}}}function ys(t,e,n){const i=["data","targetPosition"];ve(e,i);let{data:o={label:"Node"}}=e,{targetPosition:s=void 0}=e;return t.$$set=l=>{e=Ce(Ce({},e),nt(l)),n(2,ve(e,i)),"data"in l&&n(0,o=l.data),"targetPosition"in l&&n(1,s=l.targetPosition)},[o,s]}class _s extends he{constructor(e){super(),ge(this,e,ys,bs,me,{data:0,targetPosition:1})}}function ks(t,e,n){const i=[];return ve(e,i),t.$$set=o=>{e=Ce(Ce({},e),nt(o)),n(0,ve(e,i))},[]}class ws extends he{constructor(e){super(),ge(this,e,ks,null,me,{})}}function di(t,e,n){if(!e)return;const i=n?e.querySelector(n):e;i&&i.appendChild(t)}function Ss(t,{target:e,domNode:n}){return di(t,n,e),{async update({target:i,domNode:o}){di(t,o,i)},destroy(){t.parentNode&&t.parentNode.removeChild(t)}}}function Es(t){let e,n,i,o,s;const l=t[3].default,r=Ue(l,t,t[2],null);return{c(){e=Be("div"),r&&r.c()},l(a){e=Le(a,"DIV",{});var u=le(e);r&&r.l(u),u.forEach(H)},m(a,u){J(a,e,u),r&&r.m(e,null),i=!0,o||(s=Ze(n=Ss.call(null,e,{target:".svelte-flow__edgelabel-renderer",domNode:t[0]})),o=!0)},p(a,[u]){r&&r.p&&(!i||u&4)&&qe(r,l,a,a[2],i?Je(l,a[2],u,null):je(a[2]),null),n&&Ae(n.update)&&u&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:a[0]})},i(a){i||(N(r,a),i=!0)},o(a){K(r,a),i=!1},d(a){a&&H(e),r&&r.d(a),o=!1,s()}}}function Cs(t,e,n){let i,{$$slots:o={},$$scope:s}=e;const{domNode:l}=Ve();return G(t,l,r=>n(0,i=r)),t.$$set=r=>{"$$scope"in r&&n(2,s=r.$$scope)},[i,l,s,o]}class zs extends he{constructor(e){super(),ge(this,e,Cs,Es,me,{})}}function ko(){const{edgeLookup:t,selectionRect:e,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:o,unselectNodesAndEdges:s,elementsSelectable:l}=Ve();return r=>{const a=j(t).get(r);if(!a){console.warn("012",Wt.error012(r));return}(a.selectable||j(l)&&typeof a.selectable>"u")&&(e.set(null),n.set(null),a.selected?a.selected&&j(i)&&s({nodes:[],edges:[a]}):o([r]))}}function Ms(t){let e,n,i=`translate(-50%, -50%) translate(${t[1]}px,${t[2]}px)`,o,s,l;const r=t[5].default,a=Ue(r,t,t[7],null);return{c(){e=Be("div"),a&&a.c(),this.h()},l(u){e=Le(u,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var f=le(e);a&&a.l(f),f.forEach(H),this.h()},h(){E(e,"class","svelte-flow__edge-label"),E(e,"style",n="pointer-events: all;"+t[0]),E(e,"role","button"),E(e,"tabindex","-1"),se(e,"transform",i)},m(u,f){J(u,e,f),a&&a.m(e,null),o=!0,s||(l=[De(e,"keyup",Os),De(e,"click",t[6])],s=!0)},p(u,f){a&&a.p&&(!o||f&128)&&qe(a,r,u,u[7],o?Je(r,u[7],f,null):je(u[7]),null),(!o||f&1&&n!==(n="pointer-events: all;"+u[0]))&&E(e,"style",n);const h=f&1;(f&7&&i!==(i=`translate(-50%, -50%) translate(${u[1]}px,${u[2]}px)`)||h)&&se(e,"transform",i)},i(u){o||(N(a,u),o=!0)},o(u){K(a,u),o=!1},d(u){u&&H(e),a&&a.d(u),s=!1,yt(l)}}}function Ps(t){let e,n;return e=new zs({props:{$$slots:{default:[Ms]},$$scope:{ctx:t}}}),{c(){re(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p(i,[o]){const s={};o&135&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(N(e.$$.fragment,i),n=!0)},o(i){K(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}const Os=()=>{};function Ds(t,e,n){let{$$slots:i={},$$scope:o}=e,{style:s=void 0}=e,{x:l=void 0}=e,{y:r=void 0}=e;const a=ko(),u=qt("svelteflow__edge_id"),f=()=>{u&&a(u)};return t.$$set=h=>{"style"in h&&n(0,s=h.style),"x"in h&&n(1,l=h.x),"y"in h&&n(2,r=h.y),"$$scope"in h&&n(7,o=h.$$scope)},[s,l,r,a,u,i,f,o]}class Hs extends he{constructor(e){super(),ge(this,e,Ds,Ps,me,{style:0,x:1,y:2})}}function Ts(t){let e;return{c(){e=Se("path"),this.h()},l(n){e=Ee(n,"path",{d:!0,"stroke-opacity":!0,"stroke-width":!0,fill:!0,class:!0}),le(e).forEach(H),this.h()},h(){E(e,"d",t[1]),E(e,"stroke-opacity",0),E(e,"stroke-width",t[10]),E(e,"fill","none"),E(e,"class","svelte-flow__edge-interaction")},m(n,i){J(n,e,i)},p(n,i){i&2&&E(e,"d",n[1])},d(n){n&&H(e)}}}function hi(t){let e,n;return e=new Hs({props:{x:t[3],y:t[4],style:t[5],$$slots:{default:[vs]},$$scope:{ctx:t}}}),{c(){re(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p(i,o){const s={};o&8&&(s.x=i[3]),o&16&&(s.y=i[4]),o&32&&(s.style=i[5]),o&4100&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(N(e.$$.fragment,i),n=!0)},o(i){K(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function vs(t){let e;return{c(){e=At(t[2])},l(n){e=Yt(n,t[2])},m(n,i){J(n,e,i)},p(n,i){i&4&&Xt(e,n[2])},d(n){n&&H(e)}}}function Is(t){let e,n,i,o,s,l,r=t[10]&&Ts(t),a=t[2]&&hi(t);return{c(){e=Se("path"),i=He(),r&&r.c(),o=He(),a&&a.c(),s=ze(),this.h()},l(u){e=Ee(u,"path",{id:!0,d:!0,class:!0,"marker-start":!0,"marker-end":!0,fill:!0,style:!0}),le(e).forEach(H),i=Te(u),r&&r.l(u),o=Te(u),a&&a.l(u),s=ze(),this.h()},h(){E(e,"id",t[0]),E(e,"d",t[1]),E(e,"class",n=Me(["svelte-flow__edge-path",t[9]])),E(e,"marker-start",t[6]),E(e,"marker-end",t[7]),E(e,"fill","none"),E(e,"style",t[8])},m(u,f){J(u,e,f),J(u,i,f),r&&r.m(u,f),J(u,o,f),a&&a.m(u,f),J(u,s,f),l=!0},p(u,[f]){(!l||f&1)&&E(e,"id",u[0]),(!l||f&2)&&E(e,"d",u[1]),(!l||f&512&&n!==(n=Me(["svelte-flow__edge-path",u[9]])))&&E(e,"class",n),(!l||f&64)&&E(e,"marker-start",u[6]),(!l||f&128)&&E(e,"marker-end",u[7]),(!l||f&256)&&E(e,"style",u[8]),u[10]&&r.p(u,f),u[2]?a?(a.p(u,f),f&4&&N(a,1)):(a=hi(u),a.c(),N(a,1),a.m(s.parentNode,s)):a&&(Ye(),K(a,1,1,()=>{a=null}),Xe())},i(u){l||(N(a),l=!0)},o(u){K(a),l=!1},d(u){u&&(H(e),H(i),H(o),H(s)),r&&r.d(u),a&&a.d(u)}}}function Ns(t,e,n){let{id:i=void 0}=e,{path:o}=e,{label:s=void 0}=e,{labelX:l=void 0}=e,{labelY:r=void 0}=e,{labelStyle:a=void 0}=e,{markerStart:u=void 0}=e,{markerEnd:f=void 0}=e,{style:h=void 0}=e,{interactionWidth:d=20}=e,{class:c=void 0}=e,b=d===void 0?20:d;return t.$$set=m=>{"id"in m&&n(0,i=m.id),"path"in m&&n(1,o=m.path),"label"in m&&n(2,s=m.label),"labelX"in m&&n(3,l=m.labelX),"labelY"in m&&n(4,r=m.labelY),"labelStyle"in m&&n(5,a=m.labelStyle),"markerStart"in m&&n(6,u=m.markerStart),"markerEnd"in m&&n(7,f=m.markerEnd),"style"in m&&n(8,h=m.style),"interactionWidth"in m&&n(11,d=m.interactionWidth),"class"in m&&n(9,c=m.class)},[i,o,s,l,r,a,u,f,h,c,b,d]}class hn extends he{constructor(e){super(),ge(this,e,Ns,Is,me,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}function Vs(t){let e,n;return e=new hn({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){re(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p(i,[o]){const s={};o&256&&(s.path=i[8]),o&128&&(s.labelX=i[7]),o&64&&(s.labelY=i[6]),o&1&&(s.label=i[0]),o&2&&(s.labelStyle=i[1]),o&8&&(s.markerStart=i[3]),o&16&&(s.markerEnd=i[4]),o&32&&(s.interactionWidth=i[5]),o&4&&(s.style=i[2]),e.$set(s)},i(i){n||(N(e.$$.fragment,i),n=!0)},o(i){K(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function As(t,e,n){let i,o,s;const l=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];ve(e,l);let{label:r=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:h=void 0}=e,{interactionWidth:d=void 0}=e,{sourceX:c}=e,{sourceY:b}=e,{sourcePosition:m}=e,{targetX:y}=e,{targetY:g}=e,{targetPosition:z}=e;return t.$$set=w=>{e=Ce(Ce({},e),nt(w)),n(15,ve(e,l)),"label"in w&&n(0,r=w.label),"labelStyle"in w&&n(1,a=w.labelStyle),"style"in w&&n(2,u=w.style),"markerStart"in w&&n(3,f=w.markerStart),"markerEnd"in w&&n(4,h=w.markerEnd),"interactionWidth"in w&&n(5,d=w.interactionWidth),"sourceX"in w&&n(9,c=w.sourceX),"sourceY"in w&&n(10,b=w.sourceY),"sourcePosition"in w&&n(11,m=w.sourcePosition),"targetX"in w&&n(12,y=w.targetX),"targetY"in w&&n(13,g=w.targetY),"targetPosition"in w&&n(14,z=w.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,s]=io({sourceX:c,sourceY:b,targetX:y,targetY:g,sourcePosition:m,targetPosition:z}),i,(n(7,o),n(9,c),n(10,b),n(12,y),n(13,g),n(11,m),n(14,z)),(n(6,s),n(9,c),n(10,b),n(12,y),n(13,g),n(11,m),n(14,z)))},[r,a,u,f,h,d,s,o,i,c,b,m,y,g,z]}class wo extends he{constructor(e){super(),ge(this,e,As,Vs,me,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function Ys(t){let e,n;return e=new hn({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){re(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p(i,[o]){const s={};o&256&&(s.path=i[8]),o&128&&(s.labelX=i[7]),o&64&&(s.labelY=i[6]),o&1&&(s.label=i[0]),o&2&&(s.labelStyle=i[1]),o&8&&(s.markerStart=i[3]),o&16&&(s.markerEnd=i[4]),o&32&&(s.interactionWidth=i[5]),o&4&&(s.style=i[2]),e.$set(s)},i(i){n||(N(e.$$.fragment,i),n=!0)},o(i){K(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Xs(t,e,n){let i,o,s;const l=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];ve(e,l);let{label:r=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:h=void 0}=e,{interactionWidth:d=void 0}=e,{sourceX:c}=e,{sourceY:b}=e,{sourcePosition:m}=e,{targetX:y}=e,{targetY:g}=e,{targetPosition:z}=e;return t.$$set=w=>{e=Ce(Ce({},e),nt(w)),n(15,ve(e,l)),"label"in w&&n(0,r=w.label),"labelStyle"in w&&n(1,a=w.labelStyle),"style"in w&&n(2,u=w.style),"markerStart"in w&&n(3,f=w.markerStart),"markerEnd"in w&&n(4,h=w.markerEnd),"interactionWidth"in w&&n(5,d=w.interactionWidth),"sourceX"in w&&n(9,c=w.sourceX),"sourceY"in w&&n(10,b=w.sourceY),"sourcePosition"in w&&n(11,m=w.sourcePosition),"targetX"in w&&n(12,y=w.targetX),"targetY"in w&&n(13,g=w.targetY),"targetPosition"in w&&n(14,z=w.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,s]=tn({sourceX:c,sourceY:b,targetX:y,targetY:g,sourcePosition:m,targetPosition:z}),i,(n(7,o),n(9,c),n(10,b),n(12,y),n(13,g),n(11,m),n(14,z)),(n(6,s),n(9,c),n(10,b),n(12,y),n(13,g),n(11,m),n(14,z)))},[r,a,u,f,h,d,s,o,i,c,b,m,y,g,z]}class Ws extends he{constructor(e){super(),ge(this,e,Xs,Ys,me,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function Bs(t){let e,n;return e=new hn({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){re(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p(i,[o]){const s={};o&256&&(s.path=i[8]),o&128&&(s.labelX=i[7]),o&64&&(s.labelY=i[6]),o&1&&(s.label=i[0]),o&2&&(s.labelStyle=i[1]),o&8&&(s.markerStart=i[3]),o&16&&(s.markerEnd=i[4]),o&32&&(s.interactionWidth=i[5]),o&4&&(s.style=i[2]),e.$set(s)},i(i){n||(N(e.$$.fragment,i),n=!0)},o(i){K(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Ls(t,e,n){let i,o,s;const l=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","targetX","targetY"];ve(e,l);let{label:r=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:h=void 0}=e,{interactionWidth:d=void 0}=e,{sourceX:c}=e,{sourceY:b}=e,{targetX:m}=e,{targetY:y}=e;return t.$$set=g=>{e=Ce(Ce({},e),nt(g)),n(13,ve(e,l)),"label"in g&&n(0,r=g.label),"labelStyle"in g&&n(1,a=g.labelStyle),"style"in g&&n(2,u=g.style),"markerStart"in g&&n(3,f=g.markerStart),"markerEnd"in g&&n(4,h=g.markerEnd),"interactionWidth"in g&&n(5,d=g.interactionWidth),"sourceX"in g&&n(9,c=g.sourceX),"sourceY"in g&&n(10,b=g.sourceY),"targetX"in g&&n(11,m=g.targetX),"targetY"in g&&n(12,y=g.targetY)},t.$$.update=()=>{t.$$.dirty&7680&&n(8,[i,o,s]=lo({sourceX:c,sourceY:b,targetX:m,targetY:y}),i,(n(7,o),n(9,c),n(10,b),n(11,m),n(12,y)),(n(6,s),n(9,c),n(10,b),n(11,m),n(12,y)))},[r,a,u,f,h,d,s,o,i,c,b,m,y]}class Ks extends he{constructor(e){super(),ge(this,e,Ls,Bs,me,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,targetX:11,targetY:12})}}function Rs(t){let e,n;return e=new hn({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){re(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p(i,[o]){const s={};o&256&&(s.path=i[8]),o&128&&(s.labelX=i[7]),o&64&&(s.labelY=i[6]),o&1&&(s.label=i[0]),o&2&&(s.labelStyle=i[1]),o&8&&(s.markerStart=i[3]),o&16&&(s.markerEnd=i[4]),o&32&&(s.interactionWidth=i[5]),o&4&&(s.style=i[2]),e.$set(s)},i(i){n||(N(e.$$.fragment,i),n=!0)},o(i){K(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Zs(t,e,n){let i,o,s;const l=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];ve(e,l);let{label:r=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:h=void 0}=e,{interactionWidth:d=void 0}=e,{sourceX:c}=e,{sourceY:b}=e,{sourcePosition:m}=e,{targetX:y}=e,{targetY:g}=e,{targetPosition:z}=e;return t.$$set=w=>{e=Ce(Ce({},e),nt(w)),n(15,ve(e,l)),"label"in w&&n(0,r=w.label),"labelStyle"in w&&n(1,a=w.labelStyle),"style"in w&&n(2,u=w.style),"markerStart"in w&&n(3,f=w.markerStart),"markerEnd"in w&&n(4,h=w.markerEnd),"interactionWidth"in w&&n(5,d=w.interactionWidth),"sourceX"in w&&n(9,c=w.sourceX),"sourceY"in w&&n(10,b=w.sourceY),"sourcePosition"in w&&n(11,m=w.sourcePosition),"targetX"in w&&n(12,y=w.targetX),"targetY"in w&&n(13,g=w.targetY),"targetPosition"in w&&n(14,z=w.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,s]=tn({sourceX:c,sourceY:b,targetX:y,targetY:g,sourcePosition:m,targetPosition:z,borderRadius:0}),i,(n(7,o),n(9,c),n(10,b),n(12,y),n(13,g),n(11,m),n(14,z)),(n(6,s),n(9,c),n(10,b),n(12,y),n(13,g),n(11,m),n(14,z)))},[r,a,u,f,h,d,s,o,i,c,b,m,y,g,z]}class Fs extends he{constructor(e){super(),ge(this,e,Zs,Rs,me,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function Gs(t,e){const n=t.set,i=e.set,o=j(t),s=j(e);let r=o.length===0&&s.length>0?s:o;t.set(r);const a=u=>{const f=n(u);return r=f,i(r),f};t.set=e.set=a,t.update=e.update=u=>a(u(r))}function Us(t,e){const n=t.set,i=e.set;let o=j(e);t.set(o);const s=l=>{n(l),i(l),o=l};t.set=e.set=s,t.update=e.update=l=>s(l(o))}const qs=(t,e,n)=>{if(!n)return;const i=j(t),o=e.set,s=n.set;let l=n?j(n):{x:0,y:0,zoom:1};e.set(l),e.set=r=>(o(r),s(r),l=r,r),n.set=r=>(i==null||i.syncViewport(r),o(r),s(r),l=r,r),e.update=r=>{e.set(r(l))},n.update=r=>{n.set(r(l))}},js=(t,e,n,i=[0,0])=>{const{subscribe:o,set:s,update:l}=ee([]);let r=t,a={},u=!0;const f=b=>(ro(b,e,n,{elevateNodesOnSelect:u,nodeOrigin:i,defaults:a,checkEquality:!1}),r=b,s(r),r),h=b=>f(b(r)),d=b=>{a=b},c=b=>{u=b.elevateNodesOnSelect??u};return f(r),{subscribe:o,set:f,update:h,setDefaultOptions:d,setOptions:c}},Js=(t,e,n,i)=>{const{subscribe:o,set:s,update:l}=ee([]);let r=t,a={};const u=d=>{const c=a?d.map(b=>({...a,...b})):d;fo(e,n,c),r=c,s(r)},f=d=>u(d(r)),h=d=>{a=d};return u(r),{subscribe:o,set:u,update:f,setDefaultOptions:h}},So={input:ms,output:_s,default:_o,group:ws},Eo={straight:Ks,smoothstep:Ws,default:wo,step:Fs},Qs=({nodes:t=[],edges:e=[],width:n,height:i,fitView:o,nodeOrigin:s})=>{const l=new Map,r=new Map,a=s??[0,0];ro(t,l,r,{nodeOrigin:a,elevateNodesOnSelect:!1,checkEquality:!1});const u=new Map,f=new Map;fo(u,f,e);let h={x:0,y:0,zoom:1};if(o&&n&&i){const d=Lt(l,{filter:c=>!!((c.width||c.initialWidth)&&(c.height||c.initialHeight))});h=eo(d,n,i,.5,2,.1)}return{flowId:ee(null),nodes:js(t,l,r,a),nodeLookup:$e(l),parentLookup:$e(r),edgeLookup:$e(f),visibleNodes:$e([]),edges:Js(e,u,f),visibleEdges:$e([]),connectionLookup:$e(u),height:ee(500),width:ee(500),minZoom:ee(.5),maxZoom:ee(2),nodeOrigin:ee(a),nodeDragThreshold:ee(1),nodeExtent:ee(Jn),translateExtent:ee(Jn),autoPanOnNodeDrag:ee(!0),autoPanOnConnect:ee(!0),fitViewOnInit:ee(!1),fitViewOnInitDone:ee(!1),fitViewOptions:ee(void 0),panZoom:ee(null),snapGrid:ee(null),dragging:ee(!1),selectionRect:ee(null),selectionKeyPressed:ee(!1),multiselectionKeyPressed:ee(!1),deleteKeyPressed:ee(!1),panActivationKeyPressed:ee(!1),zoomActivationKeyPressed:ee(!1),selectionRectMode:ee(null),selectionMode:ee(pt.Partial),nodeTypes:ee(So),edgeTypes:ee(Eo),viewport:ee(h),connectionMode:ee(kt.Strict),domNode:ee(null),connection:$e(Dn),connectionLineType:ee(Ht.Bezier),connectionRadius:ee(20),isValidConnection:ee(()=>!0),nodesDraggable:ee(!0),nodesConnectable:ee(!0),elementsSelectable:ee(!0),selectNodesOnDrag:ee(!0),markers:$e([]),defaultMarkerColor:ee("#b1b1b7"),lib:$e("svelte"),onlyRenderVisibleElements:ee(!1),onerror:ee(Pl),ondelete:ee(void 0),onedgecreate:ee(void 0),onconnect:ee(void 0),onconnectstart:ee(void 0),onconnectend:ee(void 0),onbeforedelete:ee(void 0),nodesInitialized:ee(!1),edgesInitialized:ee(!1),viewportInitialized:ee(!1),initialized:$e(!1)}};function ps(t){const e=Ot([t.edges,t.nodes,t.nodeLookup,t.onlyRenderVisibleElements,t.viewport,t.width,t.height],([n,,i,o,s,l,r])=>o&&l&&r?n.filter(u=>{const f=i.get(u.source),h=i.get(u.target);return f&&h&&Nl({sourceNode:f,targetNode:h,width:l,height:r,transform:[s.x,s.y,s.zoom]})}):n);return Ot([e,t.nodes,t.nodeLookup,t.connectionMode,t.onerror],([n,,i,o,s])=>n.reduce((r,a)=>{const u=i.get(a.source),f=i.get(a.target);if(!u||!f)return r;const h=Ll({id:a.id,sourceNode:u,targetNode:f,sourceHandle:a.sourceHandle||null,targetHandle:a.targetHandle||null,connectionMode:o,onError:s});return h&&r.push({...a,zIndex:Il({selected:a.selected,zIndex:a.zIndex,sourceNode:u,targetNode:f,elevateOnSelect:!1}),...h}),r},[]))}function xs(t){return Ot([t.nodeLookup,t.onlyRenderVisibleElements,t.width,t.height,t.viewport,t.nodes],([e,n,i,o,s])=>{const l=[s.x,s.y,s.zoom];return n?Qi(e,{x:0,y:0,width:i,height:o},l,!0):Array.from(e.values())})}const Bn=Symbol();function $s({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:s}){const l=Qs({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:s});function r(S){l.nodeTypes.set({...So,...S})}function a(S){l.edgeTypes.set({...Eo,...S})}function u(S){const k=j(l.edges);l.edges.set(Yl(S,k))}const f=(S,k=!1)=>{var D;const P=j(l.nodeLookup);for(const[I,X]of S){const q=(D=P.get(I))==null?void 0:D.internals.userNode;q&&(q.position=X.position,q.dragging=k)}l.nodes.update(I=>I)};function h(S){var I,X,q;const k=j(l.nodeLookup),{changes:P,updatedInternals:D}=Gl(S,k,j(l.parentLookup),j(l.domNode),j(l.nodeOrigin));if(D){if(!j(l.fitViewOnInitDone)&&j(l.fitViewOnInit)){const F=j(l.fitViewOptions),T=c({...F,nodes:F==null?void 0:F.nodes});l.fitViewOnInitDone.set(T)}for(const F of P){const T=(I=k.get(F.id))==null?void 0:I.internals.userNode;if(T)switch(F.type){case"dimensions":{const x={...T.measured,...F.dimensions};F.setAttributes&&(T.width=((X=F.dimensions)==null?void 0:X.width)??T.width,T.height=((q=F.dimensions)==null?void 0:q.height)??T.height),T.measured=x;break}case"position":T.position=F.position??T.position;break}}l.nodes.update(F=>F),j(l.nodesInitialized)||l.nodesInitialized.set(!0)}}function d(S){const k=j(l.panZoom);if(!k)return Promise.resolve(!1);const P=$n(j(l.nodeLookup),S);return ei({nodes:P,width:j(l.width),height:j(l.height),minZoom:j(l.minZoom),maxZoom:j(l.maxZoom),panZoom:k},S)}function c(S){const k=j(l.panZoom);if(!k)return!1;const P=$n(j(l.nodeLookup),S);return ei({nodes:P,width:j(l.width),height:j(l.height),minZoom:j(l.minZoom),maxZoom:j(l.maxZoom),panZoom:k},S),P.size>0}function b(S,k){const P=j(l.panZoom);return P?P.scaleBy(S,k):Promise.resolve(!1)}function m(S){return b(1.2,S)}function y(S){return b(1/1.2,S)}function g(S){const k=j(l.panZoom);k&&(k.setScaleExtent([S,j(l.maxZoom)]),l.minZoom.set(S))}function z(S){const k=j(l.panZoom);k&&(k.setScaleExtent([j(l.minZoom),S]),l.maxZoom.set(S))}function w(S){const k=j(l.panZoom);k&&(k.setTranslateExtent(S),l.translateExtent.set(S))}function M(S){let k=!1;return S.forEach(P=>{P.selected&&(P.selected=!1,k=!0)}),k}function Y(S){var k;(k=j(l.panZoom))==null||k.setClickDistance(S)}function Z(S){M((S==null?void 0:S.nodes)||j(l.nodes))&&l.nodes.set(j(l.nodes)),M((S==null?void 0:S.edges)||j(l.edges))&&l.edges.set(j(l.edges))}l.deleteKeyPressed.subscribe(async S=>{var k;if(S){const P=j(l.nodes),D=j(l.edges),I=P.filter(T=>T.selected),X=D.filter(T=>T.selected),{nodes:q,edges:F}=await zl({nodesToRemove:I,edgesToRemove:X,nodes:P,edges:D,onBeforeDelete:j(l.onbeforedelete)});(q.length||F.length)&&(l.nodes.update(T=>T.filter(x=>!q.some(te=>te.id===x.id))),l.edges.update(T=>T.filter(x=>!F.some(te=>te.id===x.id))),(k=j(l.ondelete))==null||k({nodes:q,edges:F}))}});function B(S){const k=j(l.multiselectionKeyPressed);l.nodes.update(P=>P.map(D=>{const I=S.includes(D.id),X=k&&D.selected||I;return D.selected=X,D})),k||l.edges.update(P=>P.map(D=>(D.selected=!1,D)))}function V(S){const k=j(l.multiselectionKeyPressed);l.edges.update(P=>P.map(D=>{const I=S.includes(D.id),X=k&&D.selected||I;return D.selected=X,D})),k||l.nodes.update(P=>P.map(D=>(D.selected=!1,D)))}function v(S){var P;const k=(P=j(l.nodes))==null?void 0:P.find(D=>D.id===S);if(!k){console.warn("012",Wt.error012(S));return}l.selectionRect.set(null),l.selectionRectMode.set(null),k.selected?k.selected&&j(l.multiselectionKeyPressed)&&Z({nodes:[k],edges:[]}):B([S])}function W(S){const k=j(l.viewport);return Ul({delta:S,panZoom:j(l.panZoom),transform:[k.x,k.y,k.zoom],translateExtent:j(l.translateExtent),width:j(l.width),height:j(l.height)})}const U=ee(Dn),$=S=>{U.set({...S})};function A(){U.set(Dn)}function _(){l.fitViewOnInitDone.set(!1),l.selectionRect.set(null),l.selectionRectMode.set(null),l.snapGrid.set(null),l.isValidConnection.set(()=>!0),Z(),A()}return{...l,visibleEdges:ps(l),visibleNodes:xs(l),connection:Ot([U,l.viewport],([S,k])=>S.inProgress?{...S,to:fn(S.to,[k.x,k.y,k.zoom])}:{...S}),markers:Ot([l.edges,l.defaultMarkerColor,l.flowId],([S,k,P])=>Kl(S,{defaultColor:k,id:P})),initialized:(()=>{let S=!1;const k=j(l.nodes).length,P=j(l.edges).length;return Ot([l.nodesInitialized,l.edgesInitialized,l.viewportInitialized],([D,I,X])=>S||(k===0?S=X:P===0?S=X&&D:S=X&&D&&I,S))})(),syncNodeStores:S=>Gs(l.nodes,S),syncEdgeStores:S=>Us(l.edges,S),syncViewport:S=>qs(l.panZoom,l.viewport,S),setNodeTypes:r,setEdgeTypes:a,addEdge:u,updateNodePositions:f,updateNodeInternals:h,zoomIn:m,zoomOut:y,fitView:S=>d(S),setMinZoom:g,setMaxZoom:z,setTranslateExtent:w,setPaneClickDistance:Y,unselectNodesAndEdges:Z,addSelectedNodes:B,addSelectedEdges:V,handleNodeSelection:v,panBy:W,updateConnection:$,cancelConnection:A,reset:_}}function Ve(){const t=qt(Bn);if(!t)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return t.getStore()}function er({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:s}){const l=$s({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:s});return jt(Bn,{getStore:()=>l}),l}function tr(t,e){const{panZoom:n,minZoom:i,maxZoom:o,initialViewport:s,viewport:l,dragging:r,translateExtent:a,paneClickDistance:u}=e,f=as({domNode:t,minZoom:i,maxZoom:o,translateExtent:a,viewport:s,paneClickDistance:u,onTransformChange:d=>l.set({x:d[0],y:d[1],zoom:d[2]}),onDraggingChange:r.set}),h=f.getViewport();return l.set(h),n.set(f),f.update(e),{update(d){f.update(d)}}}function nr(t){let e,n,i,o,s;const l=t[34].default,r=Ue(l,t,t[33],null);return{c(){e=Be("div"),r&&r.c(),this.h()},l(a){e=Le(a,"DIV",{class:!0});var u=le(e);r&&r.l(u),u.forEach(H),this.h()},h(){E(e,"class","svelte-flow__zoom svelte-4xkw84")},m(a,u){J(a,e,u),r&&r.m(e,null),i=!0,o||(s=Ze(n=tr.call(null,e,{viewport:t[18],minZoom:t[12],maxZoom:t[13],initialViewport:t[11],dragging:t[23],panZoom:t[19],onPanZoomStart:t[0],onPanZoom:t[1],onPanZoomEnd:t[2],zoomOnScroll:t[5],zoomOnDoubleClick:t[6],zoomOnPinch:t[7],panOnScroll:t[9],panOnDrag:t[10],panOnScrollSpeed:.5,panOnScrollMode:t[3]||lt.Free,zoomActivationKeyPressed:t[14],preventScrolling:typeof t[4]=="boolean"?t[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!t[15],translateExtent:t[16],lib:t[17],paneClickDistance:t[8]})),o=!0)},p(a,u){r&&r.p&&(!i||u[1]&4)&&qe(r,l,a,a[33],i?Je(l,a[33],u,null):je(a[33]),null),n&&Ae(n.update)&&u[0]&262143&&n.update.call(null,{viewport:a[18],minZoom:a[12],maxZoom:a[13],initialViewport:a[11],dragging:a[23],panZoom:a[19],onPanZoomStart:a[0],onPanZoom:a[1],onPanZoomEnd:a[2],zoomOnScroll:a[5],zoomOnDoubleClick:a[6],zoomOnPinch:a[7],panOnScroll:a[9],panOnDrag:a[10],panOnScrollSpeed:.5,panOnScrollMode:a[3]||lt.Free,zoomActivationKeyPressed:a[14],preventScrolling:typeof a[4]=="boolean"?a[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!a[15],translateExtent:a[16],lib:a[17],paneClickDistance:a[8]})},i(a){i||(N(r,a),i=!0)},o(a){K(r,a),i=!1},d(a){a&&H(e),r&&r.d(a),o=!1,s()}}}function ir(t,e,n){let i,o,s,l,r,a,u,f,h,d,c,{$$slots:b={},$$scope:m}=e,{initialViewport:y=void 0}=e,{onMoveStart:g=void 0}=e,{onMove:z=void 0}=e,{onMoveEnd:w=void 0}=e,{panOnScrollMode:M}=e,{preventScrolling:Y}=e,{zoomOnScroll:Z}=e,{zoomOnDoubleClick:B}=e,{zoomOnPinch:V}=e,{panOnDrag:v}=e,{panOnScroll:W}=e,{paneClickDistance:U}=e;const{viewport:$,panZoom:A,selectionRect:_,minZoom:S,maxZoom:k,dragging:P,translateExtent:D,lib:I,panActivationKeyPressed:X,zoomActivationKeyPressed:q,viewportInitialized:F}=Ve();return G(t,_,T=>n(15,h=T)),G(t,S,T=>n(12,a=T)),G(t,k,T=>n(13,u=T)),G(t,D,T=>n(16,d=T)),G(t,I,T=>n(17,c=T)),G(t,X,T=>n(32,r=T)),G(t,q,T=>n(14,f=T)),G(t,F,T=>n(35,l=T)),sn(()=>{Jt(F,l=!0,l)}),t.$$set=T=>{"initialViewport"in T&&n(29,y=T.initialViewport),"onMoveStart"in T&&n(0,g=T.onMoveStart),"onMove"in T&&n(1,z=T.onMove),"onMoveEnd"in T&&n(2,w=T.onMoveEnd),"panOnScrollMode"in T&&n(3,M=T.panOnScrollMode),"preventScrolling"in T&&n(4,Y=T.preventScrolling),"zoomOnScroll"in T&&n(5,Z=T.zoomOnScroll),"zoomOnDoubleClick"in T&&n(6,B=T.zoomOnDoubleClick),"zoomOnPinch"in T&&n(7,V=T.zoomOnPinch),"panOnDrag"in T&&n(30,v=T.panOnDrag),"panOnScroll"in T&&n(31,W=T.panOnScroll),"paneClickDistance"in T&&n(8,U=T.paneClickDistance),"$$scope"in T&&n(33,m=T.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&536870912&&n(11,i=y||{x:0,y:0,zoom:1}),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&2&&n(10,o=r||v),t.$$.dirty[1]&3&&n(9,s=r||W)},[g,z,w,M,Y,Z,B,V,U,s,o,i,a,u,f,h,d,c,$,A,_,S,k,P,D,I,X,q,F,y,v,W,r,m,b]}class or extends he{constructor(e){super(),ge(this,e,ir,nr,me,{initialViewport:29,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:30,panOnScroll:31,paneClickDistance:8},null,[-1,-1])}}function lr(t){let e,n,i,o;const s=t[28].default,l=Ue(s,t,t[27],null);return{c(){e=Be("div"),l&&l.c(),this.h()},l(r){e=Le(r,"DIV",{class:!0});var a=le(e);l&&l.l(a),a.forEach(H),this.h()},h(){E(e,"class","svelte-flow__pane svelte-1esy7hx"),ie(e,"draggable",t[0]),ie(e,"dragging",t[4]),ie(e,"selection",t[1])},m(r,a){J(r,e,a),l&&l.m(e,null),t[29](e),n=!0,i||(o=[De(e,"click",function(){Ae(t[3]?void 0:Ut(t[15],t[2]))&&(t[3]?void 0:Ut(t[15],t[2])).apply(this,arguments)}),De(e,"pointerdown",function(){Ae(t[3]?t[16]:void 0)&&(t[3]?t[16]:void 0).apply(this,arguments)}),De(e,"pointermove",function(){Ae(t[3]?t[17]:void 0)&&(t[3]?t[17]:void 0).apply(this,arguments)}),De(e,"pointerup",function(){Ae(t[3]?t[18]:void 0)&&(t[3]?t[18]:void 0).apply(this,arguments)}),De(e,"contextmenu",function(){Ae(Ut(t[19],t[2]))&&Ut(t[19],t[2]).apply(this,arguments)})],i=!0)},p(r,a){t=r,l&&l.p&&(!n||a[0]&134217728)&&qe(l,s,t,t[27],n?Je(s,t[27],a,null):je(t[27]),null),(!n||a[0]&1)&&ie(e,"draggable",t[0]),(!n||a[0]&16)&&ie(e,"dragging",t[4]),(!n||a[0]&2)&&ie(e,"selection",t[1])},i(r){n||(N(l,r),n=!0)},o(r){K(l,r),n=!1},d(r){r&&H(e),l&&l.d(r),t[29](null),i=!1,yt(o)}}}function Ut(t,e){return n=>{n.target===e&&(t==null||t(n))}}function gi(t){return e=>{const n=t.includes(e.id);return e.selected!==n&&(e.selected=n),e}}function sr(t,e,n){let i,o,s,l,r,a,u,f,h,d,c,b,m,{$$slots:y={},$$scope:g}=e,{panOnDrag:z=void 0}=e,{selectionOnDrag:w=void 0}=e;const M=rn(),{nodes:Y,nodeLookup:Z,edges:B,viewport:V,dragging:v,elementsSelectable:W,selectionRect:U,selectionRectMode:$,selectionKeyPressed:A,selectionMode:_,panActivationKeyPressed:S,unselectNodesAndEdges:k}=Ve();G(t,Z,O=>n(36,h=O)),G(t,B,O=>n(33,a=O)),G(t,V,O=>n(35,f=O)),G(t,v,O=>n(4,m=O)),G(t,W,O=>n(25,c=O)),G(t,U,O=>n(24,d=O)),G(t,$,O=>n(23,r=O)),G(t,A,O=>n(22,l=O)),G(t,_,O=>n(34,u=O)),G(t,S,O=>n(26,b=O));let P,D=null,I=[],X=!1;function q(O){if(X){X=!1;return}M("paneclick",{event:O}),k(),$.set(null)}function F(O){var oe,be;if(D=P.getBoundingClientRect(),!W||!o||O.button!==0||O.target!==P||!D)return;(be=(oe=O.target)==null?void 0:oe.setPointerCapture)==null||be.call(oe,O.pointerId);const{x:ne,y:de}=ft(O,D);k(),U.set({width:0,height:0,startX:ne,startY:de,x:ne,y:de})}function T(O){if(!o||!D||!d)return;X=!0;const ne=ft(O,D),de=d.startX??0,oe=d.startY??0,be={...d,x:ne.x<de?ne.x:de,y:ne.y<oe?ne.y:oe,width:Math.abs(ne.x-de),height:Math.abs(ne.y-oe)},we=I.map(Oe=>Oe.id),Pe=Hn(I,a).map(Oe=>Oe.id);I=Qi(h,be,[f.x,f.y,f.zoom],u===pt.Partial,!0);const L=Hn(I,a).map(Oe=>Oe.id),Ie=I.map(Oe=>Oe.id);(we.length!==Ie.length||Ie.some(Oe=>!we.includes(Oe)))&&Y.update(Oe=>Oe.map(gi(Ie))),(Pe.length!==L.length||L.some(Oe=>!Pe.includes(Oe)))&&B.update(Oe=>Oe.map(gi(L))),$.set("user"),U.set(be)}function x(O){var ne,de;O.button===0&&((de=(ne=O.target)==null?void 0:ne.releasePointerCapture)==null||de.call(ne,O.pointerId),!o&&r==="user"&&O.target===P&&(q==null||q(O)),U.set(null),I.length>0&&Jt($,r="nodes",r),l&&(X=!1))}const te=O=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){O.preventDefault();return}M("panecontextmenu",{event:O})};function ye(O){Nn[O?"unshift":"push"](()=>{P=O,n(2,P)})}return t.$$set=O=>{"panOnDrag"in O&&n(0,z=O.panOnDrag),"selectionOnDrag"in O&&n(20,w=O.selectionOnDrag),"$$scope"in O&&n(27,g=O.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&67108865&&n(21,i=b||z),t.$$.dirty[0]&24117248&&n(1,o=l||d||w&&i!==!0),t.$$.dirty[0]&41943042&&n(3,s=c&&(o||r==="user"))},[z,o,P,s,m,Z,B,V,v,W,U,$,A,_,S,q,F,T,x,te,w,i,l,r,d,c,b,g,y,ye]}class rr extends he{constructor(e){super(),ge(this,e,sr,lr,me,{panOnDrag:0,selectionOnDrag:20},null,[-1,-1])}}function ar(t){let e,n;const i=t[3].default,o=Ue(i,t,t[2],null);return{c(){e=Be("div"),o&&o.c(),this.h()},l(s){e=Le(s,"DIV",{class:!0,style:!0});var l=le(e);o&&o.l(l),l.forEach(H),this.h()},h(){E(e,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),se(e,"transform","translate("+t[0].x+"px, "+t[0].y+"px) scale("+t[0].zoom+")")},m(s,l){J(s,e,l),o&&o.m(e,null),n=!0},p(s,[l]){o&&o.p&&(!n||l&4)&&qe(o,i,s,s[2],n?Je(i,s[2],l,null):je(s[2]),null),(!n||l&1)&&se(e,"transform","translate("+s[0].x+"px, "+s[0].y+"px) scale("+s[0].zoom+")")},i(s){n||(N(o,s),n=!0)},o(s){K(o,s),n=!1},d(s){s&&H(e),o&&o.d(s)}}}function ur(t,e,n){let i,{$$slots:o={},$$scope:s}=e;const{viewport:l}=Ve();return G(t,l,r=>n(0,i=r)),t.$$set=r=>{"$$scope"in r&&n(2,s=r.$$scope)},[i,l,s,o]}class fr extends he{constructor(e){super(),ge(this,e,ur,ar,me,{})}}function Co(t,e){const{store:n,onDrag:i,onDragStart:o,onDragStop:s,onNodeMouseDown:l}=e,r=jl({onDrag:i,onDragStart:o,onDragStop:s,onNodeMouseDown:l,getStoreItems:()=>{const u=j(n.snapGrid),f=j(n.viewport);return{nodes:j(n.nodes),nodeLookup:j(n.nodeLookup),edges:j(n.edges),nodeExtent:j(n.nodeExtent),snapGrid:u||[0,0],snapToGrid:!!u,nodeOrigin:j(n.nodeOrigin),multiSelectionActive:j(n.multiselectionKeyPressed),domNode:j(n.domNode),transform:[f.x,f.y,f.zoom],autoPanOnNodeDrag:j(n.autoPanOnNodeDrag),nodesDraggable:j(n.nodesDraggable),selectNodesOnDrag:j(n.selectNodesOnDrag),nodeDragThreshold:j(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function a(u,f){if(f.disabled){r.destroy();return}r.update({domNode:u,noDragClassName:f.noDragClass,handleSelector:f.handleSelector,nodeId:f.nodeId,isSelectable:f.isSelectable,nodeClickDistance:f.nodeClickDistance})}return a(t,e),{update(u){a(t,u)},destroy(){r.destroy()}}}function cr({width:t,height:e,initialWidth:n,initialHeight:i,measuredWidth:o,measuredHeight:s}){if(o===void 0&&s===void 0){const l=t??n,r=e??i;return{width:l?`width:${l}px;`:"",height:r?`height:${r}px;`:""}}return{width:t?`width:${t}px;`:"",height:e?`height:${e}px;`:""}}function mi(t){let e,n,i,o,s,l=`translate(${t[12]}px, ${t[13]}px)`,r,a,u;var f=t[27];function h(d,c){return{props:{data:d[2],id:d[1],selected:d[3],selectable:d[5],deletable:d[7],sourcePosition:d[14],targetPosition:d[15],zIndex:d[16],dragging:d[9],draggable:d[4],dragHandle:d[19],parentId:d[21],type:d[25],isConnectable:d[28],positionAbsoluteX:d[12],positionAbsoluteY:d[13],width:d[17],height:d[18]}}}return f&&(n=Qt(f,h(t))),{c(){e=Be("div"),n&&re(n.$$.fragment),this.h()},l(d){e=Le(d,"DIV",{"data-id":!0,class:!0,style:!0});var c=le(e);n&&ce(n.$$.fragment,c),c.forEach(H),this.h()},h(){E(e,"data-id",t[1]),E(e,"class",i=Me(["svelte-flow__node",`svelte-flow__node-${t[25]}`,t[23]])),E(e,"style",o=(t[10]??"")+";"+t[26].width+t[26].height),ie(e,"dragging",t[9]),ie(e,"selected",t[3]),ie(e,"draggable",t[4]),ie(e,"connectable",t[6]),ie(e,"selectable",t[5]),ie(e,"nopan",t[4]),ie(e,"parent",t[11]),se(e,"z-index",t[16]),se(e,"transform",l),se(e,"visibility",t[20]?"visible":"hidden")},m(d,c){J(d,e,c),n&&ae(n,e,null),t[50](e),r=!0,a||(u=[Ze(s=Co.call(null,e,{nodeId:t[1],isSelectable:t[5],disabled:!1,handleSelector:t[19],noDragClass:"nodrag",nodeClickDistance:t[22],onNodeMouseDown:t[31],onDrag:t[47],onDragStart:t[48],onDragStop:t[49],store:t[29]})),De(e,"click",t[34]),De(e,"mouseenter",t[51]),De(e,"mouseleave",t[52]),De(e,"mousemove",t[53]),De(e,"contextmenu",t[54])],a=!0)},p(d,c){if(c[0]&134217728&&f!==(f=d[27])){if(n){Ye();const m=n;K(m.$$.fragment,1,0,()=>{ue(m,1)}),Xe()}f?(n=Qt(f,h(d)),re(n.$$.fragment),N(n.$$.fragment,1),ae(n,e,null)):n=null}else if(f){const m={};c[0]&4&&(m.data=d[2]),c[0]&2&&(m.id=d[1]),c[0]&8&&(m.selected=d[3]),c[0]&32&&(m.selectable=d[5]),c[0]&128&&(m.deletable=d[7]),c[0]&16384&&(m.sourcePosition=d[14]),c[0]&32768&&(m.targetPosition=d[15]),c[0]&65536&&(m.zIndex=d[16]),c[0]&512&&(m.dragging=d[9]),c[0]&16&&(m.draggable=d[4]),c[0]&524288&&(m.dragHandle=d[19]),c[0]&2097152&&(m.parentId=d[21]),c[0]&33554432&&(m.type=d[25]),c[0]&268435456&&(m.isConnectable=d[28]),c[0]&4096&&(m.positionAbsoluteX=d[12]),c[0]&8192&&(m.positionAbsoluteY=d[13]),c[0]&131072&&(m.width=d[17]),c[0]&262144&&(m.height=d[18]),n.$set(m)}(!r||c[0]&2)&&E(e,"data-id",d[1]),(!r||c[0]&41943040&&i!==(i=Me(["svelte-flow__node",`svelte-flow__node-${d[25]}`,d[23]])))&&E(e,"class",i),(!r||c[0]&67109888&&o!==(o=(d[10]??"")+";"+d[26].width+d[26].height))&&E(e,"style",o),s&&Ae(s.update)&&c[0]&4718626&&s.update.call(null,{nodeId:d[1],isSelectable:d[5],disabled:!1,handleSelector:d[19],noDragClass:"nodrag",nodeClickDistance:d[22],onNodeMouseDown:d[31],onDrag:d[47],onDragStart:d[48],onDragStop:d[49],store:d[29]}),(!r||c[0]&41943552)&&ie(e,"dragging",d[9]),(!r||c[0]&41943048)&&ie(e,"selected",d[3]),(!r||c[0]&41943056)&&ie(e,"draggable",d[4]),(!r||c[0]&41943104)&&ie(e,"connectable",d[6]),(!r||c[0]&41943072)&&ie(e,"selectable",d[5]),(!r||c[0]&41943056)&&ie(e,"nopan",d[4]),(!r||c[0]&41945088)&&ie(e,"parent",d[11]);const b=c[0]&67109888;(c[0]&67175424||b)&&se(e,"z-index",d[16]),(c[0]&67122176&&l!==(l=`translate(${d[12]}px, ${d[13]}px)`)||b)&&se(e,"transform",l),(c[0]&68158464||b)&&se(e,"visibility",d[20]?"visible":"hidden")},i(d){r||(n&&N(n.$$.fragment,d),r=!0)},o(d){n&&K(n.$$.fragment,d),r=!1},d(d){d&&H(e),n&&ue(n),t[50](null),a=!1,yt(u)}}}function dr(t){let e,n,i=!t[8]&&mi(t);return{c(){i&&i.c(),e=ze()},l(o){i&&i.l(o),e=ze()},m(o,s){i&&i.m(o,s),J(o,e,s),n=!0},p(o,s){o[8]?i&&(Ye(),K(i,1,1,()=>{i=null}),Xe()):i?(i.p(o,s),s[0]&256&&N(i,1)):(i=mi(o),i.c(),N(i,1),i.m(e.parentNode,e))},i(o){n||(N(i),n=!0)},o(o){K(i),n=!1},d(o){o&&H(e),i&&i.d(o)}}}function hr(t,e,n){let i,o,s,l,r,a,{node:u}=e,{id:f}=e,{data:h={}}=e,{selected:d=!1}=e,{draggable:c=void 0}=e,{selectable:b=void 0}=e,{connectable:m=!0}=e,{deletable:y=!0}=e,{hidden:g=!1}=e,{dragging:z=!1}=e,{resizeObserver:w=null}=e,{style:M=void 0}=e,{type:Y="default"}=e,{isParent:Z=!1}=e,{positionX:B}=e,{positionY:V}=e,{sourcePosition:v=void 0}=e,{targetPosition:W=void 0}=e,{zIndex:U}=e,{measuredWidth:$=void 0}=e,{measuredHeight:A=void 0}=e,{initialWidth:_=void 0}=e,{initialHeight:S=void 0}=e,{width:k=void 0}=e,{height:P=void 0}=e,{dragHandle:D=void 0}=e,{initialized:I=!1}=e,{parentId:X=void 0}=e,{nodeClickDistance:q=void 0}=e,{class:F=""}=e;const T=Ve(),{nodeTypes:x,nodeDragThreshold:te,selectNodesOnDrag:ye,handleNodeSelection:O,updateNodeInternals:ne}=T;G(t,x,R=>n(46,r=R));let de,oe=null;const be=rn(),we=ee(m);G(t,we,R=>n(28,a=R));let Pe,L,Ie;jt("svelteflow__node_id",f),jt("svelteflow__node_connectable",we),Fi(()=>{oe&&(w==null||w.unobserve(oe))});function Oe(R){b&&(!j(ye)||!c||j(te)>0)&&O(f),be("nodeclick",{node:u.internals.userNode,event:R})}const st=(R,pe,Fe,Q)=>{be("nodedrag",{event:R,targetNode:Fe,nodes:Q})},rt=(R,pe,Fe,Q)=>{be("nodedragstart",{event:R,targetNode:Fe,nodes:Q})},at=(R,pe,Fe,Q)=>{be("nodedragstop",{event:R,targetNode:Fe,nodes:Q})};function Ke(R){Nn[R?"unshift":"push"](()=>{de=R,n(24,de)})}const it=R=>be("nodemouseenter",{node:u,event:R}),p=R=>be("nodemouseleave",{node:u,event:R}),dt=R=>be("nodemousemove",{node:u,event:R}),ht=R=>be("nodecontextmenu",{node:u,event:R});return t.$$set=R=>{"node"in R&&n(0,u=R.node),"id"in R&&n(1,f=R.id),"data"in R&&n(2,h=R.data),"selected"in R&&n(3,d=R.selected),"draggable"in R&&n(4,c=R.draggable),"selectable"in R&&n(5,b=R.selectable),"connectable"in R&&n(6,m=R.connectable),"deletable"in R&&n(7,y=R.deletable),"hidden"in R&&n(8,g=R.hidden),"dragging"in R&&n(9,z=R.dragging),"resizeObserver"in R&&n(35,w=R.resizeObserver),"style"in R&&n(10,M=R.style),"type"in R&&n(36,Y=R.type),"isParent"in R&&n(11,Z=R.isParent),"positionX"in R&&n(12,B=R.positionX),"positionY"in R&&n(13,V=R.positionY),"sourcePosition"in R&&n(14,v=R.sourcePosition),"targetPosition"in R&&n(15,W=R.targetPosition),"zIndex"in R&&n(16,U=R.zIndex),"measuredWidth"in R&&n(37,$=R.measuredWidth),"measuredHeight"in R&&n(38,A=R.measuredHeight),"initialWidth"in R&&n(39,_=R.initialWidth),"initialHeight"in R&&n(40,S=R.initialHeight),"width"in R&&n(17,k=R.width),"height"in R&&n(18,P=R.height),"dragHandle"in R&&n(19,D=R.dragHandle),"initialized"in R&&n(20,I=R.initialized),"parentId"in R&&n(21,X=R.parentId),"nodeClickDistance"in R&&n(22,q=R.nodeClickDistance),"class"in R&&n(23,F=R.class)},t.$$.update=()=>{t.$$.dirty[1]&32&&n(25,i=Y||"default"),t.$$.dirty[0]&33554432|t.$$.dirty[1]&32768&&n(45,o=!!r[i]),t.$$.dirty[0]&33554432|t.$$.dirty[1]&32768&&n(27,s=r[i]||_o),t.$$.dirty[1]&16416&&(o||console.warn("003",Wt.error003(Y))),t.$$.dirty[0]&393216|t.$$.dirty[1]&960&&n(26,l=cr({width:k,height:P,initialWidth:_,initialHeight:S,measuredWidth:$,measuredHeight:A})),t.$$.dirty[0]&64&&we.set(!!m),t.$$.dirty[0]&50380802|t.$$.dirty[1]&14336&&((Pe&&i!==Pe||L&&v!==L||Ie&&W!==Ie)&&requestAnimationFrame(()=>ne(new Map([[f,{id:f,nodeElement:de,force:!0}]]))),n(42,Pe=i),n(43,L=v),n(44,Ie=W)),t.$$.dirty[0]&17825792|t.$$.dirty[1]&1040&&w&&(de!==oe||!I)&&(oe&&w.unobserve(oe),de&&w.observe(de),n(41,oe=de))},[u,f,h,d,c,b,m,y,g,z,M,Z,B,V,v,W,U,k,P,D,I,X,q,F,de,i,l,s,a,T,x,O,be,we,Oe,w,Y,$,A,_,S,oe,Pe,L,Ie,o,r,st,rt,at,Ke,it,p,dt,ht]}class gr extends he{constructor(e){super(),ge(this,e,hr,dr,Zi,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,deletable:7,hidden:8,dragging:9,resizeObserver:35,style:10,type:36,isParent:11,positionX:12,positionY:13,sourcePosition:14,targetPosition:15,zIndex:16,measuredWidth:37,measuredHeight:38,initialWidth:39,initialHeight:40,width:17,height:18,dragHandle:19,initialized:20,parentId:21,nodeClickDistance:22,class:23},null,[-1,-1])}}const{Map:mr}=tl;function bi(t,e,n){const i=t.slice();return i[21]=e[n],i}function yi(t,e){let n,i,o;return i=new gr({props:{node:e[21],id:e[21].id,data:e[21].data,selected:!!e[21].selected,hidden:!!e[21].hidden,draggable:!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u"),selectable:!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u"),connectable:!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u"),deletable:e[21].deletable??!0,positionX:e[21].internals.positionAbsolute.x,positionY:e[21].internals.positionAbsolute.y,isParent:e[5].has(e[21].id),style:e[21].style,class:e[21].class,type:e[21].type??"default",sourcePosition:e[21].sourcePosition,targetPosition:e[21].targetPosition,dragging:e[21].dragging,zIndex:e[21].internals.z??0,dragHandle:e[21].dragHandle,initialized:en(e[21]),width:e[21].width,height:e[21].height,initialWidth:e[21].initialWidth,initialHeight:e[21].initialHeight,measuredWidth:e[21].measured.width,measuredHeight:e[21].measured.height,parentId:e[21].parentId,resizeObserver:e[11],nodeClickDistance:e[0]}}),i.$on("nodeclick",e[12]),i.$on("nodemouseenter",e[13]),i.$on("nodemousemove",e[14]),i.$on("nodemouseleave",e[15]),i.$on("nodedrag",e[16]),i.$on("nodedragstart",e[17]),i.$on("nodedragstop",e[18]),i.$on("nodecontextmenu",e[19]),{key:t,first:null,c(){n=ze(),re(i.$$.fragment),this.h()},l(s){n=ze(),ce(i.$$.fragment,s),this.h()},h(){this.first=n},m(s,l){J(s,n,l),ae(i,s,l),o=!0},p(s,l){e=s;const r={};l&2&&(r.node=e[21]),l&2&&(r.id=e[21].id),l&2&&(r.data=e[21].data),l&2&&(r.selected=!!e[21].selected),l&2&&(r.hidden=!!e[21].hidden),l&6&&(r.draggable=!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u")),l&10&&(r.selectable=!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u")),l&18&&(r.connectable=!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u")),l&2&&(r.deletable=e[21].deletable??!0),l&2&&(r.positionX=e[21].internals.positionAbsolute.x),l&2&&(r.positionY=e[21].internals.positionAbsolute.y),l&34&&(r.isParent=e[5].has(e[21].id)),l&2&&(r.style=e[21].style),l&2&&(r.class=e[21].class),l&2&&(r.type=e[21].type??"default"),l&2&&(r.sourcePosition=e[21].sourcePosition),l&2&&(r.targetPosition=e[21].targetPosition),l&2&&(r.dragging=e[21].dragging),l&2&&(r.zIndex=e[21].internals.z??0),l&2&&(r.dragHandle=e[21].dragHandle),l&2&&(r.initialized=en(e[21])),l&2&&(r.width=e[21].width),l&2&&(r.height=e[21].height),l&2&&(r.initialWidth=e[21].initialWidth),l&2&&(r.initialHeight=e[21].initialHeight),l&2&&(r.measuredWidth=e[21].measured.width),l&2&&(r.measuredHeight=e[21].measured.height),l&2&&(r.parentId=e[21].parentId),l&1&&(r.nodeClickDistance=e[0]),i.$set(r)},i(s){o||(N(i.$$.fragment,s),o=!0)},o(s){K(i.$$.fragment,s),o=!1},d(s){s&&H(n),ue(i,s)}}}function br(t){let e,n=[],i=new mr,o,s=bt(t[1]);const l=r=>r[21].id;for(let r=0;r<s.length;r+=1){let a=bi(t,s,r),u=l(a);i.set(u,n[r]=yi(u,a))}return{c(){e=Be("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=Le(r,"DIV",{class:!0});var a=le(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(H),this.h()},h(){E(e,"class","svelte-flow__nodes svelte-tf4uy4")},m(r,a){J(r,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(r,[a]){a&2111&&(s=bt(r[1]),Ye(),n=an(n,a,l,1,r,s,i,e,un,yi,null,bi),Xe())},i(r){if(!o){for(let a=0;a<s.length;a+=1)N(n[a]);o=!0}},o(r){for(let a=0;a<n.length;a+=1)K(n[a]);o=!1},d(r){r&&H(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function yr(t,e,n){let i,o,s,l,r,{nodeClickDistance:a=0}=e;const{visibleNodes:u,nodesDraggable:f,nodesConnectable:h,elementsSelectable:d,updateNodeInternals:c,parentLookup:b}=Ve();G(t,u,V=>n(1,i=V)),G(t,f,V=>n(2,o=V)),G(t,h,V=>n(4,l=V)),G(t,d,V=>n(3,s=V)),G(t,b,V=>n(5,r=V));const m=typeof ResizeObserver>"u"?null:new ResizeObserver(V=>{const v=new Map;V.forEach(W=>{const U=W.target.getAttribute("data-id");v.set(U,{id:U,nodeElement:W.target,force:!0})}),c(v)});Fi(()=>{m==null||m.disconnect()});function y(V){_e.call(this,t,V)}function g(V){_e.call(this,t,V)}function z(V){_e.call(this,t,V)}function w(V){_e.call(this,t,V)}function M(V){_e.call(this,t,V)}function Y(V){_e.call(this,t,V)}function Z(V){_e.call(this,t,V)}function B(V){_e.call(this,t,V)}return t.$$set=V=>{"nodeClickDistance"in V&&n(0,a=V.nodeClickDistance)},[a,i,o,s,l,r,u,f,h,d,b,m,y,g,z,w,M,Y,Z,B]}class _r extends he{constructor(e){super(),ge(this,e,yr,br,me,{nodeClickDistance:0})}}function _i(t){let e,n,i,o,s,l,r,a;var u=t[27];function f(h,d){return{props:{id:h[0],source:h[1],target:h[2],sourceX:h[14],sourceY:h[15],targetX:h[16],targetY:h[17],sourcePosition:h[18],targetPosition:h[19],animated:h[6],selected:h[7],label:h[10],labelStyle:h[11],data:h[3],style:h[4],interactionWidth:h[21],selectable:h[24],deletable:h[8]??!0,type:h[23],sourceHandleId:h[12],targetHandleId:h[13],markerStart:h[26],markerEnd:h[25]}}}return u&&(i=Qt(u,f(t))),{c(){e=Se("svg"),n=Se("g"),i&&re(i.$$.fragment),this.h()},l(h){e=Ee(h,"svg",{});var d=le(e);n=Ee(d,"g",{class:!0,"data-id":!0,"aria-label":!0,role:!0});var c=le(n);i&&ce(i.$$.fragment,c),c.forEach(H),d.forEach(H),this.h()},h(){E(n,"class",o=Me(["svelte-flow__edge",t[22]])),E(n,"data-id",t[0]),E(n,"aria-label",s=t[20]===null?void 0:t[20]?t[20]:`Edge from ${t[1]} to ${t[2]}`),E(n,"role","img"),ie(n,"animated",t[6]),ie(n,"selected",t[7]),ie(n,"selectable",t[24]),se(e,"z-index",t[5])},m(h,d){J(h,e,d),We(e,n),i&&ae(i,n,null),l=!0,r||(a=[De(n,"click",t[32]),De(n,"contextmenu",t[41]),De(n,"mouseenter",t[42]),De(n,"mouseleave",t[43])],r=!0)},p(h,d){if(d[0]&134217728&&u!==(u=h[27])){if(i){Ye();const c=i;K(c.$$.fragment,1,0,()=>{ue(c,1)}),Xe()}u?(i=Qt(u,f(h)),re(i.$$.fragment),N(i.$$.fragment,1),ae(i,n,null)):i=null}else if(u){const c={};d[0]&1&&(c.id=h[0]),d[0]&2&&(c.source=h[1]),d[0]&4&&(c.target=h[2]),d[0]&16384&&(c.sourceX=h[14]),d[0]&32768&&(c.sourceY=h[15]),d[0]&65536&&(c.targetX=h[16]),d[0]&131072&&(c.targetY=h[17]),d[0]&262144&&(c.sourcePosition=h[18]),d[0]&524288&&(c.targetPosition=h[19]),d[0]&64&&(c.animated=h[6]),d[0]&128&&(c.selected=h[7]),d[0]&1024&&(c.label=h[10]),d[0]&2048&&(c.labelStyle=h[11]),d[0]&8&&(c.data=h[3]),d[0]&16&&(c.style=h[4]),d[0]&2097152&&(c.interactionWidth=h[21]),d[0]&16777216&&(c.selectable=h[24]),d[0]&256&&(c.deletable=h[8]??!0),d[0]&8388608&&(c.type=h[23]),d[0]&4096&&(c.sourceHandleId=h[12]),d[0]&8192&&(c.targetHandleId=h[13]),d[0]&67108864&&(c.markerStart=h[26]),d[0]&33554432&&(c.markerEnd=h[25]),i.$set(c)}(!l||d[0]&4194304&&o!==(o=Me(["svelte-flow__edge",h[22]])))&&E(n,"class",o),(!l||d[0]&1)&&E(n,"data-id",h[0]),(!l||d[0]&1048582&&s!==(s=h[20]===null?void 0:h[20]?h[20]:`Edge from ${h[1]} to ${h[2]}`))&&E(n,"aria-label",s),(!l||d[0]&4194368)&&ie(n,"animated",h[6]),(!l||d[0]&4194432)&&ie(n,"selected",h[7]),(!l||d[0]&20971520)&&ie(n,"selectable",h[24]),d[0]&32&&se(e,"z-index",h[5])},i(h){l||(i&&N(i.$$.fragment,h),l=!0)},o(h){i&&K(i.$$.fragment,h),l=!1},d(h){h&&H(e),i&&ue(i),r=!1,yt(a)}}}function kr(t){let e,n,i=!t[9]&&_i(t);return{c(){i&&i.c(),e=ze()},l(o){i&&i.l(o),e=ze()},m(o,s){i&&i.m(o,s),J(o,e,s),n=!0},p(o,s){o[9]?i&&(Ye(),K(i,1,1,()=>{i=null}),Xe()):i?(i.p(o,s),s[0]&512&&N(i,1)):(i=_i(o),i.c(),N(i,1),i.m(e.parentNode,e))},i(o){n||(N(i),n=!0)},o(o){K(i),n=!1},d(o){o&&H(e),i&&i.d(o)}}}function wr(t,e,n){let i,o,s,l,r,a,u,f,h,{id:d}=e,{type:c="default"}=e,{source:b=""}=e,{target:m=""}=e,{data:y={}}=e,{style:g=void 0}=e,{zIndex:z=void 0}=e,{animated:w=!1}=e,{selected:M=!1}=e,{selectable:Y=void 0}=e,{deletable:Z=void 0}=e,{hidden:B=!1}=e,{label:V=void 0}=e,{labelStyle:v=void 0}=e,{markerStart:W=void 0}=e,{markerEnd:U=void 0}=e,{sourceHandle:$=void 0}=e,{targetHandle:A=void 0}=e,{sourceX:_}=e,{sourceY:S}=e,{targetX:k}=e,{targetY:P}=e,{sourcePosition:D}=e,{targetPosition:I}=e,{ariaLabel:X=void 0}=e,{interactionWidth:q=void 0}=e,{class:F=""}=e;jt("svelteflow__edge_id",d);const{edgeLookup:T,edgeTypes:x,flowId:te,elementsSelectable:ye}=Ve();G(t,T,L=>n(44,a=L)),G(t,x,L=>n(40,h=L)),G(t,te,L=>n(39,f=L)),G(t,ye,L=>n(38,u=L));const O=rn(),ne=ko();function de(L){const Ie=a.get(d);Ie&&(ne(d),O("edgeclick",{event:L,edge:Ie}))}function oe(L,Ie){const Oe=a.get(d);Oe&&O(Ie,{event:L,edge:Oe})}const be=L=>{oe(L,"edgecontextmenu")},we=L=>{oe(L,"edgemouseenter")},Pe=L=>{oe(L,"edgemouseleave")};return t.$$set=L=>{"id"in L&&n(0,d=L.id),"type"in L&&n(34,c=L.type),"source"in L&&n(1,b=L.source),"target"in L&&n(2,m=L.target),"data"in L&&n(3,y=L.data),"style"in L&&n(4,g=L.style),"zIndex"in L&&n(5,z=L.zIndex),"animated"in L&&n(6,w=L.animated),"selected"in L&&n(7,M=L.selected),"selectable"in L&&n(35,Y=L.selectable),"deletable"in L&&n(8,Z=L.deletable),"hidden"in L&&n(9,B=L.hidden),"label"in L&&n(10,V=L.label),"labelStyle"in L&&n(11,v=L.labelStyle),"markerStart"in L&&n(36,W=L.markerStart),"markerEnd"in L&&n(37,U=L.markerEnd),"sourceHandle"in L&&n(12,$=L.sourceHandle),"targetHandle"in L&&n(13,A=L.targetHandle),"sourceX"in L&&n(14,_=L.sourceX),"sourceY"in L&&n(15,S=L.sourceY),"targetX"in L&&n(16,k=L.targetX),"targetY"in L&&n(17,P=L.targetY),"sourcePosition"in L&&n(18,D=L.sourcePosition),"targetPosition"in L&&n(19,I=L.targetPosition),"ariaLabel"in L&&n(20,X=L.ariaLabel),"interactionWidth"in L&&n(21,q=L.interactionWidth),"class"in L&&n(22,F=L.class)},t.$$.update=()=>{t.$$.dirty[1]&8&&n(23,i=c||"default"),t.$$.dirty[0]&8388608|t.$$.dirty[1]&512&&n(27,o=h[i]||wo),t.$$.dirty[1]&288&&n(26,s=W?`url('#${In(W,f)}')`:void 0),t.$$.dirty[1]&320&&n(25,l=U?`url('#${In(U,f)}')`:void 0),t.$$.dirty[1]&144&&n(24,r=Y??u)},[d,b,m,y,g,z,w,M,Z,B,V,v,$,A,_,S,k,P,D,I,X,q,F,i,r,l,s,o,T,x,te,ye,de,oe,c,Y,W,U,u,f,h,be,we,Pe]}class Sr extends he{constructor(e){super(),ge(this,e,wr,kr,Zi,{id:0,type:34,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:35,deletable:8,hidden:9,label:10,labelStyle:11,markerStart:36,markerEnd:37,sourceHandle:12,targetHandle:13,sourceX:14,sourceY:15,targetX:16,targetY:17,sourcePosition:18,targetPosition:19,ariaLabel:20,interactionWidth:21,class:22},null,[-1,-1])}}function Er(t,e,n){let{onMount:i=void 0}=e,{onDestroy:o=void 0}=e;return sn(()=>(i==null||i(),o)),t.$$set=s=>{"onMount"in s&&n(0,i=s.onMount),"onDestroy"in s&&n(1,o=s.onDestroy)},[i,o]}class Cr extends he{constructor(e){super(),ge(this,e,Er,null,me,{onMount:0,onDestroy:1})}}function ki(t,e,n){const i=t.slice();return i[2]=e[n],i}function wi(t,e){let n,i,o;const s=[e[2]];let l={};for(let r=0;r<s.length;r+=1)l=Ce(l,s[r]);return i=new vr({props:l}),{key:t,first:null,c(){n=ze(),re(i.$$.fragment),this.h()},l(r){n=ze(),ce(i.$$.fragment,r),this.h()},h(){this.first=n},m(r,a){J(r,n,a),ae(i,r,a),o=!0},p(r,a){e=r;const u=a&1?ct(s,[vt(e[2])]):{};i.$set(u)},i(r){o||(N(i.$$.fragment,r),o=!0)},o(r){K(i.$$.fragment,r),o=!1},d(r){r&&H(n),ue(i,r)}}}function zr(t){let e,n=[],i=new Map,o,s=bt(t[0]);const l=r=>r[2].id;for(let r=0;r<s.length;r+=1){let a=ki(t,s,r),u=l(a);i.set(u,n[r]=wi(u,a))}return{c(){e=Se("defs");for(let r=0;r<n.length;r+=1)n[r].c()},l(r){e=Ee(r,"defs",{});var a=le(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(H)},m(r,a){J(r,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(r,[a]){a&1&&(s=bt(r[0]),Ye(),n=an(n,a,l,1,r,s,i,e,un,wi,null,ki),Xe())},i(r){if(!o){for(let a=0;a<s.length;a+=1)N(n[a]);o=!0}},o(r){for(let a=0;a<n.length;a+=1)K(n[a]);o=!1},d(r){r&&H(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Mr(t,e,n){let i;const{markers:o}=Ve();return G(t,o,s=>n(0,i=s)),[i,o]}class Pr extends he{constructor(e){super(),ge(this,e,Mr,zr,me,{})}}function Or(t){let e;return{c(){e=Se("polyline"),this.h()},l(n){e=Ee(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),le(e).forEach(H),this.h()},h(){E(e,"stroke",t[6]),E(e,"stroke-linecap","round"),E(e,"stroke-linejoin","round"),E(e,"stroke-width",t[7]),E(e,"fill",t[6]),E(e,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){J(n,e,i)},p(n,i){i&64&&E(e,"stroke",n[6]),i&128&&E(e,"stroke-width",n[7]),i&64&&E(e,"fill",n[6])},d(n){n&&H(e)}}}function Dr(t){let e;return{c(){e=Se("polyline"),this.h()},l(n){e=Ee(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),le(e).forEach(H),this.h()},h(){E(e,"stroke",t[6]),E(e,"stroke-linecap","round"),E(e,"stroke-linejoin","round"),E(e,"stroke-width",t[7]),E(e,"fill","none"),E(e,"points","-5,-4 0,0 -5,4")},m(n,i){J(n,e,i)},p(n,i){i&64&&E(e,"stroke",n[6]),i&128&&E(e,"stroke-width",n[7])},d(n){n&&H(e)}}}function Hr(t){let e,n,i;function o(r,a){if(r[1]===xt.Arrow)return Dr;if(r[1]===xt.ArrowClosed)return Or}let s=o(t),l=s&&s(t);return{c(){e=Se("marker"),l&&l.c(),this.h()},l(r){e=Ee(r,"marker",{class:!0,id:!0,markerWidth:!0,markerHeight:!0,viewBox:!0,markerUnits:!0,orient:!0,refX:!0,refY:!0});var a=le(e);l&&l.l(a),a.forEach(H),this.h()},h(){E(e,"class","svelte-flow__arrowhead"),E(e,"id",t[0]),E(e,"markerWidth",n=`${t[2]}`),E(e,"markerHeight",i=`${t[3]}`),E(e,"viewBox","-10 -10 20 20"),E(e,"markerUnits",t[4]),E(e,"orient",t[5]),E(e,"refX","0"),E(e,"refY","0")},m(r,a){J(r,e,a),l&&l.m(e,null)},p(r,[a]){s===(s=o(r))&&l?l.p(r,a):(l&&l.d(1),l=s&&s(r),l&&(l.c(),l.m(e,null))),a&1&&E(e,"id",r[0]),a&4&&n!==(n=`${r[2]}`)&&E(e,"markerWidth",n),a&8&&i!==(i=`${r[3]}`)&&E(e,"markerHeight",i),a&16&&E(e,"markerUnits",r[4]),a&32&&E(e,"orient",r[5])},i:ke,o:ke,d(r){r&&H(e),l&&l.d()}}}function Tr(t,e,n){let{id:i}=e,{type:o}=e,{width:s=12.5}=e,{height:l=12.5}=e,{markerUnits:r="strokeWidth"}=e,{orient:a="auto-start-reverse"}=e,{color:u=void 0}=e,{strokeWidth:f=void 0}=e;return t.$$set=h=>{"id"in h&&n(0,i=h.id),"type"in h&&n(1,o=h.type),"width"in h&&n(2,s=h.width),"height"in h&&n(3,l=h.height),"markerUnits"in h&&n(4,r=h.markerUnits),"orient"in h&&n(5,a=h.orient),"color"in h&&n(6,u=h.color),"strokeWidth"in h&&n(7,f=h.strokeWidth)},[i,o,s,l,r,a,u,f]}class vr extends he{constructor(e){super(),ge(this,e,Tr,Hr,me,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}function Si(t,e,n){const i=t.slice();return i[14]=e[n],i}function Ei(t,e){let n,i,o;return i=new Sr({props:{id:e[14].id,source:e[14].source,target:e[14].target,data:e[14].data,style:e[14].style,animated:e[14].animated,selected:e[14].selected,selectable:e[14].selectable??e[1],deletable:e[14].deletable,hidden:e[14].hidden,label:e[14].label,labelStyle:e[14].labelStyle,markerStart:e[14].markerStart,markerEnd:e[14].markerEnd,sourceHandle:e[14].sourceHandle,targetHandle:e[14].targetHandle,sourceX:e[14].sourceX,sourceY:e[14].sourceY,targetX:e[14].targetX,targetY:e[14].targetY,sourcePosition:e[14].sourcePosition,targetPosition:e[14].targetPosition,ariaLabel:e[14].ariaLabel,interactionWidth:e[14].interactionWidth,class:e[14].class,type:e[14].type||"default",zIndex:e[14].zIndex}}),i.$on("edgeclick",e[7]),i.$on("edgecontextmenu",e[8]),i.$on("edgemouseenter",e[9]),i.$on("edgemouseleave",e[10]),{key:t,first:null,c(){n=ze(),re(i.$$.fragment),this.h()},l(s){n=ze(),ce(i.$$.fragment,s),this.h()},h(){this.first=n},m(s,l){J(s,n,l),ae(i,s,l),o=!0},p(s,l){e=s;const r={};l&1&&(r.id=e[14].id),l&1&&(r.source=e[14].source),l&1&&(r.target=e[14].target),l&1&&(r.data=e[14].data),l&1&&(r.style=e[14].style),l&1&&(r.animated=e[14].animated),l&1&&(r.selected=e[14].selected),l&3&&(r.selectable=e[14].selectable??e[1]),l&1&&(r.deletable=e[14].deletable),l&1&&(r.hidden=e[14].hidden),l&1&&(r.label=e[14].label),l&1&&(r.labelStyle=e[14].labelStyle),l&1&&(r.markerStart=e[14].markerStart),l&1&&(r.markerEnd=e[14].markerEnd),l&1&&(r.sourceHandle=e[14].sourceHandle),l&1&&(r.targetHandle=e[14].targetHandle),l&1&&(r.sourceX=e[14].sourceX),l&1&&(r.sourceY=e[14].sourceY),l&1&&(r.targetX=e[14].targetX),l&1&&(r.targetY=e[14].targetY),l&1&&(r.sourcePosition=e[14].sourcePosition),l&1&&(r.targetPosition=e[14].targetPosition),l&1&&(r.ariaLabel=e[14].ariaLabel),l&1&&(r.interactionWidth=e[14].interactionWidth),l&1&&(r.class=e[14].class),l&1&&(r.type=e[14].type||"default"),l&1&&(r.zIndex=e[14].zIndex),i.$set(r)},i(s){o||(N(i.$$.fragment,s),o=!0)},o(s){K(i.$$.fragment,s),o=!1},d(s){s&&H(n),ue(i,s)}}}function Ci(t){let e,n;return e=new Cr({props:{onMount:t[11],onDestroy:t[12]}}),{c(){re(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p(i,o){const s={};o&4&&(s.onMount=i[11]),o&4&&(s.onDestroy=i[12]),e.$set(s)},i(i){n||(N(e.$$.fragment,i),n=!0)},o(i){K(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Ir(t){let e,n,i,o,s=[],l=new Map,r,a;i=new Pr({});let u=bt(t[0]);const f=d=>d[14].id;for(let d=0;d<u.length;d+=1){let c=Si(t,u,d),b=f(c);l.set(b,s[d]=Ei(b,c))}let h=t[0].length>0&&Ci(t);return{c(){e=Be("div"),n=Se("svg"),re(i.$$.fragment),o=He();for(let d=0;d<s.length;d+=1)s[d].c();r=He(),h&&h.c(),this.h()},l(d){e=Le(d,"DIV",{class:!0});var c=le(e);n=Ee(c,"svg",{class:!0});var b=le(n);ce(i.$$.fragment,b),b.forEach(H),o=Te(c);for(let m=0;m<s.length;m+=1)s[m].l(c);r=Te(c),h&&h.l(c),c.forEach(H),this.h()},h(){E(n,"class","svelte-flow__marker"),E(e,"class","svelte-flow__edges")},m(d,c){J(d,e,c),We(e,n),ae(i,n,null),We(e,o);for(let b=0;b<s.length;b+=1)s[b]&&s[b].m(e,null);We(e,r),h&&h.m(e,null),a=!0},p(d,[c]){c&3&&(u=bt(d[0]),Ye(),s=an(s,c,f,1,d,u,l,e,un,Ei,r,Si),Xe()),d[0].length>0?h?(h.p(d,c),c&1&&N(h,1)):(h=Ci(d),h.c(),N(h,1),h.m(e,null)):h&&(Ye(),K(h,1,1,()=>{h=null}),Xe())},i(d){if(!a){N(i.$$.fragment,d);for(let c=0;c<u.length;c+=1)N(s[c]);N(h),a=!0}},o(d){K(i.$$.fragment,d);for(let c=0;c<s.length;c+=1)K(s[c]);K(h),a=!1},d(d){d&&H(e),ue(i);for(let c=0;c<s.length;c+=1)s[c].d();h&&h.d()}}}function Nr(t,e,n){let i,o,s,{defaultEdgeOptions:l}=e;const{visibleEdges:r,edgesInitialized:a,edges:{setDefaultOptions:u},elementsSelectable:f}=Ve();G(t,r,g=>n(0,i=g)),G(t,a,g=>n(2,s=g)),G(t,f,g=>n(1,o=g)),sn(()=>{l&&u(l)});function h(g){_e.call(this,t,g)}function d(g){_e.call(this,t,g)}function c(g){_e.call(this,t,g)}function b(g){_e.call(this,t,g)}const m=()=>{Jt(a,s=!0,s)},y=()=>{Jt(a,s=!1,s)};return t.$$set=g=>{"defaultEdgeOptions"in g&&n(6,l=g.defaultEdgeOptions)},[i,o,s,r,a,f,l,h,d,c,b,m,y]}class Vr extends he{constructor(e){super(),ge(this,e,Nr,Ir,me,{defaultEdgeOptions:6})}}function zi(t){let e;return{c(){e=Be("div"),this.h()},l(n){e=Le(n,"DIV",{class:!0}),le(e).forEach(H),this.h()},h(){E(e,"class","svelte-flow__selection svelte-1iugwpu"),se(e,"width",typeof t[2]=="string"?t[2]:`${t[2]}px`),se(e,"height",typeof t[3]=="string"?t[3]:`${t[3]}px`),se(e,"transform",`translate(${t[0]}px, ${t[1]}px)`)},m(n,i){J(n,e,i)},p(n,i){i&4&&se(e,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&se(e,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&se(e,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&H(e)}}}function Ar(t){let e,n=t[4]&&zi(t);return{c(){n&&n.c(),e=ze()},l(i){n&&n.l(i),e=ze()},m(i,o){n&&n.m(i,o),J(i,e,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=zi(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:ke,o:ke,d(i){i&&H(e),n&&n.d(i)}}}function Yr(t,e,n){let{x:i=0}=e,{y:o=0}=e,{width:s=0}=e,{height:l=0}=e,{isVisible:r=!0}=e;return t.$$set=a=>{"x"in a&&n(0,i=a.x),"y"in a&&n(1,o=a.y),"width"in a&&n(2,s=a.width),"height"in a&&n(3,l=a.height),"isVisible"in a&&n(4,r=a.isVisible)},[i,o,s,l,r]}class zo extends he{constructor(e){super(),ge(this,e,Yr,Ar,me,{x:0,y:1,width:2,height:3,isVisible:4})}}function Xr(t){var i,o,s,l;let e,n;return e=new zo({props:{isVisible:!!(t[0]&&t[1]==="user"),width:(i=t[0])==null?void 0:i.width,height:(o=t[0])==null?void 0:o.height,x:(s=t[0])==null?void 0:s.x,y:(l=t[0])==null?void 0:l.y}}),{c(){re(e.$$.fragment)},l(r){ce(e.$$.fragment,r)},m(r,a){ae(e,r,a),n=!0},p(r,[a]){var f,h,d,c;const u={};a&3&&(u.isVisible=!!(r[0]&&r[1]==="user")),a&1&&(u.width=(f=r[0])==null?void 0:f.width),a&1&&(u.height=(h=r[0])==null?void 0:h.height),a&1&&(u.x=(d=r[0])==null?void 0:d.x),a&1&&(u.y=(c=r[0])==null?void 0:c.y),e.$set(u)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){K(e.$$.fragment,r),n=!1},d(r){ue(e,r)}}}function Wr(t,e,n){let i,o;const{selectionRect:s,selectionRectMode:l}=Ve();return G(t,s,r=>n(0,i=r)),G(t,l,r=>n(1,o=r)),[i,o,s,l]}class Br extends he{constructor(e){super(),ge(this,e,Wr,Xr,me,{})}}function Mi(t){let e,n,i,o,s;return n=new zo({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){e=Be("div"),re(n.$$.fragment),this.h()},l(l){e=Le(l,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var r=le(e);ce(n.$$.fragment,r),r.forEach(H),this.h()},h(){E(e,"class","selection-wrapper nopan svelte-5pxri"),se(e,"width",t[1].width+"px"),se(e,"height",t[1].height+"px"),se(e,"transform","translate("+t[1].x+"px, "+t[1].y+"px)"),E(e,"role","button"),E(e,"tabindex","-1")},m(l,r){J(l,e,r),ae(n,e,null),i=!0,o||(s=[Ze(Co.call(null,e,{disabled:!1,store:t[2],onDrag:t[11],onDragStart:t[12],onDragStop:t[13]})),De(e,"contextmenu",t[7]),De(e,"click",t[8]),De(e,"keyup",Kr)],o=!0)},p(l,r){(!i||r&2)&&se(e,"width",l[1].width+"px"),(!i||r&2)&&se(e,"height",l[1].height+"px"),(!i||r&2)&&se(e,"transform","translate("+l[1].x+"px, "+l[1].y+"px)")},i(l){i||(N(n.$$.fragment,l),i=!0)},o(l){K(n.$$.fragment,l),i=!1},d(l){l&&H(e),ue(n),o=!1,yt(s)}}}function Lr(t){let e=t[0]==="nodes"&&t[1]&&tt(t[1].x)&&tt(t[1].y),n,i,o=e&&Mi(t);return{c(){o&&o.c(),n=ze()},l(s){o&&o.l(s),n=ze()},m(s,l){o&&o.m(s,l),J(s,n,l),i=!0},p(s,[l]){l&3&&(e=s[0]==="nodes"&&s[1]&&tt(s[1].x)&&tt(s[1].y)),e?o?(o.p(s,l),l&3&&N(o,1)):(o=Mi(s),o.c(),N(o,1),o.m(n.parentNode,n)):o&&(Ye(),K(o,1,1,()=>{o=null}),Xe())},i(s){i||(N(o),i=!0)},o(s){K(o),i=!1},d(s){s&&H(n),o&&o.d(s)}}}const Kr=()=>{};function Rr(t,e,n){let i,o,s;const l=Ve(),{selectionRectMode:r,nodes:a,nodeLookup:u}=l;G(t,r,g=>n(0,s=g)),G(t,a,g=>n(9,i=g)),G(t,u,g=>n(10,o=g));const f=rn();let h=null;function d(g){const z=i.filter(w=>w.selected);f("selectioncontextmenu",{nodes:z,event:g})}function c(g){const z=i.filter(w=>w.selected);f("selectionclick",{nodes:z,event:g})}const b=(g,z,w,M)=>{f("nodedrag",{event:g,targetNode:null,nodes:M})},m=(g,z,w,M)=>{f("nodedragstart",{event:g,targetNode:null,nodes:M})},y=(g,z,w,M)=>{f("nodedragstop",{event:g,targetNode:null,nodes:M})};return t.$$.update=()=>{t.$$.dirty&1537&&s==="nodes"&&n(1,h=Lt(o,{filter:g=>!!g.selected}))},[s,h,l,r,a,u,f,d,c,i,o,b,m,y]}class Zr extends he{constructor(e){super(),ge(this,e,Rr,Lr,me,{})}}function ot(t,e){let{enabled:n=!0,trigger:i,type:o="keydown"}=e;function s(l){const r=Array.isArray(i)?i:[i],a={alt:l.altKey,ctrl:l.ctrlKey,shift:l.shiftKey,meta:l.metaKey};for(const u of r){const f={modifier:[],preventDefault:!1,enabled:!0,...u},{modifier:h,key:d,callback:c,preventDefault:b,enabled:m}=f;if(m){if(h.length&&!(Array.isArray(h)?h:[h]).map(z=>typeof z=="string"?[z]:z).some(z=>z.every(w=>a[w])))continue;if(l.key===d){b&&l.preventDefault();const y={node:t,trigger:f,originalEvent:l};t.dispatchEvent(new CustomEvent("shortcut",{detail:y})),c==null||c(y)}}}}return n&&t.addEventListener(o,s),{update:l=>{const{enabled:r=!0,type:a="keydown"}=l;n&&(!r||o!==a)?t.removeEventListener(o,s):!n&&r&&t.addEventListener(a,s),n=r,o=a,i=l.trigger},destroy:()=>{t.removeEventListener(o,s)}}}function Fr(t){let e,n,i,o,s,l,r,a,u,f,h,d;return{c:ke,l:ke,m(c,b){h||(d=[Ze(e=ot.call(null,window,{trigger:Ne(t[0],t[11]),type:"keydown"})),Ze(n=ot.call(null,window,{trigger:Ne(t[0],t[12]),type:"keyup"})),Ze(i=ot.call(null,window,{trigger:Ne(t[1],t[13]),type:"keydown"})),Ze(o=ot.call(null,window,{trigger:Ne(t[1],t[14]),type:"keyup"})),Ze(s=ot.call(null,window,{trigger:Ne(t[2],t[15]),type:"keydown"})),Ze(l=ot.call(null,window,{trigger:Ne(t[2],t[16]),type:"keyup"})),Ze(r=ot.call(null,window,{trigger:Ne(t[3],t[17]),type:"keydown"})),Ze(a=ot.call(null,window,{trigger:Ne(t[3],t[18]),type:"keyup"})),Ze(u=ot.call(null,window,{trigger:Ne(t[4],t[19]),type:"keydown"})),Ze(f=ot.call(null,window,{trigger:Ne(t[4],t[20]),type:"keyup"})),De(window,"blur",t[10]),De(window,"contextmenu",t[10])],h=!0)},p(c,[b]){e&&Ae(e.update)&&b&1&&e.update.call(null,{trigger:Ne(c[0],c[11]),type:"keydown"}),n&&Ae(n.update)&&b&1&&n.update.call(null,{trigger:Ne(c[0],c[12]),type:"keyup"}),i&&Ae(i.update)&&b&2&&i.update.call(null,{trigger:Ne(c[1],c[13]),type:"keydown"}),o&&Ae(o.update)&&b&2&&o.update.call(null,{trigger:Ne(c[1],c[14]),type:"keyup"}),s&&Ae(s.update)&&b&4&&s.update.call(null,{trigger:Ne(c[2],c[15]),type:"keydown"}),l&&Ae(l.update)&&b&4&&l.update.call(null,{trigger:Ne(c[2],c[16]),type:"keyup"}),r&&Ae(r.update)&&b&8&&r.update.call(null,{trigger:Ne(c[3],c[17]),type:"keydown"}),a&&Ae(a.update)&&b&8&&a.update.call(null,{trigger:Ne(c[3],c[18]),type:"keyup"}),u&&Ae(u.update)&&b&16&&u.update.call(null,{trigger:Ne(c[4],c[19]),type:"keydown"}),f&&Ae(f.update)&&b&16&&f.update.call(null,{trigger:Ne(c[4],c[20]),type:"keyup"})},i:ke,o:ke,d(c){h=!1,yt(d)}}}function Mo(t){return t!==null&&typeof t=="object"}function Gr(t){return Mo(t)?t.modifier||[]:[]}function Ur(t){return t==null?"":Mo(t)?t.key:t}function Ne(t,e){return(Array.isArray(t)?t:[t]).map(i=>{const o=Ur(i);return{key:o,modifier:Gr(i),enabled:o!==null,callback:e}})}function qr(t,e,n){let{selectionKey:i="Shift"}=e,{multiSelectionKey:o=$t()?"Meta":"Control"}=e,{deleteKey:s="Backspace"}=e,{panActivationKey:l=" "}=e,{zoomActivationKey:r=$t()?"Meta":"Control"}=e;const{selectionKeyPressed:a,multiselectionKeyPressed:u,deleteKeyPressed:f,panActivationKeyPressed:h,zoomActivationKeyPressed:d,selectionRect:c}=Ve();function b(){c.set(null),a.set(!1),u.set(!1),f.set(!1),h.set(!1),d.set(!1)}const m=()=>a.set(!0),y=()=>a.set(!1),g=()=>u.set(!0),z=()=>u.set(!1),w=v=>{!(v.originalEvent.ctrlKey||v.originalEvent.metaKey||v.originalEvent.shiftKey)&&!Tl(v.originalEvent)&&f.set(!0)},M=()=>f.set(!1),Y=()=>h.set(!0),Z=()=>h.set(!1),B=()=>d.set(!0),V=()=>d.set(!1);return t.$$set=v=>{"selectionKey"in v&&n(0,i=v.selectionKey),"multiSelectionKey"in v&&n(1,o=v.multiSelectionKey),"deleteKey"in v&&n(2,s=v.deleteKey),"panActivationKey"in v&&n(3,l=v.panActivationKey),"zoomActivationKey"in v&&n(4,r=v.zoomActivationKey)},[i,o,s,l,r,a,u,f,h,d,b,m,y,g,z,w,M,Y,Z,B,V]}class jr extends he{constructor(e){super(),ge(this,e,qr,Fr,me,{selectionKey:0,multiSelectionKey:1,deleteKey:2,panActivationKey:3,zoomActivationKey:4})}}const Jr=t=>({}),Pi=t=>({});function Oi(t){let e,n,i,o;const s=t[13].connectionLine,l=Ue(s,t,t[12],Pi);let r=!t[2]&&Di(t);return{c(){e=Se("svg"),n=Se("g"),l&&l.c(),r&&r.c(),this.h()},l(a){e=Ee(a,"svg",{width:!0,height:!0,class:!0,style:!0});var u=le(e);n=Ee(u,"g",{class:!0});var f=le(n);l&&l.l(f),r&&r.l(f),f.forEach(H),u.forEach(H),this.h()},h(){E(n,"class",i=Me(["svelte-flow__connection",xn(t[3].isValid)])),E(e,"width",t[5]),E(e,"height",t[6]),E(e,"class","svelte-flow__connectionline"),E(e,"style",t[0])},m(a,u){J(a,e,u),We(e,n),l&&l.m(n,null),r&&r.m(n,null),o=!0},p(a,u){l&&l.p&&(!o||u&4096)&&qe(l,s,a,a[12],o?Je(s,a[12],u,Jr):je(a[12]),Pi),a[2]?r&&(r.d(1),r=null):r?r.p(a,u):(r=Di(a),r.c(),r.m(n,null)),(!o||u&8&&i!==(i=Me(["svelte-flow__connection",xn(a[3].isValid)])))&&E(n,"class",i),(!o||u&32)&&E(e,"width",a[5]),(!o||u&64)&&E(e,"height",a[6]),(!o||u&1)&&E(e,"style",a[0])},i(a){o||(N(l,a),o=!0)},o(a){K(l,a),o=!1},d(a){a&&H(e),l&&l.d(a),r&&r.d()}}}function Di(t){let e;return{c(){e=Se("path"),this.h()},l(n){e=Ee(n,"path",{d:!0,style:!0,fill:!0,class:!0}),le(e).forEach(H),this.h()},h(){E(e,"d",t[4]),E(e,"style",t[1]),E(e,"fill","none"),E(e,"class","svelte-flow__connection-path")},m(n,i){J(n,e,i)},p(n,i){i&16&&E(e,"d",n[4]),i&2&&E(e,"style",n[1])},d(n){n&&H(e)}}}function Qr(t){let e,n,i=t[3].inProgress&&Oi(t);return{c(){i&&i.c(),e=ze()},l(o){i&&i.l(o),e=ze()},m(o,s){i&&i.m(o,s),J(o,e,s),n=!0},p(o,[s]){o[3].inProgress?i?(i.p(o,s),s&8&&N(i,1)):(i=Oi(o),i.c(),N(i,1),i.m(e.parentNode,e)):i&&(Ye(),K(i,1,1,()=>{i=null}),Xe())},i(o){n||(N(i),n=!0)},o(o){K(i),n=!1},d(o){o&&H(e),i&&i.d(o)}}}function pr(t,e,n){let i,o,s,l,{$$slots:r={},$$scope:a}=e,{containerStyle:u=""}=e,{style:f=""}=e,{isCustomComponent:h=!1}=e;const{width:d,height:c,connection:b,connectionLineType:m}=Ve();G(t,d,g=>n(5,s=g)),G(t,c,g=>n(6,l=g)),G(t,b,g=>n(3,o=g)),G(t,m,g=>n(11,i=g));let y=null;return t.$$set=g=>{"containerStyle"in g&&n(0,u=g.containerStyle),"style"in g&&n(1,f=g.style),"isCustomComponent"in g&&n(2,h=g.isCustomComponent),"$$scope"in g&&n(12,a=g.$$scope)},t.$$.update=()=>{if(t.$$.dirty&2060&&o.inProgress&&!h){const{from:g,to:z,fromPosition:w,toPosition:M}=o,Y={sourceX:g.x,sourceY:g.y,sourcePosition:w,targetX:z.x,targetY:z.y,targetPosition:M};switch(i){case Ht.Bezier:n(4,[y]=io(Y),y);break;case Ht.Step:n(4,[y]=tn({...Y,borderRadius:0}),y);break;case Ht.SmoothStep:n(4,[y]=tn(Y),y);break;default:n(4,[y]=lo(Y),y)}}},[u,f,h,o,y,s,l,d,c,b,m,i,a,r]}class xr extends he{constructor(e){super(),ge(this,e,pr,Qr,me,{containerStyle:0,style:1,isCustomComponent:2})}}function $r(t){let e,n,i;const o=t[8].default,s=Ue(o,t,t[7],null);let l=[{class:n=Me(["svelte-flow__panel",t[1],...t[2]])},{style:t[0]},t[5]],r={};for(let a=0;a<l.length;a+=1)r=Ce(r,l[a]);return{c(){e=Be("div"),s&&s.c(),this.h()},l(a){e=Le(a,"DIV",{class:!0,style:!0});var u=le(e);s&&s.l(u),u.forEach(H),this.h()},h(){Tt(e,r),se(e,"pointer-events",t[3]?"none":"")},m(a,u){J(a,e,u),s&&s.m(e,null),i=!0},p(a,[u]){s&&s.p&&(!i||u&128)&&qe(s,o,a,a[7],i?Je(o,a[7],u,null):je(a[7]),null),Tt(e,r=ct(l,[(!i||u&6&&n!==(n=Me(["svelte-flow__panel",a[1],...a[2]])))&&{class:n},(!i||u&1)&&{style:a[0]},u&32&&a[5]])),se(e,"pointer-events",a[3]?"none":"")},i(a){i||(N(s,a),i=!0)},o(a){K(s,a),i=!1},d(a){a&&H(e),s&&s.d(a)}}}function ea(t,e,n){let i;const o=["position","style","class"];let s=ve(e,o),l,{$$slots:r={},$$scope:a}=e,{position:u="top-right"}=e,{style:f=void 0}=e,{class:h=void 0}=e;const{selectionRectMode:d}=Ve();return G(t,d,c=>n(3,l=c)),t.$$set=c=>{e=Ce(Ce({},e),nt(c)),n(5,s=ve(e,o)),"position"in c&&n(6,u=c.position),"style"in c&&n(0,f=c.style),"class"in c&&n(1,h=c.class),"$$scope"in c&&n(7,a=c.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=`${u}`.split("-"))},[f,h,i,l,d,s,u,a,r]}class Ln extends he{constructor(e){super(),ge(this,e,ea,$r,me,{position:6,style:0,class:1})}}function Hi(t){let e,n;return e=new Ln({props:{position:t[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[ta]},$$scope:{ctx:t}}}),{c(){re(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p(i,o){const s={};o&2&&(s.position=i[1]),o&4&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(N(e.$$.fragment,i),n=!0)},o(i){K(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function ta(t){let e,n="Svelte Flow";return{c(){e=Be("a"),e.textContent=n,this.h()},l(i){e=Le(i,"A",{href:!0,target:!0,rel:!0,"aria-label":!0,"data-svelte-h":!0}),Qo(e)!=="svelte-2vm8e4"&&(e.textContent=n),this.h()},h(){E(e,"href","https://svelteflow.dev"),E(e,"target","_blank"),E(e,"rel","noopener noreferrer"),E(e,"aria-label","Svelte Flow attribution")},m(i,o){J(i,e,o)},p:ke,d(i){i&&H(e)}}}function na(t){var o;let e,n,i=!((o=t[0])!=null&&o.hideAttribution)&&Hi(t);return{c(){i&&i.c(),e=ze()},l(s){i&&i.l(s),e=ze()},m(s,l){i&&i.m(s,l),J(s,e,l),n=!0},p(s,[l]){var r;(r=s[0])!=null&&r.hideAttribution?i&&(Ye(),K(i,1,1,()=>{i=null}),Xe()):i?(i.p(s,l),l&1&&N(i,1)):(i=Hi(s),i.c(),N(i,1),i.m(e.parentNode,e))},i(s){n||(N(i),n=!0)},o(s){K(i),n=!1},d(s){s&&H(e),i&&i.d(s)}}}function ia(t,e,n){let{proOptions:i=void 0}=e,{position:o="bottom-right"}=e;return t.$$set=s=>{"proOptions"in s&&n(0,i=s.proOptions),"position"in s&&n(1,o=s.position)},[i,o]}class oa extends he{constructor(e){super(),ge(this,e,ia,na,me,{proOptions:0,position:1})}}function Ti(t,{nodeTypes:e,edgeTypes:n,minZoom:i,maxZoom:o,translateExtent:s,paneClickDistance:l}){e!==void 0&&t.setNodeTypes(e),n!==void 0&&t.setEdgeTypes(n),i!==void 0&&t.setMinZoom(i),o!==void 0&&t.setMaxZoom(o),s!==void 0&&t.setTranslateExtent(s),l!==void 0&&t.setPaneClickDistance(l)}const la=t=>Object.keys(t);function sa(t,e){la(e).forEach(n=>{const i=e[n];i!==void 0&&t[n].set(i)})}function ra(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function aa(t="light"){return $e("light",n=>{if(t!=="system"){n(t);return}const i=ra(),o=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}})}const ua=t=>({}),vi=t=>({slot:"connectionLine"});function fa(t){let e;const n=t[74].connectionLine,i=Ue(n,t,t[98],vi);return{c(){i&&i.c()},l(o){i&&i.l(o)},m(o,s){i&&i.m(o,s),e=!0},p(o,s){i&&i.p&&(!e||s[3]&32)&&qe(i,n,o,o[98],e?Je(n,o[98],s,ua):je(o[98]),vi)},i(o){e||(N(i,o),e=!0)},o(o){K(i,o),e=!1},d(o){i&&i.d(o)}}}function ca(t){let e,n,i,o,s,l,r,a,u,f,h,d;return e=new Vr({props:{defaultEdgeOptions:t[21]}}),e.$on("edgeclick",t[77]),e.$on("edgecontextmenu",t[78]),e.$on("edgemouseenter",t[79]),e.$on("edgemouseleave",t[80]),i=new xr({props:{containerStyle:t[7],style:t[6],isCustomComponent:t[34].connectionLine,$$slots:{connectionLine:[fa]},$$scope:{ctx:t}}}),u=new _r({props:{nodeClickDistance:t[23]}}),u.$on("nodeclick",t[81]),u.$on("nodemouseenter",t[82]),u.$on("nodemousemove",t[83]),u.$on("nodemouseleave",t[84]),u.$on("nodedragstart",t[85]),u.$on("nodedrag",t[86]),u.$on("nodedragstop",t[87]),u.$on("nodecontextmenu",t[88]),h=new Zr({}),h.$on("selectionclick",t[89]),h.$on("selectioncontextmenu",t[90]),h.$on("nodedragstart",t[91]),h.$on("nodedrag",t[92]),h.$on("nodedragstop",t[93]),{c(){re(e.$$.fragment),n=He(),re(i.$$.fragment),o=He(),s=Be("div"),l=He(),r=Be("div"),a=He(),re(u.$$.fragment),f=He(),re(h.$$.fragment),this.h()},l(c){ce(e.$$.fragment,c),n=Te(c),ce(i.$$.fragment,c),o=Te(c),s=Le(c,"DIV",{class:!0}),le(s).forEach(H),l=Te(c),r=Le(c,"DIV",{class:!0}),le(r).forEach(H),a=Te(c),ce(u.$$.fragment,c),f=Te(c),ce(h.$$.fragment,c),this.h()},h(){E(s,"class","svelte-flow__edgelabel-renderer"),E(r,"class","svelte-flow__viewport-portal")},m(c,b){ae(e,c,b),J(c,n,b),ae(i,c,b),J(c,o,b),J(c,s,b),J(c,l,b),J(c,r,b),J(c,a,b),ae(u,c,b),J(c,f,b),ae(h,c,b),d=!0},p(c,b){const m={};b[0]&2097152&&(m.defaultEdgeOptions=c[21]),e.$set(m);const y={};b[0]&128&&(y.containerStyle=c[7]),b[0]&64&&(y.style=c[6]),b[1]&8&&(y.isCustomComponent=c[34].connectionLine),b[3]&32&&(y.$$scope={dirty:b,ctx:c}),i.$set(y);const g={};b[0]&8388608&&(g.nodeClickDistance=c[23]),u.$set(g)},i(c){d||(N(e.$$.fragment,c),N(i.$$.fragment,c),N(u.$$.fragment,c),N(h.$$.fragment,c),d=!0)},o(c){K(e.$$.fragment,c),K(i.$$.fragment,c),K(u.$$.fragment,c),K(h.$$.fragment,c),d=!1},d(c){c&&(H(n),H(o),H(s),H(l),H(r),H(a),H(f)),ue(e,c),ue(i,c),ue(u,c),ue(h,c)}}}function da(t){let e,n,i,o;return e=new fr({props:{$$slots:{default:[ca]},$$scope:{ctx:t}}}),i=new Br({}),{c(){re(e.$$.fragment),n=He(),re(i.$$.fragment)},l(s){ce(e.$$.fragment,s),n=Te(s),ce(i.$$.fragment,s)},m(s,l){ae(e,s,l),J(s,n,l),ae(i,s,l),o=!0},p(s,l){const r={};l[0]&10485952|l[1]&8|l[3]&32&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){o||(N(e.$$.fragment,s),N(i.$$.fragment,s),o=!0)},o(s){K(e.$$.fragment,s),K(i.$$.fragment,s),o=!1},d(s){s&&H(n),ue(e,s),ue(i,s)}}}function ha(t){let e,n;return e=new rr({props:{panOnDrag:t[17]===void 0?!0:t[17],selectionOnDrag:t[18],$$slots:{default:[da]},$$scope:{ctx:t}}}),e.$on("paneclick",t[94]),e.$on("panecontextmenu",t[95]),{c(){re(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p(i,o){const s={};o[0]&131072&&(s.panOnDrag=i[17]===void 0?!0:i[17]),o[0]&262144&&(s.selectionOnDrag=i[18]),o[0]&10485952|o[1]&8|o[3]&32&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(N(e.$$.fragment,i),n=!0)},o(i){K(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function ga(t){let e,n,i,o,s,l,r,a,u,f,h,d;n=new jr({props:{selectionKey:t[1],deleteKey:t[5],panActivationKey:t[2],multiSelectionKey:t[3],zoomActivationKey:t[4]}}),o=new or({props:{initialViewport:t[31],onMoveStart:t[8],onMove:t[9],onMoveEnd:t[10],panOnScrollMode:t[11]===void 0?lt.Free:t[11],preventScrolling:t[12]===void 0?!0:t[12],zoomOnScroll:t[13]===void 0?!0:t[13],zoomOnDoubleClick:t[14]===void 0?!0:t[14],zoomOnPinch:t[15]===void 0?!0:t[15],panOnScroll:t[16]===void 0?!1:t[16],panOnDrag:t[17]===void 0?!0:t[17],paneClickDistance:t[22]===void 0?0:t[22],$$slots:{default:[ha]},$$scope:{ctx:t}}}),l=new oa({props:{proOptions:t[20],position:t[19]}});const c=t[74].default,b=Ue(c,t,t[98],null);let m=[{style:t[24]},{class:a=Me(["svelte-flow",t[25],t[30]])},{"data-testid":"svelte-flow__wrapper"},t[33],{role:"application"}],y={};for(let g=0;g<m.length;g+=1)y=Ce(y,m[g]);return{c(){e=Be("div"),re(n.$$.fragment),i=He(),re(o.$$.fragment),s=He(),re(l.$$.fragment),r=He(),b&&b.c(),this.h()},l(g){e=Le(g,"DIV",{style:!0,class:!0,"data-testid":!0,role:!0});var z=le(e);ce(n.$$.fragment,z),i=Te(z),ce(o.$$.fragment,z),s=Te(z),ce(l.$$.fragment,z),r=Te(z),b&&b.l(z),z.forEach(H),this.h()},h(){Tt(e,y),po(()=>t[97].call(e)),ie(e,"svelte-12wlba6",!0)},m(g,z){J(g,e,z),ae(n,e,null),We(e,i),ae(o,e,null),We(e,s),ae(l,e,null),We(e,r),b&&b.m(e,null),t[96](e),u=xo(e,t[97].bind(e)),f=!0,h||(d=[De(e,"dragover",t[75]),De(e,"drop",t[76])],h=!0)},p(g,z){const w={};z[0]&2&&(w.selectionKey=g[1]),z[0]&32&&(w.deleteKey=g[5]),z[0]&4&&(w.panActivationKey=g[2]),z[0]&8&&(w.multiSelectionKey=g[3]),z[0]&16&&(w.zoomActivationKey=g[4]),n.$set(w);const M={};z[0]&256&&(M.onMoveStart=g[8]),z[0]&512&&(M.onMove=g[9]),z[0]&1024&&(M.onMoveEnd=g[10]),z[0]&2048&&(M.panOnScrollMode=g[11]===void 0?lt.Free:g[11]),z[0]&4096&&(M.preventScrolling=g[12]===void 0?!0:g[12]),z[0]&8192&&(M.zoomOnScroll=g[13]===void 0?!0:g[13]),z[0]&16384&&(M.zoomOnDoubleClick=g[14]===void 0?!0:g[14]),z[0]&32768&&(M.zoomOnPinch=g[15]===void 0?!0:g[15]),z[0]&65536&&(M.panOnScroll=g[16]===void 0?!1:g[16]),z[0]&131072&&(M.panOnDrag=g[17]===void 0?!0:g[17]),z[0]&4194304&&(M.paneClickDistance=g[22]===void 0?0:g[22]),z[0]&10879168|z[1]&8|z[3]&32&&(M.$$scope={dirty:z,ctx:g}),o.$set(M);const Y={};z[0]&1048576&&(Y.proOptions=g[20]),z[0]&524288&&(Y.position=g[19]),l.$set(Y),b&&b.p&&(!f||z[3]&32)&&qe(b,c,g,g[98],f?Je(c,g[98],z,null):je(g[98]),null),Tt(e,y=ct(m,[(!f||z[0]&16777216)&&{style:g[24]},(!f||z[0]&1107296256&&a!==(a=Me(["svelte-flow",g[25],g[30]])))&&{class:a},{"data-testid":"svelte-flow__wrapper"},z[1]&4&&g[33],{role:"application"}])),ie(e,"svelte-12wlba6",!0)},i(g){f||(N(n.$$.fragment,g),N(o.$$.fragment,g),N(l.$$.fragment,g),N(b,g),f=!0)},o(g){K(n.$$.fragment,g),K(o.$$.fragment,g),K(l.$$.fragment,g),K(b,g),f=!1},d(g){g&&H(e),ue(n),ue(o),ue(l),b&&b.d(g),t[96](null),u(),h=!1,yt(d)}}}function ma(t,e,n){let i;const o=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","nodeOrigin","paneClickDistance","nodeClickDistance","defaultMarkerColor","style","class"];let s=ve(e,o),l,r,a=ke,u=()=>(a(),a=Gn(V,C=>n(99,r=C)),V),f,h=ke,d=()=>(h(),h=Gn(i,C=>n(30,f=C)),i);t.$$.on_destroy.push(()=>a()),t.$$.on_destroy.push(()=>h());let{$$slots:c={},$$scope:b}=e;const m=$o(c);let{id:y="1"}=e,{nodes:g}=e,{edges:z}=e,{fitView:w=void 0}=e,{fitViewOptions:M=void 0}=e,{minZoom:Y=void 0}=e,{maxZoom:Z=void 0}=e,{initialViewport:B=void 0}=e,{viewport:V=void 0}=e;u();let{nodeTypes:v=void 0}=e,{edgeTypes:W=void 0}=e,{selectionKey:U=void 0}=e,{selectionMode:$=void 0}=e,{panActivationKey:A=void 0}=e,{multiSelectionKey:_=void 0}=e,{zoomActivationKey:S=void 0}=e,{nodesDraggable:k=void 0}=e,{nodesConnectable:P=void 0}=e,{nodeDragThreshold:D=void 0}=e,{elementsSelectable:I=void 0}=e,{snapGrid:X=void 0}=e,{deleteKey:q=void 0}=e,{connectionRadius:F=void 0}=e,{connectionLineType:T=void 0}=e,{connectionMode:x=kt.Strict}=e,{connectionLineStyle:te=""}=e,{connectionLineContainerStyle:ye=""}=e,{onMoveStart:O=void 0}=e,{onMove:ne=void 0}=e,{onMoveEnd:de=void 0}=e,{isValidConnection:oe=void 0}=e,{translateExtent:be=void 0}=e,{onlyRenderVisibleElements:we=void 0}=e,{panOnScrollMode:Pe=lt.Free}=e,{preventScrolling:L=!0}=e,{zoomOnScroll:Ie=!0}=e,{zoomOnDoubleClick:Oe=!0}=e,{zoomOnPinch:st=!0}=e,{panOnScroll:rt=!1}=e,{panOnDrag:at=!0}=e,{selectionOnDrag:Ke=void 0}=e,{autoPanOnConnect:it=!0}=e,{autoPanOnNodeDrag:p=!0}=e,{onerror:dt=void 0}=e,{ondelete:ht=void 0}=e,{onedgecreate:R=void 0}=e,{attributionPosition:pe=void 0}=e,{proOptions:Fe=void 0}=e,{defaultEdgeOptions:Q=void 0}=e,{width:ut=void 0}=e,{height:Ge=void 0}=e,{colorMode:Qe="light"}=e,{onconnect:wt=void 0}=e,{onconnectstart:St=void 0}=e,{onconnectend:Et=void 0}=e,{onbeforedelete:Ct=void 0}=e,{oninit:gt=void 0}=e,{nodeOrigin:_t=void 0}=e,{paneClickDistance:Kt=0}=e,{nodeClickDistance:Kn=0}=e,{defaultMarkerColor:gn="#b1b1b7"}=e,{style:Rn=void 0}=e,{class:Zn=void 0}=e,Rt,zt,Mt;const Po=r||B,Re=el(Bn)?Ve():er({nodes:j(g),edges:j(z),width:ut,height:Ge,fitView:w,nodeOrigin:_t});sn(()=>(Re.width.set(zt),Re.height.set(Mt),Re.domNode.set(Rt),Re.syncNodeStores(g),Re.syncEdgeStores(z),Re.syncViewport(V),w!==void 0&&Re.fitViewOnInit.set(w),M&&Re.fitViewOptions.set(M),Ti(Re,{nodeTypes:v,edgeTypes:W,minZoom:Y,maxZoom:Z,translateExtent:be,paneClickDistance:Kt}),()=>{Re.reset()}));const{initialized:Fn}=Re;G(t,Fn,C=>n(73,l=C));let mn=!1;function Oo(C){_e.call(this,t,C)}function Do(C){_e.call(this,t,C)}function Ho(C){_e.call(this,t,C)}function To(C){_e.call(this,t,C)}function vo(C){_e.call(this,t,C)}function Io(C){_e.call(this,t,C)}function No(C){_e.call(this,t,C)}function Vo(C){_e.call(this,t,C)}function Ao(C){_e.call(this,t,C)}function Yo(C){_e.call(this,t,C)}function Xo(C){_e.call(this,t,C)}function Wo(C){_e.call(this,t,C)}function Bo(C){_e.call(this,t,C)}function Lo(C){_e.call(this,t,C)}function Ko(C){_e.call(this,t,C)}function Ro(C){_e.call(this,t,C)}function Zo(C){_e.call(this,t,C)}function Fo(C){_e.call(this,t,C)}function Go(C){_e.call(this,t,C)}function Uo(C){_e.call(this,t,C)}function qo(C){_e.call(this,t,C)}function jo(C){Nn[C?"unshift":"push"](()=>{Rt=C,n(28,Rt)})}function Jo(){zt=this.clientWidth,Mt=this.clientHeight,n(26,zt),n(27,Mt)}return t.$$set=C=>{e=Ce(Ce({},e),nt(C)),n(33,s=ve(e,o)),"id"in C&&n(35,y=C.id),"nodes"in C&&n(36,g=C.nodes),"edges"in C&&n(37,z=C.edges),"fitView"in C&&n(38,w=C.fitView),"fitViewOptions"in C&&n(39,M=C.fitViewOptions),"minZoom"in C&&n(40,Y=C.minZoom),"maxZoom"in C&&n(41,Z=C.maxZoom),"initialViewport"in C&&n(42,B=C.initialViewport),"viewport"in C&&u(n(0,V=C.viewport)),"nodeTypes"in C&&n(43,v=C.nodeTypes),"edgeTypes"in C&&n(44,W=C.edgeTypes),"selectionKey"in C&&n(1,U=C.selectionKey),"selectionMode"in C&&n(45,$=C.selectionMode),"panActivationKey"in C&&n(2,A=C.panActivationKey),"multiSelectionKey"in C&&n(3,_=C.multiSelectionKey),"zoomActivationKey"in C&&n(4,S=C.zoomActivationKey),"nodesDraggable"in C&&n(46,k=C.nodesDraggable),"nodesConnectable"in C&&n(47,P=C.nodesConnectable),"nodeDragThreshold"in C&&n(48,D=C.nodeDragThreshold),"elementsSelectable"in C&&n(49,I=C.elementsSelectable),"snapGrid"in C&&n(50,X=C.snapGrid),"deleteKey"in C&&n(5,q=C.deleteKey),"connectionRadius"in C&&n(51,F=C.connectionRadius),"connectionLineType"in C&&n(52,T=C.connectionLineType),"connectionMode"in C&&n(53,x=C.connectionMode),"connectionLineStyle"in C&&n(6,te=C.connectionLineStyle),"connectionLineContainerStyle"in C&&n(7,ye=C.connectionLineContainerStyle),"onMoveStart"in C&&n(8,O=C.onMoveStart),"onMove"in C&&n(9,ne=C.onMove),"onMoveEnd"in C&&n(10,de=C.onMoveEnd),"isValidConnection"in C&&n(54,oe=C.isValidConnection),"translateExtent"in C&&n(55,be=C.translateExtent),"onlyRenderVisibleElements"in C&&n(56,we=C.onlyRenderVisibleElements),"panOnScrollMode"in C&&n(11,Pe=C.panOnScrollMode),"preventScrolling"in C&&n(12,L=C.preventScrolling),"zoomOnScroll"in C&&n(13,Ie=C.zoomOnScroll),"zoomOnDoubleClick"in C&&n(14,Oe=C.zoomOnDoubleClick),"zoomOnPinch"in C&&n(15,st=C.zoomOnPinch),"panOnScroll"in C&&n(16,rt=C.panOnScroll),"panOnDrag"in C&&n(17,at=C.panOnDrag),"selectionOnDrag"in C&&n(18,Ke=C.selectionOnDrag),"autoPanOnConnect"in C&&n(57,it=C.autoPanOnConnect),"autoPanOnNodeDrag"in C&&n(58,p=C.autoPanOnNodeDrag),"onerror"in C&&n(59,dt=C.onerror),"ondelete"in C&&n(60,ht=C.ondelete),"onedgecreate"in C&&n(61,R=C.onedgecreate),"attributionPosition"in C&&n(19,pe=C.attributionPosition),"proOptions"in C&&n(20,Fe=C.proOptions),"defaultEdgeOptions"in C&&n(21,Q=C.defaultEdgeOptions),"width"in C&&n(62,ut=C.width),"height"in C&&n(63,Ge=C.height),"colorMode"in C&&n(64,Qe=C.colorMode),"onconnect"in C&&n(65,wt=C.onconnect),"onconnectstart"in C&&n(66,St=C.onconnectstart),"onconnectend"in C&&n(67,Et=C.onconnectend),"onbeforedelete"in C&&n(68,Ct=C.onbeforedelete),"oninit"in C&&n(69,gt=C.oninit),"nodeOrigin"in C&&n(70,_t=C.nodeOrigin),"paneClickDistance"in C&&n(22,Kt=C.paneClickDistance),"nodeClickDistance"in C&&n(23,Kn=C.nodeClickDistance),"defaultMarkerColor"in C&&n(71,gn=C.defaultMarkerColor),"style"in C&&n(24,Rn=C.style),"class"in C&&n(25,Zn=C.class),"$$scope"in C&&n(98,b=C.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&201326592&&zt!==void 0&&Mt!==void 0&&(Re.width.set(zt),Re.height.set(Mt)),t.$$.dirty[2]&3200&&!mn&&l&&(gt==null||gt(),n(72,mn=!0)),t.$$.dirty[1]&2130690064|t.$$.dirty[2]&888&&sa(Re,{flowId:y,connectionLineType:T,connectionRadius:F,selectionMode:$,snapGrid:X,defaultMarkerColor:gn,nodesDraggable:k,nodesConnectable:P,elementsSelectable:I,onlyRenderVisibleElements:we,isValidConnection:oe,autoPanOnConnect:it,autoPanOnNodeDrag:p,onerror:dt,ondelete:ht,onedgecreate:R,connectionMode:x,nodeDragThreshold:D,onconnect:wt,onconnectstart:St,onconnectend:Et,onbeforedelete:Ct,nodeOrigin:_t}),t.$$.dirty[0]&4194304|t.$$.dirty[1]&16791040&&Ti(Re,{nodeTypes:v,edgeTypes:W,minZoom:Y,maxZoom:Z,translateExtent:be,paneClickDistance:Kt}),t.$$.dirty[2]&4&&d(n(29,i=aa(Qe)))},[V,U,A,_,S,q,te,ye,O,ne,de,Pe,L,Ie,Oe,st,rt,at,Ke,pe,Fe,Q,Kt,Kn,Rn,Zn,zt,Mt,Rt,i,f,Po,Fn,s,m,y,g,z,w,M,Y,Z,B,v,W,$,k,P,D,I,X,F,T,x,oe,be,we,it,p,dt,ht,R,ut,Ge,Qe,wt,St,Et,Ct,gt,_t,gn,mn,l,c,Oo,Do,Ho,To,vo,Io,No,Vo,Ao,Yo,Xo,Wo,Bo,Lo,Ko,Ro,Zo,Fo,Go,Uo,qo,jo,Jo,b]}class mu extends he{constructor(e){super(),ge(this,e,ma,ga,me,{id:35,nodes:36,edges:37,fitView:38,fitViewOptions:39,minZoom:40,maxZoom:41,initialViewport:42,viewport:0,nodeTypes:43,edgeTypes:44,selectionKey:1,selectionMode:45,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:46,nodesConnectable:47,nodeDragThreshold:48,elementsSelectable:49,snapGrid:50,deleteKey:5,connectionRadius:51,connectionLineType:52,connectionMode:53,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:54,translateExtent:55,onlyRenderVisibleElements:56,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:57,autoPanOnNodeDrag:58,onerror:59,ondelete:60,onedgecreate:61,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:62,height:63,colorMode:64,onconnect:65,onconnectstart:66,onconnectend:67,onbeforedelete:68,oninit:69,nodeOrigin:70,paneClickDistance:22,nodeClickDistance:23,defaultMarkerColor:71,style:24,class:25},null,[-1,-1,-1,-1])}}const ba=t=>({}),Ii=t=>({class:"button-svg"});function ya(t){let e,n,i,o,s;const l=t[8].default,r=Ue(l,t,t[7],Ii);let a=[{type:"button"},{class:n=Me(["svelte-flow__controls-button",t[0]])},t[6]],u={};for(let f=0;f<a.length;f+=1)u=Ce(u,a[f]);return{c(){e=Be("button"),r&&r.c(),this.h()},l(f){e=Le(f,"BUTTON",{type:!0,class:!0});var h=le(e);r&&r.l(h),h.forEach(H),this.h()},h(){Tt(e,u),se(e,"--xy-controls-button-background-color-props",t[1]),se(e,"--xy-controls-button-background-color-hover-props",t[2]),se(e,"--xy-controls-button-color-props",t[3]),se(e,"--xy-controls-button-color-hover-props",t[4]),se(e,"--xy-controls-button-border-color-props",t[5])},m(f,h){J(f,e,h),r&&r.m(e,null),e.autofocus&&e.focus(),i=!0,o||(s=De(e,"click",t[9]),o=!0)},p(f,[h]){r&&r.p&&(!i||h&128)&&qe(r,l,f,f[7],i?Je(l,f[7],h,ba):je(f[7]),Ii),Tt(e,u=ct(a,[{type:"button"},(!i||h&1&&n!==(n=Me(["svelte-flow__controls-button",f[0]])))&&{class:n},h&64&&f[6]])),se(e,"--xy-controls-button-background-color-props",f[1]),se(e,"--xy-controls-button-background-color-hover-props",f[2]),se(e,"--xy-controls-button-color-props",f[3]),se(e,"--xy-controls-button-color-hover-props",f[4]),se(e,"--xy-controls-button-border-color-props",f[5])},i(f){i||(N(r,f),i=!0)},o(f){K(r,f),i=!1},d(f){f&&H(e),r&&r.d(f),o=!1,s()}}}function _a(t,e,n){const i=["class"];let o=ve(e,i),{$$slots:s={},$$scope:l}=e,{class:r=void 0}=e,a,u,f,h,d;function c(b){_e.call(this,t,b)}return t.$$set=b=>{e=Ce(Ce({},e),nt(b)),n(6,o=ve(e,i)),"class"in b&&n(0,r=b.class),"$$scope"in b&&n(7,l=b.$$scope)},[r,a,u,f,h,d,o,l,s,c]}class ln extends he{constructor(e){super(),ge(this,e,_a,ya,me,{class:0})}}function ka(t){let e,n;return{c(){e=Se("svg"),n=Se("path"),this.h()},l(i){e=Ee(i,"svg",{xmlns:!0,viewBox:!0});var o=le(e);n=Ee(o,"path",{d:!0}),le(n).forEach(H),o.forEach(H),this.h()},h(){E(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 32 32")},m(i,o){J(i,e,o),We(e,n)},p:ke,i:ke,o:ke,d(i){i&&H(e)}}}class wa extends he{constructor(e){super(),ge(this,e,null,ka,me,{})}}function Sa(t){let e,n;return{c(){e=Se("svg"),n=Se("path"),this.h()},l(i){e=Ee(i,"svg",{xmlns:!0,viewBox:!0});var o=le(e);n=Ee(o,"path",{d:!0}),le(n).forEach(H),o.forEach(H),this.h()},h(){E(n,"d","M0 0h32v4.2H0z"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 32 5")},m(i,o){J(i,e,o),We(e,n)},p:ke,i:ke,o:ke,d(i){i&&H(e)}}}class Ea extends he{constructor(e){super(),ge(this,e,null,Sa,me,{})}}function Ca(t){let e,n;return{c(){e=Se("svg"),n=Se("path"),this.h()},l(i){e=Ee(i,"svg",{xmlns:!0,viewBox:!0});var o=le(e);n=Ee(o,"path",{d:!0}),le(n).forEach(H),o.forEach(H),this.h()},h(){E(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 32 30")},m(i,o){J(i,e,o),We(e,n)},p:ke,i:ke,o:ke,d(i){i&&H(e)}}}class za extends he{constructor(e){super(),ge(this,e,null,Ca,me,{})}}function Ma(t){let e,n;return{c(){e=Se("svg"),n=Se("path"),this.h()},l(i){e=Ee(i,"svg",{xmlns:!0,viewBox:!0});var o=le(e);n=Ee(o,"path",{d:!0}),le(n).forEach(H),o.forEach(H),this.h()},h(){E(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 25 32")},m(i,o){J(i,e,o),We(e,n)},p:ke,i:ke,o:ke,d(i){i&&H(e)}}}class Pa extends he{constructor(e){super(),ge(this,e,null,Ma,me,{})}}function Oa(t){let e,n;return{c(){e=Se("svg"),n=Se("path"),this.h()},l(i){e=Ee(i,"svg",{xmlns:!0,viewBox:!0});var o=le(e);n=Ee(o,"path",{d:!0}),le(n).forEach(H),o.forEach(H),this.h()},h(){E(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 25 32")},m(i,o){J(i,e,o),We(e,n)},p:ke,i:ke,o:ke,d(i){i&&H(e)}}}class Da extends he{constructor(e){super(),ge(this,e,null,Oa,me,{})}}const Ha=t=>({}),Ni=t=>({}),Ta=t=>({}),Vi=t=>({});function Ai(t){let e,n,i,o;const s=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:t[9]},t[17]];let l={$$slots:{default:[va]},$$scope:{ctx:t}};for(let u=0;u<s.length;u+=1)l=Ce(l,s[u]);e=new ln({props:l}),e.$on("click",t[18]);const r=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:t[10]},t[17]];let a={$$slots:{default:[Ia]},$$scope:{ctx:t}};for(let u=0;u<r.length;u+=1)a=Ce(a,r[u]);return i=new ln({props:a}),i.$on("click",t[19]),{c(){re(e.$$.fragment),n=He(),re(i.$$.fragment)},l(u){ce(e.$$.fragment,u),n=Te(u),ce(i.$$.fragment,u)},m(u,f){ae(e,u,f),J(u,n,f),ae(i,u,f),o=!0},p(u,f){const h=f[0]&131584?ct(s,[s[0],s[1],s[2],f[0]&512&&{disabled:u[9]},f[0]&131072&&vt(u[17])]):{};f[1]&32&&(h.$$scope={dirty:f,ctx:u}),e.$set(h);const d=f[0]&132096?ct(r,[r[0],r[1],r[2],f[0]&1024&&{disabled:u[10]},f[0]&131072&&vt(u[17])]):{};f[1]&32&&(d.$$scope={dirty:f,ctx:u}),i.$set(d)},i(u){o||(N(e.$$.fragment,u),N(i.$$.fragment,u),o=!0)},o(u){K(e.$$.fragment,u),K(i.$$.fragment,u),o=!1},d(u){u&&H(n),ue(e,u),ue(i,u)}}}function va(t){let e,n;return e=new wa({}),{c(){re(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},i(i){n||(N(e.$$.fragment,i),n=!0)},o(i){K(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Ia(t){let e,n;return e=new Ea({}),{c(){re(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},i(i){n||(N(e.$$.fragment,i),n=!0)},o(i){K(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Yi(t){let e,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},t[17]];let o={$$slots:{default:[Na]},$$scope:{ctx:t}};for(let s=0;s<i.length;s+=1)o=Ce(o,i[s]);return e=new ln({props:o}),e.$on("click",t[20]),{c(){re(e.$$.fragment)},l(s){ce(e.$$.fragment,s)},m(s,l){ae(e,s,l),n=!0},p(s,l){const r=l[0]&131072?ct(i,[i[0],i[1],i[2],vt(s[17])]):{};l[1]&32&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){n||(N(e.$$.fragment,s),n=!0)},o(s){K(e.$$.fragment,s),n=!1},d(s){ue(e,s)}}}function Na(t){let e,n;return e=new za({}),{c(){re(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},i(i){n||(N(e.$$.fragment,i),n=!0)},o(i){K(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Xi(t){let e,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},t[17]];let o={$$slots:{default:[Ya]},$$scope:{ctx:t}};for(let s=0;s<i.length;s+=1)o=Ce(o,i[s]);return e=new ln({props:o}),e.$on("click",t[21]),{c(){re(e.$$.fragment)},l(s){ce(e.$$.fragment,s)},m(s,l){ae(e,s,l),n=!0},p(s,l){const r=l[0]&131072?ct(i,[i[0],i[1],i[2],vt(s[17])]):{};l[0]&256|l[1]&32&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){n||(N(e.$$.fragment,s),n=!0)},o(s){K(e.$$.fragment,s),n=!1},d(s){ue(e,s)}}}function Va(t){let e,n;return e=new Pa({}),{c(){re(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},i(i){n||(N(e.$$.fragment,i),n=!0)},o(i){K(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Aa(t){let e,n;return e=new Da({}),{c(){re(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},i(i){n||(N(e.$$.fragment,i),n=!0)},o(i){K(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Ya(t){let e,n,i,o;const s=[Aa,Va],l=[];function r(a,u){return a[8]?0:1}return e=r(t),n=l[e]=s[e](t),{c(){n.c(),i=ze()},l(a){n.l(a),i=ze()},m(a,u){l[e].m(a,u),J(a,i,u),o=!0},p(a,u){let f=e;e=r(a),e!==f&&(Ye(),K(l[f],1,1,()=>{l[f]=null}),Xe(),n=l[e],n||(n=l[e]=s[e](a),n.c()),N(n,1),n.m(i.parentNode,i))},i(a){o||(N(n),o=!0)},o(a){K(n),o=!1},d(a){a&&H(i),l[e].d(a)}}}function Xa(t){let e,n,i,o,s,l;const r=t[35].before,a=Ue(r,t,t[36],Vi);let u=t[1]&&Ai(t),f=t[2]&&Yi(t),h=t[3]&&Xi(t);const d=t[35].default,c=Ue(d,t,t[36],null),b=t[35].after,m=Ue(b,t,t[36],Ni);return{c(){a&&a.c(),e=He(),u&&u.c(),n=He(),f&&f.c(),i=He(),h&&h.c(),o=He(),c&&c.c(),s=He(),m&&m.c()},l(y){a&&a.l(y),e=Te(y),u&&u.l(y),n=Te(y),f&&f.l(y),i=Te(y),h&&h.l(y),o=Te(y),c&&c.l(y),s=Te(y),m&&m.l(y)},m(y,g){a&&a.m(y,g),J(y,e,g),u&&u.m(y,g),J(y,n,g),f&&f.m(y,g),J(y,i,g),h&&h.m(y,g),J(y,o,g),c&&c.m(y,g),J(y,s,g),m&&m.m(y,g),l=!0},p(y,g){a&&a.p&&(!l||g[1]&32)&&qe(a,r,y,y[36],l?Je(r,y[36],g,Ta):je(y[36]),Vi),y[1]?u?(u.p(y,g),g[0]&2&&N(u,1)):(u=Ai(y),u.c(),N(u,1),u.m(n.parentNode,n)):u&&(Ye(),K(u,1,1,()=>{u=null}),Xe()),y[2]?f?(f.p(y,g),g[0]&4&&N(f,1)):(f=Yi(y),f.c(),N(f,1),f.m(i.parentNode,i)):f&&(Ye(),K(f,1,1,()=>{f=null}),Xe()),y[3]?h?(h.p(y,g),g[0]&8&&N(h,1)):(h=Xi(y),h.c(),N(h,1),h.m(o.parentNode,o)):h&&(Ye(),K(h,1,1,()=>{h=null}),Xe()),c&&c.p&&(!l||g[1]&32)&&qe(c,d,y,y[36],l?Je(d,y[36],g,null):je(y[36]),null),m&&m.p&&(!l||g[1]&32)&&qe(m,b,y,y[36],l?Je(b,y[36],g,Ha):je(y[36]),Ni)},i(y){l||(N(a,y),N(u),N(f),N(h),N(c,y),N(m,y),l=!0)},o(y){K(a,y),K(u),K(f),K(h),K(c,y),K(m,y),l=!1},d(y){y&&(H(e),H(n),H(i),H(o),H(s)),a&&a.d(y),u&&u.d(y),f&&f.d(y),h&&h.d(y),c&&c.d(y),m&&m.d(y)}}}function Wa(t){let e,n;return e=new Ln({props:{class:Me(["svelte-flow__controls",t[7],t[6]]),position:t[0],"data-testid":"svelte-flow__controls","aria-label":t[4]??"Svelte Flow controls",style:t[5],$$slots:{default:[Xa]},$$scope:{ctx:t}}}),{c(){re(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p(i,o){const s={};o[0]&192&&(s.class=Me(["svelte-flow__controls",i[7],i[6]])),o[0]&1&&(s.position=i[0]),o[0]&16&&(s["aria-label"]=i[4]??"Svelte Flow controls"),o[0]&32&&(s.style=i[5]),o[0]&1806|o[1]&32&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(N(e.$$.fragment,i),n=!0)},o(i){K(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Ba(t,e,n){let i,o,s,l,r,a,u,f,h,d,{$$slots:c={},$$scope:b}=e,{position:m="bottom-left"}=e,{showZoom:y=!0}=e,{showFitView:g=!0}=e,{showLock:z=!0}=e,{buttonBgColor:w=void 0}=e,{buttonBgColorHover:M=void 0}=e,{buttonColor:Y=void 0}=e,{buttonColorHover:Z=void 0}=e,{buttonBorderColor:B=void 0}=e,{ariaLabel:V=void 0}=e,{style:v=void 0}=e,{orientation:W="vertical"}=e,{fitViewOptions:U=void 0}=e,{class:$=""}=e;const{zoomIn:A,zoomOut:_,fitView:S,viewport:k,minZoom:P,maxZoom:D,nodesDraggable:I,nodesConnectable:X,elementsSelectable:q}=Ve();G(t,k,O=>n(30,a=O)),G(t,P,O=>n(31,u=O)),G(t,D,O=>n(29,r=O)),G(t,I,O=>n(34,d=O)),G(t,X,O=>n(33,h=O)),G(t,q,O=>n(32,f=O));const F={bgColor:w,bgColorHover:M,color:Y,colorHover:Z,borderColor:B},T=()=>{A()},x=()=>{_()},te=()=>{S(U)},ye=()=>{n(8,i=!i),I.set(i),X.set(i),q.set(i)};return t.$$set=O=>{"position"in O&&n(0,m=O.position),"showZoom"in O&&n(1,y=O.showZoom),"showFitView"in O&&n(2,g=O.showFitView),"showLock"in O&&n(3,z=O.showLock),"buttonBgColor"in O&&n(22,w=O.buttonBgColor),"buttonBgColorHover"in O&&n(23,M=O.buttonBgColorHover),"buttonColor"in O&&n(24,Y=O.buttonColor),"buttonColorHover"in O&&n(25,Z=O.buttonColorHover),"buttonBorderColor"in O&&n(26,B=O.buttonBorderColor),"ariaLabel"in O&&n(4,V=O.ariaLabel),"style"in O&&n(5,v=O.style),"orientation"in O&&n(27,W=O.orientation),"fitViewOptions"in O&&n(28,U=O.fitViewOptions),"class"in O&&n(6,$=O.class),"$$scope"in O&&n(36,b=O.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&14&&n(8,i=d||h||f),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&n(10,o=a.zoom<=u),t.$$.dirty[0]&1610612736&&n(9,s=a.zoom>=r),t.$$.dirty[0]&134217728&&n(7,l=W==="horizontal"?"horizontal":"vertical")},[m,y,g,z,V,v,$,l,i,s,o,k,P,D,I,X,q,F,T,x,te,ye,w,M,Y,Z,B,W,U,r,a,u,f,h,d,c,b]}class bu extends he{constructor(e){super(),ge(this,e,Ba,Wa,me,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:22,buttonBgColorHover:23,buttonColor:24,buttonColorHover:25,buttonBorderColor:26,ariaLabel:4,style:5,orientation:27,fitViewOptions:28,class:6},null,[-1,-1])}}var mt;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(mt||(mt={}));function La(t){let e,n;return{c(){e=Se("circle"),this.h()},l(i){e=Ee(i,"circle",{cx:!0,cy:!0,r:!0,class:!0}),le(e).forEach(H),this.h()},h(){E(e,"cx",t[0]),E(e,"cy",t[0]),E(e,"r",t[0]),E(e,"class",n=Me(["svelte-flow__background-pattern","dots",t[1]]))},m(i,o){J(i,e,o)},p(i,[o]){o&1&&E(e,"cx",i[0]),o&1&&E(e,"cy",i[0]),o&1&&E(e,"r",i[0]),o&2&&n!==(n=Me(["svelte-flow__background-pattern","dots",i[1]]))&&E(e,"class",n)},i:ke,o:ke,d(i){i&&H(e)}}}function Ka(t,e,n){let{radius:i=5}=e,{class:o=""}=e;return t.$$set=s=>{"radius"in s&&n(0,i=s.radius),"class"in s&&n(1,o=s.class)},[i,o]}class Ra extends he{constructor(e){super(),ge(this,e,Ka,La,me,{radius:0,class:1})}}function Za(t){let e,n,i;return{c(){e=Se("path"),this.h()},l(o){e=Ee(o,"path",{"stroke-width":!0,d:!0,class:!0}),le(e).forEach(H),this.h()},h(){E(e,"stroke-width",t[0]),E(e,"d",n=`M${t[1][0]/2} 0 V${t[1][1]} M0 ${t[1][1]/2} H${t[1][0]}`),E(e,"class",i=Me(["svelte-flow__background-pattern",t[2],t[3]]))},m(o,s){J(o,e,s)},p(o,[s]){s&1&&E(e,"stroke-width",o[0]),s&2&&n!==(n=`M${o[1][0]/2} 0 V${o[1][1]} M0 ${o[1][1]/2} H${o[1][0]}`)&&E(e,"d",n),s&12&&i!==(i=Me(["svelte-flow__background-pattern",o[2],o[3]]))&&E(e,"class",i)},i:ke,o:ke,d(o){o&&H(e)}}}function Fa(t,e,n){let{lineWidth:i=1}=e,{dimensions:o}=e,{variant:s=void 0}=e,{class:l=""}=e;return t.$$set=r=>{"lineWidth"in r&&n(0,i=r.lineWidth),"dimensions"in r&&n(1,o=r.dimensions),"variant"in r&&n(2,s=r.variant),"class"in r&&n(3,l=r.class)},[i,o,s,l]}class Ga extends he{constructor(e){super(),ge(this,e,Fa,Za,me,{lineWidth:0,dimensions:1,variant:2,class:3})}}function Ua(t){let e,n;return e=new Ga({props:{dimensions:t[6],variant:t[0],lineWidth:t[1],class:t[4]}}),{c(){re(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p(i,o){const s={};o&64&&(s.dimensions=i[6]),o&1&&(s.variant=i[0]),o&2&&(s.lineWidth=i[1]),o&16&&(s.class=i[4]),e.$set(s)},i(i){n||(N(e.$$.fragment,i),n=!0)},o(i){K(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function qa(t){let e,n;return e=new Ra({props:{radius:t[7]/2,class:t[4]}}),{c(){re(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p(i,o){const s={};o&128&&(s.radius=i[7]/2),o&16&&(s.class=i[4]),e.$set(s)},i(i){n||(N(e.$$.fragment,i),n=!0)},o(i){K(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function ja(t){let e,n,i,o,s,l,r,a,u,f,h,d,c;const b=[qa,Ua],m=[];function y(g,z){return g[14]?0:1}return i=y(t),o=m[i]=b[i](t),{c(){e=Se("svg"),n=Se("pattern"),o.c(),f=Se("rect"),this.h()},l(g){e=Ee(g,"svg",{class:!0,"data-testid":!0});var z=le(e);n=Ee(z,"pattern",{id:!0,x:!0,y:!0,width:!0,height:!0,patternUnits:!0,patternTransform:!0});var w=le(n);o.l(w),w.forEach(H),f=Ee(z,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),le(f).forEach(H),z.forEach(H),this.h()},h(){E(n,"id",t[11]),E(n,"x",s=t[9].x%t[8][0]),E(n,"y",l=t[9].y%t[8][1]),E(n,"width",r=t[8][0]),E(n,"height",a=t[8][1]),E(n,"patternUnits","userSpaceOnUse"),E(n,"patternTransform",u=`translate(-${t[10][0]},-${t[10][1]})`),E(f,"x","0"),E(f,"y","0"),E(f,"width","100%"),E(f,"height","100%"),E(f,"fill",h=`url(#${t[11]})`),E(e,"class",d=Un(Me(["svelte-flow__background",t[5]]))+" svelte-1r7pe8d"),E(e,"data-testid","svelte-flow__background"),se(e,"--xy-background-color-props",t[2]),se(e,"--xy-background-pattern-color-props",t[3])},m(g,z){J(g,e,z),We(e,n),m[i].m(n,null),We(e,f),c=!0},p(g,[z]){o.p(g,z),(!c||z&2048)&&E(n,"id",g[11]),(!c||z&768&&s!==(s=g[9].x%g[8][0]))&&E(n,"x",s),(!c||z&768&&l!==(l=g[9].y%g[8][1]))&&E(n,"y",l),(!c||z&256&&r!==(r=g[8][0]))&&E(n,"width",r),(!c||z&256&&a!==(a=g[8][1]))&&E(n,"height",a),(!c||z&1024&&u!==(u=`translate(-${g[10][0]},-${g[10][1]})`))&&E(n,"patternTransform",u),(!c||z&2048&&h!==(h=`url(#${g[11]})`))&&E(f,"fill",h),(!c||z&32&&d!==(d=Un(Me(["svelte-flow__background",g[5]]))+" svelte-1r7pe8d"))&&E(e,"class",d),z&4&&se(e,"--xy-background-color-props",g[2]),z&8&&se(e,"--xy-background-pattern-color-props",g[3])},i(g){c||(N(o),c=!0)},o(g){K(o),c=!1},d(g){g&&H(e),m[i].d()}}}const Ja={[mt.Dots]:1,[mt.Lines]:1,[mt.Cross]:6};function Qa(t,e,n){let i,o,s,l,r,a,u,{id:f=void 0}=e,{variant:h=mt.Dots}=e,{gap:d=20}=e,{size:c=1}=e,{lineWidth:b=1}=e,{bgColor:m=void 0}=e,{patternColor:y=void 0}=e,{patternClass:g=void 0}=e,{class:z=""}=e;const{viewport:w,flowId:M}=Ve();G(t,w,v=>n(9,a=v)),G(t,M,v=>n(18,u=v));const Y=c||Ja[h],Z=h===mt.Dots,B=h===mt.Cross,V=Array.isArray(d)?d:[d,d];return t.$$set=v=>{"id"in v&&n(15,f=v.id),"variant"in v&&n(0,h=v.variant),"gap"in v&&n(16,d=v.gap),"size"in v&&n(17,c=v.size),"lineWidth"in v&&n(1,b=v.lineWidth),"bgColor"in v&&n(2,m=v.bgColor),"patternColor"in v&&n(3,y=v.patternColor),"patternClass"in v&&n(4,g=v.patternClass),"class"in v&&n(5,z=v.class)},t.$$.update=()=>{t.$$.dirty&294912&&n(11,i=`background-pattern-${u}-${f||""}`),t.$$.dirty&512&&n(8,o=[V[0]*a.zoom||1,V[1]*a.zoom||1]),t.$$.dirty&512&&n(7,s=Y*a.zoom),t.$$.dirty&384&&n(6,l=B?[s,s]:o),t.$$.dirty&192&&n(10,r=Z?[s/2,s/2]:[l[0]/2,l[1]/2])},[h,b,m,y,g,z,l,s,o,a,r,i,w,M,Z,f,d,c,u]}class yu extends he{constructor(e){super(),ge(this,e,Qa,ja,me,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}function pa(t){let e,n,i;return{c(){e=Se("rect"),this.h()},l(o){e=Ee(o,"rect",{class:!0,x:!0,y:!0,rx:!0,ry:!0,width:!0,height:!0,style:!0,"shape-rendering":!0}),le(e).forEach(H),this.h()},h(){E(e,"class",n=Me(["svelte-flow__minimap-node",t[10]])),E(e,"x",t[0]),E(e,"y",t[1]),E(e,"rx",t[4]),E(e,"ry",t[4]),E(e,"width",t[2]),E(e,"height",t[3]),E(e,"style",i=`${t[5]?`fill: ${t[5]};`:""}${t[7]?`stroke: ${t[7]};`:""}${t[8]?`stroke-width: ${t[8]};`:""}`),E(e,"shape-rendering",t[6]),ie(e,"selected",t[9])},m(o,s){J(o,e,s)},p(o,[s]){s&1024&&n!==(n=Me(["svelte-flow__minimap-node",o[10]]))&&E(e,"class",n),s&1&&E(e,"x",o[0]),s&2&&E(e,"y",o[1]),s&16&&E(e,"rx",o[4]),s&16&&E(e,"ry",o[4]),s&4&&E(e,"width",o[2]),s&8&&E(e,"height",o[3]),s&416&&i!==(i=`${o[5]?`fill: ${o[5]};`:""}${o[7]?`stroke: ${o[7]};`:""}${o[8]?`stroke-width: ${o[8]};`:""}`)&&E(e,"style",i),s&64&&E(e,"shape-rendering",o[6]),s&1536&&ie(e,"selected",o[9])},i:ke,o:ke,d(o){o&&H(e)}}}function xa(t,e,n){let{x:i}=e,{y:o}=e,{width:s=0}=e,{height:l=0}=e,{borderRadius:r=5}=e,{color:a=void 0}=e,{shapeRendering:u}=e,{strokeColor:f=void 0}=e,{strokeWidth:h=2}=e,{selected:d=!1}=e,{class:c=""}=e;return t.$$set=b=>{"x"in b&&n(0,i=b.x),"y"in b&&n(1,o=b.y),"width"in b&&n(2,s=b.width),"height"in b&&n(3,l=b.height),"borderRadius"in b&&n(4,r=b.borderRadius),"color"in b&&n(5,a=b.color),"shapeRendering"in b&&n(6,u=b.shapeRendering),"strokeColor"in b&&n(7,f=b.strokeColor),"strokeWidth"in b&&n(8,h=b.strokeWidth),"selected"in b&&n(9,d=b.selected),"class"in b&&n(10,c=b.class)},[i,o,s,l,r,a,u,f,h,d,c]}class $a extends he{constructor(e){super(),ge(this,e,xa,pa,me,{x:0,y:1,width:2,height:3,borderRadius:4,color:5,shapeRendering:6,strokeColor:7,strokeWidth:8,selected:9,class:10})}}function eu(t,e){const n=es({domNode:t,panZoom:e.panZoom,getTransform:()=>{const o=j(e.viewport);return[o.x,o.y,o.zoom]},getViewScale:e.getViewScale});function i(o){n.update({translateExtent:o.translateExtent,width:o.width,height:o.height,inversePan:o.inversePan,zoomStep:o.zoomStep,pannable:o.pannable,zoomable:o.zoomable})}return{update:i,destroy(){n.destroy()}}}function Wi(t,e,n){const i=t.slice();i[55]=e[n];const o=i[20].get(i[55].id);return i[56]=o,i}function Mn(t){const e=t.slice(),n=cn(e[56]);return e[59]=n,e}function Bi(t){let e,n,i=[],o=new Map,s,l,r,a,u,f,h,d=t[1]&&Li(t),c=bt(t[19]);const b=m=>m[55].id;for(let m=0;m<c.length;m+=1){let y=Wi(t,c,m),g=b(y);o.set(g,i[m]=Ri(g,y))}return{c(){e=Se("svg"),d&&d.c(),n=ze();for(let m=0;m<i.length;m+=1)i[m].c();s=Se("path"),this.h()},l(m){e=Ee(m,"svg",{width:!0,height:!0,viewBox:!0,class:!0,role:!0,"aria-labelledby":!0});var y=le(e);d&&d.l(y),n=ze();for(let g=0;g<i.length;g+=1)i[g].l(y);s=Ee(y,"path",{class:!0,d:!0,"fill-rule":!0,"pointer-events":!0}),le(s).forEach(H),y.forEach(H),this.h()},h(){E(s,"class","svelte-flow__minimap-mask"),E(s,"d",l="M"+(t[26]-t[15])+","+(t[25]-t[15])+"h"+(t[24]+t[15]*2)+"v"+(t[23]+t[15]*2)+"h"+(-t[24]-t[15]*2)+`z
      M`+t[18].x+","+t[18].y+"h"+t[18].width+"v"+t[18].height+"h"+-t[18].width+"z"),E(s,"fill-rule","evenodd"),E(s,"pointer-events","none"),E(e,"width",t[17]),E(e,"height",t[16]),E(e,"viewBox",r=t[26]+" "+t[25]+" "+t[24]+" "+t[23]),E(e,"class","svelte-flow__minimap-svg"),E(e,"role","img"),E(e,"aria-labelledby",t[41]),se(e,"--xy-minimap-mask-background-color-props",t[5]),se(e,"--xy-minimap-mask-stroke-color-props",t[6]),se(e,"--xy-minimap-mask-stroke-width-props",t[7]?t[7]*t[14]:void 0)},m(m,y){J(m,e,y),d&&d.m(e,null),We(e,n);for(let g=0;g<i.length;g+=1)i[g]&&i[g].m(e,null);We(e,s),u=!0,f||(h=Ze(a=eu.call(null,e,{panZoom:t[27],viewport:t[31],getViewScale:t[42],translateExtent:t[28],width:t[22],height:t[21],inversePan:t[10],zoomStep:t[11],pannable:t[8],zoomable:t[9]})),f=!0)},p(m,y){m[1]?d?d.p(m,y):(d=Li(m),d.c(),d.m(e,n)):d&&(d.d(1),d=null),y[0]&1572876|y[1]&960&&(c=bt(m[19]),Ye(),i=an(i,y,b,1,m,c,o,e,un,Ri,s,Wi),Xe()),(!u||y[0]&126124032&&l!==(l="M"+(m[26]-m[15])+","+(m[25]-m[15])+"h"+(m[24]+m[15]*2)+"v"+(m[23]+m[15]*2)+"h"+(-m[24]-m[15]*2)+`z
      M`+m[18].x+","+m[18].y+"h"+m[18].width+"v"+m[18].height+"h"+-m[18].width+"z"))&&E(s,"d",l),(!u||y[0]&131072)&&E(e,"width",m[17]),(!u||y[0]&65536)&&E(e,"height",m[16]),(!u||y[0]&125829120&&r!==(r=m[26]+" "+m[25]+" "+m[24]+" "+m[23]))&&E(e,"viewBox",r),a&&Ae(a.update)&&y[0]&408948480&&a.update.call(null,{panZoom:m[27],viewport:m[31],getViewScale:m[42],translateExtent:m[28],width:m[22],height:m[21],inversePan:m[10],zoomStep:m[11],pannable:m[8],zoomable:m[9]}),y[0]&32&&se(e,"--xy-minimap-mask-background-color-props",m[5]),y[0]&64&&se(e,"--xy-minimap-mask-stroke-color-props",m[6]),y[0]&16512&&se(e,"--xy-minimap-mask-stroke-width-props",m[7]?m[7]*m[14]:void 0)},i(m){if(!u){for(let y=0;y<c.length;y+=1)N(i[y]);u=!0}},o(m){for(let y=0;y<i.length;y+=1)K(i[y]);u=!1},d(m){m&&H(e),d&&d.d();for(let y=0;y<i.length;y+=1)i[y].d();f=!1,h()}}}function Li(t){let e,n;return{c(){e=Se("title"),n=At(t[1]),this.h()},l(i){e=Ee(i,"title",{id:!0});var o=le(e);n=Yt(o,t[1]),o.forEach(H),this.h()},h(){E(e,"id",t[41])},m(i,o){J(i,e,o),We(e,n)},p(i,o){o[0]&2&&Xt(n,i[1])},d(i){i&&H(e)}}}function Ki(t){var s;let e,n;const i=[{x:t[56].internals.positionAbsolute.x},{y:t[56].internals.positionAbsolute.y},t[59],{selected:t[56].selected},{color:(s=t[37])==null?void 0:s.call(t,t[56])},{borderRadius:t[2]},{strokeColor:t[38](t[56])},{strokeWidth:t[3]},{shapeRendering:t[40]},{class:t[39](t[56])}];let o={};for(let l=0;l<i.length;l+=1)o=Ce(o,i[l]);return e=new $a({props:o}),{c(){re(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,r){ae(e,l,r),n=!0},p(l,r){var u;const a=r[0]&1572876|r[1]&960?ct(i,[r[0]&1572864&&{x:l[56].internals.positionAbsolute.x},r[0]&1572864&&{y:l[56].internals.positionAbsolute.y},r[0]&1572864&&vt(l[59]),r[0]&1572864&&{selected:l[56].selected},r[0]&1572864|r[1]&64&&{color:(u=l[37])==null?void 0:u.call(l,l[56])},r[0]&4&&{borderRadius:l[2]},r[0]&1572864|r[1]&128&&{strokeColor:l[38](l[56])},r[0]&8&&{strokeWidth:l[3]},r[1]&512&&{shapeRendering:l[40]},r[0]&1572864|r[1]&256&&{class:l[39](l[56])}]):{};e.$set(a)},i(l){n||(N(e.$$.fragment,l),n=!0)},o(l){K(e.$$.fragment,l),n=!1},d(l){ue(e,l)}}}function Ri(t,e){let n,i=e[56]&&en(e[56]),o,s,l=i&&Ki(Mn(e));return{key:t,first:null,c(){n=ze(),l&&l.c(),o=ze(),this.h()},l(r){n=ze(),l&&l.l(r),o=ze(),this.h()},h(){this.first=n},m(r,a){J(r,n,a),l&&l.m(r,a),J(r,o,a),s=!0},p(r,a){e=r,a[0]&1572864&&(i=e[56]&&en(e[56])),i?l?(l.p(Mn(e),a),a[0]&1572864&&N(l,1)):(l=Ki(Mn(e)),l.c(),N(l,1),l.m(o.parentNode,o)):l&&(Ye(),K(l,1,1,()=>{l=null}),Xe())},i(r){s||(N(l),s=!0)},o(r){K(l),s=!1},d(r){r&&(H(n),H(o)),l&&l.d(r)}}}function tu(t){let e,n,i=t[27]&&Bi(t);return{c(){i&&i.c(),e=ze()},l(o){i&&i.l(o),e=ze()},m(o,s){i&&i.m(o,s),J(o,e,s),n=!0},p(o,s){o[27]?i?(i.p(o,s),s[0]&134217728&&N(i,1)):(i=Bi(o),i.c(),N(i,1),i.m(e.parentNode,e)):i&&(Ye(),K(i,1,1,()=>{i=null}),Xe())},i(o){n||(N(i),n=!0)},o(o){K(i),n=!1},d(o){o&&H(e),i&&i.d(o)}}}function nu(t){let e,n;return e=new Ln({props:{position:t[0],style:t[12]+(t[4]?`;--xy-minimap-background-color-props:${t[4]}`:""),class:Me(["svelte-flow__minimap",t[13]]),"data-testid":"svelte-flow__minimap",$$slots:{default:[tu]},$$scope:{ctx:t}}}),{c(){re(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,o){ae(e,i,o),n=!0},p(i,o){const s={};o[0]&1&&(s.position=i[0]),o[0]&4112&&(s.style=i[12]+(i[4]?`;--xy-minimap-background-color-props:${i[4]}`:"")),o[0]&8192&&(s.class=Me(["svelte-flow__minimap",i[13]])),o[0]&536858606|o[1]&536870912&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(N(e.$$.fragment,i),n=!0)},o(i){K(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}const Pn=t=>t instanceof Function?t:()=>t,iu=200,ou=150;function lu(t,e,n){let i,o,s,l,r,a,u,f,h,d,c,b,m,y,g,z,w,M,Y,Z,B,{position:V="bottom-right"}=e,{ariaLabel:v="Mini map"}=e,{nodeStrokeColor:W="transparent"}=e,{nodeColor:U=void 0}=e,{nodeClass:$=""}=e,{nodeBorderRadius:A=5}=e,{nodeStrokeWidth:_=2}=e,{bgColor:S=void 0}=e,{maskColor:k=void 0}=e,{maskStrokeColor:P=void 0}=e,{maskStrokeWidth:D=void 0}=e,{width:I=void 0}=e,{height:X=void 0}=e,{pannable:q=!0}=e,{zoomable:F=!0}=e,{inversePan:T=void 0}=e,{zoomStep:x=void 0}=e,{style:te=""}=e,{class:ye=""}=e;const{nodes:O,nodeLookup:ne,viewport:de,width:oe,height:be,flowId:we,panZoom:Pe,translateExtent:L}=Ve();G(t,O,p=>n(19,y=p)),G(t,ne,p=>n(20,g=p)),G(t,de,p=>n(53,z=p)),G(t,oe,p=>n(22,M=p)),G(t,be,p=>n(21,w=p)),G(t,we,p=>n(54,Y=p)),G(t,Pe,p=>n(27,Z=p)),G(t,L,p=>n(28,B=p));const Ie=U===void 0?void 0:Pn(U),Oe=Pn(W),st=Pn($),rt=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",at=`svelte-flow__minimap-desc-${Y}`;let Ke=i;const it=()=>a;return t.$$set=p=>{"position"in p&&n(0,V=p.position),"ariaLabel"in p&&n(1,v=p.ariaLabel),"nodeStrokeColor"in p&&n(43,W=p.nodeStrokeColor),"nodeColor"in p&&n(44,U=p.nodeColor),"nodeClass"in p&&n(45,$=p.nodeClass),"nodeBorderRadius"in p&&n(2,A=p.nodeBorderRadius),"nodeStrokeWidth"in p&&n(3,_=p.nodeStrokeWidth),"bgColor"in p&&n(4,S=p.bgColor),"maskColor"in p&&n(5,k=p.maskColor),"maskStrokeColor"in p&&n(6,P=p.maskStrokeColor),"maskStrokeWidth"in p&&n(7,D=p.maskStrokeWidth),"width"in p&&n(46,I=p.width),"height"in p&&n(47,X=p.height),"pannable"in p&&n(8,q=p.pannable),"zoomable"in p&&n(9,F=p.zoomable),"inversePan"in p&&n(10,T=p.inversePan),"zoomStep"in p&&n(11,x=p.zoomStep),"style"in p&&n(12,te=p.style),"class"in p&&n(13,ye=p.class)},t.$$.update=()=>{t.$$.dirty[0]&6291456|t.$$.dirty[1]&4194304&&n(18,i={x:-z.x/z.zoom,y:-z.y/z.zoom,width:M/z.zoom,height:w/z.zoom}),t.$$.dirty[0]&1835008&&n(48,Ke=g.size>0?xi(Lt(g),i):i),t.$$.dirty[1]&32768&&n(17,o=I??iu),t.$$.dirty[1]&65536&&n(16,s=X??ou),t.$$.dirty[0]&131072|t.$$.dirty[1]&131072&&n(52,l=Ke.width/o),t.$$.dirty[0]&65536|t.$$.dirty[1]&131072&&n(51,r=Ke.height/s),t.$$.dirty[1]&3145728&&n(14,a=Math.max(l,r)),t.$$.dirty[0]&147456&&n(50,u=a*o),t.$$.dirty[0]&81920&&n(49,f=a*s),t.$$.dirty[0]&16384&&n(15,h=5*a),t.$$.dirty[0]&32768|t.$$.dirty[1]&655360&&n(26,d=Ke.x-(u-Ke.width)/2-h),t.$$.dirty[0]&32768|t.$$.dirty[1]&393216&&n(25,c=Ke.y-(f-Ke.height)/2-h),t.$$.dirty[0]&32768|t.$$.dirty[1]&524288&&n(24,b=u+h*2),t.$$.dirty[0]&32768|t.$$.dirty[1]&262144&&n(23,m=f+h*2)},[V,v,A,_,S,k,P,D,q,F,T,x,te,ye,a,h,s,o,i,y,g,w,M,m,b,c,d,Z,B,O,ne,de,oe,be,we,Pe,L,Ie,Oe,st,rt,at,it,W,U,$,I,X,Ke,f,u,r,l,z]}class _u extends he{constructor(e){super(),ge(this,e,lu,nu,me,{position:0,ariaLabel:1,nodeStrokeColor:43,nodeColor:44,nodeClass:45,nodeBorderRadius:2,nodeStrokeWidth:3,bgColor:4,maskColor:5,maskStrokeColor:6,maskStrokeWidth:7,width:46,height:47,pannable:8,zoomable:9,inversePan:10,zoomStep:11,style:12,class:13},null,[-1,-1])}}export{yu as B,bu as C,zs as E,on as H,_u as M,fe as P,mu as S,mt as a,gu as b,$s as c,$i as d,zl as e,en as f,eo as g,hn as h,hu as i,xt as j,Bn as k,io as l,Xn as n,fn as p,Ol as r,Ve as u};
