import{c as f}from"./_createCompounder.DRJ5hmHl.js";var x=f(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});function u(){let e=new Date().getTime(),t=typeof performance<"u"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{let r=Math.random()*16;return e>0?(r=(e+r)%16|0,e=Math.floor(e/16)):(r=(t+r)%16|0,t=Math.floor(t/16)),(n=="x"?r:r&7|8).toString(16)})}function h(e,t,...n){e.code==="Enter"&&t(e,...n)}function p(e){return`${x(e)}-${u().split("-").slice(0,2).join("")}`}function w(e,t){return e.map(n=>(n.children=n.children.map(r=>t[r]),n))}async function y(e){const t=await fetch(e),n=await t.json();if(t.ok)return n;throw new Error(n)}function d(e,t,n,r=[]){for(let s=0;s<e.length;s++){const a=e[s],o=n[a];if(o.checked){const i=o.techniques.find(c=>t===c.id);if(i&&i.comment!==null){const c={comment:i.comment,color:o.color,id:o.id};r.push(c)}}d(o.children,t,n,r)}return r}function l(e){if(e.version)return e;{const t=["layers","templates"],n={...e,matrixCommentMode:!1,version:"1"};for(const r of t){const s=Object.values(e[r]).reduce((a,o)=>{const i=o.techniques.map(c=>typeof c=="string"?{id:c,comment:""}:c);return a[o.id]={...o,techniques:i},a},{});n[r]=s}return n}}function g(e){const t=[void 0,"1"];let n=e;for(const r of t)r===(e==null?void 0:e.version)?n=l(n):r===e.version&&(n=n);return n}export{y as a,g as b,p as c,h as f,w as m,d as p};
