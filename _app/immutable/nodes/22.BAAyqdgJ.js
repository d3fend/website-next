const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/jsonld.CYnguqZs.js","../chunks/_commonjsHelpers.C4iS2aBk.js","../chunks/___vite-browser-external_commonjs-proxy.B2SwpVhP.js"])))=>i.map(i=>d[i]);
import{s as lf}from"../chunks/sortBy.ChsTRid8.js";import{s as Et,c as Dr,u as Ar,g as kr,a as Cr,am as wA,I as kf,as as Jt,e as ae,d as se,f as Be,i as w,r as ue,k as I,o as yt,ao as yA,E as Cf,J as Lr,p as $e,b as ve,j as ge,F as qn,D as $t,l as $,P as Ie,x as Ht,t as V,h as H,a4 as Mr,ar as va,m as Ne,W as Zn,n as at,v as vt,L as rr,V as vn,O as Vt,Y as Tf,N as gt,a3 as Es,w as bi,al as p_,a0 as Jh,Q as __,R as v_,ap as g_,aq as EA,ak as DA}from"../chunks/scheduler.xR-uXgLO.js";import{S as Gt,i as Xt,t as he,a as me,g as It,e as Rt,c as Xe,b as We,m as Qe,d as Ye,f as gn,p as m_}from"../chunks/index.BpaDVXPB.js";import{d as AA,w as nn}from"../chunks/index.iaz6iIjv.js";import{e as lt,u as b_,o as w_}from"../chunks/each.BfH-wj2E.js";import{c as ua,a as Ts}from"../chunks/_commonjsHelpers.C4iS2aBk.js";import{s as y_}from"../chunks/schema.HaQr_DHp.js";import{p as kA}from"../chunks/stores.Dic1mGoW.js";import{A as Nf}from"../chunks/Alert.BOpypHFQ.js";import{T as Ha,b as Ze,a as a1,G as of,m as CA,d as uf,o as TA}from"../chunks/lib.CK1iMZjQ.js";import{c as NA,k as SA,i as IA,u as ml,g as RA,b as E_,n as D_,d as A_,e as PA,p as FA,f as OA,h as LA,r as BA,j as k_,R as Zu,X as UA,l as C_,m as T_,H as Zt,P as xt,o as MA,E as qA,q as s1,s as Sh,S as jA,C as xA,B as zA,a as VA,M as HA}from"../chunks/style.64w-_Ue-.js";import{I as $A,f as GA,c as XA,L as WA}from"../chunks/Loading.BOvGI8JW.js";import{f as Ds}from"../chunks/utils.xEKteSAW.js";import{r as QA}from"../chunks/___vite-browser-external_commonjs-proxy.B2SwpVhP.js";import{_ as YA}from"../chunks/preload-helper.C1FmrZbK.js";import{G as ga}from"../chunks/_Graph.CanqobF4.js";import{t as ff,T as l1}from"../chunks/ToggleBar.ChYzQEkc.js";import{s as N_}from"../chunks/index.BxqCZUUx.js";import{J as S_}from"../chunks/JSONCrush.BlUS0oeb.js";import{T as KA}from"../chunks/Title.lz_tL8Gl.js";function Zh(i,e,t=[]){const n=lf(i,r=>r["rdfs:label"]);for(const r of n)t.push({...r,rootLabel:e}),r.children&&Zh(r.children,e,t);return t}function ed(i,e,t){for(const n of t)if(e.test(i[n]))return!0;return!1}function JA(i,e,t){if(!e)return i||[];const n=e?new RegExp(e,"i"):null,r=s=>n?ed(s,n,t):!0;return i.filter(r)}function ZA(i,e,t){if(!e)return i||[];const n=e?new RegExp(e,"i"):null,r=a=>n?ed(a,n,t):!0;return i.reduce((a,l)=>(a.push({...l,children:l.children.filter(r)}),a),[]).filter(a=>a.children.length>0)}function ek(i,e,t){const n=[];function r(s){if(ed(s,e,t)&&n.push(s),s.children)for(const a of s.children)r(a)}for(const s of i)r(s);return n}function o1(i,e,t){if(!e)return i||[];const n=new RegExp(e,"i");return ek(i,n,t)}function I_(i,e){return[...new Map(i.map(t=>[t[e],t])).values()]}function tk(i,e){const t=i.reduce((s,a)=>(s[a["@id"]]=a,s),{});return i.reduce((s,a)=>(a.hasOwnProperty("rdfs:hasSubClass")&&(a.children=a["rdfs:hasSubClass"].map(l=>t[l["@id"]]),s.push(a)),s),[]).filter(s=>s["rdfs:subClassOf"].some(a=>a["@id"]===e))}function rk(i){const e=i.reduce((t,n)=>(t[n["@id"]]=n,t),{});return i.forEach(t=>{if(t.hasOwnProperty("rdfs:hasSubClass")){const n=t["rdfs:hasSubClass"];Array.isArray(n)?t.children=n.map(r=>e[r["@id"]]):t.children=[e[n["@id"]]]}}),lf(e["d3f:DigitalInformation"].children,t=>t["rdfs:label"])}function nk(i){const e=i.reduce((n,r)=>(n[r["@id"]]=r,n),{});return i.forEach(n=>{const r=n["rdfs:subPropertyOf"];if(r)for(const s of r)e[s["@id"]]&&(e[s["@id"]].children?e[s["@id"]].children.push(n):e[s["@id"]].children=[n])}),{associated:i.filter(n=>n["rdfs:subPropertyOf"].some(r=>r["@id"]==="d3f:associated-with"))}}async function ik({fetch:i}){const e=["/api/offensive-technique/all.json","/api/dao/artifacts.json","/api/taxonomies/d3f:DigitalEvent.json","/api/weakness/all.json","/api/ontology/properties/object/all.json","/api/dao/artifact/d3f:DigitalInformation.json"],[{value:{["@graph"]:t}},{value:{["@graph"]:n}},{value:{["@graph"]:r}},{value:{["@graph"]:s}},{value:{["@graph"]:a}},{value:{da_graph:{["@graph"]:l}}}]=await Promise.allSettled(e.map(_=>i(_).then(g=>g.json()))),u=lf(I_(t,"rdfs:label"),_=>_["rdfs:label"]),h=tk(r,"d3f:DigitalEvent").map(_=>({..._,children:I_(Zh(_.children,_["rdfs:label"]),"rdfs:label")})),v=lf(s,_=>_["rdfs:label"]),p=nk(a),d=rk(l);return{attack:u,dao:n,events:h,weaknesses:v,properties:p,digital_information:d}}const s8=Object.freeze(Object.defineProperty({__proto__:null,load:ik},Symbol.toStringTag,{value:"Module"}));function ak(i){let e;const t=i[7].default,n=Dr(t,i,i[6],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,[s]){n&&n.p&&(!e||s&64)&&Ar(n,t,r,r[6],e?Cr(t,r[6],s,null):kr(r[6]),null)},i(r){e||(he(n,r),e=!0)},o(r){me(n,r),e=!1},d(r){n&&n.d(r)}}}function sk(i,e,t){let{$$slots:n={},$$scope:r}=e,{initialNodes:s=void 0}=e,{initialEdges:a=void 0}=e,{initialWidth:l=void 0}=e,{initialHeight:u=void 0}=e,{fitView:f=void 0}=e,{nodeOrigin:h=void 0}=e;const v=NA({nodes:s,edges:a,width:l,height:u,nodeOrigin:h,fitView:f});return wA(SA,{getStore:()=>v}),kf(()=>{v.reset()}),i.$$set=p=>{"initialNodes"in p&&t(0,s=p.initialNodes),"initialEdges"in p&&t(1,a=p.initialEdges),"initialWidth"in p&&t(2,l=p.initialWidth),"initialHeight"in p&&t(3,u=p.initialHeight),"fitView"in p&&t(4,f=p.fitView),"nodeOrigin"in p&&t(5,h=p.nodeOrigin),"$$scope"in p&&t(6,r=p.$$scope)},[s,a,l,u,f,h,r,n]}class lk extends Gt{constructor(e){super(),Xt(this,e,sk,ak,Et,{initialNodes:0,initialEdges:1,initialWidth:2,initialHeight:3,fitView:4,nodeOrigin:5})}}const R_=i=>IA(i);function ok(){const{zoomIn:i,zoomOut:e,fitView:t,onbeforedelete:n,snapGrid:r,viewport:s,width:a,height:l,minZoom:u,maxZoom:f,panZoom:h,nodes:v,edges:p,domNode:d,nodeLookup:_,nodeOrigin:g,edgeLookup:b,connectionLookup:D}=ml(),B=y=>{var j,A;const N=Jt(_),T=R_(y)?y:N.get(y.id),q=T.parentId?LA(T.position,T.measured,T.parentId,N,Jt(g)):T.position,F={id:T.id,position:q,width:((j=T.measured)==null?void 0:j.width)??T.width,height:((A=T.measured)==null?void 0:A.height)??T.height,data:T.data};return D_(F)},S=(y,N,T={replace:!1})=>{var j;const q=(j=Jt(_).get(y))==null?void 0:j.internals.userNode;if(!q)return;const F=typeof N=="function"?N(q):N;T.replace?v.update(A=>A.map(L=>L.id===y?R_(F)?F:{...L,...F}:L)):(Object.assign(q,F),v.update(A=>A))},O=y=>Jt(_).get(y);return{zoomIn:i,zoomOut:e,getInternalNode:O,getNode:y=>{var N;return(N=O(y))==null?void 0:N.internals.userNode},getNodes:y=>y===void 0?Jt(v):P_(Jt(_),y),getEdge:y=>Jt(b).get(y),getEdges:y=>y===void 0?Jt(p):P_(Jt(b),y),setZoom:(y,N)=>{const T=Jt(h);return T?T.scaleTo(y,{duration:N==null?void 0:N.duration}):Promise.resolve(!1)},getZoom:()=>Jt(s).zoom,setViewport:async(y,N)=>{const T=Jt(s),q=Jt(h);return q?(await q.setViewport({x:y.x??T.x,y:y.y??T.y,zoom:y.zoom??T.zoom},{duration:N==null?void 0:N.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>Jt(s),setCenter:async(y,N,T)=>{const q=typeof(T==null?void 0:T.zoom)<"u"?T.zoom:Jt(f),F=Jt(h);return F?(await F.setViewport({x:Jt(a)/2-y*q,y:Jt(l)/2-N*q,zoom:q},{duration:T==null?void 0:T.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitView:t,fitBounds:async(y,N)=>{const T=Jt(h);if(!T)return Promise.resolve(!1);const q=RA(y,Jt(a),Jt(l),Jt(u),Jt(f),(N==null?void 0:N.padding)??.1);return await T.setViewport(q,{duration:N==null?void 0:N.duration}),Promise.resolve(!0)},getIntersectingNodes:(y,N=!0,T)=>{const q=E_(y),F=q?y:B(y);return F?(T||Jt(v)).filter(j=>{const A=Jt(_).get(j.id);if(!A||!q&&j.id===y.id)return!1;const L=D_(A),k=A_(L,F);return N&&k>0||k>=F.width*F.height}):[]},isNodeIntersecting:(y,N,T=!0)=>{const F=E_(y)?y:B(y);if(!F)return!1;const j=A_(F,N);return T&&j>0||j>=F.width*F.height},deleteElements:async({nodes:y=[],edges:N=[]})=>{const{nodes:T,edges:q}=await PA({nodesToRemove:y,edgesToRemove:N,nodes:Jt(v),edges:Jt(p),onBeforeDelete:Jt(n)});return T&&v.update(F=>F.filter(j=>!T.some(({id:A})=>A===j.id))),q&&p.update(F=>F.filter(j=>!q.some(({id:A})=>A===j.id))),{deletedNodes:T,deletedEdges:q}},screenToFlowPosition:(y,N={snapToGrid:!0})=>{const T=Jt(d);if(!T)return y;const q=N.snapToGrid?Jt(r):!1,{x:F,y:j,zoom:A}=Jt(s),{x:L,y:k}=T.getBoundingClientRect(),R={x:y.x-L,y:y.y-k};return FA(R,[F,j,A],q!==null,q||[1,1])},flowToScreenPosition:y=>{const N=Jt(d);if(!N)return y;const{x:T,y:q,zoom:F}=Jt(s),{x:j,y:A}=N.getBoundingClientRect(),L=BA(y,[T,q,F]);return{x:L.x+j,y:L.y+A}},toObject:()=>({nodes:Jt(v).map(y=>({...y,position:{...y.position},data:{...y.data}})),edges:Jt(p).map(y=>({...y})),viewport:{...Jt(s)}}),updateNode:S,updateNodeData:(y,N,T)=>{var j;const q=(j=Jt(_).get(y))==null?void 0:j.internals.userNode;if(!q)return;const F=typeof N=="function"?N(q):N;q.data=T!=null&&T.replace?F:{...q.data,...F},v.update(A=>A)},getNodesBounds:y=>{const N=Jt(_),T=Jt(g);return OA(y,{nodeLookup:N,nodeOrigin:T})},getHandleConnections:({type:y,id:N,nodeId:T})=>{var q;return Array.from(((q=Jt(D).get(`${T}-${y}-${N??null}`))==null?void 0:q.values())??[])},viewport:s}}function P_(i,e){var n;const t=[];for(const r of e){const s=i.get(r);if(s){const a="internals"in s?(n=s.internals)==null?void 0:n.userNode:s;t.push(a)}}return t}function uk(i){let e,t,n;const r=i[33].default,s=Dr(r,i,i[32],null);return{c(){e=ae("div"),s&&s.c(),this.h()},l(a){e=se(a,"DIV",{class:!0,style:!0});var l=Be(e);s&&s.l(l),l.forEach(w),this.h()},h(){ue(e,"class",t=k_(["svelte-flow__resize-control","nodrag",...i[4],i[0],i[1]])),ue(e,"style",i[3])},m(a,l){I(a,e,l),s&&s.m(e,null),i[34](e),n=!0},p(a,l){s&&s.p&&(!n||l[1]&2)&&Ar(s,r,a,a[32],n?Cr(r,a[32],l,null):kr(a[32]),null),(!n||l[0]&19&&t!==(t=k_(["svelte-flow__resize-control","nodrag",...a[4],a[0],a[1]])))&&ue(e,"class",t),(!n||l[0]&8)&&ue(e,"style",a[3])},i(a){n||(he(s,a),n=!0)},o(a){me(s,a),n=!1},d(a){a&&w(e),s&&s.d(a),i[34](null)}}}function fk(i,e,t){let n,r,s,a,l,u,f,h,v,p,d,_,g,b,D,B,{$$slots:S={},$$scope:O}=e,{nodeId:y=void 0}=e,{position:N=void 0}=e,{variant:T=Zu.Handle}=e,{color:q=void 0}=e,{minWidth:F=10}=e,{minHeight:j=10}=e,{maxWidth:A=Number.MAX_VALUE}=e,{maxHeight:L=Number.MAX_VALUE}=e,{keepAspectRatio:k=!1}=e,{shouldResize:R=void 0}=e,{onResizeStart:K=void 0}=e,{onResize:z=void 0}=e,{onResizeEnd:fe=void 0}=e,{style:re=""}=e,{class:te=""}=e;const{nodeLookup:G,snapGrid:Q,viewport:pe,nodes:J,nodeOrigin:_e}=ml();yt(i,G,ke=>t(37,g=ke)),yt(i,Q,ke=>t(39,D=ke)),yt(i,pe,ke=>t(40,B=ke)),yt(i,J,ke=>t(36,_=ke)),yt(i,_e,ke=>t(38,b=ke));const tt=yA("svelteflow__node_id");let rt,Pe=null;Cf(()=>(rt&&t(23,Pe=UA({domNode:rt,nodeId:l,getStoreItems:()=>({nodeLookup:g,transform:[B.x,B.y,B.zoom],snapGrid:D??void 0,snapToGrid:!!D,nodeOrigin:b}),onChange:(ke,He)=>{var kt,Re;const ot=(kt=g.get(l))==null?void 0:kt.internals.userNode;if(ot){ke.x!==void 0&&ke.y!==void 0&&(ot.position={x:ke.x,y:ke.y}),ke.width!==void 0&&ke.height!==void 0&&(ot.width=ke.width,ot.height=ke.height);for(const le of He){const Ue=(Re=g.get(le.id))==null?void 0:Re.internals.userNode;Ue&&(Ue.position=le.position)}J.set(_)}}})),()=>{Pe==null||Pe.destroy()}));function je(ke){Lr[ke?"unshift":"push"](()=>{rt=ke,t(2,rt)})}return i.$$set=ke=>{"nodeId"in ke&&t(10,y=ke.nodeId),"position"in ke&&t(11,N=ke.position),"variant"in ke&&t(0,T=ke.variant),"color"in ke&&t(12,q=ke.color),"minWidth"in ke&&t(13,F=ke.minWidth),"minHeight"in ke&&t(14,j=ke.minHeight),"maxWidth"in ke&&t(15,A=ke.maxWidth),"maxHeight"in ke&&t(16,L=ke.maxHeight),"keepAspectRatio"in ke&&t(17,k=ke.keepAspectRatio),"shouldResize"in ke&&t(18,R=ke.shouldResize),"onResizeStart"in ke&&t(19,K=ke.onResizeStart),"onResize"in ke&&t(20,z=ke.onResize),"onResizeEnd"in ke&&t(21,fe=ke.onResizeEnd),"style"in ke&&t(22,re=ke.style),"class"in ke&&t(1,te=ke.class),"$$scope"in ke&&t(32,O=ke.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&8192&&t(27,n=F??10),i.$$.dirty[0]&16384&&t(26,r=j??10),i.$$.dirty[0]&32768&&t(25,s=A??Number.MAX_VALUE),i.$$.dirty[0]&65536&&t(24,a=L??Number.MAX_VALUE),i.$$.dirty[0]&1024&&(l=typeof y=="string"?y:tt),i.$$.dirty[0]&1&&t(31,u=T===Zu.Line?"right":"bottom-right"),i.$$.dirty[0]&2048|i.$$.dirty[1]&1&&t(28,f=N??u),i.$$.dirty[0]&268435456&&t(4,h=f.split("-")),i.$$.dirty[0]&1&&t(30,v=T===Zu.Line?"border-color":"background-color"),i.$$.dirty[0]&4194304&&t(29,p=re??""),i.$$.dirty[0]&1610616832&&t(3,d=q?`${p} ${v}: ${q};`:p),i.$$.dirty[0]&532545536&&(Pe==null||Pe.update({controlPosition:f,boundaries:{minWidth:n,minHeight:r,maxWidth:s,maxHeight:a},keepAspectRatio:!!k,onResizeStart:K,onResize:z,onResizeEnd:fe,shouldResize:R}))},[T,te,rt,d,h,G,Q,pe,J,_e,y,N,q,F,j,A,L,k,R,K,z,fe,re,Pe,a,s,r,n,f,p,v,u,O,S,je]}class u1 extends Gt{constructor(e){super(),Xt(this,e,fk,uk,Et,{nodeId:10,position:11,variant:0,color:12,minWidth:13,minHeight:14,maxWidth:15,maxHeight:16,keepAspectRatio:17,shouldResize:18,onResizeStart:19,onResize:20,onResizeEnd:21,style:22,class:1},null,[-1,-1])}}function F_(i,e,t){const n=i.slice();return n[20]=e[t],n}function O_(i,e,t){const n=i.slice();return n[20]=e[t],n}function L_(i){let e=[],t=new Map,n,r=[],s=new Map,a,l,u=lt(C_);const f=p=>p[20];for(let p=0;p<u.length;p+=1){let d=O_(i,u,p),_=f(d);t.set(_,e[p]=B_(_,d))}let h=lt(T_);const v=p=>p[20];for(let p=0;p<h.length;p+=1){let d=F_(i,h,p),_=v(d);s.set(_,r[p]=U_(_,d))}return{c(){for(let p=0;p<e.length;p+=1)e[p].c();n=ve();for(let p=0;p<r.length;p+=1)r[p].c();a=$e()},l(p){for(let d=0;d<e.length;d+=1)e[d].l(p);n=ge(p);for(let d=0;d<r.length;d+=1)r[d].l(p);a=$e()},m(p,d){for(let _=0;_<e.length;_+=1)e[_]&&e[_].m(p,d);I(p,n,d);for(let _=0;_<r.length;_+=1)r[_]&&r[_].m(p,d);I(p,a,d),l=!0},p(p,d){d&65521&&(u=lt(C_),It(),e=b_(e,d,f,1,p,u,t,n.parentNode,w_,B_,n,O_),Rt()),d&65485&&(h=lt(T_),It(),r=b_(r,d,v,1,p,h,s,a.parentNode,w_,U_,a,F_),Rt())},i(p){if(!l){for(let d=0;d<u.length;d+=1)he(e[d]);for(let d=0;d<h.length;d+=1)he(r[d]);l=!0}},o(p){for(let d=0;d<e.length;d+=1)me(e[d]);for(let d=0;d<r.length;d+=1)me(r[d]);l=!1},d(p){p&&(w(n),w(a));for(let d=0;d<e.length;d+=1)e[d].d(p);for(let d=0;d<r.length;d+=1)r[d].d(p)}}}function B_(i,e){let t,n,r;return n=new u1({props:{class:e[4],style:e[5],nodeId:e[0],position:e[20],variant:Zu.Line,color:e[6],minWidth:e[12],minHeight:e[13],maxWidth:e[14],maxHeight:e[15],onResizeStart:e[9],keepAspectRatio:e[7],shouldResize:e[8],onResize:e[10],onResizeEnd:e[11]}}),{key:i,first:null,c(){t=$e(),Xe(n.$$.fragment),this.h()},l(s){t=$e(),We(n.$$.fragment,s),this.h()},h(){this.first=t},m(s,a){I(s,t,a),Qe(n,s,a),r=!0},p(s,a){e=s;const l={};a&16&&(l.class=e[4]),a&32&&(l.style=e[5]),a&1&&(l.nodeId=e[0]),a&64&&(l.color=e[6]),a&512&&(l.onResizeStart=e[9]),a&128&&(l.keepAspectRatio=e[7]),a&256&&(l.shouldResize=e[8]),a&1024&&(l.onResize=e[10]),a&2048&&(l.onResizeEnd=e[11]),n.$set(l)},i(s){r||(he(n.$$.fragment,s),r=!0)},o(s){me(n.$$.fragment,s),r=!1},d(s){s&&w(t),Ye(n,s)}}}function U_(i,e){let t,n,r;return n=new u1({props:{class:e[2],style:e[3],nodeId:e[0],position:e[20],color:e[6],minWidth:e[12],minHeight:e[13],maxWidth:e[14],maxHeight:e[15],onResizeStart:e[9],keepAspectRatio:e[7],shouldResize:e[8],onResize:e[10],onResizeEnd:e[11]}}),{key:i,first:null,c(){t=$e(),Xe(n.$$.fragment),this.h()},l(s){t=$e(),We(n.$$.fragment,s),this.h()},h(){this.first=t},m(s,a){I(s,t,a),Qe(n,s,a),r=!0},p(s,a){e=s;const l={};a&4&&(l.class=e[2]),a&8&&(l.style=e[3]),a&1&&(l.nodeId=e[0]),a&64&&(l.color=e[6]),a&512&&(l.onResizeStart=e[9]),a&128&&(l.keepAspectRatio=e[7]),a&256&&(l.shouldResize=e[8]),a&1024&&(l.onResize=e[10]),a&2048&&(l.onResizeEnd=e[11]),n.$set(l)},i(s){r||(he(n.$$.fragment,s),r=!0)},o(s){me(n.$$.fragment,s),r=!1},d(s){s&&w(t),Ye(n,s)}}}function ck(i){let e,t,n=i[1]&&L_(i);return{c(){n&&n.c(),e=$e()},l(r){n&&n.l(r),e=$e()},m(r,s){n&&n.m(r,s),I(r,e,s),t=!0},p(r,[s]){r[1]?n?(n.p(r,s),s&2&&he(n,1)):(n=L_(r),n.c(),he(n,1),n.m(e.parentNode,e)):n&&(It(),me(n,1,1,()=>{n=null}),Rt())},i(r){t||(he(n),t=!0)},o(r){me(n),t=!1},d(r){r&&w(e),n&&n.d(r)}}}function hk(i,e,t){let{nodeId:n=void 0}=e,{isVisible:r=!0}=e,{handleClass:s=void 0}=e,{handleStyle:a=void 0}=e,{lineClass:l=void 0}=e,{lineStyle:u=void 0}=e,{color:f=void 0}=e,{minWidth:h=10}=e,{minHeight:v=10}=e,{maxWidth:p=Number.MAX_VALUE}=e,{maxHeight:d=Number.MAX_VALUE}=e,{keepAspectRatio:_=!1}=e,{shouldResize:g=void 0}=e,{onResizeStart:b=void 0}=e,{onResize:D=void 0}=e,{onResizeEnd:B=void 0}=e,S=h||10,O=v||10,y=p||Number.MAX_VALUE,N=d||Number.MAX_VALUE;return i.$$set=T=>{"nodeId"in T&&t(0,n=T.nodeId),"isVisible"in T&&t(1,r=T.isVisible),"handleClass"in T&&t(2,s=T.handleClass),"handleStyle"in T&&t(3,a=T.handleStyle),"lineClass"in T&&t(4,l=T.lineClass),"lineStyle"in T&&t(5,u=T.lineStyle),"color"in T&&t(6,f=T.color),"minWidth"in T&&t(16,h=T.minWidth),"minHeight"in T&&t(17,v=T.minHeight),"maxWidth"in T&&t(18,p=T.maxWidth),"maxHeight"in T&&t(19,d=T.maxHeight),"keepAspectRatio"in T&&t(7,_=T.keepAspectRatio),"shouldResize"in T&&t(8,g=T.shouldResize),"onResizeStart"in T&&t(9,b=T.onResizeStart),"onResize"in T&&t(10,D=T.onResize),"onResizeEnd"in T&&t(11,B=T.onResizeEnd)},[n,r,s,a,l,u,f,_,g,b,D,B,S,O,y,N,h,v,p,d]}class Ga extends Gt{constructor(e){super(),Xt(this,e,hk,ck,Et,{nodeId:0,isVisible:1,handleClass:2,handleStyle:3,lineClass:4,lineStyle:5,color:6,minWidth:16,minHeight:17,maxWidth:18,maxHeight:19,keepAspectRatio:7,shouldResize:8,onResizeStart:9,onResize:10,onResizeEnd:11})}}function ma(){const{connection:i}=ml();return i}function Ii(){const{nodes:i}=ml();return i}function Ri(){const{edges:i}=ml();return i}function M_(i){const{nodeLookup:e,nodes:t}=ml();return AA([e,t],([n])=>n.get(i))}const f1=nn([]),c1=nn([]),h1=nn([]),d1=nn([]),p1=nn([]),_1=nn([]),v1=nn([]);function dk(){const{subscribe:i,set:e,update:t}=nn();return{subscribe:i,update:t,add:n=>e(n),clear:()=>e()}}const kn=dk();var Ih={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(i,e){(function(t,n){n(e)})(ua,function(t){function n(){for(var Ee=arguments.length,de=Array(Ee),Ce=0;Ce<Ee;Ce++)de[Ce]=arguments[Ce];if(de.length>1){de[0]=de[0].slice(0,-1);for(var xe=de.length-1,Me=1;Me<xe;++Me)de[Me]=de[Me].slice(1,-1);return de[xe]=de[xe].slice(1),de.join("")}else return de[0]}function r(Ee){return"(?:"+Ee+")"}function s(Ee){return Ee===void 0?"undefined":Ee===null?"null":Object.prototype.toString.call(Ee).split(" ").pop().split("]").shift().toLowerCase()}function a(Ee){return Ee.toUpperCase()}function l(Ee){return Ee!=null?Ee instanceof Array?Ee:typeof Ee.length!="number"||Ee.split||Ee.setInterval||Ee.call?[Ee]:Array.prototype.slice.call(Ee):[]}function u(Ee,de){var Ce=Ee;if(de)for(var xe in de)Ce[xe]=de[xe];return Ce}function f(Ee){var de="[A-Za-z]",Ce="[0-9]",xe=n(Ce,"[A-Fa-f]"),Me=r(r("%[EFef]"+xe+"%"+xe+xe+"%"+xe+xe)+"|"+r("%[89A-Fa-f]"+xe+"%"+xe+xe)+"|"+r("%"+xe+xe)),bt="[\\:\\/\\?\\#\\[\\]\\@]",ct="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ct=n(bt,ct),pr=Ee?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Br=Ee?"[\\uE000-\\uF8FF]":"[]",Wt=n(de,Ce,"[\\-\\.\\_\\~]",pr);r(de+n(de,Ce,"[\\+\\-\\.]")+"*"),r(r(Me+"|"+n(Wt,ct,"[\\:]"))+"*");var cr=r(r("25[0-5]")+"|"+r("2[0-4]"+Ce)+"|"+r("1"+Ce+Ce)+"|"+r("0?[1-9]"+Ce)+"|0?0?"+Ce),Sr=r(cr+"\\."+cr+"\\."+cr+"\\."+cr),Ot=r(xe+"{1,4}"),hr=r(r(Ot+"\\:"+Ot)+"|"+Sr),_r=r(r(Ot+"\\:")+"{6}"+hr),mr=r("\\:\\:"+r(Ot+"\\:")+"{5}"+hr),bn=r(r(Ot)+"?\\:\\:"+r(Ot+"\\:")+"{4}"+hr),sn=r(r(r(Ot+"\\:")+"{0,1}"+Ot)+"?\\:\\:"+r(Ot+"\\:")+"{3}"+hr),ln=r(r(r(Ot+"\\:")+"{0,2}"+Ot)+"?\\:\\:"+r(Ot+"\\:")+"{2}"+hr),Li=r(r(r(Ot+"\\:")+"{0,3}"+Ot)+"?\\:\\:"+Ot+"\\:"+hr),ei=r(r(r(Ot+"\\:")+"{0,4}"+Ot)+"?\\:\\:"+hr),on=r(r(r(Ot+"\\:")+"{0,5}"+Ot)+"?\\:\\:"+Ot),wn=r(r(r(Ot+"\\:")+"{0,6}"+Ot)+"?\\:\\:"),wi=r([_r,mr,bn,sn,ln,Li,ei,on,wn].join("|")),dn=r(r(Wt+"|"+Me)+"+");r("[vV]"+xe+"+\\."+n(Wt,ct,"[\\:]")+"+"),r(r(Me+"|"+n(Wt,ct))+"*");var ti=r(Me+"|"+n(Wt,ct,"[\\:\\@]"));return r(r(Me+"|"+n(Wt,ct,"[\\@]"))+"+"),r(r(ti+"|"+n("[\\/\\?]",Br))+"*"),{NOT_SCHEME:new RegExp(n("[^]",de,Ce,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",Wt,ct),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",Wt,ct),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",Wt,ct),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",Wt,ct),"g"),NOT_QUERY:new RegExp(n("[^\\%]",Wt,ct,"[\\:\\@\\/\\?]",Br),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",Wt,ct,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",Wt,ct),"g"),UNRESERVED:new RegExp(Wt,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",Wt,Ct),"g"),PCT_ENCODED:new RegExp(Me,"g"),IPV4ADDRESS:new RegExp("^("+Sr+")$"),IPV6ADDRESS:new RegExp("^\\[?("+wi+")"+r(r("\\%25|\\%(?!"+xe+"{2})")+"("+dn+")")+"?\\]?$")}}var h=f(!1),v=f(!0),p=function(){function Ee(de,Ce){var xe=[],Me=!0,bt=!1,ct=void 0;try{for(var Ct=de[Symbol.iterator](),pr;!(Me=(pr=Ct.next()).done)&&(xe.push(pr.value),!(Ce&&xe.length===Ce));Me=!0);}catch(Br){bt=!0,ct=Br}finally{try{!Me&&Ct.return&&Ct.return()}finally{if(bt)throw ct}}return xe}return function(de,Ce){if(Array.isArray(de))return de;if(Symbol.iterator in Object(de))return Ee(de,Ce);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(Ee){if(Array.isArray(Ee)){for(var de=0,Ce=Array(Ee.length);de<Ee.length;de++)Ce[de]=Ee[de];return Ce}else return Array.from(Ee)},_=2147483647,g=36,b=1,D=26,B=38,S=700,O=72,y=128,N="-",T=/^xn--/,q=/[^\0-\x7E]/,F=/[\x2E\u3002\uFF0E\uFF61]/g,j={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=g-b,L=Math.floor,k=String.fromCharCode;function R(Ee){throw new RangeError(j[Ee])}function K(Ee,de){for(var Ce=[],xe=Ee.length;xe--;)Ce[xe]=de(Ee[xe]);return Ce}function z(Ee,de){var Ce=Ee.split("@"),xe="";Ce.length>1&&(xe=Ce[0]+"@",Ee=Ce[1]),Ee=Ee.replace(F,".");var Me=Ee.split("."),bt=K(Me,de).join(".");return xe+bt}function fe(Ee){for(var de=[],Ce=0,xe=Ee.length;Ce<xe;){var Me=Ee.charCodeAt(Ce++);if(Me>=55296&&Me<=56319&&Ce<xe){var bt=Ee.charCodeAt(Ce++);(bt&64512)==56320?de.push(((Me&1023)<<10)+(bt&1023)+65536):(de.push(Me),Ce--)}else de.push(Me)}return de}var re=function(de){return String.fromCodePoint.apply(String,d(de))},te=function(de){return de-48<10?de-22:de-65<26?de-65:de-97<26?de-97:g},G=function(de,Ce){return de+22+75*(de<26)-((Ce!=0)<<5)},Q=function(de,Ce,xe){var Me=0;for(de=xe?L(de/S):de>>1,de+=L(de/Ce);de>A*D>>1;Me+=g)de=L(de/A);return L(Me+(A+1)*de/(de+B))},pe=function(de){var Ce=[],xe=de.length,Me=0,bt=y,ct=O,Ct=de.lastIndexOf(N);Ct<0&&(Ct=0);for(var pr=0;pr<Ct;++pr)de.charCodeAt(pr)>=128&&R("not-basic"),Ce.push(de.charCodeAt(pr));for(var Br=Ct>0?Ct+1:0;Br<xe;){for(var Wt=Me,cr=1,Sr=g;;Sr+=g){Br>=xe&&R("invalid-input");var Ot=te(de.charCodeAt(Br++));(Ot>=g||Ot>L((_-Me)/cr))&&R("overflow"),Me+=Ot*cr;var hr=Sr<=ct?b:Sr>=ct+D?D:Sr-ct;if(Ot<hr)break;var _r=g-hr;cr>L(_/_r)&&R("overflow"),cr*=_r}var mr=Ce.length+1;ct=Q(Me-Wt,mr,Wt==0),L(Me/mr)>_-bt&&R("overflow"),bt+=L(Me/mr),Me%=mr,Ce.splice(Me++,0,bt)}return String.fromCodePoint.apply(String,Ce)},J=function(de){var Ce=[];de=fe(de);var xe=de.length,Me=y,bt=0,ct=O,Ct=!0,pr=!1,Br=void 0;try{for(var Wt=de[Symbol.iterator](),cr;!(Ct=(cr=Wt.next()).done);Ct=!0){var Sr=cr.value;Sr<128&&Ce.push(k(Sr))}}catch(Vn){pr=!0,Br=Vn}finally{try{!Ct&&Wt.return&&Wt.return()}finally{if(pr)throw Br}}var Ot=Ce.length,hr=Ot;for(Ot&&Ce.push(N);hr<xe;){var _r=_,mr=!0,bn=!1,sn=void 0;try{for(var ln=de[Symbol.iterator](),Li;!(mr=(Li=ln.next()).done);mr=!0){var ei=Li.value;ei>=Me&&ei<_r&&(_r=ei)}}catch(Vn){bn=!0,sn=Vn}finally{try{!mr&&ln.return&&ln.return()}finally{if(bn)throw sn}}var on=hr+1;_r-Me>L((_-bt)/on)&&R("overflow"),bt+=(_r-Me)*on,Me=_r;var wn=!0,wi=!1,dn=void 0;try{for(var ti=de[Symbol.iterator](),Za;!(wn=(Za=ti.next()).done);wn=!0){var ka=Za.value;if(ka<Me&&++bt>_&&R("overflow"),ka==Me){for(var ri=bt,ni=g;;ni+=g){var yi=ni<=ct?b:ni>=ct+D?D:ni-ct;if(ri<yi)break;var es=ri-yi,Bi=g-yi;Ce.push(k(G(yi+es%Bi,0))),ri=L(es/Bi)}Ce.push(k(G(ri,0))),ct=Q(bt,on,hr==Ot),bt=0,++hr}}}catch(Vn){wi=!0,dn=Vn}finally{try{!wn&&ti.return&&ti.return()}finally{if(wi)throw dn}}++bt,++Me}return Ce.join("")},_e=function(de){return z(de,function(Ce){return T.test(Ce)?pe(Ce.slice(4).toLowerCase()):Ce})},tt=function(de){return z(de,function(Ce){return q.test(Ce)?"xn--"+J(Ce):Ce})},rt={version:"2.1.0",ucs2:{decode:fe,encode:re},decode:pe,encode:J,toASCII:tt,toUnicode:_e},Pe={};function je(Ee){var de=Ee.charCodeAt(0),Ce=void 0;return de<16?Ce="%0"+de.toString(16).toUpperCase():de<128?Ce="%"+de.toString(16).toUpperCase():de<2048?Ce="%"+(de>>6|192).toString(16).toUpperCase()+"%"+(de&63|128).toString(16).toUpperCase():Ce="%"+(de>>12|224).toString(16).toUpperCase()+"%"+(de>>6&63|128).toString(16).toUpperCase()+"%"+(de&63|128).toString(16).toUpperCase(),Ce}function ke(Ee){for(var de="",Ce=0,xe=Ee.length;Ce<xe;){var Me=parseInt(Ee.substr(Ce+1,2),16);if(Me<128)de+=String.fromCharCode(Me),Ce+=3;else if(Me>=194&&Me<224){if(xe-Ce>=6){var bt=parseInt(Ee.substr(Ce+4,2),16);de+=String.fromCharCode((Me&31)<<6|bt&63)}else de+=Ee.substr(Ce,6);Ce+=6}else if(Me>=224){if(xe-Ce>=9){var ct=parseInt(Ee.substr(Ce+4,2),16),Ct=parseInt(Ee.substr(Ce+7,2),16);de+=String.fromCharCode((Me&15)<<12|(ct&63)<<6|Ct&63)}else de+=Ee.substr(Ce,9);Ce+=9}else de+=Ee.substr(Ce,3),Ce+=3}return de}function He(Ee,de){function Ce(xe){var Me=ke(xe);return Me.match(de.UNRESERVED)?Me:xe}return Ee.scheme&&(Ee.scheme=String(Ee.scheme).replace(de.PCT_ENCODED,Ce).toLowerCase().replace(de.NOT_SCHEME,"")),Ee.userinfo!==void 0&&(Ee.userinfo=String(Ee.userinfo).replace(de.PCT_ENCODED,Ce).replace(de.NOT_USERINFO,je).replace(de.PCT_ENCODED,a)),Ee.host!==void 0&&(Ee.host=String(Ee.host).replace(de.PCT_ENCODED,Ce).toLowerCase().replace(de.NOT_HOST,je).replace(de.PCT_ENCODED,a)),Ee.path!==void 0&&(Ee.path=String(Ee.path).replace(de.PCT_ENCODED,Ce).replace(Ee.scheme?de.NOT_PATH:de.NOT_PATH_NOSCHEME,je).replace(de.PCT_ENCODED,a)),Ee.query!==void 0&&(Ee.query=String(Ee.query).replace(de.PCT_ENCODED,Ce).replace(de.NOT_QUERY,je).replace(de.PCT_ENCODED,a)),Ee.fragment!==void 0&&(Ee.fragment=String(Ee.fragment).replace(de.PCT_ENCODED,Ce).replace(de.NOT_FRAGMENT,je).replace(de.PCT_ENCODED,a)),Ee}function ot(Ee){return Ee.replace(/^0*(.*)/,"$1")||"0"}function kt(Ee,de){var Ce=Ee.match(de.IPV4ADDRESS)||[],xe=p(Ce,2),Me=xe[1];return Me?Me.split(".").map(ot).join("."):Ee}function Re(Ee,de){var Ce=Ee.match(de.IPV6ADDRESS)||[],xe=p(Ce,3),Me=xe[1],bt=xe[2];if(Me){for(var ct=Me.toLowerCase().split("::").reverse(),Ct=p(ct,2),pr=Ct[0],Br=Ct[1],Wt=Br?Br.split(":").map(ot):[],cr=pr.split(":").map(ot),Sr=de.IPV4ADDRESS.test(cr[cr.length-1]),Ot=Sr?7:8,hr=cr.length-Ot,_r=Array(Ot),mr=0;mr<Ot;++mr)_r[mr]=Wt[mr]||cr[hr+mr]||"";Sr&&(_r[Ot-1]=kt(_r[Ot-1],de));var bn=_r.reduce(function(on,wn,wi){if(!wn||wn==="0"){var dn=on[on.length-1];dn&&dn.index+dn.length===wi?dn.length++:on.push({index:wi,length:1})}return on},[]),sn=bn.sort(function(on,wn){return wn.length-on.length})[0],ln=void 0;if(sn&&sn.length>1){var Li=_r.slice(0,sn.index),ei=_r.slice(sn.index+sn.length);ln=Li.join(":")+"::"+ei.join(":")}else ln=_r.join(":");return bt&&(ln+="%"+bt),ln}else return Ee}var le=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Ue="".match(/(){0}/)[1]===void 0;function sr(Ee){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ce={},xe=de.iri!==!1?v:h;de.reference==="suffix"&&(Ee=(de.scheme?de.scheme+":":"")+"//"+Ee);var Me=Ee.match(le);if(Me){Ue?(Ce.scheme=Me[1],Ce.userinfo=Me[3],Ce.host=Me[4],Ce.port=parseInt(Me[5],10),Ce.path=Me[6]||"",Ce.query=Me[7],Ce.fragment=Me[8],isNaN(Ce.port)&&(Ce.port=Me[5])):(Ce.scheme=Me[1]||void 0,Ce.userinfo=Ee.indexOf("@")!==-1?Me[3]:void 0,Ce.host=Ee.indexOf("//")!==-1?Me[4]:void 0,Ce.port=parseInt(Me[5],10),Ce.path=Me[6]||"",Ce.query=Ee.indexOf("?")!==-1?Me[7]:void 0,Ce.fragment=Ee.indexOf("#")!==-1?Me[8]:void 0,isNaN(Ce.port)&&(Ce.port=Ee.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Me[4]:void 0)),Ce.host&&(Ce.host=Re(kt(Ce.host,xe),xe)),Ce.scheme===void 0&&Ce.userinfo===void 0&&Ce.host===void 0&&Ce.port===void 0&&!Ce.path&&Ce.query===void 0?Ce.reference="same-document":Ce.scheme===void 0?Ce.reference="relative":Ce.fragment===void 0?Ce.reference="absolute":Ce.reference="uri",de.reference&&de.reference!=="suffix"&&de.reference!==Ce.reference&&(Ce.error=Ce.error||"URI is not a "+de.reference+" reference.");var bt=Pe[(de.scheme||Ce.scheme||"").toLowerCase()];if(!de.unicodeSupport&&(!bt||!bt.unicodeSupport)){if(Ce.host&&(de.domainHost||bt&&bt.domainHost))try{Ce.host=rt.toASCII(Ce.host.replace(xe.PCT_ENCODED,ke).toLowerCase())}catch(ct){Ce.error=Ce.error||"Host's domain name can not be converted to ASCII via punycode: "+ct}He(Ce,h)}else He(Ce,xe);bt&&bt.parse&&bt.parse(Ce,de)}else Ce.error=Ce.error||"URI can not be parsed.";return Ce}function Yt(Ee,de){var Ce=de.iri!==!1?v:h,xe=[];return Ee.userinfo!==void 0&&(xe.push(Ee.userinfo),xe.push("@")),Ee.host!==void 0&&xe.push(Re(kt(String(Ee.host),Ce),Ce).replace(Ce.IPV6ADDRESS,function(Me,bt,ct){return"["+bt+(ct?"%25"+ct:"")+"]"})),(typeof Ee.port=="number"||typeof Ee.port=="string")&&(xe.push(":"),xe.push(String(Ee.port))),xe.length?xe.join(""):void 0}var Tr=/^\.\.?\//,nr=/^\/\.(\/|$)/,Nr=/^\/\.\.(\/|$)/,fr=/^\/?(?:.|\n)*?(?=\/|$)/;function mt(Ee){for(var de=[];Ee.length;)if(Ee.match(Tr))Ee=Ee.replace(Tr,"");else if(Ee.match(nr))Ee=Ee.replace(nr,"/");else if(Ee.match(Nr))Ee=Ee.replace(Nr,"/"),de.pop();else if(Ee==="."||Ee==="..")Ee="";else{var Ce=Ee.match(fr);if(Ce){var xe=Ce[0];Ee=Ee.slice(xe.length),de.push(xe)}else throw new Error("Unexpected dot segment condition")}return de.join("")}function Dt(Ee){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ce=de.iri?v:h,xe=[],Me=Pe[(de.scheme||Ee.scheme||"").toLowerCase()];if(Me&&Me.serialize&&Me.serialize(Ee,de),Ee.host&&!Ce.IPV6ADDRESS.test(Ee.host)){if(de.domainHost||Me&&Me.domainHost)try{Ee.host=de.iri?rt.toUnicode(Ee.host):rt.toASCII(Ee.host.replace(Ce.PCT_ENCODED,ke).toLowerCase())}catch(Ct){Ee.error=Ee.error||"Host's domain name can not be converted to "+(de.iri?"Unicode":"ASCII")+" via punycode: "+Ct}}He(Ee,Ce),de.reference!=="suffix"&&Ee.scheme&&(xe.push(Ee.scheme),xe.push(":"));var bt=Yt(Ee,de);if(bt!==void 0&&(de.reference!=="suffix"&&xe.push("//"),xe.push(bt),Ee.path&&Ee.path.charAt(0)!=="/"&&xe.push("/")),Ee.path!==void 0){var ct=Ee.path;!de.absolutePath&&(!Me||!Me.absolutePath)&&(ct=mt(ct)),bt===void 0&&(ct=ct.replace(/^\/\//,"/%2F")),xe.push(ct)}return Ee.query!==void 0&&(xe.push("?"),xe.push(Ee.query)),Ee.fragment!==void 0&&(xe.push("#"),xe.push(Ee.fragment)),xe.join("")}function nt(Ee,de){var Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},xe=arguments[3],Me={};return xe||(Ee=sr(Dt(Ee,Ce),Ce),de=sr(Dt(de,Ce),Ce)),Ce=Ce||{},!Ce.tolerant&&de.scheme?(Me.scheme=de.scheme,Me.userinfo=de.userinfo,Me.host=de.host,Me.port=de.port,Me.path=mt(de.path||""),Me.query=de.query):(de.userinfo!==void 0||de.host!==void 0||de.port!==void 0?(Me.userinfo=de.userinfo,Me.host=de.host,Me.port=de.port,Me.path=mt(de.path||""),Me.query=de.query):(de.path?(de.path.charAt(0)==="/"?Me.path=mt(de.path):((Ee.userinfo!==void 0||Ee.host!==void 0||Ee.port!==void 0)&&!Ee.path?Me.path="/"+de.path:Ee.path?Me.path=Ee.path.slice(0,Ee.path.lastIndexOf("/")+1)+de.path:Me.path=de.path,Me.path=mt(Me.path)),Me.query=de.query):(Me.path=Ee.path,de.query!==void 0?Me.query=de.query:Me.query=Ee.query),Me.userinfo=Ee.userinfo,Me.host=Ee.host,Me.port=Ee.port),Me.scheme=Ee.scheme),Me.fragment=de.fragment,Me}function pt(Ee,de,Ce){var xe=u({scheme:"null"},Ce);return Dt(nt(sr(Ee,xe),sr(de,xe),xe,!0),xe)}function ze(Ee,de){return typeof Ee=="string"?Ee=Dt(sr(Ee,de),de):s(Ee)==="object"&&(Ee=sr(Dt(Ee,de),de)),Ee}function W(Ee,de,Ce){return typeof Ee=="string"?Ee=Dt(sr(Ee,Ce),Ce):s(Ee)==="object"&&(Ee=Dt(Ee,Ce)),typeof de=="string"?de=Dt(sr(de,Ce),Ce):s(de)==="object"&&(de=Dt(de,Ce)),Ee===de}function P(Ee,de){return Ee&&Ee.toString().replace(!de||!de.iri?h.ESCAPE:v.ESCAPE,je)}function M(Ee,de){return Ee&&Ee.toString().replace(!de||!de.iri?h.PCT_ENCODED:v.PCT_ENCODED,ke)}var ee={scheme:"http",domainHost:!0,parse:function(de,Ce){return de.host||(de.error=de.error||"HTTP URIs must have a host."),de},serialize:function(de,Ce){var xe=String(de.scheme).toLowerCase()==="https";return(de.port===(xe?443:80)||de.port==="")&&(de.port=void 0),de.path||(de.path="/"),de}},we={scheme:"https",domainHost:ee.domainHost,parse:ee.parse,serialize:ee.serialize};function Le(Ee){return typeof Ee.secure=="boolean"?Ee.secure:String(Ee.scheme).toLowerCase()==="wss"}var Ve={scheme:"ws",domainHost:!0,parse:function(de,Ce){var xe=de;return xe.secure=Le(xe),xe.resourceName=(xe.path||"/")+(xe.query?"?"+xe.query:""),xe.path=void 0,xe.query=void 0,xe},serialize:function(de,Ce){if((de.port===(Le(de)?443:80)||de.port==="")&&(de.port=void 0),typeof de.secure=="boolean"&&(de.scheme=de.secure?"wss":"ws",de.secure=void 0),de.resourceName){var xe=de.resourceName.split("?"),Me=p(xe,2),bt=Me[0],ct=Me[1];de.path=bt&&bt!=="/"?bt:void 0,de.query=ct,de.resourceName=void 0}return de.fragment=void 0,de}},Nt={scheme:"wss",domainHost:Ve.domainHost,parse:Ve.parse,serialize:Ve.serialize},qt={},At="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Mt="[0-9A-Fa-f]",er=r(r("%[EFef]"+Mt+"%"+Mt+Mt+"%"+Mt+Mt)+"|"+r("%[89A-Fa-f]"+Mt+"%"+Mt+Mt)+"|"+r("%"+Mt+Mt)),Pi="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Fs="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Nn=n(Fs,'[\\"\\\\]'),Fi="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",kl=new RegExp(At,"g"),Oi=new RegExp(er,"g"),Cl=new RegExp(n("[^]",Pi,"[\\.]",'[\\"]',Nn),"g"),Os=new RegExp(n("[^]",At,Fi),"g"),Ls=Os;function Da(Ee){var de=ke(Ee);return de.match(kl)?de:Ee}var Ja={scheme:"mailto",parse:function(de,Ce){var xe=de,Me=xe.to=xe.path?xe.path.split(","):[];if(xe.path=void 0,xe.query){for(var bt=!1,ct={},Ct=xe.query.split("&"),pr=0,Br=Ct.length;pr<Br;++pr){var Wt=Ct[pr].split("=");switch(Wt[0]){case"to":for(var cr=Wt[1].split(","),Sr=0,Ot=cr.length;Sr<Ot;++Sr)Me.push(cr[Sr]);break;case"subject":xe.subject=M(Wt[1],Ce);break;case"body":xe.body=M(Wt[1],Ce);break;default:bt=!0,ct[M(Wt[0],Ce)]=M(Wt[1],Ce);break}}bt&&(xe.headers=ct)}xe.query=void 0;for(var hr=0,_r=Me.length;hr<_r;++hr){var mr=Me[hr].split("@");if(mr[0]=M(mr[0]),Ce.unicodeSupport)mr[1]=M(mr[1],Ce).toLowerCase();else try{mr[1]=rt.toASCII(M(mr[1],Ce).toLowerCase())}catch(bn){xe.error=xe.error||"Email address's domain name can not be converted to ASCII via punycode: "+bn}Me[hr]=mr.join("@")}return xe},serialize:function(de,Ce){var xe=de,Me=l(de.to);if(Me){for(var bt=0,ct=Me.length;bt<ct;++bt){var Ct=String(Me[bt]),pr=Ct.lastIndexOf("@"),Br=Ct.slice(0,pr).replace(Oi,Da).replace(Oi,a).replace(Cl,je),Wt=Ct.slice(pr+1);try{Wt=Ce.iri?rt.toUnicode(Wt):rt.toASCII(M(Wt,Ce).toLowerCase())}catch(hr){xe.error=xe.error||"Email address's domain name can not be converted to "+(Ce.iri?"Unicode":"ASCII")+" via punycode: "+hr}Me[bt]=Br+"@"+Wt}xe.path=Me.join(",")}var cr=de.headers=de.headers||{};de.subject&&(cr.subject=de.subject),de.body&&(cr.body=de.body);var Sr=[];for(var Ot in cr)cr[Ot]!==qt[Ot]&&Sr.push(Ot.replace(Oi,Da).replace(Oi,a).replace(Os,je)+"="+cr[Ot].replace(Oi,Da).replace(Oi,a).replace(Ls,je));return Sr.length&&(xe.query=Sr.join("&")),xe}},Tl=/^([^\:]+)\:(.*)/,Aa={scheme:"urn",parse:function(de,Ce){var xe=de.path&&de.path.match(Tl),Me=de;if(xe){var bt=Ce.scheme||Me.scheme||"urn",ct=xe[1].toLowerCase(),Ct=xe[2],pr=bt+":"+(Ce.nid||ct),Br=Pe[pr];Me.nid=ct,Me.nss=Ct,Me.path=void 0,Br&&(Me=Br.parse(Me,Ce))}else Me.error=Me.error||"URN can not be parsed.";return Me},serialize:function(de,Ce){var xe=Ce.scheme||de.scheme||"urn",Me=de.nid,bt=xe+":"+(Ce.nid||Me),ct=Pe[bt];ct&&(de=ct.serialize(de,Ce));var Ct=de,pr=de.nss;return Ct.path=(Me||Ce.nid)+":"+pr,Ct}},Nl=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,hn={scheme:"urn:uuid",parse:function(de,Ce){var xe=de;return xe.uuid=xe.nss,xe.nss=void 0,!Ce.tolerant&&(!xe.uuid||!xe.uuid.match(Nl))&&(xe.error=xe.error||"UUID is not valid."),xe},serialize:function(de,Ce){var xe=de;return xe.nss=(de.uuid||"").toLowerCase(),xe}};Pe[ee.scheme]=ee,Pe[we.scheme]=we,Pe[Ve.scheme]=Ve,Pe[Nt.scheme]=Nt,Pe[Ja.scheme]=Ja,Pe[Aa.scheme]=Aa,Pe[hn.scheme]=hn,t.SCHEMES=Pe,t.pctEncChar=je,t.pctDecChars=ke,t.parse=sr,t.removeDotSegments=mt,t.serialize=Dt,t.resolveComponents=nt,t.resolve=pt,t.normalize=ze,t.equal=W,t.escapeComponent=P,t.unescapeComponent=M,Object.defineProperty(t,"__esModule",{value:!0})})})(Ih,Ih.exports);var pk=Ih.exports,td=function i(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,s;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!i(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){var a=s[r];if(!i(e[a],t[a]))return!1}return!0}return e!==e&&t!==t},_k=function(e){for(var t=0,n=e.length,r=0,s;r<n;)t++,s=e.charCodeAt(r++),s>=55296&&s<=56319&&r<n&&(s=e.charCodeAt(r),(s&64512)==56320&&r++);return t},bl={copy:vk,checkDataType:Rh,checkDataTypes:gk,coerceToTypes:mk,toHash:rd,getProperty:nd,escapeQuotes:id,equal:td,ucs2length:_k,varOccurences:yk,varReplace:Ek,schemaHasRules:Dk,schemaHasRulesExcept:Ak,schemaUnknownRules:kk,toQuotedString:Ph,getPathExpr:Ck,getPath:Tk,getData:Ik,unescapeFragment:Rk,unescapeJsonPointer:sd,escapeFragment:Pk,escapeJsonPointer:ad};function vk(i,e){e=e||{};for(var t in i)e[t]=i[t];return e}function Rh(i,e,t,n){var r=n?" !== ":" === ",s=n?" || ":" && ",a=n?"!":"",l=n?"":"!";switch(i){case"null":return e+r+"null";case"array":return a+"Array.isArray("+e+")";case"object":return"("+a+e+s+"typeof "+e+r+'"object"'+s+l+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+r+'"number"'+s+l+"("+e+" % 1)"+s+e+r+e+(t?s+a+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+r+'"'+i+'"'+(t?s+a+"isFinite("+e+")":"")+")";default:return"typeof "+e+r+'"'+i+'"'}}function gk(i,e,t){switch(i.length){case 1:return Rh(i[0],e,t,!0);default:var n="",r=rd(i);r.array&&r.object&&(n=r.null?"(":"(!"+e+" || ",n+="typeof "+e+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer;for(var s in r)n+=(n?" && ":"")+Rh(s,e,t,!0);return n}}var q_=rd(["string","number","integer","boolean","null"]);function mk(i,e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++){var r=e[n];(q_[r]||i==="array"&&r==="array")&&(t[t.length]=r)}if(t.length)return t}else{if(q_[e])return[e];if(i==="array"&&e==="array")return["array"]}}function rd(i){for(var e={},t=0;t<i.length;t++)e[i[t]]=!0;return e}var bk=/^[a-z$_][a-z$_0-9]*$/i,wk=/'|\\/g;function nd(i){return typeof i=="number"?"["+i+"]":bk.test(i)?"."+i:"['"+id(i)+"']"}function id(i){return i.replace(wk,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function yk(i,e){e+="[^0-9]";var t=i.match(new RegExp(e,"g"));return t?t.length:0}function Ek(i,e,t){return e+="([^0-9])",t=t.replace(/\$/g,"$$$$"),i.replace(new RegExp(e,"g"),t+"$1")}function Dk(i,e){if(typeof i=="boolean")return!i;for(var t in i)if(e[t])return!0}function Ak(i,e,t){if(typeof i=="boolean")return!i&&t!="not";for(var n in i)if(n!=t&&e[n])return!0}function kk(i,e){if(typeof i!="boolean"){for(var t in i)if(!e[t])return t}}function Ph(i){return"'"+id(i)+"'"}function Ck(i,e,t,n){var r=t?"'/' + "+e+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'";return g1(i,r)}function Tk(i,e,t){var n=Ph(t?"/"+ad(e):nd(e));return g1(i,n)}var Nk=/^\/(?:[^~]|~0|~1)*$/,Sk=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ik(i,e,t){var n,r,s,a;if(i==="")return"rootData";if(i[0]=="/"){if(!Nk.test(i))throw new Error("Invalid JSON-pointer: "+i);r=i,s="rootData"}else{if(a=i.match(Sk),!a)throw new Error("Invalid JSON-pointer: "+i);if(n=+a[1],r=a[2],r=="#"){if(n>=e)throw new Error("Cannot access property/index "+n+" levels up, current level is "+e);return t[e-n]}if(n>e)throw new Error("Cannot access data "+n+" levels up, current level is "+e);if(s="data"+(e-n||""),!r)return s}for(var l=s,u=r.split("/"),f=0;f<u.length;f++){var h=u[f];h&&(s+=nd(sd(h)),l+=" && "+s)}return l}function g1(i,e){return i=='""'?e:(i+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function Rk(i){return sd(decodeURIComponent(i))}function Pk(i){return encodeURIComponent(ad(i))}function ad(i){return i.replace(/~/g,"~0").replace(/\//g,"~1")}function sd(i){return i.replace(/~1/g,"/").replace(/~0/g,"~")}var Fk=bl,m1=Ok;function Ok(i){Fk.copy(i,this)}var b1={exports:{}},za=b1.exports=function(i,e,t){typeof e=="function"&&(t=e,e={}),t=e.cb||t;var n=typeof t=="function"?t:t.pre||function(){},r=t.post||function(){};ef(e,n,r,i,"",i)};za.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};za.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};za.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};za.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ef(i,e,t,n,r,s,a,l,u,f){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,r,s,a,l,u,f);for(var h in n){var v=n[h];if(Array.isArray(v)){if(h in za.arrayKeywords)for(var p=0;p<v.length;p++)ef(i,e,t,v[p],r+"/"+h+"/"+p,s,r,h,n,p)}else if(h in za.propsKeywords){if(v&&typeof v=="object")for(var d in v)ef(i,e,t,v[d],r+"/"+h+"/"+Lk(d),s,r,h,n,d)}else(h in za.keywords||i.allKeys&&!(h in za.skipKeywords))&&ef(i,e,t,v,r+"/"+h,s,r,h,n)}t(n,r,s,a,l,u,f)}}function Lk(i){return i.replace(/~/g,"~0").replace(/\//g,"~1")}var Bk=b1.exports,To=pk,j_=td,Sf=bl,cf=m1,Uk=Bk,ld=Xa;Xa.normalizeId=Va;Xa.fullPath=hf;Xa.url=df;Xa.ids=zk;Xa.inlineRef=Fh;Xa.schema=If;function Xa(i,e,t){var n=this._refs[t];if(typeof n=="string")if(this._refs[n])n=this._refs[n];else return Xa.call(this,i,e,n);if(n=n||this._schemas[t],n instanceof cf)return Fh(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var r=If.call(this,e,t),s,a,l;return r&&(s=r.schema,e=r.root,l=r.baseId),s instanceof cf?a=s.validate||i.call(this,s.schema,e,void 0,l):s!==void 0&&(a=Fh(s,this._opts.inlineRefs)?s:i.call(this,s,e,void 0,l)),a}function If(i,e){var t=To.parse(e),n=y1(t),r=hf(this._getId(i.schema));if(Object.keys(i.schema).length===0||n!==r){var s=Va(n),a=this._refs[s];if(typeof a=="string")return Mk.call(this,i,a,t);if(a instanceof cf)a.validate||this._compile(a),i=a;else if(a=this._schemas[s],a instanceof cf){if(a.validate||this._compile(a),s==Va(e))return{schema:a,root:i,baseId:r};i=a}else return;if(!i.schema)return;r=hf(this._getId(i.schema))}return w1.call(this,t,r,i.schema,i)}function Mk(i,e,t){var n=If.call(this,i,e);if(n){var r=n.schema,s=n.baseId;i=n.root;var a=this._getId(r);return a&&(s=df(s,a)),w1.call(this,t,s,r,i)}}var qk=Sf.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function w1(i,e,t,n){if(i.fragment=i.fragment||"",i.fragment.slice(0,1)=="/"){for(var r=i.fragment.split("/"),s=1;s<r.length;s++){var a=r[s];if(a){if(a=Sf.unescapeFragment(a),t=t[a],t===void 0)break;var l;if(!qk[a]&&(l=this._getId(t),l&&(e=df(e,l)),t.$ref)){var u=df(e,t.$ref),f=If.call(this,n,u);f&&(t=f.schema,n=f.root,e=f.baseId)}}}if(t!==void 0&&t!==n.schema)return{schema:t,root:n,baseId:e}}}var jk=Sf.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function Fh(i,e){if(e===!1)return!1;if(e===void 0||e===!0)return Oh(i);if(e)return Lh(i)<=e}function Oh(i){var e;if(Array.isArray(i)){for(var t=0;t<i.length;t++)if(e=i[t],typeof e=="object"&&!Oh(e))return!1}else for(var n in i)if(n=="$ref"||(e=i[n],typeof e=="object"&&!Oh(e)))return!1;return!0}function Lh(i){var e=0,t;if(Array.isArray(i)){for(var n=0;n<i.length;n++)if(t=i[n],typeof t=="object"&&(e+=Lh(t)),e==1/0)return 1/0}else for(var r in i){if(r=="$ref")return 1/0;if(jk[r])e++;else if(t=i[r],typeof t=="object"&&(e+=Lh(t)+1),e==1/0)return 1/0}return e}function hf(i,e){e!==!1&&(i=Va(i));var t=To.parse(i);return y1(t)}function y1(i){return To.serialize(i).split("#")[0]+"#"}var xk=/#\/?$/;function Va(i){return i?i.replace(xk,""):""}function df(i,e){return e=Va(e),To.resolve(i,e)}function zk(i){var e=Va(this._getId(i)),t={"":e},n={"":hf(e,!1)},r={},s=this;return Uk(i,{allKeys:!0},function(a,l,u,f,h,v,p){if(l!==""){var d=s._getId(a),_=t[f],g=n[f]+"/"+h;if(p!==void 0&&(g+="/"+(typeof p=="number"?p:Sf.escapeFragment(p))),typeof d=="string"){d=_=Va(_?To.resolve(_,d):d);var b=s._refs[d];if(typeof b=="string"&&(b=s._refs[b]),b&&b.schema){if(!j_(a,b.schema))throw new Error('id "'+d+'" resolves to more than one schema')}else if(d!=Va(g))if(d[0]=="#"){if(r[d]&&!j_(a,r[d]))throw new Error('id "'+d+'" resolves to more than one schema');r[d]=a}else s._refs[d]=g}t[l]=_,n[l]=g}}),r}var ch=ld,od={Validation:x_(Vk),MissingRef:x_(ud)};function Vk(i){this.message="validation failed",this.errors=i,this.ajv=this.validation=!0}ud.message=function(i,e){return"can't resolve reference "+e+" from id "+i};function ud(i,e,t){this.message=t||ud.message(i,e),this.missingRef=ch.url(i,e),this.missingSchema=ch.normalizeId(ch.fullPath(this.missingRef))}function x_(i){return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var E1=function(i,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var t=typeof e.cycles=="boolean"?e.cycles:!1,n=e.cmp&&function(s){return function(a){return function(l,u){var f={key:l,value:a[l]},h={key:u,value:a[u]};return s(f,h)}}}(e.cmp),r=[];return function s(a){if(a&&a.toJSON&&typeof a.toJSON=="function"&&(a=a.toJSON()),a!==void 0){if(typeof a=="number")return isFinite(a)?""+a:"null";if(typeof a!="object")return JSON.stringify(a);var l,u;if(Array.isArray(a)){for(u="[",l=0;l<a.length;l++)l&&(u+=","),u+=s(a[l])||"null";return u+"]"}if(a===null)return"null";if(r.indexOf(a)!==-1){if(t)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var f=r.push(a)-1,h=Object.keys(a).sort(n&&n(a));for(u="",l=0;l<h.length;l++){var v=h[l],p=s(a[v]);p&&(u&&(u+=","),u+=JSON.stringify(v)+":"+p)}return r.splice(f,1),"{"+u+"}"}}(i)},D1=function(e,t,n){var r="",s=e.schema.$async===!0,a=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),l=e.self._getId(e.schema);if(e.opts.strictKeywords){var u=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(u){var f="unknown keyword: "+u;if(e.opts.strictKeywords==="log")e.logger.warn(f);else throw new Error(f)}}if(e.isTop&&(r+=" var validate = ",s&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",l&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" "+("/*# sourceURL="+l+" */")+" ")),typeof e.schema=="boolean"||!(a||e.schema.$ref)){var t="false schema",h=e.level,v=e.dataLevel,p=e.schema[t],d=e.schemaPath+e.util.getProperty(t),_=e.errSchemaPath+"/"+t,y=!e.opts.allErrors,q,g="data"+(v||""),O="valid"+h;if(e.schema===!1){e.isTop?y=!0:r+=" var "+O+" = false; ";var b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(q||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(_)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),r+=" } "):r+=" {} ";var D=r;r=b.pop(),!e.compositeRule&&y?e.async?r+=" throw new ValidationError(["+D+"]); ":r+=" validate.errors = ["+D+"]; return false; ":r+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?s?r+=" return data; ":r+=" validate.errors = null; return true; ":r+=" var "+O+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var B=e.isTop,h=e.level=0,v=e.dataLevel=0,g="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var S="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn(S);else throw new Error(S)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{var h=e.level,v=e.dataLevel,g="data"+(v||"");if(l&&(e.baseId=e.resolve.url(e.baseId,l)),s&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+h+" = errors;"}var O="valid"+h,y=!e.opts.allErrors,N="",T="",q,F=e.schema.type,j=Array.isArray(F);if(F&&e.opts.nullable&&e.schema.nullable===!0&&(j?F.indexOf("null")==-1&&(F=F.concat("null")):F!="null"&&(F=[F,"null"],j=!0)),j&&F.length==1&&(F=F[0],j=!1),e.schema.$ref&&a){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(a=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),F){if(e.opts.coerceTypes)var A=e.util.coerceToTypes(e.opts.coerceTypes,F);var L=e.RULES.types[F];if(A||j||L===!0||L&&!nr(L)){var d=e.schemaPath+".type",_=e.errSchemaPath+"/type",d=e.schemaPath+".type",_=e.errSchemaPath+"/type",k=j?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[k](F,g,e.opts.strictNumbers,!0)+") { ",A){var R="dataType"+h,K="coerced"+h;r+=" var "+R+" = typeof "+g+"; var "+K+" = undefined; ",e.opts.coerceTypes=="array"&&(r+=" if ("+R+" == 'object' && Array.isArray("+g+") && "+g+".length == 1) { "+g+" = "+g+"[0]; "+R+" = typeof "+g+"; if ("+e.util.checkDataType(e.schema.type,g,e.opts.strictNumbers)+") "+K+" = "+g+"; } "),r+=" if ("+K+" !== undefined) ; ";var z=A;if(z)for(var fe,re=-1,te=z.length-1;re<te;)fe=z[re+=1],fe=="string"?r+=" else if ("+R+" == 'number' || "+R+" == 'boolean') "+K+" = '' + "+g+"; else if ("+g+" === null) "+K+" = ''; ":fe=="number"||fe=="integer"?(r+=" else if ("+R+" == 'boolean' || "+g+" === null || ("+R+" == 'string' && "+g+" && "+g+" == +"+g+" ",fe=="integer"&&(r+=" && !("+g+" % 1)"),r+=")) "+K+" = +"+g+"; "):fe=="boolean"?r+=" else if ("+g+" === 'false' || "+g+" === 0 || "+g+" === null) "+K+" = false; else if ("+g+" === 'true' || "+g+" === 1) "+K+" = true; ":fe=="null"?r+=" else if ("+g+" === '' || "+g+" === 0 || "+g+" === false) "+K+" = null; ":e.opts.coerceTypes=="array"&&fe=="array"&&(r+=" else if ("+R+" == 'string' || "+R+" == 'number' || "+R+" == 'boolean' || "+g+" == null) "+K+" = ["+g+"]; ");r+=" else {   ";var b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(q||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(_)+" , params: { type: '",j?r+=""+F.join(","):r+=""+F,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",j?r+=""+F.join(","):r+=""+F,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),r+=" } "):r+=" {} ";var D=r;r=b.pop(),!e.compositeRule&&y?e.async?r+=" throw new ValidationError(["+D+"]); ":r+=" validate.errors = ["+D+"]; return false; ":r+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+K+" !== undefined) {  ";var G=v?"data"+(v-1||""):"parentData",Q=v?e.dataPathArr[v]:"parentDataProperty";r+=" "+g+" = "+K+"; ",v||(r+="if ("+G+" !== undefined)"),r+=" "+G+"["+Q+"] = "+K+"; } "}else{var b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(q||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(_)+" , params: { type: '",j?r+=""+F.join(","):r+=""+F,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",j?r+=""+F.join(","):r+=""+F,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),r+=" } "):r+=" {} ";var D=r;r=b.pop(),!e.compositeRule&&y?e.async?r+=" throw new ValidationError(["+D+"]); ":r+=" validate.errors = ["+D+"]; return false; ":r+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" } "}}if(e.schema.$ref&&!a)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",y&&(r+=" } if (errors === ",B?r+="0":r+="errs_"+h,r+=") { ",T+="}");else{var pe=e.RULES;if(pe){for(var L,J=-1,_e=pe.length-1;J<_e;)if(L=pe[J+=1],nr(L)){if(L.type&&(r+=" if ("+e.util.checkDataType(L.type,g,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(L.type=="object"&&e.schema.properties){var p=e.schema.properties,tt=Object.keys(p),rt=tt;if(rt)for(var Pe,je=-1,ke=rt.length-1;je<ke;){Pe=rt[je+=1];var He=p[Pe];if(He.default!==void 0){var ot=g+e.util.getProperty(Pe);if(e.compositeRule){if(e.opts.strictDefaults){var S="default is ignored for: "+ot;if(e.opts.strictDefaults==="log")e.logger.warn(S);else throw new Error(S)}}else r+=" if ("+ot+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+ot+" === null || "+ot+" === '' "),r+=" ) "+ot+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(He.default)+" ":r+=" "+JSON.stringify(He.default)+" ",r+="; "}}}else if(L.type=="array"&&Array.isArray(e.schema.items)){var kt=e.schema.items;if(kt){for(var He,re=-1,Re=kt.length-1;re<Re;)if(He=kt[re+=1],He.default!==void 0){var ot=g+"["+re+"]";if(e.compositeRule){if(e.opts.strictDefaults){var S="default is ignored for: "+ot;if(e.opts.strictDefaults==="log")e.logger.warn(S);else throw new Error(S)}}else r+=" if ("+ot+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+ot+" === null || "+ot+" === '' "),r+=" ) "+ot+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(He.default)+" ":r+=" "+JSON.stringify(He.default)+" ",r+="; "}}}}var le=L.rules;if(le){for(var Ue,sr=-1,Yt=le.length-1;sr<Yt;)if(Ue=le[sr+=1],Nr(Ue)){var Tr=Ue.code(e,Ue.keyword,L.type);Tr&&(r+=" "+Tr+" ",y&&(N+="}"))}}if(y&&(r+=" "+N+" ",N=""),L.type&&(r+=" } ",F&&F===L.type&&!A)){r+=" else { ";var d=e.schemaPath+".type",_=e.errSchemaPath+"/type",b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(q||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(_)+" , params: { type: '",j?r+=""+F.join(","):r+=""+F,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",j?r+=""+F.join(","):r+=""+F,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),r+=" } "):r+=" {} ";var D=r;r=b.pop(),!e.compositeRule&&y?e.async?r+=" throw new ValidationError(["+D+"]); ":r+=" validate.errors = ["+D+"]; return false; ":r+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}y&&(r+=" if (errors === ",B?r+="0":r+="errs_"+h,r+=") { ",T+="}")}}}y&&(r+=" "+T+" "),B?(s?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+O+" = errors === errs_"+h+";";function nr(mt){for(var Dt=mt.rules,nt=0;nt<Dt.length;nt++)if(Nr(Dt[nt]))return!0}function Nr(mt){return e.schema[mt.keyword]!==void 0||mt.implements&&fr(mt)}function fr(mt){for(var Dt=mt.implements,nt=0;nt<Dt.length;nt++)if(e.schema[Dt[nt]]!==void 0)return!0}return r},zu=ld,pf=bl,A1=od,Hk=E1,z_=D1,$k=pf.ucs2length,Gk=td,Xk=A1.Validation,Wk=Bh;function Bh(i,e,t,n){var r=this,s=this._opts,a=[void 0],l={},u=[],f={},h=[],v={},p=[];e=e||{schema:i,refVal:a,refs:l};var d=Qk.call(this,i,e,n),_=this._compilations[d.index];if(d.compiling)return _.callValidate=S;var g=this._formats,b=this.RULES;try{var D=O(i,e,t,n);_.validate=D;var B=_.callValidate;return B&&(B.schema=D.schema,B.errors=null,B.refs=D.refs,B.refVal=D.refVal,B.root=D.root,B.$async=D.$async,s.sourceCode&&(B.source=D.source)),D}finally{Yk.call(this,i,e,n)}function S(){var k=_.validate,R=k.apply(this,arguments);return S.errors=k.errors,R}function O(k,R,K,z){var fe=!R||R&&R.schema==k;if(R.schema!=e.schema)return Bh.call(r,k,R,K,z);var re=k.$async===!0,te=z_({isTop:!0,schema:k,isRoot:fe,baseId:z,root:R,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:A1.MissingRef,RULES:b,validate:z_,util:pf,resolve:zu,resolveRef:y,usePattern:j,useDefault:A,useCustomRule:L,opts:s,formats:g,logger:r.logger,self:r});te=Vu(a,Zk)+Vu(u,Kk)+Vu(h,Jk)+Vu(p,eC)+te,s.processCode&&(te=s.processCode(te,k));var G;try{var Q=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",te);G=Q(r,b,g,e,a,h,p,Gk,$k,Xk),a[0]=G}catch(pe){throw r.logger.error("Error compiling schema, function code:",te),pe}return G.schema=k,G.errors=null,G.refs=l,G.refVal=a,G.root=fe?G:R,re&&(G.$async=!0),s.sourceCode===!0&&(G.source={code:te,patterns:u,defaults:h}),G}function y(k,R,K){R=zu.url(k,R);var z=l[R],fe,re;if(z!==void 0)return fe=a[z],re="refVal["+z+"]",F(fe,re);if(!K&&e.refs){var te=e.refs[R];if(te!==void 0)return fe=e.refVal[te],re=N(R,fe),F(fe,re)}re=N(R);var G=zu.call(r,O,e,R);if(G===void 0){var Q=t&&t[R];Q&&(G=zu.inlineRef(Q,s.inlineRefs)?Q:Bh.call(r,Q,e,t,k))}if(G===void 0)T(R);else return q(R,G),F(G,re)}function N(k,R){var K=a.length;return a[K]=R,l[k]=K,"refVal"+K}function T(k){delete l[k]}function q(k,R){var K=l[k];a[K]=R}function F(k,R){return typeof k=="object"||typeof k=="boolean"?{code:R,schema:k,inline:!0}:{code:R,$async:k&&!!k.$async}}function j(k){var R=f[k];return R===void 0&&(R=f[k]=u.length,u[R]=k),"pattern"+R}function A(k){switch(typeof k){case"boolean":case"number":return""+k;case"string":return pf.toQuotedString(k);case"object":if(k===null)return"null";var R=Hk(k),K=v[R];return K===void 0&&(K=v[R]=h.length,h[K]=k),"default"+K}}function L(k,R,K,z){if(r._opts.validateSchema!==!1){var fe=k.definition.dependencies;if(fe&&!fe.every(function(rt){return Object.prototype.hasOwnProperty.call(K,rt)}))throw new Error("parent schema must have all required keywords: "+fe.join(","));var re=k.definition.validateSchema;if(re){var te=re(R);if(!te){var G="keyword schema is invalid: "+r.errorsText(re.errors);if(r._opts.validateSchema=="log")r.logger.error(G);else throw new Error(G)}}}var Q=k.definition.compile,pe=k.definition.inline,J=k.definition.macro,_e;if(Q)_e=Q.call(r,R,K,z);else if(J)_e=J.call(r,R,K,z),s.validateSchema!==!1&&r.validateSchema(_e,!0);else if(pe)_e=pe.call(r,z,k.keyword,R,K);else if(_e=k.definition.validate,!_e)return;if(_e===void 0)throw new Error('custom keyword "'+k.keyword+'"failed to compile');var tt=p.length;return p[tt]=_e,{code:"customRule"+tt,validate:_e}}}function Qk(i,e,t){var n=k1.call(this,i,e,t);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:i,root:e,baseId:t},{index:n,compiling:!1})}function Yk(i,e,t){var n=k1.call(this,i,e,t);n>=0&&this._compilations.splice(n,1)}function k1(i,e,t){for(var n=0;n<this._compilations.length;n++){var r=this._compilations[n];if(r.schema==i&&r.root==e&&r.baseId==t)return n}return-1}function Kk(i,e){return"var pattern"+i+" = new RegExp("+pf.toQuotedString(e[i])+");"}function Jk(i){return"var default"+i+" = defaults["+i+"];"}function Zk(i,e){return e[i]===void 0?"":"var refVal"+i+" = refVal["+i+"];"}function eC(i){return"var customRule"+i+" = customRules["+i+"];"}function Vu(i,e){if(!i.length)return"";for(var t="",n=0;n<i.length;n++)t+=e(n,i);return t}var C1={exports:{}},Rf=C1.exports=function(){this._cache={}};Rf.prototype.put=function(e,t){this._cache[e]=t};Rf.prototype.get=function(e){return this._cache[e]};Rf.prototype.del=function(e){delete this._cache[e]};Rf.prototype.clear=function(){this._cache={}};var tC=C1.exports,rC=bl,nC=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,iC=[0,31,28,31,30,31,30,31,31,30,31,30,31],aC=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,T1=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,sC=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,lC=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,N1=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,S1=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,I1=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,R1=/^(?:\/(?:[^~/]|~0|~1)*)*$/,P1=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,F1=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,oC=Pf;function Pf(i){return i=i=="full"?"full":"fast",rC.copy(Pf[i])}Pf.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":N1,url:S1,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:T1,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:B1,uuid:I1,"json-pointer":R1,"json-pointer-uri-fragment":P1,"relative-json-pointer":F1};Pf.full={date:O1,time:L1,"date-time":cC,uri:dC,"uri-reference":lC,"uri-template":N1,url:S1,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:T1,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:B1,uuid:I1,"json-pointer":R1,"json-pointer-uri-fragment":P1,"relative-json-pointer":F1};function uC(i){return i%4===0&&(i%100!==0||i%400===0)}function O1(i){var e=i.match(nC);if(!e)return!1;var t=+e[1],n=+e[2],r=+e[3];return n>=1&&n<=12&&r>=1&&r<=(n==2&&uC(t)?29:iC[n])}function L1(i,e){var t=i.match(aC);if(!t)return!1;var n=t[1],r=t[2],s=t[3],a=t[5];return(n<=23&&r<=59&&s<=59||n==23&&r==59&&s==60)&&(!e||a)}var fC=/t|\s/i;function cC(i){var e=i.split(fC);return e.length==2&&O1(e[0])&&L1(e[1],!0)}var hC=/\/|:/;function dC(i){return hC.test(i)&&sC.test(i)}var pC=/[^\\]\\Z/;function B1(i){if(pC.test(i))return!1;try{return new RegExp(i),!0}catch{return!1}}var _C=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,h="data"+(a||""),v="valid"+s,p,d;if(l=="#"||l=="#/")e.isRoot?(p=e.async,d="validate"):(p=e.root.schema.$async===!0,d="root.refVal[0]");else{var _=e.resolveRef(e.baseId,l,e.isRoot);if(_===void 0){var g=e.MissingRefError.message(e.baseId,l);if(e.opts.missingRefs=="fail"){e.logger.error(g);var b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",e.opts.messages!==!1&&(r+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(r+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var D=r;r=b.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+D+"]); ":r+=" validate.errors = ["+D+"]; return false; ":r+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",f&&(r+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(g),f&&(r+=" if (true) { ");else throw new e.MissingRefError(e.baseId,l,g)}else if(_.inline){var B=e.util.copy(e);B.level++;var S="valid"+B.level;B.schema=_.schema,B.schemaPath="",B.errSchemaPath=l;var O=e.validate(B).replace(/validate\.schema/g,_.code);r+=" "+O+" ",f&&(r+=" if ("+S+") { ")}else p=_.$async===!0||e.async&&_.$async!==!1,d=_.code}if(d){var b=b||[];b.push(r),r="",e.opts.passContext?r+=" "+d+".call(this, ":r+=" "+d+"( ",r+=" "+h+", (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var y=a?"data"+(a-1||""):"parentData",N=a?e.dataPathArr[a]:"parentDataProperty";r+=" , "+y+" , "+N+", rootData)  ";var T=r;if(r=b.pop(),p){if(!e.async)throw new Error("async schema referenced by sync schema");f&&(r+=" var "+v+"; "),r+=" try { await "+T+"; ",f&&(r+=" "+v+" = true; "),r+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",f&&(r+=" "+v+" = false; "),r+=" } ",f&&(r+=" if ("+v+") { ")}else r+=" if (!"+T+") { if (vErrors === null) vErrors = "+d+".errors; else vErrors = vErrors.concat("+d+".errors); errors = vErrors.length; } ",f&&(r+=" else { ")}return r},vC=function(e,t,n){var r=" ",s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,f=e.util.copy(e),h="";f.level++;var v="valid"+f.level,p=f.baseId,d=!0,_=s;if(_)for(var g,b=-1,D=_.length-1;b<D;)g=_[b+=1],(e.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:e.util.schemaHasRules(g,e.RULES.all))&&(d=!1,f.schema=g,f.schemaPath=a+"["+b+"]",f.errSchemaPath=l+"/"+b,r+="  "+e.validate(f)+" ",f.baseId=p,u&&(r+=" if ("+v+") { ",h+="}"));return u&&(d?r+=" if (true) { ":r+=" "+h.slice(0,-1)+" "),r},gC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="valid"+s,d="errs__"+s,_=e.util.copy(e),g="";_.level++;var b="valid"+_.level,D=l.every(function(q){return e.opts.strictKeywords?typeof q=="object"&&Object.keys(q).length>0||q===!1:e.util.schemaHasRules(q,e.RULES.all)});if(D){var B=_.baseId;r+=" var "+d+" = errors; var "+p+" = false;  ";var S=e.compositeRule;e.compositeRule=_.compositeRule=!0;var O=l;if(O)for(var y,N=-1,T=O.length-1;N<T;)y=O[N+=1],_.schema=y,_.schemaPath=u+"["+N+"]",_.errSchemaPath=f+"/"+N,r+="  "+e.validate(_)+" ",_.baseId=B,r+=" "+p+" = "+p+" || "+b+"; if (!"+p+") { ",g+="}";e.compositeRule=_.compositeRule=S,r+=" "+g+" if (!"+p+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else h&&(r+=" if (true) { ");return r},mC=function(e,t,n){var r=" ",s=e.schema[t],a=e.errSchemaPath+"/"+t;e.opts.allErrors;var l=e.util.toQuotedString(s);return e.opts.$comment===!0?r+=" console.log("+l+");":typeof e.opts.$comment=="function"&&(r+=" self._opts.$comment("+l+", "+e.util.toQuotedString(a)+", validate.root.schema);"),r},bC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="valid"+s,d=e.opts.$data&&l&&l.$data;d&&(r+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; "),d||(r+=" var schema"+s+" = validate.schema"+u+";"),r+="var "+p+" = equal("+v+", schema"+s+"); if (!"+p+") {   ";var _=_||[];_.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { allowedValue: schema"+s+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var g=r;return r=_.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",h&&(r+=" else { "),r},wC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="valid"+s,d="errs__"+s,_=e.util.copy(e),g="";_.level++;var b="valid"+_.level,D="i"+s,B=_.dataLevel=e.dataLevel+1,S="data"+B,O=e.baseId,y=e.opts.strictKeywords?typeof l=="object"&&Object.keys(l).length>0||l===!1:e.util.schemaHasRules(l,e.RULES.all);if(r+="var "+d+" = errors;var "+p+";",y){var N=e.compositeRule;e.compositeRule=_.compositeRule=!0,_.schema=l,_.schemaPath=u,_.errSchemaPath=f,r+=" var "+b+" = false; for (var "+D+" = 0; "+D+" < "+v+".length; "+D+"++) { ",_.errorPath=e.util.getPathExpr(e.errorPath,D,e.opts.jsonPointers,!0);var T=v+"["+D+"]";_.dataPathArr[B]=D;var q=e.validate(_);_.baseId=O,e.util.varOccurences(q,S)<2?r+=" "+e.util.varReplace(q,S,T)+" ":r+=" var "+S+" = "+T+"; "+q+" ",r+=" if ("+b+") break; }  ",e.compositeRule=_.compositeRule=N,r+=" "+g+" if (!"+b+") {"}else r+=" if ("+v+".length == 0) {";var F=F||[];F.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var j=r;return r=F.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+j+"]); ":r+=" validate.errors = ["+j+"]; return false; ":r+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",y&&(r+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r},yC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="errs__"+s,d=e.util.copy(e),_="";d.level++;var g="valid"+d.level,b={},D={},B=e.opts.ownProperties;for(N in l)if(N!="__proto__"){var S=l[N],O=Array.isArray(S)?D:b;O[N]=S}r+="var "+p+" = errors;";var y=e.errorPath;r+="var missing"+s+";";for(var N in D)if(O=D[N],O.length){if(r+=" if ( "+v+e.util.getProperty(N)+" !== undefined ",B&&(r+=" && Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(N)+"') "),h){r+=" && ( ";var T=O;if(T)for(var q,F=-1,j=T.length-1;F<j;){q=T[F+=1],F&&(r+=" || ");var A=e.util.getProperty(q),L=v+A;r+=" ( ( "+L+" === undefined ",B&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(q)+"') "),r+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?q:A)+") ) "}r+=")) {  ";var k="missing"+s,R="' + "+k+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(y,k,!0):y+" + "+k);var K=K||[];K.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { property: '"+e.util.escapeQuotes(N)+"', missingProperty: '"+R+"', depsCount: "+O.length+", deps: '"+e.util.escapeQuotes(O.length==1?O[0]:O.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",O.length==1?r+="property "+e.util.escapeQuotes(O[0]):r+="properties "+e.util.escapeQuotes(O.join(", ")),r+=" when property "+e.util.escapeQuotes(N)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var z=r;r=K.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+z+"]); ":r+=" validate.errors = ["+z+"]; return false; ":r+=" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var fe=O;if(fe)for(var q,re=-1,te=fe.length-1;re<te;){q=fe[re+=1];var A=e.util.getProperty(q),R=e.util.escapeQuotes(q),L=v+A;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(y,q,e.opts.jsonPointers)),r+=" if ( "+L+" === undefined ",B&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(q)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { property: '"+e.util.escapeQuotes(N)+"', missingProperty: '"+R+"', depsCount: "+O.length+", deps: '"+e.util.escapeQuotes(O.length==1?O[0]:O.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",O.length==1?r+="property "+e.util.escapeQuotes(O[0]):r+="properties "+e.util.escapeQuotes(O.join(", ")),r+=" when property "+e.util.escapeQuotes(N)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",h&&(_+="}",r+=" else { ")}e.errorPath=y;var G=d.baseId;for(var N in b){var S=b[N];(e.opts.strictKeywords?typeof S=="object"&&Object.keys(S).length>0||S===!1:e.util.schemaHasRules(S,e.RULES.all))&&(r+=" "+g+" = true; if ( "+v+e.util.getProperty(N)+" !== undefined ",B&&(r+=" && Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(N)+"') "),r+=") { ",d.schema=S,d.schemaPath=u+e.util.getProperty(N),d.errSchemaPath=f+"/"+e.util.escapeFragment(N),r+="  "+e.validate(d)+" ",d.baseId=G,r+=" }  ",h&&(r+=" if ("+g+") { ",_+="}"))}return h&&(r+="   "+_+" if ("+p+" == errors) {"),r},EC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="valid"+s,d=e.opts.$data&&l&&l.$data;d&&(r+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ");var _="i"+s,g="schema"+s;d||(r+=" var "+g+" = validate.schema"+u+";"),r+="var "+p+";",d&&(r+=" if (schema"+s+" === undefined) "+p+" = true; else if (!Array.isArray(schema"+s+")) "+p+" = false; else {"),r+=""+p+" = false;for (var "+_+"=0; "+_+"<"+g+".length; "+_+"++) if (equal("+v+", "+g+"["+_+"])) { "+p+" = true; break; }",d&&(r+="  }  "),r+=" if (!"+p+") {   ";var b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { allowedValues: schema"+s+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var D=r;return r=b.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+D+"]); ":r+=" validate.errors = ["+D+"]; return false; ":r+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",h&&(r+=" else { "),r},DC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||"");if(e.opts.format===!1)return h&&(r+=" if (true) { "),r;var p=e.opts.$data&&l&&l.$data,d;p?(r+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",d="schema"+s):d=l;var _=e.opts.unknownFormats,g=Array.isArray(_);if(p){var b="format"+s,D="isObject"+s,B="formatType"+s;r+=" var "+b+" = formats["+d+"]; var "+D+" = typeof "+b+" == 'object' && !("+b+" instanceof RegExp) && "+b+".validate; var "+B+" = "+D+" && "+b+".type || 'string'; if ("+D+") { ",e.async&&(r+=" var async"+s+" = "+b+".async; "),r+=" "+b+" = "+b+".validate; } if (  ",p&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),r+=" (",_!="ignore"&&(r+=" ("+d+" && !"+b+" ",g&&(r+=" && self._opts.unknownFormats.indexOf("+d+") == -1 "),r+=") || "),r+=" ("+b+" && "+B+" == '"+n+"' && !(typeof "+b+" == 'function' ? ",e.async?r+=" (async"+s+" ? await "+b+"("+v+") : "+b+"("+v+")) ":r+=" "+b+"("+v+") ",r+=" : "+b+".test("+v+"))))) {"}else{var b=e.formats[l];if(!b){if(_=="ignore")return e.logger.warn('unknown format "'+l+'" ignored in schema at path "'+e.errSchemaPath+'"'),h&&(r+=" if (true) { "),r;if(g&&_.indexOf(l)>=0)return h&&(r+=" if (true) { "),r;throw new Error('unknown format "'+l+'" is used in schema at path "'+e.errSchemaPath+'"')}var D=typeof b=="object"&&!(b instanceof RegExp)&&b.validate,B=D&&b.type||"string";if(D){var S=b.async===!0;b=b.validate}if(B!=n)return h&&(r+=" if (true) { "),r;if(S){if(!e.async)throw new Error("async format in sync schema");var O="formats"+e.util.getProperty(l)+".validate";r+=" if (!(await "+O+"("+v+"))) { "}else{r+=" if (! ";var O="formats"+e.util.getProperty(l);D&&(O+=".validate"),typeof b=="function"?r+=" "+O+"("+v+") ":r+=" "+O+".test("+v+") ",r+=") { "}}var y=y||[];y.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { format:  ",p?r+=""+d:r+=""+e.util.toQuotedString(l),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match format "`,p?r+="' + "+d+" + '":r+=""+e.util.escapeQuotes(l),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+u:r+=""+e.util.toQuotedString(l),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var N=r;return r=y.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+N+"]); ":r+=" validate.errors = ["+N+"]; return false; ":r+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",h&&(r+=" else { "),r},AC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="valid"+s,d="errs__"+s,_=e.util.copy(e);_.level++;var g="valid"+_.level,b=e.schema.then,D=e.schema.else,B=b!==void 0&&(e.opts.strictKeywords?typeof b=="object"&&Object.keys(b).length>0||b===!1:e.util.schemaHasRules(b,e.RULES.all)),S=D!==void 0&&(e.opts.strictKeywords?typeof D=="object"&&Object.keys(D).length>0||D===!1:e.util.schemaHasRules(D,e.RULES.all)),O=_.baseId;if(B||S){var y;_.createErrors=!1,_.schema=l,_.schemaPath=u,_.errSchemaPath=f,r+=" var "+d+" = errors; var "+p+" = true;  ";var N=e.compositeRule;e.compositeRule=_.compositeRule=!0,r+="  "+e.validate(_)+" ",_.baseId=O,_.createErrors=!0,r+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }  ",e.compositeRule=_.compositeRule=N,B?(r+=" if ("+g+") {  ",_.schema=e.schema.then,_.schemaPath=e.schemaPath+".then",_.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(_)+" ",_.baseId=O,r+=" "+p+" = "+g+"; ",B&&S?(y="ifClause"+s,r+=" var "+y+" = 'then'; "):y="'then'",r+=" } ",S&&(r+=" else { ")):r+=" if (!"+g+") { ",S&&(_.schema=e.schema.else,_.schemaPath=e.schemaPath+".else",_.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(_)+" ",_.baseId=O,r+=" "+p+" = "+g+"; ",B&&S?(y="ifClause"+s,r+=" var "+y+" = 'else'; "):y="'else'",r+=" } "),r+=" if (!"+p+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { failingKeyword: "+y+" } ",e.opts.messages!==!1&&(r+=` , message: 'should match "' + `+y+` + '" schema' `),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",h&&(r+=" else { ")}else h&&(r+=" if (true) { ");return r},kC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="valid"+s,d="errs__"+s,_=e.util.copy(e),g="";_.level++;var b="valid"+_.level,D="i"+s,B=_.dataLevel=e.dataLevel+1,S="data"+B,O=e.baseId;if(r+="var "+d+" = errors;var "+p+";",Array.isArray(l)){var y=e.schema.additionalItems;if(y===!1){r+=" "+p+" = "+v+".length <= "+l.length+"; ";var N=f;f=e.errSchemaPath+"/additionalItems",r+="  if (!"+p+") {   ";var T=T||[];T.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { limit: "+l.length+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have more than "+l.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var q=r;r=T.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+q+"]); ":r+=" validate.errors = ["+q+"]; return false; ":r+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",f=N,h&&(g+="}",r+=" else { ")}var F=l;if(F){for(var j,A=-1,L=F.length-1;A<L;)if(j=F[A+=1],e.opts.strictKeywords?typeof j=="object"&&Object.keys(j).length>0||j===!1:e.util.schemaHasRules(j,e.RULES.all)){r+=" "+b+" = true; if ("+v+".length > "+A+") { ";var k=v+"["+A+"]";_.schema=j,_.schemaPath=u+"["+A+"]",_.errSchemaPath=f+"/"+A,_.errorPath=e.util.getPathExpr(e.errorPath,A,e.opts.jsonPointers,!0),_.dataPathArr[B]=A;var R=e.validate(_);_.baseId=O,e.util.varOccurences(R,S)<2?r+=" "+e.util.varReplace(R,S,k)+" ":r+=" var "+S+" = "+k+"; "+R+" ",r+=" }  ",h&&(r+=" if ("+b+") { ",g+="}")}}if(typeof y=="object"&&(e.opts.strictKeywords?typeof y=="object"&&Object.keys(y).length>0||y===!1:e.util.schemaHasRules(y,e.RULES.all))){_.schema=y,_.schemaPath=e.schemaPath+".additionalItems",_.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+b+" = true; if ("+v+".length > "+l.length+") {  for (var "+D+" = "+l.length+"; "+D+" < "+v+".length; "+D+"++) { ",_.errorPath=e.util.getPathExpr(e.errorPath,D,e.opts.jsonPointers,!0);var k=v+"["+D+"]";_.dataPathArr[B]=D;var R=e.validate(_);_.baseId=O,e.util.varOccurences(R,S)<2?r+=" "+e.util.varReplace(R,S,k)+" ":r+=" var "+S+" = "+k+"; "+R+" ",h&&(r+=" if (!"+b+") break; "),r+=" } }  ",h&&(r+=" if ("+b+") { ",g+="}")}}else if(e.opts.strictKeywords?typeof l=="object"&&Object.keys(l).length>0||l===!1:e.util.schemaHasRules(l,e.RULES.all)){_.schema=l,_.schemaPath=u,_.errSchemaPath=f,r+="  for (var "+D+" = 0; "+D+" < "+v+".length; "+D+"++) { ",_.errorPath=e.util.getPathExpr(e.errorPath,D,e.opts.jsonPointers,!0);var k=v+"["+D+"]";_.dataPathArr[B]=D;var R=e.validate(_);_.baseId=O,e.util.varOccurences(R,S)<2?r+=" "+e.util.varReplace(R,S,k)+" ":r+=" var "+S+" = "+k+"; "+R+" ",h&&(r+=" if (!"+b+") break; "),r+=" }"}return h&&(r+=" "+g+" if ("+d+" == errors) {"),r},V_=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,O,v="data"+(a||""),p=e.opts.$data&&l&&l.$data,d;p?(r+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",d="schema"+s):d=l;var _=t=="maximum",g=_?"exclusiveMaximum":"exclusiveMinimum",b=e.schema[g],D=e.opts.$data&&b&&b.$data,B=_?"<":">",S=_?">":"<",O=void 0;if(!(p||typeof l=="number"||l===void 0))throw new Error(t+" must be number");if(!(D||b===void 0||typeof b=="number"||typeof b=="boolean"))throw new Error(g+" must be number or boolean");if(D){var y=e.util.getData(b.$data,a,e.dataPathArr),N="exclusive"+s,T="exclType"+s,q="exclIsNumber"+s,F="op"+s,j="' + "+F+" + '";r+=" var schemaExcl"+s+" = "+y+"; ",y="schemaExcl"+s,r+=" var "+N+"; var "+T+" = typeof "+y+"; if ("+T+" != 'boolean' && "+T+" != 'undefined' && "+T+" != 'number') { ";var O=g,A=A||[];A.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(O||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: '"+g+" should be boolean' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var L=r;r=A.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+L+"]); ":r+=" validate.errors = ["+L+"]; return false; ":r+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else if ( ",p&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),r+=" "+T+" == 'number' ? ( ("+N+" = "+d+" === undefined || "+y+" "+B+"= "+d+") ? "+v+" "+S+"= "+y+" : "+v+" "+S+" "+d+" ) : ( ("+N+" = "+y+" === true) ? "+v+" "+S+"= "+d+" : "+v+" "+S+" "+d+" ) || "+v+" !== "+v+") { var op"+s+" = "+N+" ? '"+B+"' : '"+B+"='; ",l===void 0&&(O=g,f=e.errSchemaPath+"/"+g,d=y,p=D)}else{var q=typeof b=="number",j=B;if(q&&p){var F="'"+j+"'";r+=" if ( ",p&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),r+=" ( "+d+" === undefined || "+b+" "+B+"= "+d+" ? "+v+" "+S+"= "+b+" : "+v+" "+S+" "+d+" ) || "+v+" !== "+v+") { "}else{q&&l===void 0?(N=!0,O=g,f=e.errSchemaPath+"/"+g,d=b,S+="="):(q&&(d=Math[_?"min":"max"](b,l)),b===(q?d:!0)?(N=!0,O=g,f=e.errSchemaPath+"/"+g,S+="="):(N=!1,j+="="));var F="'"+j+"'";r+=" if ( ",p&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),r+=" "+v+" "+S+" "+d+" || "+v+" !== "+v+") { "}}O=O||t;var A=A||[];A.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(O||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { comparison: "+F+", limit: "+d+", exclusive: "+N+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be "+j+" ",p?r+="' + "+d:r+=""+d+"'"),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+u:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var L=r;return r=A.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+L+"]); ":r+=" validate.errors = ["+L+"]; return false; ":r+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",h&&(r+=" else { "),r},H_=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,g,v="data"+(a||""),p=e.opts.$data&&l&&l.$data,d;if(p?(r+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",d="schema"+s):d=l,!(p||typeof l=="number"))throw new Error(t+" must be number");var _=t=="maxItems"?">":"<";r+="if ( ",p&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),r+=" "+v+".length "+_+" "+d+") { ";var g=t,b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(g||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { limit: "+d+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",t=="maxItems"?r+="more":r+="fewer",r+=" than ",p?r+="' + "+d+" + '":r+=""+l,r+=" items' "),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+u:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var D=r;return r=b.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+D+"]); ":r+=" validate.errors = ["+D+"]; return false; ":r+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",h&&(r+=" else { "),r},$_=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,g,v="data"+(a||""),p=e.opts.$data&&l&&l.$data,d;if(p?(r+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",d="schema"+s):d=l,!(p||typeof l=="number"))throw new Error(t+" must be number");var _=t=="maxLength"?">":"<";r+="if ( ",p&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),e.opts.unicode===!1?r+=" "+v+".length ":r+=" ucs2length("+v+") ",r+=" "+_+" "+d+") { ";var g=t,b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(g||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { limit: "+d+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be ",t=="maxLength"?r+="longer":r+="shorter",r+=" than ",p?r+="' + "+d+" + '":r+=""+l,r+=" characters' "),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+u:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var D=r;return r=b.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+D+"]); ":r+=" validate.errors = ["+D+"]; return false; ":r+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",h&&(r+=" else { "),r},G_=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,g,v="data"+(a||""),p=e.opts.$data&&l&&l.$data,d;if(p?(r+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",d="schema"+s):d=l,!(p||typeof l=="number"))throw new Error(t+" must be number");var _=t=="maxProperties"?">":"<";r+="if ( ",p&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),r+=" Object.keys("+v+").length "+_+" "+d+") { ";var g=t,b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(g||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { limit: "+d+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",t=="maxProperties"?r+="more":r+="fewer",r+=" than ",p?r+="' + "+d+" + '":r+=""+l,r+=" properties' "),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+u:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var D=r;return r=b.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+D+"]); ":r+=" validate.errors = ["+D+"]; return false; ":r+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",h&&(r+=" else { "),r},CC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p=e.opts.$data&&l&&l.$data,d;if(p?(r+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",d="schema"+s):d=l,!(p||typeof l=="number"))throw new Error(t+" must be number");r+="var division"+s+";if (",p&&(r+=" "+d+" !== undefined && ( typeof "+d+" != 'number' || "),r+=" (division"+s+" = "+v+" / "+d+", ",e.opts.multipleOfPrecision?r+=" Math.abs(Math.round(division"+s+") - division"+s+") > 1e-"+e.opts.multipleOfPrecision+" ":r+=" division"+s+" !== parseInt(division"+s+") ",r+=" ) ",p&&(r+="  )  "),r+=" ) {   ";var _=_||[];_.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { multipleOf: "+d+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be multiple of ",p?r+="' + "+d:r+=""+d+"'"),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+u:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var g=r;return r=_.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",h&&(r+=" else { "),r},TC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="errs__"+s,d=e.util.copy(e);d.level++;var _="valid"+d.level;if(e.opts.strictKeywords?typeof l=="object"&&Object.keys(l).length>0||l===!1:e.util.schemaHasRules(l,e.RULES.all)){d.schema=l,d.schemaPath=u,d.errSchemaPath=f,r+=" var "+p+" = errors;  ";var g=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.createErrors=!1;var b;d.opts.allErrors&&(b=d.opts.allErrors,d.opts.allErrors=!1),r+=" "+e.validate(d)+" ",d.createErrors=!0,b&&(d.opts.allErrors=b),e.compositeRule=d.compositeRule=g,r+=" if ("+_+") {   ";var D=D||[];D.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var B=r;r=D.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+B+"]); ":r+=" validate.errors = ["+B+"]; return false; ":r+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",h&&(r+=" if (false) { ");return r},NC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="valid"+s,d="errs__"+s,_=e.util.copy(e),g="";_.level++;var b="valid"+_.level,D=_.baseId,B="prevValid"+s,S="passingSchemas"+s;r+="var "+d+" = errors , "+B+" = false , "+p+" = false , "+S+" = null; ";var O=e.compositeRule;e.compositeRule=_.compositeRule=!0;var y=l;if(y)for(var N,T=-1,q=y.length-1;T<q;)N=y[T+=1],(e.opts.strictKeywords?typeof N=="object"&&Object.keys(N).length>0||N===!1:e.util.schemaHasRules(N,e.RULES.all))?(_.schema=N,_.schemaPath=u+"["+T+"]",_.errSchemaPath=f+"/"+T,r+="  "+e.validate(_)+" ",_.baseId=D):r+=" var "+b+" = true; ",T&&(r+=" if ("+b+" && "+B+") { "+p+" = false; "+S+" = ["+S+", "+T+"]; } else { ",g+="}"),r+=" if ("+b+") { "+p+" = "+B+" = true; "+S+" = "+T+"; }";return e.compositeRule=_.compositeRule=O,r+=""+g+"if (!"+p+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { passingSchemas: "+S+" } ",e.opts.messages!==!1&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r},SC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p=e.opts.$data&&l&&l.$data,d;p?(r+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",d="schema"+s):d=l;var _=p?"(new RegExp("+d+"))":e.usePattern(l);r+="if ( ",p&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),r+=" !"+_+".test("+v+") ) {   ";var g=g||[];g.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { pattern:  ",p?r+=""+d:r+=""+e.util.toQuotedString(l),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match pattern "`,p?r+="' + "+d+" + '":r+=""+e.util.escapeQuotes(l),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+u:r+=""+e.util.toQuotedString(l),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var b=r;return r=g.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",h&&(r+=" else { "),r},IC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="errs__"+s,d=e.util.copy(e),_="";d.level++;var g="valid"+d.level,b="key"+s,D="idx"+s,B=d.dataLevel=e.dataLevel+1,S="data"+B,O="dataProperties"+s,y=Object.keys(l||{}).filter(re),N=e.schema.patternProperties||{},T=Object.keys(N).filter(re),q=e.schema.additionalProperties,F=y.length||T.length,j=q===!1,A=typeof q=="object"&&Object.keys(q).length,L=e.opts.removeAdditional,k=j||A||L,R=e.opts.ownProperties,K=e.baseId,z=e.schema.required;if(z&&!(e.opts.$data&&z.$data)&&z.length<e.opts.loopRequired)var fe=e.util.toHash(z);function re(W){return W!=="__proto__"}if(r+="var "+p+" = errors;var "+g+" = true;",R&&(r+=" var "+O+" = undefined;"),k){if(R?r+=" "+O+" = "+O+" || Object.keys("+v+"); for (var "+D+"=0; "+D+"<"+O+".length; "+D+"++) { var "+b+" = "+O+"["+D+"]; ":r+=" for (var "+b+" in "+v+") { ",F){if(r+=" var isAdditional"+s+" = !(false ",y.length)if(y.length>8)r+=" || validate.schema"+u+".hasOwnProperty("+b+") ";else{var te=y;if(te)for(var G,Q=-1,pe=te.length-1;Q<pe;)G=te[Q+=1],r+=" || "+b+" == "+e.util.toQuotedString(G)+" "}if(T.length){var J=T;if(J)for(var _e,tt=-1,rt=J.length-1;tt<rt;)_e=J[tt+=1],r+=" || "+e.usePattern(_e)+".test("+b+") "}r+=" ); if (isAdditional"+s+") { "}if(L=="all")r+=" delete "+v+"["+b+"]; ";else{var Pe=e.errorPath,je="' + "+b+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers)),j)if(L)r+=" delete "+v+"["+b+"]; ";else{r+=" "+g+" = false; ";var ke=f;f=e.errSchemaPath+"/additionalProperties";var He=He||[];He.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { additionalProperty: '"+je+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var ot=r;r=He.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+ot+"]); ":r+=" validate.errors = ["+ot+"]; return false; ":r+=" var err = "+ot+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",f=ke,h&&(r+=" break; ")}else if(A)if(L=="failing"){r+=" var "+p+" = errors;  ";var kt=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=q,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers);var Re=v+"["+b+"]";d.dataPathArr[B]=b;var le=e.validate(d);d.baseId=K,e.util.varOccurences(le,S)<2?r+=" "+e.util.varReplace(le,S,Re)+" ":r+=" var "+S+" = "+Re+"; "+le+" ",r+=" if (!"+g+") { errors = "+p+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+v+"["+b+"]; }  ",e.compositeRule=d.compositeRule=kt}else{d.schema=q,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers);var Re=v+"["+b+"]";d.dataPathArr[B]=b;var le=e.validate(d);d.baseId=K,e.util.varOccurences(le,S)<2?r+=" "+e.util.varReplace(le,S,Re)+" ":r+=" var "+S+" = "+Re+"; "+le+" ",h&&(r+=" if (!"+g+") break; ")}e.errorPath=Pe}F&&(r+=" } "),r+=" }  ",h&&(r+=" if ("+g+") { ",_+="}")}var Ue=e.opts.useDefaults&&!e.compositeRule;if(y.length){var sr=y;if(sr)for(var G,Yt=-1,Tr=sr.length-1;Yt<Tr;){G=sr[Yt+=1];var nr=l[G];if(e.opts.strictKeywords?typeof nr=="object"&&Object.keys(nr).length>0||nr===!1:e.util.schemaHasRules(nr,e.RULES.all)){var Nr=e.util.getProperty(G),Re=v+Nr,fr=Ue&&nr.default!==void 0;d.schema=nr,d.schemaPath=u+Nr,d.errSchemaPath=f+"/"+e.util.escapeFragment(G),d.errorPath=e.util.getPath(e.errorPath,G,e.opts.jsonPointers),d.dataPathArr[B]=e.util.toQuotedString(G);var le=e.validate(d);if(d.baseId=K,e.util.varOccurences(le,S)<2){le=e.util.varReplace(le,S,Re);var mt=Re}else{var mt=S;r+=" var "+S+" = "+Re+"; "}if(fr)r+=" "+le+" ";else{if(fe&&fe[G]){r+=" if ( "+mt+" === undefined ",R&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(G)+"') "),r+=") { "+g+" = false; ";var Pe=e.errorPath,ke=f,Dt=e.util.escapeQuotes(G);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(Pe,G,e.opts.jsonPointers)),f=e.errSchemaPath+"/required";var He=He||[];He.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { missingProperty: '"+Dt+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+Dt+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var ot=r;r=He.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+ot+"]); ":r+=" validate.errors = ["+ot+"]; return false; ":r+=" var err = "+ot+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",f=ke,e.errorPath=Pe,r+=" } else { "}else h?(r+=" if ( "+mt+" === undefined ",R&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(G)+"') "),r+=") { "+g+" = true; } else { "):(r+=" if ("+mt+" !== undefined ",R&&(r+=" &&   Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(G)+"') "),r+=" ) { ");r+=" "+le+" } "}}h&&(r+=" if ("+g+") { ",_+="}")}}if(T.length){var nt=T;if(nt)for(var _e,pt=-1,ze=nt.length-1;pt<ze;){_e=nt[pt+=1];var nr=N[_e];if(e.opts.strictKeywords?typeof nr=="object"&&Object.keys(nr).length>0||nr===!1:e.util.schemaHasRules(nr,e.RULES.all)){d.schema=nr,d.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(_e),d.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(_e),R?r+=" "+O+" = "+O+" || Object.keys("+v+"); for (var "+D+"=0; "+D+"<"+O+".length; "+D+"++) { var "+b+" = "+O+"["+D+"]; ":r+=" for (var "+b+" in "+v+") { ",r+=" if ("+e.usePattern(_e)+".test("+b+")) { ",d.errorPath=e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers);var Re=v+"["+b+"]";d.dataPathArr[B]=b;var le=e.validate(d);d.baseId=K,e.util.varOccurences(le,S)<2?r+=" "+e.util.varReplace(le,S,Re)+" ":r+=" var "+S+" = "+Re+"; "+le+" ",h&&(r+=" if (!"+g+") break; "),r+=" } ",h&&(r+=" else "+g+" = true; "),r+=" }  ",h&&(r+=" if ("+g+") { ",_+="}")}}}return h&&(r+=" "+_+" if ("+p+" == errors) {"),r},RC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="errs__"+s,d=e.util.copy(e),_="";d.level++;var g="valid"+d.level;if(r+="var "+p+" = errors;",e.opts.strictKeywords?typeof l=="object"&&Object.keys(l).length>0||l===!1:e.util.schemaHasRules(l,e.RULES.all)){d.schema=l,d.schemaPath=u,d.errSchemaPath=f;var b="key"+s,D="idx"+s,B="i"+s,S="' + "+b+" + '",O=d.dataLevel=e.dataLevel+1,y="data"+O,N="dataProperties"+s,T=e.opts.ownProperties,q=e.baseId;T&&(r+=" var "+N+" = undefined; "),T?r+=" "+N+" = "+N+" || Object.keys("+v+"); for (var "+D+"=0; "+D+"<"+N+".length; "+D+"++) { var "+b+" = "+N+"["+D+"]; ":r+=" for (var "+b+" in "+v+") { ",r+=" var startErrs"+s+" = errors; ";var F=b,j=e.compositeRule;e.compositeRule=d.compositeRule=!0;var A=e.validate(d);d.baseId=q,e.util.varOccurences(A,y)<2?r+=" "+e.util.varReplace(A,y,F)+" ":r+=" var "+y+" = "+F+"; "+A+" ",e.compositeRule=d.compositeRule=j,r+=" if (!"+g+") { for (var "+B+"=startErrs"+s+"; "+B+"<errors; "+B+"++) { vErrors["+B+"].propertyName = "+b+"; }   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { propertyName: '"+S+"' } ",e.opts.messages!==!1&&(r+=" , message: 'property name \\'"+S+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),h&&(r+=" break; "),r+=" } }"}return h&&(r+=" "+_+" if ("+p+" == errors) {"),r},PC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="valid"+s,d=e.opts.$data&&l&&l.$data;d&&(r+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ");var _="schema"+s;if(!d)if(l.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var g=[],b=l;if(b)for(var D,B=-1,S=b.length-1;B<S;){D=b[B+=1];var O=e.schema.properties[D];O&&(e.opts.strictKeywords?typeof O=="object"&&Object.keys(O).length>0||O===!1:e.util.schemaHasRules(O,e.RULES.all))||(g[g.length]=D)}}else var g=l;if(d||g.length){var y=e.errorPath,N=d||g.length>=e.opts.loopRequired,T=e.opts.ownProperties;if(h)if(r+=" var missing"+s+"; ",N){d||(r+=" var "+_+" = validate.schema"+u+"; ");var q="i"+s,F="schema"+s+"["+q+"]",j="' + "+F+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(y,F,e.opts.jsonPointers)),r+=" var "+p+" = true; ",d&&(r+=" if (schema"+s+" === undefined) "+p+" = true; else if (!Array.isArray(schema"+s+")) "+p+" = false; else {"),r+=" for (var "+q+" = 0; "+q+" < "+_+".length; "+q+"++) { "+p+" = "+v+"["+_+"["+q+"]] !== undefined ",T&&(r+=" &&   Object.prototype.hasOwnProperty.call("+v+", "+_+"["+q+"]) "),r+="; if (!"+p+") break; } ",d&&(r+="  }  "),r+="  if (!"+p+") {   ";var A=A||[];A.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { missingProperty: '"+j+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+j+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var L=r;r=A.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+L+"]); ":r+=" validate.errors = ["+L+"]; return false; ":r+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var k=g;if(k)for(var R,q=-1,K=k.length-1;q<K;){R=k[q+=1],q&&(r+=" || ");var z=e.util.getProperty(R),fe=v+z;r+=" ( ( "+fe+" === undefined ",T&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(R)+"') "),r+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?R:z)+") ) "}r+=") {  ";var F="missing"+s,j="' + "+F+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(y,F,!0):y+" + "+F);var A=A||[];A.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { missingProperty: '"+j+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+j+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var L=r;r=A.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+L+"]); ":r+=" validate.errors = ["+L+"]; return false; ":r+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(N){d||(r+=" var "+_+" = validate.schema"+u+"; ");var q="i"+s,F="schema"+s+"["+q+"]",j="' + "+F+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(y,F,e.opts.jsonPointers)),d&&(r+=" if ("+_+" && !Array.isArray("+_+")) {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { missingProperty: '"+j+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+j+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+_+" !== undefined) { "),r+=" for (var "+q+" = 0; "+q+" < "+_+".length; "+q+"++) { if ("+v+"["+_+"["+q+"]] === undefined ",T&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", "+_+"["+q+"]) "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { missingProperty: '"+j+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+j+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",d&&(r+="  }  ")}else{var re=g;if(re)for(var R,te=-1,G=re.length-1;te<G;){R=re[te+=1];var z=e.util.getProperty(R),j=e.util.escapeQuotes(R),fe=v+z;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(y,R,e.opts.jsonPointers)),r+=" if ( "+fe+" === undefined ",T&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(R)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { missingProperty: '"+j+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+j+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=y}else h&&(r+=" if (true) {");return r},FC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="valid"+s,d=e.opts.$data&&l&&l.$data,_;if(d?(r+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",_="schema"+s):_=l,(l||d)&&e.opts.uniqueItems!==!1){d&&(r+=" var "+p+"; if ("+_+" === false || "+_+" === undefined) "+p+" = true; else if (typeof "+_+" != 'boolean') "+p+" = false; else { "),r+=" var i = "+v+".length , "+p+" = true , j; if (i > 1) { ";var g=e.schema.items&&e.schema.items.type,b=Array.isArray(g);if(!g||g=="object"||g=="array"||b&&(g.indexOf("object")>=0||g.indexOf("array")>=0))r+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+v+"[i], "+v+"[j])) { "+p+" = false; break outer; } } } ";else{r+=" var itemIndices = {}, item; for (;i--;) { var item = "+v+"[i]; ";var D="checkDataType"+(b?"s":"");r+=" if ("+e.util[D](g,"item",e.opts.strictNumbers,!0)+") continue; ",b&&(r+=` if (typeof item == 'string') item = '"' + item; `),r+=" if (typeof itemIndices[item] == 'number') { "+p+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}r+=" } ",d&&(r+="  }  "),r+=" if (!"+p+") {   ";var B=B||[];B.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(r+=" , schema:  ",d?r+="validate.schema"+u:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var S=r;r=B.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",h&&(r+=" else { ")}else h&&(r+=" if (true) { ");return r},OC={$ref:_C,allOf:vC,anyOf:gC,$comment:mC,const:bC,contains:wC,dependencies:yC,enum:EC,format:DC,if:AC,items:kC,maximum:V_,minimum:V_,maxItems:H_,minItems:H_,maxLength:$_,minLength:$_,maxProperties:G_,minProperties:G_,multipleOf:CC,not:TC,oneOf:NC,pattern:SC,properties:IC,propertyNames:RC,required:PC,uniqueItems:FC,validate:D1},X_=OC,hh=bl.toHash,LC=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"],n=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],r=["number","integer","string","array","object","boolean","null"];return e.all=hh(t),e.types=hh(r),e.forEach(function(s){s.rules=s.rules.map(function(a){var l;if(typeof a=="object"){var u=Object.keys(a)[0];l=a[u],a=u,l.forEach(function(h){t.push(h),e.all[h]=!0})}t.push(a);var f=e.all[a]={keyword:a,code:X_[a],implements:l};return f}),e.all.$comment={keyword:"$comment",code:X_.$comment},s.type&&(e.types[s.type]=s)}),e.keywords=hh(t.concat(n)),e.custom={},e},W_=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],BC=function(i,e){for(var t=0;t<e.length;t++){i=JSON.parse(JSON.stringify(i));var n=e[t].split("/"),r=i,s;for(s=1;s<n.length;s++)r=r[n[s]];for(s=0;s<W_.length;s++){var a=W_[s],l=r[a];l&&(r[a]={anyOf:[l,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return i},UC=od.MissingRef,MC=U1;function U1(i,e,t){var n=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof e=="function"&&(t=e,e=void 0);var r=s(i).then(function(){var l=n._addSchema(i,void 0,e);return l.validate||a(l)});return t&&r.then(function(l){t(null,l)},t),r;function s(l){var u=l.$schema;return u&&!n.getSchema(u)?U1.call(n,{$ref:u},!0):Promise.resolve()}function a(l){try{return n._compile(l)}catch(f){if(f instanceof UC)return u(f);throw f}function u(f){var h=f.missingSchema;if(d(h))throw new Error("Schema "+h+" is loaded but "+f.missingRef+" cannot be resolved");var v=n._loadingSchemas[h];return v||(v=n._loadingSchemas[h]=n._opts.loadSchema(h),v.then(p,p)),v.then(function(_){if(!d(h))return s(_).then(function(){d(h)||n.addSchema(_,h,void 0,e)})}).then(function(){return a(l)});function p(){delete n._loadingSchemas[h]}function d(_){return n._refs[_]||n._schemas[_]}}}}var qC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v,p="data"+(a||""),d="valid"+s,_="errs__"+s,g=e.opts.$data&&l&&l.$data,b;g?(r+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",b="schema"+s):b=l;var D=this,B="definition"+s,S=D.definition,O="",y,N,T,q,F;if(g&&S.$data){F="keywordValidate"+s;var j=S.validateSchema;r+=" var "+B+" = RULES.custom['"+t+"'].definition; var "+F+" = "+B+".validate;"}else{if(q=e.useCustomRule(D,l,e.schema,e),!q)return;b="validate.schema"+u,F=q.code,y=S.compile,N=S.inline,T=S.macro}var A=F+".errors",L="i"+s,k="ruleErr"+s,R=S.async;if(R&&!e.async)throw new Error("async keyword in sync schema");if(N||T||(r+=""+A+" = null;"),r+="var "+_+" = errors;var "+d+";",g&&S.$data&&(O+="}",r+=" if ("+b+" === undefined) { "+d+" = true; } else { ",j&&(O+="}",r+=" "+d+" = "+B+".validateSchema("+b+"); if ("+d+") { ")),N)S.statements?r+=" "+q.validate+" ":r+=" "+d+" = "+q.validate+"; ";else if(T){var K=e.util.copy(e),O="";K.level++;var z="valid"+K.level;K.schema=q.validate,K.schemaPath="";var fe=e.compositeRule;e.compositeRule=K.compositeRule=!0;var re=e.validate(K).replace(/validate\.schema/g,F);e.compositeRule=K.compositeRule=fe,r+=" "+re}else{var te=te||[];te.push(r),r="",r+="  "+F+".call( ",e.opts.passContext?r+="this":r+="self",y||S.schema===!1?r+=" , "+p+" ":r+=" , "+b+" , "+p+" , validate.schema"+e.schemaPath+" ",r+=" , (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var G=a?"data"+(a-1||""):"parentData",Q=a?e.dataPathArr[a]:"parentDataProperty";r+=" , "+G+" , "+Q+" , rootData )  ";var pe=r;r=te.pop(),S.errors===!1?(r+=" "+d+" = ",R&&(r+="await "),r+=""+pe+"; "):R?(A="customErrors"+s,r+=" var "+A+" = null; try { "+d+" = await "+pe+"; } catch (e) { "+d+" = false; if (e instanceof ValidationError) "+A+" = e.errors; else throw e; } "):r+=" "+A+" = null; "+d+" = "+pe+"; "}if(S.modifying&&(r+=" if ("+G+") "+p+" = "+G+"["+Q+"];"),r+=""+O,S.valid)h&&(r+=" if (true) { ");else{r+=" if ( ",S.valid===void 0?(r+=" !",T?r+=""+z:r+=""+d):r+=" "+!S.valid+" ",r+=") { ",v=D.keyword;var te=te||[];te.push(r),r="";var te=te||[];te.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(v||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { keyword: '"+D.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+D.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ";var J=r;r=te.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+J+"]); ":r+=" validate.errors = ["+J+"]; return false; ":r+=" var err = "+J+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var _e=r;r=te.pop(),N?S.errors?S.errors!="full"&&(r+="  for (var "+L+"="+_+"; "+L+"<errors; "+L+"++) { var "+k+" = vErrors["+L+"]; if ("+k+".dataPath === undefined) "+k+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+k+".schemaPath === undefined) { "+k+'.schemaPath = "'+f+'"; } ',e.opts.verbose&&(r+=" "+k+".schema = "+b+"; "+k+".data = "+p+"; "),r+=" } "):S.errors===!1?r+=" "+_e+" ":(r+=" if ("+_+" == errors) { "+_e+" } else {  for (var "+L+"="+_+"; "+L+"<errors; "+L+"++) { var "+k+" = vErrors["+L+"]; if ("+k+".dataPath === undefined) "+k+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+k+".schemaPath === undefined) { "+k+'.schemaPath = "'+f+'"; } ',e.opts.verbose&&(r+=" "+k+".schema = "+b+"; "+k+".data = "+p+"; "),r+=" } } "):T?(r+="   var err =   ",e.createErrors!==!1?(r+=" { keyword: '"+(v||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { keyword: '"+D.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+D.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; ")):S.errors===!1?r+=" "+_e+" ":(r+=" if (Array.isArray("+A+")) { if (vErrors === null) vErrors = "+A+"; else vErrors = vErrors.concat("+A+"); errors = vErrors.length;  for (var "+L+"="+_+"; "+L+"<errors; "+L+"++) { var "+k+" = vErrors["+L+"]; if ("+k+".dataPath === undefined) "+k+".dataPath = (dataPath || '') + "+e.errorPath+";  "+k+'.schemaPath = "'+f+'";  ',e.opts.verbose&&(r+=" "+k+".schema = "+b+"; "+k+".data = "+p+"; "),r+=" } } else { "+_e+" } "),r+=" } ",h&&(r+=" else { ")}return r};const jC="http://json-schema.org/draft-07/schema#",xC="http://json-schema.org/draft-07/schema#",zC="Core schema meta-schema",VC={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},HC=["object","boolean"],$C={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},M1={$schema:jC,$id:xC,title:zC,definitions:VC,type:HC,properties:$C,default:!0};var Q_=M1,GC={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:Q_.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:Q_.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},XC=/^[a-z_$][a-z0-9_$-]*$/i,WC=qC,QC=GC,YC={add:KC,get:JC,remove:ZC,validate:Uh};function KC(i,e){var t=this.RULES;if(t.keywords[i])throw new Error("Keyword "+i+" is already defined");if(!XC.test(i))throw new Error("Keyword "+i+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var n=e.type;if(Array.isArray(n))for(var r=0;r<n.length;r++)a(i,n[r],e);else a(i,n,e);var s=e.metaSchema;s&&(e.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(s,!0))}t.keywords[i]=t.all[i]=!0;function a(l,u,f){for(var h,v=0;v<t.length;v++){var p=t[v];if(p.type==u){h=p;break}}h||(h={type:u,rules:[]},t.push(h));var d={keyword:l,definition:f,custom:!0,code:WC,implements:f.implements};h.rules.push(d),t.custom[l]=d}return this}function JC(i){var e=this.RULES.custom[i];return e?e.definition:this.RULES.keywords[i]||!1}function ZC(i){var e=this.RULES;delete e.keywords[i],delete e.all[i],delete e.custom[i];for(var t=0;t<e.length;t++)for(var n=e[t].rules,r=0;r<n.length;r++)if(n[r].keyword==i){n.splice(r,1);break}return this}function Uh(i,e){Uh.errors=null;var t=this._validateKeyword=this._validateKeyword||this.compile(QC,!0);if(t(i))return!0;if(Uh.errors=t.errors,e)throw new Error("custom keyword definition is invalid: "+this.errorsText(t.errors));return!1}const eT="http://json-schema.org/draft-07/schema#",tT="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",rT="Meta-schema for $data reference (JSON Schema extension proposal)",nT="object",iT=["$data"],aT={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},sT=!1,lT={$schema:eT,$id:tT,description:rT,type:nT,required:iT,properties:aT,additionalProperties:sT};var q1=Wk,ms=ld,oT=tC,j1=m1,uT=E1,fT=oC,cT=LC,x1=BC,z1=bl,hT=Hr;Hr.prototype.validate=pT;Hr.prototype.compile=_T;Hr.prototype.addSchema=vT;Hr.prototype.addMetaSchema=gT;Hr.prototype.validateSchema=mT;Hr.prototype.getSchema=wT;Hr.prototype.removeSchema=ET;Hr.prototype.addFormat=IT;Hr.prototype.errorsText=ST;Hr.prototype._addSchema=DT;Hr.prototype._compile=AT;Hr.prototype.compileAsync=MC;var Ff=YC;Hr.prototype.addKeyword=Ff.add;Hr.prototype.getKeyword=Ff.get;Hr.prototype.removeKeyword=Ff.remove;Hr.prototype.validateKeyword=Ff.validate;var V1=od;Hr.ValidationError=V1.Validation;Hr.MissingRefError=V1.MissingRef;Hr.$dataMetaSchema=x1;var _f="http://json-schema.org/draft-07/schema",Y_=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],dT=["/properties"];function Hr(i){if(!(this instanceof Hr))return new Hr(i);i=this._opts=z1.copy(i)||{},BT(this),this._schemas={},this._refs={},this._fragments={},this._formats=fT(i.format),this._cache=i.cache||new oT,this._loadingSchemas={},this._compilations=[],this.RULES=cT(),this._getId=kT(i),i.loopRequired=i.loopRequired||1/0,i.errorDataPath=="property"&&(i._errorDataPathProperty=!0),i.serialize===void 0&&(i.serialize=uT),this._metaOpts=LT(this),i.formats&&FT(this),i.keywords&&OT(this),RT(this),typeof i.meta=="object"&&this.addMetaSchema(i.meta),i.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),PT(this)}function pT(i,e){var t;if(typeof i=="string"){if(t=this.getSchema(i),!t)throw new Error('no schema with key or ref "'+i+'"')}else{var n=this._addSchema(i);t=n.validate||this._compile(n)}var r=t(e);return t.$async!==!0&&(this.errors=t.errors),r}function _T(i,e){var t=this._addSchema(i,void 0,e);return t.validate||this._compile(t)}function vT(i,e,t,n){if(Array.isArray(i)){for(var r=0;r<i.length;r++)this.addSchema(i[r],void 0,t,n);return this}var s=this._getId(i);if(s!==void 0&&typeof s!="string")throw new Error("schema id must be string");return e=ms.normalizeId(e||s),$1(this,e),this._schemas[e]=this._addSchema(i,t,n,!0),this}function gT(i,e,t){return this.addSchema(i,e,t,!0),this}function mT(i,e){var t=i.$schema;if(t!==void 0&&typeof t!="string")throw new Error("$schema must be a string");if(t=t||this._opts.defaultMeta||bT(this),!t)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(t,i);if(!n&&e){var r="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(r);else throw new Error(r)}return n}function bT(i){var e=i._opts.meta;return i._opts.defaultMeta=typeof e=="object"?i._getId(e)||e:i.getSchema(_f)?_f:void 0,i._opts.defaultMeta}function wT(i){var e=H1(this,i);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return yT(this,i)}}function yT(i,e){var t=ms.schema.call(i,{schema:{}},e);if(t){var n=t.schema,r=t.root,s=t.baseId,a=q1.call(i,n,r,void 0,s);return i._fragments[e]=new j1({ref:e,fragment:!0,schema:n,root:r,baseId:s,validate:a}),a}}function H1(i,e){return e=ms.normalizeId(e),i._schemas[e]||i._refs[e]||i._fragments[e]}function ET(i){if(i instanceof RegExp)return Hu(this,this._schemas,i),Hu(this,this._refs,i),this;switch(typeof i){case"undefined":return Hu(this,this._schemas),Hu(this,this._refs),this._cache.clear(),this;case"string":var e=H1(this,i);return e&&this._cache.del(e.cacheKey),delete this._schemas[i],delete this._refs[i],this;case"object":var t=this._opts.serialize,n=t?t(i):i;this._cache.del(n);var r=this._getId(i);r&&(r=ms.normalizeId(r),delete this._schemas[r],delete this._refs[r])}return this}function Hu(i,e,t){for(var n in e){var r=e[n];!r.meta&&(!t||t.test(n))&&(i._cache.del(r.cacheKey),delete e[n])}}function DT(i,e,t,n){if(typeof i!="object"&&typeof i!="boolean")throw new Error("schema should be object or boolean");var r=this._opts.serialize,s=r?r(i):i,a=this._cache.get(s);if(a)return a;n=n||this._opts.addUsedSchema!==!1;var l=ms.normalizeId(this._getId(i));l&&n&&$1(this,l);var u=this._opts.validateSchema!==!1&&!e,f;u&&!(f=l&&l==ms.normalizeId(i.$schema))&&this.validateSchema(i,!0);var h=ms.ids.call(this,i),v=new j1({id:l,schema:i,localRefs:h,cacheKey:s,meta:t});return l[0]!="#"&&n&&(this._refs[l]=v),this._cache.put(s,v),u&&f&&this.validateSchema(i,!0),v}function AT(i,e){if(i.compiling)return i.validate=r,r.schema=i.schema,r.errors=null,r.root=e||r,i.schema.$async===!0&&(r.$async=!0),r;i.compiling=!0;var t;i.meta&&(t=this._opts,this._opts=this._metaOpts);var n;try{n=q1.call(this,i.schema,e,i.localRefs)}catch(s){throw delete i.validate,s}finally{i.compiling=!1,i.meta&&(this._opts=t)}return i.validate=n,i.refs=n.refs,i.refVal=n.refVal,i.root=n.root,n;function r(){var s=i.validate,a=s.apply(this,arguments);return r.errors=s.errors,a}}function kT(i){switch(i.schemaId){case"auto":return NT;case"id":return CT;default:return TT}}function CT(i){return i.$id&&this.logger.warn("schema $id ignored",i.$id),i.id}function TT(i){return i.id&&this.logger.warn("schema id ignored",i.id),i.$id}function NT(i){if(i.$id&&i.id&&i.$id!=i.id)throw new Error("schema $id is different from id");return i.$id||i.id}function ST(i,e){if(i=i||this.errors,!i)return"No errors";e=e||{};for(var t=e.separator===void 0?", ":e.separator,n=e.dataVar===void 0?"data":e.dataVar,r="",s=0;s<i.length;s++){var a=i[s];a&&(r+=n+a.dataPath+" "+a.message+t)}return r.slice(0,-t.length)}function IT(i,e){return typeof e=="string"&&(e=new RegExp(e)),this._formats[i]=e,this}function RT(i){var e;if(i._opts.$data&&(e=lT,i.addMetaSchema(e,e.$id,!0)),i._opts.meta!==!1){var t=M1;i._opts.$data&&(t=x1(t,dT)),i.addMetaSchema(t,_f,!0),i._refs["http://json-schema.org/schema"]=_f}}function PT(i){var e=i._opts.schemas;if(e)if(Array.isArray(e))i.addSchema(e);else for(var t in e)i.addSchema(e[t],t)}function FT(i){for(var e in i._opts.formats){var t=i._opts.formats[e];i.addFormat(e,t)}}function OT(i){for(var e in i._opts.keywords){var t=i._opts.keywords[e];i.addKeyword(e,t)}}function $1(i,e){if(i._schemas[e]||i._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function LT(i){for(var e=z1.copy(i._opts),t=0;t<Y_.length;t++)delete e[Y_[t]];return e}function BT(i){var e=i._opts.logger;if(e===!1)i.logger={log:dh,warn:dh,error:dh};else{if(e===void 0&&(e=console),!(typeof e=="object"&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");i.logger=e}}function dh(){}const UT=Ts(hT),MT=i=>({}),K_=i=>({id:"drawer-content"}),qT=i=>({}),J_=i=>({});function Z_(i){let e,t;const n=i[3].drawer,r=Dr(n,i,i[2],K_);return{c(){e=ae("aside"),r&&r.c(),this.h()},l(s){e=se(s,"ASIDE",{id:!0,class:!0});var a=Be(e);r&&r.l(a),a.forEach(w),this.h()},h(){ue(e,"id","container-drawer"),ue(e,"class","svelte-1tl605t"),qn(e,"drawer-closed",!i[0])},m(s,a){I(s,e,a),r&&r.m(e,null),t=!0},p(s,a){r&&r.p&&(!t||a&4)&&Ar(r,n,s,s[2],t?Cr(n,s[2],a,MT):kr(s[2]),K_),(!t||a&1)&&qn(e,"drawer-closed",!s[0])},i(s){t||(he(r,s),t=!0)},o(s){me(r,s),t=!1},d(s){s&&w(e),r&&r.d(s)}}}function jT(i){let e,t,n,r,s,a,l,u,f,h,v;const p=i[3].flow,d=Dr(p,i,i[2],J_);l=new $A({props:{size:33,iconName:i[0]?"arrowRight":"arrowLeft",description:"Profile Controls",title:"Profile Controls",pathColor:"white"}});let _=i[0]&&Z_(i);return{c(){e=ae("main"),t=ae("section"),n=ae("div"),d&&d.c(),r=ve(),s=ae("div"),a=ae("span"),Xe(l.$$.fragment),u=ve(),_&&_.c(),this.h()},l(g){e=se(g,"MAIN",{style:!0,class:!0});var b=Be(e);t=se(b,"SECTION",{id:!0,class:!0});var D=Be(t);n=se(D,"DIV",{id:!0,class:!0});var B=Be(n);d&&d.l(B),B.forEach(w),r=ge(D),s=se(D,"DIV",{id:!0,role:!0,tabindex:!0,class:!0});var S=Be(s);a=se(S,"SPAN",{id:!0});var O=Be(a);We(l.$$.fragment,O),O.forEach(w),S.forEach(w),D.forEach(w),u=ge(b),_&&_.l(b),b.forEach(w),this.h()},h(){ue(n,"id","flow-slot"),ue(n,"class","svelte-1tl605t"),ue(a,"id","toggle-panel-btn"),ue(s,"id","drawer-btn"),ue(s,"role","button"),ue(s,"tabindex","0"),ue(s,"class","svelte-1tl605t"),ue(t,"id","container-flow"),ue(t,"class","svelte-1tl605t"),qn(t,"expand-matrix",i[0]),$t(e,"--drawer-width",zT),$t(e,"--ANIMATION_TIMING",xT),ue(e,"class","svelte-1tl605t")},m(g,b){I(g,e,b),$(e,t),$(t,n),d&&d.m(n,null),$(t,r),$(t,s),$(s,a),Qe(l,a,null),$(e,u),_&&_.m(e,null),f=!0,h||(v=[Ie(s,"click",i[1]),Ie(s,"keyup",i[4])],h=!0)},p(g,[b]){d&&d.p&&(!f||b&4)&&Ar(d,p,g,g[2],f?Cr(p,g[2],b,qT):kr(g[2]),J_);const D={};b&1&&(D.iconName=g[0]?"arrowRight":"arrowLeft"),l.$set(D),(!f||b&1)&&qn(t,"expand-matrix",g[0]),g[0]?_?(_.p(g,b),b&1&&he(_,1)):(_=Z_(g),_.c(),he(_,1),_.m(e,null)):_&&(It(),me(_,1,1,()=>{_=null}),Rt())},i(g){f||(he(d,g),he(l.$$.fragment,g),he(_),f=!0)},o(g){me(d,g),me(l.$$.fragment,g),me(_),f=!1},d(g){g&&w(e),d&&d.d(g),Ye(l),_&&_.d(),h=!1,Ht(v)}}}const xT=1e3,zT="270px";function VT(i,e,t){let{$$slots:n={},$$scope:r}=e,s=!1;function a(){t(0,s=!s)}const l=u=>Ds(u,a);return i.$$set=u=>{"$$scope"in u&&t(2,r=u.$$scope)},[s,a,r,n,l]}class HT extends Gt{constructor(e){super(),Xt(this,e,VT,jT,Et,{})}}function Jn(i){"@babel/helpers - typeof";return Jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jn(i)}function $T(i,e){if(Jn(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e||"default");if(Jn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function G1(i){var e=$T(i,"string");return Jn(e)=="symbol"?e:e+""}function e0(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,G1(n.key),n)}}function qr(i,e,t){return e&&e0(i.prototype,e),t&&e0(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function jr(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function GT(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function ba(i,e){if(e&&(Jn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GT(i)}function Kr(i){return Kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kr(i)}function Mh(i,e){return Mh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Mh(i,e)}function Tn(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&Mh(i,e)}function et(i,e,t){return(e=G1(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var Gi={Literal:1,Collection:3,Graph:4,NamedNode:5,BlankNode:6,Variable:7},Or=function(){function i(e){jr(this,i),et(this,"termType",void 0),et(this,"classOrder",void 0),et(this,"value",void 0),this.value=e}return qr(i,[{key:"substitute",value:function(t){return this}},{key:"compareTerm",value:function(t){return this.classOrder<t.classOrder?-1:this.classOrder>t.classOrder?1:this.value<t.value?-1:this.value>t.value?1:0}},{key:"equals",value:function(t){return t?this.termType===t.termType&&this.value===t.value:!1}},{key:"hashString",value:function(){return this.toCanonical()}},{key:"sameTerm",value:function(t){return this.equals(t)}},{key:"toCanonical",value:function(){return this.toNT()}},{key:"toNT",value:function(){return this.toString()}},{key:"toNQ",value:function(){return this.toNT()}},{key:"toString",value:function(){throw new Error("Node.toString() is abstract - see the subclasses instead")}}])}();et(Or,"fromValue",void 0);et(Or,"toJS",void 0);var Ns="NamedNode",Ss="BlankNode",wl="Literal",Wa="Variable",As="DefaultGraph",Qa="Collection",X1="Empty",No="Graph",t0="text/html",qh="application/ld+json",W1="text/n3",XT="application/n3",jh="application/nquads",xh="application/n-quads",WT="application/n-triples",wo="application/rdf+xml",QT="application/sparql-update",YT="application/sparql-update-single-match",bs="text/turtle",KT="application/x-turtle",zh="application/xhtml+xml";function JT(i,e,t){return e=Kr(e),ba(i,Q1()?Reflect.construct(e,t||[],Kr(i).constructor):e.apply(i,t))}function Q1(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q1=function(){return!!i})()}var Xi=function(i){function e(t){var n;return jr(this,e),n=JT(this,e,[e.getId(t)]),et(n,"termType",Ss),et(n,"classOrder",Gi.BlankNode),et(n,"isBlank",1),et(n,"isVar",1),n}return Tn(e,i),qr(e,[{key:"id",get:function(){return this.value},set:function(n){this.value=n}},{key:"compareTerm",value:function(n){return this.classOrder<n.classOrder?-1:this.classOrder>n.classOrder?1:this.id<n.id?-1:this.id>n.id?1:0}},{key:"copy",value:function(n){var r=new e;return n.copyTo(this,r),r}},{key:"toCanonical",value:function(){return e.NTAnonymousNodePrefix+this.value}},{key:"toString",value:function(){return e.NTAnonymousNodePrefix+this.id}}],[{key:"getId",value:function(n){if(n){if(typeof n!="string")throw new Error("Bad id argument to new blank node: "+n);if(n.includes("#")){var r=n.split("#");return r[r.length-1]}return n}return"n"+e.nextId++}}])}(Or);et(Xi,"nextId",0);et(Xi,"NTAnonymousNodePrefix","_:");function ol(i){return typeof i=="string"?i:i.value}function ZT(i){return Jn(i)==="object"&&i!==null&&"subject"in i}function r0(i){return Jn(i)==="object"&&i!==null&&"statements"in i}function fd(i){return da(i)&&i.termType===Qa}function eN(i){return i&&Object.prototype.hasOwnProperty.call(i,"termType")&&(i.termType===Ns||i.termType===Wa||i.termType===Ss||i.termType===Qa||i.termType===wl||i.termType===No)}function tN(i){return i&&Object.prototype.hasOwnProperty.call(i,"termType")&&(i.termType===Ns||i.termType===Wa||i.termType===Ss||i.termType===Qa||i.termType===wl||i.termType===No)}function rN(i){return da(i)&&(i.termType===Ns||i.termType===Ss||i.termType===Wa)}function nN(i){return da(i)&&i.termType===Wa}function da(i){return Jn(i)==="object"&&i!==null&&"termType"in i}function Y1(i){return i.termType===wl}function ul(i){return Jn(i)==="object"&&i!==null&&"subject"in i&&"predicate"in i&&"object"in i}function n0(i){return da(i)&&i.termType==="NamedNode"}function iN(i){return da(i)&&(i.termType===Ns||i.termType===Wa||i.termType===Ss||i.termType===As)}function aN(i,e,t){return e=Kr(e),ba(i,K1()?Reflect.construct(e,t||[],Kr(i).constructor):e.apply(i,t))}function K1(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K1=function(){return!!i})()}var cn=function(i){function e(t){var n;if(jr(this,e),n=aN(this,e,[ol(t)]),et(n,"termType",Ns),et(n,"classOrder",Gi.NamedNode),!n.value)throw new Error("Missing IRI for NamedNode");if(!n.value.includes(":"))throw new Error('NamedNode IRI "'+t+'" must be absolute.');if(n.value.includes(" ")){var r='Error: NamedNode IRI "'+t+'" must not contain unencoded spaces.';throw new Error(r)}return n}return Tn(e,i),qr(e,[{key:"dir",value:function(){var n=this.value.split("#")[0],r=n.slice(0,-1).lastIndexOf("/"),s=n.indexOf("//");return s>=0&&r<s+2||r<0?null:new e(n.slice(0,r+1))}},{key:"site",value:function(){var n=this.value.split("#")[0],r=n.indexOf("//");if(r<0)throw new Error("This URI does not have a web site part (origin)");var s=n.indexOf("/",r+2);return s<0?new e(n.slice(0)+"/"):new e(n.slice(0,s+1))}},{key:"doc",value:function(){return this.value.indexOf("#")<0?this:new e(this.value.split("#")[0])}},{key:"toString",value:function(){return"<"+this.value+">"}},{key:"id",value:function(){return this.value.split("#")[1]}},{key:"uri",get:function(){return this.value},set:function(n){this.value=n}}],[{key:"fromValue",value:function(n){return typeof n>"u"||n===null||da(n)?n:new e(n)}}])}(Or);const oa={boolean:new cn("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:new cn("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:new cn("http://www.w3.org/2001/XMLSchema#decimal"),double:new cn("http://www.w3.org/2001/XMLSchema#double"),integer:new cn("http://www.w3.org/2001/XMLSchema#integer"),langString:new cn("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:new cn("http://www.w3.org/2001/XMLSchema#string")};function sN(i,e,t){return e=Kr(e),ba(i,J1()?Reflect.construct(e,t||[],Kr(i).constructor):e.apply(i,t))}function J1(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J1=function(){return!!i})()}var Hi=function(i){function e(t,n,r){var s;return jr(this,e),s=sN(this,e,[t]),et(s,"termType",wl),et(s,"classOrder",Gi.Literal),et(s,"datatype",oa.string),et(s,"isVar",0),et(s,"language",""),n?(s.language=n,s.datatype=oa.langString):r?s.datatype=cn.fromValue(r):s.datatype=oa.string,s}return Tn(e,i),qr(e,[{key:"copy",value:function(){return new e(this.value,this.lang,this.datatype)}},{key:"equals",value:function(n){return n?this.termType===n.termType&&this.value===n.value&&this.language===n.language&&(!this.datatype&&!n.datatype||this.datatype&&this.datatype.equals(n.datatype)):!1}},{key:"lang",get:function(){return this.language},set:function(n){this.language=n||""}},{key:"toNT",value:function(){return e.toNT(this)}},{key:"toString",value:function(){return""+this.value}}],[{key:"toNT",value:function(n){if(typeof n.value=="number")return""+n.value;if(typeof n.value!="string")throw new Error("Value of RDF literal is not string or number: "+n.value);var r=n.value;return r=r.replace(/\\/g,"\\\\"),r=r.replace(/\"/g,'\\"'),r=r.replace(/\n/g,"\\n"),r=r.replace(/\r/g,"\\r"),r='"'+r+'"',n.language?r+="@"+n.language:n.datatype.equals(oa.string)||(r+="^^"+n.datatype.toCanonical()),r}},{key:"fromBoolean",value:function(n){var r=n?"1":"0";return new e(r,null,oa.boolean)}},{key:"fromDate",value:function(n){if(!(n instanceof Date))throw new TypeError("Invalid argument to Literal.fromDate()");var r=function(l){return(""+(100+l)).slice(1,3)},s=""+n.getUTCFullYear()+"-"+r(n.getUTCMonth()+1)+"-"+r(n.getUTCDate())+"T"+r(n.getUTCHours())+":"+r(n.getUTCMinutes())+":"+r(n.getUTCSeconds())+"Z";return new e(s,null,oa.dateTime)}},{key:"fromNumber",value:function(n){if(typeof n!="number")throw new TypeError("Invalid argument to Literal.fromNumber()");var r,s=n.toString();return s.indexOf("e")<0&&Math.abs(n)<=Number.MAX_SAFE_INTEGER?r=Number.isInteger(n)?oa.integer:oa.decimal:r=oa.double,new e(s,null,r)}},{key:"fromValue",value:function(n){if(Y1(n))return n;switch(Jn(n)){case"object":if(n instanceof Date)return e.fromDate(n);case"boolean":return e.fromBoolean(n);case"number":return e.fromNumber(n);case"string":return new e(n)}throw new Error("Can't make literal from "+n+" of type "+Jn(n))}}])}(Or);function lN(i,e,t){return e=Kr(e),ba(i,Z1()?Reflect.construct(e,t||[],Kr(i).constructor):e.apply(i,t))}function Z1(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z1=function(){return!!i})()}function e2(i){return typeof i>"u"||i===null||da(i)?i:Array.isArray(i)?new $a(i):Hi.fromValue(i)}var $a=function(i){function e(t){var n;return jr(this,e),n=lN(this,e,[(Xi.nextId++).toString()]),et(n,"termType",Qa),et(n,"classOrder",Gi.Collection),et(n,"closed",!1),et(n,"compareTerm",Xi.prototype.compareTerm),et(n,"elements",[]),et(n,"isVar",0),t&&t.length>0&&t.forEach(function(r){n.elements.push(e2(r))}),n}return Tn(e,i),qr(e,[{key:"id",get:function(){return this.value},set:function(n){this.value=n}},{key:"append",value:function(n){return this.elements.push(n)}},{key:"close",value:function(){return this.closed=!0,this.closed}},{key:"shift",value:function(){return this.elements.shift()}},{key:"substitute",value:function(n){var r=this.elements.map(function(s){return s.substitute(n)});return new e(r)}},{key:"toNT",value:function(){return e.toNT(this)}},{key:"toString",value:function(){return"("+this.elements.join(" ")+")"}},{key:"unshift",value:function(n){return this.elements.unshift(n)}}],[{key:"toNT",value:function(n){return Xi.NTAnonymousNodePrefix+n.id}}])}(Or);et($a,"termType",Qa);function i0(i,e,t,n,r,s,a){try{var l=i[s](a),u=l.value}catch(f){return void t(f)}l.done?e(u):Promise.resolve(u).then(n,r)}function a0(i){return function(){var e=this,t=arguments;return new Promise(function(n,r){var s=i.apply(e,t);function a(u){i0(s,n,r,a,l,"next",u)}function l(u){i0(s,n,r,a,l,"throw",u)}a(void 0)})}}var t2={exports:{}},r2={exports:{}};(function(i){function e(t){"@babel/helpers - typeof";return i.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},i.exports.__esModule=!0,i.exports.default=i.exports,e(t)}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports})(r2);var oN=r2.exports;(function(i){var e=oN.default;function t(){i.exports=t=function(){return r},i.exports.__esModule=!0,i.exports.default=i.exports;var n,r={},s=Object.prototype,a=s.hasOwnProperty,l=Object.defineProperty||function(te,G,Q){te[G]=Q.value},u=typeof Symbol=="function"?Symbol:{},f=u.iterator||"@@iterator",h=u.asyncIterator||"@@asyncIterator",v=u.toStringTag||"@@toStringTag";function p(te,G,Q){return Object.defineProperty(te,G,{value:Q,enumerable:!0,configurable:!0,writable:!0}),te[G]}try{p({},"")}catch{p=function(Q,pe,J){return Q[pe]=J}}function d(te,G,Q,pe){var J=G&&G.prototype instanceof O?G:O,_e=Object.create(J.prototype),tt=new fe(pe||[]);return l(_e,"_invoke",{value:k(te,Q,tt)}),_e}function _(te,G,Q){try{return{type:"normal",arg:te.call(G,Q)}}catch(pe){return{type:"throw",arg:pe}}}r.wrap=d;var g="suspendedStart",b="suspendedYield",D="executing",B="completed",S={};function O(){}function y(){}function N(){}var T={};p(T,f,function(){return this});var q=Object.getPrototypeOf,F=q&&q(q(re([])));F&&F!==s&&a.call(F,f)&&(T=F);var j=N.prototype=O.prototype=Object.create(T);function A(te){["next","throw","return"].forEach(function(G){p(te,G,function(Q){return this._invoke(G,Q)})})}function L(te,G){function Q(J,_e,tt,rt){var Pe=_(te[J],te,_e);if(Pe.type!=="throw"){var je=Pe.arg,ke=je.value;return ke&&e(ke)=="object"&&a.call(ke,"__await")?G.resolve(ke.__await).then(function(He){Q("next",He,tt,rt)},function(He){Q("throw",He,tt,rt)}):G.resolve(ke).then(function(He){je.value=He,tt(je)},function(He){return Q("throw",He,tt,rt)})}rt(Pe.arg)}var pe;l(this,"_invoke",{value:function(_e,tt){function rt(){return new G(function(Pe,je){Q(_e,tt,Pe,je)})}return pe=pe?pe.then(rt,rt):rt()}})}function k(te,G,Q){var pe=g;return function(J,_e){if(pe===D)throw Error("Generator is already running");if(pe===B){if(J==="throw")throw _e;return{value:n,done:!0}}for(Q.method=J,Q.arg=_e;;){var tt=Q.delegate;if(tt){var rt=R(tt,Q);if(rt){if(rt===S)continue;return rt}}if(Q.method==="next")Q.sent=Q._sent=Q.arg;else if(Q.method==="throw"){if(pe===g)throw pe=B,Q.arg;Q.dispatchException(Q.arg)}else Q.method==="return"&&Q.abrupt("return",Q.arg);pe=D;var Pe=_(te,G,Q);if(Pe.type==="normal"){if(pe=Q.done?B:b,Pe.arg===S)continue;return{value:Pe.arg,done:Q.done}}Pe.type==="throw"&&(pe=B,Q.method="throw",Q.arg=Pe.arg)}}}function R(te,G){var Q=G.method,pe=te.iterator[Q];if(pe===n)return G.delegate=null,Q==="throw"&&te.iterator.return&&(G.method="return",G.arg=n,R(te,G),G.method==="throw")||Q!=="return"&&(G.method="throw",G.arg=new TypeError("The iterator does not provide a '"+Q+"' method")),S;var J=_(pe,te.iterator,G.arg);if(J.type==="throw")return G.method="throw",G.arg=J.arg,G.delegate=null,S;var _e=J.arg;return _e?_e.done?(G[te.resultName]=_e.value,G.next=te.nextLoc,G.method!=="return"&&(G.method="next",G.arg=n),G.delegate=null,S):_e:(G.method="throw",G.arg=new TypeError("iterator result is not an object"),G.delegate=null,S)}function K(te){var G={tryLoc:te[0]};1 in te&&(G.catchLoc=te[1]),2 in te&&(G.finallyLoc=te[2],G.afterLoc=te[3]),this.tryEntries.push(G)}function z(te){var G=te.completion||{};G.type="normal",delete G.arg,te.completion=G}function fe(te){this.tryEntries=[{tryLoc:"root"}],te.forEach(K,this),this.reset(!0)}function re(te){if(te||te===""){var G=te[f];if(G)return G.call(te);if(typeof te.next=="function")return te;if(!isNaN(te.length)){var Q=-1,pe=function J(){for(;++Q<te.length;)if(a.call(te,Q))return J.value=te[Q],J.done=!1,J;return J.value=n,J.done=!0,J};return pe.next=pe}}throw new TypeError(e(te)+" is not iterable")}return y.prototype=N,l(j,"constructor",{value:N,configurable:!0}),l(N,"constructor",{value:y,configurable:!0}),y.displayName=p(N,v,"GeneratorFunction"),r.isGeneratorFunction=function(te){var G=typeof te=="function"&&te.constructor;return!!G&&(G===y||(G.displayName||G.name)==="GeneratorFunction")},r.mark=function(te){return Object.setPrototypeOf?Object.setPrototypeOf(te,N):(te.__proto__=N,p(te,v,"GeneratorFunction")),te.prototype=Object.create(j),te},r.awrap=function(te){return{__await:te}},A(L.prototype),p(L.prototype,h,function(){return this}),r.AsyncIterator=L,r.async=function(te,G,Q,pe,J){J===void 0&&(J=Promise);var _e=new L(d(te,G,Q,pe),J);return r.isGeneratorFunction(G)?_e:_e.next().then(function(tt){return tt.done?tt.value:_e.next()})},A(j),p(j,v,"Generator"),p(j,f,function(){return this}),p(j,"toString",function(){return"[object Generator]"}),r.keys=function(te){var G=Object(te),Q=[];for(var pe in G)Q.push(pe);return Q.reverse(),function J(){for(;Q.length;){var _e=Q.pop();if(_e in G)return J.value=_e,J.done=!1,J}return J.done=!0,J}},r.values=re,fe.prototype={constructor:fe,reset:function(G){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(z),!G)for(var Q in this)Q.charAt(0)==="t"&&a.call(this,Q)&&!isNaN(+Q.slice(1))&&(this[Q]=n)},stop:function(){this.done=!0;var G=this.tryEntries[0].completion;if(G.type==="throw")throw G.arg;return this.rval},dispatchException:function(G){if(this.done)throw G;var Q=this;function pe(je,ke){return tt.type="throw",tt.arg=G,Q.next=je,ke&&(Q.method="next",Q.arg=n),!!ke}for(var J=this.tryEntries.length-1;J>=0;--J){var _e=this.tryEntries[J],tt=_e.completion;if(_e.tryLoc==="root")return pe("end");if(_e.tryLoc<=this.prev){var rt=a.call(_e,"catchLoc"),Pe=a.call(_e,"finallyLoc");if(rt&&Pe){if(this.prev<_e.catchLoc)return pe(_e.catchLoc,!0);if(this.prev<_e.finallyLoc)return pe(_e.finallyLoc)}else if(rt){if(this.prev<_e.catchLoc)return pe(_e.catchLoc,!0)}else{if(!Pe)throw Error("try statement without catch or finally");if(this.prev<_e.finallyLoc)return pe(_e.finallyLoc)}}}},abrupt:function(G,Q){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var J=this.tryEntries[pe];if(J.tryLoc<=this.prev&&a.call(J,"finallyLoc")&&this.prev<J.finallyLoc){var _e=J;break}}_e&&(G==="break"||G==="continue")&&_e.tryLoc<=Q&&Q<=_e.finallyLoc&&(_e=null);var tt=_e?_e.completion:{};return tt.type=G,tt.arg=Q,_e?(this.method="next",this.next=_e.finallyLoc,S):this.complete(tt)},complete:function(G,Q){if(G.type==="throw")throw G.arg;return G.type==="break"||G.type==="continue"?this.next=G.arg:G.type==="return"?(this.rval=this.arg=G.arg,this.method="return",this.next="end"):G.type==="normal"&&Q&&(this.next=Q),S},finish:function(G){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var pe=this.tryEntries[Q];if(pe.finallyLoc===G)return this.complete(pe.completion,pe.afterLoc),z(pe),S}},catch:function(G){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var pe=this.tryEntries[Q];if(pe.tryLoc===G){var J=pe.completion;if(J.type==="throw"){var _e=J.arg;z(pe)}return _e}}throw Error("illegal catch attempt")},delegateYield:function(G,Q,pe){return this.delegate={iterator:re(G),resultName:Q,nextLoc:pe},this.method==="next"&&(this.arg=n),S}},r}i.exports=t,i.exports.__esModule=!0,i.exports.default=i.exports})(t2);var uN=t2.exports,tf=uN(),fN=tf;try{regeneratorRuntime=tf}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=tf:Function("r","regeneratorRuntime = r")(tf)}const $u=Ts(fN);var yo="chrome:theSession";new cn(yo);function cN(i,e,t){return e=Kr(e),ba(i,n2()?Reflect.construct(e,t||[],Kr(i).constructor):e.apply(i,t))}function n2(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n2=function(){return!!i})()}var cd=function(i){function e(){var t;return jr(this,e),t=cN(this,e,[""]),et(t,"value",""),et(t,"termType",As),et(t,"uri",yo),t}return Tn(e,i),qr(e,[{key:"toCanonical",value:function(){return this.value}},{key:"toString",value:function(){return"DefaultGraph"}}])}(Or);function s0(i){return!!i&&i.termType===As}var hN=new cd,ws=function(){function i(e,t,n,r){jr(this,i),et(this,"subject",void 0),et(this,"predicate",void 0),et(this,"object",void 0),et(this,"graph",void 0),this.subject=Or.fromValue(e),this.predicate=Or.fromValue(t),this.object=Or.fromValue(n),this.graph=r==null?hN:Or.fromValue(r)}return qr(i,[{key:"why",get:function(){return this.graph},set:function(t){this.graph=t}},{key:"equals",value:function(t){return t.subject.equals(this.subject)&&t.predicate.equals(this.predicate)&&t.object.equals(this.object)&&t.graph.equals(this.graph)}},{key:"substitute",value:function(t){var n=new i(this.subject.substitute(t),this.predicate.substitute(t),this.object.substitute(t),s0(this.graph)?this.graph:this.graph.substitute(t));return n}},{key:"toCanonical",value:function(){var t=[this.subject.toCanonical(),this.predicate.toCanonical(),this.object.toCanonical()];return this.graph&&this.graph.termType!==As&&t.push(this.graph.toCanonical()),t.join(" ")+" ."}},{key:"toNT",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT()].join(" ")+" ."}},{key:"toNQ",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT(),s0(this.graph)?"":this.graph.toNT()].join(" ")+" ."}},{key:"toString",value:function(){return this.toNT()}}])}(),i2=i2||console.log;function cl(i){var e;return e=i.indexOf("#"),e<0?i:i.slice(0,e)}function dN(i){var e=/[^\/]*\/\/([^\/]*)\//.exec(i);return e?e[1]:""}function gi(i,e){var t,n,r,s,a,l,u=e.indexOf("#");if(u>0&&(e=e.slice(0,u)),i.length===0)return e;if(i.indexOf("#")===0)return e+i;if(s=i.indexOf(":"),s>=0||(t=e.indexOf(":"),e.length===0))return i;if(t<0)return i2("Invalid base: "+e+" in join with given: "+i),i;if(n=e.slice(0,+t+1||9e9),i.indexOf("//")===0)return n+i;if(e.indexOf("//",t)===t+1){if(r=e.indexOf("/",t+3),r<0)return e.length-t-3>0?e+"/"+i:n+i}else if(r=e.indexOf("/",t+1),r<0)return e.length-t-1>0?e+"/"+i:n+i;if(i.indexOf("/")===0)return e.slice(0,r)+i;if(l=e.slice(r),a=l.lastIndexOf("/"),a<0)return n+i;for(a>=0&&a<l.length-1&&(l=l.slice(0,+a+1||9e9)),l+=i;l.match(/[^\/]*\/\.\.\//);)l=l.replace(/[^\/]*\/\.\.\//,"");return l=l.replace(/\.\//g,""),l=l.replace(/\/\.$/,"/"),e.slice(0,r)+l}function l0(i){var e=i.indexOf(":");return e<0?null:i.slice(0,e)}function ph(i,e){var t,n,r,s,a,l,u,f,h,v,p,d,_,g=new RegExp("^[-_a-zA-Z0-9.]+:(//[^/]*)?/[^/]*$");if(!i)return e;if(i===e)return"";for(n=f=0,a=e.length;f<a;n=++f){var b=e[n];if(b!==i[n])break}if(i.slice(0,n).match(g)&&(r=e.indexOf("//"),r<0&&(r=-2),s=e.indexOf("/",r+2),e[s+1]!=="/"&&i[s+1]!=="/"&&e.slice(0,s)===i.slice(0,s)))return e.slice(s);if(e[n]==="#"&&i.length===n)return e.slice(n);for(;n>0&&e[n-1]!=="/";)n--;if(n<3||i.indexOf("//",n-2)>0||e.indexOf("//",n-2)>0||i.indexOf(":",n)>0)return e;for(u=0,p=i.slice(n),h=0,l=p.length;h<l;h++)t=p[h],t==="/"&&u++;if(u===0&&n<e.length&&e[n]==="#")return"./"+e.slice(n);if(u===0&&n===e.length)return"./";if(_="",u>0)for(v=1,d=u;d>=1?v<=d:v>=d;d>=1?++v:--v)_+="../";return _+e.slice(n)}function pN(i,e,t){return e=Kr(e),ba(i,a2()?Reflect.construct(e,t||[],Kr(i).constructor):e.apply(i,t))}function a2(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a2=function(){return!!i})()}var ks=function(i){function e(){var t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return jr(this,e),t=pN(this,e,[n]),et(t,"termType",Wa),et(t,"base","varid:"),et(t,"classOrder",Gi.Variable),et(t,"isVar",1),et(t,"uri",void 0),t.base="varid:",t.uri=gi(n,t.base),t}return Tn(e,i),qr(e,[{key:"equals",value:function(n){return n?this.termType===n.termType&&this.value===n.value:!1}},{key:"hashString",value:function(){return this.toString()}},{key:"substitute",value:function(n){var r;return(r=n[this.toNT()])!=null?r:this}},{key:"toString",value:function(){return e.toString(this)}}],[{key:"toString",value:function(n){return n.uri.slice(0,n.base.length)===n.base?"?".concat(n.uri.slice(n.base.length)):"?".concat(n.uri)}}])}(Or),Un=function(i){return i.collections="COLLECTIONS",i.defaultGraphType="DEFAULT_GRAPH_TYPE",i.equalsMethod="EQUALS_METHOD",i.id="ID",i.identity="IDENTITY",i.reversibleId="REVERSIBLE_ID",i.variableType="VARIABLE_TYPE",i}({}),o0=new cd,Ti={supports:et(et(et(et(et(et(et({},Un.collections,!1),Un.defaultGraphType,!1),Un.equalsMethod,!0),Un.identity,!1),Un.id,!0),Un.reversibleId,!1),Un.variableType,!0),blankNode:function(e){return new Xi(e)},defaultGraph:function(){return o0},equals:function(e,t){return e===t||!e||!t?!0:ul(e)||ul(t)?ul(e)&&ul(t)?this.equals(e.subject,t.subject)&&this.equals(e.predicate,t.predicate)&&this.equals(e.object,t.object)&&this.equals(e.graph,t.graph):!1:da(e)&&da(t)?this.id(e)===this.id(t):!1},id:function(e){if(!e)return"undefined";if(ul(e))return this.quadToNQ(e);switch(e.termType){case As:return"defaultGraph";case Wa:return ks.toString(e);default:var t=this.termToNQ(e);if(t)return t;throw new Error("Can't id term with type '".concat(e.termType,"'"))}},isQuad:function(e){return e instanceof ws},literal:function(e,t){if(typeof e!="string"&&!t)return Hi.fromValue(e);var n=typeof e=="string"?e:""+e;return typeof t=="string"?t.indexOf(":")===-1?new Hi(n,t):new Hi(n,null,this.namedNode(t)):new Hi(n,null,t)},namedNode:function(e){return new cn(e)},quad:function(e,t,n,r){return new ws(e,t,n,r||o0)},triple:function(e,t,n,r){return this.quad(e,t,n,r)},quadToNQ:function(e){return"".concat(this.termToNQ(e.subject)," ").concat(this.termToNQ(e.predicate)," ").concat(this.termToNQ(e.object)," ").concat(this.termToNQ(e.graph)," .")},termToNQ:function(e){var t=this;switch(e.termType){case Ss:return"_:"+e.value;case As:return"";case X1:return"<http://www.w3.org/1999/02/22-rdf-syntax-ns#nil>";case wl:return Hi.toNT(e);case No:case Ns:return"<"+e.value+">";case Qa:return"("+e.elements.map(function(n){return t.termToNQ(n)}).join(" ")+")";default:throw new Error("Can't serialize nonstandard term type (was '".concat(e.termType,"')"))}},toNQ:function(e){return this.isQuad(e)?this.quadToNQ(e):this.termToNQ(e)},variable:function(e){return new ks(e)}},Vi={debug:function(e){},warn:function(e){},info:function(e){},error:function(e){},success:function(e){},msg:function(e){}};function Cn(i,e){var t=e||{namedNode:function(r){return new cn(r)}};return function(n){return t.namedNode(i+(n||""))}}var Ya={},wa={};function _N(i,e,t){if(t===void 0&&(t=Array.prototype),i&&typeof t.find=="function")return t.find.call(i,e);for(var n=0;n<i.length;n++)if(Object.prototype.hasOwnProperty.call(i,n)){var r=i[n];if(e.call(void 0,r,n,i))return r}}function hd(i,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(i):i}function vN(i,e){if(i===null||typeof i!="object")throw new TypeError("target is not an object");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t]);return i}var s2=hd({HTML:"text/html",isHTML:function(i){return i===s2.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),l2=hd({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(i){return i===l2.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});wa.assign=vN;wa.find=_N;wa.freeze=hd;wa.MIME_TYPE=s2;wa.NAMESPACE=l2;var o2=wa,Wi=o2.find,Eo=o2.NAMESPACE;function gN(i){return i!==""}function mN(i){return i?i.split(/[\t\n\f\r ]+/).filter(gN):[]}function bN(i,e){return i.hasOwnProperty(e)||(i[e]=!0),i}function u0(i){if(!i)return[];var e=mN(i);return Object.keys(e.reduce(bN,{}))}function wN(i){return function(e){return i&&i.indexOf(e)!==-1}}function So(i,e){for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}function xn(i,e){var t=i.prototype;if(!(t instanceof e)){let n=function(){};n.prototype=e.prototype,n=new n,So(t,n),i.prototype=t=n}t.constructor!=i&&(typeof i!="function"&&console.error("unknown Class:"+i),t.constructor=i)}var zn={},Ni=zn.ELEMENT_NODE=1,pl=zn.ATTRIBUTE_NODE=2,vf=zn.TEXT_NODE=3,u2=zn.CDATA_SECTION_NODE=4,f2=zn.ENTITY_REFERENCE_NODE=5,yN=zn.ENTITY_NODE=6,c2=zn.PROCESSING_INSTRUCTION_NODE=7,h2=zn.COMMENT_NODE=8,d2=zn.DOCUMENT_NODE=9,p2=zn.DOCUMENT_TYPE_NODE=10,pa=zn.DOCUMENT_FRAGMENT_NODE=11,EN=zn.NOTATION_NODE=12,mn={},an={};mn.INDEX_SIZE_ERR=(an[1]="Index size error",1);mn.DOMSTRING_SIZE_ERR=(an[2]="DOMString size error",2);var Mn=mn.HIERARCHY_REQUEST_ERR=(an[3]="Hierarchy request error",3);mn.WRONG_DOCUMENT_ERR=(an[4]="Wrong document",4);mn.INVALID_CHARACTER_ERR=(an[5]="Invalid character",5);mn.NO_DATA_ALLOWED_ERR=(an[6]="No data allowed",6);mn.NO_MODIFICATION_ALLOWED_ERR=(an[7]="No modification allowed",7);var _2=mn.NOT_FOUND_ERR=(an[8]="Not found",8);mn.NOT_SUPPORTED_ERR=(an[9]="Not supported",9);var f0=mn.INUSE_ATTRIBUTE_ERR=(an[10]="Attribute in use",10);mn.INVALID_STATE_ERR=(an[11]="Invalid state",11);mn.SYNTAX_ERR=(an[12]="Syntax error",12);mn.INVALID_MODIFICATION_ERR=(an[13]="Invalid modification",13);mn.NAMESPACE_ERR=(an[14]="Invalid namespace",14);mn.INVALID_ACCESS_ERR=(an[15]="Invalid access",15);function Qr(i,e){if(e instanceof Error)var t=e;else t=this,Error.call(this,an[i]),this.message=an[i],Error.captureStackTrace&&Error.captureStackTrace(this,Qr);return t.code=i,e&&(this.message=this.message+": "+e),t}Qr.prototype=Error.prototype;So(mn,Qr);function fa(){}fa.prototype={length:0,item:function(i){return i>=0&&i<this.length?this[i]:null},toString:function(i,e){for(var t=[],n=0;n<this.length;n++)hl(this[n],t,i,e);return t.join("")},filter:function(i){return Array.prototype.filter.call(this,i)},indexOf:function(i){return Array.prototype.indexOf.call(this,i)}};function _l(i,e){this._node=i,this._refresh=e,dd(this)}function dd(i){var e=i._node._inc||i._node.ownerDocument._inc;if(i._inc!==e){var t=i._refresh(i._node);if(T2(i,"length",t.length),!i.$$length||t.length<i.$$length)for(var n=t.length;n in i;n++)Object.prototype.hasOwnProperty.call(i,n)&&delete i[n];So(t,i),i._inc=e}}_l.prototype.item=function(i){return dd(this),this[i]||null};xn(_l,fa);function gf(){}function v2(i,e){for(var t=i.length;t--;)if(i[t]===e)return t}function c0(i,e,t,n){if(n?e[v2(e,n)]=t:e[e.length++]=t,i){t.ownerElement=i;var r=i.ownerDocument;r&&(n&&b2(r,i,n),DN(r,i,t))}}function h0(i,e,t){var n=v2(e,t);if(n>=0){for(var r=e.length-1;n<r;)e[n]=e[++n];if(e.length=r,i){var s=i.ownerDocument;s&&(b2(s,i,t),t.ownerElement=null)}}else throw new Qr(_2,new Error(i.tagName+"@"+t))}gf.prototype={length:0,item:fa.prototype.item,getNamedItem:function(i){for(var e=this.length;e--;){var t=this[e];if(t.nodeName==i)return t}},setNamedItem:function(i){var e=i.ownerElement;if(e&&e!=this._ownerElement)throw new Qr(f0);var t=this.getNamedItem(i.nodeName);return c0(this._ownerElement,this,i,t),t},setNamedItemNS:function(i){var e=i.ownerElement,t;if(e&&e!=this._ownerElement)throw new Qr(f0);return t=this.getNamedItemNS(i.namespaceURI,i.localName),c0(this._ownerElement,this,i,t),t},removeNamedItem:function(i){var e=this.getNamedItem(i);return h0(this._ownerElement,this,e),e},removeNamedItemNS:function(i,e){var t=this.getNamedItemNS(i,e);return h0(this._ownerElement,this,t),t},getNamedItemNS:function(i,e){for(var t=this.length;t--;){var n=this[t];if(n.localName==e&&n.namespaceURI==i)return n}return null}};function g2(){}g2.prototype={hasFeature:function(i,e){return!0},createDocument:function(i,e,t){var n=new Io;if(n.implementation=this,n.childNodes=new fa,n.doctype=t||null,t&&n.appendChild(t),e){var r=n.createElementNS(i,e);n.appendChild(r)}return n},createDocumentType:function(i,e,t){var n=new Of;return n.name=i,n.nodeName=i,n.publicId=e||"",n.systemId=t||"",n}};function wr(){}wr.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(i,e){return mf(this,i,e)},replaceChild:function(i,e){mf(this,i,e,y2),e&&this.removeChild(e)},removeChild:function(i){return w2(this,i)},appendChild:function(i){return this.insertBefore(i,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(i){return Vh(this.ownerDocument||this,this,i)},normalize:function(){for(var i=this.firstChild;i;){var e=i.nextSibling;e&&e.nodeType==vf&&i.nodeType==vf?(this.removeChild(e),i.appendData(e.data)):(i.normalize(),i=e)}},isSupported:function(i,e){return this.ownerDocument.implementation.hasFeature(i,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(i){for(var e=this;e;){var t=e._nsMap;if(t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&t[n]===i)return n}e=e.nodeType==pl?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(i){for(var e=this;e;){var t=e._nsMap;if(t&&Object.prototype.hasOwnProperty.call(t,i))return t[i];e=e.nodeType==pl?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(i){var e=this.lookupPrefix(i);return e==null}};function m2(i){return i=="<"&&"&lt;"||i==">"&&"&gt;"||i=="&"&&"&amp;"||i=='"'&&"&quot;"||"&#"+i.charCodeAt()+";"}So(zn,wr);So(zn,wr.prototype);function Do(i,e){if(e(i))return!0;if(i=i.firstChild)do if(Do(i,e))return!0;while(i=i.nextSibling)}function Io(){this.ownerDocument=this}function DN(i,e,t){i&&i._inc++;var n=t.namespaceURI;n===Eo.XMLNS&&(e._nsMap[t.prefix?t.localName:""]=t.value)}function b2(i,e,t,n){i&&i._inc++;var r=t.namespaceURI;r===Eo.XMLNS&&delete e._nsMap[t.prefix?t.localName:""]}function pd(i,e,t){if(i&&i._inc){i._inc++;var n=e.childNodes;if(t)n[n.length++]=t;else{for(var r=e.firstChild,s=0;r;)n[s++]=r,r=r.nextSibling;n.length=s,delete n[n.length]}}}function w2(i,e){var t=e.previousSibling,n=e.nextSibling;return t?t.nextSibling=n:i.firstChild=n,n?n.previousSibling=t:i.lastChild=t,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,pd(i.ownerDocument,i),e}function AN(i){return i&&(i.nodeType===wr.DOCUMENT_NODE||i.nodeType===wr.DOCUMENT_FRAGMENT_NODE||i.nodeType===wr.ELEMENT_NODE)}function kN(i){return i&&(Qi(i)||_d(i)||_a(i)||i.nodeType===wr.DOCUMENT_FRAGMENT_NODE||i.nodeType===wr.COMMENT_NODE||i.nodeType===wr.PROCESSING_INSTRUCTION_NODE)}function _a(i){return i&&i.nodeType===wr.DOCUMENT_TYPE_NODE}function Qi(i){return i&&i.nodeType===wr.ELEMENT_NODE}function _d(i){return i&&i.nodeType===wr.TEXT_NODE}function d0(i,e){var t=i.childNodes||[];if(Wi(t,Qi)||_a(e))return!1;var n=Wi(t,_a);return!(e&&n&&t.indexOf(n)>t.indexOf(e))}function p0(i,e){var t=i.childNodes||[];function n(s){return Qi(s)&&s!==e}if(Wi(t,n))return!1;var r=Wi(t,_a);return!(e&&r&&t.indexOf(r)>t.indexOf(e))}function CN(i,e,t){if(!AN(i))throw new Qr(Mn,"Unexpected parent node type "+i.nodeType);if(t&&t.parentNode!==i)throw new Qr(_2,"child not in parent");if(!kN(e)||_a(e)&&i.nodeType!==wr.DOCUMENT_NODE)throw new Qr(Mn,"Unexpected node type "+e.nodeType+" for parent node type "+i.nodeType)}function TN(i,e,t){var n=i.childNodes||[],r=e.childNodes||[];if(e.nodeType===wr.DOCUMENT_FRAGMENT_NODE){var s=r.filter(Qi);if(s.length>1||Wi(r,_d))throw new Qr(Mn,"More than one element or text in fragment");if(s.length===1&&!d0(i,t))throw new Qr(Mn,"Element in fragment can not be inserted before doctype")}if(Qi(e)&&!d0(i,t))throw new Qr(Mn,"Only one element can be added and only after doctype");if(_a(e)){if(Wi(n,_a))throw new Qr(Mn,"Only one doctype is allowed");var a=Wi(n,Qi);if(t&&n.indexOf(a)<n.indexOf(t))throw new Qr(Mn,"Doctype can only be inserted before an element");if(!t&&a)throw new Qr(Mn,"Doctype can not be appended since element is present")}}function y2(i,e,t){var n=i.childNodes||[],r=e.childNodes||[];if(e.nodeType===wr.DOCUMENT_FRAGMENT_NODE){var s=r.filter(Qi);if(s.length>1||Wi(r,_d))throw new Qr(Mn,"More than one element or text in fragment");if(s.length===1&&!p0(i,t))throw new Qr(Mn,"Element in fragment can not be inserted before doctype")}if(Qi(e)&&!p0(i,t))throw new Qr(Mn,"Only one element can be added and only after doctype");if(_a(e)){if(Wi(n,function(u){return _a(u)&&u!==t}))throw new Qr(Mn,"Only one doctype is allowed");var a=Wi(n,Qi);if(t&&n.indexOf(a)<n.indexOf(t))throw new Qr(Mn,"Doctype can only be inserted before an element")}}function mf(i,e,t,n){CN(i,e,t),i.nodeType===wr.DOCUMENT_NODE&&(n||TN)(i,e,t);var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===pa){var s=e.firstChild;if(s==null)return e;var a=e.lastChild}else s=a=e;var l=t?t.previousSibling:i.lastChild;s.previousSibling=l,a.nextSibling=t,l?l.nextSibling=s:i.firstChild=s,t==null?i.lastChild=a:t.previousSibling=a;do s.parentNode=i;while(s!==a&&(s=s.nextSibling));return pd(i.ownerDocument||i,i),e.nodeType==pa&&(e.firstChild=e.lastChild=null),e}function NN(i,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=i,e.previousSibling=i.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:i.firstChild=e,i.lastChild=e,pd(i.ownerDocument,i,e),e}Io.prototype={nodeName:"#document",nodeType:d2,doctype:null,documentElement:null,_inc:1,insertBefore:function(i,e){if(i.nodeType==pa){for(var t=i.firstChild;t;){var n=t.nextSibling;this.insertBefore(t,e),t=n}return i}return mf(this,i,e),i.ownerDocument=this,this.documentElement===null&&i.nodeType===Ni&&(this.documentElement=i),i},removeChild:function(i){return this.documentElement==i&&(this.documentElement=null),w2(this,i)},replaceChild:function(i,e){mf(this,i,e,y2),i.ownerDocument=this,e&&this.removeChild(e),Qi(i)&&(this.documentElement=i)},importNode:function(i,e){return C2(this,i,e)},getElementById:function(i){var e=null;return Do(this.documentElement,function(t){if(t.nodeType==Ni&&t.getAttribute("id")==i)return e=t,!0}),e},getElementsByClassName:function(i){var e=u0(i);return new _l(this,function(t){var n=[];return e.length>0&&Do(t.documentElement,function(r){if(r!==t&&r.nodeType===Ni){var s=r.getAttribute("class");if(s){var a=i===s;if(!a){var l=u0(s);a=e.every(wN(l))}a&&n.push(r)}}}),n})},createElement:function(i){var e=new Cs;e.ownerDocument=this,e.nodeName=i,e.tagName=i,e.localName=i,e.childNodes=new fa;var t=e.attributes=new gf;return t._ownerElement=e,e},createDocumentFragment:function(){var i=new Lf;return i.ownerDocument=this,i.childNodes=new fa,i},createTextNode:function(i){var e=new vd;return e.ownerDocument=this,e.appendData(i),e},createComment:function(i){var e=new gd;return e.ownerDocument=this,e.appendData(i),e},createCDATASection:function(i){var e=new md;return e.ownerDocument=this,e.appendData(i),e},createProcessingInstruction:function(i,e){var t=new wd;return t.ownerDocument=this,t.tagName=t.nodeName=t.target=i,t.nodeValue=t.data=e,t},createAttribute:function(i){var e=new bf;return e.ownerDocument=this,e.name=i,e.nodeName=i,e.localName=i,e.specified=!0,e},createEntityReference:function(i){var e=new bd;return e.ownerDocument=this,e.nodeName=i,e},createElementNS:function(i,e){var t=new Cs,n=e.split(":"),r=t.attributes=new gf;return t.childNodes=new fa,t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.namespaceURI=i,n.length==2?(t.prefix=n[0],t.localName=n[1]):t.localName=e,r._ownerElement=t,t},createAttributeNS:function(i,e){var t=new bf,n=e.split(":");return t.ownerDocument=this,t.nodeName=e,t.name=e,t.namespaceURI=i,t.specified=!0,n.length==2?(t.prefix=n[0],t.localName=n[1]):t.localName=e,t}};xn(Io,wr);function Cs(){this._nsMap={}}Cs.prototype={nodeType:Ni,hasAttribute:function(i){return this.getAttributeNode(i)!=null},getAttribute:function(i){var e=this.getAttributeNode(i);return e&&e.value||""},getAttributeNode:function(i){return this.attributes.getNamedItem(i)},setAttribute:function(i,e){var t=this.ownerDocument.createAttribute(i);t.value=t.nodeValue=""+e,this.setAttributeNode(t)},removeAttribute:function(i){var e=this.getAttributeNode(i);e&&this.removeAttributeNode(e)},appendChild:function(i){return i.nodeType===pa?this.insertBefore(i,null):NN(this,i)},setAttributeNode:function(i){return this.attributes.setNamedItem(i)},setAttributeNodeNS:function(i){return this.attributes.setNamedItemNS(i)},removeAttributeNode:function(i){return this.attributes.removeNamedItem(i.nodeName)},removeAttributeNS:function(i,e){var t=this.getAttributeNodeNS(i,e);t&&this.removeAttributeNode(t)},hasAttributeNS:function(i,e){return this.getAttributeNodeNS(i,e)!=null},getAttributeNS:function(i,e){var t=this.getAttributeNodeNS(i,e);return t&&t.value||""},setAttributeNS:function(i,e,t){var n=this.ownerDocument.createAttributeNS(i,e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},getAttributeNodeNS:function(i,e){return this.attributes.getNamedItemNS(i,e)},getElementsByTagName:function(i){return new _l(this,function(e){var t=[];return Do(e,function(n){n!==e&&n.nodeType==Ni&&(i==="*"||n.tagName==i)&&t.push(n)}),t})},getElementsByTagNameNS:function(i,e){return new _l(this,function(t){var n=[];return Do(t,function(r){r!==t&&r.nodeType===Ni&&(i==="*"||r.namespaceURI===i)&&(e==="*"||r.localName==e)&&n.push(r)}),n})}};Io.prototype.getElementsByTagName=Cs.prototype.getElementsByTagName;Io.prototype.getElementsByTagNameNS=Cs.prototype.getElementsByTagNameNS;xn(Cs,wr);function bf(){}bf.prototype.nodeType=pl;xn(bf,wr);function Ro(){}Ro.prototype={data:"",substringData:function(i,e){return this.data.substring(i,i+e)},appendData:function(i){i=this.data+i,this.nodeValue=this.data=i,this.length=i.length},insertData:function(i,e){this.replaceData(i,0,e)},appendChild:function(i){throw new Error(an[Mn])},deleteData:function(i,e){this.replaceData(i,e,"")},replaceData:function(i,e,t){var n=this.data.substring(0,i),r=this.data.substring(i+e);t=n+t+r,this.nodeValue=this.data=t,this.length=t.length}};xn(Ro,wr);function vd(){}vd.prototype={nodeName:"#text",nodeType:vf,splitText:function(i){var e=this.data,t=e.substring(i);e=e.substring(0,i),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(t);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};xn(vd,Ro);function gd(){}gd.prototype={nodeName:"#comment",nodeType:h2};xn(gd,Ro);function md(){}md.prototype={nodeName:"#cdata-section",nodeType:u2};xn(md,Ro);function Of(){}Of.prototype.nodeType=p2;xn(Of,wr);function E2(){}E2.prototype.nodeType=EN;xn(E2,wr);function D2(){}D2.prototype.nodeType=yN;xn(D2,wr);function bd(){}bd.prototype.nodeType=f2;xn(bd,wr);function Lf(){}Lf.prototype.nodeName="#document-fragment";Lf.prototype.nodeType=pa;xn(Lf,wr);function wd(){}wd.prototype.nodeType=c2;xn(wd,wr);function A2(){}A2.prototype.serializeToString=function(i,e,t){return k2.call(i,e,t)};wr.prototype.toString=k2;function k2(i,e){var t=[],n=this.nodeType==9&&this.documentElement||this,r=n.prefix,s=n.namespaceURI;if(s&&r==null){var r=n.lookupPrefix(s);if(r==null)var a=[{namespace:s,prefix:null}]}return hl(this,t,i,e,a),t.join("")}function _0(i,e,t){var n=i.prefix||"",r=i.namespaceURI;if(!r||n==="xml"&&r===Eo.XML||r===Eo.XMLNS)return!1;for(var s=t.length;s--;){var a=t[s];if(a.prefix===n)return a.namespace!==r}return!0}function _h(i,e,t){i.push(" ",e,'="',t.replace(/[<>&"\t\n\r]/g,m2),'"')}function hl(i,e,t,n,r){if(r||(r=[]),n)if(i=n(i),i){if(typeof i=="string"){e.push(i);return}}else return;switch(i.nodeType){case Ni:var s=i.attributes,a=s.length,D=i.firstChild,l=i.tagName;t=Eo.isHTML(i.namespaceURI)||t;var u=l;if(!t&&!i.prefix&&i.namespaceURI){for(var f,h=0;h<s.length;h++)if(s.item(h).name==="xmlns"){f=s.item(h).value;break}if(!f)for(var v=r.length-1;v>=0;v--){var p=r[v];if(p.prefix===""&&p.namespace===i.namespaceURI){f=p.namespace;break}}if(f!==i.namespaceURI)for(var v=r.length-1;v>=0;v--){var p=r[v];if(p.namespace===i.namespaceURI){p.prefix&&(u=p.prefix+":"+l);break}}}e.push("<",u);for(var d=0;d<a;d++){var _=s.item(d);_.prefix=="xmlns"?r.push({prefix:_.localName,namespace:_.value}):_.nodeName=="xmlns"&&r.push({prefix:"",namespace:_.value})}for(var d=0;d<a;d++){var _=s.item(d);if(_0(_,t,r)){var g=_.prefix||"",b=_.namespaceURI;_h(e,g?"xmlns:"+g:"xmlns",b),r.push({prefix:g,namespace:b})}hl(_,e,t,n,r)}if(l===u&&_0(i,t,r)){var g=i.prefix||"",b=i.namespaceURI;_h(e,g?"xmlns:"+g:"xmlns",b),r.push({prefix:g,namespace:b})}if(D||t&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(e.push(">"),t&&/^script$/i.test(l))for(;D;)D.data?e.push(D.data):hl(D,e,t,n,r.slice()),D=D.nextSibling;else for(;D;)hl(D,e,t,n,r.slice()),D=D.nextSibling;e.push("</",u,">")}else e.push("/>");return;case d2:case pa:for(var D=i.firstChild;D;)hl(D,e,t,n,r.slice()),D=D.nextSibling;return;case pl:return _h(e,i.name,i.value);case vf:return e.push(i.data.replace(/[<&>]/g,m2));case u2:return e.push("<![CDATA[",i.data,"]]>");case h2:return e.push("<!--",i.data,"-->");case p2:var B=i.publicId,S=i.systemId;if(e.push("<!DOCTYPE ",i.name),B)e.push(" PUBLIC ",B),S&&S!="."&&e.push(" ",S),e.push(">");else if(S&&S!=".")e.push(" SYSTEM ",S,">");else{var O=i.internalSubset;O&&e.push(" [",O,"]"),e.push(">")}return;case c2:return e.push("<?",i.target," ",i.data,"?>");case f2:return e.push("&",i.nodeName,";");default:e.push("??",i.nodeName)}}function C2(i,e,t){var n;switch(e.nodeType){case Ni:n=e.cloneNode(!1),n.ownerDocument=i;case pa:break;case pl:t=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=i,n.parentNode=null,t)for(var r=e.firstChild;r;)n.appendChild(C2(i,r,t)),r=r.nextSibling;return n}function Vh(i,e,t){var n=new e.constructor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=e[r];typeof s!="object"&&s!=n[r]&&(n[r]=s)}switch(e.childNodes&&(n.childNodes=new fa),n.ownerDocument=i,n.nodeType){case Ni:var a=e.attributes,l=n.attributes=new gf,u=a.length;l._ownerElement=n;for(var f=0;f<u;f++)n.setAttributeNode(Vh(i,a.item(f),!0));break;case pl:t=!0}if(t)for(var h=e.firstChild;h;)n.appendChild(Vh(i,h,t)),h=h.nextSibling;return n}function T2(i,e,t){i[e]=t}try{if(Object.defineProperty){let i=function(e){switch(e.nodeType){case Ni:case pa:var t=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&t.push(i(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}};Object.defineProperty(_l.prototype,"length",{get:function(){return dd(this),this.$$length}}),Object.defineProperty(wr.prototype,"textContent",{get:function(){return i(this)},set:function(e){switch(this.nodeType){case Ni:case pa:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),T2=function(e,t,n){e["$$"+t]=n}}}catch{}Ya.DocumentType=Of;Ya.DOMException=Qr;Ya.DOMImplementation=g2;Ya.Element=Cs;Ya.Node=wr;Ya.NodeList=fa;Ya.XMLSerializer=A2;var Bf={},N2={};(function(i){var e=wa.freeze;i.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),i.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),i.entityMap=i.HTML_ENTITIES})(N2);var yd={},Ao=wa.NAMESPACE,Hh=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v0=new RegExp("[\\-\\.0-9"+Hh.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),g0=new RegExp("^"+Hh.source+v0.source+"*(?::"+Hh.source+v0.source+"*)?$"),ao=0,qa=1,tl=2,so=3,rl=4,nl=5,lo=6,Gu=7;function vl(i,e){this.message=i,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,vl)}vl.prototype=new Error;vl.prototype.name=vl.name;function S2(){}S2.prototype={parse:function(i,e,t){var n=this.domBuilder;n.startDocument(),I2(e,e={}),SN(i,e,t,n,this.errorHandler),n.endDocument()}};function SN(i,e,t,n,r){function s(z){if(z>65535){z-=65536;var fe=55296+(z>>10),re=56320+(z&1023);return String.fromCharCode(fe,re)}else return String.fromCharCode(z)}function a(z){var fe=z.slice(1,-1);return Object.hasOwnProperty.call(t,fe)?t[fe]:fe.charAt(0)==="#"?s(parseInt(fe.substr(1).replace("x","0x"))):(r.error("entity not found:"+z),z)}function l(z){if(z>g){var fe=i.substring(g,z).replace(/&#?\w+;/g,a);p&&u(g),n.characters(fe,0,z-g),g=z}}function u(z,fe){for(;z>=h&&(fe=v.exec(i));)f=fe.index,h=f+fe[0].length,p.lineNumber++;p.columnNumber=z-f+1}for(var f=0,h=0,v=/.*(?:\r\n?|\n)|.*$/g,p=n.locator,d=[{currentNSMap:e}],_={},g=0;;){try{var b=i.indexOf("<",g);if(b<0){if(!i.substr(g).match(/^\s*$/)){var D=n.doc,B=D.createTextNode(i.substr(g));D.appendChild(B),n.currentElement=B}return}switch(b>g&&l(b),i.charAt(b+1)){case"/":var A=i.indexOf(">",b+3),S=i.substring(b+2,A).replace(/[ \t\n\r]+$/g,""),O=d.pop();A<0?(S=i.substring(b+2).replace(/[\s<].*/,""),r.error("end tag name: "+S+" is not complete:"+O.tagName),A=b+1+S.length):S.match(/\s</)&&(S=S.replace(/[\s<].*/,""),r.error("end tag name: "+S+" maybe not complete"),A=b+1+S.length);var y=O.localNSMap,N=O.tagName==S,T=N||O.tagName&&O.tagName.toLowerCase()==S.toLowerCase();if(T){if(n.endElement(O.uri,O.localName,S),y)for(var q in y)Object.prototype.hasOwnProperty.call(y,q)&&n.endPrefixMapping(q);N||r.fatalError("end tag name: "+S+" is not match the current start tagName:"+O.tagName)}else d.push(O);A++;break;case"?":p&&u(b),A=ON(i,b,n);break;case"!":p&&u(b),A=FN(i,b,n,r);break;default:p&&u(b);var F=new R2,j=d[d.length-1].currentNSMap,A=IN(i,b,F,j,a,r),L=F.length;if(!F.closed&&PN(i,A,F.tagName,_)&&(F.closed=!0,t.nbsp||r.warning("unclosed xml attribute")),p&&L){for(var k=m0(p,{}),R=0;R<L;R++){var K=F[R];u(K.offset),K.locator=m0(p,{})}n.locator=k,b0(F,n,j)&&d.push(F),n.locator=p}else b0(F,n,j)&&d.push(F);Ao.isHTML(F.uri)&&!F.closed?A=RN(i,A,F.tagName,a,n):A++}}catch(z){if(z instanceof vl)throw z;r.error("element parse error: "+z),A=-1}A>g?g=A:l(Math.max(b,g)+1)}}function m0(i,e){return e.lineNumber=i.lineNumber,e.columnNumber=i.columnNumber,e}function IN(i,e,t,n,r,s){function a(p,d,_){t.attributeNames.hasOwnProperty(p)&&s.fatalError("Attribute "+p+" redefined"),t.addValue(p,d.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,r),_)}for(var l,u,f=++e,h=ao;;){var v=i.charAt(f);switch(v){case"=":if(h===qa)l=i.slice(e,f),h=so;else if(h===tl)h=so;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(h===so||h===qa)if(h===qa&&(s.warning('attribute value must after "="'),l=i.slice(e,f)),e=f+1,f=i.indexOf(v,e),f>0)u=i.slice(e,f),a(l,u,e-1),h=nl;else throw new Error("attribute value no end '"+v+"' match");else if(h==rl)u=i.slice(e,f),a(l,u,e),s.warning('attribute "'+l+'" missed start quot('+v+")!!"),e=f+1,h=nl;else throw new Error('attribute value must after "="');break;case"/":switch(h){case ao:t.setTagName(i.slice(e,f));case nl:case lo:case Gu:h=Gu,t.closed=!0;case rl:case qa:break;case tl:t.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),h==ao&&t.setTagName(i.slice(e,f)),f;case">":switch(h){case ao:t.setTagName(i.slice(e,f));case nl:case lo:case Gu:break;case rl:case qa:u=i.slice(e,f),u.slice(-1)==="/"&&(t.closed=!0,u=u.slice(0,-1));case tl:h===tl&&(u=l),h==rl?(s.warning('attribute "'+u+'" missed quot(")!'),a(l,u,e)):((!Ao.isHTML(n[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),a(u,u,e));break;case so:throw new Error("attribute value missed!!")}return f;case"":v=" ";default:if(v<=" ")switch(h){case ao:t.setTagName(i.slice(e,f)),h=lo;break;case qa:l=i.slice(e,f),h=tl;break;case rl:var u=i.slice(e,f);s.warning('attribute "'+u+'" missed quot(")!!'),a(l,u,e);case nl:h=lo;break}else switch(h){case tl:t.tagName,(!Ao.isHTML(n[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),a(l,l,e),e=f,h=qa;break;case nl:s.warning('attribute space is required"'+l+'"!!');case lo:h=qa,e=f;break;case so:h=rl,e=f;break;case Gu:throw new Error("elements closed character '/' and '>' must be connected to")}}f++}}function b0(i,e,t){for(var n=i.tagName,r=null,v=i.length;v--;){var s=i[v],a=s.qName,l=s.value,p=a.indexOf(":");if(p>0)var u=s.prefix=a.slice(0,p),f=a.slice(p+1),h=u==="xmlns"&&f;else f=a,u=null,h=a==="xmlns"&&"";s.localName=f,h!==!1&&(r==null&&(r={},I2(t,t={})),t[h]=r[h]=l,s.uri=Ao.XMLNS,e.startPrefixMapping(h,l))}for(var v=i.length;v--;){s=i[v];var u=s.prefix;u&&(u==="xml"&&(s.uri=Ao.XML),u!=="xmlns"&&(s.uri=t[u||""]))}var p=n.indexOf(":");p>0?(u=i.prefix=n.slice(0,p),f=i.localName=n.slice(p+1)):(u=null,f=i.localName=n);var d=i.uri=t[u||""];if(e.startElement(d,f,n,i),i.closed){if(e.endElement(d,f,n),r)for(u in r)Object.prototype.hasOwnProperty.call(r,u)&&e.endPrefixMapping(u)}else return i.currentNSMap=t,i.localNSMap=r,!0}function RN(i,e,t,n,r){if(/^(?:script|textarea)$/i.test(t)){var s=i.indexOf("</"+t+">",e),a=i.substring(e+1,s);if(/[&<]/.test(a))return/^script$/i.test(t)?(r.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,n),r.characters(a,0,a.length),s)}return e+1}function PN(i,e,t,n){var r=n[t];return r==null&&(r=i.lastIndexOf("</"+t+">"),r<e&&(r=i.lastIndexOf("</"+t)),n[t]=r),r<e}function I2(i,e){for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}function FN(i,e,t,n){var r=i.charAt(e+2);switch(r){case"-":if(i.charAt(e+3)==="-"){var s=i.indexOf("-->",e+4);return s>e?(t.comment(i,e+4,s-e-4),s+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(i.substr(e+3,6)=="CDATA["){var s=i.indexOf("]]>",e+9);return t.startCDATA(),t.characters(i,e+9,s-e-9),t.endCDATA(),s+3}var a=LN(i,e),l=a.length;if(l>1&&/!doctype/i.test(a[0][0])){var u=a[1][0],f=!1,h=!1;l>3&&(/^public$/i.test(a[2][0])?(f=a[3][0],h=l>4&&a[4][0]):/^system$/i.test(a[2][0])&&(h=a[3][0]));var v=a[l-1];return t.startDTD(u,f,h),t.endDTD(),v.index+v[0].length}}return-1}function ON(i,e,t){var n=i.indexOf("?>",e);if(n){var r=i.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,t.processingInstruction(r[1],r[2]),n+2):-1}return-1}function R2(){this.attributeNames={}}R2.prototype={setTagName:function(i){if(!g0.test(i))throw new Error("invalid tagName:"+i);this.tagName=i},addValue:function(i,e,t){if(!g0.test(i))throw new Error("invalid attribute:"+i);this.attributeNames[i]=this.length,this[this.length++]={qName:i,value:e,offset:t}},length:0,getLocalName:function(i){return this[i].localName},getLocator:function(i){return this[i].locator},getQName:function(i){return this[i].qName},getURI:function(i){return this[i].uri},getValue:function(i){return this[i].value}};function LN(i,e){var t,n=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(i);t=r.exec(i);)if(n.push(t),t[1])return n}yd.XMLReader=S2;yd.ParseError=vl;var BN=wa,UN=Ya,w0=N2,P2=yd,MN=UN.DOMImplementation,y0=BN.NAMESPACE,qN=P2.ParseError,jN=P2.XMLReader;function F2(i){return i.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function O2(i){this.options=i||{locator:{}}}O2.prototype.parseFromString=function(i,e){var t=this.options,n=new jN,r=t.domBuilder||new Po,s=t.errorHandler,a=t.locator,l=t.xmlns||{},u=/\/x?html?$/.test(e),f=u?w0.HTML_ENTITIES:w0.XML_ENTITIES;a&&r.setDocumentLocator(a),n.errorHandler=xN(s,r,a),n.domBuilder=t.domBuilder||r,u&&(l[""]=y0.HTML),l.xml=l.xml||y0.XML;var h=t.normalizeLineEndings||F2;return i&&typeof i=="string"?n.parse(h(i),l,f):n.errorHandler.error("invalid doc source"),r.doc};function xN(i,e,t){if(!i){if(e instanceof Po)return e;i=e}var n={},r=i instanceof Function;t=t||{};function s(a){var l=i[a];!l&&r&&(l=i.length==2?function(u){i(a,u)}:i),n[a]=l&&function(u){l("[xmldom "+a+"]	"+u+$h(t))}||function(){}}return s("warning"),s("error"),s("fatalError"),n}function Po(){this.cdata=!1}function il(i,e){e.lineNumber=i.lineNumber,e.columnNumber=i.columnNumber}Po.prototype={startDocument:function(){this.doc=new MN().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(i,e,t,n){var r=this.doc,s=r.createElementNS(i,t||e),a=n.length;Xu(this,s),this.currentElement=s,this.locator&&il(this.locator,s);for(var l=0;l<a;l++){var i=n.getURI(l),u=n.getValue(l),t=n.getQName(l),f=r.createAttributeNS(i,t);this.locator&&il(n.getLocator(l),f),f.value=f.nodeValue=u,s.setAttributeNode(f)}},endElement:function(i,e,t){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(i,e){},endPrefixMapping:function(i){},processingInstruction:function(i,e){var t=this.doc.createProcessingInstruction(i,e);this.locator&&il(this.locator,t),Xu(this,t)},ignorableWhitespace:function(i,e,t){},characters:function(i,e,t){if(i=E0.apply(this,arguments),i){if(this.cdata)var n=this.doc.createCDATASection(i);else var n=this.doc.createTextNode(i);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(i)&&this.doc.appendChild(n),this.locator&&il(this.locator,n)}},skippedEntity:function(i){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(i){(this.locator=i)&&(i.lineNumber=0)},comment:function(i,e,t){i=E0.apply(this,arguments);var n=this.doc.createComment(i);this.locator&&il(this.locator,n),Xu(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(i,e,t){var n=this.doc.implementation;if(n&&n.createDocumentType){var r=n.createDocumentType(i,e,t);this.locator&&il(this.locator,r),Xu(this,r),this.doc.doctype=r}},warning:function(i){console.warn("[xmldom warning]	"+i,$h(this.locator))},error:function(i){console.error("[xmldom error]	"+i,$h(this.locator))},fatalError:function(i){throw new qN(i,this.locator)}};function $h(i){if(i)return`
@`+(i.systemId||"")+"#[line:"+i.lineNumber+",col:"+i.columnNumber+"]"}function E0(i,e,t){return typeof i=="string"?i.substr(e,t):i.length>=e+t||e?new java.lang.String(i,e,t)+"":i}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(i){Po.prototype[i]=function(){return null}});function Xu(i,e){i.currentElement?i.currentElement.appendChild(e):i.doc.appendChild(e)}Bf.__DOMHandler=Po;Bf.normalizeLineEndings=F2;Bf.DOMParser=O2;var D0=Bf.DOMParser;function zN(i){return i=i.split(";")[0].trim(),new cn("http://www.w3.org/ns/iana/media-types/"+i+"#Resource")}function VN(i,e){i.callbacks={};for(var t=e.length-1;t>=0;t--)i.callbacks[e[t]]=[];i.addHook=function(n){i.callbacks[n]||(i.callbacks[n]=[])},i.addCallback=function(n,r){i.callbacks[n].push(r)},i.removeCallback=function(n,r){for(var s=0;s<i.callbacks[n].length;s++)if(i.callbacks[n][s].name===r)return i.callbacks[n].splice(s,1),!0;return!1},i.insertCallback=function(n,r){i.callbacks[n].unshift(r)},i.fireCallbacks=function(r,s){var a=[],l=[],u=i.callbacks[r].length,f,h;for(f=u-1;f>=0;f--)h=i.callbacks[r][f],h&&h.apply(i,s)&&a.push(h);for(f=a.length-1;f>=0;f--)l.push(a[f]);for(f=u;f<i.callbacks[r].length;f++)l.push(i.callbacks[r][f]);i.callbacks[r]=l}}function HN(i,e){e=e||{};var t=[];e&&e.selfClosing&&e.selfClosing.split(" ").forEach(function(r){t[r]=!0});var n=[];return e&&e.skipAttributes&&e.skipAttributes.split(" ").forEach(function(r){n[r]=!0}),L2(i,e,t,n)}function L2(i,e,t,n){var r,s="",a=[!1];if(typeof i.nodeType>"u")return s;if(i.nodeType===1){if(i.hasAttribute("class")&&e&&e.classWithChildText&&i.matches(e.classWithChildText.class))s+=i.querySelector(e.classWithChildText.element).textContent;else if(!(e&&e.skipNodeWithClass&&i.matches("."+e.skipNodeWithClass))){var l=i.nodeName.toLowerCase();s+="<"+l;var u=[];for(r=i.attributes.length-1;r>=0;r--){var f=i.attributes[r];if(!(n&&n.length>0&&n[f.name])&&!/^\d+$/.test(f.name)){if(f.name==="class"&&e&&e.replaceClassItemWith&&f.value.split(" ").indexOf(e.replaceClassItemWith.source)>-1){var h=new RegExp(e.replaceClassItemWith.source,"g");f.value=f.value.replace(h,e.replaceClassItemWith.target).trim()}f.name==="class"&&e&&e.skipClassWithValue&&e.skipClassWithValue===f.value||u.push(f.name+"='"+f.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&quot;")+"'")}}if(u.length>0&&(e&&e.sortAttributes&&u.sort(function(p,d){return p.toLowerCase().localeCompare(d.toLowerCase())}),s+=" "+u.join(" ")),t&&t.ename)s+=" />";else{for(s+=">",s+=l==="html"?`
  `:"",a.push(l==="style"||l==="script"),r=0;r<i.childNodes.length;r++)s+=L2(i.childNodes[r]);a.pop(),s+=l==="body"?"</"+l+`>
`:"</"+l+">"}}}else if(i.nodeType===8)s+="<!--"+i.nodeValue+"-->";else if(i.nodeType===3||i.nodeType===4){var v=i.nodeValue.replace(/\n+$/,"");s+=a[a.length-1]?v:v.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}else console.log("Warning; Cannot handle serialising nodes of type: "+i.nodeType),console.log(i);return s}function vh(i,e,t,n){var r=function(u){return u.termType==="BlankNode"?null:u},s=function(u){var f=t.statementsMatching(u).map(function(h){return""+r(h.subject)+" "+r(h.predicate)+" "+r(h.object)}).concat(t.statementsMatching(void 0,void 0,u).map(function(h){return""+r(h.subject)+" "+r(h.predicate)+" "+r(h.object)}));return f.sort(),f.join(`
`)},a=Object.prototype.hasOwnProperty.call(t,"compareTerms")?t.compareTerms(i,e):i.compareTerm(e);return i.termType==="BlankNode"&&e.termType==="BlankNode"?a===0?0:s(i)>s(e)?1:s(i)<s(e)?-1:a:n&&i.uri&&e.uri?(n[i.uri]||i.uri).localeCompare(n[e.uri]||e.uri):a}function $N(i,e,t,n){return vh(i.subject,e.subject,t,n)||vh(i.predicate,e.predicate,t,n)||vh(i.object,e.object,t,n)}function dl(i,e){var t;if(e=e||{},typeof module<"u"&&module&&module.exports){var n=new D0().parseFromString(i,e.contentType||"application/xhtml+xml");return n}else typeof window<"u"&&window.DOMParser?t=new window.DOMParser:t=new D0;return t.parseFromString(i,"application/xml")}function GN(i,e){for(var t=0;t<i.length;t++)if(i[t].subject.equals(e.subject)&&i[t].predicate.equals(e.predicate)&&i[t].object.equals(e.object)&&i[t].why.equals(e.why)){i.splice(t,1);return}throw new Error("RDFArrayRemove: Array did not contain "+e+" "+e.why)}function B2(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ti;return{boolean:i.namedNode("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:i.namedNode("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:i.namedNode("http://www.w3.org/2001/XMLSchema#decimal"),double:i.namedNode("http://www.w3.org/2001/XMLSchema#double"),integer:i.namedNode("http://www.w3.org/2001/XMLSchema#integer"),langString:i.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:i.namedNode("http://www.w3.org/2001/XMLSchema#string")}}B2(Ti);const A0={acl:"http://www.w3.org/ns/auth/acl#",arg:"http://www.w3.org/ns/pim/arg#",as:"https://www.w3.org/ns/activitystreams#",cal:"http://www.w3.org/2002/12/cal/ical#",cert:"http://www.w3.org/ns/auth/cert#",contact:"http://www.w3.org/2000/10/swap/pim/contact#",dc:"http://purl.org/dc/elements/1.1/",dct:"http://purl.org/dc/terms/",doap:"http://usefulinc.com/ns/doap#",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",gpx:"http://www.w3.org/ns/pim/gpx#",http:"http://www.w3.org/2007/ont/http#",httph:"http://www.w3.org/2007/ont/httph#",icalTZ:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",link:"http://www.w3.org/2007/ont/link#",log:"http://www.w3.org/2000/10/swap/log#",meeting:"http://www.w3.org/ns/pim/meeting#",mo:"http://purl.org/ontology/mo/",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",pad:"http://www.w3.org/ns/pim/pad#",patch:"http://www.w3.org/ns/pim/patch#",prov:"http://www.w3.org/ns/prov#",qu:"http://www.w3.org/2000/10/swap/pim/qif#",trip:"http://www.w3.org/ns/pim/trip#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rss:"http://purl.org/rss/1.0/",sched:"http://www.w3.org/ns/pim/schedule#",schema:"http://schema.org/",sioc:"http://rdfs.org/sioc/ns#",solid:"http://www.w3.org/ns/solid/terms#",space:"http://www.w3.org/ns/pim/space#",stat:"http://www.w3.org/ns/posix/stat#",tab:"http://www.w3.org/2007/ont/link#",tabont:"http://www.w3.org/2007/ont/link#",ui:"http://www.w3.org/ns/ui#",vcard:"http://www.w3.org/2006/vcard/ns#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#",cco:"http://www.ontologyrepository.com/CommonCoreOntologies/",skos:"http://www.w3.org/2004/02/skos/core#",bookmark:"http://www.w3.org/2002/01/bookmark#",vann:"http://purl.org/vocab/vann/"};function XN(i={namedNode:e=>e}){const e={};for(const t in A0){const n=A0[t];e[t]=function(r=""){return i.namedNode(n+r)}}return e}var WN=XN;const k0=Ts(WN);var U2={exports:{}};(function(i){(function(e,t){i.exports?i.exports=t():e.ttl2jsonld=t()})(ua,function(){function e(r,s){function a(){this.constructor=r}a.prototype=s.prototype,r.prototype=new a}function t(r,s,a,l){this.message=r,this.expected=s,this.found=a,this.location=l,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}e(t,Error),t.buildMessage=function(r,s){var a={literal:function(d){return'"'+u(d.text)+'"'},class:function(d){var _="",g;for(g=0;g<d.parts.length;g++)_+=d.parts[g]instanceof Array?f(d.parts[g][0])+"-"+f(d.parts[g][1]):f(d.parts[g]);return"["+(d.inverted?"^":"")+_+"]"},any:function(d){return"any character"},end:function(d){return"end of input"},other:function(d){return d.description}};function l(d){return d.charCodeAt(0).toString(16).toUpperCase()}function u(d){return d.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(_){return"\\x0"+l(_)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(_){return"\\x"+l(_)})}function f(d){return d.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(_){return"\\x0"+l(_)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(_){return"\\x"+l(_)})}function h(d){return a[d.type](d)}function v(d){var _=new Array(d.length),g,b;for(g=0;g<d.length;g++)_[g]=h(d[g]);if(_.sort(),_.length>0){for(g=1,b=1;g<_.length;g++)_[g-1]!==_[g]&&(_[b]=_[g],b++);_.length=b}switch(_.length){case 1:return _[0];case 2:return _[0]+" or "+_[1];default:return _.slice(0,-1).join(", ")+", or "+_[_.length-1]}}function p(d){return d?'"'+u(d)+'"':"end of input"}return"Expected "+v(r)+" but "+p(s)+" found."};function n(r,s){s=s!==void 0?s:{};var a={},l={turtleDoc:ou},u=ou,f=function(E){var x=ir.toJSON();return x["@graph"]=[],E.filter(X=>Array.isArray(X)).forEach(X=>{X.forEach(ne=>{x["@graph"].push(ne)})}),x["@graph"].length===1&&(Object.assign(x,x["@graph"][0]),delete x["@graph"]),x},h=".",v=jt(".",!1),p=function(E){return E},d="#",_=jt("#",!1),g=/^[^\n]/,b=vr([`
`],!0,!1),D=`
`,B=jt(`
`,!1),S=function(E){return E.join("")},O="@prefix",y=jt("@prefix",!1),N=function(E,x){return ir.addPrefix(E===""?"0":E,x),{}},T="@base",q=jt("@base",!1),F=function(E){return ir.addBase(E),{}},j=/^[Bb]/,A=vr(["B","b"],!1,!1),L=/^[Aa]/,k=vr(["A","a"],!1,!1),R=/^[Ss]/,K=vr(["S","s"],!1,!1),z=/^[Ee]/,fe=vr(["E","e"],!1,!1),re=/^[Pp]/,te=vr(["P","p"],!1,!1),G=/^[Rr]/,Q=vr(["R","r"],!1,!1),pe=/^[Ff]/,J=vr(["F","f"],!1,!1),_e=/^[Ii]/,tt=vr(["I","i"],!1,!1),rt=/^[Xx]/,Pe=vr(["X","x"],!1,!1),je=function(E,x){var X={};return typeof E=="string"&&E!=="[]"?X["@id"]=E:typeof E=="object"&&Object.assign(X,E),x&&Object.assign(X,x),[X]},ke=function(E,x){var X={};return E&&Object.assign(X,E),x&&Object.assign(X,x),[X]},He=";",ot=jt(";",!1),kt=function(E,x,X,ne){var oe={};return oe[X]=ne,oe},Re=function(E,x,X){return X},le=function(E,x,X){var ne={};return X.unshift(ls(E,x)),X.forEach(oe=>{oe&&Object.keys(oe).forEach(ye=>{oe[ye].forEach(De=>{ye==="@type"&&De["@id"]!==void 0&&(De=De["@id"]),ne[ye]===void 0?ne[ye]=De:Array.isArray(ne[ye])?ne[ye].push(De):ne[ye]=[ne[ye],De]})})}),ne},Ue=",",sr=jt(",",!1),Yt=function(E,x){return x},Tr=function(E,x){return x.unshift(E),x},nr="a",Nr=jt("a",!1),fr=function(){return"@type"},mt=function(E){return Fa(E,!0)},Dt=function(E){return Fa(E,!1)},nt=function(E){return E==="[]"?{}:{"@id":E}},pt=function(E){return{"@id":E}},ze="[",W=jt("[",!1),P="]",M=jt("]",!1),ee="(",we=jt("(",!1),Le=")",Ve=jt(")",!1),Nt=function(E){return{"@list":E}},qt=function(E,x){return{"@value":E,"@language":x}},At="^^",Mt=jt("^^",!1),er=function(E,x){if(x==="http://www.w3.org/2001/XMLSchema#boolean"&&E==="true")return!0;if(x==="http://www.w3.org/2001/XMLSchema#boolean"&&E==="false")return!1;if(x==="http://www.w3.org/2001/XMLSchema#integer")return parseInt(E);if(x==="http://www.w3.org/2001/XMLSchema#double")return parseFloat(E);const X=ir.resolve(x,!0);if(X){const ne=x.split(":")[0];if(X==="http://www.w3.org/2001/XMLSchema#boolean"&&E==="true")return ir.decrement(ne),!0;if(X==="http://www.w3.org/2001/XMLSchema#boolean"&&E==="false")return ir.decrement(ne),!1;if(X==="http://www.w3.org/2001/XMLSchema#integer")return ir.decrement(ne),parseInt(E);if(X==="http://www.w3.org/2001/XMLSchema#double")return ir.decrement(ne),parseFloat(E)}return{"@value":E,"@type":x}},Pi="true",Fs=jt("true",!1),Nn=function(){return!0},Fi="false",kl=jt("false",!1),Oi=function(){return!1},Cl=function(E){return E+":"},Os="<",Ls=jt("<",!1),Da=/^[^\0- <>"{}|\^`\\]/,Ja=vr([["\0"," "],"<",">",'"',"{","}","|","^","`","\\"],!0,!1),Tl=">",Aa=jt(">",!1),Nl=function(E){const x=E.map(ne=>65536<=ne.codePointAt(0)&&ne.codePointAt(0)<=983039?"a":ne.length===1?ne:ne.length===6?String.fromCharCode("0x"+ne.substring(2)):ne.length===10?String.fromCodePoint("0x"+ne.substring(2)):ne).join("");if(x.match(/^[^\u0000-\u0020<>"{}|^`\\]*$/)){var X=E.join("");try{return ir.resolve(X)}catch{ns("Invalid IRIREF "+X)}}else ns("Invalid IRIREF "+E.join("")+" / "+x)},hn=":",Ee=jt(":",!1),de=function(E){return E=E||"0",ir.hasPrefix(E)===!1&&ns("undefined prefix "+E),E},Ce=function(E){return E||""},xe=function(E,x){return ir.increment(E),ir.resolve(E+":"+x)},Me="_:",bt=jt("_:",!1),ct=/^[0-9]/,Ct=vr([["0","9"]],!1,!1),pr="@",Br=jt("@",!1),Wt=/^[a-zA-Z]/,cr=vr([["a","z"],["A","Z"]],!1,!1),Sr="-",Ot=jt("-",!1),hr=/^[a-zA-Z0-9]/,_r=vr([["a","z"],["A","Z"],["0","9"]],!1,!1),mr=function(E,x){return"-"+x.join("")},bn=function(E,x){return E.join("")+x.join("")},sn=/^[+\-]/,ln=vr(["+","-"],!1,!1),Li=function(E){return E.match(/^[0+][0-9]+$/)?{"@value":E,"@type":"http://www.w3.org/2001/XMLSchema#integer"}:parseInt(E)},ei=function(E){return{"@value":E,"@type":"http://www.w3.org/2001/XMLSchema#decimal"}},on=function(E){return{"@value":E,"@type":"http://www.w3.org/2001/XMLSchema#double"}},wn=/^[eE]/,wi=vr(["e","E"],!1,!1),dn='"',ti=jt('"',!1),Za=/^[^"\\\n\r]/,ka=vr(['"',"\\",`
`,"\r"],!0,!1),ri="'",ni=jt("'",!1),yi=/^[^'\\\n\r]/,es=vr(["'","\\",`
`,"\r"],!0,!1),Bi="'''",Vn=jt("'''",!1),Hn=/^[^'\\]/,ii=vr(["'","\\"],!0,!1),ts="''",Sl=jt("''",!1),Bs=function(E,x){return"''"+x.join("")},qo=function(E,x){return"'"+x.join("")},Il=function(E,x){return E.join("")+x.join("")},Ca='"""',Us=jt('"""',!1),un=/^[^"\\]/,$n=vr(['"',"\\"],!0,!1),rs='""',jo=jt('""',!1),Rl=function(E,x){return'""'+x.join("")},Pl=function(E,x){return'"'+x.join("")},Fl="\\U",xo=jt("\\U",!1),Vf=function(E){return String.fromCodePoint(parseInt(E.join(""),16))},zo="\\u",Hf=jt("\\u",!1),Vo=function(E){return String.fromCharCode(parseInt(E.join(""),16))},Ho="\\t",$f=jt("\\t",!1),Gf=function(){return"	"},$o="\\b",Ol=jt("\\b",!1),Xf=function(){return"\b"},Go="\\n",Wf=jt("\\n",!1),Qf=function(){return`
`},Xo="\\r",Ir=jt("\\r",!1),yr=function(){return"\r"},Wo="\\f",Yf=jt("\\f",!1),Kf=function(){return"\f"},Qo='\\"',Jf=jt('\\"',!1),Zf=function(){return'"'},Ll="\\'",ec=jt("\\'",!1),Jr=function(){return"'"},Ms="\\\\",Ji=jt("\\\\",!1),Yo=function(){return"\\"},Bl=/^[ \t\r\n]/,Sn=vr([" ","	","\r",`
`],!1,!1),Ko=function(){return"[]"},Jo=/^[\uD800-\uDBFF]/,Zo=vr([["\uD800","\uDBFF"]],!1,!1),eu=/^[\uDC00-\uDFFF]/,tu=vr([["\uDC00","\uDFFF"]],!1,!1),ru=function(E,x){return E+x},yn=/^[A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,tc=vr([["A","Z"],["a","z"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],!1,!1),In="_",rc=jt("_",!1),nu="",Ui=jt("",!1),qs=/^[\u0300-\u036F]/,Ul=vr([["",""]],!1,!1),Pr=/^[\u203F-\u2040]/,Mi=vr([["",""]],!1,!1),js=function(E,x,X,ne){return X.join("")+ne.join("")},nc=function(E,x,X){return E+x.join("")+X.join("")},Ml="%",ic=jt("%",!1),ac=/^[0-9A-Fa-f]/,sc=vr([["0","9"],["A","F"],["a","f"]],!1,!1),iu="\\",xs=jt("\\",!1),Ta=/^[_~.!$&'()*+,;=\/?#@%\-]/,lc=vr(["_","~",".","!","$","&","'","(",")","*","+",",",";","=","/","?","#","@","%","-"],!1,!1),C=0,ut=0,Na=[{line:1,column:1}],Rn=0,zs=[],Vs;if("startRule"in s){if(!(s.startRule in l))throw new Error(`Can't start parsing from rule "`+s.startRule+'".');u=l[s.startRule]}function ns(E,x){throw x=x!==void 0?x:is(ut,C),su(E,x)}function jt(E,x){return{type:"literal",text:E,ignoreCase:x}}function vr(E,x,X){return{type:"class",parts:E,inverted:x,ignoreCase:X}}function au(){return{type:"end"}}function pn(E){var x=Na[E],X;if(x)return x;for(X=E-1;!Na[X];)X--;for(x=Na[X],x={line:x.line,column:x.column};X<E;)r.charCodeAt(X)===10?(x.line++,x.column=1):x.column++,X++;return Na[E]=x,x}function is(E,x){var X=pn(E),ne=pn(x);return{start:{offset:E,line:X.line,column:X.column},end:{offset:x,line:ne.line,column:ne.column}}}function Oe(E){C<Rn||(C>Rn&&(Rn=C,zs=[]),zs.push(E))}function su(E,x){return new t(E,null,null,x)}function lu(E,x,X){return new t(t.buildMessage(E,x),E,x,X)}function ou(){var E,x,X,ne;for(E=C,x=[],X=uu();X!==a;)x.push(X),X=uu();if(x!==a){for(X=[],ne=ft();ne!==a;)X.push(ne),ne=ft();X!==a?(ut=E,x=f(x),E=x):(C=E,E=a)}else C=E,E=a;return E}function uu(){var E,x,X,ne;if(E=uc(),E===a)if(E=C,x=fu(),x!==a){for(X=[],ne=ft();ne!==a;)X.push(ne),ne=ft();X!==a?(r.charCodeAt(C)===46?(ne=h,C++):(ne=a,Oe(v)),ne!==a?(ut=E,x=p(x),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;return E}function oc(){var E,x,X,ne;if(E=C,r.charCodeAt(C)===35?(x=d,C++):(x=a,Oe(_)),x!==a){for(X=[],g.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(b));ne!==a;)X.push(ne),g.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(b));X!==a?(r.charCodeAt(C)===10?(ne=D,C++):(ne=a,Oe(B)),ne!==a?(ut=E,x=S(X),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;return E}function ft(){var E;return E=hu(),E===a&&(E=oc()),E}function uc(){var E;return E=Sa(),E===a&&(E=fc(),E===a&&(E=ql(),E===a&&(E=cc()))),E}function Sa(){var E,x,X,ne,oe,ye,De,ce,dt;for(E=C,x=[],X=ft();X!==a;)x.push(X),X=ft();if(x!==a)if(r.substr(C,7)===O?(X=O,C+=7):(X=a,Oe(y)),X!==a){for(ne=[],oe=ft();oe!==a;)ne.push(oe),oe=ft();if(ne!==a)if(oe=Ut(),oe!==a){for(ye=[],De=ft();De!==a;)ye.push(De),De=ft();if(ye!==a)if(De=qe(),De!==a){for(ce=[],dt=ft();dt!==a;)ce.push(dt),dt=ft();ce!==a?(r.charCodeAt(C)===46?(dt=h,C++):(dt=a,Oe(v)),dt!==a?(ut=E,x=N(oe,De),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;else C=E,E=a}else C=E,E=a;else C=E,E=a}else C=E,E=a;else C=E,E=a;return E}function fc(){var E,x,X,ne,oe,ye,De;for(E=C,x=[],X=ft();X!==a;)x.push(X),X=ft();if(x!==a)if(r.substr(C,5)===T?(X=T,C+=5):(X=a,Oe(q)),X!==a){for(ne=[],oe=ft();oe!==a;)ne.push(oe),oe=ft();if(ne!==a)if(oe=qe(),oe!==a){for(ye=[],De=ft();De!==a;)ye.push(De),De=ft();ye!==a?(r.charCodeAt(C)===46?(De=h,C++):(De=a,Oe(v)),De!==a?(ut=E,x=F(oe),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;else C=E,E=a}else C=E,E=a;else C=E,E=a;return E}function cc(){var E,x,X,ne,oe,ye,De,ce;for(E=C,x=[],X=ft();X!==a;)x.push(X),X=ft();if(x!==a)if(j.test(r.charAt(C))?(X=r.charAt(C),C++):(X=a,Oe(A)),X!==a)if(L.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(k)),ne!==a)if(R.test(r.charAt(C))?(oe=r.charAt(C),C++):(oe=a,Oe(K)),oe!==a)if(z.test(r.charAt(C))?(ye=r.charAt(C),C++):(ye=a,Oe(fe)),ye!==a){for(De=[],ce=ft();ce!==a;)De.push(ce),ce=ft();De!==a?(ce=qe(),ce!==a?(ut=E,x=F(ce),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;else C=E,E=a;else C=E,E=a;else C=E,E=a;else C=E,E=a;return E}function ql(){var E,x,X,ne,oe,ye,De,ce,dt,dr,Rr,Ur;for(E=C,x=[],X=ft();X!==a;)x.push(X),X=ft();if(x!==a)if(re.test(r.charAt(C))?(X=r.charAt(C),C++):(X=a,Oe(te)),X!==a)if(G.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(Q)),ne!==a)if(z.test(r.charAt(C))?(oe=r.charAt(C),C++):(oe=a,Oe(fe)),oe!==a)if(pe.test(r.charAt(C))?(ye=r.charAt(C),C++):(ye=a,Oe(J)),ye!==a)if(_e.test(r.charAt(C))?(De=r.charAt(C),C++):(De=a,Oe(tt)),De!==a)if(rt.test(r.charAt(C))?(ce=r.charAt(C),C++):(ce=a,Oe(Pe)),ce!==a){for(dt=[],dr=ft();dr!==a;)dt.push(dr),dr=ft();if(dt!==a)if(dr=Ut(),dr!==a){for(Rr=[],Ur=ft();Ur!==a;)Rr.push(Ur),Ur=ft();Rr!==a?(Ur=qe(),Ur!==a?(ut=E,x=N(dr,Ur),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;else C=E,E=a}else C=E,E=a;else C=E,E=a;else C=E,E=a;else C=E,E=a;else C=E,E=a;else C=E,E=a;else C=E,E=a;return E}function fu(){var E,x,X;return E=C,x=hc(),x!==a?(X=ai(),X!==a?(ut=E,x=je(x,X),E=x):(C=E,E=a)):(C=E,E=a),E===a&&(E=C,x=xl(),x!==a?(X=ai(),X===a&&(X=null),X!==a?(ut=E,x=ke(x,X),E=x):(C=E,E=a)):(C=E,E=a)),E}function ai(){var E,x,X,ne,oe,ye,De,ce,dt,dr;if(E=C,x=jl(),x!==a)if(X=Ia(),X!==a){for(ne=[],oe=C,ye=[],De=ft();De!==a;)ye.push(De),De=ft();for(ye!==a?(r.charCodeAt(C)===59?(De=He,C++):(De=a,Oe(ot)),De!==a?(ce=C,dt=jl(),dt!==a?(dr=Ia(),dr!==a?(ut=ce,dt=kt(x,X,dt,dr),ce=dt):(C=ce,ce=a)):(C=ce,ce=a),ce===a&&(ce=null),ce!==a?(ut=oe,ye=Re(x,X,ce),oe=ye):(C=oe,oe=a)):(C=oe,oe=a)):(C=oe,oe=a);oe!==a;){for(ne.push(oe),oe=C,ye=[],De=ft();De!==a;)ye.push(De),De=ft();ye!==a?(r.charCodeAt(C)===59?(De=He,C++):(De=a,Oe(ot)),De!==a?(ce=C,dt=jl(),dt!==a?(dr=Ia(),dr!==a?(ut=ce,dt=kt(x,X,dt,dr),ce=dt):(C=ce,ce=a)):(C=ce,ce=a),ce===a&&(ce=null),ce!==a?(ut=oe,ye=Re(x,X,ce),oe=ye):(C=oe,oe=a)):(C=oe,oe=a)):(C=oe,oe=a)}ne!==a?(ut=E,x=le(x,X,ne),E=x):(C=E,E=a)}else C=E,E=a;else C=E,E=a;return E}function Ia(){var E,x,X,ne,oe,ye,De;if(E=C,x=si(),x!==a){for(X=[],ne=C,oe=[],ye=ft();ye!==a;)oe.push(ye),ye=ft();for(oe!==a?(r.charCodeAt(C)===44?(ye=Ue,C++):(ye=a,Oe(sr)),ye!==a?(De=si(),De!==a?(ut=ne,oe=Yt(x,De),ne=oe):(C=ne,ne=a)):(C=ne,ne=a)):(C=ne,ne=a);ne!==a;){for(X.push(ne),ne=C,oe=[],ye=ft();ye!==a;)oe.push(ye),ye=ft();oe!==a?(r.charCodeAt(C)===44?(ye=Ue,C++):(ye=a,Oe(sr)),ye!==a?(De=si(),De!==a?(ut=ne,oe=Yt(x,De),ne=oe):(C=ne,ne=a)):(C=ne,ne=a)):(C=ne,ne=a)}X!==a?(ut=E,x=Tr(x,X),E=x):(C=E,E=a)}else C=E,E=a;return E}function jl(){var E,x,X;if(E=C,x=dc(),x!==a&&(ut=E,x=p(x)),E=x,E===a){for(E=C,x=[],X=ft();X!==a;)x.push(X),X=ft();x!==a?(r.charCodeAt(C)===97?(X=nr,C++):(X=a,Oe(Nr)),X!==a?(ut=E,x=fr(),E=x):(C=E,E=a)):(C=E,E=a)}return E}function hc(){var E,x;return E=C,x=cu(),x!==a&&(ut=E,x=mt(x)),E=x,E===a&&(E=Ge(),E===a&&(E=Ei())),E}function dc(){var E,x,X;for(E=C,x=[],X=ft();X!==a;)x.push(X),X=ft();return x!==a?(X=Ei(),X!==a?(ut=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a),E}function si(){var E,x;return E=Gn(),E===a&&(E=C,x=cu(),x!==a&&(ut=E,x=Dt(x)),E=x,E===a&&(E=C,x=Ge(),x!==a&&(ut=E,x=nt(x)),E=x,E===a&&(E=C,x=xl(),x!==a&&(ut=E,x=p(x)),E=x,E===a&&(E=C,x=Ei(),x!==a&&(ut=E,x=pt(x)),E=x)))),E}function Gn(){var E;return E=_c(),E===a&&(E=pc(),E===a&&(E=vc())),E}function xl(){var E,x,X,ne,oe,ye;for(E=C,x=[],X=ft();X!==a;)x.push(X),X=ft();if(x!==a)if(r.charCodeAt(C)===91?(X=ze,C++):(X=a,Oe(W)),X!==a)if(ne=ai(),ne!==a){for(oe=[],ye=ft();ye!==a;)oe.push(ye),ye=ft();oe!==a?(r.charCodeAt(C)===93?(ye=P,C++):(ye=a,Oe(M)),ye!==a?(ut=E,x=p(ne),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;else C=E,E=a;else C=E,E=a;return E}function cu(){var E,x,X,ne,oe,ye;for(E=C,x=[],X=ft();X!==a;)x.push(X),X=ft();if(x!==a)if(r.charCodeAt(C)===40?(X=ee,C++):(X=a,Oe(we)),X!==a){for(ne=[],oe=si();oe!==a;)ne.push(oe),oe=si();if(ne!==a){for(oe=[],ye=ft();ye!==a;)oe.push(ye),ye=ft();oe!==a?(r.charCodeAt(C)===41?(ye=Le,C++):(ye=a,Oe(Ve)),ye!==a?(ut=E,x=Nt(ne),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a}else C=E,E=a;else C=E,E=a;return E}function pc(){var E,x,X;for(E=C,x=[],X=ft();X!==a;)x.push(X),X=ft();return x!==a?(X=Pn(),X===a&&(X=gc(),X===a&&(X=Vl())),X!==a?(ut=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a),E}function _c(){var E,x,X,ne,oe,ye,De;for(E=C,x=[],X=ft();X!==a;)x.push(X),X=ft();if(x!==a)if(X=zl(),X!==a){for(ne=[],oe=ft();oe!==a;)ne.push(oe),oe=ft();ne!==a?(oe=br(),oe!==a?(ut=E,x=qt(X,oe),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;else C=E,E=a;if(E===a){for(E=C,x=[],X=ft();X!==a;)x.push(X),X=ft();if(x!==a)if(X=zl(),X!==a){for(ne=[],oe=ft();oe!==a;)ne.push(oe),oe=ft();if(ne!==a)if(r.substr(C,2)===At?(oe=At,C+=2):(oe=a,Oe(Mt)),oe!==a){for(ye=[],De=ft();De!==a;)ye.push(De),De=ft();ye!==a?(De=Ei(),De!==a?(ut=E,x=er(X,De),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;else C=E,E=a}else C=E,E=a;else C=E,E=a;if(E===a){for(E=C,x=[],X=ft();X!==a;)x.push(X),X=ft();x!==a?(X=zl(),X!==a?(ut=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a)}}return E}function vc(){var E,x,X;for(E=C,x=[],X=ft();X!==a;)x.push(X),X=ft();if(x!==a?(r.substr(C,4)===Pi?(X=Pi,C+=4):(X=a,Oe(Fs)),X!==a?(ut=E,x=Nn(),E=x):(C=E,E=a)):(C=E,E=a),E===a){for(E=C,x=[],X=ft();X!==a;)x.push(X),X=ft();x!==a?(r.substr(C,5)===Fi?(X=Fi,C+=5):(X=a,Oe(kl)),X!==a?(ut=E,x=Oi(),E=x):(C=E,E=a)):(C=E,E=a)}return E}function zl(){var E,x,X;for(E=C,x=[],X=ft();X!==a;)x.push(X),X=ft();return x!==a?(X=Hs(),X===a&&(X=$s(),X===a&&(X=Pa(),X===a&&(X=mc()))),X!==a?(ut=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a),E}function Ei(){var E,x,X;for(E=C,x=[],X=ft();X!==a;)x.push(X),X=ft();if(x!==a?(X=qe(),X!==a?(ut=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a),E===a){for(E=C,x=[],X=ft();X!==a;)x.push(X),X=ft();x!==a?(X=Se(),X!==a?(ut=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a)}return E}function Se(){var E,x;return E=ur(),E===a&&(E=C,x=_t(),x!==a&&(ut=E,x=Cl(x)),E=x),E}function Ge(){var E,x,X;for(E=C,x=[],X=ft();X!==a;)x.push(X),X=ft();if(x!==a?(X=$r(),X!==a?(ut=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a),E===a){for(E=C,x=[],X=ft();X!==a;)x.push(X),X=ft();x!==a?(X=Gs(),X!==a?(ut=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a)}return E}function qe(){var E,x,X,ne;if(E=C,r.charCodeAt(C)===60?(x=Os,C++):(x=a,Oe(Ls)),x!==a){for(X=[],Da.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(Ja)),ne===a&&(ne=Tt());ne!==a;)X.push(ne),Da.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(Ja)),ne===a&&(ne=Tt());X!==a?(r.charCodeAt(C)===62?(ne=Tl,C++):(ne=a,Oe(Aa)),ne!==a?(ut=E,x=Nl(X),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;return E}function _t(){var E,x,X;return E=C,x=as(),x===a&&(x=null),x!==a?(r.charCodeAt(C)===58?(X=hn,C++):(X=a,Oe(Ee)),X!==a?(ut=E,x=de(x),E=x):(C=E,E=a)):(C=E,E=a),E}function Ut(){var E,x,X;return E=C,x=as(),x===a&&(x=null),x!==a?(r.charCodeAt(C)===58?(X=hn,C++):(X=a,Oe(Ee)),X!==a?(ut=E,x=Ce(x),E=x):(C=E,E=a)):(C=E,E=a),E}function ur(){var E,x,X;return E=C,x=_t(),x!==a?(X=qi(),X!==a?(ut=E,x=xe(x,X),E=x):(C=E,E=a)):(C=E,E=a),E}function $r(){var E,x,X,ne,oe,ye,De,ce,dt,dr;if(E=C,x=C,r.substr(C,2)===Me?(X=Me,C+=2):(X=a,Oe(bt)),X!==a)if(ne=Hl(),ne===a&&(ct.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(Ct))),ne!==a){for(oe=[],ye=Yr();ye!==a;)oe.push(ye),ye=Yr();if(oe!==a){if(ye=[],De=C,ce=[],r.charCodeAt(C)===46?(dt=h,C++):(dt=a,Oe(v)),dt!==a)for(;dt!==a;)ce.push(dt),r.charCodeAt(C)===46?(dt=h,C++):(dt=a,Oe(v));else ce=a;if(ce!==a){if(dt=[],dr=Yr(),dr!==a)for(;dr!==a;)dt.push(dr),dr=Yr();else dt=a;dt!==a?(ce=[ce,dt],De=ce):(C=De,De=a)}else C=De,De=a;for(;De!==a;){if(ye.push(De),De=C,ce=[],r.charCodeAt(C)===46?(dt=h,C++):(dt=a,Oe(v)),dt!==a)for(;dt!==a;)ce.push(dt),r.charCodeAt(C)===46?(dt=h,C++):(dt=a,Oe(v));else ce=a;if(ce!==a){if(dt=[],dr=Yr(),dr!==a)for(;dr!==a;)dt.push(dr),dr=Yr();else dt=a;dt!==a?(ce=[ce,dt],De=ce):(C=De,De=a)}else C=De,De=a}ye!==a?(X=[X,ne,oe,ye],x=X):(C=x,x=a)}else C=x,x=a}else C=x,x=a;else C=x,x=a;return x!==a?E=r.substring(E,C):E=x,E}function br(){var E,x,X,ne,oe,ye,De,ce;if(E=C,r.charCodeAt(C)===64?(x=pr,C++):(x=a,Oe(Br)),x!==a){if(X=[],Wt.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(cr)),ne!==a)for(;ne!==a;)X.push(ne),Wt.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(cr));else X=a;if(X!==a){if(ne=[],oe=C,r.charCodeAt(C)===45?(ye=Sr,C++):(ye=a,Oe(Ot)),ye!==a){if(De=[],hr.test(r.charAt(C))?(ce=r.charAt(C),C++):(ce=a,Oe(_r)),ce!==a)for(;ce!==a;)De.push(ce),hr.test(r.charAt(C))?(ce=r.charAt(C),C++):(ce=a,Oe(_r));else De=a;De!==a?(ut=oe,ye=mr(X,De),oe=ye):(C=oe,oe=a)}else C=oe,oe=a;for(;oe!==a;)if(ne.push(oe),oe=C,r.charCodeAt(C)===45?(ye=Sr,C++):(ye=a,Oe(Ot)),ye!==a){if(De=[],hr.test(r.charAt(C))?(ce=r.charAt(C),C++):(ce=a,Oe(_r)),ce!==a)for(;ce!==a;)De.push(ce),hr.test(r.charAt(C))?(ce=r.charAt(C),C++):(ce=a,Oe(_r));else De=a;De!==a?(ut=oe,ye=mr(X,De),oe=ye):(C=oe,oe=a)}else C=oe,oe=a;ne!==a?(ut=E,x=bn(X,ne),E=x):(C=E,E=a)}else C=E,E=a}else C=E,E=a;return E}function Vl(){var E,x,X,ne,oe,ye;if(E=C,x=C,X=C,sn.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(ln)),ne===a&&(ne=null),ne!==a){if(oe=[],ct.test(r.charAt(C))?(ye=r.charAt(C),C++):(ye=a,Oe(Ct)),ye!==a)for(;ye!==a;)oe.push(ye),ct.test(r.charAt(C))?(ye=r.charAt(C),C++):(ye=a,Oe(Ct));else oe=a;oe!==a?(ne=[ne,oe],X=ne):(C=X,X=a)}else C=X,X=a;return X!==a?x=r.substring(x,C):x=X,x!==a&&(ut=E,x=Li(x)),E=x,E}function gc(){var E,x,X,ne,oe,ye,De,ce;if(E=C,x=C,X=C,sn.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(ln)),ne===a&&(ne=null),ne!==a){for(oe=[],ct.test(r.charAt(C))?(ye=r.charAt(C),C++):(ye=a,Oe(Ct));ye!==a;)oe.push(ye),ct.test(r.charAt(C))?(ye=r.charAt(C),C++):(ye=a,Oe(Ct));if(oe!==a)if(r.charCodeAt(C)===46?(ye=h,C++):(ye=a,Oe(v)),ye!==a){if(De=[],ct.test(r.charAt(C))?(ce=r.charAt(C),C++):(ce=a,Oe(Ct)),ce!==a)for(;ce!==a;)De.push(ce),ct.test(r.charAt(C))?(ce=r.charAt(C),C++):(ce=a,Oe(Ct));else De=a;De!==a?(ne=[ne,oe,ye,De],X=ne):(C=X,X=a)}else C=X,X=a;else C=X,X=a}else C=X,X=a;return X!==a?x=r.substring(x,C):x=X,x!==a&&(ut=E,x=ei(x)),E=x,E}function Pn(){var E,x,X,ne,oe,ye,De,ce,dt;if(E=C,x=C,X=C,sn.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(ln)),ne===a&&(ne=null),ne!==a){if(oe=C,ye=[],ct.test(r.charAt(C))?(De=r.charAt(C),C++):(De=a,Oe(Ct)),De!==a)for(;De!==a;)ye.push(De),ct.test(r.charAt(C))?(De=r.charAt(C),C++):(De=a,Oe(Ct));else ye=a;if(ye!==a)if(r.charCodeAt(C)===46?(De=h,C++):(De=a,Oe(v)),De!==a){for(ce=[],ct.test(r.charAt(C))?(dt=r.charAt(C),C++):(dt=a,Oe(Ct));dt!==a;)ce.push(dt),ct.test(r.charAt(C))?(dt=r.charAt(C),C++):(dt=a,Oe(Ct));ce!==a?(dt=Ra(),dt!==a?(ye=[ye,De,ce,dt],oe=ye):(C=oe,oe=a)):(C=oe,oe=a)}else C=oe,oe=a;else C=oe,oe=a;if(oe===a){if(oe=C,r.charCodeAt(C)===46?(ye=h,C++):(ye=a,Oe(v)),ye!==a){if(De=[],ct.test(r.charAt(C))?(ce=r.charAt(C),C++):(ce=a,Oe(Ct)),ce!==a)for(;ce!==a;)De.push(ce),ct.test(r.charAt(C))?(ce=r.charAt(C),C++):(ce=a,Oe(Ct));else De=a;De!==a?(ce=Ra(),ce!==a?(ye=[ye,De,ce],oe=ye):(C=oe,oe=a)):(C=oe,oe=a)}else C=oe,oe=a;if(oe===a){if(oe=C,ye=[],ct.test(r.charAt(C))?(De=r.charAt(C),C++):(De=a,Oe(Ct)),De!==a)for(;De!==a;)ye.push(De),ct.test(r.charAt(C))?(De=r.charAt(C),C++):(De=a,Oe(Ct));else ye=a;ye!==a?(De=Ra(),De!==a?(ye=[ye,De],oe=ye):(C=oe,oe=a)):(C=oe,oe=a)}}oe!==a?(ne=[ne,oe],X=ne):(C=X,X=a)}else C=X,X=a;return X!==a?x=r.substring(x,C):x=X,x!==a&&(ut=E,x=on(x)),E=x,E}function Ra(){var E,x,X,ne,oe,ye;if(E=C,x=C,wn.test(r.charAt(C))?(X=r.charAt(C),C++):(X=a,Oe(wi)),X!==a)if(sn.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(ln)),ne===a&&(ne=null),ne!==a){if(oe=[],ct.test(r.charAt(C))?(ye=r.charAt(C),C++):(ye=a,Oe(Ct)),ye!==a)for(;ye!==a;)oe.push(ye),ct.test(r.charAt(C))?(ye=r.charAt(C),C++):(ye=a,Oe(Ct));else oe=a;oe!==a?(X=[X,ne,oe],x=X):(C=x,x=a)}else C=x,x=a;else C=x,x=a;return x!==a?E=r.substring(E,C):E=x,E}function mc(){var E,x,X,ne;if(E=C,r.charCodeAt(C)===34?(x=dn,C++):(x=a,Oe(ti)),x!==a){for(X=[],Za.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(ka)),ne===a&&(ne=Fr(),ne===a&&(ne=Tt()));ne!==a;)X.push(ne),Za.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(ka)),ne===a&&(ne=Fr(),ne===a&&(ne=Tt()));X!==a?(r.charCodeAt(C)===34?(ne=dn,C++):(ne=a,Oe(ti)),ne!==a?(ut=E,x=S(X),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;return E}function Pa(){var E,x,X,ne;if(E=C,r.charCodeAt(C)===39?(x=ri,C++):(x=a,Oe(ni)),x!==a){for(X=[],yi.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(es)),ne===a&&(ne=Fr(),ne===a&&(ne=Tt()));ne!==a;)X.push(ne),yi.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(es)),ne===a&&(ne=Fr(),ne===a&&(ne=Tt()));X!==a?(r.charCodeAt(C)===39?(ne=ri,C++):(ne=a,Oe(ni)),ne!==a?(ut=E,x=S(X),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;return E}function Hs(){var E,x,X,ne,oe,ye,De,ce;if(E=C,r.substr(C,3)===Bi?(x=Bi,C+=3):(x=a,Oe(Vn)),x!==a){for(X=[],Hn.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(ii)),ne===a&&(ne=Fr(),ne===a&&(ne=Tt()));ne!==a;)X.push(ne),Hn.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(ii)),ne===a&&(ne=Fr(),ne===a&&(ne=Tt()));if(X!==a){if(ne=[],oe=C,r.substr(C,2)===ts?(ye=ts,C+=2):(ye=a,Oe(Sl)),ye!==a){if(De=[],Hn.test(r.charAt(C))?(ce=r.charAt(C),C++):(ce=a,Oe(ii)),ce===a&&(ce=Fr(),ce===a&&(ce=Tt())),ce!==a)for(;ce!==a;)De.push(ce),Hn.test(r.charAt(C))?(ce=r.charAt(C),C++):(ce=a,Oe(ii)),ce===a&&(ce=Fr(),ce===a&&(ce=Tt()));else De=a;De!==a?(ut=oe,ye=Bs(X,De),oe=ye):(C=oe,oe=a)}else C=oe,oe=a;if(oe===a)if(oe=C,r.charCodeAt(C)===39?(ye=ri,C++):(ye=a,Oe(ni)),ye!==a){if(De=[],Hn.test(r.charAt(C))?(ce=r.charAt(C),C++):(ce=a,Oe(ii)),ce===a&&(ce=Fr(),ce===a&&(ce=Tt())),ce!==a)for(;ce!==a;)De.push(ce),Hn.test(r.charAt(C))?(ce=r.charAt(C),C++):(ce=a,Oe(ii)),ce===a&&(ce=Fr(),ce===a&&(ce=Tt()));else De=a;De!==a?(ut=oe,ye=qo(X,De),oe=ye):(C=oe,oe=a)}else C=oe,oe=a;for(;oe!==a;){if(ne.push(oe),oe=C,r.substr(C,2)===ts?(ye=ts,C+=2):(ye=a,Oe(Sl)),ye!==a){if(De=[],Hn.test(r.charAt(C))?(ce=r.charAt(C),C++):(ce=a,Oe(ii)),ce===a&&(ce=Fr(),ce===a&&(ce=Tt())),ce!==a)for(;ce!==a;)De.push(ce),Hn.test(r.charAt(C))?(ce=r.charAt(C),C++):(ce=a,Oe(ii)),ce===a&&(ce=Fr(),ce===a&&(ce=Tt()));else De=a;De!==a?(ut=oe,ye=Bs(X,De),oe=ye):(C=oe,oe=a)}else C=oe,oe=a;if(oe===a)if(oe=C,r.charCodeAt(C)===39?(ye=ri,C++):(ye=a,Oe(ni)),ye!==a){if(De=[],Hn.test(r.charAt(C))?(ce=r.charAt(C),C++):(ce=a,Oe(ii)),ce===a&&(ce=Fr(),ce===a&&(ce=Tt())),ce!==a)for(;ce!==a;)De.push(ce),Hn.test(r.charAt(C))?(ce=r.charAt(C),C++):(ce=a,Oe(ii)),ce===a&&(ce=Fr(),ce===a&&(ce=Tt()));else De=a;De!==a?(ut=oe,ye=qo(X,De),oe=ye):(C=oe,oe=a)}else C=oe,oe=a}ne!==a?(r.substr(C,3)===Bi?(oe=Bi,C+=3):(oe=a,Oe(Vn)),oe!==a?(ut=E,x=Il(X,ne),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a}else C=E,E=a;return E}function $s(){var E,x,X,ne,oe,ye,De,ce;if(E=C,r.substr(C,3)===Ca?(x=Ca,C+=3):(x=a,Oe(Us)),x!==a){for(X=[],un.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe($n)),ne===a&&(ne=Fr(),ne===a&&(ne=Tt()));ne!==a;)X.push(ne),un.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe($n)),ne===a&&(ne=Fr(),ne===a&&(ne=Tt()));if(X!==a){if(ne=[],oe=C,r.substr(C,2)===rs?(ye=rs,C+=2):(ye=a,Oe(jo)),ye!==a){if(De=[],un.test(r.charAt(C))?(ce=r.charAt(C),C++):(ce=a,Oe($n)),ce===a&&(ce=Fr(),ce===a&&(ce=Tt())),ce!==a)for(;ce!==a;)De.push(ce),un.test(r.charAt(C))?(ce=r.charAt(C),C++):(ce=a,Oe($n)),ce===a&&(ce=Fr(),ce===a&&(ce=Tt()));else De=a;De!==a?(ut=oe,ye=Rl(X,De),oe=ye):(C=oe,oe=a)}else C=oe,oe=a;if(oe===a)if(oe=C,r.charCodeAt(C)===34?(ye=dn,C++):(ye=a,Oe(ti)),ye!==a){if(De=[],un.test(r.charAt(C))?(ce=r.charAt(C),C++):(ce=a,Oe($n)),ce===a&&(ce=Fr(),ce===a&&(ce=Tt())),ce!==a)for(;ce!==a;)De.push(ce),un.test(r.charAt(C))?(ce=r.charAt(C),C++):(ce=a,Oe($n)),ce===a&&(ce=Fr(),ce===a&&(ce=Tt()));else De=a;De!==a?(ut=oe,ye=Pl(X,De),oe=ye):(C=oe,oe=a)}else C=oe,oe=a;for(;oe!==a;){if(ne.push(oe),oe=C,r.substr(C,2)===rs?(ye=rs,C+=2):(ye=a,Oe(jo)),ye!==a){if(De=[],un.test(r.charAt(C))?(ce=r.charAt(C),C++):(ce=a,Oe($n)),ce===a&&(ce=Fr(),ce===a&&(ce=Tt())),ce!==a)for(;ce!==a;)De.push(ce),un.test(r.charAt(C))?(ce=r.charAt(C),C++):(ce=a,Oe($n)),ce===a&&(ce=Fr(),ce===a&&(ce=Tt()));else De=a;De!==a?(ut=oe,ye=Rl(X,De),oe=ye):(C=oe,oe=a)}else C=oe,oe=a;if(oe===a)if(oe=C,r.charCodeAt(C)===34?(ye=dn,C++):(ye=a,Oe(ti)),ye!==a){if(De=[],un.test(r.charAt(C))?(ce=r.charAt(C),C++):(ce=a,Oe($n)),ce===a&&(ce=Fr(),ce===a&&(ce=Tt())),ce!==a)for(;ce!==a;)De.push(ce),un.test(r.charAt(C))?(ce=r.charAt(C),C++):(ce=a,Oe($n)),ce===a&&(ce=Fr(),ce===a&&(ce=Tt()));else De=a;De!==a?(ut=oe,ye=Pl(X,De),oe=ye):(C=oe,oe=a)}else C=oe,oe=a}ne!==a?(r.substr(C,3)===Ca?(oe=Ca,C+=3):(oe=a,Oe(Us)),oe!==a?(ut=E,x=Il(X,ne),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a}else C=E,E=a;return E}function Tt(){var E,x,X,ne,oe,ye,De,ce,dt,dr,Rr;return E=C,r.substr(C,2)===Fl?(x=Fl,C+=2):(x=a,Oe(xo)),x!==a?(X=C,ne=Zr(),ne!==a?(oe=Zr(),oe!==a?(ye=Zr(),ye!==a?(De=Zr(),De!==a?(ce=Zr(),ce!==a?(dt=Zr(),dt!==a?(dr=Zr(),dr!==a?(Rr=Zr(),Rr!==a?(ne=[ne,oe,ye,De,ce,dt,dr,Rr],X=ne):(C=X,X=a)):(C=X,X=a)):(C=X,X=a)):(C=X,X=a)):(C=X,X=a)):(C=X,X=a)):(C=X,X=a)):(C=X,X=a),X!==a?(ut=E,x=Vf(X),E=x):(C=E,E=a)):(C=E,E=a),E===a&&(E=C,r.substr(C,2)===zo?(x=zo,C+=2):(x=a,Oe(Hf)),x!==a?(X=C,ne=Zr(),ne!==a?(oe=Zr(),oe!==a?(ye=Zr(),ye!==a?(De=Zr(),De!==a?(ne=[ne,oe,ye,De],X=ne):(C=X,X=a)):(C=X,X=a)):(C=X,X=a)):(C=X,X=a),X!==a?(ut=E,x=Vo(X),E=x):(C=E,E=a)):(C=E,E=a)),E}function Fr(){var E,x;return E=C,r.substr(C,2)===Ho?(x=Ho,C+=2):(x=a,Oe($f)),x!==a&&(ut=E,x=Gf()),E=x,E===a&&(E=C,r.substr(C,2)===$o?(x=$o,C+=2):(x=a,Oe(Ol)),x!==a&&(ut=E,x=Xf()),E=x,E===a&&(E=C,r.substr(C,2)===Go?(x=Go,C+=2):(x=a,Oe(Wf)),x!==a&&(ut=E,x=Qf()),E=x,E===a&&(E=C,r.substr(C,2)===Xo?(x=Xo,C+=2):(x=a,Oe(Ir)),x!==a&&(ut=E,x=yr()),E=x,E===a&&(E=C,r.substr(C,2)===Wo?(x=Wo,C+=2):(x=a,Oe(Yf)),x!==a&&(ut=E,x=Kf()),E=x,E===a&&(E=C,r.substr(C,2)===Qo?(x=Qo,C+=2):(x=a,Oe(Jf)),x!==a&&(ut=E,x=Zf()),E=x,E===a&&(E=C,r.substr(C,2)===Ll?(x=Ll,C+=2):(x=a,Oe(ec)),x!==a&&(ut=E,x=Jr()),E=x,E===a&&(E=C,r.substr(C,2)===Ms?(x=Ms,C+=2):(x=a,Oe(Ji)),x!==a&&(ut=E,x=Yo()),E=x))))))),E}function hu(){var E;return Bl.test(r.charAt(C))?(E=r.charAt(C),C++):(E=a,Oe(Sn)),E}function Gs(){var E,x,X,ne;if(E=C,r.charCodeAt(C)===91?(x=ze,C++):(x=a,Oe(W)),x!==a){for(X=[],ne=ft();ne!==a;)X.push(ne),ne=ft();X!==a?(r.charCodeAt(C)===93?(ne=P,C++):(ne=a,Oe(M)),ne!==a?(ut=E,x=Ko(),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;return E}function du(){var E,x,X;return E=C,Jo.test(r.charAt(C))?(x=r.charAt(C),C++):(x=a,Oe(Zo)),x!==a?(eu.test(r.charAt(C))?(X=r.charAt(C),C++):(X=a,Oe(tu)),X!==a?(ut=E,x=ru(x,X),E=x):(C=E,E=a)):(C=E,E=a),E===a&&(yn.test(r.charAt(C))?(E=r.charAt(C),C++):(E=a,Oe(tc))),E}function Hl(){var E;return E=du(),E===a&&(r.charCodeAt(C)===95?(E=In,C++):(E=a,Oe(rc))),E}function Yr(){var E;return E=Hl(),E===a&&(r.charCodeAt(C)===45?(E=Sr,C++):(E=a,Oe(Ot)),E===a&&(ct.test(r.charAt(C))?(E=r.charAt(C),C++):(E=a,Oe(Ct)),E===a&&(r.charCodeAt(C)===183?(E=nu,C++):(E=a,Oe(Ui)),E===a&&(qs.test(r.charAt(C))?(E=r.charAt(C),C++):(E=a,Oe(Ul)),E===a&&(Pr.test(r.charAt(C))?(E=r.charAt(C),C++):(E=a,Oe(Mi))))))),E}function as(){var E,x,X,ne,oe,ye,De,ce,dt;if(E=C,x=C,X=du(),X!==a){for(ne=[],oe=Yr();oe!==a;)ne.push(oe),oe=Yr();if(ne!==a){if(oe=[],ye=C,De=[],r.charCodeAt(C)===46?(ce=h,C++):(ce=a,Oe(v)),ce!==a)for(;ce!==a;)De.push(ce),r.charCodeAt(C)===46?(ce=h,C++):(ce=a,Oe(v));else De=a;if(De!==a){if(ce=[],dt=Yr(),dt!==a)for(;dt!==a;)ce.push(dt),dt=Yr();else ce=a;ce!==a?(De=[De,ce],ye=De):(C=ye,ye=a)}else C=ye,ye=a;for(;ye!==a;){if(oe.push(ye),ye=C,De=[],r.charCodeAt(C)===46?(ce=h,C++):(ce=a,Oe(v)),ce!==a)for(;ce!==a;)De.push(ce),r.charCodeAt(C)===46?(ce=h,C++):(ce=a,Oe(v));else De=a;if(De!==a){if(ce=[],dt=Yr(),dt!==a)for(;dt!==a;)ce.push(dt),dt=Yr();else ce=a;ce!==a?(De=[De,ce],ye=De):(C=ye,ye=a)}else C=ye,ye=a}oe!==a?(X=[X,ne,oe],x=X):(C=x,x=a)}else C=x,x=a}else C=x,x=a;return x!==a?E=r.substring(E,C):E=x,E}function qi(){var E,x,X,ne,oe,ye,De,ce;if(E=C,x=Hl(),x===a&&(r.charCodeAt(C)===58?(x=hn,C++):(x=a,Oe(Ee)),x===a&&(ct.test(r.charAt(C))?(x=r.charAt(C),C++):(x=a,Oe(Ct)),x===a&&(x=li()))),x!==a){for(X=[],ne=Yr(),ne===a&&(r.charCodeAt(C)===58?(ne=hn,C++):(ne=a,Oe(Ee)),ne===a&&(ne=li()));ne!==a;)X.push(ne),ne=Yr(),ne===a&&(r.charCodeAt(C)===58?(ne=hn,C++):(ne=a,Oe(Ee)),ne===a&&(ne=li()));if(X!==a){if(ne=[],oe=C,ye=[],r.charCodeAt(C)===46?(De=h,C++):(De=a,Oe(v)),De!==a)for(;De!==a;)ye.push(De),r.charCodeAt(C)===46?(De=h,C++):(De=a,Oe(v));else ye=a;if(ye!==a){if(De=[],ce=Yr(),ce===a&&(r.charCodeAt(C)===58?(ce=hn,C++):(ce=a,Oe(Ee)),ce===a&&(ce=li())),ce!==a)for(;ce!==a;)De.push(ce),ce=Yr(),ce===a&&(r.charCodeAt(C)===58?(ce=hn,C++):(ce=a,Oe(Ee)),ce===a&&(ce=li()));else De=a;De!==a?(ut=oe,ye=js(x,X,ye,De),oe=ye):(C=oe,oe=a)}else C=oe,oe=a;for(;oe!==a;){if(ne.push(oe),oe=C,ye=[],r.charCodeAt(C)===46?(De=h,C++):(De=a,Oe(v)),De!==a)for(;De!==a;)ye.push(De),r.charCodeAt(C)===46?(De=h,C++):(De=a,Oe(v));else ye=a;if(ye!==a){if(De=[],ce=Yr(),ce===a&&(r.charCodeAt(C)===58?(ce=hn,C++):(ce=a,Oe(Ee)),ce===a&&(ce=li())),ce!==a)for(;ce!==a;)De.push(ce),ce=Yr(),ce===a&&(r.charCodeAt(C)===58?(ce=hn,C++):(ce=a,Oe(Ee)),ce===a&&(ce=li()));else De=a;De!==a?(ut=oe,ye=js(x,X,ye,De),oe=ye):(C=oe,oe=a)}else C=oe,oe=a}ne!==a?(ut=E,x=nc(x,X,ne),E=x):(C=E,E=a)}else C=E,E=a}else C=E,E=a;return E}function li(){var E;return E=pu(),E===a&&(E=_u()),E}function pu(){var E,x,X,ne,oe;return E=C,x=C,r.charCodeAt(C)===37?(X=Ml,C++):(X=a,Oe(ic)),X!==a?(ne=Zr(),ne!==a?(oe=Zr(),oe!==a?(X=[X,ne,oe],x=X):(C=x,x=a)):(C=x,x=a)):(C=x,x=a),x!==a?E=r.substring(E,C):E=x,E}function Zr(){var E;return ac.test(r.charAt(C))?(E=r.charAt(C),C++):(E=a,Oe(sc)),E}function _u(){var E,x,X;return E=C,r.charCodeAt(C)===92?(x=iu,C++):(x=a,Oe(xs)),x!==a?(Ta.test(r.charAt(C))?(X=r.charAt(C),C++):(X=a,Oe(lc)),X!==a?(ut=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a),E}var vu=new Function("try {return this===window;}catch(e){ return false;}"),ss=vu()?window.URL:QA.URL,$l=function(E){return E.match(/^[a-z](.*?):(.+?)/g)};function ls(E,x){var X={};return X[E]=x,X}var ir={base:[],data:{},addBase:function(E){if(ir.base.length===0){ir.base.push(E);return}const x=ir.base[ir.base.length-1];x!==E&&ir.base.push(new ss(E,x).toString())},addPrefix:function(E,x){const X=ir.data[E];X===void 0?ir.data[E]=[{uri:x,count:0}]:X[X.length-1].uri!==x&&X.push({uri:x,count:0})},hasPrefix:function(E){return this.data[E]!==void 0},resolve:function(E,x){const X=Object.keys(ir.data).find(oe=>E.indexOf(oe+":")===0);if(X!==void 0){const oe=ir.data[X];if(oe.length===1&&x!==!0&&$l(oe[0].uri))return E;const ye=oe[oe.length-1].uri;return E.replace(X+":",ye)}else{var ne=ir.base.length===0?s.baseIRI:ir.base[ir.base.length-1];return!ne||E.match(/^(http:|https:|urn:|file:)/)?E:E.indexOf("//")===0&&ne?ne.split("//")[0]+E:new ss(E,ne).toString()}},increment:function(E){const x=ir.data[E];x!==void 0&&x[x.length-1].count++},decrement:function(E){const x=ir.data[E];x!==void 0&&x[x.length-1].count--},toJSON:function(){const E={};return ir.base.length>0&&(E["@context"]===void 0&&(E["@context"]={}),E["@context"]["@base"]=ir.base[0]),Object.keys(ir.data).forEach(x=>{const X=ir.data[x][0];X.uri==="http://www.w3.org/2001/XMLSchema#"&&X.count<1||$l(X.uri)&&(E["@context"]===void 0&&(E["@context"]={}),E["@context"][x]=X.uri)}),E}};function Fa(E,x){if(E["@list"]===void 0||!x&&!E["@list"].find(oe=>oe["@list"]!==void 0))return E;if(E["@list"].length===0)return{"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};var X={},ne=null;return E["@list"].forEach(oe=>{ne===null?ne=X:(ne["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={},ne=ne["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]),ne["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"]=Fa(oe,!0),ne["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}),X}if(Vs=u(),Vs!==a&&C===r.length)return Vs;throw Vs!==a&&C<r.length&&Oe(au()),lu(zs,Rn<r.length?r.charAt(Rn):null,Rn<r.length?is(Rn,Rn+1):is(Rn,Rn))}return{SyntaxError:t,parse:n}})})(U2);var QN=U2.exports;function YN(i){return new KN(i)}var KN=function(){function i(e){jr(this,i),et(this,"_notQNameChars",`	\r
 !"#$%&'()*.,+/;<=>?@[\\]^\`{|}~`),et(this,"_notNameChars",this._notQNameChars+":"),et(this,"validPrefix",new RegExp(/^[a-zA-Z][a-zA-Z0-9]*$/)),et(this,"forbidden1",new RegExp(/[\\"\b\f\r\v\t\n\u0080-\uffff]/gm)),et(this,"forbidden3",new RegExp(/[\\"\b\f\r\v\u0080-\uffff]/gm)),this.flags="",this.base=null,this.prefixes=[],this.namespaces=[];var t=Object.keys(k0());for(var n in t){var r=k0()[t[n]](""),s=t[n];this.prefixes[r]=s,this.namespaces[s]=r}this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.suggestPrefix("xml","reserved:reservedForFutureUse"),this.namespacesUsed=[],this.keywords=["a"],this.prefixchars="abcdefghijklmnopqustuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",this.incoming=null,this.formulas=[],this.store=e,this.rdfFactory=e.rdfFactory||Ti,this.xsd=B2(this.rdfFactory)}return qr(i,[{key:"setBase",value:function(t){return this.base=t,this}},{key:"setFlags",value:function(t){return this.flags=t||"",this}},{key:"toStr",value:function(t){var n=t.toNT();return t.termType==="Graph"&&(this.formulas[n]=t),n}},{key:"fromStr",value:function(t){if(t[0]==="{"){var n=this.formulas[t];return n||console.log("No formula object for "+t),n}return this.store.fromNT(t)}},{key:"setNamespaces",value:function(t){for(var n in t)this.setPrefix(n,t[n]);return this}},{key:"setPrefix",value:function(t,n){if(t.slice(0,7)!=="default"&&t.slice(0,2)!=="ns"&&!(!t||!n)){for(var r in this.prefixes)this.prefixes[r]==t&&delete this.prefixes[r];this.prefixes[n]=t,this.namespaces[t]=n}}},{key:"suggestPrefix",value:function(t,n){t.slice(0,7)!=="default"&&t.slice(0,2)!=="ns"&&(!t||!n||t in this.namespaces||n in this.prefixes||(this.prefixes[n]=t,this.namespaces[t]=n))}},{key:"suggestNamespaces",value:function(t){for(var n in t)this.suggestPrefix(n,t[n]);return this}},{key:"checkIntegrity",value:function(){var t,n;for(t in this.namespaces)if(this.prefixes[this.namespaces[t]]!==t)throw new Error("Serializer integity error 1: "+t+", "+this.namespaces[t]+", "+this.prefixes[this.namespaces[t]]+"!");for(n in this.prefixes)if(this.namespaces[this.prefixes[n]]!==n)throw new Error("Serializer integity error 2: "+n+", "+this.prefixs[n]+", "+this.namespaces[this.prefixes[n]]+"!")}},{key:"makeUpPrefix",value:function(t){var n=t;function r(f){return!this.validPrefix.test(f)||f==="ns"||f in this.namespaces?!1:(this.prefixes[t]=f,this.namespaces[f]=t,f)}var s=r.bind(this);"#/".indexOf(n[n.length-1])>=0&&(n=n.slice(0,-1));var a=n.lastIndexOf("/");a>=0&&(n=n.slice(a+1));for(var l=0;l<n.length&&this.prefixchars.indexOf(n[l]);)l++;if(n=n.slice(0,l),n.length<6&&s(n))return n;if(s(n.slice(0,3)))return n.slice(0,3);if(s(n.slice(0,2)))return n.slice(0,2);if(s(n.slice(0,4)))return n.slice(0,4);if(s(n.slice(0,1)))return n.slice(0,1);if(s(n.slice(0,5)))return n.slice(0,5);this.validPrefix.test(n)||(n="n");for(var u=0;;u++)if(s(n.slice(0,3)+u))return n.slice(0,3)+u}},{key:"rootSubjects",value:function(t){for(var n={},r={},s={},a=0;a<t.length;a++){var l=t[a],u=function(D){n.hasOwnProperty(D)||(n[D]=[]),n[D].push(l.subject)},f=[l.subject,l.predicate,l.object];f.map(function(b){b.termType==="BlankNode"?s[b.toNT()]=!0:b.termType==="Collection"&&b.elements.forEach(function(D){u(D)})}),u(t[a].object);var h=r[this.toStr(l.subject)];h||(h=[]),h.push(l),r[this.toStr(l.subject)]=h}var v=[];for(var p in r)if(r.hasOwnProperty(p)){var d=this.fromStr(p);if(d.termType!=="BlankNode"||!n[d]||n[d].length!==1){v.push(d);continue}}this.incoming=n;for(var _={},g=0;g<v.length;g++)_[v[g].toNT()]=!0;return{roots:v,subjects:r,rootsHash:_,incoming:n}}},{key:"toN3",value:function(t){return this.statementsToN3(t.statements)}},{key:"explicitURI",value:function(t){return this.flags.indexOf("r")<0&&this.base?t=ph(this.base,t):this.flags.indexOf("u")>=0?t=ZN(t):t=JN(decodeURI(t)),"<"+t+">"}},{key:"statementsToNTriples",value:function(t){var n=t.slice();n.sort();for(var r="",s="http://www.w3.org/1999/02/22-rdf-syntax-ns#",a=this,l=this.store,u=this.rdfFactory,f=function d(_){if(_.termType!=="Collection")return a.atomicTermToN3(_);for(var g=_.elements,b=l.sym(s+"nill"),D=g.length-1;D>=0;D--){var B=u.blankNode();r+=d(B)+" "+d(l.sym(s+"first"))+" "+d(g[D])+`.
`,r+=d(B)+" "+d(l.sym(s+"rest"))+" "+d(b)+`.
`,b=B}return a.atomicTermToN3(b)},h=0;h<n.length;h++){var v=n[h],p="";p+=f(v.subject)+" ",p+=f(v.predicate)+" ",p+=f(v.object)+" ",this.flags.indexOf("q")>=0&&(p+=f(v.why)+" "),p+=`.
`,r+=p}return r}},{key:"statementsToN3",value:function(t){var n=4,r=80,s=this.store,a={"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":"aaa:00"},l=function(F,j){return $N(F,j,s,a)};t.sort(l),this.base&&!this.defaultNamespace&&(this.defaultNamespace=this.base+"#");var u={};this.flags.indexOf("s")<0&&(u["http://www.w3.org/2002/07/owl#sameAs"]="="),this.flags.indexOf("t")<0&&(u["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]="a"),this.flags.indexOf("i")<0&&(u["http://www.w3.org/2000/10/swap/log#implies"]="=>");var f=function(F){for(var j="",A=0;A<F;A++)j+=" ";return j},h=function q(F){for(var j="",A=0;A<F.length;A++){var L=F[A],k=typeof L=="string"?L:q(L);if(A!==0){var R=j.slice(-1)||" ";k===","||k===";"||k==="."&&!"0123456789.:".includes(R)||(j+=" ")}j+=k}return j},v=function q(F,j){var A="",L=1e5;j===void 0&&(j=-1);for(var k=0;k<F.length;k++){var R=F[k];if(typeof R!="string"){var K=q(R,j+1);if(K.length<10*(r-n*j)&&K.indexOf('"""')<0){var z=h(R);z.length<r-n*j&&(R=z,K="")}K&&(L=1e4),A+=K}if(typeof R=="string"){if(R.length===1&&A.slice(-1)===`
`&&",.;".indexOf(R)>=0){A=A.slice(0,-1),R=="."&&"0123456789.:".includes(A.charAt(A.length-1))&&(A+=" ",L+=1),A+=R+`
`,L+=1;continue}if(L<n*j+4||L+R.length+1<r&&";.".indexOf(A[A.length-2])<0)A=A.slice(0,-1)+" "+R+`
`,L+=R.length+1;else{var fe=f(n*j)+R;A+=fe+`
`,L=fe.length,j<0&&(A+=`
`,L=1e5)}}}return A};function p(q){for(var F=this.rootSubjects(q),j=F.roots,A=[],L=0;L<j.length;L++){var k=j[L];A.push(_(k,F))}return A}var d=p.bind(this);function _(q,F){return q.termType==="BlankNode"&&!F.incoming[q]?B(q,F,!0).concat(["."]):[O(q,F)].concat([b(q,F)]).concat(["."])}function g(q,F){var j=[],A=null,L=F.subjects[this.toStr(q)]||[];if(typeof L>"u")throw new Error("Cant find statements for "+q);for(var k=[],R=0;R<L.length;R++){var K=L[R];K.predicate.uri===A?k.push(","):(A&&(j=j.concat([k]).concat([";"]),k=[]),j.push(u[K.predicate.uri]?u[K.predicate.uri]:O(K.predicate,F))),A=K.predicate.uri,k.push(B(K.object,F))}return j=j.concat([k]),j}var b=g.bind(this);function D(q,F,j){return q.termType==="BlankNode"&&(j||F.rootsHash[q.toNT()]===void 0)?F.subjects[this.toStr(q)]?["[",b(q,F),"]"]:"[]":O(q,F)}var B=D.bind(this);function S(q,F){var j,A;switch(q.termType){case"Graph":return A=["{"],A=A.concat(d(q.statements)),A.concat(["}"]);case"Collection":for(A=["("],j=0;j<q.elements.length;j++)A.push([B(q.elements[j],F)]);return A.push(")"),A;default:return this.atomicTermToN3(q)}}i.prototype.termToN3=O;var O=S.bind(this);function y(){var q="";this.flags.indexOf("d")<0&&this.defaultNamespace&&(q+="@prefix : "+this.explicitURI(this.defaultNamespace)+`.
`);for(var F in this.prefixes)this.prefixes.hasOwnProperty(F)&&this.namespacesUsed[F]&&(q+="@prefix "+this.prefixes[F]+": "+this.explicitURI(F)+`.
`);return q+`
`}var N=y.bind(this),T=d(t);return N()+v(T)}},{key:"atomicTermToN3",value:function(t,n){switch(t.termType){case"BlankNode":case"Variable":return t.toNT();case"Literal":var r=t.value;if(typeof r!="string")throw new TypeError("Value of RDF literal node must be a string");if(t.datatype&&this.flags.indexOf("x")<0)switch(t.datatype.uri){case"http://www.w3.org/2001/XMLSchema#integer":return r;case"http://www.w3.org/2001/XMLSchema#decimal":return r.indexOf(".")<0&&(r+=".0"),r;case"http://www.w3.org/2001/XMLSchema#double":{var s=r.toLowerCase().indexOf("e")>0;return r.indexOf(".")<0&&!s&&(r+=".0"),s||(r+="e0"),r}case"http://www.w3.org/2001/XMLSchema#boolean":return t.value==="1"?"true":"false"}var a=this.stringToN3(t.value);return t.language?a+="@"+t.language:t.datatype.equals(this.xsd.string)||(a+="^^"+this.atomicTermToN3(t.datatype,n)),a;case"NamedNode":return this.symbolToN3(t);case"DefaultGraph":return"";default:throw new Error("Internal: atomicTermToN3 cannot handle "+t+" of termType: "+t.termType)}}},{key:"stringToN3",value:function(t,n){n||(n="e");var r="",s,a,l,u,f;for(t.length>20&&t.slice(-1)!=='"'&&n.indexOf("n")<0&&(t.indexOf(`
`)>0||t.indexOf('"')>0)?(u='"""',f=this.forbidden3):(u='"',f=this.forbidden1),s=0;s<t.length;){f.lastIndex=0;var h=f.exec(t.slice(s));if(h==null)break;a=s+f.lastIndex-1,r+=t.slice(s,a);var v=t[a];v==='"'&&u==='"""'&&t.slice(a,a+3)!=='"""'?r+=v:(l=`\b\f\r	\v
\\"`.indexOf(v),l>=0?r+="\\"+'bfrtvn\\"'[l]:n.indexOf("e")>=0?r+="\\u"+("000"+v.charCodeAt(0).toString(16).toLowerCase()).slice(-4):r+=v),s=a+1}return u+r+t.slice(s)+u}},{key:"symbolToN3",value:function(t){var n=t.uri,r=n.indexOf("#");if(r<0&&this.flags.indexOf("/")<0&&(r=n.lastIndexOf("/")),r>=0&&this.flags.indexOf("p")<0&&(n.indexOf("http")===0||n.indexOf("ws")===0||n.indexOf("file")===0)){for(var s=!0,a=r+1;a<n.length;a++)if(this._notNameChars.indexOf(n[a])>=0){s=!1;break}if(s){var l=n.slice(r+1),u=n.slice(0,r+1);if(this.defaultNamespace&&this.defaultNamespace===u&&this.flags.indexOf("d")<0)return this.flags.indexOf("k")>=0&&this.keyords.indexOf(l)<0?l:":"+l;var f=this.prefixes[u];if(f||(f=this.makeUpPrefix(u)),f)return this.namespacesUsed[u]=!0,f+":"+l}}return this.explicitURI(n)}},{key:"writeStore",value:function(t){var n=this.store,r=n.fetcher,s=r&&r.appNode,a=this.store.index[3];for(var l in a){var u=n.fromNT(l);s&&u.equals(s)||t(`
`+this.atomicTermToN3(u)+" "+this.atomicTermToN3(n.sym("http://www.w3.org/2000/10/swap/log#semantics"))+" { "+this.statementsToN3(n.statementsMatching(void 0,void 0,void 0,u))+` }.
`)}n.statementsMatching(void 0,n.sym("http://www.w3.org/2007/ont/link#requestedURI")).map(function(v){t(`
<`+v.object.value+`> log:metadata {
`);var p=n.statementsMatching(void 0,void 0,void 0,v.subject);t(this.statementsToN3(this.statementsToN3(p))),t(`}.
`)});var f=[];s&&f.push(s);var h=[];f.map(function(v){h=h.concat(n.statementsMatching(void 0,void 0,void 0,v))}),t(this.statementsToN3(h))}},{key:"statementsToXML",value:function(t){var n=4,r=80,s=[];s["http://www.w3.org/1999/02/22-rdf-syntax-ns#"]=!0;var a="http://www.w3.org/1999/02/22-rdf-syntax-ns#_",l=function(L){for(var k="",R=0;R<L;R++)k+=" ";return k},u=function A(L){for(var k="",R=0;R<L.length;R++){var K=L[R],z=typeof K=="string"?K:A(K);k+=z}return k},f=function A(L,k){var R="",K,z=1e5;k||(k=0);for(var fe=0;fe<L.length;fe++){var re=L[fe];if(typeof re!="string"){var te=A(re,k+1);te.length<10*(r-n*k)&&te.indexOf('"""')<0&&(K=u(re),K.length<r-n*k&&(re="   "+K,te="")),te&&(z=1e4),R+=te}typeof re=="string"&&(z<n*k+4?(R=R.slice(0,-1)+" "+re+`
`,z+=re.length+1):(K=l(n*k)+re,R+=K+`
`,z=K.length))}return R};function h(A){this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#");for(var L=this.rootSubjects(A),k=L.roots,R=[],K=0;K<k.length;K++){var z=k[K];R.push(b(z,L))}return R}var v=h.bind(this);function p(A){return typeof A>"u"?"@@@undefined@@@@":A.replace(/[&<"]/g,function(L){switch(L[0]){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;"}})}function d(A){return p(this.base?ph(this.base,A.uri):A.uri)}var _=d.bind(this);function g(A,L){var k=[],R,K,z,fe,re=L.subjects[this.toStr(A)];if(typeof re>"u")return S(A,L);re.sort(function(_e,tt){var rt=_e.predicate.uri,Pe=tt.predicate.uri;if(rt.substring(0,a.length)===a||Pe.substring(0,a.length)===a)return rt.localeCompare(Pe);var je=rt.substring(a.length),ke=Pe.substring(a.length),He=parseInt(je,10),ot=parseInt(ke,10);return isNaN(He)||isNaN(ot)||He!==je||ot!==ke?rt.localeCompare(Pe):He-ot});for(var te=0;te<re.length;te++){if(z=re[te],z.predicate.uri==="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"&&!R&&z.object.termType==="NamedNode"){R=z.object;continue}if(fe=z.predicate,fe.uri.substr(0,a.length)===a){var G=fe.uri.substr(a.length),Q=parseInt(G,10);G===Q.toString()&&(fe=this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#li"))}switch(K=y(fe),z.object.termType){case"BlankNode":L.incoming[z.object].length===1?k=k.concat(["<"+K+' rdf:parseType="Resource">',b(z.object,L),"</"+K+">"]):k=k.concat(["<"+K+' rdf:nodeID="'+z.object.toNT().slice(2)+'"/>']);break;case"NamedNode":k=k.concat(["<"+K+' rdf:resource="'+_(z.object)+'"/>']);break;case"Literal":k=k.concat(["<"+K+(z.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+p(z.object.datatype.uri)+'"')+(z.object.language?' xml:lang="'+z.object.language+'"':"")+">"+p(z.object.value)+"</"+K+">"]);break;case"Collection":k=k.concat(["<"+K+' rdf:parseType="Collection">',D(z.object,L),"</"+K+">"]);break;default:throw new Error("Can't serialize object of type "+z.object.termType+" into XML")}}var pe=R?y(R):"rdf:Description",J="";return A.termType==="BlankNode"?(!L.incoming[A]||L.incoming[A].length!==1)&&(J=' rdf:nodeID="'+A.toNT().slice(2)+'"'):J=' rdf:about="'+_(A)+'"',["<"+pe+J+">"].concat([k]).concat(["</"+pe+">"])}var b=g.bind(this);function D(A,L){for(var k=[],R=0;R<A.elements.length;R++)k.push(b(A.elements[R],L));return k}function B(A,L){var k=[],R=L.subjects[this.toStr(A)];if(!R)return k;R.sort();for(var K=0;K<R.length;K++){var z=R[K];switch(z.object.termType){case"BlankNode":L.rootsHash[z.object.toNT()]?k=k.concat(["<"+y(z.predicate)+' rdf:nodeID="'+z.object.toNT().slice(2)+'">',"</"+y(z.predicate)+">"]):k=k.concat(["<"+y(z.predicate)+' rdf:parseType="Resource">',S(z.object,L),"</"+y(z.predicate)+">"]);break;case"NamedNode":k=k.concat(["<"+y(z.predicate)+' rdf:resource="'+_(z.object)+'"/>']);break;case"Literal":k=k.concat(["<"+y(z.predicate)+(z.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+p(z.object.datatype.value)+'"')+(z.object.language?' xml:lang="'+z.object.language+'"':"")+">"+p(z.object.value)+"</"+y(z.predicate)+">"]);break;case"Collection":k=k.concat(["<"+y(z.predicate)+' rdf:parseType="Collection">',D(z.object,L),"</"+y(z.predicate)+">"]);break;default:throw new Error("Can't serialize object of type "+z.object.termType+" into XML")}}return k}var S=B.bind(this);function O(A){var L=A.uri,k=L.indexOf("#");if(k<0&&this.flags.indexOf("/")<0&&(k=L.lastIndexOf("/")),k<0)throw new Error("Cannot make qname out of <"+L+">");for(var R=k+1;R<L.length;R++)if(this._notNameChars.indexOf(L[R])>=0)throw new Error('Invalid character "'+L[R]+'" cannot be in XML qname for URI: '+L);var K=L.slice(k+1),z=L.slice(0,k+1);if(this.defaultNamespace&&this.defaultNamespace===z&&this.flags.indexOf("d")<0)return K;var fe=this.prefixes[z];return fe||(fe=this.makeUpPrefix(z)),s[z]=!0,fe+":"+K}var y=O.bind(this),N=v(t),T="<rdf:RDF";this.defaultNamespace&&(T+=' xmlns="'+p(this.defaultNamespace)+'"');for(var q in s)if(s.hasOwnProperty(q)){var F=this.base&&this.flags.includes("z")?ph(this.base,q):q;T+=`
 xmlns:`+this.prefixes[q]+'="'+p(F)+'"'}T+=">";var j=[T,N,"</rdf:RDF>"];return f(j,-1)}},{key:"statementsToJsonld",value:function(t){var n=this.statementsToN3(t),r=QN.parse(n);return JSON.stringify(r,null,2)}}])}();function JN(i){return encodeURI(i)}function ZN(i){for(var e="",t,n=0;n<i.length;n++)t=i.charCodeAt(n),t>65535?e+="\\U"+("00000000"+t.toString(16)).slice(-8):t>126?e+="\\u"+("0000"+t.toString(16)).slice(-4):e+=i[n];return e}function ko(i,e,t,n,r,s){t=t||(i==null?void 0:i.value);var a=s||{};n=n||bs;var l=void 0;try{var u=YN(e);a.flags&&u.setFlags(a.flags);var f=e.statementsMatching(void 0,void 0,void 0,i);switch("namespaces"in e&&u.suggestNamespaces(e.namespaces),a.namespaces&&u.setNamespaces(a.namespaces),u.setBase(t),n){case wo:return l=u.statementsToXML(f),h(null,l);case W1:case XT:return l=u.statementsToN3(f),h(null,l);case bs:case KT:return u.setFlags("si"),l=u.statementsToN3(f),h(null,l);case WT:return u.setFlags("deinprstux"),l=u.statementsToNTriples(f),h(null,l);case qh:return u.setFlags("si dr"),l=u.statementsToJsonld(f),h(null,l);case xh:case jh:return u.setFlags("deinprstux q"),l=u.statementsToNTriples(f),h(null,l);default:throw new Error("Serialize: Content-type "+n+" not supported for data write.")}}catch(v){if(r)return r(v,void 0);throw v}function h(v,p){if(r){r(v,p);return}else return p}}var eS=["blankNode","defaultGraph","literal","namedNode","quad","variable","supports"],Wu={first:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",rest:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",nil:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};function M2(i,e,t){var n=[];return t.reduce(function(r,s,a,l){n.push(i.quad(r,i.namedNode(Wu.first),l[a]));var u;return a<l.length-1?(u=i.blankNode(),n.push(i.quad(r,i.namedNode(Wu.rest),u))):n.push(i.quad(r,i.namedNode(Wu.rest),i.namedNode(Wu.nil))),u},e),n}function vi(i,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=i.length;for(t<0&&(t=n+t);t<n;t++)if(i[t]===e)return t;return-1}function tS(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=rS(i))||e){t&&(i=t);var n=0,r=function(){};return{s:r,n:function(){return n>=i.length?{done:!0}:{done:!1,value:i[n++]}},e:function(f){throw f},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,l;return{s:function(){t=t.call(i)},n:function(){var f=t.next();return s=f.done,f},e:function(f){a=!0,l=f},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(a)throw l}}}}function rS(i,e){if(i){if(typeof i=="string")return C0(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return C0(i,e)}}function C0(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=i[t];return n}function nS(i,e,t){return e=Kr(e),ba(i,q2()?Reflect.construct(e,t||[],Kr(i).constructor):e.apply(i,t))}function q2(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q2=function(){return!!i})()}var j2=function(i){function e(){var t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};jr(this,e),t=nS(this,e,[""]),t.statements=n,t.constraints=r,t.initBindings=s,t.optional=a,et(t,"termType",No),et(t,"classOrder",Gi.Graph),et(t,"fetcher",void 0),et(t,"isVar",0),et(t,"ns",Cn),et(t,"rdfFactory",void 0),t.rdfFactory=l&&l.rdfFactory||Ti;var u=tS(eS),f;try{var h=function(){var p=f.value;t[p]=function(){var d;return(d=t.rdfFactory)[p].apply(d,arguments)}};for(u.s();!(f=u.n()).done;)h()}catch(v){u.e(v)}finally{u.f()}return t}return Tn(e,i),qr(e,[{key:"add",value:function(n,r,s,a){var l=this;return arguments.length===1&&n.forEach(function(u){return l.add(u.subject,u.predicate,u.object,u.graph)}),this.statements.push(this.rdfFactory.quad(n,r,s,a))}},{key:"addStatement",value:function(n){return this.add(n)}},{key:"bnode",value:function(n){return this.rdfFactory.blankNode(n)}},{key:"addAll",value:function(n){var r=this;n.forEach(function(s){r.add(s.subject,s.predicate,s.object,s.graph)})}},{key:"any",value:function(n,r,s,a){var l=this.anyStatementMatching(n,r,s,a);return l==null?null:n==null?l.subject:r==null?l.predicate:s==null?l.object:null}},{key:"anyValue",value:function(n,r,s,a){var l=this.any(n,r,s,a);return l?l.value:void 0}},{key:"anyJS",value:function(n,r,s,a){var l=this.any(n,r,s,a);return l?Or.toJS(l):void 0}},{key:"anyStatementMatching",value:function(n,r,s,a){var l=this.statementsMatching(n,r,s,a,!0);if(!(!l||l.length===0))return l[0]}},{key:"id",value:function(n){return this.rdfFactory.id(n)}},{key:"statementsMatching",value:function(n,r,s,a,l){var u=this.statements.filter(function(f){return(!n||n.equals(f.subject))&&(!r||r.equals(f.predicate))&&(!s||s.equals(f.object))&&(!a||a.equals(f.graph))});return l?u.length===0?[]:[u[0]]:u}},{key:"bottomTypeURIs",value:function(n){var r,s,a,l,u,f,h,v;r=[];for(var p in n)if(n.hasOwnProperty(p)){for(v=n[p],h=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),this.rdfFactory.namedNode(p)),s=!0,l=0,u=h.length;l<u;l++)if(a=h[l],f=a.uri,f in n){s=!1;break}s&&(r[p]=v)}return r}},{key:"collection",value:function(){return new $a}},{key:"each",value:function(n,r,s,a){var l=[],u=this.statementsMatching(n,r,s,a,!1);if(n==null)for(var f=0,h=u.length;f<h;f++)l.push(u[f].subject);else if(r==null)for(var v=0,p=u.length;v<p;v++)l.push(u[v].predicate);else if(s==null)for(var d=0,_=u.length;d<_;d++)l.push(u[d].object);else if(a==null)for(var g=0,b=u.length;g<b;g++)l.push(new cn(u[g].graph.value));return l}},{key:"equals",value:function(n){return n?this.hashString()===n.hashString():!1}},{key:"findMembersNT",value:function(n){var r,s,a,l,u,f,h,v,p,d,_,g,b,D;g={},g[n.toNT()]=!0,l={},f=this.transitiveClosure(g,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0);for(var B in f)if(f.hasOwnProperty(B)){h=this.statementsMatching(void 0,this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.fromNT(B));for(var S=0,O=h.length;S<O;S++)b=h[S],l[b.subject.toNT()]=b;v=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"),this.fromNT(B));for(var y=0,N=v.length;y<N;y++)for(u=v[y],p=this.statementsMatching(void 0,u),a=0,r=p.length;a<r;a++)b=p[a],l[b.subject.toNT()]=b;d=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"),this.fromNT(B));for(var T=0,q=d.length;T<q;T++)for(u=d[T],_=this.statementsMatching(void 0,u),D=0,s=_.length;D<s;D++)b=_[D],l[b.object.toNT()]=b}return l}},{key:"findMemberURIs",value:function(n){return this.NTtoURI(this.findMembersNT(n))}},{key:"findSubClassesNT",value:function(n){var r={};return r[n.toNT()]=!0,this.transitiveClosure(r,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0)}},{key:"findSuperClassesNT",value:function(n){var r={};return r[n.toNT()]=!0,this.transitiveClosure(r,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypesNT",value:function(n){var r,s,a,l,u,f,h,v,p;a="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",p=[],l=this.statementsMatching(n,void 0,void 0);for(var d=0,_=l.length;d<_;d++)if(v=l[d],v.predicate.uri===a)p[v.object.toNT()]=v;else{u=this.each(v.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"));for(var g=0,b=u.length;g<b;g++)s=u[g],p[s.toNT()]=v}f=this.statementsMatching(void 0,void 0,n);for(var D=0,B=f.length;D<B;D++){v=f[D],h=this.each(v.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"));for(var S=0,O=h.length;S<O;S++)r=h[S],p[r.toNT()]=v}return this.transitiveClosure(p,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypeURIs",value:function(n){return this.NTtoURI(this.findTypesNT(n))}},{key:"connectedStatements",value:function(n,r,s){s=s||[];for(var a=[n],l={},u={},f=[],h=this,v=function(d){var _=function(D){D.termType==="BlankNode"&&!l[D.value]&&(l[D.value]=!0,a.push(D))},g=h.statementsMatching(null,null,d,r).concat(h.statementsMatching(d,null,null,r));g=g.filter(function(b){if(s[b.predicate.value])return!1;var D=b.toNT();return u[D]?!1:(u[D]=!0,!0)}),g.forEach(function(b){_(b.subject),_(b.object)}),f=f.concat(g)};a.length;)v(a.shift());return f}},{key:"formula",value:function(n){return new e}},{key:"fromNT",value:function(n){var r,s,a;switch(n[0]){case"<":return this.sym(n.slice(1,-1));case'"':if(a=void 0,r=void 0,s=n.lastIndexOf('"'),s<n.length-1)if(n[s+1]==="@")a=n.slice(s+2);else if(n.slice(s+1,s+3)==="^^")r=this.fromNT(n.slice(s+3));else throw new Error("Can't convert string from NT: "+n);return n=n.slice(1,s),n=n.replace(/\\"/g,'"'),n=n.replace(/\\n/g,`
`),n=n.replace(/\\\\/g,"\\"),this.rdfFactory.literal(n,a||r);case"_":return this.rdfFactory.blankNode(n.slice(2));case"?":return new ks(n.slice(1))}throw new Error("Can't convert from NT: "+n)}},{key:"holds",value:function(n,r,s,a){var l;if(arguments.length===1){if(!n)return!0;if(n instanceof Array){for(l=0;l<n.length;l++)if(!this.holds(n[l]))return!1;return!0}else{if(ZT(n))return this.holds(n.subject,n.predicate,n.object,n.graph);if(n.statements)return this.holds(n.statements)}}var u=this.anyStatementMatching(n,r,s,a);return u!=null}},{key:"holdsStatement",value:function(n){return this.holds(n.subject,n.predicate,n.object,n.graph)}},{key:"list",value:function(n,r){if(r.rdfFactory.supports.COLLECTIONS){var s=r.rdfFactory.collection();return n.forEach(function(u){s.append(u)}),s}else{var a=r.rdfFactory.blankNode(),l=M2(r.rdfFactory,a,n);return r.addAll(l),a}}},{key:"NTtoURI",value:function(n){var r,s,a={};for(r in n)n.hasOwnProperty(r)&&(s=n[r],r[0]==="<"&&(a[r.slice(1,-1)]=s));return a}},{key:"serialize",value:function(n,r,s,a){return ko(s,this,n,r,void 0,a)}},{key:"substitute",value:function(n){var r=this.statements.map(function(a){return a.substitute(n)}),s=new e;return s.addAll(r),s}},{key:"sym",value:function(n,r){if(r)throw new Error("This feature (kb.sym with 2 args) is removed. Do not assume prefix mappings.");return this.rdfFactory.namedNode(n)}},{key:"the",value:function(n,r,s,a){var l=this.any(n,r,s,a);return l}},{key:"transitiveClosure",value:function(n,r,s){var a,l,u,f,h,v,p={};Object.assign(p,n);for(var d={};;){if(v=function(){for(var _ in p)if(p.hasOwnProperty(_))return _}(),v==null)return d;for(h=s?this.each(void 0,r,this.fromNT(v)):this.each(this.fromNT(v),r),l=0,u=h.length;l<u;l++)a=h[l],f=a.toNT(),!(f in d)&&(f in p||(p[f]=p[v]));d[v]=p[v],delete p[v]}}},{key:"topTypeURIs",value:function(n){var r,s,a,l,u,f,h,v;h=[];for(a in n)if(n.hasOwnProperty(a)){for(v=n[a],u=0,f=this.each(this.rdfFactory.namedNode(a),this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf")),r=0,l=f.length;r<l;r++)if(s=f[r],s.uri!=="http://www.w3.org/2000/01/rdf-schema#Resource"){u++;break}u||(h[a]=v)}return h["http://www.w3.org/2000/01/rdf-schema#Resource"]&&delete h["http://www.w3.org/2000/01/rdf-schema#Resource"],h["http://www.w3.org/2002/07/owl#Thing"]&&delete h["http://www.w3.org/2002/07/owl#Thing"],h}},{key:"toString",value:function(){return"{"+this.statements.join(`
`)+"}"}},{key:"variable",value:function(n){return new ks(n)}},{key:"whether",value:function(n,r,s,a){return this.statementsMatching(n,r,s,a,!1).length}}])}(Or);Or.fromValue=e2;var al={xsd:Cn("http://www.w3.org/2001/XMLSchema#")};Or.toJS=function(i){return fd(i)?i.elements.map(Or.toJS):Y1(i)?i.datatype.equals(al.xsd("boolean"))?i.value==="1"||i.value==="true":i.datatype.equals(al.xsd("dateTime"))||i.datatype.equals(al.xsd("date"))?new Date(i.value):i.datatype.equals(al.xsd("integer"))||i.datatype.equals(al.xsd("float"))||i.datatype.equals(al.xsd("decimal"))?Number(i.value):i.value:i};var iS=qr(function i(e,t){jr(this,i),this.pat=new Fo,this.vars=[],this.name=e,this.id=t});function T0(i,e,t,n){function r(y){var N="",T;for(T in y)y.hasOwnProperty(T)&&(N+="    "+T+" -> "+y[T]);return N}function s(y){var N="Bindings: ",T,q=y.length;for(T=0;T<q;T++)N+=r(y[T][0])+`;
	`;return N}function a(y,N,T,q){var F=T[y];if(F===void 0){if(y.isVar){var j=[];return j[y]=N,[[j,null]]}F=y}if(!F.complexType)return q.redirections[F]&&(F=q.redirections[F]),q.redirections[N]&&(N=q.redirections[N]),F.equals(N)||F.uri&&F.uri===yo?[[[],null]]:[];if(y instanceof Array)return N instanceof Array?l(y,N,T):[];throw new Error("query.js: oops - code not written yet")}function l(y,N,T,q){var F;if(y.length!==N.length)return[];if(!y.length)return[[[],null]];var j=a(y[0],N[0],T,q);if(j.length===0)return j;var A=[],L,k=j.length,R,K,z,fe,re,te;for(L=0;L<k;L++){R=j[L][0],te=[];for(fe in R)R.hasOwnProperty(fe)&&(te[fe]=R[fe]);for(fe in T)T.hasOwnProperty(fe)&&(te[fe]=T[fe]);for(F=l(y.slice(1),N.slice(1),te,q),z=F.length,K=0;K<z;K++){re=F[K][0];for(fe in R)R.hasOwnProperty(fe)&&(re[fe]=R[fe]);A.push([re,null])}}return A}function u(y,N){var T=N[y];return T===void 0?y:T}function f(y,N){var T={},q;for(q in y)y.hasOwnProperty(q)&&(T[q]=y[q]);for(q in N)N.hasOwnProperty(q)&&(T[q]=N[q]);return T}function h(y,N){return this.trunkBindings=N,this.originalCallback=y,this.branches=[],this}h.prototype.checkAllDone=function(){var y;for(y=0;y<this.branches.length;y++)if(!this.branches[y].done)return;this.doCallBacks(this.branches.length-1,this.trunkBindings)},h.prototype.doCallBacks=function(y,N){var T;if(y<0)return this.originalCallback(N);for(T=0;T<this.branches[y].results.length;T++)this.doCallBacks(y-1,f(N,this.branches[y].results[T]))};function v(y,N){return this.count=0,this.success=!1,this.done=!1,this.callback=y,this.onDone=N,this}v.prototype.reportMatch=function(y){this.callback(y),this.success=!0},v.prototype.reportDone=function(){this.done=!0,this.onDone!==void 0&&this.onDone()};var p=function(N){return this.count=0,this.done=!1,this.results=[],this.junction=N,N.branches.push(this),this};p.prototype.reportMatch=function(y){this.results.push(y)},p.prototype.reportDone=function(){Vi.debug("Optional branch finished - results.length = "+this.results.length),this.results.length===0&&this.results.push({}),this.done=!0,this.junction.checkAllDone()};function d(y,N,T){var q,F,j,A;for(N.nvars=0,N.index=null,q=[N.subject,N.predicate,N.object,N.why],A=[y.subjectIndex,y.predicateIndex,y.objectIndex,y.whyIndex],j=0;j<4;j++){var L=q[j];if(!(L.uri&&L.uri===yo))if(L.isVar&&T[L]===void 0)N.nvars++;else{if(L=u(q[j],T),y.redirections[y.id(L)]&&(L=y.redirections[y.id(L)]),F=A[j][y.id(L)],!F)return N.index=[],!1;(N.index===null||N.index.length>F.length)&&(N.index=F)}}return N.index===null&&(N.index=y.statements),!0}function _(y,N){return y.nvars!==N.nvars?y.nvars-N.nvars:y.index.length-N.index.length}var g=0,b=function y(N,T,q,F,j,A,L){Vi.debug("Match begins, Branch count now: "+L.count+" for "+L.pattern_debug);var k=T.statements;if(k.length===0){if(Vi.debug("FOUND MATCH WITH BINDINGS:"+r(q)),T.optional.length===0)L.reportMatch(q);else{Vi.debug("OPTIONAL: "+T.optional);var R=new h(e,q),K=[],z;for(z=0;z<T.optional.length;z++)K[z]=new p(R),K[z].pattern_debug=T.optional[z];for(z=0;z<T.optional.length;z++)K[z].count=K[z].count+1,y(N,T.optional[z],q,"",j,e,K[z])}L.count--,Vi.debug("Match ends -- success , Branch count now: "+L.count+" for "+L.pattern_debug);return}var fe,re,te=k.length;if(j){var G="match"+g++,Q=function(J,_e){var tt=J.uri.split("#")[0];j.nowOrWhenFetched(tt,void 0,function(rt,Pe,je){rt||console.log("Error following link to <"+J.uri+"> in query: "+Pe),y(N,T,q,F,j,A,L)})};for(re=0;re<te;re++){if(fe=k[re],q[fe.subject]!==void 0&&q[fe.subject].uri&&j&&j.getState(cl(q[fe.subject].uri))==="unrequested"){Q(q[fe.subject],G);return}if(q[fe.object]!==void 0&&q[fe.object].uri&&j&&j.getState(cl(q[fe.object].uri))==="unrequested"){Q(q[fe.object],G);return}}}B(N,T,q,F,j,A,L)},D=function(N,T){var q=!0,F,j;for(F in N)N.hasOwnProperty(F)&&T[F]&&(j=T[F].test,j&&!j(N[F])&&(q=!1));return q},B=function(N,T,q,F,j,A,L){var k=T.statements,R=k.length,K,z,fe,re,te,G,Q;for(K=0;K<R;K++)Q=k[K],d(N,Q,q);k.sort(_),Q=k[0];var pe=N.formula();pe.optional=T.optional,pe.constraints=T.constraints,pe.statements=k.slice(1),Vi.debug(F+"match2 searching "+Q.index.length+" for "+Q+"; bindings so far="+r(q));var J,_e=Q.index.length,tt,rt;for(J=0;J<_e;J++)for(rt=Q.index[J],tt=l([Q.subject,Q.predicate,Q.object,Q.why],[rt.subject,rt.predicate,rt.object,rt.why],q,N),Vi.info(F+" From first: "+tt.length+": "+s(tt)),fe=tt.length,z=0;z<fe;z++)if(te=[],G=tt[z][0],!D(G,T.constraints))Vi.debug("Branch count CS: "+L.count);else{for(re in G)G.hasOwnProperty(re)&&(te[re]=G[re]);for(re in q)q.hasOwnProperty(re)&&(te[re]=q[re]);L.count++,b(N,pe,te,F+"  ",j,A,L)}L.count--,Vi.debug("Match2 ends, Branch count: "+L.count+" for "+L.pattern_debug),L.count===0&&L.reportDone()},S=this;Vi.debug("Query on "+this.statements.length);var O=new v(e,n);O.count++,i.sync?b(S,i.pat,i.pat.initBindings,"",t,e,O):setTimeout(function(){b(S,i.pat,i.pat.initBindings,"",t,e,O)},0)}function N0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function oo(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?N0(Object(t),!0).forEach(function(n){et(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):N0(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function aS(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=sS(i))||e){t&&(i=t);var n=0,r=function(){};return{s:r,n:function(){return n>=i.length?{done:!0}:{done:!1,value:i[n++]}},e:function(f){throw f},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,l;return{s:function(){t=t.call(i)},n:function(){var f=t.next();return s=f.done,f},e:function(f){a=!0,l=f},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(a)throw l}}}}function sS(i,e){if(i){if(typeof i=="string")return S0(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return S0(i,e)}}function S0(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=i[t];return n}function lS(i,e,t){return e=Kr(e),ba(i,x2()?Reflect.construct(e,t||[],Kr(i).constructor):e.apply(i,t))}function x2(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x2=function(){return!!i})()}var gh="http://www.w3.org/2002/07/owl#";function oS(i,e,t,n){var r=i.any(e,t,void 0);return r?(i.equate(r,n),!0):!1}function uS(i,e,t,n){var r=i.any(void 0,t,n);return r?(i.equate(r,e),!0):!1}function z2(i,e,t,n,r){i.typeCallback&&i.typeCallback(i,n,r);var s=i.classActions[i.id(n)],a=!1;if(s)for(var l=0;l<s.length;l++)a=a||s[l](i,e,t,n,r);return a}var Fo=function(i){function e(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return jr(this,e),n=lS(this,e,[void 0,void 0,void 0,void 0,r]),et(n,"updater",void 0),et(n,"namespaces",void 0),et(n,"classActions",void 0),et(n,"propertyActions",void 0),et(n,"redirections",void 0),et(n,"aliases",void 0),et(n,"HTTPRedirects",void 0),et(n,"subjectIndex",void 0),et(n,"predicateIndex",void 0),et(n,"objectIndex",void 0),et(n,"whyIndex",void 0),et(n,"index",void 0),et(n,"features",void 0),et(n,"_universalVariables",void 0),et(n,"_existentialVariables",void 0),et(n,"rdfArrayRemove",void 0),et(n,"dataCallbacks",void 0),n.propertyActions={},n.classActions={},n.redirections=[],n.aliases=[],n.HTTPRedirects=[],n.subjectIndex=[],n.predicateIndex=[],n.objectIndex=[],n.whyIndex=[],n.index=[n.subjectIndex,n.predicateIndex,n.objectIndex,n.whyIndex],n.namespaces={},n.features=t||[],n.rdfArrayRemove=r.rdfArrayRemove||GN,r.dataCallback&&(n.dataCallbacks=[r.dataCallback]),n.initPropertyActions(n.features),n}return Tn(e,i),qr(e,[{key:"substitute",value:function(n){var r=this.statements.map(function(a){return a.substitute(n)}),s=new e;return s.add(r),s}},{key:"addDataCallback",value:function(n){this.dataCallbacks||(this.dataCallbacks=[]),this.dataCallbacks.push(n)}},{key:"applyPatch",value:function(n,r,s){var a=this,l,u=null;function f(p){if(n.delete){l=n.delete,u&&(l=l.substitute(u)),l=l.statements;var d=[],_=l.map(function(g){var b=a.statementsMatching(g.subject,g.predicate,g.object,r);return b.length===0?(d.push(g),null):b[0]});if(d.length)return s("Could not find to delete: "+d.join(`
 or `));_.map(function(g){a.remove(g)})}n.insert&&(l=n.insert,u&&(l=l.substitute(u)),l=l.statements,l.map(function(g){g.graph=r,a.add(g.subject,g.predicate,g.object,g.graph)})),p()}if(n.where){var h=new iS("patch");h.pat=n.where,h.pat.statements.map(function(p){p.graph=sb(r.value)}),h.sync=!0;var v=[];a.query(h,function(d){v.push(d)},a.fetcher,function(){if(v.length===0)return s("No match found to be patched:"+n.where);if(v.length>1)return s("Patch ambiguous. No patch done.");u=v[0],f(s)})}else f(s)}},{key:"declareExistential",value:function(n){return this._existentialVariables||(this._existentialVariables=[]),this._existentialVariables.push(n),n}},{key:"initPropertyActions",value:function(n){this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))]=[z2],vi(n,"sameAs")>=0&&(this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(gh,"sameAs")))]=[function(r,s,a,l,u){return r.equate(s,l),!0}]),vi(n,"InverseFunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(gh,"InverseFunctionalProperty")))]=[function(r,s,a,l,u){return r.newPropertyAction(s,uS)}]),vi(n,"FunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(gh,"FunctionalProperty")))]=[function(r,s,a,l,u){return r.newPropertyAction(s,oS)}])}},{key:"addStatement",value:function(n){return this.add(n.subject,n.predicate,n.object,n.graph),this.statements.length}},{key:"add",value:function(n,r,s,a){var l;if(arguments.length===1){if(n instanceof Array)for(l=0;l<n.length;l++)this.add(n[l]);else ul(n)?this.add(n.subject,n.predicate,n.object,n.graph):r0(n)&&this.add(n.statements);return this}var u,f;a||(a=this.fetcher?this.fetcher.appNode:this.rdfFactory.defaultGraph()),typeof n=="string"&&(n=this.rdfFactory.namedNode(n)),r=Or.fromValue(r);var h=Or.fromValue(s);if(a=Or.fromValue(a),!tN(n))throw new Error("Subject is not a subject type");if(!rN(r))throw new Error("Predicate ".concat(r," is not a predicate type"));if(!eN(h))throw new Error("Object ".concat(h," is not an object type"));if(!iN(a))throw new Error("Why is not a graph type");this.predicateCallback&&this.predicateCallback(this,r,a);var v=this.id(this.canon(r));u=this.propertyActions[v];var p=!1;if(u)for(l=0;l<u.length;l++)p=p||u[l](this,n,r,h,a);if(this.holds(n,r,h,a))return null;var d=[this.id(this.canon(n)),v,this.id(this.canon(h)),this.id(this.canon(a))];for(f=this.rdfFactory.quad(n,r,h,a),l=0;l<4;l++){var _=this.index[l],g=d[l];_[g]||(_[g]=[]),_[g].push(f)}if(this.statements.push(f),this.dataCallbacks){var b=aS(this.dataCallbacks),D;try{for(b.s();!(D=b.n()).done;){var B=D.value;B(f)}}catch(S){b.e(S)}finally{b.f()}}return f}},{key:"canon",value:function(n){if(!n)return n;var r=this.redirections[this.id(n)];if(r)return r;switch(n.termType){case Ss:return new Xi(n.value);case Qa:return n;case As:return new cd;case X1:return n;case No:return n;case wl:return new Hi(n.value,n.language,n.datatype);case Ns:return new cn(n.value);case Wa:return new ks(n.value);default:throw new Error("Term Type not recognized for canonization: ".concat(n.termType))}}},{key:"check",value:function(){this.checkStatementList(this.statements);for(var n=0;n<4;n++){var r=this.index[n];for(var s in r)r.hasOwnProperty(s)&&this.checkStatementList(r[s],n)}}},{key:"checkStatementList",value:function(n,r){r===void 0&&(r=0);for(var s=["subject","predicate","object","why"],a=" found in "+s[r]+" index.",l,u=0;u<n.length;u++){l=n[u];for(var f=[l.subject,l.predicate,l.object,l.graph],h=function(g,b){for(var D=0;D<g.length;D++)if(g[D].subject.equals(b.subject)&&g[D].predicate.equals(b.predicate)&&g[D].object.equals(b.object)&&g[D].why.equals(b.graph))return!0},v=0;v<4;v++){var p=this.canon(f[v]),d=this.id(p);this.index[v][d]&&h(this.index[v][d],l)}if(!h(this.statements,l))throw new Error("Statement list does not statement "+l+"@"+l.graph+a)}}},{key:"close",value:function(){return this}},{key:"compareTerms",value:function(n,r){return Object.prototype.hasOwnProperty.call(n,"compareTerm")?n.compareTerm(r):Gi[n.termType]<Gi[r.termType]?-1:Gi[n.termType]>Gi[r.termType]?1:n.value<r.value?-1:n.value>r.value?1:0}},{key:"copyTo",value:function(n,r,s){s||(s=[]);var a=this.statementsMatching(n);vi(s,"two-direction")!==-1&&a.concat(this.statementsMatching(void 0,void 0,n));for(var l=0;l<a.length;l++){var u=a[l];switch(u.object.termType){case"NamedNode":this.add(r,u.predicate,u.object);break;case"Literal":case"BlankNode":case"Collection":this.add(r,u.predicate,u.object.copy(this))}vi(s,"delete")!==-1&&this.remove(u)}}},{key:"equate",value:function(n,r){var s=this.canon(n),a=this.canon(r),l=this.compareTerms(s,a);return l?l<0?this.replaceWith(a,s):this.replaceWith(s,a):!0}},{key:"formula",value:function(n){return new e(n)}},{key:"length",get:function(){return this.statements.length}},{key:"match",value:function(n,r,s,a){return this.statementsMatching(Or.fromValue(n),Or.fromValue(r),Or.fromValue(s),Or.fromValue(a))}},{key:"mentionsURI",value:function(n){var r="<"+n+">";return!!this.subjectIndex[r]||!!this.objectIndex[r]||!!this.predicateIndex[r]}},{key:"newExistential",value:function(n){if(!n)return this.bnode();var r=this.sym(n);return this.declareExistential(r)}},{key:"newPropertyAction",value:function(n,r){var s=this.id(n);this.propertyActions[s]||(this.propertyActions[s]=[]),this.propertyActions[s].push(r);for(var a=this.statementsMatching(void 0,n,void 0),l=!1,u=0;u<a.length;u++)l=l||r(this,a[u].subject,n,a[u].object);return l}},{key:"newUniversal",value:function(n){var r=this.sym(n);return this._universalVariables||(this._universalVariables=[]),this._universalVariables.push(r),r}},{key:"variable",value:function(n){return new ks(n)}},{key:"nextSymbol",value:function(n){for(var r=0;;r++){var s=n.value+"#n"+r;if(!this.mentionsURI(s))return this.sym(s)}}},{key:"query",value:function(n,r,s,a){return T0.call(this,n,r,s,a)}},{key:"querySync",value:function(n){var r=[];function s(u){r.push(u)}function a(){l=!0}var l=!1;if(n.sync=!0,T0.call(this,n,s,null,a),!l)throw new Error("Sync query should have called done function");return r}},{key:"remove",value:function(n){if(n instanceof Array){for(var r=0;r<n.length;r++)this.remove(n[r]);return this}if(r0(n))return this.remove(n.statements);var s=this.statementsMatching(n.subject,n.predicate,n.object,n.graph);if(!s.length)throw new Error("Statement to be removed is not on store: "+n);return this.removeStatement(s[0]),this}},{key:"removeDocument",value:function(n){this.removeMetadata(n);for(var r=this.statementsMatching(void 0,void 0,void 0,n).slice(),s=0;s<r.length;s++)this.removeStatement(r[s]);return this.removeMatches(n,null,null),this}},{key:"removeMetadata",value:function(n){for(var r=this.sym("chrome://TheCurrentSession"),s="http://www.w3.org/2007/ont/link#",a=this.statementsMatching(void 0,this.sym("".concat(s,"requestedURI")),this.rdfFactory.literal(n.value),r).map(function(d){return d.subject}),l=0;l<a.length;l++){var u=a[l];if(u!=null){var f=void 0,h=this.any(u,this.sym("".concat(s,"status")),null,r);if(h!=null){f=this.statementsMatching(h,this.sym("".concat(s,"status")),null,r).slice();for(var v=0;v<f.length;v++)this.removeStatement(f[v])}var p=this.any(u,this.sym("".concat(s,"response")),null,r);if(p!=null){f=this.statementsMatching(p,null,null,r).slice();for(var v=0;v<f.length;v++)this.removeStatement(f[v])}f=this.statementsMatching(u,null,null,r).slice();for(var v=0;v<f.length;v++)this.removeStatement(f[v])}}return this.removeMatches(this.sym(n.value),null,null,r),this}},{key:"removeMany",value:function(n,r,s,a,l){for(var u=this.statementsMatching(n,r,s,a,!1),f=[],h=0;h<u.length;h++)f.push(u[h]);for(l&&(f=f.slice(0,l)),h=0;h<f.length;h++)this.remove(f[h])}},{key:"removeMatches",value:function(n,r,s,a){return this.removeMany(n,r,s,a),this}},{key:"removeStatement",value:function(n){for(var r=[n.subject,n.predicate,n.object,n.graph],s=0;s<4;s++){var a=this.canon(r[s]),l=this.id(a);this.index[s][l]&&this.rdfArrayRemove(this.index[s][l],n)}return this.rdfArrayRemove(this.statements,n),this}},{key:"removeStatements",value:function(n){for(var r=0;r<n.length;r++)this.remove(n[r]);return this}},{key:"replaceWith",value:function(n,r){for(var s=this.id(n),a=this.id(r),l=function(h){var v=h[s];if(v){var p=h[a];p?h[a]=v.concat(p):h[a]=v,delete h[s]}},u=0;u<4;u++)l(this.index[u]);if(this.redirections[s]=r,n.value){if(this.aliases[a]||(this.aliases[a]=[]),this.aliases[a].push(n),this.aliases[s])for(u=0;u<this.aliases[s].length;u++)this.redirections[this.id(this.aliases[s][u])]=r,this.aliases[a].push(this.aliases[s][u]);this.add(r,this.sym("http://www.w3.org/2007/ont/link#uri"),n),this.fetcher&&this.fetcher.nowKnownAs(n,r)}return l(this.classActions),l(this.propertyActions),!0}},{key:"allAliases",value:function(n){var r=this.aliases[this.id(this.canon(n))]||[];return r.push(this.canon(n)),r}},{key:"sameThings",value:function(n,r){if(n.equals(r))return!0;var s=this.canon(n);if(!s)return!1;var a=this.canon(r);return a?s.value===a.value:!1}},{key:"setPrefixForURI",value:function(n,r){if(!(n==="tab"&&this.namespaces.tab)&&!(n.slice(0,2)==="ns"||n.slice(0,7)==="default")){for(var s in this.namespaces)this.namespaces[s]==r&&delete this.namespaces[s];this.namespaces[n]=r}}},{key:"statementsMatching",value:function(n,r,s,a,l){var u=[n,r,s,a],f=[],h=[],v=[],p,d;for(p=0;p<4;p++)f[p]=this.canon(Or.fromValue(u[p])),f[p]&&(v.push(p),h[p]=this.id(f[p]));if(v.length===0)return this.statements;if(v.length===1)return p=v[0],d=this.index[p][h[p]],d&&l&&d.length>1&&(d=d.slice(0,1)),d=d||[],d;var _=1e10,g,b;for(b=0;b<v.length;b++){if(p=v[b],d=this.index[p][h[p]],!d)return[];d.length<_&&(_=d.length,g=b)}for(var D=v[g],B=this.index[D][h[D]],S=v.slice(0,g).concat(v.slice(g+1)),O=[],y=["subject","predicate","object","why"],N=0;N<B.length;N++){var T=B[N];for(b=0;b<S.length;b++)if(p=S[b],!this.canon(T[y[p]]).equals(f[p])){T=null;break}if(T!=null&&(O.push(T),l))break}return O}},{key:"uris",value:function(n){var r=this.canon(n),s=this.aliases[this.id(r)];if(!r.value)return[];var a=[r.value];if(s)for(var l=0;l<s.length;l++)a.push(s[l].uri);return a}},{key:"serialize",value:function(n,r,s,a){var l,u=(l=a)!==null&&l!==void 0&&l.namespaces?oo(oo({},this.namespaces),a.namespaces):oo({},this.namespaces);return a=oo(oo({},a||{}),{},{namespaces:u}),ko(s,this,n,r,void 0,a)}}],[{key:"defaultGraphURI",get:function(){return yo}}])}(j2);et(Fo,"handleRDFType",void 0);Fo.handleRDFType=z2;function bo(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=fS(i))||e){t&&(i=t);var n=0,r=function(){};return{s:r,n:function(){return n>=i.length?{done:!0}:{done:!1,value:i[n++]}},e:function(f){throw f},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,l;return{s:function(){t=t.call(i)},n:function(){var f=t.next();return s=f.done,f},e:function(f){a=!0,l=f},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(a)throw l}}}}function fS(i,e){if(i){if(typeof i=="string")return I0(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return I0(i,e)}}function I0(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=i[t];return n}var gs=Cn("http://www.w3.org/1999/02/22-rdf-syntax-ns#");function cS(i,e,t,n){var r=bo(i.statementsMatching(t,null,null,n)),s;try{for(r.s();!(s=r.n()).done;){var a=s.value,l=new ws(e,a.predicate,a.object,n);i.remove(a),i.add(l)}}catch(_){r.e(_)}finally{r.f()}var u=bo(i.statementsMatching(null,t,null,n)),f;try{for(u.s();!(f=u.n()).done;){var h=f.value;i.remove(h),i.add(new ws(h.subject,e,h.object,n))}}catch(_){u.e(_)}finally{u.f()}var v=bo(i.statementsMatching(null,null,t,n)),p;try{for(v.s();!(p=v.n()).done;){var d=p.value;i.remove(d),i.add(new ws(d.subject,d.predicate,e,n))}}catch(_){v.e(_)}finally{v.f()}}function hS(i,e){var t=gs("nil"),n=bo(i.statementsMatching(t,null,null,e)),r;try{for(n.s();!(r=n.n()).done;){var s=r.value;i.remove(s);var a=new $a;i.add(new ws(a,s.predicate,s.object,e))}}catch(v){n.e(v)}finally{n.f()}var l=bo(i.statementsMatching(null,null,t,e)),u;try{for(l.s();!(u=l.n()).done;){var f=u.value;if(!f.predicate.sameTerm(gs("rest"))){i.remove(f);var h=new $a;i.add(new ws(f.subject,f.predicate,h,e))}}}catch(v){l.e(v)}finally{l.f()}}function dS(i,e){function t(r,s,a){var l=i.statementsMatching(r,gs("rest"),null,e);if(l.length!==1)throw new Error("Bad list structure: no rest at ".concat(r));var u=i.statementsMatching(r,gs("first"),null,e);if(u.length!==1)throw new Error("Bad list structure: rest but ".concat(u.length," firsts at ").concat(r));var f=u[0].object,h=[f].concat(s),v=a.concat(l).concat(u),p=i.statementsMatching(null,gs("rest"),r,e);if(p.length===0){var d=new $a(h);i.remove(v),cS(i,d,r,e);return}if(p.length!==1)throw new Error("Bad list structure: ".concat(p.length," pres at ").concat(r));var _=p[0].subject;if(_.termType!=="BlankNode")throw new Error("Bad list element node ".concat(_," type: ").concat(_.termType," "));t(_,h,v)}hS(i,e);var n=i.statementsMatching(null,gs("rest"),gs("nil"),e);n.forEach(function(r){if(r.subject.termType!=="BlankNode")throw new Error("Bad list element node ".concat(r.subject," type: ").concat(r.subject.termType," "));t(r.subject,[],[])})}function pS(i){return encodeURI(i)}var _S={encode:function(e){e=e.replace(/\r\n/g,`
`);for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(r&63|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(r&63|128))}return t},decode:function(e){for(var t="",n=0;n<e.length;){var r=e.charCodeAt(n);r<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(t+=String.fromCharCode((r&31)<<6|e.charCodeAt(n+1)&63),n+=2):(t+=String.fromCharCode((r&15)<<12|(e.charCodeAt(n+1)&63)<<6|e.charCodeAt(n+2)&63),n+=3)}return t}},mh="http://www.w3.org/2000/10/swap/log#",tn=function(e){return e},rn=function(e){return e},uo=function(e){if(e.length>0)throw"missing.js: oops nnonempty dict not imp";return[]},di=function(e){return e.length},bh=function(e,t,n){if(typeof e.slice>"u")throw"@@ mising.js: No .slice function for "+e+" of type "+Jn(e);return typeof n>"u"||n==null?e.slice(t):e.slice(t,n)},_o=Error("dummy error stop iteration"),Qu=function(e){return this.last=0,this.li=e,this.next=function(){if(this.last==this.li.length)throw _o;return this.li[this.last++]},this},wh=function(e,t){return e.indexOf(t)},_s=function(e,t){if(!e)throw t?"python Assertion failed: "+t:"(python) Assertion failed."},vS=function(e){return String.fromCharCode(e)};String.prototype.encode=function(i){if(i!="utf-8")throw"UTF8_converter: can only do utf-8";return _S.encode(this)};String.prototype.decode=function(i){if(i!="utf-8")throw"UTF8_converter: can only do utf-8";return this};var yh=function(e,t){return gi(t,e)},gS=null,mS="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",R0="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",P0="http://www.w3.org/2002/07/owl#sameAs",bS="#",wS="http://www.w3.org/2001/XMLSchema#integer",yS="http://www.w3.org/2001/XMLSchema#double",ES="http://www.w3.org/2001/XMLSchema#decimal",DS="http://www.w3.org/2001/XMLSchema#date",AS="http://www.w3.org/2001/XMLSchema#dateTime",V2=`	\r
 !"#$%&'()*.,+/;<=>?@[\\]^\`{|}~`,vs=V2+":",Eh=new RegExp("^([-+]?[0-9]+)(\\.[0-9]+)?(e[-+]?[0-9]+)?","g"),F0=new RegExp("^[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9](T[0-9][0-9]:[0-9][0-9](:[0-9][0-9](\\.[0-9]*)?)?)?Z?"),Dh=new RegExp('[\\\\\\r\\n\\"]',"g"),Ah=new RegExp("^[a-zA-Z0-9]+(-[a-zA-Z0-9]+)*","g");function Ed(i,e,t,n,r,s,a,l){return new kS(i,e,t,n,r,s,a,l)}var kS=function(){function i(e,t,n,r,s,a,l,u){jr(this,i),typeof t>"u"&&(t=null),typeof n>"u"&&(n=""),typeof r>"u"&&(r=null),typeof s>"u"&&(s=""),typeof l>"u"&&(l=""),typeof u>"u"&&(u=null),this._bindings=new uo([]),this._flags=l,n!=""&&(_s(n.indexOf(":")>=0,"Document URI not absolute: "+n),this._bindings[""]=n+"#"),this._store=e,s&&e.setGenPrefix(s),this._thisDoc=n,this.source=e.sym(n),this.lines=0,this.statementCount=0,this.hasNil=!1,this.startOfLine=0,this.previousLine=0,this._genPrefix=s,this.keywords=new rn(["a","this","bind","has","is","of","true","false"]),this.keywordsSet=0,this._anonymousNodes=new uo([]),this._variables=new uo([]),this._parentVariables=new uo([]),this._reason=u,this._reason2=null,r?this._baseURI=r:n?this._baseURI=n:this._baseURI=null,_s(!this._baseURI||this._baseURI.indexOf(":")>=0),this._genPrefix||(this._thisDoc?this._genPrefix=this._thisDoc+"#_g":this._genPrefix=RDFSink_uniqueURI()),t==null?this._thisDoc?this._formula=e.formula(n+"#_formula"):this._formula=e.formula():this._formula=t,this._context=this._formula,this._parentContext=null}return qr(i,[{key:"here",value:function(t){return this._genPrefix+"_L"+this.lines+"C"+(t-this.startOfLine+1)}},{key:"formula",value:function(){return this._formula}},{key:"loadStream",value:function(t){return this.loadBuf(t.read())}},{key:"loadBuf",value:function(t){return this.startDoc(),this.feed(t),this.endDoc()}},{key:"feed",value:function(t){for(var n=t.decode("utf-8"),r=0;r>=0;){var s=this.skipSpace(n,r);if(s<0)return;var r=this.directiveOrStatement(n,s);if(r<0)throw St(this._thisDoc,this.lines,n,s,"expected directive or statement")}}},{key:"directiveOrStatement",value:function(t,n){var r=this.skipSpace(t,n);if(r<0)return r;var s=this.directive(t,r);if(s>=0)return this.checkDot(t,s);var s=this.statement(t,r);return s>=0?this.checkDot(t,s):s}},{key:"tok",value:function(t,n,r){if(n.slice(r,r+1)=="@")var r=r+1;else if(vi(this.keywords,t)<0)return-1;var s=r+di(t);return n.slice(r,s)==t&&V2.indexOf(n.charAt(s))>=0?s:-1}},{key:"directive",value:function(t,n){var f=this.skipSpace(t,n);if(f<0)return f;var r=new rn([]),f=this.tok("bind",t,n);if(f>0)throw St(this._thisDoc,this.lines,t,n,"keyword bind is obsolete: use @prefix");var f=this.tok("keywords",t,n);if(f>0){var n=this.commaSeparatedList(t,f,r,!1);if(n<0)throw St(this._thisDoc,this.lines,t,n,"'@keywords' needs comma separated list of words");return this.setKeywords(bh(r,null,null)),n}var f=this.tok("forAll",t,n);if(f>0){var n=this.commaSeparatedList(t,f,r,!0);if(n<0)throw St(this._thisDoc,this.lines,t,n,"Bad variable list after @forAll");var s=new Qu(r);try{for(;;){var a=s.next();(vi(this._variables,a)<0||vi(this._parentVariables,a)>=0)&&(this._variables[a]=this._context.newUniversal(a))}}catch(v){if(v!=_o)throw v}return n}var f=this.tok("forSome",t,n);if(f>0){var n=this.commaSeparatedList(t,f,r,this.uri_ref2);if(n<0)throw St(this._thisDoc,this.lines,t,n,"Bad variable list after @forSome");var s=new Qu(r);try{for(;;){var a=s.next();this._context.declareExistential(a)}}catch(p){if(p!=_o)throw p}return n}var f=this.tok("prefix",t,n);if(f>=0){var l=new rn([]),n=this.qname(t,f,l);if(n<0)throw St(this._thisDoc,this.lines,t,f,"expected qname after @prefix");var f=this.uri_ref2(t,n,l);if(f<0)throw St(this._thisDoc,this.lines,t,n,"expected <uriref> after @prefix _qname_");var u=l[1].uri;if(this._baseURI)var u=yh(this._baseURI,u);else _s(u.indexOf(":")>=0,"With no base URI, cannot handle relative URI for NS");return _s(u.indexOf(":")>=0),this._bindings[l[0][0]]=u,this.bind(l[0][0],pS(u)),f}var f=this.tok("base",t,n);if(f>=0){var l=new rn([]),n=this.uri_ref2(t,f,l);if(n<0)throw St(this._thisDoc,this.lines,t,f,"expected <uri> after @base ");var u=l[0].uri;if(this._baseURI)var u=yh(this._baseURI,u);else throw St(this._thisDoc,this.lines,t,f,"With no previous base URI, cannot use relative URI in @base  <"+u+">");return _s(u.indexOf(":")>=0),this._baseURI=u,n}return-1}},{key:"bind",value:function(t,n){t==""||this._store.setPrefixForURI(t,n)}},{key:"setKeywords",value:function(t){t==null?this.keywordsSet=0:(this.keywords=t,this.keywordsSet=1)}},{key:"startDoc",value:function(){}},{key:"endDoc",value:function(){return this.hasNil&&this._store.rdfFactory.supports.COLLECTIONS&&dS(this._store,this.source),this._formula}},{key:"makeStatement",value:function(t){t[0].add(t[2],t[1],t[3],this.source),(t[2].uri&&t[2].uri===R0||t[3].uri&&t[3].uri===R0)&&(this.hasNil=!0),this.statementCount+=1}},{key:"statement",value:function(t,s){var r=new rn([]),s=this.object(t,s,r);if(s<0)return s;var a=this.property_list(t,s,r[0]);if(a<0)throw St(this._thisDoc,this.lines,t,s,"expected propertylist");return a}},{key:"subject",value:function(t,n,r){return this.item(t,n,r)}},{key:"verb",value:function(t,n,r){var a=this.skipSpace(t,n);if(a<0)return a;var s=new rn([]),a=this.tok("has",t,n);if(a>=0){var n=this.prop(t,a,s);if(n<0)throw St(this._thisDoc,this.lines,t,a,"expected property after 'has'");return r.push(new tn(["->",s[0]])),n}var a=this.tok("is",t,n);if(a>=0){var n=this.prop(t,a,s);if(n<0)throw St(this._thisDoc,this.lines,t,a,"expected <property> after 'is'");var a=this.skipSpace(t,n);if(a<0)throw St(this._thisDoc,this.lines,t,n,"End of file found, expected property after 'is'");var n=a,a=this.tok("of",t,n);if(a<0)throw St(this._thisDoc,this.lines,t,n,"expected 'of' after 'is' <prop>");return r.push(new tn(["<-",s[0]])),a}var a=this.tok("a",t,n);if(a>=0)return r.push(new tn(["->",this._store.sym(mS)])),a;if(t.slice(n,n+2)=="<=")return r.push(new tn(["<-",this._store.sym(mh+"implies")])),n+2;if(t.slice(n,n+1)=="=")return t.slice(n+1,n+2)==">"?(r.push(new tn(["->",this._store.sym(mh+"implies")])),n+2):(r.push(new tn(["->",this._store.sym(P0)])),n+1);if(t.slice(n,n+2)==":=")return r.push(new tn(["->",mh+"becomes"])),n+2;var a=this.prop(t,n,s);if(a>=0)return r.push(new tn(["->",s[0]])),a;if(t.slice(n,n+2)==">-"||t.slice(n,n+2)=="<-")throw St(this._thisDoc,this.lines,t,a,">- ... -> syntax is obsolete.");return-1}},{key:"prop",value:function(t,n,r){return this.item(t,n,r)}},{key:"item",value:function(t,n,r){return this.path(t,n,r)}},{key:"blankNode",value:function(t){return this._context.bnode(t,this._reason2)}},{key:"path",value:function(t,n,r){var s=this.nodeOrLiteral(t,n,r);if(s<0)return s;for(;"!^.".indexOf(t.slice(s,s+1))>=0;){var a=t.slice(s,s+1);if(a=="."){var l=t.slice(s+1,s+2);if(!l||vs.indexOf(l)>=0&&":?<[{(".indexOf(l)<0)break}var u=r.pop(),f=this.blankNode(this.here(s)),s=this.node(t,s+1,r);if(s<0)throw St(this._thisDoc,this.lines,t,s,"EOF found in middle of path syntax");var h=r.pop();a=="^"?this.makeStatement(new tn([this._context,h,f,u])):this.makeStatement(new tn([this._context,h,u,f])),r.push(f)}return s}},{key:"anonymousNode",value:function(t){var n=this._anonymousNodes[t];if(n)return n;var n=this._store.bnode(t);return this._anonymousNodes[t]=n,n}},{key:"node",value:function(t,l,r,s){typeof s>"u"&&(s=null);var a=s,N=this.skipSpace(t,l);if(N<0)return N;var l=N,u=t.slice(l,l+1);if(u=="["){var f=this.here(l),N=this.skipSpace(t,l+1);if(N<0)throw St(this._thisDoc,this.lines,t,l,"EOF after '['");if(t.slice(N,N+1)=="="){var l=N+1,h=new rn([]),N=this.objectList(t,l,h);if(N>=0){var a=h[0];if(di(h)>1){var v=new Qu(h);try{for(;;){var p=v.next();this.makeStatement(new tn([this._context,this._store.sym(P0),a,p]))}}catch(k){if(k!=_o)throw k}}var N=this.skipSpace(t,N);if(N<0)throw St(this._thisDoc,this.lines,t,l,"EOF when objectList expected after [ = ");if(t.slice(N,N+1)==";")var N=N+1}else throw St(this._thisDoc,this.lines,t,l,"objectList expected after [= ")}if(a==null)var a=this.blankNode(f);var l=this.property_list(t,N,a);if(l<0)throw St(this._thisDoc,this.lines,t,N,"property_list expected");var N=this.skipSpace(t,l);if(N<0)throw St(this._thisDoc,this.lines,t,l,"EOF when ']' expected after [ <propertyList>");if(t.slice(N,N+1)!="]")throw St(this._thisDoc,this.lines,t,N,"']' expected");return r.push(a),N+1}if(u=="{"){var d=t.slice(l+1,l+2);if(d=="$"){l+=1;for(var N=l+1,_=new rn([]),g=!0;;){var l=this.skipSpace(t,N);if(l<0)throw St(this._thisDoc,this.lines,t,l,"needed '$}', found end.");if(t.slice(l,l+2)=="$}"){var N=l+2;break}if(g)var g=!1;else if(t.slice(l,l+1)==",")l+=1;else throw St(this._thisDoc,this.lines,t,l,"expected: ','");var b=new rn([]),N=this.item(t,l,b);if(N<0)throw St(this._thisDoc,this.lines,t,l,"expected item in set or '$}'");_.push(b[0])}return r.push(this._store.newSet(_,this._context)),N}else{var N=l+1,D=this._parentContext;this._parentContext=this._context;var B=this._anonymousNodes,S=this._parentVariables;this._parentVariables=this._variables,this._anonymousNodes=new uo([]),this._variables=this._variables.slice();var O=this._reason2;if(this._reason2=gS,a==null)var a=this._store.formula();for(this._context=a;;){var l=this.skipSpace(t,N);if(l<0)throw St(this._thisDoc,this.lines,t,l,"needed '}', found end.");if(t.slice(l,l+1)=="}"){var N=l+1;break}var N=this.directiveOrStatement(t,l);if(N<0)throw St(this._thisDoc,this.lines,t,l,"expected statement or '}'")}return this._anonymousNodes=B,this._variables=this._parentVariables,this._parentVariables=S,this._context=this._parentContext,this._reason2=O,this._parentContext=D,r.push(a.close()),N}}if(u=="("){var y=this._store.list,d=t.slice(l+1,l+2);if(d=="$"){var y=this._store.newSet;l+=1}for(var N=l+1,_=new rn([]);;){var l=this.skipSpace(t,N);if(l<0)throw St(this._thisDoc,this.lines,t,l,"needed ')', found end.");if(t.slice(l,l+1)==")"){var N=l+1;break}var b=new rn([]),N=this.item(t,l,b);if(N<0)throw St(this._thisDoc,this.lines,t,l,"expected item in list or ')'");_.push(b[0])}return r.push(y(_,this._context)),N}var N=this.tok("this",t,l);if(N>=0)throw St(this._thisDoc,this.lines,t,l,"Keyword 'this' was ancient N3. Now use @forSome and @forAll keywords.");var N=this.tok("true",t,l);if(N>=0)return r.push(!0),N;var N=this.tok("false",t,l);if(N>=0)return r.push(!1),N;if(a==null){var N=this.uri_ref2(t,l,r);if(N>=0)return N}return-1}},{key:"property_list",value:function(t,n,r){for(;;){var d=this.skipSpace(t,n);if(d<0)throw St(this._thisDoc,this.lines,t,n,"EOF found when expected verb in property list");if(t.slice(d,d+2)==":-"){var n=d+2,s=new rn([]),d=this.node(t,n,s,r);if(d<0)throw St(this._thisDoc,this.lines,t,n,"bad {} or () or [] node after :- ");var n=d;continue}var n=d,a=new rn([]),d=this.verb(t,n,a);if(d<=0)return n;var l=new rn([]),n=this.objectList(t,d,l);if(n<0)throw St(this._thisDoc,this.lines,t,d,"objectList expected");var u=new Qu(l);try{for(;;){var f=u.next(),h=a[0],v=h[0],p=h[1];v=="->"?this.makeStatement(new tn([this._context,p,r,f])):this.makeStatement(new tn([this._context,p,f,r]))}}catch(g){if(g!=_o)throw g}var d=this.skipSpace(t,n);if(d<0)throw St(this._thisDoc,this.lines,t,d,"EOF found in list of objects");if(t.slice(n,n+1)!=";")return n;var n=n+1}}},{key:"commaSeparatedList",value:function(t,n,r,s){var a=this.skipSpace(t,n);if(a<0)throw St(this._thisDoc,this.lines,t,a,"EOF found expecting comma sep list");if(t.charAt(a)==".")return n;if(s)var a=this.uri_ref2(t,a,r);else var a=this.bareWord(t,a,r);if(a<0)return-1;for(;;){var n=this.skipSpace(t,a);if(n<0)return n;var l=t.slice(n,n+1);if(l!=",")return l!="."?-1:n;if(s)var a=this.uri_ref2(t,n+1,r);else var a=this.bareWord(t,n+1,r);if(a<0)throw St(this._thisDoc,this.lines,t,a,"bad list content")}}},{key:"objectList",value:function(t,s,r){var s=this.object(t,s,r);if(s<0)return-1;for(;;){var a=this.skipSpace(t,s);if(a<0)throw St(this._thisDoc,this.lines,t,a,"EOF found after object");if(t.slice(a,a+1)!=",")return a;var s=this.object(t,a+1,r);if(s<0)return s}}},{key:"checkDot",value:function(t,n){var r=this.skipSpace(t,n);if(r<0)return r;if(t.slice(r,r+1)==".")return r+1;if(t.slice(r,r+1)=="}"||t.slice(r,r+1)=="]")return r;throw St(this._thisDoc,this.lines,t,r,"expected '.' or '}' or ']' at end of statement")}},{key:"uri_ref2",value:function(t,p,r){var s=new rn([]),a=this.qname(t,p,s);if(a>=0){var l=s[0],u=l[0],f=l[1];if(u==null){_s(0,"not used?");var h=this._baseURI+bS}else{var h=this._bindings[u];if(!h){if(u=="_")return r.push(this.anonymousNode(f)),a;throw St(this._thisDoc,this.lines,t,p,"Prefix "+u+" not bound.")}}var v=this._store.sym(h+f);return vi(this._variables,v)>=0?r.push(this._variables[v]):r.push(v),a}var p=this.skipSpace(t,p);if(p<0)return-1;if(t.charAt(p)=="?"){var d=new rn([]),a=this.variable(t,p,d);return a>0?(r.push(d[0]),a):-1}else if(t.charAt(p)=="<"){for(var p=p+1,_=p;p<di(t);){if(t.charAt(p)==">"){var g=t.slice(_,p);if(this._baseURI)var g=yh(this._baseURI,g);else _s(g.indexOf(":")>=0,"With no base URI, cannot deal with relative URIs");if(t.slice(p-1,p)=="#"&&bh(g,-1,null)!="#")var g=g+"#";var v=this._store.sym(g);return vi(this._variables,v)>=0?r.push(this._variables[v]):r.push(v),p+1}var p=p+1}throw St(this._thisDoc,this.lines,t,a,"unterminated URI reference")}else if(this.keywordsSet){var d=new rn([]),a=this.bareWord(t,p,d);if(a<0)return-1;if(vi(this.keywords,d[0])>=0)throw St(this._thisDoc,this.lines,t,p,'Keyword "'+d[0]+'" not allowed here.');return r.push(this._store.sym(this._bindings[""]+d[0])),a}else return-1}},{key:"skipSpace",value:function(t,n){for(var r=` 
\r	\f\v\u2028\u2029`,s=n||0;s<t.length;s++){var a=t.charAt(s);if(r.indexOf(a)<0)if(t.charAt(s)==="#")for(;;s++){if(s===t.length)return-1;if(t.charAt(s)===`
`){this.lines=this.lines+1;break}}else return s;else t.charAt(s)===`
`&&(this.lines=this.lines+1)}return-1}},{key:"variable",value:function(t,a,r){var s=this.skipSpace(t,a);if(s<0||t.slice(s,s+1)!="?")return-1;var s=s+1,a=s;if("0123456789-".indexOf(t.charAt(s))>=0)throw St(this._thisDoc,this.lines,t,s,"Varible name can't start with '"+t.charAt(s)+"s'");for(;a<di(t)&&vs.indexOf(t.charAt(a))<0;)var a=a+1;if(this._parentContext==null)throw St(this._thisDoc,this.lines,t,s,"Can't use ?xxx syntax for variable in outermost level: "+t.slice(s-1,a));return r.push(this._store.variable(t.slice(s,a))),a}},{key:"bareWord",value:function(t,l,r){var s=this.skipSpace(t,l);if(s<0)return-1;var a=t.charAt(s);if("0123456789-".indexOf(a)>=0||vs.indexOf(a)>=0)return-1;for(var l=s;l<di(t)&&vs.indexOf(t.charAt(l))<0;)var l=l+1;return r.push(t.slice(s,l)),l}},{key:"qname",value:function(t,s,r){var s=this.skipSpace(t,s);if(s<0)return-1;var a=t.charAt(s);if("0123456789-+".indexOf(a)>=0)return-1;if(vs.indexOf(a)<0)for(var l=a,s=s+1;s<di(t);){var a=t.charAt(s);if(vs.indexOf(a)<0)var l=l+a,s=s+1;else break}else var l="";if(s<di(t)&&t.charAt(s)==":"){for(var u=l,s=s+1,l="";s<di(t);){var a=t.charAt(s);if(vs.indexOf(a)<0)var l=l+a,s=s+1;else break}return r.push(new tn([u,l])),s}else return l&&this.keywordsSet&&vi(this.keywords,l)<0?(r.push(new tn(["",l])),s):-1}},{key:"object",value:function(t,n,r){var s=this.subject(t,n,r);if(s>=0)return s;var s=this.skipSpace(t,n);if(s<0)return-1;var n=s,a=null,l=t.charAt(n);if(l=='"'||l=="'"){t.slice(n,n+3==l+l)?a=l+l+l:a=l;var n=n+di(a),u=this.strconst(t,n,a),s=u[0],f=u[1];return r.push(this._store.literal(f)),s}else return-1}},{key:"nodeOrLiteral",value:function(t,n,r){var s=this.node(t,n,r);if(s>=0)return s;var s=this.skipSpace(t,n);if(s<0)return-1;var n=s,a=t.charAt(n);if("-+0987654321".indexOf(a)>=0){F0.lastIndex=0;var l=F0.exec(t.slice(n));if(l!=null){var u=l[0];s=n+u.length,u.indexOf("T")>=0?r.push(this._store.literal(u,this._store.sym(AS))):r.push(this._store.literal(u,this._store.sym(DS)))}else{Eh.lastIndex=0;var l=Eh.exec(t.slice(n));if(l==null)throw St(this._thisDoc,this.lines,t,n,"Bad number or date syntax");s=n+Eh.lastIndex;var u=t.slice(n,s);u.indexOf("e")>=0?r.push(this._store.literal(parseFloat(u),this._store.sym(yS))):t.slice(n,s).indexOf(".")>=0?r.push(this._store.literal(parseFloat(u),this._store.sym(ES))):r.push(this._store.literal(parseInt(u),this._store.sym(wS)))}return s}if(t.charAt(n)=='"'){if(t.slice(n,n+3)=='"""')var f='"""';else var f='"';var n=n+di(f),h=null,v=this.strconst(t,n,f),s=v[0],p=v[1],d=null;if(t.slice(s,s+1)=="@"){Ah.lastIndex=0;var l=Ah.exec(t.slice(s+1));if(l==null)throw St(this._thisDoc,startline,t,n,"Bad language code syntax on string literal, after @");var n=Ah.lastIndex+s+1,d=t.slice(s+1,n),s=n}if(t.slice(s,s+2)=="^^")var _=new rn([]),s=this.uri_ref2(t,s+2,_),h=_[0];return r.push(this._store.literal(p,d||h)),s}else return-1}},{key:"strconst",value:function(t,n,r){for(var s=n,a="",l=this.lines;s<di(t);){var n=s+di(r);if(t.slice(s,n)==r)return new tn([n,a]);if(t.charAt(s)=='"'){var a=a+'"',s=s+1;continue}Dh.lastIndex=0;var u=Dh.exec(t.slice(s));if(!u)throw St(this._thisDoc,l,t,s,"Closing quote missing in string at ^ in "+t.slice(s-20,s)+"^"+t.slice(s,s+20));var n=s+Dh.lastIndex-1,a=a+t.slice(s,n),f=t.charAt(n);if(f=='"'){var s=n;continue}else if(f=="\r"){var s=n+1;continue}else if(f==`
`){if(r=='"')throw St(this._thisDoc,l,t,n,"newline found in string literal");this.lines=this.lines+1;var a=a+f,s=n+1;this.previousLine=this.startOfLine,this.startOfLine=s}else if(f=="\\"){var s=n+1,f=t.slice(s,s+1);if(!f)throw St(this._thisDoc,l,t,n,"unterminated string literal (2)");var h=wh('abfrtvn\\"',f);if(h>=0)var v=`a\b\f\r	\v
\\"`.charAt(h),a=a+v,s=s+1;else if(f=="u")var p=this.uEscape(t,s+1,l),s=p[0],f=p[1],a=a+f;else if(f=="U")var p=this.UEscape(t,s+1,l),s=p[0],f=p[1],a=a+f;else throw St(this._thisDoc,this.lines,t,n,"bad escape")}}throw St(this._thisDoc,this.lines,t,n,"unterminated string literal")}},{key:"uEscape",value:function(t,n,r){for(var s=n,a=0,l=0;a<4;){var u=t.slice(s,s+1),f=u.toLowerCase(),s=s+1;if(f=="")throw St(this._thisDoc,r,t,n,"unterminated string literal(3)");var h=wh("0123456789abcdef",f);if(h<0)throw St(this._thisDoc,r,t,n,"bad string literal hex escape");var l=l*16+h,a=a+1}var v=String.fromCharCode(l);return new tn([s,v])}},{key:"UEscape",value:function(t,n,r){for(var s=n,a=0,l="\\U";a<8;){var u=t.slice(s,s+1),f=u.toLowerCase(),s=s+1;if(f=="")throw St(this._thisDoc,r,t,n,"unterminated string literal(3)");var h=wh("0123456789abcdef",f);if(h<0)throw St(this._thisDoc,r,t,n,"bad string literal hex escape");var l=l+f,a=a+1}var v=vS("0x"+bh(l,2,10)-0);return new tn([s,v])}}])}();function St(i,e,t,n,r){var s=e+1,a="Line "+s+" of <"+i+">: Bad syntax: "+r+`
at: "`+t.slice(n,n+30)+'"',l=new SyntaxError(a,i,s);return l.lineNo=s,l.characterInFile=n,l.syntaxProblem=r,l}function O0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function L0(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?O0(Object(t),!0).forEach(function(n){et(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):O0(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}var Gh=L0(L0({},Ti),{},{supports:et(et(et(et(et(et(et({},Un.collections,!0),Un.defaultGraphType,!1),Un.equalsMethod,!0),Un.identity,!1),Un.id,!0),Un.reversibleId,!1),Un.variableType,!0),collection:function(e){return new $a(e)},id:function(e){var t=this;return fd(e)?"( ".concat(e.elements.map(function(n){return t.id(n)}).join(", ")," )"):nN(e)?ks.toString(e):Ti.id(e)},termToNQ:function(e){return e.termType===Qa?$a.toNT(e):Ti.termToNQ(e)}});function Dd(i,e){return typeof e=="string"?i.rdfFactory.literal(e):Object.prototype.hasOwnProperty.call(e,"@list")?i.rdfFactory.supports.COLLECTIONS===!0?TS(i,e["@list"]):CS(i,e):Object.prototype.hasOwnProperty.call(e,"@id")?Ad(i,e):Object.prototype.hasOwnProperty.call(e,"@language")?i.rdfFactory.literal(e["@value"],e["@language"]):Object.prototype.hasOwnProperty.call(e,"@type")?i.rdfFactory.literal(e["@value"],i.rdfFactory.namedNode(e["@type"])):Object.prototype.hasOwnProperty.call(e,"@value")?i.rdfFactory.literal(e["@value"]):i.rdfFactory.literal(e)}function CS(i,e){var t=e["@id"]?Ad(i,e):i.rdfFactory.blankNode(),n=e["@list"].map(function(s){return Dd(i,s)}),r=M2(i.rdfFactory,t,n);return i.addAll(r),t}function TS(i,e){if(!Array.isArray(e))throw new TypeError("Object must be an array");return i.rdfFactory.collection(e.map(function(t){return Dd(i,t)}))}function H2(i,e,t,n){var r=t&&Object.prototype.hasOwnProperty.call(t,"termType")?t.value:t;return YA(()=>import("../chunks/jsonld.CYnguqZs.js").then(s=>s.j),__vite__mapDeps([0,1,2]),import.meta.url).then(function(s){return s.flatten(JSON.parse(i),null,{base:r})}).then(function(s){return s.reduce(function(a,l){return e=$2(e,t,l),e},e)}).then(n).catch(n)}function Ad(i,e){return e["@id"].startsWith("_:")?i.rdfFactory.blankNode(e["@id"].substring(2)):i.rdfFactory.namedNode(e["@id"])}function $2(i,e,t){for(var n=t["@id"]?Ad(i,t):i.rdfFactory.blankNode(),r=0,s=Object.keys(t);r<s.length;r++){var a=s[r];if(a!=="@id"){if(a=="@graph")for(var l=n,u=t[a],f=0;f<u.length;f++)i=$2(i,l,u[f]);var h=t[a];if(Array.isArray(h))for(var v=0;v<h.length;v++)i.addStatement(B0(i,n,a,h[v],e));else i.addStatement(B0(i,n,a,h,e))}}return i}function B0(i,e,t,n,r){var s,a;return t==="@type"?(s=i.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),a=i.rdfFactory.namedNode(n)):(s=i.rdfFactory.namedNode(t),a=Dd(i,n)),i.rdfFactory.quad(e,s,a,i.rdfFactory.namedNode(r))}var G2={},Uf={};Uf.byteLength=IS;Uf.toByteArray=PS;Uf.fromByteArray=LS;var $i=[],_i=[],NS=typeof Uint8Array<"u"?Uint8Array:Array,kh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var sl=0,SS=kh.length;sl<SS;++sl)$i[sl]=kh[sl],_i[kh.charCodeAt(sl)]=sl;_i[45]=62;_i[95]=63;function X2(i){var e=i.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=i.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function IS(i){var e=X2(i),t=e[0],n=e[1];return(t+n)*3/4-n}function RS(i,e,t){return(e+t)*3/4-t}function PS(i){var e,t=X2(i),n=t[0],r=t[1],s=new NS(RS(i,n,r)),a=0,l=r>0?n-4:n,u;for(u=0;u<l;u+=4)e=_i[i.charCodeAt(u)]<<18|_i[i.charCodeAt(u+1)]<<12|_i[i.charCodeAt(u+2)]<<6|_i[i.charCodeAt(u+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return r===2&&(e=_i[i.charCodeAt(u)]<<2|_i[i.charCodeAt(u+1)]>>4,s[a++]=e&255),r===1&&(e=_i[i.charCodeAt(u)]<<10|_i[i.charCodeAt(u+1)]<<4|_i[i.charCodeAt(u+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function FS(i){return $i[i>>18&63]+$i[i>>12&63]+$i[i>>6&63]+$i[i&63]}function OS(i,e,t){for(var n,r=[],s=e;s<t;s+=3)n=(i[s]<<16&16711680)+(i[s+1]<<8&65280)+(i[s+2]&255),r.push(FS(n));return r.join("")}function LS(i){for(var e,t=i.length,n=t%3,r=[],s=16383,a=0,l=t-n;a<l;a+=s)r.push(OS(i,a,a+s>l?l:a+s));return n===1?(e=i[t-1],r.push($i[e>>2]+$i[e<<4&63]+"==")):n===2&&(e=(i[t-2]<<8)+i[t-1],r.push($i[e>>10]+$i[e>>4&63]+$i[e<<2&63]+"=")),r.join("")}var kd={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */kd.read=function(i,e,t,n,r){var s,a,l=r*8-n-1,u=(1<<l)-1,f=u>>1,h=-7,v=t?r-1:0,p=t?-1:1,d=i[e+v];for(v+=p,s=d&(1<<-h)-1,d>>=-h,h+=l;h>0;s=s*256+i[e+v],v+=p,h-=8);for(a=s&(1<<-h)-1,s>>=-h,h+=n;h>0;a=a*256+i[e+v],v+=p,h-=8);if(s===0)s=1-f;else{if(s===u)return a?NaN:(d?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-f}return(d?-1:1)*a*Math.pow(2,s-n)};kd.write=function(i,e,t,n,r,s){var a,l,u,f=s*8-r-1,h=(1<<f)-1,v=h>>1,p=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,_=n?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+v>=1?e+=p/u:e+=p*Math.pow(2,1-v),e*u>=2&&(a++,u/=2),a+v>=h?(l=0,a=h):a+v>=1?(l=(e*u-1)*Math.pow(2,r),a=a+v):(l=e*Math.pow(2,v-1)*Math.pow(2,r),a=0));r>=8;i[t+d]=l&255,d+=_,l/=256,r-=8);for(a=a<<r|l,f+=r;f>0;i[t+d]=a&255,d+=_,a/=256,f-=8);i[t+d-_]|=g*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(i){const e=Uf,t=kd,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;i.Buffer=l,i.SlowBuffer=B,i.INSPECT_MAX_BYTES=50;const r=2147483647;i.kMaxLength=r,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const W=new Uint8Array(1),P={foo:function(){return 42}};return Object.setPrototypeOf(P,Uint8Array.prototype),Object.setPrototypeOf(W,P),W.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function a(W){if(W>r)throw new RangeError('The value "'+W+'" is invalid for option "size"');const P=new Uint8Array(W);return Object.setPrototypeOf(P,l.prototype),P}function l(W,P,M){if(typeof W=="number"){if(typeof P=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(W)}return u(W,P,M)}l.poolSize=8192;function u(W,P,M){if(typeof W=="string")return p(W,P);if(ArrayBuffer.isView(W))return _(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(mt(W,ArrayBuffer)||W&&mt(W.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(mt(W,SharedArrayBuffer)||W&&mt(W.buffer,SharedArrayBuffer)))return g(W,P,M);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ee=W.valueOf&&W.valueOf();if(ee!=null&&ee!==W)return l.from(ee,P,M);const we=b(W);if(we)return we;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return l.from(W[Symbol.toPrimitive]("string"),P,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}l.from=function(W,P,M){return u(W,P,M)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function f(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function h(W,P,M){return f(W),W<=0?a(W):P!==void 0?typeof M=="string"?a(W).fill(P,M):a(W).fill(P):a(W)}l.alloc=function(W,P,M){return h(W,P,M)};function v(W){return f(W),a(W<0?0:D(W)|0)}l.allocUnsafe=function(W){return v(W)},l.allocUnsafeSlow=function(W){return v(W)};function p(W,P){if((typeof P!="string"||P==="")&&(P="utf8"),!l.isEncoding(P))throw new TypeError("Unknown encoding: "+P);const M=S(W,P)|0;let ee=a(M);const we=ee.write(W,P);return we!==M&&(ee=ee.slice(0,we)),ee}function d(W){const P=W.length<0?0:D(W.length)|0,M=a(P);for(let ee=0;ee<P;ee+=1)M[ee]=W[ee]&255;return M}function _(W){if(mt(W,Uint8Array)){const P=new Uint8Array(W);return g(P.buffer,P.byteOffset,P.byteLength)}return d(W)}function g(W,P,M){if(P<0||W.byteLength<P)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<P+(M||0))throw new RangeError('"length" is outside of buffer bounds');let ee;return P===void 0&&M===void 0?ee=new Uint8Array(W):M===void 0?ee=new Uint8Array(W,P):ee=new Uint8Array(W,P,M),Object.setPrototypeOf(ee,l.prototype),ee}function b(W){if(l.isBuffer(W)){const P=D(W.length)|0,M=a(P);return M.length===0||W.copy(M,0,0,P),M}if(W.length!==void 0)return typeof W.length!="number"||Dt(W.length)?a(0):d(W);if(W.type==="Buffer"&&Array.isArray(W.data))return d(W.data)}function D(W){if(W>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return W|0}function B(W){return+W!=W&&(W=0),l.alloc(+W)}l.isBuffer=function(P){return P!=null&&P._isBuffer===!0&&P!==l.prototype},l.compare=function(P,M){if(mt(P,Uint8Array)&&(P=l.from(P,P.offset,P.byteLength)),mt(M,Uint8Array)&&(M=l.from(M,M.offset,M.byteLength)),!l.isBuffer(P)||!l.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===M)return 0;let ee=P.length,we=M.length;for(let Le=0,Ve=Math.min(ee,we);Le<Ve;++Le)if(P[Le]!==M[Le]){ee=P[Le],we=M[Le];break}return ee<we?-1:we<ee?1:0},l.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(P,M){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return l.alloc(0);let ee;if(M===void 0)for(M=0,ee=0;ee<P.length;++ee)M+=P[ee].length;const we=l.allocUnsafe(M);let Le=0;for(ee=0;ee<P.length;++ee){let Ve=P[ee];if(mt(Ve,Uint8Array))Le+Ve.length>we.length?(l.isBuffer(Ve)||(Ve=l.from(Ve)),Ve.copy(we,Le)):Uint8Array.prototype.set.call(we,Ve,Le);else if(l.isBuffer(Ve))Ve.copy(we,Le);else throw new TypeError('"list" argument must be an Array of Buffers');Le+=Ve.length}return we};function S(W,P){if(l.isBuffer(W))return W.length;if(ArrayBuffer.isView(W)||mt(W,ArrayBuffer))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);const M=W.length,ee=arguments.length>2&&arguments[2]===!0;if(!ee&&M===0)return 0;let we=!1;for(;;)switch(P){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return Yt(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M*2;case"hex":return M>>>1;case"base64":return Nr(W).length;default:if(we)return ee?-1:Yt(W).length;P=(""+P).toLowerCase(),we=!0}}l.byteLength=S;function O(W,P,M){let ee=!1;if((P===void 0||P<0)&&(P=0),P>this.length||((M===void 0||M>this.length)&&(M=this.length),M<=0)||(M>>>=0,P>>>=0,M<=P))return"";for(W||(W="utf8");;)switch(W){case"hex":return te(this,P,M);case"utf8":case"utf-8":return R(this,P,M);case"ascii":return fe(this,P,M);case"latin1":case"binary":return re(this,P,M);case"base64":return k(this,P,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,P,M);default:if(ee)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),ee=!0}}l.prototype._isBuffer=!0;function y(W,P,M){const ee=W[P];W[P]=W[M],W[M]=ee}l.prototype.swap16=function(){const P=this.length;if(P%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<P;M+=2)y(this,M,M+1);return this},l.prototype.swap32=function(){const P=this.length;if(P%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<P;M+=4)y(this,M,M+3),y(this,M+1,M+2);return this},l.prototype.swap64=function(){const P=this.length;if(P%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<P;M+=8)y(this,M,M+7),y(this,M+1,M+6),y(this,M+2,M+5),y(this,M+3,M+4);return this},l.prototype.toString=function(){const P=this.length;return P===0?"":arguments.length===0?R(this,0,P):O.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(P){if(!l.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P?!0:l.compare(this,P)===0},l.prototype.inspect=function(){let P="";const M=i.INSPECT_MAX_BYTES;return P=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(P+=" ... "),"<Buffer "+P+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(P,M,ee,we,Le){if(mt(P,Uint8Array)&&(P=l.from(P,P.offset,P.byteLength)),!l.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(M===void 0&&(M=0),ee===void 0&&(ee=P?P.length:0),we===void 0&&(we=0),Le===void 0&&(Le=this.length),M<0||ee>P.length||we<0||Le>this.length)throw new RangeError("out of range index");if(we>=Le&&M>=ee)return 0;if(we>=Le)return-1;if(M>=ee)return 1;if(M>>>=0,ee>>>=0,we>>>=0,Le>>>=0,this===P)return 0;let Ve=Le-we,Nt=ee-M;const qt=Math.min(Ve,Nt),At=this.slice(we,Le),Mt=P.slice(M,ee);for(let er=0;er<qt;++er)if(At[er]!==Mt[er]){Ve=At[er],Nt=Mt[er];break}return Ve<Nt?-1:Nt<Ve?1:0};function N(W,P,M,ee,we){if(W.length===0)return-1;if(typeof M=="string"?(ee=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),M=+M,Dt(M)&&(M=we?0:W.length-1),M<0&&(M=W.length+M),M>=W.length){if(we)return-1;M=W.length-1}else if(M<0)if(we)M=0;else return-1;if(typeof P=="string"&&(P=l.from(P,ee)),l.isBuffer(P))return P.length===0?-1:T(W,P,M,ee,we);if(typeof P=="number")return P=P&255,typeof Uint8Array.prototype.indexOf=="function"?we?Uint8Array.prototype.indexOf.call(W,P,M):Uint8Array.prototype.lastIndexOf.call(W,P,M):T(W,[P],M,ee,we);throw new TypeError("val must be string, number or Buffer")}function T(W,P,M,ee,we){let Le=1,Ve=W.length,Nt=P.length;if(ee!==void 0&&(ee=String(ee).toLowerCase(),ee==="ucs2"||ee==="ucs-2"||ee==="utf16le"||ee==="utf-16le")){if(W.length<2||P.length<2)return-1;Le=2,Ve/=2,Nt/=2,M/=2}function qt(Mt,er){return Le===1?Mt[er]:Mt.readUInt16BE(er*Le)}let At;if(we){let Mt=-1;for(At=M;At<Ve;At++)if(qt(W,At)===qt(P,Mt===-1?0:At-Mt)){if(Mt===-1&&(Mt=At),At-Mt+1===Nt)return Mt*Le}else Mt!==-1&&(At-=At-Mt),Mt=-1}else for(M+Nt>Ve&&(M=Ve-Nt),At=M;At>=0;At--){let Mt=!0;for(let er=0;er<Nt;er++)if(qt(W,At+er)!==qt(P,er)){Mt=!1;break}if(Mt)return At}return-1}l.prototype.includes=function(P,M,ee){return this.indexOf(P,M,ee)!==-1},l.prototype.indexOf=function(P,M,ee){return N(this,P,M,ee,!0)},l.prototype.lastIndexOf=function(P,M,ee){return N(this,P,M,ee,!1)};function q(W,P,M,ee){M=Number(M)||0;const we=W.length-M;ee?(ee=Number(ee),ee>we&&(ee=we)):ee=we;const Le=P.length;ee>Le/2&&(ee=Le/2);let Ve;for(Ve=0;Ve<ee;++Ve){const Nt=parseInt(P.substr(Ve*2,2),16);if(Dt(Nt))return Ve;W[M+Ve]=Nt}return Ve}function F(W,P,M,ee){return fr(Yt(P,W.length-M),W,M,ee)}function j(W,P,M,ee){return fr(Tr(P),W,M,ee)}function A(W,P,M,ee){return fr(Nr(P),W,M,ee)}function L(W,P,M,ee){return fr(nr(P,W.length-M),W,M,ee)}l.prototype.write=function(P,M,ee,we){if(M===void 0)we="utf8",ee=this.length,M=0;else if(ee===void 0&&typeof M=="string")we=M,ee=this.length,M=0;else if(isFinite(M))M=M>>>0,isFinite(ee)?(ee=ee>>>0,we===void 0&&(we="utf8")):(we=ee,ee=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Le=this.length-M;if((ee===void 0||ee>Le)&&(ee=Le),P.length>0&&(ee<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");we||(we="utf8");let Ve=!1;for(;;)switch(we){case"hex":return q(this,P,M,ee);case"utf8":case"utf-8":return F(this,P,M,ee);case"ascii":case"latin1":case"binary":return j(this,P,M,ee);case"base64":return A(this,P,M,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,P,M,ee);default:if(Ve)throw new TypeError("Unknown encoding: "+we);we=(""+we).toLowerCase(),Ve=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(W,P,M){return P===0&&M===W.length?e.fromByteArray(W):e.fromByteArray(W.slice(P,M))}function R(W,P,M){M=Math.min(W.length,M);const ee=[];let we=P;for(;we<M;){const Le=W[we];let Ve=null,Nt=Le>239?4:Le>223?3:Le>191?2:1;if(we+Nt<=M){let qt,At,Mt,er;switch(Nt){case 1:Le<128&&(Ve=Le);break;case 2:qt=W[we+1],(qt&192)===128&&(er=(Le&31)<<6|qt&63,er>127&&(Ve=er));break;case 3:qt=W[we+1],At=W[we+2],(qt&192)===128&&(At&192)===128&&(er=(Le&15)<<12|(qt&63)<<6|At&63,er>2047&&(er<55296||er>57343)&&(Ve=er));break;case 4:qt=W[we+1],At=W[we+2],Mt=W[we+3],(qt&192)===128&&(At&192)===128&&(Mt&192)===128&&(er=(Le&15)<<18|(qt&63)<<12|(At&63)<<6|Mt&63,er>65535&&er<1114112&&(Ve=er))}}Ve===null?(Ve=65533,Nt=1):Ve>65535&&(Ve-=65536,ee.push(Ve>>>10&1023|55296),Ve=56320|Ve&1023),ee.push(Ve),we+=Nt}return z(ee)}const K=4096;function z(W){const P=W.length;if(P<=K)return String.fromCharCode.apply(String,W);let M="",ee=0;for(;ee<P;)M+=String.fromCharCode.apply(String,W.slice(ee,ee+=K));return M}function fe(W,P,M){let ee="";M=Math.min(W.length,M);for(let we=P;we<M;++we)ee+=String.fromCharCode(W[we]&127);return ee}function re(W,P,M){let ee="";M=Math.min(W.length,M);for(let we=P;we<M;++we)ee+=String.fromCharCode(W[we]);return ee}function te(W,P,M){const ee=W.length;(!P||P<0)&&(P=0),(!M||M<0||M>ee)&&(M=ee);let we="";for(let Le=P;Le<M;++Le)we+=nt[W[Le]];return we}function G(W,P,M){const ee=W.slice(P,M);let we="";for(let Le=0;Le<ee.length-1;Le+=2)we+=String.fromCharCode(ee[Le]+ee[Le+1]*256);return we}l.prototype.slice=function(P,M){const ee=this.length;P=~~P,M=M===void 0?ee:~~M,P<0?(P+=ee,P<0&&(P=0)):P>ee&&(P=ee),M<0?(M+=ee,M<0&&(M=0)):M>ee&&(M=ee),M<P&&(M=P);const we=this.subarray(P,M);return Object.setPrototypeOf(we,l.prototype),we};function Q(W,P,M){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+P>M)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(P,M,ee){P=P>>>0,M=M>>>0,ee||Q(P,M,this.length);let we=this[P],Le=1,Ve=0;for(;++Ve<M&&(Le*=256);)we+=this[P+Ve]*Le;return we},l.prototype.readUintBE=l.prototype.readUIntBE=function(P,M,ee){P=P>>>0,M=M>>>0,ee||Q(P,M,this.length);let we=this[P+--M],Le=1;for(;M>0&&(Le*=256);)we+=this[P+--M]*Le;return we},l.prototype.readUint8=l.prototype.readUInt8=function(P,M){return P=P>>>0,M||Q(P,1,this.length),this[P]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(P,M){return P=P>>>0,M||Q(P,2,this.length),this[P]|this[P+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(P,M){return P=P>>>0,M||Q(P,2,this.length),this[P]<<8|this[P+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(P,M){return P=P>>>0,M||Q(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+this[P+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(P,M){return P=P>>>0,M||Q(P,4,this.length),this[P]*16777216+(this[P+1]<<16|this[P+2]<<8|this[P+3])},l.prototype.readBigUInt64LE=pt(function(P){P=P>>>0,Re(P,"offset");const M=this[P],ee=this[P+7];(M===void 0||ee===void 0)&&le(P,this.length-8);const we=M+this[++P]*2**8+this[++P]*2**16+this[++P]*2**24,Le=this[++P]+this[++P]*2**8+this[++P]*2**16+ee*2**24;return BigInt(we)+(BigInt(Le)<<BigInt(32))}),l.prototype.readBigUInt64BE=pt(function(P){P=P>>>0,Re(P,"offset");const M=this[P],ee=this[P+7];(M===void 0||ee===void 0)&&le(P,this.length-8);const we=M*2**24+this[++P]*2**16+this[++P]*2**8+this[++P],Le=this[++P]*2**24+this[++P]*2**16+this[++P]*2**8+ee;return(BigInt(we)<<BigInt(32))+BigInt(Le)}),l.prototype.readIntLE=function(P,M,ee){P=P>>>0,M=M>>>0,ee||Q(P,M,this.length);let we=this[P],Le=1,Ve=0;for(;++Ve<M&&(Le*=256);)we+=this[P+Ve]*Le;return Le*=128,we>=Le&&(we-=Math.pow(2,8*M)),we},l.prototype.readIntBE=function(P,M,ee){P=P>>>0,M=M>>>0,ee||Q(P,M,this.length);let we=M,Le=1,Ve=this[P+--we];for(;we>0&&(Le*=256);)Ve+=this[P+--we]*Le;return Le*=128,Ve>=Le&&(Ve-=Math.pow(2,8*M)),Ve},l.prototype.readInt8=function(P,M){return P=P>>>0,M||Q(P,1,this.length),this[P]&128?(255-this[P]+1)*-1:this[P]},l.prototype.readInt16LE=function(P,M){P=P>>>0,M||Q(P,2,this.length);const ee=this[P]|this[P+1]<<8;return ee&32768?ee|4294901760:ee},l.prototype.readInt16BE=function(P,M){P=P>>>0,M||Q(P,2,this.length);const ee=this[P+1]|this[P]<<8;return ee&32768?ee|4294901760:ee},l.prototype.readInt32LE=function(P,M){return P=P>>>0,M||Q(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},l.prototype.readInt32BE=function(P,M){return P=P>>>0,M||Q(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},l.prototype.readBigInt64LE=pt(function(P){P=P>>>0,Re(P,"offset");const M=this[P],ee=this[P+7];(M===void 0||ee===void 0)&&le(P,this.length-8);const we=this[P+4]+this[P+5]*2**8+this[P+6]*2**16+(ee<<24);return(BigInt(we)<<BigInt(32))+BigInt(M+this[++P]*2**8+this[++P]*2**16+this[++P]*2**24)}),l.prototype.readBigInt64BE=pt(function(P){P=P>>>0,Re(P,"offset");const M=this[P],ee=this[P+7];(M===void 0||ee===void 0)&&le(P,this.length-8);const we=(M<<24)+this[++P]*2**16+this[++P]*2**8+this[++P];return(BigInt(we)<<BigInt(32))+BigInt(this[++P]*2**24+this[++P]*2**16+this[++P]*2**8+ee)}),l.prototype.readFloatLE=function(P,M){return P=P>>>0,M||Q(P,4,this.length),t.read(this,P,!0,23,4)},l.prototype.readFloatBE=function(P,M){return P=P>>>0,M||Q(P,4,this.length),t.read(this,P,!1,23,4)},l.prototype.readDoubleLE=function(P,M){return P=P>>>0,M||Q(P,8,this.length),t.read(this,P,!0,52,8)},l.prototype.readDoubleBE=function(P,M){return P=P>>>0,M||Q(P,8,this.length),t.read(this,P,!1,52,8)};function pe(W,P,M,ee,we,Le){if(!l.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(P>we||P<Le)throw new RangeError('"value" argument is out of bounds');if(M+ee>W.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(P,M,ee,we){if(P=+P,M=M>>>0,ee=ee>>>0,!we){const Nt=Math.pow(2,8*ee)-1;pe(this,P,M,ee,Nt,0)}let Le=1,Ve=0;for(this[M]=P&255;++Ve<ee&&(Le*=256);)this[M+Ve]=P/Le&255;return M+ee},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(P,M,ee,we){if(P=+P,M=M>>>0,ee=ee>>>0,!we){const Nt=Math.pow(2,8*ee)-1;pe(this,P,M,ee,Nt,0)}let Le=ee-1,Ve=1;for(this[M+Le]=P&255;--Le>=0&&(Ve*=256);)this[M+Le]=P/Ve&255;return M+ee},l.prototype.writeUint8=l.prototype.writeUInt8=function(P,M,ee){return P=+P,M=M>>>0,ee||pe(this,P,M,1,255,0),this[M]=P&255,M+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(P,M,ee){return P=+P,M=M>>>0,ee||pe(this,P,M,2,65535,0),this[M]=P&255,this[M+1]=P>>>8,M+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(P,M,ee){return P=+P,M=M>>>0,ee||pe(this,P,M,2,65535,0),this[M]=P>>>8,this[M+1]=P&255,M+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(P,M,ee){return P=+P,M=M>>>0,ee||pe(this,P,M,4,4294967295,0),this[M+3]=P>>>24,this[M+2]=P>>>16,this[M+1]=P>>>8,this[M]=P&255,M+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(P,M,ee){return P=+P,M=M>>>0,ee||pe(this,P,M,4,4294967295,0),this[M]=P>>>24,this[M+1]=P>>>16,this[M+2]=P>>>8,this[M+3]=P&255,M+4};function J(W,P,M,ee,we){kt(P,ee,we,W,M,7);let Le=Number(P&BigInt(4294967295));W[M++]=Le,Le=Le>>8,W[M++]=Le,Le=Le>>8,W[M++]=Le,Le=Le>>8,W[M++]=Le;let Ve=Number(P>>BigInt(32)&BigInt(4294967295));return W[M++]=Ve,Ve=Ve>>8,W[M++]=Ve,Ve=Ve>>8,W[M++]=Ve,Ve=Ve>>8,W[M++]=Ve,M}function _e(W,P,M,ee,we){kt(P,ee,we,W,M,7);let Le=Number(P&BigInt(4294967295));W[M+7]=Le,Le=Le>>8,W[M+6]=Le,Le=Le>>8,W[M+5]=Le,Le=Le>>8,W[M+4]=Le;let Ve=Number(P>>BigInt(32)&BigInt(4294967295));return W[M+3]=Ve,Ve=Ve>>8,W[M+2]=Ve,Ve=Ve>>8,W[M+1]=Ve,Ve=Ve>>8,W[M]=Ve,M+8}l.prototype.writeBigUInt64LE=pt(function(P,M=0){return J(this,P,M,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=pt(function(P,M=0){return _e(this,P,M,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(P,M,ee,we){if(P=+P,M=M>>>0,!we){const qt=Math.pow(2,8*ee-1);pe(this,P,M,ee,qt-1,-qt)}let Le=0,Ve=1,Nt=0;for(this[M]=P&255;++Le<ee&&(Ve*=256);)P<0&&Nt===0&&this[M+Le-1]!==0&&(Nt=1),this[M+Le]=(P/Ve>>0)-Nt&255;return M+ee},l.prototype.writeIntBE=function(P,M,ee,we){if(P=+P,M=M>>>0,!we){const qt=Math.pow(2,8*ee-1);pe(this,P,M,ee,qt-1,-qt)}let Le=ee-1,Ve=1,Nt=0;for(this[M+Le]=P&255;--Le>=0&&(Ve*=256);)P<0&&Nt===0&&this[M+Le+1]!==0&&(Nt=1),this[M+Le]=(P/Ve>>0)-Nt&255;return M+ee},l.prototype.writeInt8=function(P,M,ee){return P=+P,M=M>>>0,ee||pe(this,P,M,1,127,-128),P<0&&(P=255+P+1),this[M]=P&255,M+1},l.prototype.writeInt16LE=function(P,M,ee){return P=+P,M=M>>>0,ee||pe(this,P,M,2,32767,-32768),this[M]=P&255,this[M+1]=P>>>8,M+2},l.prototype.writeInt16BE=function(P,M,ee){return P=+P,M=M>>>0,ee||pe(this,P,M,2,32767,-32768),this[M]=P>>>8,this[M+1]=P&255,M+2},l.prototype.writeInt32LE=function(P,M,ee){return P=+P,M=M>>>0,ee||pe(this,P,M,4,2147483647,-2147483648),this[M]=P&255,this[M+1]=P>>>8,this[M+2]=P>>>16,this[M+3]=P>>>24,M+4},l.prototype.writeInt32BE=function(P,M,ee){return P=+P,M=M>>>0,ee||pe(this,P,M,4,2147483647,-2147483648),P<0&&(P=4294967295+P+1),this[M]=P>>>24,this[M+1]=P>>>16,this[M+2]=P>>>8,this[M+3]=P&255,M+4},l.prototype.writeBigInt64LE=pt(function(P,M=0){return J(this,P,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=pt(function(P,M=0){return _e(this,P,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function tt(W,P,M,ee,we,Le){if(M+ee>W.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function rt(W,P,M,ee,we){return P=+P,M=M>>>0,we||tt(W,P,M,4),t.write(W,P,M,ee,23,4),M+4}l.prototype.writeFloatLE=function(P,M,ee){return rt(this,P,M,!0,ee)},l.prototype.writeFloatBE=function(P,M,ee){return rt(this,P,M,!1,ee)};function Pe(W,P,M,ee,we){return P=+P,M=M>>>0,we||tt(W,P,M,8),t.write(W,P,M,ee,52,8),M+8}l.prototype.writeDoubleLE=function(P,M,ee){return Pe(this,P,M,!0,ee)},l.prototype.writeDoubleBE=function(P,M,ee){return Pe(this,P,M,!1,ee)},l.prototype.copy=function(P,M,ee,we){if(!l.isBuffer(P))throw new TypeError("argument should be a Buffer");if(ee||(ee=0),!we&&we!==0&&(we=this.length),M>=P.length&&(M=P.length),M||(M=0),we>0&&we<ee&&(we=ee),we===ee||P.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(ee<0||ee>=this.length)throw new RangeError("Index out of range");if(we<0)throw new RangeError("sourceEnd out of bounds");we>this.length&&(we=this.length),P.length-M<we-ee&&(we=P.length-M+ee);const Le=we-ee;return this===P&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(M,ee,we):Uint8Array.prototype.set.call(P,this.subarray(ee,we),M),Le},l.prototype.fill=function(P,M,ee,we){if(typeof P=="string"){if(typeof M=="string"?(we=M,M=0,ee=this.length):typeof ee=="string"&&(we=ee,ee=this.length),we!==void 0&&typeof we!="string")throw new TypeError("encoding must be a string");if(typeof we=="string"&&!l.isEncoding(we))throw new TypeError("Unknown encoding: "+we);if(P.length===1){const Ve=P.charCodeAt(0);(we==="utf8"&&Ve<128||we==="latin1")&&(P=Ve)}}else typeof P=="number"?P=P&255:typeof P=="boolean"&&(P=Number(P));if(M<0||this.length<M||this.length<ee)throw new RangeError("Out of range index");if(ee<=M)return this;M=M>>>0,ee=ee===void 0?this.length:ee>>>0,P||(P=0);let Le;if(typeof P=="number")for(Le=M;Le<ee;++Le)this[Le]=P;else{const Ve=l.isBuffer(P)?P:l.from(P,we),Nt=Ve.length;if(Nt===0)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(Le=0;Le<ee-M;++Le)this[Le+M]=Ve[Le%Nt]}return this};const je={};function ke(W,P,M){je[W]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:P.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${W}]`,this.stack,delete this.name}get code(){return W}set code(we){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:we,writable:!0})}toString(){return`${this.name} [${W}]: ${this.message}`}}}ke("ERR_BUFFER_OUT_OF_BOUNDS",function(W){return W?`${W} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ke("ERR_INVALID_ARG_TYPE",function(W,P){return`The "${W}" argument must be of type number. Received type ${typeof P}`},TypeError),ke("ERR_OUT_OF_RANGE",function(W,P,M){let ee=`The value of "${W}" is out of range.`,we=M;return Number.isInteger(M)&&Math.abs(M)>2**32?we=He(String(M)):typeof M=="bigint"&&(we=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(we=He(we)),we+="n"),ee+=` It must be ${P}. Received ${we}`,ee},RangeError);function He(W){let P="",M=W.length;const ee=W[0]==="-"?1:0;for(;M>=ee+4;M-=3)P=`_${W.slice(M-3,M)}${P}`;return`${W.slice(0,M)}${P}`}function ot(W,P,M){Re(P,"offset"),(W[P]===void 0||W[P+M]===void 0)&&le(P,W.length-(M+1))}function kt(W,P,M,ee,we,Le){if(W>M||W<P){const Ve=typeof P=="bigint"?"n":"";let Nt;throw P===0||P===BigInt(0)?Nt=`>= 0${Ve} and < 2${Ve} ** ${(Le+1)*8}${Ve}`:Nt=`>= -(2${Ve} ** ${(Le+1)*8-1}${Ve}) and < 2 ** ${(Le+1)*8-1}${Ve}`,new je.ERR_OUT_OF_RANGE("value",Nt,W)}ot(ee,we,Le)}function Re(W,P){if(typeof W!="number")throw new je.ERR_INVALID_ARG_TYPE(P,"number",W)}function le(W,P,M){throw Math.floor(W)!==W?(Re(W,M),new je.ERR_OUT_OF_RANGE("offset","an integer",W)):P<0?new je.ERR_BUFFER_OUT_OF_BOUNDS:new je.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${P}`,W)}const Ue=/[^+/0-9A-Za-z-_]/g;function sr(W){if(W=W.split("=")[0],W=W.trim().replace(Ue,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function Yt(W,P){P=P||1/0;let M;const ee=W.length;let we=null;const Le=[];for(let Ve=0;Ve<ee;++Ve){if(M=W.charCodeAt(Ve),M>55295&&M<57344){if(!we){if(M>56319){(P-=3)>-1&&Le.push(239,191,189);continue}else if(Ve+1===ee){(P-=3)>-1&&Le.push(239,191,189);continue}we=M;continue}if(M<56320){(P-=3)>-1&&Le.push(239,191,189),we=M;continue}M=(we-55296<<10|M-56320)+65536}else we&&(P-=3)>-1&&Le.push(239,191,189);if(we=null,M<128){if((P-=1)<0)break;Le.push(M)}else if(M<2048){if((P-=2)<0)break;Le.push(M>>6|192,M&63|128)}else if(M<65536){if((P-=3)<0)break;Le.push(M>>12|224,M>>6&63|128,M&63|128)}else if(M<1114112){if((P-=4)<0)break;Le.push(M>>18|240,M>>12&63|128,M>>6&63|128,M&63|128)}else throw new Error("Invalid code point")}return Le}function Tr(W){const P=[];for(let M=0;M<W.length;++M)P.push(W.charCodeAt(M)&255);return P}function nr(W,P){let M,ee,we;const Le=[];for(let Ve=0;Ve<W.length&&!((P-=2)<0);++Ve)M=W.charCodeAt(Ve),ee=M>>8,we=M%256,Le.push(we),Le.push(ee);return Le}function Nr(W){return e.toByteArray(sr(W))}function fr(W,P,M,ee){let we;for(we=0;we<ee&&!(we+M>=P.length||we>=W.length);++we)P[we+M]=W[we];return we}function mt(W,P){return W instanceof P||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===P.name}function Dt(W){return W!==W}const nt=function(){const W="0123456789abcdef",P=new Array(256);for(let M=0;M<16;++M){const ee=M*16;for(let we=0;we<16;++we)P[ee+we]=W[M]+W[we]}return P}();function pt(W){return typeof BigInt>"u"?ze:W}function ze(){throw new Error("BigInt not supported")}})(G2);/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let U0;var BS=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:ua):i=>(U0||(U0=Promise.resolve())).then(i).catch(e=>setTimeout(()=>{throw e},0));const US=Ts(BS),fo="http://www.w3.org/1999/02/22-rdf-syntax-ns#",co="http://www.w3.org/2001/XMLSchema#",Ch="http://www.w3.org/2000/10/swap/",Ci={xsd:{decimal:`${co}decimal`,boolean:`${co}boolean`,double:`${co}double`,integer:`${co}integer`,string:`${co}string`},rdf:{type:`${fo}type`,nil:`${fo}nil`,first:`${fo}first`,rest:`${fo}rest`,langString:`${fo}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${Ch}reify#forSome`,forAll:`${Ch}reify#forAll`},log:{implies:`${Ch}log#implies`}},{xsd:Yu}=Ci,MS=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,M0={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},qS=/[\x00-\x20<>\\"\{\}\|\^\`]/,jS={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},xS=/$0^/;class zS{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const t in this)!(t in jS)&&this[t]instanceof RegExp&&(this[t]=xS)}else this._n3Mode=e.n3!==!1;this.comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,t){let n=this._input,r=n.length;for(;;){let l,u;for(;l=this._newline.exec(n);)this.comments&&(u=this._comment.exec(l[0]))&&s("comment",u[1],"",this._line,l[0].length),n=n.substr(l[0].length,n.length),r=n.length,this._line++;if(!l&&(l=this._whitespace.exec(n))&&(n=n.substr(l[0].length,n.length)),this._endOfFile.test(n))return t&&(this.comments&&(u=this._comment.exec(n))&&s("comment",u[1],"",this._line,n.length),n=null,s("eof","","",this._line,0)),this._input=n;const f=this._line,h=n[0];let v="",p="",d="",_=null,g=0,b=!1;switch(h){case"^":if(n.length<3)break;if(n[1]==="^"){if(this._previousMarker="^^",n=n.substr(2),n[0]!=="<"){b=!0;break}}else{this._n3Mode&&(g=1,v="^");break}case"<":if(_=this._unescapedIri.exec(n))v="IRI",p=_[1];else if(_=this._iri.exec(n)){if(p=this._unescape(_[1]),p===null||qS.test(p))return a(this);v="IRI"}else n.length>1&&n[1]==="<"?(v="<<",g=2):this._n3Mode&&n.length>1&&n[1]==="="&&(v="inverse",g=2,p=">");break;case">":n.length>1&&n[1]===">"&&(v=">>",g=2);break;case"_":((_=this._blank.exec(n))||t&&(_=this._blank.exec(`${n} `)))&&(v="blank",d="_",p=_[1]);break;case'"':if(_=this._simpleQuotedString.exec(n))p=_[1];else if({value:p,matchLength:g}=this._parseLiteral(n),p===null)return a(this);(_!==null||g!==0)&&(v="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(_=this._simpleApostropheString.exec(n))p=_[1];else if({value:p,matchLength:g}=this._parseLiteral(n),p===null)return a(this);(_!==null||g!==0)&&(v="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(_=this._variable.exec(n))&&(v="var",p=_[0]);break;case"@":this._previousMarker==="literal"&&(_=this._langcode.exec(n))?(v="langcode",p=_[1]):(_=this._keyword.exec(n))&&(v=_[0]);break;case".":if(n.length===1?t:n[1]<"0"||n[1]>"9"){v=".",g=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(_=this._number.exec(n)||t&&(_=this._number.exec(`${n} `)))&&(v="literal",p=_[0],d=typeof _[1]=="string"?Yu.double:typeof _[2]=="string"?Yu.decimal:Yu.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(_=this._sparqlKeyword.exec(n))?v=_[0].toUpperCase():b=!0;break;case"f":case"t":(_=this._boolean.exec(n))?(v="literal",p=_[0],d=Yu.boolean):b=!0;break;case"a":(_=this._shortPredicates.exec(n))?(v="abbreviation",p="a"):b=!0;break;case"=":this._n3Mode&&n.length>1&&(v="abbreviation",n[1]!==">"?(g=1,p="="):(g=2,p=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(g=1,v=h);break;case"{":!this._lineMode&&n.length>=2&&(n[1]==="|"?(v="{|",g=2):(v=h,g=1));break;case"|":n.length>=2&&n[1]==="}"&&(v="|}",g=2);break;default:b=!0}if(b&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(_=this._prefix.exec(n))?(v="prefix",p=_[1]||""):((_=this._prefixed.exec(n))||t&&(_=this._prefixed.exec(`${n} `)))&&(v="prefixed",d=_[1]||"",p=this._unescape(_[2]))),this._previousMarker==="^^")switch(v){case"prefixed":v="type";break;case"IRI":v="typeIRI";break;default:v=""}if(!v)return t||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?a(this):this._input=n;const D=g||_[0].length,B=s(v,p,d,f,D);this.previousToken=B,this._previousMarker=v,n=n.substr(D,n.length)}function s(l,u,f,h,v){const p=n?r-n.length:r,d=p+v,_={type:l,value:u,prefix:f,line:h,start:p,end:d};return e(null,_),_}function a(l){e(l._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(e){let t=!1;const n=e.replace(MS,(r,s,a,l)=>{if(typeof s=="string")return String.fromCharCode(Number.parseInt(s,16));if(typeof a=="string"){let u=Number.parseInt(a,16);return u<=65535?String.fromCharCode(Number.parseInt(a,16)):String.fromCharCode(55296+((u-=65536)>>10),56320+(u&1023))}return l in M0?M0[l]:(t=!0,"")});return t?null:n}_parseLiteral(e){if(e.length>=3){const t=e.match(/^(?:"""|"|'''|'|)/)[0],n=t.length;let r=Math.max(this._literalClosingPos,n);for(;(r=e.indexOf(t,r))>0;){let s=0;for(;e[r-s-1]==="\\";)s++;if(s%2===0){const a=e.substring(n,r),l=a.split(/\r\n|\r|\n/).length-1,u=r+n;if(n===1&&l!==0||n===3&&this._lineMode)break;return this._line+=l,{value:this._unescape(a),matchLength:u}}r++}this._literalClosingPos=e.length-n+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const t=new Error(`Unexpected "${e}" on line ${this._line}.`);return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,t){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof t=="function")US(()=>this._tokenizeToEnd(t,!0));else{const n=[];let r;if(this._tokenizeToEnd((s,a)=>s?r=s:n.push(a),!0),r)throw r;return n}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",n=>{this._input!==null&&n.length!==0&&(this._pendingBuffer&&(n=G2.Buffer.concat([this._pendingBuffer,n]),this._pendingBuffer=null),n[n.length-1]&128?this._pendingBuffer=n:(typeof this._input>"u"?this._input=this._readStartingBom(typeof n=="string"?n:n.toString()):this._input+=n,this._tokenizeToEnd(t,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(t,!0)}),e.on("error",t)}}const{rdf:VS,xsd:fl}=Ci;let Mf,HS=0;const Cd={namedNode:QS,blankNode:YS,variable:JS,literal:KS,defaultGraph:ZS,quad:q0,triple:q0};class ya{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof ya?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}let W2=class extends ya{get termType(){return"NamedNode"}},Th=class Q2 extends ya{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let t=e.lastIndexOf('"')+1;return t<e.length&&e[t++]==="@"?e.substr(t).toLowerCase():""}get datatype(){return new W2(this.datatypeString)}get datatypeString(){const e=this.id,t=e.lastIndexOf('"')+1,n=t<e.length?e[t]:"";return n==="^"?e.substr(t+2):n!=="@"?fl.string:VS.langString}equals(e){return e instanceof Q2?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},$S=class extends ya{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},GS=class extends ya{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},XS=class extends ya{constructor(){return super(""),Mf||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};Mf=new XS;let WS=class extends ya{constructor(e,t,n,r){super(""),this._subject=e,this._predicate=t,this._object=n,this._graph=r||Mf}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}};function QS(i){return new W2(i)}function YS(i){return new $S(i||`n3-${HS++}`)}function KS(i,e){if(typeof e=="string")return new Th(`"${i}"@${e.toLowerCase()}`);let t=e?e.value:"";return t===""&&(typeof i=="boolean"?t=fl.boolean:typeof i=="number"&&(Number.isFinite(i)?t=Number.isInteger(i)?fl.integer:fl.double:(t=fl.double,Number.isNaN(i)||(i=i>0?"INF":"-INF")))),t===""||t===fl.string?new Th(`"${i}"`):new Th(`"${i}"^^${t}`)}function JS(i){return new GS(i)}function ZS(){return Mf}function q0(i,e,t,n){return new WS(i,e,t,n)}let j0=0;class Y2{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&K2(this,e.factory);const t=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(t),r=/trig/.test(t),s=/triple/.test(t),a=/quad/.test(t),l=this._n3Mode=/n3/.test(t),u=s||a;(this._supportsNamedGraphs=!(n||l))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||r||s||l),this._supportsRDFStar=t===""||/star|\*$/.test(t),u&&(this._resolveRelativeIRI=f=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new zS({lineMode:u,n3:l}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){j0=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,t,n,r,s){const a=this._n3Mode;this._contextStack.push({type:e,subject:n,predicate:r,object:s,graph:t,inverse:a?this._inversePredicate:!1,blankPrefix:a?this._prefixes._:"",quantified:a?this._quantified:null}),a&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,t){const n=this._contextStack.pop();if(!n||n.type!==e)return this._error(`Unexpected ${t.type}`,t);this._subject=n.subject,this._predicate=n.predicate,this._object=n.object,this._graph=n.graph,this._n3Mode&&(this._inversePredicate=n.inverse,this._prefixes._=n.blankPrefix,this._quantified=n.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,t){let n;switch(e.type){case"IRI":case"typeIRI":const r=this._resolveIRI(e.value);if(r===null)return this._error("Invalid IRI",e);n=this._namedNode(r);break;case"type":case"prefixed":const s=this._prefixes[e.prefix];if(s===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);n=this._namedNode(s+e.value);break;case"blank":n=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":n=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!t&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${t}`,e):(this._subject=null,t==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const t=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let t=null,n=null,r=this._readListItem;const s=this._subject,a=this._contextStack,l=a[a.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,n=this._blankNode(),this.RDF_FIRST,this._subject=t=this._blankNode()),r=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),a.length!==0&&a[a.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(r=this._readPredicate,this._subject===this.RDF_NIL)return r}else if(r=this._getContextEndReader(),this._object===this.RDF_NIL)return r;n=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,r=this._readListItemDataTypeOrLang):(t=this._literal(e.value,this._namedNode(e.prefix)),r=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((t=this._readEntity(e))===void 0)return}if(n===null&&(this._subject=n=this._blankNode()),s===null?l.predicate===null?l.subject=n:l.object=n:this._emit(s,this.RDF_REST,n,this._graph),t!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,n,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,t,this._graph)}return r}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let t=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const n=this._readEntity(e);if(n===void 0)return;t=this._literal(this._literalValue,n),e=null;break;case"langcode":t=this._literal(this._literalValue,e.value),e=null;break}return{token:e,literal:t}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,t){const n=this._completeLiteral(e);if(n)return this._object=n.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),n.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let t,n=this._graph;const r=this._subject,s=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,s&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",e);const a=this._predicate,l=this._object;this._subject=this._quad(r,a,l,this.DEFAULTGRAPH),t=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,t=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(n=this._readEntity(e))!==void 0){t=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(r!==null){const a=this._predicate,l=this._object;s?this._emit(l,a,r,n):this._emit(r,a,l,n)}return t}_readBlankNodePunctuation(e){let t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}_readBaseIRI(e){const t=e.type==="IRI"&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let t;switch(e.type){case"IRI":case"prefixed":if((t=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const t=this._contextStack,n=t.length&&t[t.length-1];if(n&&n.type==="item"){const r=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,r,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let t,n;const r=this._blankNode();if((n=this._readEntity(e))!==void 0)return this._predicate===null?(t=this._subject,this._subject=r):(t=this._object,this._object=r),this._emit(t,n,r,this._graph),this._readPath}_readBackwardPath(e){const t=this._blankNode();let n,r;if((n=this._readEntity(e))!==void 0)return this._predicate===null?(r=this._subject,this._subject=t):(r=this._object,this._object=t),this._emit(t,n,r,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const t=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=t,this._readPredicate):(this._object=t,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,t,n,r){this._callback(null,this._quad(e,t,n,r||this.DEFAULTGRAPH))}_error(e,t){const n=new Error(`${e} on line ${t.line}.`);n.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=Ku}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const t=e.length;let n="",r=-1,s=-1,a=0,l="/";for(;r<t;){switch(l){case":":if(s<0&&e[++r]==="/"&&e[++r]==="/")for(;(s=r+1)<t&&e[s]!=="/";)r=s;break;case"?":case"#":r=t;break;case"/":if(e[r+1]===".")switch(l=e[++r+1],l){case"/":n+=e.substring(a,r-1),a=r+1;break;case void 0:case"?":case"#":return n+e.substring(a,r)+e.substr(r+1);case".":if(l=e[++r+1],l===void 0||l==="/"||l==="?"||l==="#"){if(n+=e.substring(a,r-2),(a=n.lastIndexOf("/"))>=s&&(n=n.substr(0,a)),l!=="/")return`${n}/${e.substr(r+1)}`;a=r+1}}}l=e[++r]}return n+e.substring(a)}parse(e,t,n){let r,s,a;if(t&&(t.onQuad||t.onPrefix||t.onComment)?(r=t.onQuad,s=t.onPrefix,a=t.onComment):(r=t,s=n),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${j0++}_`,this._prefixCallback=s||Ku,this._inversePredicate=!1,this._quantified=Object.create(null),!r){const u=[];let f;if(this._callback=(h,v)=>{h?f=h:v&&u.push(v)},this._lexer.tokenize(e).every(h=>this._readCallback=this._readCallback(h)),f)throw f;return u}let l=(u,f)=>{u!==null?(this._callback(u),this._callback=Ku):this._readCallback&&(this._readCallback=this._readCallback(f))};a&&(this._lexer.comments=!0,l=(u,f)=>{u!==null?(this._callback(u),this._callback=Ku):this._readCallback&&(f.type==="comment"?a(f.value):this._readCallback=this._readCallback(f))}),this._callback=r,this._lexer.tokenize(e,l)}}function Ku(){}function K2(i,e){const t=e.namedNode;i._namedNode=t,i._blankNode=e.blankNode,i._literal=e.literal,i._variable=e.variable,i._quad=e.quad,i.DEFAULTGRAPH=e.defaultGraph(),i.RDF_FIRST=t(Ci.rdf.first),i.RDF_REST=t(Ci.rdf.rest),i.RDF_NIL=t(Ci.rdf.nil),i.N3_FORALL=t(Ci.r.forAll),i.N3_FORSOME=t(Ci.r.forSome),i.ABBREVIATIONS={a:t(Ci.rdf.type),"=":t(Ci.owl.sameAs),">":t(Ci.log.implies)},i.QUANTIFIERS_GRAPH=t("urn:n3:quantifiers")}K2(Y2.prototype,Cd);function eI(i){return!!i&&i.termType==="DefaultGraph"}const ho=Cd.defaultGraph(),{rdf:tI,xsd:ll}=Ci,x0=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,z0=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,rI={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class po extends ya{equals(e){return e===this}}class nI{constructor(e,t){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(t=e,e=null),t=t||{},this._lists=t.lists,e)this._outputStream=e,this._endStream=t.end===void 0?!0:!!t.end;else{let n="";this._outputStream={write(r,s,a){n+=r,a&&a()},end:r=>{r&&r(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(t.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=ho,this._prefixIRIs=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes),t.baseIRI&&(this._baseMatcher=new RegExp(`^${H0(t.baseIRI)}${t.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=t.baseIRI.length))}get _inDefaultGraph(){return ho.equals(this._graph)}_write(e,t){this._outputStream.write(e,"utf8",t)}_writeQuad(e,t,n,r,s){try{r.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(ho.equals(r)?"":`${this._encodeIriOrBlank(r)} {
`)),this._graph=r,this._subject=null),e.equals(this._subject)?t.equals(this._predicate)?this._write(`, ${this._encodeObject(n)}`,s):this._write(`;
    ${this._encodePredicate(this._predicate=t)} ${this._encodeObject(n)}`,s):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=t)} ${this._encodeObject(n)}`,s)}catch(a){s&&s(a)}}_writeQuadLine(e,t,n,r,s){delete this._prefixMatch,this._write(this.quadToString(e,t,n,r),s)}quadToString(e,t,n,r){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(t)} ${this._encodeObject(n)}${r&&r.value?` ${this._encodeIriOrBlank(r)} .
`:` .
`}`}quadsToString(e){let t="";for(const n of e)t+=this.quadToString(n.subject,n.predicate,n.object,n.graph);return t}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let t=e.value;this._baseMatcher&&this._baseMatcher.test(t)&&(t=t.substr(this._baseLength)),x0.test(t)&&(t=t.replace(z0,V0));const n=this._prefixRegex.exec(t);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:t:`<${t}>`}_encodeLiteral(e){let t=e.value;if(x0.test(t)&&(t=t.replace(z0,V0)),e.language)return`"${t}"@${e.language}`;if(this._lineMode){if(e.datatype.value===ll.string)return`"${t}"`}else switch(e.datatype.value){case ll.string:return`"${t}"`;case ll.boolean:if(t==="true"||t==="false")return t;break;case ll.integer:if(/^[+-]?\d+$/.test(t))return t;break;case ll.decimal:if(/^[+-]?\d*\.\d+$/.test(t))return t;break;case ll.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(t))return t;break}return`"${t}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===tI.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:t,object:n,graph:r}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(t)} ${this._encodeObject(n)}${eI(r)?"":` ${this._encodeIriOrBlank(r)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,t,n,r,s){n===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,t):typeof r=="function"?this._writeQuad(e,t,n,ho,r):this._writeQuad(e,t,n,r||ho,s)}addQuads(e){for(let t=0;t<e.length;t++)this.addQuad(e[t])}addPrefix(e,t,n){const r={};r[e]=t,this.addPrefixes(r,n)}addPrefixes(e,t){if(!this._prefixIRIs)return t&&t();let n=!1;for(let r in e){let s=e[r];typeof s!="string"&&(s=s.value),n=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[s]=r+=":",this._write(`@prefix ${r} <${s}>.
`)}if(n){let r="",s="";for(const a in this._prefixIRIs)r+=r?`|${a}`:a,s+=(s?"|":"")+this._prefixIRIs[a];r=H0(r),this._prefixRegex=new RegExp(`^(?:${s})[^/]*$|^(${r})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(n?`
`:"",t)}blank(e,t){let n=e,r,s;switch(e===void 0?n=[]:e.termType?n=[{predicate:e,object:t}]:"length"in e||(n=[e]),s=n.length){case 0:return new po("[]");case 1:if(r=n[0],!(r.object instanceof po))return new po(`[ ${this._encodePredicate(r.predicate)} ${this._encodeObject(r.object)} ]`);default:let a="[";for(let l=0;l<s;l++)r=n[l],r.predicate.equals(e)?a+=`, ${this._encodeObject(r.object)}`:(a+=`${(l?`;
  `:`
  `)+this._encodePredicate(r.predicate)} ${this._encodeObject(r.object)}`,e=r.predicate);return new po(`${a}
]`)}}list(e){const t=e&&e.length||0,n=new Array(t);for(let r=0;r<t;r++)n[r]=this._encodeObject(e[r]);return new po(`(${n.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let t=e&&((n,r)=>{t=null,e(n,r)});if(this._endStream)try{return this._outputStream.end(t)}catch{}t&&t()}}function V0(i){let e=rI[i];return e===void 0&&(i.length===1?(e=i.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function H0(i){return i.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}if(typeof ja>"u")var ja={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};var mi=function(){function i(e,t){jr(this,i),this.options=t||{},this.kb=e,this.target=t.target||{graph:{subjects:{},prefixes:{},terms:{}}},this.blankNodes=[],this.htmlOptions={selfClosing:"br img input area base basefont col colgroup source wbr isindex link meta param hr"},this.theOne="_:"+new Date().getTime(),this.language=null,this.vocabulary=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()}return qr(i,[{key:"addTriple",value:function(t,n,r,s){var a,l,u,f;typeof n>"u"?a=Ti.namedNode(this.options.base):a=this.toRDFNodeObject(n),u=this.toRDFNodeObject(r),l=this.toRDFNodeObject(s),f=Ti.namedNode(this.options.base),this.kb.add(a,u,l,f)}},{key:"ancestorPath",value:function(t){for(var n="";t&&t.nodeType!==ja.DOCUMENT_NODE;)n="/"+t.localName+n,t=t.parentNode;return n}},{key:"copyMappings",value:function(t){var n={};for(var r in t)n[r]=t[r];return n}},{key:"copyProperties",value:function(){}},{key:"deriveDateTimeType",value:function(t){for(var n=0;n<i.dateTimeTypes.length;n++){var r=i.dateTimeTypes[n].pattern.exec(t);if(r&&r[0].length===t.length)return i.dateTimeTypes[n].type}return null}},{key:"init",value:function(){}},{key:"newBlankNode",value:function(){return this.blankCounter++,"_:"+this.blankCounter}},{key:"newSubjectOrigin",value:function(t,n){}},{key:"parseCURIE",value:function(t,n,r){var s=t.indexOf(":"),a;if(s>=0){var l=t.substring(0,s);if(l==="")return a=n[""],a?a+t.substring(s+1):null;if(l==="_")return"_:"+t.substring(s+1);if(i.NCNAME.test(l)&&(a=n[l],a))return a+t.substring(s+1)}return null}},{key:"parseCURIEOrURI",value:function(t,n,r){var s=this.parseCURIE(t,n,r);return s||this.resolveAndNormalize(r,t)}},{key:"parsePredicate",value:function(t,n,r,s,a,l){if(t==="")return null;var u=this.parseTermOrCURIEOrAbsURI(t,n,l?null:r,s,a);return u&&u.indexOf("_:")===0?null:u}},{key:"parsePrefixMappings",value:function(t,n){for(var r=this.tokenize(t),s=null,a=0;a<r.length;a++)r[a][r[a].length-1]===":"?s=r[a].substring(0,r[a].length-1):s&&(n[s]=this.options.base?gi(r[a],this.options.base):r[a],s=null)}},{key:"parseSafeCURIEOrCURIEOrURI",value:function(t,n,r){return t=this.trim(t),t.charAt(0)==="["&&t.charAt(t.length-1)==="]"?(t=t.substring(1,t.length-1),t=t.trim(t),t.length===0?null:t==="_:"?this.theOne:this.parseCURIE(t,n,r)):this.parseCURIEOrURI(t,n,r)}},{key:"parseTermOrCURIEOrAbsURI",value:function(t,n,r,s,a){t=this.trim(t);var l=this.parseCURIE(t,s,a);if(l)return l;if(r){if(n&&!this.absURIRE.exec(t))return n+t;var u=r[t];if(u)return u;var f=t.toLowerCase();if(u=r[f],u)return u}return this.absURIRE.exec(t)?this.resolveAndNormalize(a,t):null}},{key:"parseTermOrCURIEOrURI",value:function(t,n,r,s,a){t=this.trim(t);var l=this.parseCURIE(t,s,a);if(l)return l;var u=r[t];if(u)return u;var f=t.toLowerCase();return u=r[f],u||(n&&!this.absURIRE.exec(t)?n+t:this.resolveAndNormalize(a,t))}},{key:"parseURI",value:function(t){return t}},{key:"process",value:function(t,n){n=n||{};var r;t.nodeType===ja.DOCUMENT_NODE?(t.baseURI&&!n.baseURI&&(n.baseURI=t.baseURI),r=t.baseURI,t=t.documentElement,t.baseURI||(t.baseURI=r),this.setContext(t)):t.parentNode.nodeType===ja.DOCUMENT_NODE&&this.setContext(t);var s=[],a=function(Nn){if(!Nn&&n&&n.baseURI)return n.baseURI;var Fi=Nn.indexOf("#");return Fi>=0&&(Nn=Nn.substring(0,Fi)),n&&n.baseURIMap&&(Nn=n.baseURIMap(Nn)),Nn};for(s.push({current:t,context:this.push(null,a(t.baseURI))});s.length>0;){var l=s.shift();if(l.parent){if(l.context.parent&&l.context.parent.listMapping===l.listMapping)continue;for(var u in l.listMapping){var f=l.listMapping[u];if(f.length===0){this.addTriple(l.parent,l.subject,u,{type:i.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});continue}for(var h=[],v=0;v<f.length;v++)h.push(this.newBlankNode());for(var p=0;p<h.length;p++)this.addTriple(l.parent,h[p],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",f[p]),this.addTriple(l.parent,h[p],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:i.objectURI,value:p+1<h.length?h[p+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(l.parent,l.subject,u,{type:i.objectURI,value:h[0]})}continue}var d=l.current,_=l.context,g=!1,b=null,D=null,B=null,S=_.prefixes,O=!1,y=[],N=_.listMapping,T=!_.parent,q=_.language,F=_.vocabulary;r=this.parseURI(a(d.baseURI)),d.item=null;var j=d.getAttributeNode("vocab");if(j){var A=this.trim(j.value);if(A.length>0){F=A;var L=r.spec;this.addTriple(d,L,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:i.objectURI,value:F})}else F=this.vocabulary}for(var k=0;k<d.attributes.length;k++){var R=d.attributes[k];if(R.nodeName.charAt(0)==="x"&&R.nodeName.indexOf("xmlns:")===0){O||(S=this.copyMappings(S),O=!0);var K=R.nodeName.substring(6),z=i.trim(R.value);S[K]=this.options.base?gi(z,this.options.base):z}}var fe=d.getAttributeNode("prefix");fe&&(O||(S=this.copyMappings(S),O=!0),this.parsePrefixMappings(fe.value,S));for(var re=null,te=0;!re&&te<this.langAttributes.length;te++)re=d.getAttributeNodeNS(this.langAttributes[te].namespaceURI,this.langAttributes[te].localName);if(re){var G=i.trim(re.value);G.length>0?q=G:q=null}var Q=d.getAttributeNode("rel"),pe=d.getAttributeNode("rev"),J=d.getAttributeNode("typeof"),_e=d.getAttributeNode("property"),tt=d.getAttributeNode("datatype"),rt=this.inHTMLMode?d.getAttributeNode("datetime"):null,Pe=d.getAttributeNode("content"),je=d.getAttributeNode("about"),ke=d.getAttributeNode("src"),He=d.getAttributeNode("resource"),ot=d.getAttributeNode("href"),kt=d.getAttributeNode("inlist"),Re=[],le,Ue;if(Q){Ue=this.tokenize(Q.value);for(var sr=0;sr<Ue.length;sr++)le=this.parsePredicate(Ue[sr],F,_.terms,S,r,this.inHTMLMode&&_e!==null),le&&Re.push(le)}var Yt=[];if(pe){Ue=this.tokenize(pe.value);for(var Tr=0;Tr<Ue.length;Tr++)le=this.parsePredicate(Ue[Tr],F,_.terms,S,r,this.inHTMLMode&&_e),le&&Yt.push(le)}if(this.inHTMLMode&&(Q||pe)&&_e&&(Re.length===0&&(Q=null),Yt.length===0&&(pe=null)),Q||pe?(je&&(b=this.parseSafeCURIEOrCURIEOrURI(je.value,S,r)),J&&(B=b),b||(d.parentNode.nodeType===ja.DOCUMENT_NODE?b=a(d.baseURI):_.parentObject&&(b=a(d.parentNode.baseURI)===_.parentObject?a(d.baseURI):_.parentObject)),He&&(D=this.parseSafeCURIEOrCURIEOrURI(He.value,S,r)),D||(ot?D=this.resolveAndNormalize(r,encodeURI(ot.value)):ke?D=this.resolveAndNormalize(r,encodeURI(ke.value)):J&&!je&&!(this.inXHTMLMode&&(d.localName==="head"||d.localName==="body"))&&(D=this.newBlankNode())),J&&!je&&this.inXHTMLMode&&(d.localName==="head"||d.localName==="body")?B=b:J&&!je&&(B=D)):_e&&!Pe&&!tt?(je&&(b=this.parseSafeCURIEOrCURIEOrURI(je.value,S,r),J&&(B=b)),!b&&d.parentNode.nodeType===ja.DOCUMENT_NODE?(b=a(d.baseURI),J&&(B=b)):!b&&_.parentObject&&(b=a(d.parentNode.baseURI)===_.parentObject?a(d.baseURI):_.parentObject),J&&!B&&(He&&(B=this.parseSafeCURIEOrCURIEOrURI(He.value,S,r)),!B&&ot&&(B=this.resolveAndNormalize(r,encodeURI(ot.value))),!B&&ke&&(B=this.resolveAndNormalize(r,encodeURI(ke.value))),!B&&(this.inXHTMLMode||this.inHTMLMode)&&(d.localName==="head"||d.localName==="body")&&(B=b),B||(B=this.newBlankNode()),D=B)):(je&&(b=this.parseSafeCURIEOrCURIEOrURI(je.value,S,r)),!b&&He&&(b=this.parseSafeCURIEOrCURIEOrURI(He.value,S,r)),!b&&ot&&(b=this.resolveAndNormalize(r,encodeURI(ot.value))),!b&&ke&&(b=this.resolveAndNormalize(r,encodeURI(ke.value))),b||(d.parentNode.nodeType===ja.DOCUMENT_NODE?b=a(d.baseURI):(this.inXHTMLMode||this.inHTMLMode)&&(d.localName==="head"||d.localName==="body")?b=a(d.parentNode.baseURI)===_.parentObject?a(d.baseURI):_.parentObject:J?b=this.newBlankNode():_.parentObject&&(b=a(d.parentNode.baseURI)===_.parentObject?a(d.baseURI):_.parentObject,_e||(g=!0))),J&&(B=b)),b&&(je||He||B)){var nr=b;J&&!je&&!He&&D&&(nr=D),this.newSubjectOrigin(d,nr)}if(B){Ue=this.tokenize(J.value);for(var Nr=0;Nr<Ue.length;Nr++){var fr=this.parseTermOrCURIEOrAbsURI(Ue[Nr],F,_.terms,S,r);fr&&this.addTriple(d,B,i.typeURI,{type:i.objectURI,value:fr})}}if(b&&b!==_.parentObject&&(N={},T=!0),D){if(Q&&kt)for(var mt=0;mt<Re.length;mt++){var Dt=N[Re[mt]];Dt||(Dt=[],N[Re[mt]]=Dt),Dt.push({type:i.objectURI,value:D})}else if(Q)for(var nt=0;nt<Re.length;nt++)this.addTriple(d,b,Re[nt],{type:i.objectURI,value:D});if(pe)for(var pt=0;pt<Yt.length;pt++)this.addTriple(d,D,Yt[pt],{type:i.objectURI,value:b})}else{if(b&&!D&&(Q||pe)&&(D=this.newBlankNode()),Q&&kt)for(var ze=0;ze<Re.length;ze++){var W=N[Re[ze]];W||(W=[],N[le]=W),y.push({predicate:Re[ze],list:W})}else if(Q)for(var P=0;P<Re.length;P++)y.push({predicate:Re[P],forward:!0});if(pe)for(var M=0;M<Yt.length;M++)y.push({predicate:Yt[M],forward:!1})}if(_e){var ee=null,we=null;tt?(ee=tt.value===""?i.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(tt.value,F,_.terms,S,r),rt&&!Pe?we=rt.value:we=ee===i.XMLLiteralURI||ee===i.HTMLLiteralURI?null:Pe?Pe.value:d.textContent):Pe?(ee=i.PlainLiteralURI,we=Pe.value):rt?(we=rt.value,ee=i.deriveDateTimeType(we),ee||(ee=i.PlainLiteralURI)):!Q&&!pe&&(He&&(we=this.parseSafeCURIEOrCURIEOrURI(He.value,S,r)),!we&&ot?we=this.resolveAndNormalize(r,encodeURI(ot.value)):!we&&ke&&(we=this.resolveAndNormalize(r,encodeURI(ke.value))),we&&(ee=i.objectURI)),ee||(J&&!je?(ee=i.objectURI,we=B):(we=d.textContent,this.inHTMLMode&&d.localName==="time"&&(ee=i.deriveDateTimeType(we)),ee||(ee=i.PlainLiteralURI))),Ue=this.tokenize(_e.value);for(var Le=0;Le<Ue.length;Le++){var Ve=this.parsePredicate(Ue[Le],F,_.terms,S,r);if(Ve)if(kt){var Nt=N[Ve];Nt||(Nt=[],N[Ve]=Nt),Nt.push(ee===i.XMLLiteralURI||ee===i.HTMLLiteralURI?{type:ee,value:d.childNodes}:{type:ee||i.PlainLiteralURI,value:we,language:q})}else ee===i.XMLLiteralURI||ee===i.HTMLLiteralURI?this.addTriple(d,b,Ve,{type:ee,value:d.childNodes}):this.addTriple(d,b,Ve,{type:ee||i.PlainLiteralURI,value:we,language:q})}}if(b&&!g)for(var qt=0;qt<_.incomplete.length;qt++)_.incomplete[qt].list?_.incomplete[qt].list.push({type:i.objectURI,value:b}):_.incomplete[qt].forward?this.addTriple(d,_.subject,_.incomplete[qt].predicate,{type:i.objectURI,value:b}):this.addTriple(d,b,_.incomplete[qt].predicate,{type:i.objectURI,value:_.subject});var At=null,Mt=b;g?(At=this.push(_,_.subject),At.parentObject=a(d.parentNode.baseURI)===_.parentObject?a(d.baseURI):_.parentObject,At.incomplete=_.incomplete,At.language=q,At.prefixes=S,At.vocabulary=F):(At=this.push(_,b),At.parentObject=D||b||_.subject,At.prefixes=S,At.incomplete=y,D&&(Mt=D,N={},T=!0),At.listMapping=N,At.language=q,At.vocabulary=F),T&&s.unshift({parent:d,context:_,subject:Mt,listMapping:N});for(var er=d.lastChild;er;er=er.previousSibling)er.nodeType===ja.ELEMENT_NODE&&s.unshift({current:er,context:At})}this.inHTMLMode&&this.copyProperties();for(var Pi=0;Pi<this.finishedHandlers.length;Pi++)this.finishedHandlers[Pi](t)}},{key:"push",value:function(t,n){return{parent:t,subject:n||(t?t.subject:null),parentObject:null,incomplete:[],listMapping:t?t.listMapping:{},language:t?t.language:this.language,prefixes:t?t.prefixes:this.target.graph.prefixes,terms:t?t.terms:this.target.graph.terms,vocabulary:t?t.vocabulary:this.vocabulary}}},{key:"resolveAndNormalize",value:function(t,n){return gi(n,t)}},{key:"setContext",value:function(t){t.localName==="html"&&t.getAttribute("version")==="XHTML+RDFa 1.1"?this.setXHTMLContext():t.localName==="html"||t.namespaceURI==="http://www.w3.org/1999/xhtml"?typeof document<"u"&&document.doctype?document.doctype.publicId==="-//W3C//DTD XHTML+RDFa 1.0//EN"&&document.doctype.systemId==="http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"?(console.log("WARNING: RDF 1.0 is not supported.  Defaulting to HTML5 mode."),this.setHTMLContext()):document.doctype.publicId==="-//W3C//DTD XHTML+RDFa 1.1//EN"&&document.doctype.systemId==="http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"?this.setXHTMLContext():this.setHTMLContext():this.setHTMLContext():this.setXMLContext()}},{key:"setHTMLContext",value:function(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.inXHTMLMode=!1,this.inHTMLMode=!0}},{key:"setInitialContext",value:function(){this.vocabulary=null,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}]}},{key:"setXHTMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.target.graph.terms.alternate="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.graph.terms.appendix="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.graph.terms.bookmark="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.graph.terms.cite="http://www.w3.org/1999/xhtml/vocab#cite",this.target.graph.terms.chapter="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.graph.terms.contents="http://www.w3.org/1999/xhtml/vocab#contents",this.target.graph.terms.copyright="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.graph.terms.first="http://www.w3.org/1999/xhtml/vocab#first",this.target.graph.terms.glossary="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.graph.terms.help="http://www.w3.org/1999/xhtml/vocab#help",this.target.graph.terms.icon="http://www.w3.org/1999/xhtml/vocab#icon",this.target.graph.terms.index="http://www.w3.org/1999/xhtml/vocab#index",this.target.graph.terms.last="http://www.w3.org/1999/xhtml/vocab#last",this.target.graph.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms.meta="http://www.w3.org/1999/xhtml/vocab#meta",this.target.graph.terms.next="http://www.w3.org/1999/xhtml/vocab#next",this.target.graph.terms.prev="http://www.w3.org/1999/xhtml/vocab#prev",this.target.graph.terms.previous="http://www.w3.org/1999/xhtml/vocab#previous",this.target.graph.terms.section="http://www.w3.org/1999/xhtml/vocab#section",this.target.graph.terms.stylesheet="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.graph.terms.subsection="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.graph.terms.start="http://www.w3.org/1999/xhtml/vocab#start",this.target.graph.terms.top="http://www.w3.org/1999/xhtml/vocab#top",this.target.graph.terms.up="http://www.w3.org/1999/xhtml/vocab#up",this.target.graph.terms.p3pv1="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.graph.terms.related="http://www.w3.org/1999/xhtml/vocab#related",this.target.graph.terms.role="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.terms.transformation="http://www.w3.org/1999/xhtml/vocab#transformation"}},{key:"setXMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!1,this.inHTMLMode=!1}},{key:"tokenize",value:function(t){return this.trim(t).split(/\s+/)}},{key:"toRDFNodeObject",value:function(t){var n=this;if(!(typeof t>"u")){if(typeof t=="string")return t.substring(0,2)==="_:"?(typeof this.blankNodes[t.substring(2)]>"u"&&(this.blankNodes[t.substring(2)]=new Xi(t.substring(2))),this.blankNodes[t.substring(2)]):Ti.namedNode(t);switch(t.type){case i.objectURI:return t.value.substring(0,2)==="_:"?(typeof this.blankNodes[t.value.substring(2)]>"u"&&(this.blankNodes[t.value.substring(2)]=new Xi(t.value.substring(2))),this.blankNodes[t.value.substring(2)]):Ti.namedNode(t.value);case i.PlainLiteralURI:return new Hi(t.value,t.language||"");case i.XMLLiteralURI:case i.HTMLLiteralURI:var r="";return Object.keys(t.value).forEach(function(s){r+=HN(t.value[s],n.htmlOptions)}),new Hi(r,"",new cn(t.type));default:return new Hi(t.value,"",new cn(t.type))}}}},{key:"trim",value:function(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}],[{key:"parseRDFaDOM",value:function(t,n,r){var s=new i(n,{base:r});t.baseURI||(t.baseURI=r),s.process(t,{baseURI:r})}},{key:"tokenize",value:function(t){return this.trim(t).split(/\s+/)}},{key:"trim",value:function(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}])}();mi.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral";mi.HTMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML";mi.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral";mi.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object";mi.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type";mi.nameChar="[-A-Z_a-z-----------0-F.0-9--]";mi.nameStartChar="[A-Za-z------------------------------------------------------------------------------------------------------------------------------------------------------_]";mi.NCNAME=new RegExp("^"+mi.nameStartChar+mi.nameChar+"*$");mi.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:"http://www.w3.org/2001/XMLSchema#duration"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#dateTime"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#date"},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#time"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:"http://www.w3.org/2001/XMLSchema#gYearMonth"},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:"http://www.w3.org/2001/XMLSchema#gYear"}];var wf=mi.parseRDFaDOM,qf=function(){function i(e){jr(this,i),this.store=e,this.bnodes={},this.why=null,this.reify=!1}return qr(i,[{key:"frameFactory",value:function(t,n,r){return{NODE:1,ARC:2,parent:n,parser:t,store:t.store,element:r,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:!1,terminateFrame:function(){this.collection&&this.node.close()},addSymbol:function(a,l){l=gi(l,this.base),this.node=this.store.sym(l),this.nodeType=a},loadTriple:function(){if(this.parent.parent.collection?this.parent.parent.node.append(this.node):this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why),this.parent.rdfid!=null){var a=this.store.sym(gi("#"+this.parent.rdfid,this.base));this.store.add(a,this.store.sym(i.ns.RDF+"type"),this.store.sym(i.ns.RDF+"Statement"),this.parser.why),this.store.add(a,this.store.sym(i.ns.RDF+"subject"),this.parent.parent.node,this.parser.why),this.store.add(a,this.store.sym(i.ns.RDF+"predicate"),this.parent.node,this.parser.why),this.store.add(a,this.store.sym(i.ns.RDF+"object"),this.node,this.parser.why)}},isTripleToLoad:function(){return this.parent!=null&&this.parent.parent!=null&&this.nodeType===this.NODE&&this.parent.nodeType===this.ARC&&this.parent.parent.nodeType===this.NODE},addNode:function(a){this.addSymbol(this.NODE,a),this.isTripleToLoad()&&this.loadTriple()},addCollection:function(){this.nodeType=this.NODE,this.node=this.store.collection(),this.collection=!0,this.isTripleToLoad()&&this.loadTriple()},addCollectionArc:function(){this.nodeType=this.ARC},addBNode:function(a){a!=null?this.parser.bnodes[a]!=null?this.node=this.parser.bnodes[a]:this.node=this.parser.bnodes[a]=this.store.bnode():this.node=this.store.bnode(),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()},addArc:function(a){a===i.ns.RDF+"li"&&(a=i.ns.RDF+"_"+this.parent.listIndex,this.parent.listIndex++),this.addSymbol(this.ARC,a)},addLiteral:function(a){this.parent.datatype&&this.parent.datatype!==i.ns.RDF+"langString"?this.node=this.store.literal(a,this.store.sym(this.parent.datatype)):this.node=this.store.literal(a,this.lang),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}}}},{key:"getAttributeNodeNS",value:function(t,n,r){var s=null;if(t.getAttributeNodeNS)s=t.getAttributeNodeNS(n,r);else for(var a=t.attributes,l,u,f=0;f<a.length;++f)if(l=a[f],l.namespaceURI===n&&(u=l.prefix?l.prefix+":"+r:r,u===l.nodeName)){s=l;break}return s}},{key:"parse",value:function(t,n,r){var s=t.childNodes;this.cleanParser();var a;if(t.nodeType===i.nodeType.DOCUMENT){for(var l=0;l<s.length;l++)if(s[l].nodeType===i.nodeType.ELEMENT){a=s[l];break}}else if(t.nodeType===i.nodeType.ELEMENT)a=t;else throw new Error("RDFParser: can't find root in "+n+". Halting. ");this.why=r;var u=this.frameFactory(this);return this.base=n,u.base=n,u.lang=null,this.parseDOM(this.buildFrame(u,a)),!0}},{key:"parseDOM",value:function(t){for(var n,r=(function(y){var N="";if(y.namespaceURI==null)throw new Error("RDF/XML syntax error: No namespace for "+y.localName+" in "+this.base);return y.namespaceURI&&(N=N+y.namespaceURI),y.localName?N=N+y.localName:y.nodeName&&(y.nodeName.indexOf(":")>=0?N=N+y.nodeName.split(":")[1]:N=N+y.nodeName),N}).bind(this),s=!0;t.parent;){var a=t.element,l=a.attributes;if(a.nodeType===i.nodeType.TEXT||a.nodeType===i.nodeType.CDATA_SECTION)t.parent.nodeType===t.NODE&&(t.addArc(i.ns.RDF+"value"),t=this.buildFrame(t)),t.addLiteral(a.nodeValue);else if(r(a)!==i.ns.RDF+"RDF")if(t.parent&&t.parent.collection&&(t.addCollectionArc(),t=this.buildFrame(t,t.element),t.parent.element=null),!t.parent||!t.parent.nodeType||t.parent.nodeType===t.ARC){var u=this.getAttributeNodeNS(a,i.ns.RDF,"about");if(n=this.getAttributeNodeNS(a,i.ns.RDF,"ID"),u&&n)throw new Error("RDFParser: "+a.nodeName+" has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.");if(!u&&n)t.addNode("#"+n.nodeValue),a.removeAttributeNode(n);else if(u==null&&n==null){var f=this.getAttributeNodeNS(a,i.ns.RDF,"nodeID");f?(t.addBNode(f.nodeValue),a.removeAttributeNode(f)):t.addBNode()}else t.addNode(u.nodeValue),a.removeAttributeNode(u);var h=this.getAttributeNodeNS(a,i.ns.RDF,"type");i.ns.RDF+"Description"!==r(a)&&(h={nodeValue:r(a)}),h!=null&&(this.store.add(t.node,this.store.sym(i.ns.RDF+"type"),this.store.sym(gi(h.nodeValue,t.base)),this.why),h.nodeName&&a.removeAttributeNode(h));for(var v=l.length-1;v>=0;v--)this.store.add(t.node,this.store.sym(r(l[v])),this.store.literal(l[v].nodeValue,t.lang),this.why)}else{t.addArc(r(a)),this.reify&&(n=this.getAttributeNodeNS(a,i.ns.RDF,"ID"),n&&(t.rdfid=n.nodeValue,a.removeAttributeNode(n)));var p=this.getAttributeNodeNS(a,i.ns.RDF,"parseType"),d=this.getAttributeNodeNS(a,i.ns.RDF,"datatype");if(d&&(t.datatype=d.nodeValue,a.removeAttributeNode(d)),p){var _=p.nodeValue;_==="Literal"?(t.datatype=i.ns.RDF+"XMLLiteral",t=this.buildFrame(t),t.addLiteral(a.innerHTML||a.childNodes),s=!1):_==="Resource"?(t=this.buildFrame(t,t.element),t.parent.element=null,t.addBNode()):_==="Collection"&&(t=this.buildFrame(t,t.element),t.parent.element=null,t.addCollection()),a.removeAttributeNode(p)}if(l.length!==0){var g=this.getAttributeNodeNS(a,i.ns.RDF,"resource"),b=this.getAttributeNodeNS(a,i.ns.RDF,"nodeID");t=this.buildFrame(t),g?(t.addNode(g.nodeValue),a.removeAttributeNode(g)):b?(t.addBNode(b.nodeValue),a.removeAttributeNode(b)):t.addBNode();for(var D=l.length-1;D>=0;D--){var B=this.buildFrame(t);B.addArc(r(l[D])),r(l[D])===i.ns.RDF+"type"?this.buildFrame(B).addNode(l[D].nodeValue):this.buildFrame(B).addLiteral(l[D].nodeValue)}}else a.childNodes.length===0&&this.buildFrame(t).addLiteral("")}for(a=t.element;t.parent;){for(var S=t;a==null;)t=t.parent,a=t.element;var O=a.childNodes&&a.childNodes[t.lastChild];if(!O||!s){if(t.terminateFrame(),!(t=t.parent))break;a=t.element,s=!0}else if(O.nodeType!==i.nodeType.ELEMENT&&O.nodeType!==i.nodeType.TEXT&&O.nodeType!==i.nodeType.CDATA_SECTION||(O.nodeType===i.nodeType.TEXT||O.nodeType===i.nodeType.CDATA_SECTION)&&a.childNodes.length!==1)t.lastChild++;else{t.lastChild++,t=this.buildFrame(S,a.childNodes[t.lastChild-1]);break}}}}},{key:"cleanParser",value:function(){this.bnodes={},this.why=null}},{key:"buildFrame",value:function(t,n){var r=this.frameFactory(this,t,n);if(t&&(r.base=t.base,r.lang=t.lang),!n||n.nodeType===i.nodeType.TEXT||n.nodeType===i.nodeType.CDATA_SECTION)return r;var s=n.attributes,a=n.getAttributeNode("xml:base");a!=null&&(r.base=a.nodeValue,n.removeAttribute("xml:base"));var l=n.getAttributeNode("xml:lang");l!=null&&(r.lang=l.nodeValue,n.removeAttribute("xml:lang"));for(var u=s.length-1;u>=0;u--)if(s[u].nodeName.substr(0,3)==="xml"){if(s[u].name.slice(0,6)==="xmlns:"){var f=s[u].nodeValue;this.base&&(f=gi(f,this.base)),this.store.setPrefixForURI(s[u].name.slice(6),f)}n.removeAttributeNode(s[u])}return r}}])}();et(qf,"ns",{RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"});et(qf,"nodeType",{ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12});function iI(i,e,t){var n,r,s,a=["INSERT","DELETE","WHERE"],l=Cn("http://www.w3.org/ns/pim/patch#"),u=Ed(e,e,t,t,null,null,"",null),f={},h=function(b,D,B,S,O){return"Line "+(D+1)+" of <"+b+`>: Bad syntax:
   `+O+`
   at: "`+B.slice(S,S+30)+'"'};n=0;var v=e.sym(t+"#query");for(f.query=v;;){if(r=u.skipSpace(i,n),r<0)return f;if(i[r]===";"){if(n=u.skipSpace(i,r+1),n<0)return f;r=n}var p=!1;for(s=0;s<a.length;s++){var d=a[s];if(i.slice(r,r+d.length)===d){if(n=u.skipSpace(i,r+d.length),n<0)throw h(u._thisDoc,u.lines,i,r+d.length,"found EOF, needed {...} after "+d);if((d==="INSERT"||d==="DELETE")&&i.slice(n,n+4)==="DATA"){if(r=u.skipSpace(i,n+4),r<0)throw h(u._thisDoc,u.lines,i,n+4,"needed {...} after INSERT DATA "+d);n=r}var _=[];if(r=u.node(i,n,_),r<0)throw h(u._thisDoc,u.lines,i,n,"bad syntax or EOF in {...} after "+d);f[d.toLowerCase()]=_[0],e.add(v,l(d.toLowerCase()),_[0]),p=!0,n=r}}if(!p&&i.slice(r,r+7)==="@prefix"){if(n=u.directive(i,r),n<0)throw h(u._thisDoc,u.lines,i,n,"bad syntax or EOF after @prefix ");n=u.checkDot(i,n),p=!0}if(!p)throw h(u._thisDoc,u.lines,i,r,"Unknown syntax at start of statememt: '"+i.slice(r).slice(0,20)+"'")}}function Xh(i,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"text/turtle",r=arguments.length>4?arguments[4]:void 0;n=n||bs,n=n.split(";")[0];try{if(n===W1||n===bs){var s=Ed(e,e,t,t,null,null,"",null);s.loadBuf(i),u()}else if(n===wo){var a=new qf(e);a.parse(dl(i),t,e.sym(t)),u()}else if(n===zh)wf(dl(i,{contentType:zh}),e,t),u();else if(n===t0)wf(dl(i,{contentType:t0}),e,t),u();else if(n===QT||n===YT)iI(i,e,t),u();else if(n===qh)H2(i,e,t,u);else if(n===xh||n===jh){var l=new Y2({factory:Gh});h(null,i)}else throw n===void 0?new Error("contentType is undefined"):new Error("Don't know how to parse "+n+" yet")}catch(p){f(p)}Xh.handled={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/sparql-update":!0,"application/sparql-update-single-match":!0,"application/ld+json":!0,"application/nquads":!0,"application/n-quads":!0};function u(){if(r)r(null,e);else return}function f(p){if(n!==qh||n!==xh||n!==jh)if(r)r(p,e);else{var d=new Error(""+p+" while trying to parse <"+t+"> as "+n);throw d.cause=p,d}}function h(p,d){try{l.parse(d,v)}catch(_){r(_,e)}}function v(p,d){d?e.add(d.subject,d.predicate,d.object,d.graph):r(p,e)}}var Wh={exports:{}};(function(i,e){var t=typeof self<"u"?self:ua,n=function(){function s(){this.fetch=!1,this.DOMException=t.DOMException}return s.prototype=t,new s}();(function(s){(function(a){var l={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function u(R){return R&&DataView.prototype.isPrototypeOf(R)}if(l.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(R){return R&&f.indexOf(Object.prototype.toString.call(R))>-1};function v(R){if(typeof R!="string"&&(R=String(R)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(R))throw new TypeError("Invalid character in header field name");return R.toLowerCase()}function p(R){return typeof R!="string"&&(R=String(R)),R}function d(R){var K={next:function(){var z=R.shift();return{done:z===void 0,value:z}}};return l.iterable&&(K[Symbol.iterator]=function(){return K}),K}function _(R){this.map={},R instanceof _?R.forEach(function(K,z){this.append(z,K)},this):Array.isArray(R)?R.forEach(function(K){this.append(K[0],K[1])},this):R&&Object.getOwnPropertyNames(R).forEach(function(K){this.append(K,R[K])},this)}_.prototype.append=function(R,K){R=v(R),K=p(K);var z=this.map[R];this.map[R]=z?z+", "+K:K},_.prototype.delete=function(R){delete this.map[v(R)]},_.prototype.get=function(R){return R=v(R),this.has(R)?this.map[R]:null},_.prototype.has=function(R){return this.map.hasOwnProperty(v(R))},_.prototype.set=function(R,K){this.map[v(R)]=p(K)},_.prototype.forEach=function(R,K){for(var z in this.map)this.map.hasOwnProperty(z)&&R.call(K,this.map[z],z,this)},_.prototype.keys=function(){var R=[];return this.forEach(function(K,z){R.push(z)}),d(R)},_.prototype.values=function(){var R=[];return this.forEach(function(K){R.push(K)}),d(R)},_.prototype.entries=function(){var R=[];return this.forEach(function(K,z){R.push([z,K])}),d(R)},l.iterable&&(_.prototype[Symbol.iterator]=_.prototype.entries);function g(R){if(R.bodyUsed)return Promise.reject(new TypeError("Already read"));R.bodyUsed=!0}function b(R){return new Promise(function(K,z){R.onload=function(){K(R.result)},R.onerror=function(){z(R.error)}})}function D(R){var K=new FileReader,z=b(K);return K.readAsArrayBuffer(R),z}function B(R){var K=new FileReader,z=b(K);return K.readAsText(R),z}function S(R){for(var K=new Uint8Array(R),z=new Array(K.length),fe=0;fe<K.length;fe++)z[fe]=String.fromCharCode(K[fe]);return z.join("")}function O(R){if(R.slice)return R.slice(0);var K=new Uint8Array(R.byteLength);return K.set(new Uint8Array(R)),K.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(R){this._bodyInit=R,R?typeof R=="string"?this._bodyText=R:l.blob&&Blob.prototype.isPrototypeOf(R)?this._bodyBlob=R:l.formData&&FormData.prototype.isPrototypeOf(R)?this._bodyFormData=R:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(R)?this._bodyText=R.toString():l.arrayBuffer&&l.blob&&u(R)?(this._bodyArrayBuffer=O(R.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(R)||h(R))?this._bodyArrayBuffer=O(R):this._bodyText=R=Object.prototype.toString.call(R):this._bodyText="",this.headers.get("content-type")||(typeof R=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(R)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var R=g(this);if(R)return R;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?g(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(D)}),this.text=function(){var R=g(this);if(R)return R;if(this._bodyBlob)return B(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}var N=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function T(R){var K=R.toUpperCase();return N.indexOf(K)>-1?K:R}function q(R,K){K=K||{};var z=K.body;if(R instanceof q){if(R.bodyUsed)throw new TypeError("Already read");this.url=R.url,this.credentials=R.credentials,K.headers||(this.headers=new _(R.headers)),this.method=R.method,this.mode=R.mode,this.signal=R.signal,!z&&R._bodyInit!=null&&(z=R._bodyInit,R.bodyUsed=!0)}else this.url=String(R);if(this.credentials=K.credentials||this.credentials||"same-origin",(K.headers||!this.headers)&&(this.headers=new _(K.headers)),this.method=T(K.method||this.method||"GET"),this.mode=K.mode||this.mode||null,this.signal=K.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&z)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(z)}q.prototype.clone=function(){return new q(this,{body:this._bodyInit})};function F(R){var K=new FormData;return R.trim().split("&").forEach(function(z){if(z){var fe=z.split("="),re=fe.shift().replace(/\+/g," "),te=fe.join("=").replace(/\+/g," ");K.append(decodeURIComponent(re),decodeURIComponent(te))}}),K}function j(R){var K=new _,z=R.replace(/\r?\n[\t ]+/g," ");return z.split(/\r?\n/).forEach(function(fe){var re=fe.split(":"),te=re.shift().trim();if(te){var G=re.join(":").trim();K.append(te,G)}}),K}y.call(q.prototype);function A(R,K){K||(K={}),this.type="default",this.status=K.status===void 0?200:K.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in K?K.statusText:"OK",this.headers=new _(K.headers),this.url=K.url||"",this._initBody(R)}y.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},A.error=function(){var R=new A(null,{status:0,statusText:""});return R.type="error",R};var L=[301,302,303,307,308];A.redirect=function(R,K){if(L.indexOf(K)===-1)throw new RangeError("Invalid status code");return new A(null,{status:K,headers:{location:R}})},a.DOMException=s.DOMException;try{new a.DOMException}catch{a.DOMException=function(K,z){this.message=K,this.name=z;var fe=Error(K);this.stack=fe.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function k(R,K){return new Promise(function(z,fe){var re=new q(R,K);if(re.signal&&re.signal.aborted)return fe(new a.DOMException("Aborted","AbortError"));var te=new XMLHttpRequest;function G(){te.abort()}te.onload=function(){var Q={status:te.status,statusText:te.statusText,headers:j(te.getAllResponseHeaders()||"")};Q.url="responseURL"in te?te.responseURL:Q.headers.get("X-Request-URL");var pe="response"in te?te.response:te.responseText;z(new A(pe,Q))},te.onerror=function(){fe(new TypeError("Network request failed"))},te.ontimeout=function(){fe(new TypeError("Network request failed"))},te.onabort=function(){fe(new a.DOMException("Aborted","AbortError"))},te.open(re.method,re.url,!0),re.credentials==="include"?te.withCredentials=!0:re.credentials==="omit"&&(te.withCredentials=!1),"responseType"in te&&l.blob&&(te.responseType="blob"),re.headers.forEach(function(Q,pe){te.setRequestHeader(pe,Q)}),re.signal&&(re.signal.addEventListener("abort",G),te.onreadystatechange=function(){te.readyState===4&&re.signal.removeEventListener("abort",G)}),te.send(typeof re._bodyInit>"u"?null:re._bodyInit)})}return k.polyfill=!0,s.fetch||(s.fetch=k,s.Headers=_,s.Request=q,s.Response=A),a.Headers=_,a.Request=q,a.Response=A,a.fetch=k,Object.defineProperty(a,"__esModule",{value:!0}),a})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var r=n;e=r.fetch,e.default=r.fetch,e.fetch=r.fetch,e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response,i.exports=e})(Wh,Wh.exports);var rf=Wh.exports;const aI=Ts(rf);function sI(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=lI(i))||e){t&&(i=t);var n=0,r=function(){};return{s:r,n:function(){return n>=i.length?{done:!0}:{done:!1,value:i[n++]}},e:function(f){throw f},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,l;return{s:function(){t=t.call(i)},n:function(){var f=t.next();return s=f.done,f},e:function(f){a=!0,l=f},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(a)throw l}}}}function lI(i,e){if(i){if(typeof i=="string")return $0(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $0(i,e)}}function $0(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=i[t];return n}function Is(i,e,t){return e=Kr(e),ba(i,J2()?Reflect.construct(e,t||[],Kr(i).constructor):e.apply(i,t))}function J2(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J2=function(){return!!i})()}var oI={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/ld+json":!0},Z2={rdf:wo,owl:wo,n3:"text/n3",ttl:"text/turtle",nt:"text/n3",acl:"text/n3",html:"text/html",xml:"text/xml"},eb=function(e){return{link:Cn("http://www.w3.org/2007/ont/link#",e),http:Cn("http://www.w3.org/2007/ont/http#",e),httph:Cn("http://www.w3.org/2007/ont/httph#",e),rdf:Cn("http://www.w3.org/1999/02/22-rdf-syntax-ns#",e),rdfs:Cn("http://www.w3.org/2000/01/rdf-schema#",e),dc:Cn("http://purl.org/dc/elements/1.1/",e),ldp:Cn("http://www.w3.org/ns/ldp#",e)}},Yi=eb(),Ka=qr(function i(e,t){jr(this,i),et(this,"response",void 0),et(this,"dom",void 0),this.response=e,this.dom=t});et(Ka,"pattern",void 0);var Td=function(i){function e(){return jr(this,e),Is(this,e,arguments)}return Tn(e,i),qr(e,[{key:"parse",value:function(n,r,s){var a=n.store;this.dom||(this.dom=dl(r));var l=this.dom.documentElement;if(l.nodeName==="parsererror")return n.failFetch(s,"Badly formed XML in "+s.resource.value,"parse_error");var u=new qf(a);try{u.parse(this.dom,s.original.value,s.original)}catch(f){return n.failFetch(s,"Syntax error parsing RDF/XML! "+f,"parse_error")}return s.noMeta||a.add(s.original,Yi.rdf("type"),Yi.link("RDFDocument"),n.appNode),n.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"RDFXMLHandler"}},{key:"register",value:function(n){n.mediatypes[wo]={q:.9}}}])}(Ka);Td.pattern=new RegExp("application/rdf\\+xml");var ys=function(i){function e(){return jr(this,e),Is(this,e,arguments)}return Tn(e,i),qr(e,[{key:"parse",value:function(n,r,s){var a,l;this.dom||(this.dom=dl(r));var u=n.store,f=this.dom.getElementsByTagName("title");f.length>0&&u.add(s.resource,Yi.dc("title"),u.rdfFactory.literal(f[0].textContent),s.resource);for(var h=this.dom.getElementsByTagName("link"),v=h.length-1;v>=0;v--)a=h[v].getAttribute("rel"),l=!1,a||(a=h[v].getAttribute("rev"),l=!0),a&&n.linkData(s.original,a,h[v].getAttribute("href"),s.resource,l);for(var p=this.dom.getElementsByTagName("script"),d=0;d<p.length;d++){var _=p[d].getAttribute("type");oI[_]&&(Xh(p[d].textContent,u,s.original.value,_),Xh(p[d].textContent,u,s.original.value,_))}if(s.noMeta||u.add(s.resource,Yi.rdf("type"),Yi.link("WebPage"),n.appNode),!s.noRDFa&&wf)try{wf(this.dom,u,s.original.value)}catch(b){var g="Error trying to parse "+s.resource+` as RDFa:
`+b+`:
`+b.stack;return n.failFetch(s,g,"parse_error")}return n.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"XHTMLHandler"}},{key:"register",value:function(n){n.mediatypes[zh]={}}}])}(Ka);ys.pattern=new RegExp("application/xhtml");var yf=function(i){function e(){return jr(this,e),Is(this,e,arguments)}return Tn(e,i),qr(e,[{key:"parse",value:function(n,r,s){for(var a=dl(r),l=0;l<a.childNodes.length;l++){var u=a.childNodes[l];if(e.isElement(u)){var f=u.namespaceURI;if(f&&f===f.rdf){n.addStatus(s.req,"Has XML root element in the RDF namespace, so assume RDF/XML.");var h=new Td(this.response,a);return h.parse(n,r,s)}break}}if(a.doctype&&a.doctype.name==="html"&&a.doctype.publicId.match(/^-\/\/W3C\/\/DTD XHTML/)&&a.doctype.systemId.match(/http:\/\/www.w3.org\/TR\/xhtml/)){n.addStatus(s.req,`Has XHTML DOCTYPE. Switching to XHTML Handler.
`);var v=new ys(this.response,a);return v.parse(n,r,s)}var p=a.getElementsByTagName("html")[0];if(p){var d=p.getAttribute("xmlns");if(d&&d.match(/^http:\/\/www.w3.org\/1999\/xhtml/)){n.addStatus(s.req,`Has a default namespace for XHTML. Switching to XHTMLHandler.
`);var _=new ys(this.response,a);return _.parse(n,r,s)}}return n.failFetch(s,`Unsupported dialect of XML: not RDF or XHTML namespace, etc.
`+r.slice(0,80),901)}}],[{key:"toString",value:function(){return"XMLHandler"}},{key:"register",value:function(n){n.mediatypes["text/xml"]={q:.5},n.mediatypes["application/xml"]={q:.5}}},{key:"isElement",value:function(n){return n.nodeType===Node.ELEMENT_NODE}}])}(Ka);yf.pattern=new RegExp("(text|application)/(.*)xml");var tb=function(i){function e(){return jr(this,e),Is(this,e,arguments)}return Tn(e,i),qr(e,[{key:"parse",value:function(n,r,s){var a=n.store;if(ab(r)){n.addStatus(s.req,`Has an XML declaration. We'll assume it's XHTML as the content-type was text/html.
`);var l=new ys(this.response);return l.parse(n,r,s)}if(uI(r)){n.addStatus(s.req,`Has XHTML DOCTYPE. Switching to XHTMLHandler.
`);var u=new ys(this.response);return u.parse(n,r,s)}if(fI(r)){n.addStatus(s.req,`Has default namespace for XHTML, so switching to XHTMLHandler.
`);var f=new ys(this.response);return f.parse(n,r,s)}var h=new RegExp("<title>([\\s\\S]+?)</title>","im").exec(r);return h&&a.add(s.resource,Yi.dc("title"),a.rdfFactory.literal(h[1]),s.resource),a.add(s.resource,Yi.rdf("type"),Yi.link("WebPage"),n.appNode),n.addStatus(s.req,"non-XML HTML document, not parsed for data."),n.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"HTMLHandler"}},{key:"register",value:function(n){n.mediatypes["text/html"]={q:.9}}}])}(Ka);tb.pattern=new RegExp("text/html");var rb=function(i){function e(){return jr(this,e),Is(this,e,arguments)}return Tn(e,i),qr(e,[{key:"parse",value:function(n,r,s,a){var l=n.store;return new Promise(function(u,f){try{H2(r,l,s.original.value,function(){u(n.doneFetch(s,a))})}catch(v){var h="Error trying to parse "+s.resource+` as JSON-LD:
`+v;u(n.failFetch(s,h,"parse_error",a))}})}}],[{key:"toString",value:function(){return"JsonLdHandler"}},{key:"register",value:function(n){n.mediatypes["application/ld+json"]={q:.9}}}])}(Ka);rb.pattern=/application\/ld\+json/;var nb=function(i){function e(){return jr(this,e),Is(this,e,arguments)}return Tn(e,i),qr(e,[{key:"parse",value:function(n,r,s){if(ab(r)){n.addStatus(s.req,"Warning: "+s.resource+` has an XML declaration. We'll assume it's XML but its content-type wasn't XML.
`);var a=new yf(this.response);return a.parse(n,r,s)}if(r.slice(0,500).match(/xmlns:/)){n.addStatus(s.req,`May have an XML namespace. We'll assume it's XML but its content-type wasn't XML.
`);var l=new yf(this.response);return l.parse(n,r,s)}return n.addStatus(s.req,"Plain text document, no known RDF semantics."),n.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"TextHandler"}},{key:"register",value:function(n){n.mediatypes["text/plain"]={q:.5}}}])}(Ka);nb.pattern=new RegExp("text/plain");var ib=function(i){function e(){return jr(this,e),Is(this,e,arguments)}return Tn(e,i),qr(e,[{key:"parse",value:function(n,r,s,a){var l=n.store,u=Ed(l,l,s.original.value,s.original.value,null,null,"",null);try{u.loadBuf(r)}catch(h){var f="Error trying to parse "+s.resource+` as Notation3:
`+h;return n.failFetch(s,f,"parse_error",a)}return n.addStatus(s.req,"N3 parsed: "+u.statementCount+" triples in "+u.lines+" lines."),n.store.add(s.original,Yi.rdf("type"),Yi.link("RDFDocument"),n.appNode),n.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"N3Handler"}},{key:"register",value:function(n){n.mediatypes["text/n3"]={q:"1.0"},n.mediatypes["text/turtle"]={q:1}}}])}(Ka);ib.pattern=new RegExp("(application|text)/(x-)?(rdf\\+)?(n3|turtle)");var Qh={RDFXMLHandler:Td,XHTMLHandler:ys,XMLHandler:yf,HTMLHandler:tb,TextHandler:nb,N3Handler:ib,JsonLdHandler:rb};function uI(i){var e=i.indexOf("<!DOCTYPE html"),t=i.indexOf(">");return e===-1||t===-1||e>t?!1:i.substr(e,t-e).indexOf("XHTML")!==-1}function ab(i){var e=i.match(/\s*<\?xml\s+version\s*=[^<>]+\?>/);return!!e}function fI(i){var e=i.match(/[^(<html)]*<html\s+[^<]*xmlns=['"]http:\/\/www.w3.org\/1999\/xhtml["'][^<]*>/);return!!e}var yl=function(){function i(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(jr(this,i),et(this,"store",void 0),et(this,"timeout",void 0),et(this,"_fetch",void 0),et(this,"mediatypes",void 0),et(this,"appNode",void 0),et(this,"requested",void 0),et(this,"timeouts",void 0),et(this,"redirectedTo",void 0),et(this,"fetchQueue",void 0),et(this,"fetchCallbacks",void 0),et(this,"nonexistent",void 0),et(this,"lookedUp",void 0),et(this,"handlers",void 0),et(this,"ns",void 0),et(this,"fireCallbacks",void 0),this.store=e||new Fo,this.ns=eb(this.store.rdfFactory),this.timeout=n.timeout||3e4,this._fetch=n.fetch||typeof global<"u"&&(global.solidFetcher||global.solidFetch)||typeof window<"u"&&(window.solidFetcher||window.solidFetch)||aI,!this._fetch)throw new Error("No _fetch function available for Fetcher");this.appNode=this.store.sym("chrome://TheCurrentSession"),this.store.fetcher=this,this.requested={},this.timeouts={},this.redirectedTo={},this.fetchQueue={},this.fetchCallbacks={},this.nonexistent={},this.lookedUp={},this.handlers=[],this.mediatypes={"image/*":{q:.9},"*/*":{q:.1}},VN(this,["request","fail","refresh","retract","done"]),Object.keys(n.handlers||Qh).map(function(r){return t.addHandler(Qh[r])})}return qr(i,[{key:"load",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r=Object.assign({},r),t instanceof Array)return Promise.all(t.map(function(b){return n.load(b,Object.assign({},r))}));var s=t,a=ol(s);a=a.split("#")[0],r=this.initFetchOptions(a,r);var l=this.appNode,u=this.store,f=u.statementsMatching(void 0,this.ns.link("requestedURI"),u.sym(a),l).map(function(b){return b.subject}),h=sI(f),v;try{for(h.s();!(v=h.n()).done;){var p=v.value,d=u.any(p,this.ns.link("response"),null,l);if(d!=null){var _=u.statementsMatching(d,this.ns.link("outOfDate"),!0,l);u.remove(_),r.force=!0,r.clearPreviousData=!0}}}catch(b){h.e(b)}finally{h.f()}var g=this.initFetchOptions(a,r);return this.pendingFetchPromise(a,g.baseURI,g)}},{key:"pendingFetchPromise",value:function(){var e=a0($u.mark(function n(r,s,a){var l=this,u;return $u.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(h.t0=!a.force,!h.t0){h.next=5;break}return h.next=4,this.fetchQueue[s];case 4:h.t0=h.sent;case 5:if(!h.t0){h.next=9;break}u=this.fetchQueue[s],h.next=12;break;case 9:u=Promise.race([this.setRequestTimeout(r,a),this.fetchUri(r,a)]),this.fetchQueue[s]=u,this.cleanupFetchRequest(s,void 0,this.timeout);case 12:return h.abrupt("return",u.then(function(v){return r in l.timeouts&&(l.timeouts[r].forEach(clearTimeout),delete l.timeouts[r]),v}));case 13:case"end":return h.stop()}},n,this)}));function t(n,r,s){return e.apply(this,arguments)}return t}()},{key:"cleanupFetchRequest",value:function(t,n,r){var s=this;n!==void 0&&console.warn("_options is deprecated"),this.timeouts[t]=(this.timeouts[t]||[]).concat(setTimeout(function(){s.isPending(t)||delete s.fetchQueue[t]},r))}},{key:"initFetchOptions",value:function(t,n){var r=this.store,s=!n.method||n.method.toUpperCase()==="GET";s||(n.force=!0),n.resource=r.rdfFactory.namedNode(t),n.baseURI=n.baseURI||t,n.original=r.rdfFactory.namedNode(n.baseURI),n.req=r.bnode(),n.headers=n.headers||new rf.Headers,n.contentType&&(n.headers["content-type"]=n.contentType),n.force&&(n.cache="no-cache");var a=this.acceptString();n.headers.accept=a;var l=i.offlineOverride(t);n.requestedURI=l,i.setCredentials(l,n);var u=i.proxyIfNecessary(l);return l!==u&&(n.proxyUsed=!0),n.actualProxyURI=u,n}},{key:"fetchUri",value:function(t,n){var r=this;if(!t)return Promise.reject(new Error("Cannot fetch an empty uri"));if(i.unsupportedProtocol(t))return this.failFetch(n,"fetcher: Unsupported protocol","unsupported_protocol");var s=this.getState(t);if(n.force)delete this.nonexistent[t];else{if(s==="fetched")return Promise.resolve(this.doneFetch(n,{status:200,ok:!0,statusText:"Already loaded into quadstore."}));if(s==="failed"&&this.requested[t]===404){var a="Previously failed: "+this.requested[t],l={url:t,status:this.requested[t],statusText:a,responseText:a,headers:new rf.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return this.failFetch(n,a,this.requested[t],l)}}this.fireCallbacks("request",[t]),this.requested[t]=!0,n.noMeta||this.saveRequestMetadata(t,n);var u=n.actualProxyURI;return this._fetch(u,n).then(function(f){return r.handleResponse(f,t,n)},function(f){var h={url:u,status:999,statusText:(f.name||"network failure")+": "+(f.errno||f.code||f.type),responseText:f.message,headers:new rf.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return r.handleError(h,t,n)})}},{key:"nowOrWhenFetched",value:function(t,n,r){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=ol(t);typeof n=="function"?r=n:typeof n>"u"||(n0(n)?s.referringTerm=n:s=n),this.load(a,s).then(function(l){if(r)if(l)if(l.ok)r(!0,"OK",l);else{var u="HTTP error: Status "+l.status+" ("+l.statusText+")";l.responseText&&(u+=" "+l.responseText),r(!1,u,l)}else{var f="@@ nowOrWhenFetched:  no response object!";r(!1,f)}},function(l){var u=l.message||l.statusText;u="Failed to load  <"+a+"> "+u,l.response&&l.response.status&&(u+=" status: "+l.response.status),r(!1,u,l.response)})}},{key:"addStatus",value:function(t,n){var r=new Date;n="["+r.getHours()+":"+r.getMinutes()+":"+r.getSeconds()+"."+r.getMilliseconds()+"] "+n;var s=this.store,a=s.the(t,this.ns.link("status"));fd(a)&&a.append(s.rdfFactory.literal(n))}},{key:"failFetch",value:function(t,n,r,s){this.addStatus(t.req,n),t.noMeta||this.store.add(t.original,this.ns.link("error"),this.store.rdfFactory.literal(n));var a=(t.method||"GET").toUpperCase(),l=a==="GET"||a==="HEAD";l&&(t.resource.equals(t.original),this.requested[cl(t.original.value)]=r,this.fireCallbacks("fail",[t.original.value,n]));var u=new Error("Fetcher: "+n);return u.status=r,u.statusText=n,u.response=s,Promise.reject(u)}},{key:"linkData",value:function(t,n,r,s,a){if(r){var l=this.store,u,f=l.rdfFactory.namedNode(gi(r,t.value));if(n==="alternate"||n==="seeAlso"||n==="meta"||n==="describedby"){if(f.value===t.value)return;u=this.ns.rdfs("seeAlso")}else n==="type"?u=l.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):u=l.rdfFactory.namedNode(gi(encodeURIComponent(n),"http://www.iana.org/assignments/link-relations/"));a?l.add(f,u,t,s):l.add(t,u,f,s)}}},{key:"parseLinkHeader",value:function(t,n,r){if(t){var s=/<[^>]*>\s*(\s*;\s*[^()<>@,;:"/[\]?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*")))*(,|$)/g,a=/[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*"))/g,l=t.match(s);if(l!=null)for(var u=0;u<l.length;u++){var f=l[u].split(">"),h=f[0].substring(1),v=f[1],p=v.match(a);if(p==null)return;for(var d=0;d<p.length;d++){var _=p[d],g=_.split("="),b=g[1].replace(/["']/g,"");this.linkData(n,b,h,r)}}}}},{key:"doneFetch",value:function(t,n){return this.addStatus(t.req,"Done."),this.requested[t.original.value]="done",this.fireCallbacks("done",[t.original.value]),n.req=t.req,n}},{key:"nowKnownAs",value:function(t,n){this.lookedUp[t.value]?this.lookedUp[n.value]||this.lookUpThing(n,t):this.lookedUp[n.value]&&(this.lookedUp[t.value]||this.lookUpThing(t,n))}},{key:"putBack",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=ol(t),a=new cn(s).doc();return r.contentType=r["content-type"]||r["Content-Type"]||r.contentType||bs,r.contentType==="application/ld+json"?new Promise(function(l,u){ko(a,n.store,a.uri,r.contentType,function(f,h){f?u(f):(r.data=h,n.webOperation("PUT",t,r).then(function(v){return l(v)}).catch(function(v){return u(v)}))})}):(r.data=ko(a,this.store,a.value,r.contentType),this.webOperation("PUT",s,r))}},{key:"webCopy",value:function(t,n,r){var s=this;return this.webOperation("GET",t).then(function(a){return s.webOperation("PUT",n,{data:a.responseText,contentType:r})})}},{key:"delete",value:function(t,n){var r=this;return this.webOperation("DELETE",t,n).then(function(s){return r.requested[t]=404,r.nonexistent[t]=!0,r.unload(r.store.rdfFactory.namedNode(t)),s})}},{key:"createIfNotExists",value:function(){var e=a0($u.mark(function n(r){var s,a,l,u,f=arguments;return $u.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return s=f.length>1&&f[1]!==void 0?f[1]:bs,a=f.length>2&&f[2]!==void 0?f[2]:"",l=this,v.prev=3,v.next=6,l.load(r);case 6:u=v.sent,v.next=26;break;case 9:if(v.prev=9,v.t0=v.catch(3),v.t0.response.status!==404){v.next=25;break}return v.prev=12,v.next=15,l.webOperation("PUT",r.value,{data:a,contentType:s});case 15:u=v.sent,v.next=21;break;case 18:throw v.prev=18,v.t1=v.catch(12),v.t1;case 21:return delete l.requested[r.value],v.abrupt("return",u);case 25:throw v.t0;case 26:return v.abrupt("return",u);case 27:case"end":return v.stop()}},n,this,[[3,9],[12,18]])}));function t(n){return e.apply(this,arguments)}return t}()},{key:"createContainer",value:function(t,n,r){var s={"content-type":bs,link:this.ns.ldp("BasicContainer")+'; rel="type"'};n&&(s.slug=n);var a={headers:s};return r&&(a.body=r),this.webOperation("POST",t,a)}},{key:"invalidateCache",value:function(t){var n=ol(t),r=this;if(r.fetchQueue&&r.fetchQueue[n]){var s=r.fetchQueue[n];s.PromiseStatus,delete r.fetchQueue[n]}if(r.requested[n]&&r.requested[n]!=="done"&&r.requested[n]!=="failed"&&r.requested[n]!==404){var a="Rdflib: fetcher: Destructive operation on <".concat(r.requested[n],"> file being fetched! ")+n;console.error(a)}else delete r.requested[n],delete r.nonexistent[n]}},{key:"webOperation",value:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=ol(n);r.method=t,r.body=r.data||r.body,r.force=!0;var a=this;if(r.body&&!r.contentType)throw new Error("Web operation sending data must have a defined contentType.");return r.contentType&&(r.headers=r.headers||{},r.headers["content-type"]=r.contentType),i.setCredentials(s,r),new Promise(function(l,u){a._fetch(s,r).then(function(f){if(f.ok)(t==="PUT"||t==="PATCH"||t==="POST"||t==="DELETE")&&a.invalidateCache(s),f.text?f.text().then(function(p){f.responseText=p,l(f)}):l(f);else{var h="Web error: "+f.status;f.statusText&&(h+=" ("+f.statusText+")"),h+=" on "+t+" of <"+s+">",f.responseText&&(h+=": "+f.responseText);var v=new Error(h);v.response=f,u(v)}},function(f){var h="Fetch error for "+t+" of <"+s+">:"+f;u(new Error(h))})})}},{key:"lookUpThing",value:function(t,n){var r=this,s=this.store.uris(t);return s=s.map(function(a){return cl(a)}),s.forEach(function(a){r.lookedUp[a]=!0}),this.load(s,{referringTerm:n})}},{key:"getHeader",value:function(t,n){for(var r=this.store,s=t.value,a=r.each(void 0,this.ns.link("requestedURI"),r.rdfFactory.literal(s)),l=0;l<a.length;l++){var u=a[l];if(u!==void 0){var f=r.any(u,this.ns.link("response"));if(f!==void 0&&r.anyValue(f,this.ns.http("status"))&&r.anyValue(f,this.ns.http("status")).startsWith("2")){var h=r.each(f,this.ns.httph(n.toLowerCase()));return h.length?h.map(function(v){return v.value}):[]}}}}},{key:"saveRequestMetadata",value:function(t,n){var r=n.req,s=this.store,a=n.referringTerm;this.addStatus(n.req,"Accept: "+n.headers.accept),n0(a)&&s.add(s.rdfFactory.namedNode(t),this.ns.link("requestedBy"),a,this.appNode),n.original&&n.original.value!==t&&s.add(r,this.ns.link("orginalURI"),s.rdfFactory.literal(n.original.value),this.appNode);var l=new Date,u="["+l.getHours()+":"+l.getMinutes()+":"+l.getSeconds()+"] ";s.add(r,this.ns.rdfs("label"),s.rdfFactory.literal(u+" Request for "+t),this.appNode),s.add(r,this.ns.link("requestedURI"),s.rdfFactory.literal(t),this.appNode),s.add(r,this.ns.link("status"),s.collection(),this.appNode)}},{key:"saveResponseMetadata",value:function(t,n){var r=this,s=this.store,a=s.bnode();return s.add(n.req,this.ns.link("response"),a,this.appNode),s.add(a,this.ns.http("status"),s.rdfFactory.literal(t.status),this.appNode),s.add(a,this.ns.http("statusText"),s.rdfFactory.literal(t.statusText),this.appNode),t.headers.forEach(function(l,u){s.add(a,r.ns.httph(u),r.store.rdfFactory.literal(l),r.appNode),u==="content-type"&&s.add(n.resource,r.ns.rdf("type"),s.rdfFactory.namedNode(zN(l).value),r.appNode)}),a}},{key:"objectRefresh",value:function(t){var n=this.store.uris(t);if(typeof n<"u")for(var r=0;r<n.length;r++)this.refresh(this.store.rdfFactory.namedNode(cl(n[r])))}},{key:"refresh",value:function(t,n){this.fireCallbacks("refresh",arguments),this.nowOrWhenFetched(t,{force:!0,clearPreviousData:!0},n)}},{key:"refreshIfExpired",value:function(t,n){var r=this.getHeader(t,"Expires");!r||new Date(r[0]).getTime()<=new Date().getTime()?this.refresh(t,n):n(!0,"Not expired",{})}},{key:"retract",value:function(t){this.store.removeMany(void 0,void 0,void 0,t),t.value&&delete this.requested[cl(t.value)],this.fireCallbacks("retract",arguments)}},{key:"getState",value:function(t){return typeof this.requested[t]>"u"?"unrequested":this.requested[t]===!0?"requested":this.requested[t]==="done"?"fetched":this.requested[t]==="redirected"?this.getState(this.redirectedTo[t]):"failed"}},{key:"isPending",value:function(t){return this.requested[t]===!0}},{key:"unload",value:function(t){this.store.removeDocument(t),delete this.requested[t.value]}},{key:"addHandler",value:function(t){this.handlers.push(t),t.register(this)}},{key:"retryNoCredentials",value:function(t,n){n.retriedWithNoCredentials=!0,delete this.requested[t],delete this.fetchQueue[t];var r=Object.assign({},n,{credentials:"omit"});return this.addStatus(n.req,"Abort: Will retry with credentials SUPPRESSED to see if that helps"),this.load(t,r)}},{key:"isCrossSite",value:function(t){if(typeof document>"u"||!document.location)return!1;var n=dN,r=""+document.location;return(n(r)&&n(t)&&n(r))!==n(t)}},{key:"handleError",value:function(t,n,r){if(this.isCrossSite(n)){if(r.credentials&&r.credentials==="include"&&!r.retriedWithNoCredentials)return this.retryNoCredentials(n,r);var s=i.crossSiteProxy(n);if(s&&!r.proxyUsed)return this.redirectToProxy(s,r)}var a;return t instanceof Error?a="Fetch error: "+t.message:(a=t.statusText,t.responseText&&(a+=" ".concat(t.responseText))),this.failFetch(r,a,t.status||998,t)}},{key:"addType",value:function(t,n,r,s){var a=n;if(s){var l=r.any(a,this.ns.link("requestedURI"));l&&l.value!==s&&r.add(r.rdfFactory.namedNode(s),this.ns.rdf("type"),t,this.appNode)}for(;;){var u=r.any(a,this.ns.link("requestedURI"));if(u&&u.value&&r.add(r.rdfFactory.namedNode(u.value),this.ns.rdf("type"),t,this.appNode),a=r.any(void 0,r.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#redirectedRequest"),a),!a)break;var f=r.any(a,r.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#response"));if(!f)break;var h=r.any(f,r.rdfFactory.namedNode("http://www.w3.org/2007/ont/http#status"));if(!h||h!=="301"&&h!=="302")break}}},{key:"handleResponse",value:function(t,n,r){var s=this,a=this.store,l=t.headers,u=r.req,f=this.saveResponseMetadata(t,r),h=this.normalizedContentType(r,l)||"",v=l.get("content-location");if(t.status===0)return this.handleError(t,n,r);if(t.status>=400)return t.status===404&&(this.nonexistent[r.original.value]=!0,this.nonexistent[n]=!0),this.saveErrorResponse(t,f).then(function(){var B=r.resource+" "+t.statusText;return s.failFetch(r,B,t.status,t)});var p=null,d=null;if(v&&(d=gi(v,n),d!==n&&(p=d)),t.status===200){if(this.addType(this.ns.link("Document"),u,a,n),p&&this.addType(this.ns.link("Document"),u,a,p),r.clearPreviousData)for(var _=a.statementsMatching(void 0,void 0,void 0,r.resource).slice(),g=0;g<_.length;g++)a.removeStatement(_[g]);var b=h.includes("image/")||h.includes("application/pdf");h&&b&&(this.addType(a.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),u,a,n),p&&this.addType(a.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),u,a,p))}if(v){if(!r.force&&p&&this.requested[d]==="done")return this.doneFetch(r,t);this.requested[d]=!0}this.parseLinkHeader(l.get("link"),r.original,u);var D=this.handlerForContentType(h,t);return D?t.text().then(function(B){return t.responseText=B,D.parse(s,B,r,t)}):(this.addStatus(u,"Fetch over. No data handled."),this.doneFetch(r,t))}},{key:"saveErrorResponse",value:function(t,n){var r=this,s=this.store;return t.text().then(function(a){a.length>10&&s.add(n,r.ns.http("content"),s.rdfFactory.literal(a),n)})}},{key:"handlerForContentType",value:function(t,n){if(!t)return null;var r=this.handlers.find(function(s){return t.match(s.pattern)});return r?new r(n):null}},{key:"guessContentType",value:function(t){return Z2[t.split(".").pop()]}},{key:"normalizedContentType",value:function(t,n){if(t.forceContentType)return t.forceContentType;var r=n.get("content-type");if(!r||r.includes("application/octet-stream")){var s=this.guessContentType(t.resource.value);if(s)return s}var a=l0(t.resource.value);return!r&&["file","chrome"].includes(a)?"text/xml":r}},{key:"redirectToProxy",value:function(t,n){var r=this;this.addStatus(n.req,"BLOCKED -> Cross-site Proxy to <"+t+">"),n.proxyUsed=!0;var s=this.store,a=n.req;n.noMeta||(s.add(a,this.ns.link("redirectedTo"),s.rdfFactory.namedNode(t),a),this.addStatus(a,"redirected to new request")),this.requested[n.resource.value]="redirected",this.redirectedTo[n.resource.value]=t;var l=Object.assign({},n);return l.baseURI=n.resource.value,this.fetchUri(t,l).then(function(u){return l.noMeta||s.add(a,r.ns.link("redirectedRequest"),l.req,r.appNode),u})}},{key:"setRequestTimeout",value:function(t,n){var r=this;return new Promise(function(s){r.timeouts[t]=(r.timeouts[t]||[]).concat(setTimeout(function(){r.isPending(t)&&!n.retriedWithNoCredentials&&!n.proxyUsed&&s(r.failFetch(n,"Request to ".concat(t," timed out"),"timeout"))},r.timeout))})}},{key:"addFetchCallback",value:function(t,n){this.fetchCallbacks[t]?this.fetchCallbacks[t].push(n):this.fetchCallbacks[t]=[n]}},{key:"acceptString",value:function(){var t="";for(var n in this.mediatypes){t!==""&&(t+=", "),t+=n;for(var r in this.mediatypes[n])t+=";"+r+"="+this.mediatypes[n][r]}return t}}],[{key:"crossSiteProxy",value:function(t){if(i.crossSiteProxyTemplate)return i.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(t))}},{key:"offlineOverride",value:function(t){var n=t,r;return typeof window<"u"&&window.panes&&(r=window.panes.UI)&&r.preferences&&r.preferences.get("offlineModeUsingLocalhost")&&n.slice(0,7)==="http://"&&n.slice(7,17)!=="localhost/"&&(n="http://localhost/"+n.slice(7)),n}},{key:"proxyIfNecessary",value:function(t){var n;if(typeof window<"u"&&window.panes&&(n=window.panes.UI)&&n.isExtension)return t;if(typeof $SolidTestEnvironment<"u"&&$SolidTestEnvironment.localSiteMap){var r=t.split("/").slice(2),s=function l(u,f){var h=f[u.shift()];return h?typeof h=="string"?h+u.join("/"):u?l(u,h):null:null},a=s(r,$SolidTestEnvironment.localSiteMap);if(a)return a}return i.crossSiteProxyTemplate&&typeof document<"u"&&document.location&&(""+document.location).slice(0,6)==="https:"&&t.slice(0,5)==="http:"?i.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(t)):t}},{key:"unsupportedProtocol",value:function(t){var n=l0(t);return n==="tel"||n==="mailto"||n==="urn"}},{key:"setCredentials",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n.credentials===void 0&&(n.withCredentials!==void 0?n.credentials=n.withCredentials?"include":"omit":n.credentials="include")}}])}();et(yl,"HANDLERS",void 0);et(yl,"CONTENT_TYPE_BY_EXT",void 0);et(yl,"crossSiteProxyTemplate",void 0);yl.HANDLERS=Qh;yl.CONTENT_TYPE_BY_EXT=Z2;function G0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function X0(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?G0(Object(t),!0).forEach(function(n){et(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):G0(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}var Ju=X0(X0({},Gh),{},{fetcher:function(e,t){return new yl(e,t)},graph:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return new Fo(e,t||{rdfFactory:Gh})},lit:function(e,t,n){return this.literal(""+e,t||n)},st:function(e,t,n,r){return this.quad(e,t,n,r)}}),jf={};for(var Nh in Ju)typeof Ju[Nh]=="function"&&(jf[Nh]=Ju[Nh].bind(Ju));var cI=jf.graph,sb=jf.namedNode,hI=jf.literal;new j2;Or.fromValue;Xi.nextId;let Te,Si=0,vo=null;function nf(){return(vo===null||vo.byteLength===0)&&(vo=new Uint8Array(Te.memory.buffer)),vo}const af=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},dI=typeof af.encodeInto=="function"?function(i,e){return af.encodeInto(i,e)}:function(i,e){const t=af.encode(i);return e.set(t),{read:i.length,written:t.length}};function ca(i,e,t){if(t===void 0){const l=af.encode(i),u=e(l.length,1)>>>0;return nf().subarray(u,u+l.length).set(l),Si=l.length,u}let n=i.length,r=e(n,1)>>>0;const s=nf();let a=0;for(;a<n;a++){const l=i.charCodeAt(a);if(l>127)break;s[r+a]=l}if(a!==n){a!==0&&(i=i.slice(a)),r=t(r,n,n=a+i.length*3,1)>>>0;const l=nf().subarray(r+a,r+n),u=dI(i,l);a+=u.written,r=t(r,n,a,1)>>>0}return Si=a,r}function Nd(i){return i==null}let go=null;function st(){return(go===null||go.byteLength===0)&&(go=new Int32Array(Te.memory.buffer)),go}const lb=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&lb.decode();function Er(i,e){return i=i>>>0,lb.decode(nf().subarray(i,i+e))}function Wr(i){const e=Te.__wbindgen_export_2.get(i);return Te.__externref_table_dealloc(i),e}function pI(i){try{const r=Te.__wbindgen_add_to_stack_pointer(-16),s=ca(i,Te.__wbindgen_malloc,Te.__wbindgen_realloc),a=Si;Te.namedNode(r,s,a);var e=st()[r/4+0],t=st()[r/4+1],n=st()[r/4+2];if(n)throw Wr(t);return El.__wrap(e)}finally{Te.__wbindgen_add_to_stack_pointer(16)}}function _I(i){try{const a=Te.__wbindgen_add_to_stack_pointer(-16);var e=Nd(i)?0:ca(i,Te.__wbindgen_malloc,Te.__wbindgen_realloc),t=Si;Te.blankNode(a,e,t);var n=st()[a/4+0],r=st()[a/4+1],s=st()[a/4+2];if(s)throw Wr(r);return Oo.__wrap(n)}finally{Te.__wbindgen_add_to_stack_pointer(16)}}function vI(i,e){try{const l=Te.__wbindgen_add_to_stack_pointer(-16);var t=Nd(i)?0:ca(i,Te.__wbindgen_malloc,Te.__wbindgen_realloc),n=Si;Te.literal(l,t,n,e);var r=st()[l/4+0],s=st()[l/4+1],a=st()[l/4+2];if(a)throw Wr(s);return Bo.__wrap(r)}finally{Te.__wbindgen_add_to_stack_pointer(16)}}function gI(){const i=Te.defaultGraph();return Lo.__wrap(i)}function mI(i){try{const r=Te.__wbindgen_add_to_stack_pointer(-16),s=ca(i,Te.__wbindgen_malloc,Te.__wbindgen_realloc),a=Si;Te.variable(r,s,a);var e=st()[r/4+0],t=st()[r/4+1],n=st()[r/4+2];if(n)throw Wr(t);return Uo.__wrap(e)}finally{Te.__wbindgen_add_to_stack_pointer(16)}}function bI(i,e,t){try{const a=Te.__wbindgen_add_to_stack_pointer(-16);Te.triple(a,i,e,t);var n=st()[a/4+0],r=st()[a/4+1],s=st()[a/4+2];if(s)throw Wr(r);return Dl.__wrap(n)}finally{Te.__wbindgen_add_to_stack_pointer(16)}}function wI(i,e,t,n){try{const l=Te.__wbindgen_add_to_stack_pointer(-16);Te.quad(l,i,e,t,n);var r=st()[l/4+0],s=st()[l/4+1],a=st()[l/4+2];if(a)throw Wr(s);return Dl.__wrap(r)}finally{Te.__wbindgen_add_to_stack_pointer(16)}}function yI(i){try{const r=Te.__wbindgen_add_to_stack_pointer(-16);Te.fromTerm(r,i);var e=st()[r/4+0],t=st()[r/4+1],n=st()[r/4+2];if(n)throw Wr(t);return Wr(e)}finally{Te.__wbindgen_add_to_stack_pointer(16)}}function EI(i){try{const r=Te.__wbindgen_add_to_stack_pointer(-16);Te.fromQuad(r,i);var e=st()[r/4+0],t=st()[r/4+1],n=st()[r/4+2];if(n)throw Wr(t);return Wr(e)}finally{Te.__wbindgen_add_to_stack_pointer(16)}}let mo=null;function DI(){return(mo===null||mo.byteLength===0)&&(mo=new Uint32Array(Te.memory.buffer)),mo}function AI(i,e){i=i>>>0;const n=DI().subarray(i/4,i/4+e),r=[];for(let s=0;s<n.length;s++)r.push(Te.__wbindgen_export_2.get(n[s]));return Te.__externref_drop_slice(i,e),r}function kI(){Te.main()}function CI(i){const e=Te.__externref_table_alloc();return Te.__wbindgen_export_2.set(e,i),e}function pi(i,e){try{return i.apply(this,e)}catch(t){const n=CI(t);Te.__wbindgen_exn_store(n)}}const W0=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(i=>Te.__wbg_blanknode_free(i>>>0));class Oo{static __wrap(e){e=e>>>0;const t=Object.create(Oo.prototype);return t.__wbg_ptr=e,W0.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,W0.unregister(this),e}free(){const e=this.__destroy_into_raw();Te.__wbg_blanknode_free(e)}get termType(){let e,t;try{const s=Te.__wbindgen_add_to_stack_pointer(-16);Te.blanknode_term_type(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Te.__wbindgen_add_to_stack_pointer(16),Te.__wbindgen_free(e,t,1)}}get value(){let e,t;try{const s=Te.__wbindgen_add_to_stack_pointer(-16);Te.blanknode_value(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Te.__wbindgen_add_to_stack_pointer(16),Te.__wbindgen_free(e,t,1)}}toString(){let e,t;try{const s=Te.__wbindgen_add_to_stack_pointer(-16);Te.blanknode_toString(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Te.__wbindgen_add_to_stack_pointer(16),Te.__wbindgen_free(e,t,1)}}equals(e){return Te.blanknode_equals(this.__wbg_ptr,e)!==0}}const Q0=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(i=>Te.__wbg_defaultgraph_free(i>>>0));class Lo{static __wrap(e){e=e>>>0;const t=Object.create(Lo.prototype);return t.__wbg_ptr=e,Q0.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Q0.unregister(this),e}free(){const e=this.__destroy_into_raw();Te.__wbg_defaultgraph_free(e)}get termType(){let e,t;try{const s=Te.__wbindgen_add_to_stack_pointer(-16);Te.defaultgraph_term_type(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Te.__wbindgen_add_to_stack_pointer(16),Te.__wbindgen_free(e,t,1)}}get value(){let e,t;try{const s=Te.__wbindgen_add_to_stack_pointer(-16);Te.defaultgraph_value(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Te.__wbindgen_add_to_stack_pointer(16),Te.__wbindgen_free(e,t,1)}}toString(){let e,t;try{const s=Te.__wbindgen_add_to_stack_pointer(-16);Te.defaultgraph_toString(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Te.__wbindgen_add_to_stack_pointer(16),Te.__wbindgen_free(e,t,1)}}equals(e){return Te.defaultgraph_equals(this.__wbg_ptr,e)!==0}}const Y0=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(i=>Te.__wbg_literal_free(i>>>0));class Bo{static __wrap(e){e=e>>>0;const t=Object.create(Bo.prototype);return t.__wbg_ptr=e,Y0.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Y0.unregister(this),e}free(){const e=this.__destroy_into_raw();Te.__wbg_literal_free(e)}get termType(){let e,t;try{const s=Te.__wbindgen_add_to_stack_pointer(-16);Te.literal_term_type(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Te.__wbindgen_add_to_stack_pointer(16),Te.__wbindgen_free(e,t,1)}}get value(){let e,t;try{const s=Te.__wbindgen_add_to_stack_pointer(-16);Te.literal_value(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Te.__wbindgen_add_to_stack_pointer(16),Te.__wbindgen_free(e,t,1)}}get language(){let e,t;try{const s=Te.__wbindgen_add_to_stack_pointer(-16);Te.literal_language(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Te.__wbindgen_add_to_stack_pointer(16),Te.__wbindgen_free(e,t,1)}}get datatype(){const e=Te.literal_datatype(this.__wbg_ptr);return El.__wrap(e)}toString(){let e,t;try{const s=Te.__wbindgen_add_to_stack_pointer(-16);Te.literal_toString(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Te.__wbindgen_add_to_stack_pointer(16),Te.__wbindgen_free(e,t,1)}}equals(e){return Te.literal_equals(this.__wbg_ptr,e)!==0}}const K0=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(i=>Te.__wbg_namednode_free(i>>>0));class El{static __wrap(e){e=e>>>0;const t=Object.create(El.prototype);return t.__wbg_ptr=e,K0.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,K0.unregister(this),e}free(){const e=this.__destroy_into_raw();Te.__wbg_namednode_free(e)}get termType(){let e,t;try{const s=Te.__wbindgen_add_to_stack_pointer(-16);Te.namednode_term_type(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Te.__wbindgen_add_to_stack_pointer(16),Te.__wbindgen_free(e,t,1)}}get value(){let e,t;try{const s=Te.__wbindgen_add_to_stack_pointer(-16);Te.namednode_value(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Te.__wbindgen_add_to_stack_pointer(16),Te.__wbindgen_free(e,t,1)}}toString(){let e,t;try{const s=Te.__wbindgen_add_to_stack_pointer(-16);Te.namednode_toString(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Te.__wbindgen_add_to_stack_pointer(16),Te.__wbindgen_free(e,t,1)}}equals(e){return Te.namednode_equals(this.__wbg_ptr,e)!==0}}const J0=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(i=>Te.__wbg_quad_free(i>>>0));class Dl{static __wrap(e){e=e>>>0;const t=Object.create(Dl.prototype);return t.__wbg_ptr=e,J0.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,J0.unregister(this),e}free(){const e=this.__destroy_into_raw();Te.__wbg_quad_free(e)}get termType(){let e,t;try{const s=Te.__wbindgen_add_to_stack_pointer(-16);Te.quad_term_type(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Te.__wbindgen_add_to_stack_pointer(16),Te.__wbindgen_free(e,t,1)}}get value(){let e,t;try{const s=Te.__wbindgen_add_to_stack_pointer(-16);Te.defaultgraph_value(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Te.__wbindgen_add_to_stack_pointer(16),Te.__wbindgen_free(e,t,1)}}get subject(){return Te.quad_subject(this.__wbg_ptr)}get predicate(){return Te.quad_predicate(this.__wbg_ptr)}get object(){return Te.quad_object(this.__wbg_ptr)}get graph(){return Te.quad_graph(this.__wbg_ptr)}toString(){let e,t;try{const s=Te.__wbindgen_add_to_stack_pointer(-16);Te.quad_toString(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Te.__wbindgen_add_to_stack_pointer(16),Te.__wbindgen_free(e,t,1)}}equals(e){return Te.quad_equals(this.__wbg_ptr,e)!==0}}const TI=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(i=>Te.__wbg_store_free(i>>>0));class ob{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,TI.unregister(this),e}free(){const e=this.__destroy_into_raw();Te.__wbg_store_free(e)}constructor(e){try{const s=Te.__wbindgen_add_to_stack_pointer(-16);Te.store_new(s,e);var t=st()[s/4+0],n=st()[s/4+1],r=st()[s/4+2];if(r)throw Wr(n);return this.__wbg_ptr=t>>>0,this}finally{Te.__wbindgen_add_to_stack_pointer(16)}}add(e){try{const r=Te.__wbindgen_add_to_stack_pointer(-16);Te.store_add(r,this.__wbg_ptr,e);var t=st()[r/4+0],n=st()[r/4+1];if(n)throw Wr(t)}finally{Te.__wbindgen_add_to_stack_pointer(16)}}delete(e){try{const r=Te.__wbindgen_add_to_stack_pointer(-16);Te.store_delete(r,this.__wbg_ptr,e);var t=st()[r/4+0],n=st()[r/4+1];if(n)throw Wr(t)}finally{Te.__wbindgen_add_to_stack_pointer(16)}}has(e){try{const s=Te.__wbindgen_add_to_stack_pointer(-16);Te.store_has(s,this.__wbg_ptr,e);var t=st()[s/4+0],n=st()[s/4+1],r=st()[s/4+2];if(r)throw Wr(n);return t!==0}finally{Te.__wbindgen_add_to_stack_pointer(16)}}get size(){try{const r=Te.__wbindgen_add_to_stack_pointer(-16);Te.store_size(r,this.__wbg_ptr);var e=st()[r/4+0],t=st()[r/4+1],n=st()[r/4+2];if(n)throw Wr(t);return e>>>0}finally{Te.__wbindgen_add_to_stack_pointer(16)}}match(e,t,n,r){try{const h=Te.__wbindgen_add_to_stack_pointer(-16);Te.store_match(h,this.__wbg_ptr,e,t,n,r);var s=st()[h/4+0],a=st()[h/4+1],l=st()[h/4+2],u=st()[h/4+3];if(u)throw Wr(l);var f=AI(s,a).slice();return Te.__wbindgen_free(s,a*4,4),f}finally{Te.__wbindgen_add_to_stack_pointer(16)}}query(e,t){try{const a=Te.__wbindgen_add_to_stack_pointer(-16),l=ca(e,Te.__wbindgen_malloc,Te.__wbindgen_realloc),u=Si;Te.store_query(a,this.__wbg_ptr,l,u,t);var n=st()[a/4+0],r=st()[a/4+1],s=st()[a/4+2];if(s)throw Wr(r);return Wr(n)}finally{Te.__wbindgen_add_to_stack_pointer(16)}}update(e,t){try{const s=Te.__wbindgen_add_to_stack_pointer(-16),a=ca(e,Te.__wbindgen_malloc,Te.__wbindgen_realloc),l=Si;Te.store_update(s,this.__wbg_ptr,a,l,t);var n=st()[s/4+0],r=st()[s/4+1];if(r)throw Wr(n)}finally{Te.__wbindgen_add_to_stack_pointer(16)}}load(e,t,n,r){try{const l=Te.__wbindgen_add_to_stack_pointer(-16),u=ca(e,Te.__wbindgen_malloc,Te.__wbindgen_realloc),f=Si;Te.store_load(l,this.__wbg_ptr,u,f,t,n,r);var s=st()[l/4+0],a=st()[l/4+1];if(a)throw Wr(s)}finally{Te.__wbindgen_add_to_stack_pointer(16)}}dump(e,t){let n,r;try{const v=Te.__wbindgen_add_to_stack_pointer(-16);Te.store_dump(v,this.__wbg_ptr,e,t);var s=st()[v/4+0],a=st()[v/4+1],l=st()[v/4+2],u=st()[v/4+3],f=s,h=a;if(u)throw f=0,h=0,Wr(l);return n=f,r=h,Er(f,h)}finally{Te.__wbindgen_add_to_stack_pointer(16),Te.__wbindgen_free(n,r,1)}}}const Z0=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(i=>Te.__wbg_variable_free(i>>>0));class Uo{static __wrap(e){e=e>>>0;const t=Object.create(Uo.prototype);return t.__wbg_ptr=e,Z0.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Z0.unregister(this),e}free(){const e=this.__destroy_into_raw();Te.__wbg_variable_free(e)}get termType(){let e,t;try{const s=Te.__wbindgen_add_to_stack_pointer(-16);Te.variable_term_type(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Te.__wbindgen_add_to_stack_pointer(16),Te.__wbindgen_free(e,t,1)}}get value(){let e,t;try{const s=Te.__wbindgen_add_to_stack_pointer(-16);Te.variable_value(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Te.__wbindgen_add_to_stack_pointer(16),Te.__wbindgen_free(e,t,1)}}toString(){let e,t;try{const s=Te.__wbindgen_add_to_stack_pointer(-16);Te.variable_toString(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Te.__wbindgen_add_to_stack_pointer(16),Te.__wbindgen_free(e,t,1)}}equals(e){return Te.variable_equals(this.__wbg_ptr,e)!==0}}async function NI(i,e){if(typeof Response=="function"&&i instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(i,e)}catch(n){if(i.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n);else throw n}const t=await i.arrayBuffer();return await WebAssembly.instantiate(t,e)}else{const t=await WebAssembly.instantiate(i,e);return t instanceof WebAssembly.Instance?{instance:t,module:i}:t}}function ub(){const i={};return i.wbg={},i.wbg.__wbindgen_is_undefined=function(e){return e===void 0},i.wbg.__wbindgen_is_null=function(e){return e===null},i.wbg.__wbindgen_string_get=function(e,t){const n=t,r=typeof n=="string"?n:void 0;var s=Nd(r)?0:ca(r,Te.__wbindgen_malloc,Te.__wbindgen_realloc),a=Si;st()[e/4+1]=a,st()[e/4+0]=s},i.wbg.__wbindgen_is_falsy=function(e){return!e},i.wbg.__wbindgen_error_new=function(e,t){return new Error(Er(e,t))},i.wbg.__wbg_quad_new=function(e){return Dl.__wrap(e)},i.wbg.__wbg_namednode_new=function(e){return El.__wrap(e)},i.wbg.__wbg_blanknode_new=function(e){return Oo.__wrap(e)},i.wbg.__wbg_literal_new=function(e){return Bo.__wrap(e)},i.wbg.__wbg_defaultgraph_new=function(e){return Lo.__wrap(e)},i.wbg.__wbg_variable_new=function(e){return Uo.__wrap(e)},i.wbg.__wbg_new_28c511d9baebfa89=function(e,t){return new Error(Er(e,t))},i.wbg.__wbindgen_string_new=function(e,t){return Er(e,t)},i.wbg.__wbg_new_57421e8974065233=function(e,t){return new URIError(Er(e,t))},i.wbg.__wbindgen_is_string=function(e){return typeof e=="string"},i.wbg.__wbg_iterator_2cee6dadfd956dfa=function(){return Symbol.iterator},i.wbg.__wbg_get_e3c254076557e348=function(){return pi(function(e,t){return Reflect.get(e,t)},arguments)},i.wbg.__wbindgen_is_function=function(e){return typeof e=="function"},i.wbg.__wbg_call_27c0f87801dedf93=function(){return pi(function(e,t){return e.call(t)},arguments)},i.wbg.__wbindgen_is_object=function(e){const t=e;return typeof t=="object"&&t!==null},i.wbg.__wbg_next_40fc327bfc8770e6=function(e){return e.next},i.wbg.__wbg_next_196c84450b364254=function(){return pi(function(e){return e.next()},arguments)},i.wbg.__wbg_done_298b57d23c0fc80c=function(e){return e.done},i.wbg.__wbg_value_d93c65011f51a456=function(e){return e.value},i.wbg.__wbg_new_16b304a2cfa7ff4a=function(){return new Array},i.wbg.__wbg_new_d9bc3a0147634640=function(){return new Map},i.wbg.__wbg_push_a5b05aedc7234f9f=function(e,t){return e.push(t)},i.wbg.__wbg_set_8417257aaedc936b=function(e,t,n){return e.set(t,n)},i.wbg.__wbg_warn_e3cf7681777e295c=function(e,t){console.warn(Er(e,t))},i.wbg.__wbg_new_abda76e883ba8a5f=function(){return new Error},i.wbg.__wbg_stack_658279fe44541cf6=function(e,t){const n=t.stack,r=ca(n,Te.__wbindgen_malloc,Te.__wbindgen_realloc),s=Si;st()[e/4+1]=s,st()[e/4+0]=r},i.wbg.__wbg_error_f851667af71bcfc6=function(e,t){let n,r;try{n=e,r=t,console.error(Er(e,t))}finally{Te.__wbindgen_free(n,r,1)}},i.wbg.__wbg_crypto_1d1f22824a6a080c=function(e){return e.crypto},i.wbg.__wbg_process_4a72847cc503995b=function(e){return e.process},i.wbg.__wbg_versions_f686565e586dd935=function(e){return e.versions},i.wbg.__wbg_node_104a2ff8d6ea03a2=function(e){return e.node},i.wbg.__wbg_require_cca90b1a94a0255b=function(){return pi(function(){return module.require},arguments)},i.wbg.__wbg_msCrypto_eb05e62b530a1508=function(e){return e.msCrypto},i.wbg.__wbg_newwithlength_e9b4878cebadb3d3=function(e){return new Uint8Array(e>>>0)},i.wbg.__wbg_self_ce0dbfc45cf2f5be=function(){return pi(function(){return self.self},arguments)},i.wbg.__wbg_window_c6fb939a7f436783=function(){return pi(function(){return window.window},arguments)},i.wbg.__wbg_globalThis_d1e6af4856ba331b=function(){return pi(function(){return globalThis.globalThis},arguments)},i.wbg.__wbg_global_207b558942527489=function(){return pi(function(){return global.global},arguments)},i.wbg.__wbg_newnoargs_e258087cd0daa0ea=function(e,t){return new Function(Er(e,t))},i.wbg.__wbg_call_b3ca7c6051f9bec1=function(){return pi(function(e,t,n){return e.call(t,n)},arguments)},i.wbg.__wbg_has_0af94d20077affa2=function(){return pi(function(e,t){return Reflect.has(e,t)},arguments)},i.wbg.__wbg_now_3014639a94423537=function(){return Date.now()},i.wbg.__wbindgen_memory=function(){return Te.memory},i.wbg.__wbg_buffer_12d079cc21e14bdb=function(e){return e.buffer},i.wbg.__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb=function(e,t,n){return new Uint8Array(e,t>>>0,n>>>0)},i.wbg.__wbg_randomFillSync_5c9c955aa56b6049=function(){return pi(function(e,t){e.randomFillSync(t)},arguments)},i.wbg.__wbg_subarray_a1f73cd4b5b42fe1=function(e,t,n){return e.subarray(t>>>0,n>>>0)},i.wbg.__wbg_getRandomValues_3aa56aa6edec874c=function(){return pi(function(e,t){e.getRandomValues(t)},arguments)},i.wbg.__wbg_new_63b92bc8671ed464=function(e){return new Uint8Array(e)},i.wbg.__wbg_set_a47bac70306a19a7=function(e,t,n){e.set(t,n>>>0)},i.wbg.__wbindgen_throw=function(e,t){throw new Error(Er(e,t))},i.wbg.__wbindgen_init_externref_table=function(){const e=Te.__wbindgen_export_2,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},i}function fb(i,e){return Te=i.exports,Ef.__wbindgen_wasm_module=e,go=null,mo=null,vo=null,Te.__wbindgen_start(),Te}function SI(i){if(Te!==void 0)return Te;const e=ub();i instanceof WebAssembly.Module||(i=new WebAssembly.Module(i));const t=new WebAssembly.Instance(i,e);return fb(t,i)}async function Ef(i){if(Te!==void 0)return Te;typeof i>"u"&&(i=new URL(""+new URL("../assets/web_bg.gKr3Fjqn.wasm",import.meta.url).href,import.meta.url));const e=ub();(typeof i=="string"||typeof Request=="function"&&i instanceof Request||typeof URL=="function"&&i instanceof URL)&&(i=fetch(i));const{instance:t,module:n}=await NI(await i,e);return fb(t,n)}const II=Object.freeze(Object.defineProperty({__proto__:null,BlankNode:Oo,DefaultGraph:Lo,Literal:Bo,NamedNode:El,Quad:Dl,Store:ob,Variable:Uo,blankNode:_I,default:Ef,defaultGraph:gI,fromQuad:EI,fromTerm:yI,initSync:SI,literal:vI,main:kI,namedNode:pI,quad:wI,triple:bI,variable:mI},Symbol.toStringTag,{value:"Module"})),RI="/ontologies/d3fend.ttl",cb="http://d3fend.mitre.org/ontologies/d3fend.owl#",PI="http://d3fend.mitre.org/ontologies/cad/instances#",FI="http://d3fend.mitre.org/ontologies/cad/",Mo="d3f",hb="dct",db="cad",ha="owl",Rs="rdf",Al="rdfs",pb="skos",_b="xsd",gl={[Mo]:cb,[db]:PI,[ha]:"http://www.w3.org/2002/07/owl#",[Rs]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",[Al]:"http://www.w3.org/2000/01/rdf-schema#",[_b]:"http://www.w3.org/2001/XMLSchema#",[hb]:"http://purl.org/dc/terms/",[pb]:"http://www.w3.org/2004/02/skos/core#"},Kn={[Mo]:cb,[ha]:"http://www.w3.org/2002/07/owl#",[Rs]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",[Al]:"http://www.w3.org/2000/01/rdf-schema#",[_b]:"http://www.w3.org/2001/XMLSchema#",[hb]:"http://purl.org/dc/terms/",[pb]:"http://www.w3.org/2004/02/skos/core#"};function OI(){const{subscribe:i,set:e,update:t}=nn({initalized:!1,store:null,erorr:null});async function n(){try{console.log("Starting Oxigraph initialization"),console.time("Initialize Oxigraph"),console.log("Oxigraph module:",II),console.log("Init function:",Ef),await Ef(),console.log("WebAssembly initialized successfully");const s=new ob;console.log("Oxigraph store created"),e({initialized:!0,store:s,error:null}),await r(s),console.log(`Oxigraph store initialized with ${s.size} triples.`)}catch(s){e({initialized:!1,store:null,error:s.message}),console.error("Failed to initialize Oxigraph store:",s)}}async function r(s){try{console.time("Load D3FEND ontology");const l=await(await fetch(RI)).text();s.load(l,{format:"ttl"}),console.timeEnd("Load D3FEND ontology"),console.log(`D3FEND ontology loaded, total triples: ${s.size}`)}catch(a){console.error("Failed to load D3FEND ontology:",a)}}return{subscribe:i,initialize:n,query:s=>new Promise((a,l)=>{t(u=>{if(!u.initialized)l(new Error("Oxigraph store not initialized"));else try{const f=u.store.query(s);a(f)}catch(f){l(f)}return u})})}}const xf=OI();async function vb(i){let e=null;return console.log("Calling lookup_valid_property..."),e=await UI(i),console.log(`Property from lookup IRI ${e}`),e==null&&(console.log("Calling lookup_valid_property_by_label..."),e=await BI(i)),e}async function LI(i){const e="lookup_valid_class_by_IRI("+i+")";console.info(e);const t=`PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX d3f: <http://d3fend.mitre.org/ontologies/d3fend.owl#>

SELECT ?class
WHERE
{
  VALUES ?class { ${i} }
  ?class rdfs:subClassOf* d3f:D3FENDThing .
}
LIMIT 1`;console.log({valid_value_query:t});let n=null;try{const r=await xf.query(t);r?(console.info(`Type of queryResult for class lookup by IRI ${i} is: `+Object.prototype.toString.call(r).slice(8,-1)),console.log({query_result:r}),Array.isArray(r)?r.length>0?n=r[0].get("class").value:console.warn(`Empty query results for valid class lookup by IRI ${i}.`):console.warn(`Query result not the expected Array type for class lookup by IRI of ${i}.`)):console.error(`Query results: ${r} for valid class lookup by IRI ${i}.`)}catch(r){console.warn(`Error executing oxigraph query for class lookup by IRI of: ${i}, error: ${r}`)}return console.info(n+" <- "+e),n}async function BI(i){const e="lookup_valid_property_by_label("+i+")";console.info(e);const t=`PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX d3f: <http://d3fend.mitre.org/ontologies/d3fend.owl#>

SELECT ?property
WHERE
{
  ?property rdfs:subPropertyOf* d3f:may-be-associated-with .
  ?property rdfs:label "${i}" .
}
LIMIT 1`;console.log({valid_value_query:t});let n=null;try{const r=await xf.query(t);r?(console.info(`Type of queryResult for property lookup by label ${i} is: `+Object.prototype.toString.call(r).slice(8,-1)),console.log({query_result:r}),Array.isArray(r)?r.length>0?n=r[0].get("property").value:console.warn(`Empty query results for valid property lookup by label ${i}.`):console.warn(`Query result not the expected Array type for property lookup by label of ${i}.`)):console.error(`Query results: ${r} for valid property lookup by label ${i}.`)}catch(r){console.warn(`Error executing oxigraph query for property lookup by label of: ${i}, error: ${r}`)}return console.info(n+" <- "+e),n}async function UI(i){const e="lookup_valid_property_by_IRI("+i+")";console.info(e);const t=`PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX d3f: <http://d3fend.mitre.org/ontologies/d3fend.owl#>

SELECT ?property
WHERE
{
  VALUES ?property { ${i} }
  ?property rdfs:subPropertyOf* d3f:may-be-associated-with .
}
LIMIT 1`;let n=null;if(i.includes(":"))try{const r=await xf.query(t);console.info({query_result:r}),r?Array.isArray(r)?r.length>0?n=r[0].get("property").value:console.warn(`Empty array returned for property lookup by iri of ${i}.`):console.warn(`Query result not the expected Array type for property lookup by iri of ${i}.`):console.warn(`Undefined query result returned for property lookup by iri of ${i}.`)}catch(r){console.warn(`Error executing oxigraph query for property lookup by iri of: ${i}, error: ${r}`)}else console.warn("Attempted lookup by iri of: "+i+" but iri has no ':' char");return console.info(n+" <- "+e),n}var Df={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Df.exports;(function(i,e){(function(){var t,n="4.17.21",r=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",l="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",f=500,h="__lodash_placeholder__",v=1,p=2,d=4,_=1,g=2,b=1,D=2,B=4,S=8,O=16,y=32,N=64,T=128,q=256,F=512,j=30,A="...",L=800,k=16,R=1,K=2,z=3,fe=1/0,re=9007199254740991,te=17976931348623157e292,G=NaN,Q=4294967295,pe=Q-1,J=Q>>>1,_e=[["ary",T],["bind",b],["bindKey",D],["curry",S],["curryRight",O],["flip",F],["partial",y],["partialRight",N],["rearg",q]],tt="[object Arguments]",rt="[object Array]",Pe="[object AsyncFunction]",je="[object Boolean]",ke="[object Date]",He="[object DOMException]",ot="[object Error]",kt="[object Function]",Re="[object GeneratorFunction]",le="[object Map]",Ue="[object Number]",sr="[object Null]",Yt="[object Object]",Tr="[object Promise]",nr="[object Proxy]",Nr="[object RegExp]",fr="[object Set]",mt="[object String]",Dt="[object Symbol]",nt="[object Undefined]",pt="[object WeakMap]",ze="[object WeakSet]",W="[object ArrayBuffer]",P="[object DataView]",M="[object Float32Array]",ee="[object Float64Array]",we="[object Int8Array]",Le="[object Int16Array]",Ve="[object Int32Array]",Nt="[object Uint8Array]",qt="[object Uint8ClampedArray]",At="[object Uint16Array]",Mt="[object Uint32Array]",er=/\b__p \+= '';/g,Pi=/\b(__p \+=) '' \+/g,Fs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Nn=/&(?:amp|lt|gt|quot|#39);/g,Fi=/[&<>"']/g,kl=RegExp(Nn.source),Oi=RegExp(Fi.source),Cl=/<%-([\s\S]+?)%>/g,Os=/<%([\s\S]+?)%>/g,Ls=/<%=([\s\S]+?)%>/g,Da=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ja=/^\w*$/,Tl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Aa=/[\\^$.*+?()[\]{}|]/g,Nl=RegExp(Aa.source),hn=/^\s+/,Ee=/\s/,de=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ce=/\{\n\/\* \[wrapped with (.+)\] \*/,xe=/,? & /,Me=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,bt=/[()=,{}\[\]\/\s]/,ct=/\\(\\)?/g,Ct=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pr=/\w*$/,Br=/^[-+]0x[0-9a-f]+$/i,Wt=/^0b[01]+$/i,cr=/^\[object .+?Constructor\]$/,Sr=/^0o[0-7]+$/i,Ot=/^(?:0|[1-9]\d*)$/,hr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_r=/($^)/,mr=/['\n\r\u2028\u2029\\]/g,bn="\\ud800-\\udfff",sn="\\u0300-\\u036f",ln="\\ufe20-\\ufe2f",Li="\\u20d0-\\u20ff",ei=sn+ln+Li,on="\\u2700-\\u27bf",wn="a-z\\xdf-\\xf6\\xf8-\\xff",wi="\\xac\\xb1\\xd7\\xf7",dn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ti="\\u2000-\\u206f",Za=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ka="A-Z\\xc0-\\xd6\\xd8-\\xde",ri="\\ufe0e\\ufe0f",ni=wi+dn+ti+Za,yi="[']",es="["+bn+"]",Bi="["+ni+"]",Vn="["+ei+"]",Hn="\\d+",ii="["+on+"]",ts="["+wn+"]",Sl="[^"+bn+ni+Hn+on+wn+ka+"]",Bs="\\ud83c[\\udffb-\\udfff]",qo="(?:"+Vn+"|"+Bs+")",Il="[^"+bn+"]",Ca="(?:\\ud83c[\\udde6-\\uddff]){2}",Us="[\\ud800-\\udbff][\\udc00-\\udfff]",un="["+ka+"]",$n="\\u200d",rs="(?:"+ts+"|"+Sl+")",jo="(?:"+un+"|"+Sl+")",Rl="(?:"+yi+"(?:d|ll|m|re|s|t|ve))?",Pl="(?:"+yi+"(?:D|LL|M|RE|S|T|VE))?",Fl=qo+"?",xo="["+ri+"]?",Vf="(?:"+$n+"(?:"+[Il,Ca,Us].join("|")+")"+xo+Fl+")*",zo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Hf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Vo=xo+Fl+Vf,Ho="(?:"+[ii,Ca,Us].join("|")+")"+Vo,$f="(?:"+[Il+Vn+"?",Vn,Ca,Us,es].join("|")+")",Gf=RegExp(yi,"g"),$o=RegExp(Vn,"g"),Ol=RegExp(Bs+"(?="+Bs+")|"+$f+Vo,"g"),Xf=RegExp([un+"?"+ts+"+"+Rl+"(?="+[Bi,un,"$"].join("|")+")",jo+"+"+Pl+"(?="+[Bi,un+rs,"$"].join("|")+")",un+"?"+rs+"+"+Rl,un+"+"+Pl,Hf,zo,Hn,Ho].join("|"),"g"),Go=RegExp("["+$n+bn+ei+ri+"]"),Wf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xo=-1,Ir={};Ir[M]=Ir[ee]=Ir[we]=Ir[Le]=Ir[Ve]=Ir[Nt]=Ir[qt]=Ir[At]=Ir[Mt]=!0,Ir[tt]=Ir[rt]=Ir[W]=Ir[je]=Ir[P]=Ir[ke]=Ir[ot]=Ir[kt]=Ir[le]=Ir[Ue]=Ir[Yt]=Ir[Nr]=Ir[fr]=Ir[mt]=Ir[pt]=!1;var yr={};yr[tt]=yr[rt]=yr[W]=yr[P]=yr[je]=yr[ke]=yr[M]=yr[ee]=yr[we]=yr[Le]=yr[Ve]=yr[le]=yr[Ue]=yr[Yt]=yr[Nr]=yr[fr]=yr[mt]=yr[Dt]=yr[Nt]=yr[qt]=yr[At]=yr[Mt]=!0,yr[ot]=yr[kt]=yr[pt]=!1;var Wo={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Yf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Kf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Qo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Jf=parseFloat,Zf=parseInt,Ll=typeof ua=="object"&&ua&&ua.Object===Object&&ua,ec=typeof self=="object"&&self&&self.Object===Object&&self,Jr=Ll||ec||Function("return this")(),Ms=e&&!e.nodeType&&e,Ji=Ms&&!0&&i&&!i.nodeType&&i,Yo=Ji&&Ji.exports===Ms,Bl=Yo&&Ll.process,Sn=function(){try{var Se=Ji&&Ji.require&&Ji.require("util").types;return Se||Bl&&Bl.binding&&Bl.binding("util")}catch{}}(),Ko=Sn&&Sn.isArrayBuffer,Jo=Sn&&Sn.isDate,Zo=Sn&&Sn.isMap,eu=Sn&&Sn.isRegExp,tu=Sn&&Sn.isSet,ru=Sn&&Sn.isTypedArray;function yn(Se,Ge,qe){switch(qe.length){case 0:return Se.call(Ge);case 1:return Se.call(Ge,qe[0]);case 2:return Se.call(Ge,qe[0],qe[1]);case 3:return Se.call(Ge,qe[0],qe[1],qe[2])}return Se.apply(Ge,qe)}function tc(Se,Ge,qe,_t){for(var Ut=-1,ur=Se==null?0:Se.length;++Ut<ur;){var $r=Se[Ut];Ge(_t,$r,qe($r),Se)}return _t}function In(Se,Ge){for(var qe=-1,_t=Se==null?0:Se.length;++qe<_t&&Ge(Se[qe],qe,Se)!==!1;);return Se}function rc(Se,Ge){for(var qe=Se==null?0:Se.length;qe--&&Ge(Se[qe],qe,Se)!==!1;);return Se}function nu(Se,Ge){for(var qe=-1,_t=Se==null?0:Se.length;++qe<_t;)if(!Ge(Se[qe],qe,Se))return!1;return!0}function Ui(Se,Ge){for(var qe=-1,_t=Se==null?0:Se.length,Ut=0,ur=[];++qe<_t;){var $r=Se[qe];Ge($r,qe,Se)&&(ur[Ut++]=$r)}return ur}function qs(Se,Ge){var qe=Se==null?0:Se.length;return!!qe&&Ta(Se,Ge,0)>-1}function Ul(Se,Ge,qe){for(var _t=-1,Ut=Se==null?0:Se.length;++_t<Ut;)if(qe(Ge,Se[_t]))return!0;return!1}function Pr(Se,Ge){for(var qe=-1,_t=Se==null?0:Se.length,Ut=Array(_t);++qe<_t;)Ut[qe]=Ge(Se[qe],qe,Se);return Ut}function Mi(Se,Ge){for(var qe=-1,_t=Ge.length,Ut=Se.length;++qe<_t;)Se[Ut+qe]=Ge[qe];return Se}function js(Se,Ge,qe,_t){var Ut=-1,ur=Se==null?0:Se.length;for(_t&&ur&&(qe=Se[++Ut]);++Ut<ur;)qe=Ge(qe,Se[Ut],Ut,Se);return qe}function nc(Se,Ge,qe,_t){var Ut=Se==null?0:Se.length;for(_t&&Ut&&(qe=Se[--Ut]);Ut--;)qe=Ge(qe,Se[Ut],Ut,Se);return qe}function Ml(Se,Ge){for(var qe=-1,_t=Se==null?0:Se.length;++qe<_t;)if(Ge(Se[qe],qe,Se))return!0;return!1}var ic=Na("length");function ac(Se){return Se.split("")}function sc(Se){return Se.match(Me)||[]}function iu(Se,Ge,qe){var _t;return qe(Se,function(Ut,ur,$r){if(Ge(Ut,ur,$r))return _t=ur,!1}),_t}function xs(Se,Ge,qe,_t){for(var Ut=Se.length,ur=qe+(_t?1:-1);_t?ur--:++ur<Ut;)if(Ge(Se[ur],ur,Se))return ur;return-1}function Ta(Se,Ge,qe){return Ge===Ge?hc(Se,Ge,qe):xs(Se,C,qe)}function lc(Se,Ge,qe,_t){for(var Ut=qe-1,ur=Se.length;++Ut<ur;)if(_t(Se[Ut],Ge))return Ut;return-1}function C(Se){return Se!==Se}function ut(Se,Ge){var qe=Se==null?0:Se.length;return qe?ns(Se,Ge)/qe:G}function Na(Se){return function(Ge){return Ge==null?t:Ge[Se]}}function Rn(Se){return function(Ge){return Se==null?t:Se[Ge]}}function zs(Se,Ge,qe,_t,Ut){return Ut(Se,function(ur,$r,br){qe=_t?(_t=!1,ur):Ge(qe,ur,$r,br)}),qe}function Vs(Se,Ge){var qe=Se.length;for(Se.sort(Ge);qe--;)Se[qe]=Se[qe].value;return Se}function ns(Se,Ge){for(var qe,_t=-1,Ut=Se.length;++_t<Ut;){var ur=Ge(Se[_t]);ur!==t&&(qe=qe===t?ur:qe+ur)}return qe}function jt(Se,Ge){for(var qe=-1,_t=Array(Se);++qe<Se;)_t[qe]=Ge(qe);return _t}function vr(Se,Ge){return Pr(Ge,function(qe){return[qe,Se[qe]]})}function au(Se){return Se&&Se.slice(0,xl(Se)+1).replace(hn,"")}function pn(Se){return function(Ge){return Se(Ge)}}function is(Se,Ge){return Pr(Ge,function(qe){return Se[qe]})}function Oe(Se,Ge){return Se.has(Ge)}function su(Se,Ge){for(var qe=-1,_t=Se.length;++qe<_t&&Ta(Ge,Se[qe],0)>-1;);return qe}function lu(Se,Ge){for(var qe=Se.length;qe--&&Ta(Ge,Se[qe],0)>-1;);return qe}function ou(Se,Ge){for(var qe=Se.length,_t=0;qe--;)Se[qe]===Ge&&++_t;return _t}var uu=Rn(Wo),oc=Rn(Yf);function ft(Se){return"\\"+Qo[Se]}function uc(Se,Ge){return Se==null?t:Se[Ge]}function Sa(Se){return Go.test(Se)}function fc(Se){return Wf.test(Se)}function cc(Se){for(var Ge,qe=[];!(Ge=Se.next()).done;)qe.push(Ge.value);return qe}function ql(Se){var Ge=-1,qe=Array(Se.size);return Se.forEach(function(_t,Ut){qe[++Ge]=[Ut,_t]}),qe}function fu(Se,Ge){return function(qe){return Se(Ge(qe))}}function ai(Se,Ge){for(var qe=-1,_t=Se.length,Ut=0,ur=[];++qe<_t;){var $r=Se[qe];($r===Ge||$r===h)&&(Se[qe]=h,ur[Ut++]=qe)}return ur}function Ia(Se){var Ge=-1,qe=Array(Se.size);return Se.forEach(function(_t){qe[++Ge]=_t}),qe}function jl(Se){var Ge=-1,qe=Array(Se.size);return Se.forEach(function(_t){qe[++Ge]=[_t,_t]}),qe}function hc(Se,Ge,qe){for(var _t=qe-1,Ut=Se.length;++_t<Ut;)if(Se[_t]===Ge)return _t;return-1}function dc(Se,Ge,qe){for(var _t=qe+1;_t--;)if(Se[_t]===Ge)return _t;return _t}function si(Se){return Sa(Se)?pc(Se):ic(Se)}function Gn(Se){return Sa(Se)?_c(Se):ac(Se)}function xl(Se){for(var Ge=Se.length;Ge--&&Ee.test(Se.charAt(Ge)););return Ge}var cu=Rn(Kf);function pc(Se){for(var Ge=Ol.lastIndex=0;Ol.test(Se);)++Ge;return Ge}function _c(Se){return Se.match(Ol)||[]}function vc(Se){return Se.match(Xf)||[]}var zl=function Se(Ge){Ge=Ge==null?Jr:Ei.defaults(Jr.Object(),Ge,Ei.pick(Jr,Qf));var qe=Ge.Array,_t=Ge.Date,Ut=Ge.Error,ur=Ge.Function,$r=Ge.Math,br=Ge.Object,Vl=Ge.RegExp,gc=Ge.String,Pn=Ge.TypeError,Ra=qe.prototype,mc=ur.prototype,Pa=br.prototype,Hs=Ge["__core-js_shared__"],$s=mc.toString,Tt=Pa.hasOwnProperty,Fr=0,hu=function(){var o=/[^.]+$/.exec(Hs&&Hs.keys&&Hs.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),Gs=Pa.toString,du=$s.call(br),Hl=Jr._,Yr=Vl("^"+$s.call(Tt).replace(Aa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),as=Yo?Ge.Buffer:t,qi=Ge.Symbol,li=Ge.Uint8Array,pu=as?as.allocUnsafe:t,Zr=fu(br.getPrototypeOf,br),_u=br.create,vu=Pa.propertyIsEnumerable,ss=Ra.splice,$l=qi?qi.isConcatSpreadable:t,ls=qi?qi.iterator:t,ir=qi?qi.toStringTag:t,Fa=function(){try{var o=hs(br,"defineProperty");return o({},"",{}),o}catch{}}(),E=Ge.clearTimeout!==Jr.clearTimeout&&Ge.clearTimeout,x=_t&&_t.now!==Jr.Date.now&&_t.now,X=Ge.setTimeout!==Jr.setTimeout&&Ge.setTimeout,ne=$r.ceil,oe=$r.floor,ye=br.getOwnPropertySymbols,De=as?as.isBuffer:t,ce=Ge.isFinite,dt=Ra.join,dr=fu(br.keys,br),Rr=$r.max,Ur=$r.min,kb=_t.now,Cb=Ge.parseInt,Rd=$r.random,Tb=Ra.reverse,bc=hs(Ge,"DataView"),Gl=hs(Ge,"Map"),wc=hs(Ge,"Promise"),Xs=hs(Ge,"Set"),Xl=hs(Ge,"WeakMap"),Wl=hs(br,"create"),gu=Xl&&new Xl,Ws={},Nb=ds(bc),Sb=ds(Gl),Ib=ds(wc),Rb=ds(Xs),Pb=ds(Xl),mu=qi?qi.prototype:t,Ql=mu?mu.valueOf:t,Pd=mu?mu.toString:t;function Z(o){if(zr(o)&&!zt(o)&&!(o instanceof lr)){if(o instanceof oi)return o;if(Tt.call(o,"__wrapped__"))return Fp(o)}return new oi(o)}var Qs=function(){function o(){}return function(c){if(!xr(c))return{};if(_u)return _u(c);o.prototype=c;var m=new o;return o.prototype=t,m}}();function bu(){}function oi(o,c){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=t}Z.templateSettings={escape:Cl,evaluate:Os,interpolate:Ls,variable:"",imports:{_:Z}},Z.prototype=bu.prototype,Z.prototype.constructor=Z,oi.prototype=Qs(bu.prototype),oi.prototype.constructor=oi;function lr(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Q,this.__views__=[]}function Fb(){var o=new lr(this.__wrapped__);return o.__actions__=Fn(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=Fn(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=Fn(this.__views__),o}function Ob(){if(this.__filtered__){var o=new lr(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function Lb(){var o=this.__wrapped__.value(),c=this.__dir__,m=zt(o),U=c<0,Y=m?o.length:0,ie=Xw(0,Y,this.__views__),be=ie.start,Ae=ie.end,Fe=Ae-be,Ke=U?Ae:be-1,Je=this.__iteratees__,it=Je.length,ht=0,wt=Ur(Fe,this.__takeCount__);if(!m||!U&&Y==Fe&&wt==Fe)return rp(o,this.__actions__);var Lt=[];e:for(;Fe--&&ht<wt;){Ke+=c;for(var Kt=-1,Bt=o[Ke];++Kt<it;){var ar=Je[Kt],or=ar.iteratee,Qn=ar.type,An=or(Bt);if(Qn==K)Bt=An;else if(!An){if(Qn==R)continue e;break e}}Lt[ht++]=Bt}return Lt}lr.prototype=Qs(bu.prototype),lr.prototype.constructor=lr;function os(o){var c=-1,m=o==null?0:o.length;for(this.clear();++c<m;){var U=o[c];this.set(U[0],U[1])}}function Bb(){this.__data__=Wl?Wl(null):{},this.size=0}function Ub(o){var c=this.has(o)&&delete this.__data__[o];return this.size-=c?1:0,c}function Mb(o){var c=this.__data__;if(Wl){var m=c[o];return m===u?t:m}return Tt.call(c,o)?c[o]:t}function qb(o){var c=this.__data__;return Wl?c[o]!==t:Tt.call(c,o)}function jb(o,c){var m=this.__data__;return this.size+=this.has(o)?0:1,m[o]=Wl&&c===t?u:c,this}os.prototype.clear=Bb,os.prototype.delete=Ub,os.prototype.get=Mb,os.prototype.has=qb,os.prototype.set=jb;function Zi(o){var c=-1,m=o==null?0:o.length;for(this.clear();++c<m;){var U=o[c];this.set(U[0],U[1])}}function xb(){this.__data__=[],this.size=0}function zb(o){var c=this.__data__,m=wu(c,o);if(m<0)return!1;var U=c.length-1;return m==U?c.pop():ss.call(c,m,1),--this.size,!0}function Vb(o){var c=this.__data__,m=wu(c,o);return m<0?t:c[m][1]}function Hb(o){return wu(this.__data__,o)>-1}function $b(o,c){var m=this.__data__,U=wu(m,o);return U<0?(++this.size,m.push([o,c])):m[U][1]=c,this}Zi.prototype.clear=xb,Zi.prototype.delete=zb,Zi.prototype.get=Vb,Zi.prototype.has=Hb,Zi.prototype.set=$b;function ea(o){var c=-1,m=o==null?0:o.length;for(this.clear();++c<m;){var U=o[c];this.set(U[0],U[1])}}function Gb(){this.size=0,this.__data__={hash:new os,map:new(Gl||Zi),string:new os}}function Xb(o){var c=Pu(this,o).delete(o);return this.size-=c?1:0,c}function Wb(o){return Pu(this,o).get(o)}function Qb(o){return Pu(this,o).has(o)}function Yb(o,c){var m=Pu(this,o),U=m.size;return m.set(o,c),this.size+=m.size==U?0:1,this}ea.prototype.clear=Gb,ea.prototype.delete=Xb,ea.prototype.get=Wb,ea.prototype.has=Qb,ea.prototype.set=Yb;function us(o){var c=-1,m=o==null?0:o.length;for(this.__data__=new ea;++c<m;)this.add(o[c])}function Kb(o){return this.__data__.set(o,u),this}function Jb(o){return this.__data__.has(o)}us.prototype.add=us.prototype.push=Kb,us.prototype.has=Jb;function Di(o){var c=this.__data__=new Zi(o);this.size=c.size}function Zb(){this.__data__=new Zi,this.size=0}function ew(o){var c=this.__data__,m=c.delete(o);return this.size=c.size,m}function tw(o){return this.__data__.get(o)}function rw(o){return this.__data__.has(o)}function nw(o,c){var m=this.__data__;if(m instanceof Zi){var U=m.__data__;if(!Gl||U.length<r-1)return U.push([o,c]),this.size=++m.size,this;m=this.__data__=new ea(U)}return m.set(o,c),this.size=m.size,this}Di.prototype.clear=Zb,Di.prototype.delete=ew,Di.prototype.get=tw,Di.prototype.has=rw,Di.prototype.set=nw;function Fd(o,c){var m=zt(o),U=!m&&ps(o),Y=!m&&!U&&Ma(o),ie=!m&&!U&&!Y&&Zs(o),be=m||U||Y||ie,Ae=be?jt(o.length,gc):[],Fe=Ae.length;for(var Ke in o)(c||Tt.call(o,Ke))&&!(be&&(Ke=="length"||Y&&(Ke=="offset"||Ke=="parent")||ie&&(Ke=="buffer"||Ke=="byteLength"||Ke=="byteOffset")||ia(Ke,Fe)))&&Ae.push(Ke);return Ae}function Od(o){var c=o.length;return c?o[Rc(0,c-1)]:t}function iw(o,c){return Fu(Fn(o),fs(c,0,o.length))}function aw(o){return Fu(Fn(o))}function yc(o,c,m){(m!==t&&!Ai(o[c],m)||m===t&&!(c in o))&&ta(o,c,m)}function Yl(o,c,m){var U=o[c];(!(Tt.call(o,c)&&Ai(U,m))||m===t&&!(c in o))&&ta(o,c,m)}function wu(o,c){for(var m=o.length;m--;)if(Ai(o[m][0],c))return m;return-1}function sw(o,c,m,U){return Oa(o,function(Y,ie,be){c(U,Y,m(Y),be)}),U}function Ld(o,c){return o&&xi(c,en(c),o)}function lw(o,c){return o&&xi(c,Ln(c),o)}function ta(o,c,m){c=="__proto__"&&Fa?Fa(o,c,{configurable:!0,enumerable:!0,value:m,writable:!0}):o[c]=m}function Ec(o,c){for(var m=-1,U=c.length,Y=qe(U),ie=o==null;++m<U;)Y[m]=ie?t:rh(o,c[m]);return Y}function fs(o,c,m){return o===o&&(m!==t&&(o=o<=m?o:m),c!==t&&(o=o>=c?o:c)),o}function ui(o,c,m,U,Y,ie){var be,Ae=c&v,Fe=c&p,Ke=c&d;if(m&&(be=Y?m(o,U,Y,ie):m(o)),be!==t)return be;if(!xr(o))return o;var Je=zt(o);if(Je){if(be=Qw(o),!Ae)return Fn(o,be)}else{var it=_n(o),ht=it==kt||it==Re;if(Ma(o))return ap(o,Ae);if(it==Yt||it==tt||ht&&!Y){if(be=Fe||ht?{}:Ap(o),!Ae)return Fe?Mw(o,lw(be,o)):Uw(o,Ld(be,o))}else{if(!yr[it])return Y?o:{};be=Yw(o,it,Ae)}}ie||(ie=new Di);var wt=ie.get(o);if(wt)return wt;ie.set(o,be),Zp(o)?o.forEach(function(Bt){be.add(ui(Bt,c,m,Bt,o,ie))}):Kp(o)&&o.forEach(function(Bt,ar){be.set(ar,ui(Bt,c,m,ar,o,ie))});var Lt=Ke?Fe?zc:xc:Fe?Ln:en,Kt=Je?t:Lt(o);return In(Kt||o,function(Bt,ar){Kt&&(ar=Bt,Bt=o[ar]),Yl(be,ar,ui(Bt,c,m,ar,o,ie))}),be}function ow(o){var c=en(o);return function(m){return Bd(m,o,c)}}function Bd(o,c,m){var U=m.length;if(o==null)return!U;for(o=br(o);U--;){var Y=m[U],ie=c[Y],be=o[Y];if(be===t&&!(Y in o)||!ie(be))return!1}return!0}function Ud(o,c,m){if(typeof o!="function")throw new Pn(a);return no(function(){o.apply(t,m)},c)}function Kl(o,c,m,U){var Y=-1,ie=qs,be=!0,Ae=o.length,Fe=[],Ke=c.length;if(!Ae)return Fe;m&&(c=Pr(c,pn(m))),U?(ie=Ul,be=!1):c.length>=r&&(ie=Oe,be=!1,c=new us(c));e:for(;++Y<Ae;){var Je=o[Y],it=m==null?Je:m(Je);if(Je=U||Je!==0?Je:0,be&&it===it){for(var ht=Ke;ht--;)if(c[ht]===it)continue e;Fe.push(Je)}else ie(c,it,U)||Fe.push(Je)}return Fe}var Oa=fp(ji),Md=fp(Ac,!0);function uw(o,c){var m=!0;return Oa(o,function(U,Y,ie){return m=!!c(U,Y,ie),m}),m}function yu(o,c,m){for(var U=-1,Y=o.length;++U<Y;){var ie=o[U],be=c(ie);if(be!=null&&(Ae===t?be===be&&!Wn(be):m(be,Ae)))var Ae=be,Fe=ie}return Fe}function fw(o,c,m,U){var Y=o.length;for(m=Qt(m),m<0&&(m=-m>Y?0:Y+m),U=U===t||U>Y?Y:Qt(U),U<0&&(U+=Y),U=m>U?0:t_(U);m<U;)o[m++]=c;return o}function qd(o,c){var m=[];return Oa(o,function(U,Y,ie){c(U,Y,ie)&&m.push(U)}),m}function fn(o,c,m,U,Y){var ie=-1,be=o.length;for(m||(m=Jw),Y||(Y=[]);++ie<be;){var Ae=o[ie];c>0&&m(Ae)?c>1?fn(Ae,c-1,m,U,Y):Mi(Y,Ae):U||(Y[Y.length]=Ae)}return Y}var Dc=cp(),jd=cp(!0);function ji(o,c){return o&&Dc(o,c,en)}function Ac(o,c){return o&&jd(o,c,en)}function Eu(o,c){return Ui(c,function(m){return aa(o[m])})}function cs(o,c){c=Ba(c,o);for(var m=0,U=c.length;o!=null&&m<U;)o=o[zi(c[m++])];return m&&m==U?o:t}function xd(o,c,m){var U=c(o);return zt(o)?U:Mi(U,m(o))}function En(o){return o==null?o===t?nt:sr:ir&&ir in br(o)?Gw(o):ay(o)}function kc(o,c){return o>c}function cw(o,c){return o!=null&&Tt.call(o,c)}function hw(o,c){return o!=null&&c in br(o)}function dw(o,c,m){return o>=Ur(c,m)&&o<Rr(c,m)}function Cc(o,c,m){for(var U=m?Ul:qs,Y=o[0].length,ie=o.length,be=ie,Ae=qe(ie),Fe=1/0,Ke=[];be--;){var Je=o[be];be&&c&&(Je=Pr(Je,pn(c))),Fe=Ur(Je.length,Fe),Ae[be]=!m&&(c||Y>=120&&Je.length>=120)?new us(be&&Je):t}Je=o[0];var it=-1,ht=Ae[0];e:for(;++it<Y&&Ke.length<Fe;){var wt=Je[it],Lt=c?c(wt):wt;if(wt=m||wt!==0?wt:0,!(ht?Oe(ht,Lt):U(Ke,Lt,m))){for(be=ie;--be;){var Kt=Ae[be];if(!(Kt?Oe(Kt,Lt):U(o[be],Lt,m)))continue e}ht&&ht.push(Lt),Ke.push(wt)}}return Ke}function pw(o,c,m,U){return ji(o,function(Y,ie,be){c(U,m(Y),ie,be)}),U}function Jl(o,c,m){c=Ba(c,o),o=Np(o,c);var U=o==null?o:o[zi(ci(c))];return U==null?t:yn(U,o,m)}function zd(o){return zr(o)&&En(o)==tt}function _w(o){return zr(o)&&En(o)==W}function vw(o){return zr(o)&&En(o)==ke}function Zl(o,c,m,U,Y){return o===c?!0:o==null||c==null||!zr(o)&&!zr(c)?o!==o&&c!==c:gw(o,c,m,U,Zl,Y)}function gw(o,c,m,U,Y,ie){var be=zt(o),Ae=zt(c),Fe=be?rt:_n(o),Ke=Ae?rt:_n(c);Fe=Fe==tt?Yt:Fe,Ke=Ke==tt?Yt:Ke;var Je=Fe==Yt,it=Ke==Yt,ht=Fe==Ke;if(ht&&Ma(o)){if(!Ma(c))return!1;be=!0,Je=!1}if(ht&&!Je)return ie||(ie=new Di),be||Zs(o)?yp(o,c,m,U,Y,ie):Hw(o,c,Fe,m,U,Y,ie);if(!(m&_)){var wt=Je&&Tt.call(o,"__wrapped__"),Lt=it&&Tt.call(c,"__wrapped__");if(wt||Lt){var Kt=wt?o.value():o,Bt=Lt?c.value():c;return ie||(ie=new Di),Y(Kt,Bt,m,U,ie)}}return ht?(ie||(ie=new Di),$w(o,c,m,U,Y,ie)):!1}function mw(o){return zr(o)&&_n(o)==le}function Tc(o,c,m,U){var Y=m.length,ie=Y,be=!U;if(o==null)return!ie;for(o=br(o);Y--;){var Ae=m[Y];if(be&&Ae[2]?Ae[1]!==o[Ae[0]]:!(Ae[0]in o))return!1}for(;++Y<ie;){Ae=m[Y];var Fe=Ae[0],Ke=o[Fe],Je=Ae[1];if(be&&Ae[2]){if(Ke===t&&!(Fe in o))return!1}else{var it=new Di;if(U)var ht=U(Ke,Je,Fe,o,c,it);if(!(ht===t?Zl(Je,Ke,_|g,U,it):ht))return!1}}return!0}function Vd(o){if(!xr(o)||ey(o))return!1;var c=aa(o)?Yr:cr;return c.test(ds(o))}function bw(o){return zr(o)&&En(o)==Nr}function ww(o){return zr(o)&&_n(o)==fr}function yw(o){return zr(o)&&qu(o.length)&&!!Ir[En(o)]}function Hd(o){return typeof o=="function"?o:o==null?Bn:typeof o=="object"?zt(o)?Xd(o[0],o[1]):Gd(o):h_(o)}function Nc(o){if(!ro(o))return dr(o);var c=[];for(var m in br(o))Tt.call(o,m)&&m!="constructor"&&c.push(m);return c}function Ew(o){if(!xr(o))return iy(o);var c=ro(o),m=[];for(var U in o)U=="constructor"&&(c||!Tt.call(o,U))||m.push(U);return m}function Sc(o,c){return o<c}function $d(o,c){var m=-1,U=On(o)?qe(o.length):[];return Oa(o,function(Y,ie,be){U[++m]=c(Y,ie,be)}),U}function Gd(o){var c=Hc(o);return c.length==1&&c[0][2]?Cp(c[0][0],c[0][1]):function(m){return m===o||Tc(m,o,c)}}function Xd(o,c){return Gc(o)&&kp(c)?Cp(zi(o),c):function(m){var U=rh(m,o);return U===t&&U===c?nh(m,o):Zl(c,U,_|g)}}function Du(o,c,m,U,Y){o!==c&&Dc(c,function(ie,be){if(Y||(Y=new Di),xr(ie))Dw(o,c,be,m,Du,U,Y);else{var Ae=U?U(Wc(o,be),ie,be+"",o,c,Y):t;Ae===t&&(Ae=ie),yc(o,be,Ae)}},Ln)}function Dw(o,c,m,U,Y,ie,be){var Ae=Wc(o,m),Fe=Wc(c,m),Ke=be.get(Fe);if(Ke){yc(o,m,Ke);return}var Je=ie?ie(Ae,Fe,m+"",o,c,be):t,it=Je===t;if(it){var ht=zt(Fe),wt=!ht&&Ma(Fe),Lt=!ht&&!wt&&Zs(Fe);Je=Fe,ht||wt||Lt?zt(Ae)?Je=Ae:Gr(Ae)?Je=Fn(Ae):wt?(it=!1,Je=ap(Fe,!0)):Lt?(it=!1,Je=sp(Fe,!0)):Je=[]:io(Fe)||ps(Fe)?(Je=Ae,ps(Ae)?Je=r_(Ae):(!xr(Ae)||aa(Ae))&&(Je=Ap(Fe))):it=!1}it&&(be.set(Fe,Je),Y(Je,Fe,U,ie,be),be.delete(Fe)),yc(o,m,Je)}function Wd(o,c){var m=o.length;if(m)return c+=c<0?m:0,ia(c,m)?o[c]:t}function Qd(o,c,m){c.length?c=Pr(c,function(ie){return zt(ie)?function(be){return cs(be,ie.length===1?ie[0]:ie)}:ie}):c=[Bn];var U=-1;c=Pr(c,pn(Ft()));var Y=$d(o,function(ie,be,Ae){var Fe=Pr(c,function(Ke){return Ke(ie)});return{criteria:Fe,index:++U,value:ie}});return Vs(Y,function(ie,be){return Bw(ie,be,m)})}function Aw(o,c){return Yd(o,c,function(m,U){return nh(o,U)})}function Yd(o,c,m){for(var U=-1,Y=c.length,ie={};++U<Y;){var be=c[U],Ae=cs(o,be);m(Ae,be)&&eo(ie,Ba(be,o),Ae)}return ie}function kw(o){return function(c){return cs(c,o)}}function Ic(o,c,m,U){var Y=U?lc:Ta,ie=-1,be=c.length,Ae=o;for(o===c&&(c=Fn(c)),m&&(Ae=Pr(o,pn(m)));++ie<be;)for(var Fe=0,Ke=c[ie],Je=m?m(Ke):Ke;(Fe=Y(Ae,Je,Fe,U))>-1;)Ae!==o&&ss.call(Ae,Fe,1),ss.call(o,Fe,1);return o}function Kd(o,c){for(var m=o?c.length:0,U=m-1;m--;){var Y=c[m];if(m==U||Y!==ie){var ie=Y;ia(Y)?ss.call(o,Y,1):Oc(o,Y)}}return o}function Rc(o,c){return o+oe(Rd()*(c-o+1))}function Cw(o,c,m,U){for(var Y=-1,ie=Rr(ne((c-o)/(m||1)),0),be=qe(ie);ie--;)be[U?ie:++Y]=o,o+=m;return be}function Pc(o,c){var m="";if(!o||c<1||c>re)return m;do c%2&&(m+=o),c=oe(c/2),c&&(o+=o);while(c);return m}function tr(o,c){return Qc(Tp(o,c,Bn),o+"")}function Tw(o){return Od(el(o))}function Nw(o,c){var m=el(o);return Fu(m,fs(c,0,m.length))}function eo(o,c,m,U){if(!xr(o))return o;c=Ba(c,o);for(var Y=-1,ie=c.length,be=ie-1,Ae=o;Ae!=null&&++Y<ie;){var Fe=zi(c[Y]),Ke=m;if(Fe==="__proto__"||Fe==="constructor"||Fe==="prototype")return o;if(Y!=be){var Je=Ae[Fe];Ke=U?U(Je,Fe,Ae):t,Ke===t&&(Ke=xr(Je)?Je:ia(c[Y+1])?[]:{})}Yl(Ae,Fe,Ke),Ae=Ae[Fe]}return o}var Jd=gu?function(o,c){return gu.set(o,c),o}:Bn,Sw=Fa?function(o,c){return Fa(o,"toString",{configurable:!0,enumerable:!1,value:ah(c),writable:!0})}:Bn;function Iw(o){return Fu(el(o))}function fi(o,c,m){var U=-1,Y=o.length;c<0&&(c=-c>Y?0:Y+c),m=m>Y?Y:m,m<0&&(m+=Y),Y=c>m?0:m-c>>>0,c>>>=0;for(var ie=qe(Y);++U<Y;)ie[U]=o[U+c];return ie}function Rw(o,c){var m;return Oa(o,function(U,Y,ie){return m=c(U,Y,ie),!m}),!!m}function Au(o,c,m){var U=0,Y=o==null?U:o.length;if(typeof c=="number"&&c===c&&Y<=J){for(;U<Y;){var ie=U+Y>>>1,be=o[ie];be!==null&&!Wn(be)&&(m?be<=c:be<c)?U=ie+1:Y=ie}return Y}return Fc(o,c,Bn,m)}function Fc(o,c,m,U){var Y=0,ie=o==null?0:o.length;if(ie===0)return 0;c=m(c);for(var be=c!==c,Ae=c===null,Fe=Wn(c),Ke=c===t;Y<ie;){var Je=oe((Y+ie)/2),it=m(o[Je]),ht=it!==t,wt=it===null,Lt=it===it,Kt=Wn(it);if(be)var Bt=U||Lt;else Ke?Bt=Lt&&(U||ht):Ae?Bt=Lt&&ht&&(U||!wt):Fe?Bt=Lt&&ht&&!wt&&(U||!Kt):wt||Kt?Bt=!1:Bt=U?it<=c:it<c;Bt?Y=Je+1:ie=Je}return Ur(ie,pe)}function Zd(o,c){for(var m=-1,U=o.length,Y=0,ie=[];++m<U;){var be=o[m],Ae=c?c(be):be;if(!m||!Ai(Ae,Fe)){var Fe=Ae;ie[Y++]=be===0?0:be}}return ie}function ep(o){return typeof o=="number"?o:Wn(o)?G:+o}function Xn(o){if(typeof o=="string")return o;if(zt(o))return Pr(o,Xn)+"";if(Wn(o))return Pd?Pd.call(o):"";var c=o+"";return c=="0"&&1/o==-fe?"-0":c}function La(o,c,m){var U=-1,Y=qs,ie=o.length,be=!0,Ae=[],Fe=Ae;if(m)be=!1,Y=Ul;else if(ie>=r){var Ke=c?null:zw(o);if(Ke)return Ia(Ke);be=!1,Y=Oe,Fe=new us}else Fe=c?[]:Ae;e:for(;++U<ie;){var Je=o[U],it=c?c(Je):Je;if(Je=m||Je!==0?Je:0,be&&it===it){for(var ht=Fe.length;ht--;)if(Fe[ht]===it)continue e;c&&Fe.push(it),Ae.push(Je)}else Y(Fe,it,m)||(Fe!==Ae&&Fe.push(it),Ae.push(Je))}return Ae}function Oc(o,c){return c=Ba(c,o),o=Np(o,c),o==null||delete o[zi(ci(c))]}function tp(o,c,m,U){return eo(o,c,m(cs(o,c)),U)}function ku(o,c,m,U){for(var Y=o.length,ie=U?Y:-1;(U?ie--:++ie<Y)&&c(o[ie],ie,o););return m?fi(o,U?0:ie,U?ie+1:Y):fi(o,U?ie+1:0,U?Y:ie)}function rp(o,c){var m=o;return m instanceof lr&&(m=m.value()),js(c,function(U,Y){return Y.func.apply(Y.thisArg,Mi([U],Y.args))},m)}function Lc(o,c,m){var U=o.length;if(U<2)return U?La(o[0]):[];for(var Y=-1,ie=qe(U);++Y<U;)for(var be=o[Y],Ae=-1;++Ae<U;)Ae!=Y&&(ie[Y]=Kl(ie[Y]||be,o[Ae],c,m));return La(fn(ie,1),c,m)}function np(o,c,m){for(var U=-1,Y=o.length,ie=c.length,be={};++U<Y;){var Ae=U<ie?c[U]:t;m(be,o[U],Ae)}return be}function Bc(o){return Gr(o)?o:[]}function Uc(o){return typeof o=="function"?o:Bn}function Ba(o,c){return zt(o)?o:Gc(o,c)?[o]:Pp(gr(o))}var Pw=tr;function Ua(o,c,m){var U=o.length;return m=m===t?U:m,!c&&m>=U?o:fi(o,c,m)}var ip=E||function(o){return Jr.clearTimeout(o)};function ap(o,c){if(c)return o.slice();var m=o.length,U=pu?pu(m):new o.constructor(m);return o.copy(U),U}function Mc(o){var c=new o.constructor(o.byteLength);return new li(c).set(new li(o)),c}function Fw(o,c){var m=c?Mc(o.buffer):o.buffer;return new o.constructor(m,o.byteOffset,o.byteLength)}function Ow(o){var c=new o.constructor(o.source,pr.exec(o));return c.lastIndex=o.lastIndex,c}function Lw(o){return Ql?br(Ql.call(o)):{}}function sp(o,c){var m=c?Mc(o.buffer):o.buffer;return new o.constructor(m,o.byteOffset,o.length)}function lp(o,c){if(o!==c){var m=o!==t,U=o===null,Y=o===o,ie=Wn(o),be=c!==t,Ae=c===null,Fe=c===c,Ke=Wn(c);if(!Ae&&!Ke&&!ie&&o>c||ie&&be&&Fe&&!Ae&&!Ke||U&&be&&Fe||!m&&Fe||!Y)return 1;if(!U&&!ie&&!Ke&&o<c||Ke&&m&&Y&&!U&&!ie||Ae&&m&&Y||!be&&Y||!Fe)return-1}return 0}function Bw(o,c,m){for(var U=-1,Y=o.criteria,ie=c.criteria,be=Y.length,Ae=m.length;++U<be;){var Fe=lp(Y[U],ie[U]);if(Fe){if(U>=Ae)return Fe;var Ke=m[U];return Fe*(Ke=="desc"?-1:1)}}return o.index-c.index}function op(o,c,m,U){for(var Y=-1,ie=o.length,be=m.length,Ae=-1,Fe=c.length,Ke=Rr(ie-be,0),Je=qe(Fe+Ke),it=!U;++Ae<Fe;)Je[Ae]=c[Ae];for(;++Y<be;)(it||Y<ie)&&(Je[m[Y]]=o[Y]);for(;Ke--;)Je[Ae++]=o[Y++];return Je}function up(o,c,m,U){for(var Y=-1,ie=o.length,be=-1,Ae=m.length,Fe=-1,Ke=c.length,Je=Rr(ie-Ae,0),it=qe(Je+Ke),ht=!U;++Y<Je;)it[Y]=o[Y];for(var wt=Y;++Fe<Ke;)it[wt+Fe]=c[Fe];for(;++be<Ae;)(ht||Y<ie)&&(it[wt+m[be]]=o[Y++]);return it}function Fn(o,c){var m=-1,U=o.length;for(c||(c=qe(U));++m<U;)c[m]=o[m];return c}function xi(o,c,m,U){var Y=!m;m||(m={});for(var ie=-1,be=c.length;++ie<be;){var Ae=c[ie],Fe=U?U(m[Ae],o[Ae],Ae,m,o):t;Fe===t&&(Fe=o[Ae]),Y?ta(m,Ae,Fe):Yl(m,Ae,Fe)}return m}function Uw(o,c){return xi(o,$c(o),c)}function Mw(o,c){return xi(o,Ep(o),c)}function Cu(o,c){return function(m,U){var Y=zt(m)?tc:sw,ie=c?c():{};return Y(m,o,Ft(U,2),ie)}}function Ys(o){return tr(function(c,m){var U=-1,Y=m.length,ie=Y>1?m[Y-1]:t,be=Y>2?m[2]:t;for(ie=o.length>3&&typeof ie=="function"?(Y--,ie):t,be&&Dn(m[0],m[1],be)&&(ie=Y<3?t:ie,Y=1),c=br(c);++U<Y;){var Ae=m[U];Ae&&o(c,Ae,U,ie)}return c})}function fp(o,c){return function(m,U){if(m==null)return m;if(!On(m))return o(m,U);for(var Y=m.length,ie=c?Y:-1,be=br(m);(c?ie--:++ie<Y)&&U(be[ie],ie,be)!==!1;);return m}}function cp(o){return function(c,m,U){for(var Y=-1,ie=br(c),be=U(c),Ae=be.length;Ae--;){var Fe=be[o?Ae:++Y];if(m(ie[Fe],Fe,ie)===!1)break}return c}}function qw(o,c,m){var U=c&b,Y=to(o);function ie(){var be=this&&this!==Jr&&this instanceof ie?Y:o;return be.apply(U?m:this,arguments)}return ie}function hp(o){return function(c){c=gr(c);var m=Sa(c)?Gn(c):t,U=m?m[0]:c.charAt(0),Y=m?Ua(m,1).join(""):c.slice(1);return U[o]()+Y}}function Ks(o){return function(c){return js(f_(u_(c).replace(Gf,"")),o,"")}}function to(o){return function(){var c=arguments;switch(c.length){case 0:return new o;case 1:return new o(c[0]);case 2:return new o(c[0],c[1]);case 3:return new o(c[0],c[1],c[2]);case 4:return new o(c[0],c[1],c[2],c[3]);case 5:return new o(c[0],c[1],c[2],c[3],c[4]);case 6:return new o(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new o(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var m=Qs(o.prototype),U=o.apply(m,c);return xr(U)?U:m}}function jw(o,c,m){var U=to(o);function Y(){for(var ie=arguments.length,be=qe(ie),Ae=ie,Fe=Js(Y);Ae--;)be[Ae]=arguments[Ae];var Ke=ie<3&&be[0]!==Fe&&be[ie-1]!==Fe?[]:ai(be,Fe);if(ie-=Ke.length,ie<m)return gp(o,c,Tu,Y.placeholder,t,be,Ke,t,t,m-ie);var Je=this&&this!==Jr&&this instanceof Y?U:o;return yn(Je,this,be)}return Y}function dp(o){return function(c,m,U){var Y=br(c);if(!On(c)){var ie=Ft(m,3);c=en(c),m=function(Ae){return ie(Y[Ae],Ae,Y)}}var be=o(c,m,U);return be>-1?Y[ie?c[be]:be]:t}}function pp(o){return na(function(c){var m=c.length,U=m,Y=oi.prototype.thru;for(o&&c.reverse();U--;){var ie=c[U];if(typeof ie!="function")throw new Pn(a);if(Y&&!be&&Ru(ie)=="wrapper")var be=new oi([],!0)}for(U=be?U:m;++U<m;){ie=c[U];var Ae=Ru(ie),Fe=Ae=="wrapper"?Vc(ie):t;Fe&&Xc(Fe[0])&&Fe[1]==(T|S|y|q)&&!Fe[4].length&&Fe[9]==1?be=be[Ru(Fe[0])].apply(be,Fe[3]):be=ie.length==1&&Xc(ie)?be[Ae]():be.thru(ie)}return function(){var Ke=arguments,Je=Ke[0];if(be&&Ke.length==1&&zt(Je))return be.plant(Je).value();for(var it=0,ht=m?c[it].apply(this,Ke):Je;++it<m;)ht=c[it].call(this,ht);return ht}})}function Tu(o,c,m,U,Y,ie,be,Ae,Fe,Ke){var Je=c&T,it=c&b,ht=c&D,wt=c&(S|O),Lt=c&F,Kt=ht?t:to(o);function Bt(){for(var ar=arguments.length,or=qe(ar),Qn=ar;Qn--;)or[Qn]=arguments[Qn];if(wt)var An=Js(Bt),Yn=ou(or,An);if(U&&(or=op(or,U,Y,wt)),ie&&(or=up(or,ie,be,wt)),ar-=Yn,wt&&ar<Ke){var Xr=ai(or,An);return gp(o,c,Tu,Bt.placeholder,m,or,Xr,Ae,Fe,Ke-ar)}var ki=it?m:this,la=ht?ki[o]:o;return ar=or.length,Ae?or=sy(or,Ae):Lt&&ar>1&&or.reverse(),Je&&Fe<ar&&(or.length=Fe),this&&this!==Jr&&this instanceof Bt&&(la=Kt||to(la)),la.apply(ki,or)}return Bt}function _p(o,c){return function(m,U){return pw(m,o,c(U),{})}}function Nu(o,c){return function(m,U){var Y;if(m===t&&U===t)return c;if(m!==t&&(Y=m),U!==t){if(Y===t)return U;typeof m=="string"||typeof U=="string"?(m=Xn(m),U=Xn(U)):(m=ep(m),U=ep(U)),Y=o(m,U)}return Y}}function qc(o){return na(function(c){return c=Pr(c,pn(Ft())),tr(function(m){var U=this;return o(c,function(Y){return yn(Y,U,m)})})})}function Su(o,c){c=c===t?" ":Xn(c);var m=c.length;if(m<2)return m?Pc(c,o):c;var U=Pc(c,ne(o/si(c)));return Sa(c)?Ua(Gn(U),0,o).join(""):U.slice(0,o)}function xw(o,c,m,U){var Y=c&b,ie=to(o);function be(){for(var Ae=-1,Fe=arguments.length,Ke=-1,Je=U.length,it=qe(Je+Fe),ht=this&&this!==Jr&&this instanceof be?ie:o;++Ke<Je;)it[Ke]=U[Ke];for(;Fe--;)it[Ke++]=arguments[++Ae];return yn(ht,Y?m:this,it)}return be}function vp(o){return function(c,m,U){return U&&typeof U!="number"&&Dn(c,m,U)&&(m=U=t),c=sa(c),m===t?(m=c,c=0):m=sa(m),U=U===t?c<m?1:-1:sa(U),Cw(c,m,U,o)}}function Iu(o){return function(c,m){return typeof c=="string"&&typeof m=="string"||(c=hi(c),m=hi(m)),o(c,m)}}function gp(o,c,m,U,Y,ie,be,Ae,Fe,Ke){var Je=c&S,it=Je?be:t,ht=Je?t:be,wt=Je?ie:t,Lt=Je?t:ie;c|=Je?y:N,c&=~(Je?N:y),c&B||(c&=~(b|D));var Kt=[o,c,Y,wt,it,Lt,ht,Ae,Fe,Ke],Bt=m.apply(t,Kt);return Xc(o)&&Sp(Bt,Kt),Bt.placeholder=U,Ip(Bt,o,c)}function jc(o){var c=$r[o];return function(m,U){if(m=hi(m),U=U==null?0:Ur(Qt(U),292),U&&ce(m)){var Y=(gr(m)+"e").split("e"),ie=c(Y[0]+"e"+(+Y[1]+U));return Y=(gr(ie)+"e").split("e"),+(Y[0]+"e"+(+Y[1]-U))}return c(m)}}var zw=Xs&&1/Ia(new Xs([,-0]))[1]==fe?function(o){return new Xs(o)}:oh;function mp(o){return function(c){var m=_n(c);return m==le?ql(c):m==fr?jl(c):vr(c,o(c))}}function ra(o,c,m,U,Y,ie,be,Ae){var Fe=c&D;if(!Fe&&typeof o!="function")throw new Pn(a);var Ke=U?U.length:0;if(Ke||(c&=~(y|N),U=Y=t),be=be===t?be:Rr(Qt(be),0),Ae=Ae===t?Ae:Qt(Ae),Ke-=Y?Y.length:0,c&N){var Je=U,it=Y;U=Y=t}var ht=Fe?t:Vc(o),wt=[o,c,m,U,Y,Je,it,ie,be,Ae];if(ht&&ny(wt,ht),o=wt[0],c=wt[1],m=wt[2],U=wt[3],Y=wt[4],Ae=wt[9]=wt[9]===t?Fe?0:o.length:Rr(wt[9]-Ke,0),!Ae&&c&(S|O)&&(c&=~(S|O)),!c||c==b)var Lt=qw(o,c,m);else c==S||c==O?Lt=jw(o,c,Ae):(c==y||c==(b|y))&&!Y.length?Lt=xw(o,c,m,U):Lt=Tu.apply(t,wt);var Kt=ht?Jd:Sp;return Ip(Kt(Lt,wt),o,c)}function bp(o,c,m,U){return o===t||Ai(o,Pa[m])&&!Tt.call(U,m)?c:o}function wp(o,c,m,U,Y,ie){return xr(o)&&xr(c)&&(ie.set(c,o),Du(o,c,t,wp,ie),ie.delete(c)),o}function Vw(o){return io(o)?t:o}function yp(o,c,m,U,Y,ie){var be=m&_,Ae=o.length,Fe=c.length;if(Ae!=Fe&&!(be&&Fe>Ae))return!1;var Ke=ie.get(o),Je=ie.get(c);if(Ke&&Je)return Ke==c&&Je==o;var it=-1,ht=!0,wt=m&g?new us:t;for(ie.set(o,c),ie.set(c,o);++it<Ae;){var Lt=o[it],Kt=c[it];if(U)var Bt=be?U(Kt,Lt,it,c,o,ie):U(Lt,Kt,it,o,c,ie);if(Bt!==t){if(Bt)continue;ht=!1;break}if(wt){if(!Ml(c,function(ar,or){if(!Oe(wt,or)&&(Lt===ar||Y(Lt,ar,m,U,ie)))return wt.push(or)})){ht=!1;break}}else if(!(Lt===Kt||Y(Lt,Kt,m,U,ie))){ht=!1;break}}return ie.delete(o),ie.delete(c),ht}function Hw(o,c,m,U,Y,ie,be){switch(m){case P:if(o.byteLength!=c.byteLength||o.byteOffset!=c.byteOffset)return!1;o=o.buffer,c=c.buffer;case W:return!(o.byteLength!=c.byteLength||!ie(new li(o),new li(c)));case je:case ke:case Ue:return Ai(+o,+c);case ot:return o.name==c.name&&o.message==c.message;case Nr:case mt:return o==c+"";case le:var Ae=ql;case fr:var Fe=U&_;if(Ae||(Ae=Ia),o.size!=c.size&&!Fe)return!1;var Ke=be.get(o);if(Ke)return Ke==c;U|=g,be.set(o,c);var Je=yp(Ae(o),Ae(c),U,Y,ie,be);return be.delete(o),Je;case Dt:if(Ql)return Ql.call(o)==Ql.call(c)}return!1}function $w(o,c,m,U,Y,ie){var be=m&_,Ae=xc(o),Fe=Ae.length,Ke=xc(c),Je=Ke.length;if(Fe!=Je&&!be)return!1;for(var it=Fe;it--;){var ht=Ae[it];if(!(be?ht in c:Tt.call(c,ht)))return!1}var wt=ie.get(o),Lt=ie.get(c);if(wt&&Lt)return wt==c&&Lt==o;var Kt=!0;ie.set(o,c),ie.set(c,o);for(var Bt=be;++it<Fe;){ht=Ae[it];var ar=o[ht],or=c[ht];if(U)var Qn=be?U(or,ar,ht,c,o,ie):U(ar,or,ht,o,c,ie);if(!(Qn===t?ar===or||Y(ar,or,m,U,ie):Qn)){Kt=!1;break}Bt||(Bt=ht=="constructor")}if(Kt&&!Bt){var An=o.constructor,Yn=c.constructor;An!=Yn&&"constructor"in o&&"constructor"in c&&!(typeof An=="function"&&An instanceof An&&typeof Yn=="function"&&Yn instanceof Yn)&&(Kt=!1)}return ie.delete(o),ie.delete(c),Kt}function na(o){return Qc(Tp(o,t,Bp),o+"")}function xc(o){return xd(o,en,$c)}function zc(o){return xd(o,Ln,Ep)}var Vc=gu?function(o){return gu.get(o)}:oh;function Ru(o){for(var c=o.name+"",m=Ws[c],U=Tt.call(Ws,c)?m.length:0;U--;){var Y=m[U],ie=Y.func;if(ie==null||ie==o)return Y.name}return c}function Js(o){var c=Tt.call(Z,"placeholder")?Z:o;return c.placeholder}function Ft(){var o=Z.iteratee||sh;return o=o===sh?Hd:o,arguments.length?o(arguments[0],arguments[1]):o}function Pu(o,c){var m=o.__data__;return Zw(c)?m[typeof c=="string"?"string":"hash"]:m.map}function Hc(o){for(var c=en(o),m=c.length;m--;){var U=c[m],Y=o[U];c[m]=[U,Y,kp(Y)]}return c}function hs(o,c){var m=uc(o,c);return Vd(m)?m:t}function Gw(o){var c=Tt.call(o,ir),m=o[ir];try{o[ir]=t;var U=!0}catch{}var Y=Gs.call(o);return U&&(c?o[ir]=m:delete o[ir]),Y}var $c=ye?function(o){return o==null?[]:(o=br(o),Ui(ye(o),function(c){return vu.call(o,c)}))}:uh,Ep=ye?function(o){for(var c=[];o;)Mi(c,$c(o)),o=Zr(o);return c}:uh,_n=En;(bc&&_n(new bc(new ArrayBuffer(1)))!=P||Gl&&_n(new Gl)!=le||wc&&_n(wc.resolve())!=Tr||Xs&&_n(new Xs)!=fr||Xl&&_n(new Xl)!=pt)&&(_n=function(o){var c=En(o),m=c==Yt?o.constructor:t,U=m?ds(m):"";if(U)switch(U){case Nb:return P;case Sb:return le;case Ib:return Tr;case Rb:return fr;case Pb:return pt}return c});function Xw(o,c,m){for(var U=-1,Y=m.length;++U<Y;){var ie=m[U],be=ie.size;switch(ie.type){case"drop":o+=be;break;case"dropRight":c-=be;break;case"take":c=Ur(c,o+be);break;case"takeRight":o=Rr(o,c-be);break}}return{start:o,end:c}}function Ww(o){var c=o.match(Ce);return c?c[1].split(xe):[]}function Dp(o,c,m){c=Ba(c,o);for(var U=-1,Y=c.length,ie=!1;++U<Y;){var be=zi(c[U]);if(!(ie=o!=null&&m(o,be)))break;o=o[be]}return ie||++U!=Y?ie:(Y=o==null?0:o.length,!!Y&&qu(Y)&&ia(be,Y)&&(zt(o)||ps(o)))}function Qw(o){var c=o.length,m=new o.constructor(c);return c&&typeof o[0]=="string"&&Tt.call(o,"index")&&(m.index=o.index,m.input=o.input),m}function Ap(o){return typeof o.constructor=="function"&&!ro(o)?Qs(Zr(o)):{}}function Yw(o,c,m){var U=o.constructor;switch(c){case W:return Mc(o);case je:case ke:return new U(+o);case P:return Fw(o,m);case M:case ee:case we:case Le:case Ve:case Nt:case qt:case At:case Mt:return sp(o,m);case le:return new U;case Ue:case mt:return new U(o);case Nr:return Ow(o);case fr:return new U;case Dt:return Lw(o)}}function Kw(o,c){var m=c.length;if(!m)return o;var U=m-1;return c[U]=(m>1?"& ":"")+c[U],c=c.join(m>2?", ":" "),o.replace(de,`{
/* [wrapped with `+c+`] */
`)}function Jw(o){return zt(o)||ps(o)||!!($l&&o&&o[$l])}function ia(o,c){var m=typeof o;return c=c??re,!!c&&(m=="number"||m!="symbol"&&Ot.test(o))&&o>-1&&o%1==0&&o<c}function Dn(o,c,m){if(!xr(m))return!1;var U=typeof c;return(U=="number"?On(m)&&ia(c,m.length):U=="string"&&c in m)?Ai(m[c],o):!1}function Gc(o,c){if(zt(o))return!1;var m=typeof o;return m=="number"||m=="symbol"||m=="boolean"||o==null||Wn(o)?!0:Ja.test(o)||!Da.test(o)||c!=null&&o in br(c)}function Zw(o){var c=typeof o;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?o!=="__proto__":o===null}function Xc(o){var c=Ru(o),m=Z[c];if(typeof m!="function"||!(c in lr.prototype))return!1;if(o===m)return!0;var U=Vc(m);return!!U&&o===U[0]}function ey(o){return!!hu&&hu in o}var ty=Hs?aa:fh;function ro(o){var c=o&&o.constructor,m=typeof c=="function"&&c.prototype||Pa;return o===m}function kp(o){return o===o&&!xr(o)}function Cp(o,c){return function(m){return m==null?!1:m[o]===c&&(c!==t||o in br(m))}}function ry(o){var c=Uu(o,function(U){return m.size===f&&m.clear(),U}),m=c.cache;return c}function ny(o,c){var m=o[1],U=c[1],Y=m|U,ie=Y<(b|D|T),be=U==T&&m==S||U==T&&m==q&&o[7].length<=c[8]||U==(T|q)&&c[7].length<=c[8]&&m==S;if(!(ie||be))return o;U&b&&(o[2]=c[2],Y|=m&b?0:B);var Ae=c[3];if(Ae){var Fe=o[3];o[3]=Fe?op(Fe,Ae,c[4]):Ae,o[4]=Fe?ai(o[3],h):c[4]}return Ae=c[5],Ae&&(Fe=o[5],o[5]=Fe?up(Fe,Ae,c[6]):Ae,o[6]=Fe?ai(o[5],h):c[6]),Ae=c[7],Ae&&(o[7]=Ae),U&T&&(o[8]=o[8]==null?c[8]:Ur(o[8],c[8])),o[9]==null&&(o[9]=c[9]),o[0]=c[0],o[1]=Y,o}function iy(o){var c=[];if(o!=null)for(var m in br(o))c.push(m);return c}function ay(o){return Gs.call(o)}function Tp(o,c,m){return c=Rr(c===t?o.length-1:c,0),function(){for(var U=arguments,Y=-1,ie=Rr(U.length-c,0),be=qe(ie);++Y<ie;)be[Y]=U[c+Y];Y=-1;for(var Ae=qe(c+1);++Y<c;)Ae[Y]=U[Y];return Ae[c]=m(be),yn(o,this,Ae)}}function Np(o,c){return c.length<2?o:cs(o,fi(c,0,-1))}function sy(o,c){for(var m=o.length,U=Ur(c.length,m),Y=Fn(o);U--;){var ie=c[U];o[U]=ia(ie,m)?Y[ie]:t}return o}function Wc(o,c){if(!(c==="constructor"&&typeof o[c]=="function")&&c!="__proto__")return o[c]}var Sp=Rp(Jd),no=X||function(o,c){return Jr.setTimeout(o,c)},Qc=Rp(Sw);function Ip(o,c,m){var U=c+"";return Qc(o,Kw(U,ly(Ww(U),m)))}function Rp(o){var c=0,m=0;return function(){var U=kb(),Y=k-(U-m);if(m=U,Y>0){if(++c>=L)return arguments[0]}else c=0;return o.apply(t,arguments)}}function Fu(o,c){var m=-1,U=o.length,Y=U-1;for(c=c===t?U:c;++m<c;){var ie=Rc(m,Y),be=o[ie];o[ie]=o[m],o[m]=be}return o.length=c,o}var Pp=ry(function(o){var c=[];return o.charCodeAt(0)===46&&c.push(""),o.replace(Tl,function(m,U,Y,ie){c.push(Y?ie.replace(ct,"$1"):U||m)}),c});function zi(o){if(typeof o=="string"||Wn(o))return o;var c=o+"";return c=="0"&&1/o==-fe?"-0":c}function ds(o){if(o!=null){try{return $s.call(o)}catch{}try{return o+""}catch{}}return""}function ly(o,c){return In(_e,function(m){var U="_."+m[0];c&m[1]&&!qs(o,U)&&o.push(U)}),o.sort()}function Fp(o){if(o instanceof lr)return o.clone();var c=new oi(o.__wrapped__,o.__chain__);return c.__actions__=Fn(o.__actions__),c.__index__=o.__index__,c.__values__=o.__values__,c}function oy(o,c,m){(m?Dn(o,c,m):c===t)?c=1:c=Rr(Qt(c),0);var U=o==null?0:o.length;if(!U||c<1)return[];for(var Y=0,ie=0,be=qe(ne(U/c));Y<U;)be[ie++]=fi(o,Y,Y+=c);return be}function uy(o){for(var c=-1,m=o==null?0:o.length,U=0,Y=[];++c<m;){var ie=o[c];ie&&(Y[U++]=ie)}return Y}function fy(){var o=arguments.length;if(!o)return[];for(var c=qe(o-1),m=arguments[0],U=o;U--;)c[U-1]=arguments[U];return Mi(zt(m)?Fn(m):[m],fn(c,1))}var cy=tr(function(o,c){return Gr(o)?Kl(o,fn(c,1,Gr,!0)):[]}),hy=tr(function(o,c){var m=ci(c);return Gr(m)&&(m=t),Gr(o)?Kl(o,fn(c,1,Gr,!0),Ft(m,2)):[]}),dy=tr(function(o,c){var m=ci(c);return Gr(m)&&(m=t),Gr(o)?Kl(o,fn(c,1,Gr,!0),t,m):[]});function py(o,c,m){var U=o==null?0:o.length;return U?(c=m||c===t?1:Qt(c),fi(o,c<0?0:c,U)):[]}function _y(o,c,m){var U=o==null?0:o.length;return U?(c=m||c===t?1:Qt(c),c=U-c,fi(o,0,c<0?0:c)):[]}function vy(o,c){return o&&o.length?ku(o,Ft(c,3),!0,!0):[]}function gy(o,c){return o&&o.length?ku(o,Ft(c,3),!0):[]}function my(o,c,m,U){var Y=o==null?0:o.length;return Y?(m&&typeof m!="number"&&Dn(o,c,m)&&(m=0,U=Y),fw(o,c,m,U)):[]}function Op(o,c,m){var U=o==null?0:o.length;if(!U)return-1;var Y=m==null?0:Qt(m);return Y<0&&(Y=Rr(U+Y,0)),xs(o,Ft(c,3),Y)}function Lp(o,c,m){var U=o==null?0:o.length;if(!U)return-1;var Y=U-1;return m!==t&&(Y=Qt(m),Y=m<0?Rr(U+Y,0):Ur(Y,U-1)),xs(o,Ft(c,3),Y,!0)}function Bp(o){var c=o==null?0:o.length;return c?fn(o,1):[]}function by(o){var c=o==null?0:o.length;return c?fn(o,fe):[]}function wy(o,c){var m=o==null?0:o.length;return m?(c=c===t?1:Qt(c),fn(o,c)):[]}function yy(o){for(var c=-1,m=o==null?0:o.length,U={};++c<m;){var Y=o[c];U[Y[0]]=Y[1]}return U}function Up(o){return o&&o.length?o[0]:t}function Ey(o,c,m){var U=o==null?0:o.length;if(!U)return-1;var Y=m==null?0:Qt(m);return Y<0&&(Y=Rr(U+Y,0)),Ta(o,c,Y)}function Dy(o){var c=o==null?0:o.length;return c?fi(o,0,-1):[]}var Ay=tr(function(o){var c=Pr(o,Bc);return c.length&&c[0]===o[0]?Cc(c):[]}),ky=tr(function(o){var c=ci(o),m=Pr(o,Bc);return c===ci(m)?c=t:m.pop(),m.length&&m[0]===o[0]?Cc(m,Ft(c,2)):[]}),Cy=tr(function(o){var c=ci(o),m=Pr(o,Bc);return c=typeof c=="function"?c:t,c&&m.pop(),m.length&&m[0]===o[0]?Cc(m,t,c):[]});function Ty(o,c){return o==null?"":dt.call(o,c)}function ci(o){var c=o==null?0:o.length;return c?o[c-1]:t}function Ny(o,c,m){var U=o==null?0:o.length;if(!U)return-1;var Y=U;return m!==t&&(Y=Qt(m),Y=Y<0?Rr(U+Y,0):Ur(Y,U-1)),c===c?dc(o,c,Y):xs(o,C,Y,!0)}function Sy(o,c){return o&&o.length?Wd(o,Qt(c)):t}var Iy=tr(Mp);function Mp(o,c){return o&&o.length&&c&&c.length?Ic(o,c):o}function Ry(o,c,m){return o&&o.length&&c&&c.length?Ic(o,c,Ft(m,2)):o}function Py(o,c,m){return o&&o.length&&c&&c.length?Ic(o,c,t,m):o}var Fy=na(function(o,c){var m=o==null?0:o.length,U=Ec(o,c);return Kd(o,Pr(c,function(Y){return ia(Y,m)?+Y:Y}).sort(lp)),U});function Oy(o,c){var m=[];if(!(o&&o.length))return m;var U=-1,Y=[],ie=o.length;for(c=Ft(c,3);++U<ie;){var be=o[U];c(be,U,o)&&(m.push(be),Y.push(U))}return Kd(o,Y),m}function Yc(o){return o==null?o:Tb.call(o)}function Ly(o,c,m){var U=o==null?0:o.length;return U?(m&&typeof m!="number"&&Dn(o,c,m)?(c=0,m=U):(c=c==null?0:Qt(c),m=m===t?U:Qt(m)),fi(o,c,m)):[]}function By(o,c){return Au(o,c)}function Uy(o,c,m){return Fc(o,c,Ft(m,2))}function My(o,c){var m=o==null?0:o.length;if(m){var U=Au(o,c);if(U<m&&Ai(o[U],c))return U}return-1}function qy(o,c){return Au(o,c,!0)}function jy(o,c,m){return Fc(o,c,Ft(m,2),!0)}function xy(o,c){var m=o==null?0:o.length;if(m){var U=Au(o,c,!0)-1;if(Ai(o[U],c))return U}return-1}function zy(o){return o&&o.length?Zd(o):[]}function Vy(o,c){return o&&o.length?Zd(o,Ft(c,2)):[]}function Hy(o){var c=o==null?0:o.length;return c?fi(o,1,c):[]}function $y(o,c,m){return o&&o.length?(c=m||c===t?1:Qt(c),fi(o,0,c<0?0:c)):[]}function Gy(o,c,m){var U=o==null?0:o.length;return U?(c=m||c===t?1:Qt(c),c=U-c,fi(o,c<0?0:c,U)):[]}function Xy(o,c){return o&&o.length?ku(o,Ft(c,3),!1,!0):[]}function Wy(o,c){return o&&o.length?ku(o,Ft(c,3)):[]}var Qy=tr(function(o){return La(fn(o,1,Gr,!0))}),Yy=tr(function(o){var c=ci(o);return Gr(c)&&(c=t),La(fn(o,1,Gr,!0),Ft(c,2))}),Ky=tr(function(o){var c=ci(o);return c=typeof c=="function"?c:t,La(fn(o,1,Gr,!0),t,c)});function Jy(o){return o&&o.length?La(o):[]}function Zy(o,c){return o&&o.length?La(o,Ft(c,2)):[]}function e3(o,c){return c=typeof c=="function"?c:t,o&&o.length?La(o,t,c):[]}function Kc(o){if(!(o&&o.length))return[];var c=0;return o=Ui(o,function(m){if(Gr(m))return c=Rr(m.length,c),!0}),jt(c,function(m){return Pr(o,Na(m))})}function qp(o,c){if(!(o&&o.length))return[];var m=Kc(o);return c==null?m:Pr(m,function(U){return yn(c,t,U)})}var t3=tr(function(o,c){return Gr(o)?Kl(o,c):[]}),r3=tr(function(o){return Lc(Ui(o,Gr))}),n3=tr(function(o){var c=ci(o);return Gr(c)&&(c=t),Lc(Ui(o,Gr),Ft(c,2))}),i3=tr(function(o){var c=ci(o);return c=typeof c=="function"?c:t,Lc(Ui(o,Gr),t,c)}),a3=tr(Kc);function s3(o,c){return np(o||[],c||[],Yl)}function l3(o,c){return np(o||[],c||[],eo)}var o3=tr(function(o){var c=o.length,m=c>1?o[c-1]:t;return m=typeof m=="function"?(o.pop(),m):t,qp(o,m)});function jp(o){var c=Z(o);return c.__chain__=!0,c}function u3(o,c){return c(o),o}function Ou(o,c){return c(o)}var f3=na(function(o){var c=o.length,m=c?o[0]:0,U=this.__wrapped__,Y=function(ie){return Ec(ie,o)};return c>1||this.__actions__.length||!(U instanceof lr)||!ia(m)?this.thru(Y):(U=U.slice(m,+m+(c?1:0)),U.__actions__.push({func:Ou,args:[Y],thisArg:t}),new oi(U,this.__chain__).thru(function(ie){return c&&!ie.length&&ie.push(t),ie}))});function c3(){return jp(this)}function h3(){return new oi(this.value(),this.__chain__)}function d3(){this.__values__===t&&(this.__values__=e_(this.value()));var o=this.__index__>=this.__values__.length,c=o?t:this.__values__[this.__index__++];return{done:o,value:c}}function p3(){return this}function _3(o){for(var c,m=this;m instanceof bu;){var U=Fp(m);U.__index__=0,U.__values__=t,c?Y.__wrapped__=U:c=U;var Y=U;m=m.__wrapped__}return Y.__wrapped__=o,c}function v3(){var o=this.__wrapped__;if(o instanceof lr){var c=o;return this.__actions__.length&&(c=new lr(this)),c=c.reverse(),c.__actions__.push({func:Ou,args:[Yc],thisArg:t}),new oi(c,this.__chain__)}return this.thru(Yc)}function g3(){return rp(this.__wrapped__,this.__actions__)}var m3=Cu(function(o,c,m){Tt.call(o,m)?++o[m]:ta(o,m,1)});function b3(o,c,m){var U=zt(o)?nu:uw;return m&&Dn(o,c,m)&&(c=t),U(o,Ft(c,3))}function w3(o,c){var m=zt(o)?Ui:qd;return m(o,Ft(c,3))}var y3=dp(Op),E3=dp(Lp);function D3(o,c){return fn(Lu(o,c),1)}function A3(o,c){return fn(Lu(o,c),fe)}function k3(o,c,m){return m=m===t?1:Qt(m),fn(Lu(o,c),m)}function xp(o,c){var m=zt(o)?In:Oa;return m(o,Ft(c,3))}function zp(o,c){var m=zt(o)?rc:Md;return m(o,Ft(c,3))}var C3=Cu(function(o,c,m){Tt.call(o,m)?o[m].push(c):ta(o,m,[c])});function T3(o,c,m,U){o=On(o)?o:el(o),m=m&&!U?Qt(m):0;var Y=o.length;return m<0&&(m=Rr(Y+m,0)),ju(o)?m<=Y&&o.indexOf(c,m)>-1:!!Y&&Ta(o,c,m)>-1}var N3=tr(function(o,c,m){var U=-1,Y=typeof c=="function",ie=On(o)?qe(o.length):[];return Oa(o,function(be){ie[++U]=Y?yn(c,be,m):Jl(be,c,m)}),ie}),S3=Cu(function(o,c,m){ta(o,m,c)});function Lu(o,c){var m=zt(o)?Pr:$d;return m(o,Ft(c,3))}function I3(o,c,m,U){return o==null?[]:(zt(c)||(c=c==null?[]:[c]),m=U?t:m,zt(m)||(m=m==null?[]:[m]),Qd(o,c,m))}var R3=Cu(function(o,c,m){o[m?0:1].push(c)},function(){return[[],[]]});function P3(o,c,m){var U=zt(o)?js:zs,Y=arguments.length<3;return U(o,Ft(c,4),m,Y,Oa)}function F3(o,c,m){var U=zt(o)?nc:zs,Y=arguments.length<3;return U(o,Ft(c,4),m,Y,Md)}function O3(o,c){var m=zt(o)?Ui:qd;return m(o,Mu(Ft(c,3)))}function L3(o){var c=zt(o)?Od:Tw;return c(o)}function B3(o,c,m){(m?Dn(o,c,m):c===t)?c=1:c=Qt(c);var U=zt(o)?iw:Nw;return U(o,c)}function U3(o){var c=zt(o)?aw:Iw;return c(o)}function M3(o){if(o==null)return 0;if(On(o))return ju(o)?si(o):o.length;var c=_n(o);return c==le||c==fr?o.size:Nc(o).length}function q3(o,c,m){var U=zt(o)?Ml:Rw;return m&&Dn(o,c,m)&&(c=t),U(o,Ft(c,3))}var j3=tr(function(o,c){if(o==null)return[];var m=c.length;return m>1&&Dn(o,c[0],c[1])?c=[]:m>2&&Dn(c[0],c[1],c[2])&&(c=[c[0]]),Qd(o,fn(c,1),[])}),Bu=x||function(){return Jr.Date.now()};function x3(o,c){if(typeof c!="function")throw new Pn(a);return o=Qt(o),function(){if(--o<1)return c.apply(this,arguments)}}function Vp(o,c,m){return c=m?t:c,c=o&&c==null?o.length:c,ra(o,T,t,t,t,t,c)}function Hp(o,c){var m;if(typeof c!="function")throw new Pn(a);return o=Qt(o),function(){return--o>0&&(m=c.apply(this,arguments)),o<=1&&(c=t),m}}var Jc=tr(function(o,c,m){var U=b;if(m.length){var Y=ai(m,Js(Jc));U|=y}return ra(o,U,c,m,Y)}),$p=tr(function(o,c,m){var U=b|D;if(m.length){var Y=ai(m,Js($p));U|=y}return ra(c,U,o,m,Y)});function Gp(o,c,m){c=m?t:c;var U=ra(o,S,t,t,t,t,t,c);return U.placeholder=Gp.placeholder,U}function Xp(o,c,m){c=m?t:c;var U=ra(o,O,t,t,t,t,t,c);return U.placeholder=Xp.placeholder,U}function Wp(o,c,m){var U,Y,ie,be,Ae,Fe,Ke=0,Je=!1,it=!1,ht=!0;if(typeof o!="function")throw new Pn(a);c=hi(c)||0,xr(m)&&(Je=!!m.leading,it="maxWait"in m,ie=it?Rr(hi(m.maxWait)||0,c):ie,ht="trailing"in m?!!m.trailing:ht);function wt(Xr){var ki=U,la=Y;return U=Y=t,Ke=Xr,be=o.apply(la,ki),be}function Lt(Xr){return Ke=Xr,Ae=no(ar,c),Je?wt(Xr):be}function Kt(Xr){var ki=Xr-Fe,la=Xr-Ke,d_=c-ki;return it?Ur(d_,ie-la):d_}function Bt(Xr){var ki=Xr-Fe,la=Xr-Ke;return Fe===t||ki>=c||ki<0||it&&la>=ie}function ar(){var Xr=Bu();if(Bt(Xr))return or(Xr);Ae=no(ar,Kt(Xr))}function or(Xr){return Ae=t,ht&&U?wt(Xr):(U=Y=t,be)}function Qn(){Ae!==t&&ip(Ae),Ke=0,U=Fe=Y=Ae=t}function An(){return Ae===t?be:or(Bu())}function Yn(){var Xr=Bu(),ki=Bt(Xr);if(U=arguments,Y=this,Fe=Xr,ki){if(Ae===t)return Lt(Fe);if(it)return ip(Ae),Ae=no(ar,c),wt(Fe)}return Ae===t&&(Ae=no(ar,c)),be}return Yn.cancel=Qn,Yn.flush=An,Yn}var z3=tr(function(o,c){return Ud(o,1,c)}),V3=tr(function(o,c,m){return Ud(o,hi(c)||0,m)});function H3(o){return ra(o,F)}function Uu(o,c){if(typeof o!="function"||c!=null&&typeof c!="function")throw new Pn(a);var m=function(){var U=arguments,Y=c?c.apply(this,U):U[0],ie=m.cache;if(ie.has(Y))return ie.get(Y);var be=o.apply(this,U);return m.cache=ie.set(Y,be)||ie,be};return m.cache=new(Uu.Cache||ea),m}Uu.Cache=ea;function Mu(o){if(typeof o!="function")throw new Pn(a);return function(){var c=arguments;switch(c.length){case 0:return!o.call(this);case 1:return!o.call(this,c[0]);case 2:return!o.call(this,c[0],c[1]);case 3:return!o.call(this,c[0],c[1],c[2])}return!o.apply(this,c)}}function $3(o){return Hp(2,o)}var G3=Pw(function(o,c){c=c.length==1&&zt(c[0])?Pr(c[0],pn(Ft())):Pr(fn(c,1),pn(Ft()));var m=c.length;return tr(function(U){for(var Y=-1,ie=Ur(U.length,m);++Y<ie;)U[Y]=c[Y].call(this,U[Y]);return yn(o,this,U)})}),Zc=tr(function(o,c){var m=ai(c,Js(Zc));return ra(o,y,t,c,m)}),Qp=tr(function(o,c){var m=ai(c,Js(Qp));return ra(o,N,t,c,m)}),X3=na(function(o,c){return ra(o,q,t,t,t,c)});function W3(o,c){if(typeof o!="function")throw new Pn(a);return c=c===t?c:Qt(c),tr(o,c)}function Q3(o,c){if(typeof o!="function")throw new Pn(a);return c=c==null?0:Rr(Qt(c),0),tr(function(m){var U=m[c],Y=Ua(m,0,c);return U&&Mi(Y,U),yn(o,this,Y)})}function Y3(o,c,m){var U=!0,Y=!0;if(typeof o!="function")throw new Pn(a);return xr(m)&&(U="leading"in m?!!m.leading:U,Y="trailing"in m?!!m.trailing:Y),Wp(o,c,{leading:U,maxWait:c,trailing:Y})}function K3(o){return Vp(o,1)}function J3(o,c){return Zc(Uc(c),o)}function Z3(){if(!arguments.length)return[];var o=arguments[0];return zt(o)?o:[o]}function eE(o){return ui(o,d)}function tE(o,c){return c=typeof c=="function"?c:t,ui(o,d,c)}function rE(o){return ui(o,v|d)}function nE(o,c){return c=typeof c=="function"?c:t,ui(o,v|d,c)}function iE(o,c){return c==null||Bd(o,c,en(c))}function Ai(o,c){return o===c||o!==o&&c!==c}var aE=Iu(kc),sE=Iu(function(o,c){return o>=c}),ps=zd(function(){return arguments}())?zd:function(o){return zr(o)&&Tt.call(o,"callee")&&!vu.call(o,"callee")},zt=qe.isArray,lE=Ko?pn(Ko):_w;function On(o){return o!=null&&qu(o.length)&&!aa(o)}function Gr(o){return zr(o)&&On(o)}function oE(o){return o===!0||o===!1||zr(o)&&En(o)==je}var Ma=De||fh,uE=Jo?pn(Jo):vw;function fE(o){return zr(o)&&o.nodeType===1&&!io(o)}function cE(o){if(o==null)return!0;if(On(o)&&(zt(o)||typeof o=="string"||typeof o.splice=="function"||Ma(o)||Zs(o)||ps(o)))return!o.length;var c=_n(o);if(c==le||c==fr)return!o.size;if(ro(o))return!Nc(o).length;for(var m in o)if(Tt.call(o,m))return!1;return!0}function hE(o,c){return Zl(o,c)}function dE(o,c,m){m=typeof m=="function"?m:t;var U=m?m(o,c):t;return U===t?Zl(o,c,t,m):!!U}function eh(o){if(!zr(o))return!1;var c=En(o);return c==ot||c==He||typeof o.message=="string"&&typeof o.name=="string"&&!io(o)}function pE(o){return typeof o=="number"&&ce(o)}function aa(o){if(!xr(o))return!1;var c=En(o);return c==kt||c==Re||c==Pe||c==nr}function Yp(o){return typeof o=="number"&&o==Qt(o)}function qu(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=re}function xr(o){var c=typeof o;return o!=null&&(c=="object"||c=="function")}function zr(o){return o!=null&&typeof o=="object"}var Kp=Zo?pn(Zo):mw;function _E(o,c){return o===c||Tc(o,c,Hc(c))}function vE(o,c,m){return m=typeof m=="function"?m:t,Tc(o,c,Hc(c),m)}function gE(o){return Jp(o)&&o!=+o}function mE(o){if(ty(o))throw new Ut(s);return Vd(o)}function bE(o){return o===null}function wE(o){return o==null}function Jp(o){return typeof o=="number"||zr(o)&&En(o)==Ue}function io(o){if(!zr(o)||En(o)!=Yt)return!1;var c=Zr(o);if(c===null)return!0;var m=Tt.call(c,"constructor")&&c.constructor;return typeof m=="function"&&m instanceof m&&$s.call(m)==du}var th=eu?pn(eu):bw;function yE(o){return Yp(o)&&o>=-re&&o<=re}var Zp=tu?pn(tu):ww;function ju(o){return typeof o=="string"||!zt(o)&&zr(o)&&En(o)==mt}function Wn(o){return typeof o=="symbol"||zr(o)&&En(o)==Dt}var Zs=ru?pn(ru):yw;function EE(o){return o===t}function DE(o){return zr(o)&&_n(o)==pt}function AE(o){return zr(o)&&En(o)==ze}var kE=Iu(Sc),CE=Iu(function(o,c){return o<=c});function e_(o){if(!o)return[];if(On(o))return ju(o)?Gn(o):Fn(o);if(ls&&o[ls])return cc(o[ls]());var c=_n(o),m=c==le?ql:c==fr?Ia:el;return m(o)}function sa(o){if(!o)return o===0?o:0;if(o=hi(o),o===fe||o===-fe){var c=o<0?-1:1;return c*te}return o===o?o:0}function Qt(o){var c=sa(o),m=c%1;return c===c?m?c-m:c:0}function t_(o){return o?fs(Qt(o),0,Q):0}function hi(o){if(typeof o=="number")return o;if(Wn(o))return G;if(xr(o)){var c=typeof o.valueOf=="function"?o.valueOf():o;o=xr(c)?c+"":c}if(typeof o!="string")return o===0?o:+o;o=au(o);var m=Wt.test(o);return m||Sr.test(o)?Zf(o.slice(2),m?2:8):Br.test(o)?G:+o}function r_(o){return xi(o,Ln(o))}function TE(o){return o?fs(Qt(o),-re,re):o===0?o:0}function gr(o){return o==null?"":Xn(o)}var NE=Ys(function(o,c){if(ro(c)||On(c)){xi(c,en(c),o);return}for(var m in c)Tt.call(c,m)&&Yl(o,m,c[m])}),n_=Ys(function(o,c){xi(c,Ln(c),o)}),xu=Ys(function(o,c,m,U){xi(c,Ln(c),o,U)}),SE=Ys(function(o,c,m,U){xi(c,en(c),o,U)}),IE=na(Ec);function RE(o,c){var m=Qs(o);return c==null?m:Ld(m,c)}var PE=tr(function(o,c){o=br(o);var m=-1,U=c.length,Y=U>2?c[2]:t;for(Y&&Dn(c[0],c[1],Y)&&(U=1);++m<U;)for(var ie=c[m],be=Ln(ie),Ae=-1,Fe=be.length;++Ae<Fe;){var Ke=be[Ae],Je=o[Ke];(Je===t||Ai(Je,Pa[Ke])&&!Tt.call(o,Ke))&&(o[Ke]=ie[Ke])}return o}),FE=tr(function(o){return o.push(t,wp),yn(i_,t,o)});function OE(o,c){return iu(o,Ft(c,3),ji)}function LE(o,c){return iu(o,Ft(c,3),Ac)}function BE(o,c){return o==null?o:Dc(o,Ft(c,3),Ln)}function UE(o,c){return o==null?o:jd(o,Ft(c,3),Ln)}function ME(o,c){return o&&ji(o,Ft(c,3))}function qE(o,c){return o&&Ac(o,Ft(c,3))}function jE(o){return o==null?[]:Eu(o,en(o))}function xE(o){return o==null?[]:Eu(o,Ln(o))}function rh(o,c,m){var U=o==null?t:cs(o,c);return U===t?m:U}function zE(o,c){return o!=null&&Dp(o,c,cw)}function nh(o,c){return o!=null&&Dp(o,c,hw)}var VE=_p(function(o,c,m){c!=null&&typeof c.toString!="function"&&(c=Gs.call(c)),o[c]=m},ah(Bn)),HE=_p(function(o,c,m){c!=null&&typeof c.toString!="function"&&(c=Gs.call(c)),Tt.call(o,c)?o[c].push(m):o[c]=[m]},Ft),$E=tr(Jl);function en(o){return On(o)?Fd(o):Nc(o)}function Ln(o){return On(o)?Fd(o,!0):Ew(o)}function GE(o,c){var m={};return c=Ft(c,3),ji(o,function(U,Y,ie){ta(m,c(U,Y,ie),U)}),m}function XE(o,c){var m={};return c=Ft(c,3),ji(o,function(U,Y,ie){ta(m,Y,c(U,Y,ie))}),m}var WE=Ys(function(o,c,m){Du(o,c,m)}),i_=Ys(function(o,c,m,U){Du(o,c,m,U)}),QE=na(function(o,c){var m={};if(o==null)return m;var U=!1;c=Pr(c,function(ie){return ie=Ba(ie,o),U||(U=ie.length>1),ie}),xi(o,zc(o),m),U&&(m=ui(m,v|p|d,Vw));for(var Y=c.length;Y--;)Oc(m,c[Y]);return m});function YE(o,c){return a_(o,Mu(Ft(c)))}var KE=na(function(o,c){return o==null?{}:Aw(o,c)});function a_(o,c){if(o==null)return{};var m=Pr(zc(o),function(U){return[U]});return c=Ft(c),Yd(o,m,function(U,Y){return c(U,Y[0])})}function JE(o,c,m){c=Ba(c,o);var U=-1,Y=c.length;for(Y||(Y=1,o=t);++U<Y;){var ie=o==null?t:o[zi(c[U])];ie===t&&(U=Y,ie=m),o=aa(ie)?ie.call(o):ie}return o}function ZE(o,c,m){return o==null?o:eo(o,c,m)}function eD(o,c,m,U){return U=typeof U=="function"?U:t,o==null?o:eo(o,c,m,U)}var s_=mp(en),l_=mp(Ln);function tD(o,c,m){var U=zt(o),Y=U||Ma(o)||Zs(o);if(c=Ft(c,4),m==null){var ie=o&&o.constructor;Y?m=U?new ie:[]:xr(o)?m=aa(ie)?Qs(Zr(o)):{}:m={}}return(Y?In:ji)(o,function(be,Ae,Fe){return c(m,be,Ae,Fe)}),m}function rD(o,c){return o==null?!0:Oc(o,c)}function nD(o,c,m){return o==null?o:tp(o,c,Uc(m))}function iD(o,c,m,U){return U=typeof U=="function"?U:t,o==null?o:tp(o,c,Uc(m),U)}function el(o){return o==null?[]:is(o,en(o))}function aD(o){return o==null?[]:is(o,Ln(o))}function sD(o,c,m){return m===t&&(m=c,c=t),m!==t&&(m=hi(m),m=m===m?m:0),c!==t&&(c=hi(c),c=c===c?c:0),fs(hi(o),c,m)}function lD(o,c,m){return c=sa(c),m===t?(m=c,c=0):m=sa(m),o=hi(o),dw(o,c,m)}function oD(o,c,m){if(m&&typeof m!="boolean"&&Dn(o,c,m)&&(c=m=t),m===t&&(typeof c=="boolean"?(m=c,c=t):typeof o=="boolean"&&(m=o,o=t)),o===t&&c===t?(o=0,c=1):(o=sa(o),c===t?(c=o,o=0):c=sa(c)),o>c){var U=o;o=c,c=U}if(m||o%1||c%1){var Y=Rd();return Ur(o+Y*(c-o+Jf("1e-"+((Y+"").length-1))),c)}return Rc(o,c)}var uD=Ks(function(o,c,m){return c=c.toLowerCase(),o+(m?o_(c):c)});function o_(o){return ih(gr(o).toLowerCase())}function u_(o){return o=gr(o),o&&o.replace(hr,uu).replace($o,"")}function fD(o,c,m){o=gr(o),c=Xn(c);var U=o.length;m=m===t?U:fs(Qt(m),0,U);var Y=m;return m-=c.length,m>=0&&o.slice(m,Y)==c}function cD(o){return o=gr(o),o&&Oi.test(o)?o.replace(Fi,oc):o}function hD(o){return o=gr(o),o&&Nl.test(o)?o.replace(Aa,"\\$&"):o}var dD=Ks(function(o,c,m){return o+(m?"-":"")+c.toLowerCase()}),pD=Ks(function(o,c,m){return o+(m?" ":"")+c.toLowerCase()}),_D=hp("toLowerCase");function vD(o,c,m){o=gr(o),c=Qt(c);var U=c?si(o):0;if(!c||U>=c)return o;var Y=(c-U)/2;return Su(oe(Y),m)+o+Su(ne(Y),m)}function gD(o,c,m){o=gr(o),c=Qt(c);var U=c?si(o):0;return c&&U<c?o+Su(c-U,m):o}function mD(o,c,m){o=gr(o),c=Qt(c);var U=c?si(o):0;return c&&U<c?Su(c-U,m)+o:o}function bD(o,c,m){return m||c==null?c=0:c&&(c=+c),Cb(gr(o).replace(hn,""),c||0)}function wD(o,c,m){return(m?Dn(o,c,m):c===t)?c=1:c=Qt(c),Pc(gr(o),c)}function yD(){var o=arguments,c=gr(o[0]);return o.length<3?c:c.replace(o[1],o[2])}var ED=Ks(function(o,c,m){return o+(m?"_":"")+c.toLowerCase()});function DD(o,c,m){return m&&typeof m!="number"&&Dn(o,c,m)&&(c=m=t),m=m===t?Q:m>>>0,m?(o=gr(o),o&&(typeof c=="string"||c!=null&&!th(c))&&(c=Xn(c),!c&&Sa(o))?Ua(Gn(o),0,m):o.split(c,m)):[]}var AD=Ks(function(o,c,m){return o+(m?" ":"")+ih(c)});function kD(o,c,m){return o=gr(o),m=m==null?0:fs(Qt(m),0,o.length),c=Xn(c),o.slice(m,m+c.length)==c}function CD(o,c,m){var U=Z.templateSettings;m&&Dn(o,c,m)&&(c=t),o=gr(o),c=xu({},c,U,bp);var Y=xu({},c.imports,U.imports,bp),ie=en(Y),be=is(Y,ie),Ae,Fe,Ke=0,Je=c.interpolate||_r,it="__p += '",ht=Vl((c.escape||_r).source+"|"+Je.source+"|"+(Je===Ls?Ct:_r).source+"|"+(c.evaluate||_r).source+"|$","g"),wt="//# sourceURL="+(Tt.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xo+"]")+`
`;o.replace(ht,function(Bt,ar,or,Qn,An,Yn){return or||(or=Qn),it+=o.slice(Ke,Yn).replace(mr,ft),ar&&(Ae=!0,it+=`' +
__e(`+ar+`) +
'`),An&&(Fe=!0,it+=`';
`+An+`;
__p += '`),or&&(it+=`' +
((__t = (`+or+`)) == null ? '' : __t) +
'`),Ke=Yn+Bt.length,Bt}),it+=`';
`;var Lt=Tt.call(c,"variable")&&c.variable;if(!Lt)it=`with (obj) {
`+it+`
}
`;else if(bt.test(Lt))throw new Ut(l);it=(Fe?it.replace(er,""):it).replace(Pi,"$1").replace(Fs,"$1;"),it="function("+(Lt||"obj")+`) {
`+(Lt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ae?", __e = _.escape":"")+(Fe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+it+`return __p
}`;var Kt=c_(function(){return ur(ie,wt+"return "+it).apply(t,be)});if(Kt.source=it,eh(Kt))throw Kt;return Kt}function TD(o){return gr(o).toLowerCase()}function ND(o){return gr(o).toUpperCase()}function SD(o,c,m){if(o=gr(o),o&&(m||c===t))return au(o);if(!o||!(c=Xn(c)))return o;var U=Gn(o),Y=Gn(c),ie=su(U,Y),be=lu(U,Y)+1;return Ua(U,ie,be).join("")}function ID(o,c,m){if(o=gr(o),o&&(m||c===t))return o.slice(0,xl(o)+1);if(!o||!(c=Xn(c)))return o;var U=Gn(o),Y=lu(U,Gn(c))+1;return Ua(U,0,Y).join("")}function RD(o,c,m){if(o=gr(o),o&&(m||c===t))return o.replace(hn,"");if(!o||!(c=Xn(c)))return o;var U=Gn(o),Y=su(U,Gn(c));return Ua(U,Y).join("")}function PD(o,c){var m=j,U=A;if(xr(c)){var Y="separator"in c?c.separator:Y;m="length"in c?Qt(c.length):m,U="omission"in c?Xn(c.omission):U}o=gr(o);var ie=o.length;if(Sa(o)){var be=Gn(o);ie=be.length}if(m>=ie)return o;var Ae=m-si(U);if(Ae<1)return U;var Fe=be?Ua(be,0,Ae).join(""):o.slice(0,Ae);if(Y===t)return Fe+U;if(be&&(Ae+=Fe.length-Ae),th(Y)){if(o.slice(Ae).search(Y)){var Ke,Je=Fe;for(Y.global||(Y=Vl(Y.source,gr(pr.exec(Y))+"g")),Y.lastIndex=0;Ke=Y.exec(Je);)var it=Ke.index;Fe=Fe.slice(0,it===t?Ae:it)}}else if(o.indexOf(Xn(Y),Ae)!=Ae){var ht=Fe.lastIndexOf(Y);ht>-1&&(Fe=Fe.slice(0,ht))}return Fe+U}function FD(o){return o=gr(o),o&&kl.test(o)?o.replace(Nn,cu):o}var OD=Ks(function(o,c,m){return o+(m?" ":"")+c.toUpperCase()}),ih=hp("toUpperCase");function f_(o,c,m){return o=gr(o),c=m?t:c,c===t?fc(o)?vc(o):sc(o):o.match(c)||[]}var c_=tr(function(o,c){try{return yn(o,t,c)}catch(m){return eh(m)?m:new Ut(m)}}),LD=na(function(o,c){return In(c,function(m){m=zi(m),ta(o,m,Jc(o[m],o))}),o});function BD(o){var c=o==null?0:o.length,m=Ft();return o=c?Pr(o,function(U){if(typeof U[1]!="function")throw new Pn(a);return[m(U[0]),U[1]]}):[],tr(function(U){for(var Y=-1;++Y<c;){var ie=o[Y];if(yn(ie[0],this,U))return yn(ie[1],this,U)}})}function UD(o){return ow(ui(o,v))}function ah(o){return function(){return o}}function MD(o,c){return o==null||o!==o?c:o}var qD=pp(),jD=pp(!0);function Bn(o){return o}function sh(o){return Hd(typeof o=="function"?o:ui(o,v))}function xD(o){return Gd(ui(o,v))}function zD(o,c){return Xd(o,ui(c,v))}var VD=tr(function(o,c){return function(m){return Jl(m,o,c)}}),HD=tr(function(o,c){return function(m){return Jl(o,m,c)}});function lh(o,c,m){var U=en(c),Y=Eu(c,U);m==null&&!(xr(c)&&(Y.length||!U.length))&&(m=c,c=o,o=this,Y=Eu(c,en(c)));var ie=!(xr(m)&&"chain"in m)||!!m.chain,be=aa(o);return In(Y,function(Ae){var Fe=c[Ae];o[Ae]=Fe,be&&(o.prototype[Ae]=function(){var Ke=this.__chain__;if(ie||Ke){var Je=o(this.__wrapped__),it=Je.__actions__=Fn(this.__actions__);return it.push({func:Fe,args:arguments,thisArg:o}),Je.__chain__=Ke,Je}return Fe.apply(o,Mi([this.value()],arguments))})}),o}function $D(){return Jr._===this&&(Jr._=Hl),this}function oh(){}function GD(o){return o=Qt(o),tr(function(c){return Wd(c,o)})}var XD=qc(Pr),WD=qc(nu),QD=qc(Ml);function h_(o){return Gc(o)?Na(zi(o)):kw(o)}function YD(o){return function(c){return o==null?t:cs(o,c)}}var KD=vp(),JD=vp(!0);function uh(){return[]}function fh(){return!1}function ZD(){return{}}function eA(){return""}function tA(){return!0}function rA(o,c){if(o=Qt(o),o<1||o>re)return[];var m=Q,U=Ur(o,Q);c=Ft(c),o-=Q;for(var Y=jt(U,c);++m<o;)c(m);return Y}function nA(o){return zt(o)?Pr(o,zi):Wn(o)?[o]:Fn(Pp(gr(o)))}function iA(o){var c=++Fr;return gr(o)+c}var aA=Nu(function(o,c){return o+c},0),sA=jc("ceil"),lA=Nu(function(o,c){return o/c},1),oA=jc("floor");function uA(o){return o&&o.length?yu(o,Bn,kc):t}function fA(o,c){return o&&o.length?yu(o,Ft(c,2),kc):t}function cA(o){return ut(o,Bn)}function hA(o,c){return ut(o,Ft(c,2))}function dA(o){return o&&o.length?yu(o,Bn,Sc):t}function pA(o,c){return o&&o.length?yu(o,Ft(c,2),Sc):t}var _A=Nu(function(o,c){return o*c},1),vA=jc("round"),gA=Nu(function(o,c){return o-c},0);function mA(o){return o&&o.length?ns(o,Bn):0}function bA(o,c){return o&&o.length?ns(o,Ft(c,2)):0}return Z.after=x3,Z.ary=Vp,Z.assign=NE,Z.assignIn=n_,Z.assignInWith=xu,Z.assignWith=SE,Z.at=IE,Z.before=Hp,Z.bind=Jc,Z.bindAll=LD,Z.bindKey=$p,Z.castArray=Z3,Z.chain=jp,Z.chunk=oy,Z.compact=uy,Z.concat=fy,Z.cond=BD,Z.conforms=UD,Z.constant=ah,Z.countBy=m3,Z.create=RE,Z.curry=Gp,Z.curryRight=Xp,Z.debounce=Wp,Z.defaults=PE,Z.defaultsDeep=FE,Z.defer=z3,Z.delay=V3,Z.difference=cy,Z.differenceBy=hy,Z.differenceWith=dy,Z.drop=py,Z.dropRight=_y,Z.dropRightWhile=vy,Z.dropWhile=gy,Z.fill=my,Z.filter=w3,Z.flatMap=D3,Z.flatMapDeep=A3,Z.flatMapDepth=k3,Z.flatten=Bp,Z.flattenDeep=by,Z.flattenDepth=wy,Z.flip=H3,Z.flow=qD,Z.flowRight=jD,Z.fromPairs=yy,Z.functions=jE,Z.functionsIn=xE,Z.groupBy=C3,Z.initial=Dy,Z.intersection=Ay,Z.intersectionBy=ky,Z.intersectionWith=Cy,Z.invert=VE,Z.invertBy=HE,Z.invokeMap=N3,Z.iteratee=sh,Z.keyBy=S3,Z.keys=en,Z.keysIn=Ln,Z.map=Lu,Z.mapKeys=GE,Z.mapValues=XE,Z.matches=xD,Z.matchesProperty=zD,Z.memoize=Uu,Z.merge=WE,Z.mergeWith=i_,Z.method=VD,Z.methodOf=HD,Z.mixin=lh,Z.negate=Mu,Z.nthArg=GD,Z.omit=QE,Z.omitBy=YE,Z.once=$3,Z.orderBy=I3,Z.over=XD,Z.overArgs=G3,Z.overEvery=WD,Z.overSome=QD,Z.partial=Zc,Z.partialRight=Qp,Z.partition=R3,Z.pick=KE,Z.pickBy=a_,Z.property=h_,Z.propertyOf=YD,Z.pull=Iy,Z.pullAll=Mp,Z.pullAllBy=Ry,Z.pullAllWith=Py,Z.pullAt=Fy,Z.range=KD,Z.rangeRight=JD,Z.rearg=X3,Z.reject=O3,Z.remove=Oy,Z.rest=W3,Z.reverse=Yc,Z.sampleSize=B3,Z.set=ZE,Z.setWith=eD,Z.shuffle=U3,Z.slice=Ly,Z.sortBy=j3,Z.sortedUniq=zy,Z.sortedUniqBy=Vy,Z.split=DD,Z.spread=Q3,Z.tail=Hy,Z.take=$y,Z.takeRight=Gy,Z.takeRightWhile=Xy,Z.takeWhile=Wy,Z.tap=u3,Z.throttle=Y3,Z.thru=Ou,Z.toArray=e_,Z.toPairs=s_,Z.toPairsIn=l_,Z.toPath=nA,Z.toPlainObject=r_,Z.transform=tD,Z.unary=K3,Z.union=Qy,Z.unionBy=Yy,Z.unionWith=Ky,Z.uniq=Jy,Z.uniqBy=Zy,Z.uniqWith=e3,Z.unset=rD,Z.unzip=Kc,Z.unzipWith=qp,Z.update=nD,Z.updateWith=iD,Z.values=el,Z.valuesIn=aD,Z.without=t3,Z.words=f_,Z.wrap=J3,Z.xor=r3,Z.xorBy=n3,Z.xorWith=i3,Z.zip=a3,Z.zipObject=s3,Z.zipObjectDeep=l3,Z.zipWith=o3,Z.entries=s_,Z.entriesIn=l_,Z.extend=n_,Z.extendWith=xu,lh(Z,Z),Z.add=aA,Z.attempt=c_,Z.camelCase=uD,Z.capitalize=o_,Z.ceil=sA,Z.clamp=sD,Z.clone=eE,Z.cloneDeep=rE,Z.cloneDeepWith=nE,Z.cloneWith=tE,Z.conformsTo=iE,Z.deburr=u_,Z.defaultTo=MD,Z.divide=lA,Z.endsWith=fD,Z.eq=Ai,Z.escape=cD,Z.escapeRegExp=hD,Z.every=b3,Z.find=y3,Z.findIndex=Op,Z.findKey=OE,Z.findLast=E3,Z.findLastIndex=Lp,Z.findLastKey=LE,Z.floor=oA,Z.forEach=xp,Z.forEachRight=zp,Z.forIn=BE,Z.forInRight=UE,Z.forOwn=ME,Z.forOwnRight=qE,Z.get=rh,Z.gt=aE,Z.gte=sE,Z.has=zE,Z.hasIn=nh,Z.head=Up,Z.identity=Bn,Z.includes=T3,Z.indexOf=Ey,Z.inRange=lD,Z.invoke=$E,Z.isArguments=ps,Z.isArray=zt,Z.isArrayBuffer=lE,Z.isArrayLike=On,Z.isArrayLikeObject=Gr,Z.isBoolean=oE,Z.isBuffer=Ma,Z.isDate=uE,Z.isElement=fE,Z.isEmpty=cE,Z.isEqual=hE,Z.isEqualWith=dE,Z.isError=eh,Z.isFinite=pE,Z.isFunction=aa,Z.isInteger=Yp,Z.isLength=qu,Z.isMap=Kp,Z.isMatch=_E,Z.isMatchWith=vE,Z.isNaN=gE,Z.isNative=mE,Z.isNil=wE,Z.isNull=bE,Z.isNumber=Jp,Z.isObject=xr,Z.isObjectLike=zr,Z.isPlainObject=io,Z.isRegExp=th,Z.isSafeInteger=yE,Z.isSet=Zp,Z.isString=ju,Z.isSymbol=Wn,Z.isTypedArray=Zs,Z.isUndefined=EE,Z.isWeakMap=DE,Z.isWeakSet=AE,Z.join=Ty,Z.kebabCase=dD,Z.last=ci,Z.lastIndexOf=Ny,Z.lowerCase=pD,Z.lowerFirst=_D,Z.lt=kE,Z.lte=CE,Z.max=uA,Z.maxBy=fA,Z.mean=cA,Z.meanBy=hA,Z.min=dA,Z.minBy=pA,Z.stubArray=uh,Z.stubFalse=fh,Z.stubObject=ZD,Z.stubString=eA,Z.stubTrue=tA,Z.multiply=_A,Z.nth=Sy,Z.noConflict=$D,Z.noop=oh,Z.now=Bu,Z.pad=vD,Z.padEnd=gD,Z.padStart=mD,Z.parseInt=bD,Z.random=oD,Z.reduce=P3,Z.reduceRight=F3,Z.repeat=wD,Z.replace=yD,Z.result=JE,Z.round=vA,Z.runInContext=Se,Z.sample=L3,Z.size=M3,Z.snakeCase=ED,Z.some=q3,Z.sortedIndex=By,Z.sortedIndexBy=Uy,Z.sortedIndexOf=My,Z.sortedLastIndex=qy,Z.sortedLastIndexBy=jy,Z.sortedLastIndexOf=xy,Z.startCase=AD,Z.startsWith=kD,Z.subtract=gA,Z.sum=mA,Z.sumBy=bA,Z.template=CD,Z.times=rA,Z.toFinite=sa,Z.toInteger=Qt,Z.toLength=t_,Z.toLower=TD,Z.toNumber=hi,Z.toSafeInteger=TE,Z.toString=gr,Z.toUpper=ND,Z.trim=SD,Z.trimEnd=ID,Z.trimStart=RD,Z.truncate=PD,Z.unescape=FD,Z.uniqueId=iA,Z.upperCase=OD,Z.upperFirst=ih,Z.each=xp,Z.eachRight=zp,Z.first=Up,lh(Z,function(){var o={};return ji(Z,function(c,m){Tt.call(Z.prototype,m)||(o[m]=c)}),o}(),{chain:!1}),Z.VERSION=n,In(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){Z[o].placeholder=Z}),In(["drop","take"],function(o,c){lr.prototype[o]=function(m){m=m===t?1:Rr(Qt(m),0);var U=this.__filtered__&&!c?new lr(this):this.clone();return U.__filtered__?U.__takeCount__=Ur(m,U.__takeCount__):U.__views__.push({size:Ur(m,Q),type:o+(U.__dir__<0?"Right":"")}),U},lr.prototype[o+"Right"]=function(m){return this.reverse()[o](m).reverse()}}),In(["filter","map","takeWhile"],function(o,c){var m=c+1,U=m==R||m==z;lr.prototype[o]=function(Y){var ie=this.clone();return ie.__iteratees__.push({iteratee:Ft(Y,3),type:m}),ie.__filtered__=ie.__filtered__||U,ie}}),In(["head","last"],function(o,c){var m="take"+(c?"Right":"");lr.prototype[o]=function(){return this[m](1).value()[0]}}),In(["initial","tail"],function(o,c){var m="drop"+(c?"":"Right");lr.prototype[o]=function(){return this.__filtered__?new lr(this):this[m](1)}}),lr.prototype.compact=function(){return this.filter(Bn)},lr.prototype.find=function(o){return this.filter(o).head()},lr.prototype.findLast=function(o){return this.reverse().find(o)},lr.prototype.invokeMap=tr(function(o,c){return typeof o=="function"?new lr(this):this.map(function(m){return Jl(m,o,c)})}),lr.prototype.reject=function(o){return this.filter(Mu(Ft(o)))},lr.prototype.slice=function(o,c){o=Qt(o);var m=this;return m.__filtered__&&(o>0||c<0)?new lr(m):(o<0?m=m.takeRight(-o):o&&(m=m.drop(o)),c!==t&&(c=Qt(c),m=c<0?m.dropRight(-c):m.take(c-o)),m)},lr.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},lr.prototype.toArray=function(){return this.take(Q)},ji(lr.prototype,function(o,c){var m=/^(?:filter|find|map|reject)|While$/.test(c),U=/^(?:head|last)$/.test(c),Y=Z[U?"take"+(c=="last"?"Right":""):c],ie=U||/^find/.test(c);Y&&(Z.prototype[c]=function(){var be=this.__wrapped__,Ae=U?[1]:arguments,Fe=be instanceof lr,Ke=Ae[0],Je=Fe||zt(be),it=function(ar){var or=Y.apply(Z,Mi([ar],Ae));return U&&ht?or[0]:or};Je&&m&&typeof Ke=="function"&&Ke.length!=1&&(Fe=Je=!1);var ht=this.__chain__,wt=!!this.__actions__.length,Lt=ie&&!ht,Kt=Fe&&!wt;if(!ie&&Je){be=Kt?be:new lr(this);var Bt=o.apply(be,Ae);return Bt.__actions__.push({func:Ou,args:[it],thisArg:t}),new oi(Bt,ht)}return Lt&&Kt?o.apply(this,Ae):(Bt=this.thru(it),Lt?U?Bt.value()[0]:Bt.value():Bt)})}),In(["pop","push","shift","sort","splice","unshift"],function(o){var c=Ra[o],m=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",U=/^(?:pop|shift)$/.test(o);Z.prototype[o]=function(){var Y=arguments;if(U&&!this.__chain__){var ie=this.value();return c.apply(zt(ie)?ie:[],Y)}return this[m](function(be){return c.apply(zt(be)?be:[],Y)})}}),ji(lr.prototype,function(o,c){var m=Z[c];if(m){var U=m.name+"";Tt.call(Ws,U)||(Ws[U]=[]),Ws[U].push({name:c,func:m})}}),Ws[Tu(t,D).name]=[{name:"wrapper",func:t}],lr.prototype.clone=Fb,lr.prototype.reverse=Ob,lr.prototype.value=Lb,Z.prototype.at=f3,Z.prototype.chain=c3,Z.prototype.commit=h3,Z.prototype.next=d3,Z.prototype.plant=_3,Z.prototype.reverse=v3,Z.prototype.toJSON=Z.prototype.valueOf=Z.prototype.value=g3,Z.prototype.first=Z.prototype.head,ls&&(Z.prototype[ls]=p3),Z},Ei=zl();Ji?((Ji.exports=Ei)._=Ei,Ms._=Ei):Jr._=Ei}).call(ua)})(Df,Df.exports);var MI=Df.exports;const qI=Ts(MI);var gb={exports:{}},jI=["the","a","an","some"],xI=["a","abaft","aboard","about","above","absent","across","afore","after","against","along","alongside","amid","amidst","among","amongst","an","apropos","apud","around","as","aside","astride","at","athwart","atop","barring","before","behind","below","beneath","beside","besides","between","beyond","but","by","circa","concerning","despite","down","during","except","excluding","failing","following","for","forenenst","from","given","in","including","inside","into","like","mid","midst","minus","modulo","near","next","notwithstanding","o'","of","off","on","onto","opposite","out","outside","over","pace","past","per","plus","pro","qua","regarding","round","sans","save","since","than","through","throughout","thru","thruout","till","times","to","toward","towards","under","underneath","unlike","until","unto","up","upon","versus","via","vice","vis--vis","with","within","without","worth"],zI=["as","because","for","and","nor","but","or","yet","so"];(function(i){var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;i.exports=function(a){return r(a,e)},i.exports.toTitleCase=i.exports;var t=jI.concat(xI).concat(zI).concat(e.source.replace(/(^\^\(|\)\$$)/g,"").split("|")).concat(["is"]),n=new RegExp("^("+t.join("|")+")$","i");i.exports.toLaxTitleCase=function(a){return r(a,n)};function r(s,a){return s&&s.replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(l,u,f){return u>0&&u+l.length!==f.length&&l.search(a)>-1&&f.charAt(u-2)!==":"&&(f.charAt(u+l.length)!=="-"||f.charAt(u-1)==="-")&&f.charAt(u-1).search(/[^\s-]/)<0?l.toLowerCase():l.substr(1).search(/[A-Z]|\../)>-1?l:l.charAt(0).toUpperCase()+l.substr(1)})}})(gb);var VI=gb.exports;const mb=Ts(VI),{blankNode:HI,namedNode:Vr,literal:$I,quad:Ki}=Cd,xa=Cn(gl[Mo]),Af=Cn(gl[db]),bb=Cn(gl[Rs]),wb=Cn(gl[Al]);function sf(i,e){jn.set(i),Co.set(e)}function GI(){sf([],[])}const jn=nn([]),Pt=nn(null),Co=nn([]);let zf=[],Sd=[];jn.subscribe(i=>{zf=i});Co.subscribe(i=>{Sd=i});function XI(i){const e=i.type;return{artifactSelectorNode:xa("Artifact"),vulnerabilitySelectorNode:xa("Vulnerability"),attackSelectorNode:xa("OffensiveTechnique"),countermeasureSelectorNode:xa("DefensiveTechnique"),informationSelectorNode:xa("DigitalInformation"),agentSelectorNode:xa("Agent"),eventNode:xa("Event")}[e]}async function WI(i){const e=Eb(i);console.log(`Called _map_node_to_default_class_IRI ${JSON.stringify(i)} for class_string: ${e}`);let t=null;if(e.startsWith("d3f:"))if(await Db(e)){const[r,s]=e.split(":");t=xa(s)}else console.error(`Class name ${e} is not valid d3fend class.`),t=null;else if(e.startsWith(":")){const n=e.substring(1);t=Af(n)}else if(e.includes(":"))console.error(`Failed to create class for node: ${JSON.stringify(i)}`),t=null;else{const n=yb(e);console.log(`pascal_cased_label: ${n}`);const r=Af(n);console.log(`pascal_cased_label as cad IRI ${n}`),t=r}return console.log(`Returning ${t} for_map_node_to_default_class_IRI ${JSON.stringify(i)}`),t}function yb(i){return mb(i).replace(/ /g,"")}function Eb(i){let e="";return i.data.hasOwnProperty("d3f_class")?e=i.data.d3f_class:i.data.hasOwnProperty("techniqueId")?e=i.data.techniqueId:e=i.data.label,e.toString()}function QI(i,e,t){const n=Vr(t);console.log(`extension_prefixes: ${JSON.stringify(e)}`),console.log(`cad_extension_node: ${n.value}`),i.addQuad(Ki(n,Vr(e[Rs]+"type"),Vr(e[ha]+"Ontology"))),i.addQuad(Ki(n,Vr(e[ha]+"imports"),Vr(e[Mo])))}async function Db(i){let e;try{e=await LI(i)}catch(t){console.warn(`Problem calling lookup_valid_class_by_IRI(${i}):`,t),e=null}return e}function Yh(i,e,t){const n=Vr(Kn[Al]+"subClassOf");i.addQuad(Ki(e,n,t))}function YI(i,e){i.addQuad(Ki(e,Vr(Kn[Rs]+"type"),Vr(Kn[ha]+"ObjectProperty"))),i.addQuad(Ki(e,Vr(Kn[Al]+"subPropertyOf"),Vr(Kn[Mo]+"d3fend-object-property")))}function ev(i,e,t,n){const r=HI("");Yh(i,e,r),i.addQuad(Ki(r,Vr(Kn[Rs]+"type"),Vr(Kn[ha]+"Restriction"))),i.addQuad(Ki(r,Vr(Kn[ha]+"onProperty"),t)),i.addQuad(Ki(r,Vr(Kn[ha]+"someValuesFrom"),n))}function Ab(i){const e=i.replace(/\./g,"_");return Af(e)}function KI(i,e){const t=Object.prototype.toString.call(e).slice(8,-1);console.log(`${i} references ${e} of type ${t}`)}async function JI(){console.info("Calling serialize_graph_to_turtle...");const i=cI();Object.keys(gl).forEach(r=>{const s=gl[r];console.info("Adding prefix ",r," for ",s),i.setPrefixForURI(r,s)}),console.info("Echo store.namespaces: "+i.namespaces);const e=[],t=[];console.info("Starting node processing..."),await e9(zf,i,e),console.info("Completed node processing."),console.info("Starting edge processing..."),await r9(Sd,i,t),console.info("Completed edge processing promise.");const n=await new Promise((r,s)=>{ko(null,i,null,"text/turtle",(a,l)=>{if(a)s(a);else{let u=l;e.length>0&&(u+=`
# Skipped nodes (no d3f_class):
`,e.forEach(f=>{u+=`# Node ID: ${f.id}
`,JSON.stringify(f.data,null,2).split(`
`).forEach(p=>{u+=`# ${p}
`})})),t.length>0&&(u+=`#
# Skipped edges (no label lookup found.):
`,t.forEach(f=>{u+=`# Edge ID: ${f.id}
`,JSON.stringify(f.data,null,2).split(`
`).forEach(p=>{u+=`# ${p}
`})}),u+=`
`),r(u)}})});return console.info("Completed serialize_graph_to_turtle"),n}async function ZI(i){console.info("Calling serialize_graph_as_d3fend_extension_in_turtle()...");const e=FI+i+"#";let t={...Kn};t[""]=e;const n=new nI({prefixes:t}),r={},s={},a=[],l=[];QI(n,t,e),await t9(zf,n,e,a,r,s),await n9(Sd,n,l,r,s);let u=null;return n.end((f,h)=>{f?console.error(f):(u=h,a.length>0&&(u+=`
# Skipped nodes (no d3f_class):
`,a.forEach(v=>{u+=`# Node ID: ${v.id}
`,JSON.stringify(v.data,null,2).split(`
`).forEach(_=>{u+=`# ${_}
`})})),l.length>0&&(u+=`#
# Skipped edges (no label lookup found.):
`,l.forEach(v=>{u+=`# Edge ID: ${v.id}
`,JSON.stringify(v.data,null,2).split(`
`).forEach(_=>{u+=`# ${_}
`})}),u+=`
`),console.log(u))}),console.info("Completed serialize_graph_as_d3fend_extension_in_turtle()."),u}async function e9(i,e,t){console.info("Processing nodes as instances...");for(const n of i){const r=n.id,s=n.type,a=n.data.label;try{const l=await WI(n);if(console.info("Processing node as instance:",{node:n,node_id:r,d3f_class_node:l,label:a}),l){const u=Ab(r),f=hI(a.toString());KI("Processing node and data properties and using rdflib node name: ",l),e.add(u,bb("type"),l),e.add(u,wb("label"),f)}else t.push({id:r,type:s,data:n.data})}catch{console.error(`Lookup error for node: ${r}`)}}console.info("Done processing nodes as instances."),t.length>1&&console.warn("Skipped nodes:",t)}async function t9(i,e,t,n,r,s){console.info("Processing nodes as D3FEND extension classes...");for(const a of i){const l=a.id,u=a.type,f=Eb(a);let h=a.data.label.toString();console.log(`Processing node as class node_id: ${l} class_name: ${f}, class_label: ${h}`);let v=null;if(f.includes(":")){if(f.startsWith(":")){console.log(`new class for class_name: ${f}`);const p=f.substring(1);v=Vr(t+p),r[l]=v}else if(f.startsWith("d3f:")){let p=await Db(f);p?(console.log(`Lookup of ${f} gives: ${p}`),console.log(`Use d3fend class for class_name: ${f}`),v=Vr(f),s[l]=v):console.warn(`d3fend class: ${f} is invalid (not found).`)}}else console.log(`Use class_label as basis for class_name: ${h}`),console.warn("Class only had class label, treating label as local class name."),v=Vr(t+yb(h)),r[l]=v;v?(console.log("Class node is defined: "+JSON.stringify(v)),r[l]!==void 0&&(console.log("Class is in extension nodes."),e.addQuad(Ki(v,Vr(Kn[Rs]+"type"),Vr(Kn[ha]+"Class"))),h.startsWith(":")&&(h=mb(qI.startCase(h))),e.addQuad(Ki(v,Vr(Kn[Al]+"label"),$I(h))))):n.push({id:l,type:u,data:a.data})}console.log("Extension nodes: ",JSON.stringify(r)),console.log("Valid d3fend nodes: ",JSON.stringify(s)),console.log("Done processing nodes as D3FEND extension classes."),n.length>1&&console.warn("Skipped nodes:",n)}async function r9(i,e,t){console.info("Processing edges now!"),t.length=0;for(const n of i){const r=n.id,s=n.data.label,a=n.source,l=n.target;console.log(`edgeLabel: ${s}`);try{let u=null;if(s==="rdfs:subClassOf"?u=wb("subClassOf"):s==="rdf:type"||s==="a"?u=bb("type"):u=await vb(s),u){console.log(`Found property ${u} for ${s}`),console.info(`Adding subject inst:${a} property ${u} object inst:${l}`);try{const f=Ab(a),h=Af(l.replace(/\./g,"_"));e.add(f,sb(u),h),console.info(e.length)}catch{console.error(`Error adding triple for edgeId = ${r}, edgeLabel = ${s}`)}}else console.warn(`Bad property ${u} found for ${s}`),t.push({id:r,data:n.data})}catch(u){console.error(`Lookup error for edgeId: ${r} with edgeLabel: ${s} - ${u}`),t.push({id:r,data:n.data})}}console.info("Done processing edges."),t.length>1&&console.warn("Skipped edges:",t)}async function n9(i,e,t,n,r){console.info("Processing edges as properties and restrictions..."),t.length=0,console.info("Edges being processed; current_edges: ",JSON.stringify(i)),console.log(`Extension node keys: ${Object.keys(n)}`);const s=new Set(Object.keys(n));console.log(`Extension classes with no parent class at before processing edges for subClassOf ${JSON.stringify(Array.from(s))}`);for(const a of i){const l=a.id,u=a.data.label;let f=null;a.data.d3f_property!==void 0?f=a.data.d3f_property:a.data.techniqueId!==void 0&&(f=a.data.techniqueId),f=u,console.log(`d3f_property: ${f}, edge_label: ${u}`);const h=a.source,v=a.target;console.log(`subject id: ${h}, object id: ${v}`);let p=n[h];p||(p=r[h]);let d=n[v];if(d||(d=r[v]),console.log(`subject_named_node ${p} object_named_node ${d}`),typeof p>"u"||typeof d>"u")console.warn(`Either subject IRI ${p==null?void 0:p.value} or object IRI ${d==null?void 0:d.value} is still undefined after lookups.`);else if(!p||!d)console.warn(`Either subject IRI ${p==null?void 0:p.value} or object IRI ${d==null?void 0:d.value} is null after lookups.`);else{let _=f;if(_==="rdfs:subClassOf")if(h in r)console.warn(`Attempted to subclass d3fend class ${p.value} to another class (${d.value}).  Disallowed.`),t.push({id:l,label:u,data:a.data}),_=null;else{Yh(e,p,d),console.log(`Subclassed non-d3f subject for rdfs:subClassOf edge: '${p.value} rdfs:subClassOf .' ${d.value}`);for(const g of s)console.log(`${g} is of type ${typeof g}.`);s.delete(h),console.log(`Deleted ${h} of type ${typeof h} from unsubclassed extension nodes, leaving ${JSON.stringify(Array.from(s))}`)}else if(f.startsWith("d3f:")||!f.includes(":")){console.log(`Checking to see d3fend property ${f} exists`);try{const g=await vb(_);if(g){console.log(`Resolved d3f_property ${_} as: ${f}`),console.info(`Adding subject inst: ${p.value} property ${g} object inst: ${d.value}`);const b=Vr(g);ev(e,p,b,d)}else console.warn(`Bad property ${_} found for resolved d3f_property: ${f}`),t.push({id:l,label:u,data:a.data})}catch(g){console.error(`Lookup error for edge_id: ${l} with resolved d3f_property: ${f} - ${g}`),t.push({id:l,label:u,data:a.data})}}else if(console.log(`Checking to see if new property name makes sense: ${f}`),f.startsWith(":")?console.log(`${f} starts with a ':'!`):(console.warn(`${f} does not start with a ':'`),t.push({id:l,label:u,data:a.data}),f=null),f){console.log(`Writing restriction and property for ${f}`);const g=Vr(f);ev(e,p,g,d),YI(e,g)}}}if(console.log(`Extension classes with no parent class after processing edges for subClassOf ${JSON.stringify(Array.from(s))}`),s.size>0){const a=zf.reduce((l,u)=>(l[u.id]=u,l),{});for(const l of s){const u=n[l],f=a[l];f.node_type;const h=XI(f);Yh(e,u,h)}}console.info("Done processing edges as properties and restrictions."),t.length>1&&console.warn("Skipped edges:",t)}function Ea(i,e,t,n,r,s,a,l,u,f,h,v,p){const d={id:`${Math.random()}`,type:n,position:{x:l,y:u},data:{label:r,sequence:a,d3f_class:s,user_properties:[]},measured:{width:f,height:h},origin:[.5,0],selected:!1,dragging:!1};let _,g;p?(_=d.id,g=t.id):(_=t.id,g=d.id);const b={type:"editableEdge",data:{label:v},source:g,sourceHandle:"source",target:_,targetHandle:"target",id:`xy-edge__${g}source-${_}target`,selected:!1};e.update(D=>[...D,b]),i.update(D=>[...D,d])}function tv(i,e,t){const n=i.slice();return n[18]=e[t],n}const i9=i=>({}),rv=i=>({});function a9(i){let e;return{c(){e=V("No related offensive techniques in this release.")},l(t){e=H(t,"No related offensive techniques in this release.")},m(t,n){I(t,e,n)},p:at,i:at,o:at,d(t){t&&w(e)}}}function s9(i){let e,t;return e=new ga({props:{$$slots:{default:[f9]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r&16394&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function l9(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(n){e=se(n,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(n,r){I(n,e,r)},p:at,i:at,o:at,d(n){n&&w(e)}}}function nv(i){let e=i[18].off_tech_id.value.replace(/ |\./g,"")+"",t,n,r=i[18].off_tech_label.value+"",s,a,l="-->",u,f,h=i[18].off_artifact_rel_label.value.replace(/ /g,"")+"",v,p,d=Ze(i[18].off_artifact.value)+"",_,g,b=i[18].off_artifact_label.value+"",D,B,S,O,y=Ze(i[18].off_artifact.value)+"",N,T,q=i[18].off_tech_id.value.replace(/ |\./g,"")+"",F,j,A=i[18].off_tech_id.value.replace(/ |\./g,"")+"",L,k,R=Ze(i[18].off_artifact.value)+"",K,z,fe=Ze(i[18].off_artifact.value)+"",re,te;function G(J,_e){return _e&10&&(S=null),S==null&&(S=!!J[3].includes(J[18].off_tech_id.value.replace(/ |\./g,""))),S?u9:o9}let Q=G(i,-1),pe=Q(i);return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(" |"),v=V(h),p=V("| "),_=V(d),g=V('["'),D=V(b),B=V(`"];
            `),pe.c(),O=V(`
            class `),N=V(y),T=V(" ArtifactNode; click "),F=V(q),j=V(` href "javascript:da_to_off_callback('`),L=V(A),k=V(`')"; click `),K=V(R),z=V(' href "/dao/artifact/d3f:'),re=V(fe),te=V('";')},l(J){t=H(J,e),n=H(J,'["'),s=H(J,r),a=H(J,'"] '),u=H(J,l),f=H(J," |"),v=H(J,h),p=H(J,"| "),_=H(J,d),g=H(J,'["'),D=H(J,b),B=H(J,`"];
            `),pe.l(J),O=H(J,`
            class `),N=H(J,y),T=H(J," ArtifactNode; click "),F=H(J,q),j=H(J,` href "javascript:da_to_off_callback('`),L=H(J,A),k=H(J,`')"; click `),K=H(J,R),z=H(J,' href "/dao/artifact/d3f:'),re=H(J,fe),te=H(J,'";')},m(J,_e){I(J,t,_e),I(J,n,_e),I(J,s,_e),I(J,a,_e),I(J,u,_e),I(J,f,_e),I(J,v,_e),I(J,p,_e),I(J,_,_e),I(J,g,_e),I(J,D,_e),I(J,B,_e),pe.m(J,_e),I(J,O,_e),I(J,N,_e),I(J,T,_e),I(J,F,_e),I(J,j,_e),I(J,L,_e),I(J,k,_e),I(J,K,_e),I(J,z,_e),I(J,re,_e),I(J,te,_e)},p(J,_e){_e&2&&e!==(e=J[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Ne(t,e),_e&2&&r!==(r=J[18].off_tech_label.value+"")&&Ne(s,r),_e&2&&h!==(h=J[18].off_artifact_rel_label.value.replace(/ /g,"")+"")&&Ne(v,h),_e&2&&d!==(d=Ze(J[18].off_artifact.value)+"")&&Ne(_,d),_e&2&&b!==(b=J[18].off_artifact_label.value+"")&&Ne(D,b),Q===(Q=G(J,_e))&&pe?pe.p(J,_e):(pe.d(1),pe=Q(J),pe&&(pe.c(),pe.m(O.parentNode,O))),_e&2&&y!==(y=Ze(J[18].off_artifact.value)+"")&&Ne(N,y),_e&2&&q!==(q=J[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Ne(F,q),_e&2&&A!==(A=J[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Ne(L,A),_e&2&&R!==(R=Ze(J[18].off_artifact.value)+"")&&Ne(K,R),_e&2&&fe!==(fe=Ze(J[18].off_artifact.value)+"")&&Ne(re,fe)},d(J){J&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B),w(O),w(N),w(T),w(F),w(j),w(L),w(k),w(K),w(z),w(re),w(te)),pe.d(J)}}}function o9(i){let e,t=i[18].off_tech_id.value.replace(/ |\./g,"")+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" OffensiveTechniqueNode;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," OffensiveTechniqueNode;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a&2&&t!==(t=s[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Ne(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function u9(i){let e,t=i[18].off_tech_id.value.replace(/ |\./g,"")+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" SelectedOffensiveTechniqueNode;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," SelectedOffensiveTechniqueNode;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a&2&&t!==(t=s[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Ne(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function iv(i){let e=i[6].edge_is_unique(i[18].off_tech_label.value,i[18].off_artifact_rel_label.value,i[18].off_artifact_label.value),t,n=e&&nv(i);return{c(){n&&n.c(),t=$e()},l(r){n&&n.l(r),t=$e()},m(r,s){n&&n.m(r,s),I(r,t,s)},p(r,s){s&2&&(e=r[6].edge_is_unique(r[18].off_tech_label.value,r[18].off_artifact_rel_label.value,r[18].off_artifact_label.value)),e?n?n.p(r,s):(n=nv(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&w(t),n&&n.d(r)}}}function f9(i){let e,t,n=lt(i[1].da_to_off.results.bindings),r=[];for(let s=0;s<n.length;s+=1)r[s]=iv(tv(i,n,s));return{c(){e=V(`graph LR;
        `);for(let s=0;s<r.length;s+=1)r[s].c();t=$e()},l(s){e=H(s,`graph LR;
        `);for(let a=0;a<r.length;a+=1)r[a].l(s);t=$e()},m(s,a){I(s,e,a);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(s,a);I(s,t,a)},p(s,a){if(a&74){n=lt(s[1].da_to_off.results.bindings);let l;for(l=0;l<n.length;l+=1){const u=tv(s,n,l);r[l]?r[l].p(u,a):(r[l]=iv(u),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(s){s&&(w(e),w(t)),rr(r,s)}}}function c9(i){let e,t,n,r,s,a,l,u,f,h,v,p,d,_=i[3].length+"",g,b,D,B,S;const O=i[9].header,y=Dr(O,i,i[14],rv),N=i[9].default,T=Dr(N,i,i[14],null),q=[l9,s9,a9],F=[];function j(A,L){return A[1]?A[1].da_to_off.results.bindings.length>0?1:2:0}return l=j(i),u=F[l]=q[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),n=V(`
    Select Attack Techniques
    `),T&&T.c(),r=ve(),s=ae("hr"),a=ve(),u.c(),f=ve(),h=ae("hr"),v=ve(),p=ae("button"),d=V("Insert ("),g=V(_),b=V(")"),this.h()},l(A){e=se(A,"DIALOG",{class:!0});var L=Be(e);t=se(L,"DIV",{class:!0});var k=Be(t);y&&y.l(k),n=H(k,`
    Select Attack Techniques
    `),T&&T.l(k),r=ge(k),s=se(k,"HR",{}),a=ge(k),u.l(k),f=ge(k),h=se(k,"HR",{}),v=ge(k),p=se(k,"BUTTON",{class:!0});var R=Be(p);d=H(R,"Insert ("),g=H(R,_),b=H(R,")"),R.forEach(w),k.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,ue(p,"class","svelte-1ai9hff"),ue(t,"class","svelte-1ai9hff"),ue(e,"class","svelte-1ai9hff")},m(A,L){I(A,e,L),$(e,t),y&&y.m(t,null),$(t,n),T&&T.m(t,null),$(t,r),$(t,s),$(t,a),F[l].m(t,null),$(t,f),$(t,h),$(t,v),$(t,p),$(p,d),$(p,g),$(p,b),i[11](e),D=!0,p.focus(),B||(S=[Ie(p,"click",i[7]),Ie(t,"click",Mr(i[10])),Ie(e,"close",i[12]),Ie(e,"click",va(i[13]))],B=!0)},p(A,[L]){y&&y.p&&(!D||L&16384)&&Ar(y,O,A,A[14],D?Cr(O,A[14],L,i9):kr(A[14]),rv),T&&T.p&&(!D||L&16384)&&Ar(T,N,A,A[14],D?Cr(N,A[14],L,null):kr(A[14]),null);let k=l;l=j(A),l===k?F[l].p(A,L):(It(),me(F[k],1,1,()=>{F[k]=null}),Rt(),u=F[l],u?u.p(A,L):(u=F[l]=q[l](A),u.c()),he(u,1),u.m(t,f)),(!D||L&8)&&_!==(_=A[3].length+"")&&Ne(g,_)},i(A){D||(he(y,A),he(T,A),he(u),D=!0)},o(A){me(y,A),me(T,A),me(u),D=!1},d(A){A&&w(e),y&&y.d(A),T&&T.d(A),F[l].d(),i[11](null),B=!1,Ht(S)}}}function h9(i,e,t){let n,r,s,{$$slots:a={},$$scope:l}=e,{show_attack_modal:u}=e,{parent_node:f}=e,{data:h}=e,v;const p=Ii();yt(i,p,y=>t(16,s=y));const d=Ri();yt(i,d,y=>t(15,r=y));let _=new Ha;function g(y){n.includes(y)?t(3,n=n.filter(N=>N!==y)):n.push(y),t(3,n)}window.da_to_off_callback=function(y){g(y)};function b(){let y=0,N=200,T=100;for(const q of n){let F=h.da_to_off.results.bindings.find(j=>j.off_tech_id.value.replace(/ |\./g,"")==q);F&&(Ea(p,d,f,"attackSelectorNode",F.off_tech_label.value,"d3f:"+F.off_tech_id.value,f.data.sequence,f.position.x+y*N,f.position.y+T,182,63,F.off_artifact_rel_label.value,!1),y+=1)}p.set(s),d.set(r),v&&v.close(),t(3,n=[])}function D(y){Zn.call(this,i,y)}function B(y){Lr[y?"unshift":"push"](()=>{v=y,t(2,v)})}const S=()=>t(0,u=!1),O=()=>{v.close(),t(3,n=[])};return i.$$set=y=>{"show_attack_modal"in y&&t(0,u=y.show_attack_modal),"parent_node"in y&&t(8,f=y.parent_node),"data"in y&&t(1,h=y.data),"$$scope"in y&&t(14,l=y.$$scope)},i.$$.update=()=>{i.$$.dirty&5&&u&&v&&(v.showModal(),_.reset()),i.$$.dirty&5&&!u&&v&&(v.close(),_.reset())},t(3,n=[]),[u,h,v,n,p,d,_,b,f,a,D,B,S,O,l]}class d9 extends Gt{constructor(e){super(),Xt(this,e,h9,c9,Et,{show_attack_modal:0,parent_node:8,data:1})}}function av(i,e,t){const n=i.slice();return n[23]=e[t],n}const p9=i=>({}),sv=i=>({});function _9(i){let e;return{c(){e=V("No related defensive techniques in this release.")},l(t){e=H(t,"No related defensive techniques in this release.")},m(t,n){I(t,e,n)},p:at,i:at,o:at,d(t){t&&w(e)}}}function v9(i){let e,t,n,r,s,a=i[4],l,u;function f(p){i[14](p)}let h={toggles:i[5]};i[4]!==void 0&&(h.selected=i[4]),n=new l1({props:h}),Lr.push(()=>gn(n,"selected",f));let v=fv(i);return{c(){e=ae("br"),t=ve(),Xe(n.$$.fragment),s=ve(),v.c(),l=$e()},l(p){e=se(p,"BR",{}),t=ge(p),We(n.$$.fragment,p),s=ge(p),v.l(p),l=$e()},m(p,d){I(p,e,d),I(p,t,d),Qe(n,p,d),I(p,s,d),v.m(p,d),I(p,l,d),u=!0},p(p,d){const _={};d&32&&(_.toggles=p[5]),!r&&d&16&&(r=!0,_.selected=p[4],vn(()=>r=!1)),n.$set(_),d&16&&Et(a,a=p[4])?(It(),me(v,1,1,at),Rt(),v=fv(p),v.c(),he(v,1),v.m(l.parentNode,l)):v.p(p,d)},i(p){u||(he(n.$$.fragment,p),he(v),u=!0)},o(p){me(n.$$.fragment,p),me(v),u=!1},d(p){p&&(w(e),w(t),w(s),w(l)),Ye(n,p),v.d(p)}}}function g9(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(n){e=se(n,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(n,r){I(n,e,r)},p:at,i:at,o:at,d(n){n&&w(e)}}}function lv(i){let e=!i[4].includes(i[23].def_tactic_label.value),t,n=e&&ov(i);return{c(){n&&n.c(),t=$e()},l(r){n&&n.l(r),t=$e()},m(r,s){n&&n.m(r,s),I(r,t,s)},p(r,s){s&18&&(e=!r[4].includes(r[23].def_tactic_label.value)),e?n?n.p(r,s):(n=ov(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&w(t),n&&n.d(r)}}}function ov(i){let e=Ze(i[23].def_tech.value)+"",t,n,r=i[23].def_tech_label.value+"",s,a,l="-->",u,f,h=i[23].def_artifact_rel_label.value.replace(/ /g,"")+"",v,p,d=Ze(i[23].def_artifact.value)+"",_,g,b=i[23].def_artifact_label.value+"",D,B,S,O,y=Ze(i[23].def_artifact.value)+"",N,T,q=Ze(i[23].def_tech.value)+"",F,j,A=Ze(i[23].def_tech.value)+"",L,k,R=Ze(i[23].def_artifact.value)+"",K,z,fe=Ze(i[23].def_artifact.value)+"",re,te;function G(J,_e){return _e&66&&(S=null),S==null&&(S=!!J[6].includes(Ze(J[23].def_tech.value))),S?b9:m9}let Q=G(i,-1),pe=Q(i);return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(`
                | `),v=V(h),p=V(" | "),_=V(d),g=V('["'),D=V(b),B=V(`"];
                `),pe.c(),O=V(` 
                class `),N=V(y),T=V(` ArtifactNode;
                click `),F=V(q),j=V(` href "javascript:da_to_def_callback('`),L=V(A),k=V(`')";
                click `),K=V(R),z=V(' href "/dao/artifact/d3f:'),re=V(fe),te=V('";')},l(J){t=H(J,e),n=H(J,'["'),s=H(J,r),a=H(J,'"] '),u=H(J,l),f=H(J,`
                | `),v=H(J,h),p=H(J," | "),_=H(J,d),g=H(J,'["'),D=H(J,b),B=H(J,`"];
                `),pe.l(J),O=H(J,` 
                class `),N=H(J,y),T=H(J,` ArtifactNode;
                click `),F=H(J,q),j=H(J,` href "javascript:da_to_def_callback('`),L=H(J,A),k=H(J,`')";
                click `),K=H(J,R),z=H(J,' href "/dao/artifact/d3f:'),re=H(J,fe),te=H(J,'";')},m(J,_e){I(J,t,_e),I(J,n,_e),I(J,s,_e),I(J,a,_e),I(J,u,_e),I(J,f,_e),I(J,v,_e),I(J,p,_e),I(J,_,_e),I(J,g,_e),I(J,D,_e),I(J,B,_e),pe.m(J,_e),I(J,O,_e),I(J,N,_e),I(J,T,_e),I(J,F,_e),I(J,j,_e),I(J,L,_e),I(J,k,_e),I(J,K,_e),I(J,z,_e),I(J,re,_e),I(J,te,_e)},p(J,_e){_e&2&&e!==(e=Ze(J[23].def_tech.value)+"")&&Ne(t,e),_e&2&&r!==(r=J[23].def_tech_label.value+"")&&Ne(s,r),_e&2&&h!==(h=J[23].def_artifact_rel_label.value.replace(/ /g,"")+"")&&Ne(v,h),_e&2&&d!==(d=Ze(J[23].def_artifact.value)+"")&&Ne(_,d),_e&2&&b!==(b=J[23].def_artifact_label.value+"")&&Ne(D,b),Q===(Q=G(J,_e))&&pe?pe.p(J,_e):(pe.d(1),pe=Q(J),pe&&(pe.c(),pe.m(O.parentNode,O))),_e&2&&y!==(y=Ze(J[23].def_artifact.value)+"")&&Ne(N,y),_e&2&&q!==(q=Ze(J[23].def_tech.value)+"")&&Ne(F,q),_e&2&&A!==(A=Ze(J[23].def_tech.value)+"")&&Ne(L,A),_e&2&&R!==(R=Ze(J[23].def_artifact.value)+"")&&Ne(K,R),_e&2&&fe!==(fe=Ze(J[23].def_artifact.value)+"")&&Ne(re,fe)},d(J){J&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B),w(O),w(N),w(T),w(F),w(j),w(L),w(k),w(K),w(z),w(re),w(te)),pe.d(J)}}}function m9(i){let e,t=Ze(i[23].def_tech.value)+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" DefensiveTechniqueNode;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," DefensiveTechniqueNode;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a&2&&t!==(t=Ze(s[23].def_tech.value)+"")&&Ne(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function b9(i){let e,t=Ze(i[23].def_tech.value)+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" SelectedDefensiveTechniqueNode;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," SelectedDefensiveTechniqueNode;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a&2&&t!==(t=Ze(s[23].def_tech.value)+"")&&Ne(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function uv(i){let e=i[3].edge_is_unique(i[23].def_tech_label.value,i[23].def_artifact_rel_label.value,i[23].def_artifact_label.value),t,n=e&&lv(i);return{c(){n&&n.c(),t=$e()},l(r){n&&n.l(r),t=$e()},m(r,s){n&&n.m(r,s),I(r,t,s)},p(r,s){s&10&&(e=r[3].edge_is_unique(r[23].def_tech_label.value,r[23].def_artifact_rel_label.value,r[23].def_artifact_label.value)),e?n?n.p(r,s):(n=lv(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&w(t),n&&n.d(r)}}}function w9(i){let e,t,n=lt(i[1].da_to_def.results.bindings),r=[];for(let s=0;s<n.length;s+=1)r[s]=uv(av(i,n,s));return{c(){e=V(`graph LR;
          `);for(let s=0;s<r.length;s+=1)r[s].c();t=$e()},l(s){e=H(s,`graph LR;
          `);for(let a=0;a<r.length;a+=1)r[a].l(s);t=$e()},m(s,a){I(s,e,a);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(s,a);I(s,t,a)},p(s,a){if(a&90){n=lt(s[1].da_to_def.results.bindings);let l;for(l=0;l<n.length;l+=1){const u=av(s,n,l);r[l]?r[l].p(u,a):(r[l]=uv(u),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(s){s&&(w(e),w(t)),rr(r,s)}}}function fv(i){let e,t;return e=new ga({props:{$$slots:{default:[w9]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r&262234&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function y9(i){let e,t,n,r,s,a,l,u,f,h,v,p,d,_=i[6].length+"",g,b,D,B,S;const O=i[12].header,y=Dr(O,i,i[18],sv),N=i[12].default,T=Dr(N,i,i[18],null),q=[g9,v9,_9],F=[];function j(A,L){return A[1]?A[1].da_to_def.results.bindings.length>0?1:2:0}return l=j(i),u=F[l]=q[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),n=V(`
    Select Countermeasure Techniques
    `),T&&T.c(),r=ve(),s=ae("hr"),a=ve(),u.c(),f=ve(),h=ae("hr"),v=ve(),p=ae("button"),d=V("Insert ("),g=V(_),b=V(")"),this.h()},l(A){e=se(A,"DIALOG",{class:!0});var L=Be(e);t=se(L,"DIV",{class:!0});var k=Be(t);y&&y.l(k),n=H(k,`
    Select Countermeasure Techniques
    `),T&&T.l(k),r=ge(k),s=se(k,"HR",{}),a=ge(k),u.l(k),f=ge(k),h=se(k,"HR",{}),v=ge(k),p=se(k,"BUTTON",{class:!0});var R=Be(p);d=H(R,"Insert ("),g=H(R,_),b=H(R,")"),R.forEach(w),k.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,ue(p,"class","svelte-1yq7x1p"),ue(t,"class","svelte-1yq7x1p"),ue(e,"class","svelte-1yq7x1p")},m(A,L){I(A,e,L),$(e,t),y&&y.m(t,null),$(t,n),T&&T.m(t,null),$(t,r),$(t,s),$(t,a),F[l].m(t,null),$(t,f),$(t,h),$(t,v),$(t,p),$(p,d),$(p,g),$(p,b),i[15](e),D=!0,p.focus(),B||(S=[Ie(p,"click",i[9]),Ie(t,"click",Mr(i[13])),Ie(e,"close",i[16]),Ie(e,"click",va(i[17]))],B=!0)},p(A,[L]){y&&y.p&&(!D||L&262144)&&Ar(y,O,A,A[18],D?Cr(O,A[18],L,p9):kr(A[18]),sv),T&&T.p&&(!D||L&262144)&&Ar(T,N,A,A[18],D?Cr(N,A[18],L,null):kr(A[18]),null);let k=l;l=j(A),l===k?F[l].p(A,L):(It(),me(F[k],1,1,()=>{F[k]=null}),Rt(),u=F[l],u?u.p(A,L):(u=F[l]=q[l](A),u.c()),he(u,1),u.m(t,f)),(!D||L&64)&&_!==(_=A[6].length+"")&&Ne(g,_)},i(A){D||(he(y,A),he(T,A),he(u),D=!0)},o(A){me(y,A),me(T,A),me(u),D=!1},d(A){A&&w(e),y&&y.d(A),T&&T.d(A),F[l].d(),i[15](null),B=!1,Ht(S)}}}function E9(i,e,t){let n,r,s,{$$slots:a={},$$scope:l}=e,{show_defend_modal:u}=e,{parent_node:f}=e,{data:h}=e,v;const p=Ii();yt(i,p,j=>t(20,s=j));const d=Ri();yt(i,d,j=>t(19,r=j));let _=new Ha;function g(j){n.includes(j)?t(6,n=n.filter(A=>A!==j)):n.push(j),t(6,n)}window.da_to_def_callback=function(j){g(j)};function b(){let j=0,A=200,L=100;for(const k of n){let R=h.da_to_def.results.bindings.find(K=>Ze(K.def_tech.value)==k);R&&(Ea(p,d,f,"countermeasureSelectorNode",R.def_tech_label.value,"d3f:"+Ze(R.def_tech.value),f.data.sequence,f.position.x+j*A,f.position.y-L,182,63,R.def_artifact_rel_label.value,!1),j+=1)}p.set(s),d.set(r),v&&v.close(),t(6,n=[])}let D=new Set,B=[],S=[];a1(B,S)&&(S=[]);function O(j){for(const A of n){let L=h.da_to_def.results.bindings.find(k=>Ze(k.def_tech.value)==A);j.includes(L.def_tactic_label.value)&&t(6,n=n.filter(k=>k!==A))}t(6,n)}function y(j){Zn.call(this,i,j)}function N(j){S=j,t(4,S)}function T(j){Lr[j?"unshift":"push"](()=>{v=j,t(2,v)})}const q=()=>t(0,u=!1),F=()=>{v.close(),t(6,n=[])};return i.$$set=j=>{"show_defend_modal"in j&&t(0,u=j.show_defend_modal),"parent_node"in j&&t(10,f=j.parent_node),"data"in j&&t(1,h=j.data),"$$scope"in j&&t(18,l=j.$$scope)},i.$$.update=()=>{i.$$.dirty&5&&u&&v&&(v.showModal(),t(3,_=new Ha)),i.$$.dirty&5&&!u&&v&&v.close(),i.$$.dirty&2050&&h&&(h.da_to_def.results.bindings.forEach(j=>{D.add(j.def_tactic_label.value)}),t(11,D),t(1,h)),i.$$.dirty&2048&&t(5,B=Array.from(D).sort(function(j,A){return ff[j]-ff[A]})),i.$$.dirty&16&&O(S),i.$$.dirty&24&&_.reset(S)},t(6,n=[]),[u,h,v,_,S,B,n,p,d,b,f,D,a,y,N,T,q,F,l]}class D9 extends Gt{constructor(e){super(),Xt(this,e,E9,y9,Et,{show_defend_modal:0,parent_node:10,data:1})}}function cv(i,e,t){const n=i.slice();return n[26]=e[t],n}function hv(i,e,t){const n=i.slice();return n[29]=e[t],n}function dv(i,e,t){const n=i.slice();return n[32]=e[t],n}function pv(i,e,t){const n=i.slice();return n[26]=e[t],n}function _v(i,e,t){const n=i.slice();return n[29]=e[t],n}const A9=i=>({}),vv=i=>({});function k9(i){let e;return{c(){e=V("No related weaknesses in this release.")},l(t){e=H(t,"No related weaknesses in this release.")},m(t,n){I(t,e,n)},p:at,i:at,o:at,d(t){t&&w(e)}}}function C9(i){let e,t;return e=new ga({props:{$$slots:{default:[N9]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[0]&4194750&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function T9(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(n){e=se(n,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(n,r){I(n,e,r)},p:at,i:at,o:at,d(n){n&&w(e)}}}function gv(i){let e,t=lt(i[32]["d3f:outbound"]),n=[];for(let r=0;r<t.length;r+=1)n[r]=wv(pv(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=$e()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&430){t=lt(r[32]["d3f:outbound"]);let a;for(a=0;a<t.length;a+=1){const l=pv(r,t,a);n[a]?n[a].p(l,s):(n[a]=wv(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),rr(n,r)}}}function mv(i){let e,t=i[32]["@id"]+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" selected_inbound_node;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," selected_inbound_node;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a[0]&160&&t!==(t=s[32]["@id"]+"")&&Ne(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function bv(i){let e=i[32]["@id"]+"",t,n,r=i[32]["rdfs:label"][0]+"",s,a,l="-->",u,f,h=Ze(i[26]["@id"])+"",v,p,d=i[29]["@id"]+"",_,g,b=i[7].i(i[29]["@id"])["rdfs:label"][0]+"",D,B,S=i[32]["@id"]+"",O,y,N=i[32]["@id"]+"",T,q,F,j,A=i[8].includes(i[32]["@id"]),L,k=i[29]["@id"]+"",R,K,z=i[29]["@id"]+"",fe,re,te,G,Q=i[32]["@id"]+"",pe,J,_e=i[32]["@id"]+"",tt,rt,Pe=i[29]["@id"]+"",je,ke,He=i[3](i[29])+"",ot,kt,Re=A&&mv(i);return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(" | "),v=V(h),p=V(" | "),_=V(d),g=V('["'),D=V(b),B=V(`"];
                class `),O=V(S),y=V(" inbound_node; style "),T=V(N),q=V(" fill:"),F=V(i[1]),j=V(`;
                `),Re&&Re.c(),L=V(`
                class `),R=V(k),K=V(" RootArtifactNode; style "),fe=V(z),re=V(" fill:"),te=V(i[2]),G=V(`;
                click `),pe=V(Q),J=V(` href "javascript:da_to_weak_callback('`),tt=V(_e),rt=V(`')"; click `),je=V(Pe),ke=V(' href "'),ot=V(He),kt=V('";')},l(le){t=H(le,e),n=H(le,'["'),s=H(le,r),a=H(le,'"] '),u=H(le,l),f=H(le," | "),v=H(le,h),p=H(le," | "),_=H(le,d),g=H(le,'["'),D=H(le,b),B=H(le,`"];
                class `),O=H(le,S),y=H(le," inbound_node; style "),T=H(le,N),q=H(le," fill:"),F=H(le,i[1]),j=H(le,`;
                `),Re&&Re.l(le),L=H(le,`
                class `),R=H(le,k),K=H(le," RootArtifactNode; style "),fe=H(le,z),re=H(le," fill:"),te=H(le,i[2]),G=H(le,`;
                click `),pe=H(le,Q),J=H(le,` href "javascript:da_to_weak_callback('`),tt=H(le,_e),rt=H(le,`')"; click `),je=H(le,Pe),ke=H(le,' href "'),ot=H(le,He),kt=H(le,'";')},m(le,Ue){I(le,t,Ue),I(le,n,Ue),I(le,s,Ue),I(le,a,Ue),I(le,u,Ue),I(le,f,Ue),I(le,v,Ue),I(le,p,Ue),I(le,_,Ue),I(le,g,Ue),I(le,D,Ue),I(le,B,Ue),I(le,O,Ue),I(le,y,Ue),I(le,T,Ue),I(le,q,Ue),I(le,F,Ue),I(le,j,Ue),Re&&Re.m(le,Ue),I(le,L,Ue),I(le,R,Ue),I(le,K,Ue),I(le,fe,Ue),I(le,re,Ue),I(le,te,Ue),I(le,G,Ue),I(le,pe,Ue),I(le,J,Ue),I(le,tt,Ue),I(le,rt,Ue),I(le,je,Ue),I(le,ke,Ue),I(le,ot,Ue),I(le,kt,Ue)},p(le,Ue){Ue[0]&160&&e!==(e=le[32]["@id"]+"")&&Ne(t,e),Ue[0]&160&&r!==(r=le[32]["rdfs:label"][0]+"")&&Ne(s,r),Ue[0]&160&&h!==(h=Ze(le[26]["@id"])+"")&&Ne(v,h),Ue[0]&160&&d!==(d=le[29]["@id"]+"")&&Ne(_,d),Ue[0]&160&&b!==(b=le[7].i(le[29]["@id"])["rdfs:label"][0]+"")&&Ne(D,b),Ue[0]&160&&S!==(S=le[32]["@id"]+"")&&Ne(O,S),Ue[0]&160&&N!==(N=le[32]["@id"]+"")&&Ne(T,N),Ue[0]&2&&Ne(F,le[1]),Ue[0]&416&&(A=le[8].includes(le[32]["@id"])),A?Re?Re.p(le,Ue):(Re=mv(le),Re.c(),Re.m(L.parentNode,L)):Re&&(Re.d(1),Re=null),Ue[0]&160&&k!==(k=le[29]["@id"]+"")&&Ne(R,k),Ue[0]&160&&z!==(z=le[29]["@id"]+"")&&Ne(fe,z),Ue[0]&4&&Ne(te,le[2]),Ue[0]&160&&Q!==(Q=le[32]["@id"]+"")&&Ne(pe,Q),Ue[0]&160&&_e!==(_e=le[32]["@id"]+"")&&Ne(tt,_e),Ue[0]&160&&Pe!==(Pe=le[29]["@id"]+"")&&Ne(je,Pe),Ue[0]&168&&He!==(He=le[3](le[29])+"")&&Ne(ot,He)},d(le){le&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B),w(O),w(y),w(T),w(q),w(F),w(j),w(L),w(R),w(K),w(fe),w(re),w(te),w(G),w(pe),w(J),w(tt),w(rt),w(je),w(ke),w(ot),w(kt)),Re&&Re.d(le)}}}function wv(i){let e,t=lt(i[32][i[26]["@id"]]),n=[];for(let r=0;r<t.length;r+=1)n[r]=bv(_v(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=$e()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&430){t=lt(r[32][r[26]["@id"]]);let a;for(a=0;a<t.length;a+=1){const l=_v(r,t,a);n[a]?n[a].p(l,s):(n[a]=bv(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),rr(n,r)}}}function yv(i){let e,t=i[32]["d3f:outbound"]&&gv(i);return{c(){t&&t.c(),e=$e()},l(n){t&&t.l(n),e=$e()},m(n,r){t&&t.m(n,r),I(n,e,r)},p(n,r){n[32]["d3f:outbound"]?t?t.p(n,r):(t=gv(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&w(e),t&&t.d(n)}}}function Ev(i){let e,t=lt(i[7].i(i[5].description["@id"])["d3f:outbound"]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Av(cv(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=$e()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&184){t=lt(r[7].i(r[5].description["@id"])["d3f:outbound"]);let a;for(a=0;a<t.length;a+=1){const l=cv(r,t,a);n[a]?n[a].p(l,s):(n[a]=Av(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),rr(n,r)}}}function Dv(i){let e=i[5].description["@id"]+"",t,n,r=i[7].i(i[5].description["@id"])["rdfs:label"][0]+"",s,a,l="-->",u,f,h=Ze(i[26]["@id"])+"",v,p,d=i[29]["@id"]+"",_,g,b=i[7].graph[i[7].index[i[29]["@id"]]]["rdfs:label"][0]+"",D,B,S=i[5].description["@id"]+"",O,y,N=i[29]["@id"]+"",T,q,F=i[5].description["@id"]+"",j,A,L=i[3](i[5].description["@id"])+"",k,R,K=i[29]["@id"]+"",z,fe,re=i[4](i[29])+"",te,G;return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(" | "),v=V(h),p=V(" | "),_=V(d),g=V('["'),D=V(b),B=V('"]; class '),O=V(S),y=V(" RootArtifactNode; class "),T=V(N),q=V(` ArtifactNode;
              click `),j=V(F),A=V(' href "'),k=V(L),R=V('"; click '),z=V(K),fe=V(' href "'),te=V(re),G=V('";')},l(Q){t=H(Q,e),n=H(Q,'["'),s=H(Q,r),a=H(Q,'"] '),u=H(Q,l),f=H(Q," | "),v=H(Q,h),p=H(Q," | "),_=H(Q,d),g=H(Q,'["'),D=H(Q,b),B=H(Q,'"]; class '),O=H(Q,S),y=H(Q," RootArtifactNode; class "),T=H(Q,N),q=H(Q,` ArtifactNode;
              click `),j=H(Q,F),A=H(Q,' href "'),k=H(Q,L),R=H(Q,'"; click '),z=H(Q,K),fe=H(Q,' href "'),te=H(Q,re),G=H(Q,'";')},m(Q,pe){I(Q,t,pe),I(Q,n,pe),I(Q,s,pe),I(Q,a,pe),I(Q,u,pe),I(Q,f,pe),I(Q,v,pe),I(Q,p,pe),I(Q,_,pe),I(Q,g,pe),I(Q,D,pe),I(Q,B,pe),I(Q,O,pe),I(Q,y,pe),I(Q,T,pe),I(Q,q,pe),I(Q,j,pe),I(Q,A,pe),I(Q,k,pe),I(Q,R,pe),I(Q,z,pe),I(Q,fe,pe),I(Q,te,pe),I(Q,G,pe)},p(Q,pe){pe[0]&32&&e!==(e=Q[5].description["@id"]+"")&&Ne(t,e),pe[0]&160&&r!==(r=Q[7].i(Q[5].description["@id"])["rdfs:label"][0]+"")&&Ne(s,r),pe[0]&160&&h!==(h=Ze(Q[26]["@id"])+"")&&Ne(v,h),pe[0]&160&&d!==(d=Q[29]["@id"]+"")&&Ne(_,d),pe[0]&160&&b!==(b=Q[7].graph[Q[7].index[Q[29]["@id"]]]["rdfs:label"][0]+"")&&Ne(D,b),pe[0]&32&&S!==(S=Q[5].description["@id"]+"")&&Ne(O,S),pe[0]&160&&N!==(N=Q[29]["@id"]+"")&&Ne(T,N),pe[0]&32&&F!==(F=Q[5].description["@id"]+"")&&Ne(j,F),pe[0]&40&&L!==(L=Q[3](Q[5].description["@id"])+"")&&Ne(k,L),pe[0]&160&&K!==(K=Q[29]["@id"]+"")&&Ne(z,K),pe[0]&176&&re!==(re=Q[4](Q[29])+"")&&Ne(te,re)},d(Q){Q&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B),w(O),w(y),w(T),w(q),w(j),w(A),w(k),w(R),w(z),w(fe),w(te),w(G))}}}function Av(i){let e,t=lt(i[7].i(i[5].description["@id"])[i[26]["@id"]]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Dv(hv(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=$e()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&184){t=lt(r[7].i(r[5].description["@id"])[r[26]["@id"]]);let a;for(a=0;a<t.length;a+=1){const l=hv(r,t,a);n[a]?n[a].p(l,s):(n[a]=Dv(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),rr(n,r)}}}function N9(i){let e,t,n=i[7].i(i[5].description["@id"])&&i[7].i(i[5].description["@id"])["d3f:outbound"],r,s=lt(i[7].graph.filter(i[18])),a=[];for(let u=0;u<s.length;u+=1)a[u]=yv(dv(i,s,u));let l=n&&Ev(i);return{c(){e=V(`graph LR;
        `);for(let u=0;u<a.length;u+=1)a[u].c();t=ve(),l&&l.c(),r=$e()},l(u){e=H(u,`graph LR;
        `);for(let f=0;f<a.length;f+=1)a[f].l(u);t=ge(u),l&&l.l(u),r=$e()},m(u,f){I(u,e,f);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(u,f);I(u,t,f),l&&l.m(u,f),I(u,r,f)},p(u,f){if(f[0]&430){s=lt(u[7].graph.filter(u[18]));let h;for(h=0;h<s.length;h+=1){const v=dv(u,s,h);a[h]?a[h].p(v,f):(a[h]=yv(v),a[h].c(),a[h].m(t.parentNode,t))}for(;h<a.length;h+=1)a[h].d(1);a.length=s.length}f[0]&160&&(n=u[7].i(u[5].description["@id"])&&u[7].i(u[5].description["@id"])["d3f:outbound"]),n?l?l.p(u,f):(l=Ev(u),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(u){u&&(w(e),w(t),w(r)),rr(a,u),l&&l.d(u)}}}function S9(i){let e,t,n,r,s,a,l,u,f,h,v,p,d,_=i[8].length+"",g,b,D,B,S;const O=i[16].header,y=Dr(O,i,i[22],vv),N=i[16].default,T=Dr(N,i,i[22],null),q=[T9,C9,k9],F=[];function j(A,L){return A[5]?A[7].graph.length>0?1:2:0}return l=j(i),u=F[l]=q[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),n=V(`
    Select Weaknesses
    `),T&&T.c(),r=ve(),s=ae("hr"),a=ve(),u.c(),f=ve(),h=ae("hr"),v=ve(),p=ae("button"),d=V("Insert ("),g=V(_),b=V(")"),this.h()},l(A){e=se(A,"DIALOG",{class:!0});var L=Be(e);t=se(L,"DIV",{class:!0});var k=Be(t);y&&y.l(k),n=H(k,`
    Select Weaknesses
    `),T&&T.l(k),r=ge(k),s=se(k,"HR",{}),a=ge(k),u.l(k),f=ge(k),h=se(k,"HR",{}),v=ge(k),p=se(k,"BUTTON",{class:!0});var R=Be(p);d=H(R,"Insert ("),g=H(R,_),b=H(R,")"),R.forEach(w),k.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,ue(p,"class","svelte-1resfch"),ue(t,"class","svelte-1resfch"),ue(e,"class","svelte-1resfch")},m(A,L){I(A,e,L),$(e,t),y&&y.m(t,null),$(t,n),T&&T.m(t,null),$(t,r),$(t,s),$(t,a),F[l].m(t,null),$(t,f),$(t,h),$(t,v),$(t,p),$(p,d),$(p,g),$(p,b),i[19](e),D=!0,p.focus(),B||(S=[Ie(p,"click",i[11]),Ie(t,"click",Mr(i[17])),Ie(e,"close",i[20]),Ie(e,"click",va(i[21]))],B=!0)},p(A,L){y&&y.p&&(!D||L[0]&4194304)&&Ar(y,O,A,A[22],D?Cr(O,A[22],L,A9):kr(A[22]),vv),T&&T.p&&(!D||L[0]&4194304)&&Ar(T,N,A,A[22],D?Cr(N,A[22],L,null):kr(A[22]),null);let k=l;l=j(A),l===k?F[l].p(A,L):(It(),me(F[k],1,1,()=>{F[k]=null}),Rt(),u=F[l],u?u.p(A,L):(u=F[l]=q[l](A),u.c()),he(u,1),u.m(t,f)),(!D||L[0]&256)&&_!==(_=A[8].length+"")&&Ne(g,_)},i(A){D||(he(y,A),he(T,A),he(u),D=!0)},o(A){me(y,A),me(T,A),me(u),D=!1},d(A){A&&w(e),y&&y.d(A),T&&T.d(A),F[l].d(),i[19](null),B=!1,Ht(S)}}}function I9(i,e,t){let n,r,s,{$$slots:a={},$$scope:l}=e,{outbound_color:u="#fff4dd"}=e,{inbound_color:f="#fff4dd"}=e,{root_color:h="#fff4dd"}=e,{link_function:v=k=>`/dao/artifact/${k["@id"]}`}=e,{inbound_link_function:p=v}=e,{root_link_function:d=k=>`/dao/artifact/${k["@id"]}`}=e,{outbound_link_function:_=v}=e,{show_weakness_modal:g}=e,{parent_node:b}=e,{data:D}=e,B;const S=Ii();yt(i,S,k=>t(24,s=k));const O=Ri();yt(i,O,k=>t(23,r=k));let y;function N(k){n.includes(k)?t(8,n=n.filter(R=>R!==k)):n.push(k),t(8,n),t(8,n)}window.da_to_weak_callback=function(k){N(k)};function T(){let k=0,R=200,K=100;for(const z of n){let fe=D.da_to_weak["@graph"].find(re=>re["@id"]==z);fe&&(Ea(S,O,b,"vulnerabilitySelectorNode",fe["rdfs:label"],fe["d3f:cwe-id"],b.data.sequence,b.position.x+k*R,b.position.y+K,182,63,fe["d3f:outbound"][0]["@id"].replace("d3f:",""),!1),k+=1)}S.set(s),O.set(r),B&&B.close(),t(8,n=[])}function q(k){Zn.call(this,i,k)}const F=k=>k["@id"]!=D.description["@id"];function j(k){Lr[k?"unshift":"push"](()=>{B=k,t(6,B)})}const A=()=>t(0,g=!1),L=()=>{B.close(),t(8,n=[])};return i.$$set=k=>{"outbound_color"in k&&t(12,u=k.outbound_color),"inbound_color"in k&&t(1,f=k.inbound_color),"root_color"in k&&t(2,h=k.root_color),"link_function"in k&&t(13,v=k.link_function),"inbound_link_function"in k&&t(14,p=k.inbound_link_function),"root_link_function"in k&&t(3,d=k.root_link_function),"outbound_link_function"in k&&t(4,_=k.outbound_link_function),"show_weakness_modal"in k&&t(0,g=k.show_weakness_modal),"parent_node"in k&&t(15,b=k.parent_node),"data"in k&&t(5,D=k.data),"$$scope"in k&&t(22,l=k.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&65&&g&&B&&B.showModal(),i.$$.dirty[0]&65&&!g&&B&&B.close(),i.$$.dirty[0]&32&&D&&t(7,y=new of(D.da_to_weak,{index:!0}))},t(8,n=[]),[g,f,h,d,_,D,B,y,n,S,O,T,u,v,p,b,a,q,F,j,A,L,l]}class R9 extends Gt{constructor(e){super(),Xt(this,e,I9,S9,Et,{outbound_color:12,inbound_color:1,root_color:2,link_function:13,inbound_link_function:14,root_link_function:3,outbound_link_function:4,show_weakness_modal:0,parent_node:15,data:5},null,[-1,-1])}}function kv(i,e,t){const n=i.slice();return n[31]=e[t],n}function Cv(i,e,t){const n=i.slice();return n[34]=e[t],n}function Tv(i,e,t){const n=i.slice();return n[37]=e[t],n}const P9=i=>({}),Nv=i=>({});function F9(i){let e;return{c(){e=V("No related parts/control in this release")},l(t){e=H(t,"No related parts/control in this release")},m(t,n){I(t,e,n)},p:at,i:at,o:at,d(t){t&&w(e)}}}function O9(i){let e,t;return e=new ga({props:{$$slots:{default:[B9]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[0]&134217934&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function L9(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(n){e=se(n,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(n,r){I(n,e,r)},p:at,i:at,o:at,d(n){n&&w(e)}}}function Sv(i){let e,t=lt(i[31]["d3f:outbound"].filter(i[23])),n=[];for(let r=0;r<t.length;r+=1)n[r]=Bv(Cv(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=$e()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&206){t=lt(r[31]["d3f:outbound"].filter(r[23]));let a;for(a=0;a<t.length;a+=1){const l=Cv(r,t,a);n[a]?n[a].p(l,s):(n[a]=Bv(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),rr(n,r)}}}function Iv(i){let e,t,n=i[31]["@id"]!=i[2].data.d3f_class&&Rv(i),r=i[37]["@id"]!=i[2].data.d3f_class&&Pv(i);return{c(){n&&n.c(),e=ve(),r&&r.c(),t=$e()},l(s){n&&n.l(s),e=ge(s),r&&r.l(s),t=$e()},m(s,a){n&&n.m(s,a),I(s,e,a),r&&r.m(s,a),I(s,t,a)},p(s,a){s[31]["@id"]!=s[2].data.d3f_class?n?n.p(s,a):(n=Rv(s),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),s[37]["@id"]!=s[2].data.d3f_class?r?r.p(s,a):(r=Pv(s),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(s){s&&(w(e),w(t)),n&&n.d(s),r&&r.d(s)}}}function Rv(i){let e,t=i[31]["@id"]+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" selected_outbound_node;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," selected_outbound_node;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a[0]&72&&t!==(t=s[31]["@id"]+"")&&Ne(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function Pv(i){let e,t=i[37]["@id"]+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" selected_outbound_node;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," selected_outbound_node;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a[0]&74&&t!==(t=s[37]["@id"]+"")&&Ne(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function Fv(i){let e,t=i[31]["@id"]+"",n,r,s=i[31]["@id"]+"",a,l,u=Ze(i[34]["@id"])+"",f,h,v=i[37]["@id"]+"",p,d;return{c(){e=V("click "),n=V(t),r=V(` href "javascript:da_to_neighbors_callback('`),a=V(s),l=V("', '"),f=V(u),h=V("','"),p=V(v),d=V(`')";`)},l(_){e=H(_,"click "),n=H(_,t),r=H(_,` href "javascript:da_to_neighbors_callback('`),a=H(_,s),l=H(_,"', '"),f=H(_,u),h=H(_,"','"),p=H(_,v),d=H(_,`')";`)},m(_,g){I(_,e,g),I(_,n,g),I(_,r,g),I(_,a,g),I(_,l,g),I(_,f,g),I(_,h,g),I(_,p,g),I(_,d,g)},p(_,g){g[0]&72&&t!==(t=_[31]["@id"]+"")&&Ne(n,t),g[0]&72&&s!==(s=_[31]["@id"]+"")&&Ne(a,s),g[0]&74&&u!==(u=Ze(_[34]["@id"])+"")&&Ne(f,u),g[0]&74&&v!==(v=_[37]["@id"]+"")&&Ne(p,v)},d(_){_&&(w(e),w(n),w(r),w(a),w(l),w(f),w(h),w(p),w(d))}}}function Ov(i){let e,t=i[37]["@id"]+"",n,r,s=i[31]["@id"]+"",a,l,u=Ze(i[34]["@id"])+"",f,h,v=i[37]["@id"]+"",p,d;return{c(){e=V("click "),n=V(t),r=V(` href "javascript:da_to_neighbors_callback('`),a=V(s),l=V("', '"),f=V(u),h=V("','"),p=V(v),d=V(`')";`)},l(_){e=H(_,"click "),n=H(_,t),r=H(_,` href "javascript:da_to_neighbors_callback('`),a=H(_,s),l=H(_,"', '"),f=H(_,u),h=H(_,"','"),p=H(_,v),d=H(_,`')";`)},m(_,g){I(_,e,g),I(_,n,g),I(_,r,g),I(_,a,g),I(_,l,g),I(_,f,g),I(_,h,g),I(_,p,g),I(_,d,g)},p(_,g){g[0]&74&&t!==(t=_[37]["@id"]+"")&&Ne(n,t),g[0]&72&&s!==(s=_[31]["@id"]+"")&&Ne(a,s),g[0]&74&&u!==(u=Ze(_[34]["@id"])+"")&&Ne(f,u),g[0]&74&&v!==(v=_[37]["@id"]+"")&&Ne(p,v)},d(_){_&&(w(e),w(n),w(r),w(a),w(l),w(f),w(h),w(p),w(d))}}}function Lv(i){let e=i[31]["@id"]+"",t,n,r=i[31]["rdfs:label"][0]+"",s,a,l="-->",u,f,h=Ze(i[34]["@id"])+"",v,p,d=i[37]["@id"]+"",_,g,b=i[6].i(i[37]["@id"])["rdfs:label"][0]+"",D,B,S=i[37]["@id"]+"",O,y,N=i[7].some(j),T,q,F;function j(...R){return i[21](i[31],i[34],i[37],...R)}let A=N&&Iv(i),L=i[31]["@id"]!=i[2].data.d3f_class&&Fv(i),k=i[37]["@id"]!=i[2].data.d3f_class&&Ov(i);return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(" | "),v=V(h),p=V(" | "),_=V(d),g=V('["'),D=V(b),B=V(`"];
                class `),O=V(S),y=V(` outbound;
                `),A&&A.c(),T=ve(),L&&L.c(),q=ve(),k&&k.c(),F=$e()},l(R){t=H(R,e),n=H(R,'["'),s=H(R,r),a=H(R,'"] '),u=H(R,l),f=H(R," | "),v=H(R,h),p=H(R," | "),_=H(R,d),g=H(R,'["'),D=H(R,b),B=H(R,`"];
                class `),O=H(R,S),y=H(R,` outbound;
                `),A&&A.l(R),T=ge(R),L&&L.l(R),q=ge(R),k&&k.l(R),F=$e()},m(R,K){I(R,t,K),I(R,n,K),I(R,s,K),I(R,a,K),I(R,u,K),I(R,f,K),I(R,v,K),I(R,p,K),I(R,_,K),I(R,g,K),I(R,D,K),I(R,B,K),I(R,O,K),I(R,y,K),A&&A.m(R,K),I(R,T,K),L&&L.m(R,K),I(R,q,K),k&&k.m(R,K),I(R,F,K)},p(R,K){i=R,K[0]&72&&e!==(e=i[31]["@id"]+"")&&Ne(t,e),K[0]&72&&r!==(r=i[31]["rdfs:label"][0]+"")&&Ne(s,r),K[0]&74&&h!==(h=Ze(i[34]["@id"])+"")&&Ne(v,h),K[0]&74&&d!==(d=i[37]["@id"]+"")&&Ne(_,d),K[0]&74&&b!==(b=i[6].i(i[37]["@id"])["rdfs:label"][0]+"")&&Ne(D,b),K[0]&74&&S!==(S=i[37]["@id"]+"")&&Ne(O,S),K[0]&202&&(N=i[7].some(j)),N?A?A.p(i,K):(A=Iv(i),A.c(),A.m(T.parentNode,T)):A&&(A.d(1),A=null),i[31]["@id"]!=i[2].data.d3f_class?L?L.p(i,K):(L=Fv(i),L.c(),L.m(q.parentNode,q)):L&&(L.d(1),L=null),i[37]["@id"]!=i[2].data.d3f_class?k?k.p(i,K):(k=Ov(i),k.c(),k.m(F.parentNode,F)):k&&(k.d(1),k=null)},d(R){R&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B),w(O),w(y),w(T),w(q),w(F)),A&&A.d(R),L&&L.d(R),k&&k.d(R)}}}function Bv(i){let e,t=lt(i[31][i[34]["@id"]]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Lv(Tv(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=$e()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&206){t=lt(r[31][r[34]["@id"]]);let a;for(a=0;a<t.length;a+=1){const l=Tv(r,t,a);n[a]?n[a].p(l,s):(n[a]=Lv(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),rr(n,r)}}}function Uv(i){let e,t=i[31]["d3f:outbound"]&&Sv(i);return{c(){t&&t.c(),e=$e()},l(n){t&&t.l(n),e=$e()},m(n,r){t&&t.m(n,r),I(n,e,r)},p(n,r){n[31]["d3f:outbound"]?t?t.p(n,r):(t=Sv(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&w(e),t&&t.d(n)}}}function B9(i){let e,t,n=lt(i[6].graph.filter(i[22])),r=[];for(let s=0;s<n.length;s+=1)r[s]=Uv(kv(i,n,s));return{c(){e=V(`graph LR;
        `);for(let s=0;s<r.length;s+=1)r[s].c();t=$e()},l(s){e=H(s,`graph LR;
        `);for(let a=0;a<r.length;a+=1)r[a].l(s);t=$e()},m(s,a){I(s,e,a);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(s,a);I(s,t,a)},p(s,a){if(a[0]&206){n=lt(s[6].graph.filter(s[22]));let l;for(l=0;l<n.length;l+=1){const u=kv(s,n,l);r[l]?r[l].p(u,a):(r[l]=Uv(u),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(s){s&&(w(e),w(t)),rr(r,s)}}}function U9(i){let e,t,n,r,s,a,l,u,f,h,v,p,d,_=i[7].length+"",g,b,D,B,S;const O=i[19].header,y=Dr(O,i,i[27],Nv),N=i[19].default,T=Dr(N,i,i[27],null),q=[L9,O9,F9],F=[];function j(A,L){return A[3]?A[5]&&A[6].graph.length>0?1:2:0}return l=j(i),u=F[l]=q[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),n=V(`
    Select Parts/Control Neighbors
    `),T&&T.c(),r=ve(),s=ae("hr"),a=ve(),u.c(),f=ve(),h=ae("hr"),v=ve(),p=ae("button"),d=V("Insert ("),g=V(_),b=V(")"),this.h()},l(A){e=se(A,"DIALOG",{class:!0});var L=Be(e);t=se(L,"DIV",{class:!0});var k=Be(t);y&&y.l(k),n=H(k,`
    Select Parts/Control Neighbors
    `),T&&T.l(k),r=ge(k),s=se(k,"HR",{}),a=ge(k),u.l(k),f=ge(k),h=se(k,"HR",{}),v=ge(k),p=se(k,"BUTTON",{class:!0});var R=Be(p);d=H(R,"Insert ("),g=H(R,_),b=H(R,")"),R.forEach(w),k.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,ue(p,"class","svelte-x2no78"),ue(t,"class","svelte-x2no78"),ue(e,"class","svelte-x2no78")},m(A,L){I(A,e,L),$(e,t),y&&y.m(t,null),$(t,n),T&&T.m(t,null),$(t,r),$(t,s),$(t,a),F[l].m(t,null),$(t,f),$(t,h),$(t,v),$(t,p),$(p,d),$(p,g),$(p,b),i[24](e),D=!0,p.focus(),B||(S=[Ie(p,"click",i[10]),Ie(t,"click",Mr(i[20])),Ie(e,"close",i[25]),Ie(e,"click",va(i[26]))],B=!0)},p(A,L){y&&y.p&&(!D||L[0]&134217728)&&Ar(y,O,A,A[27],D?Cr(O,A[27],L,P9):kr(A[27]),Nv),T&&T.p&&(!D||L[0]&134217728)&&Ar(T,N,A,A[27],D?Cr(N,A[27],L,null):kr(A[27]),null);let k=l;l=j(A),l===k?F[l].p(A,L):(It(),me(F[k],1,1,()=>{F[k]=null}),Rt(),u=F[l],u?u.p(A,L):(u=F[l]=q[l](A),u.c()),he(u,1),u.m(t,f)),(!D||L[0]&128)&&_!==(_=A[7].length+"")&&Ne(g,_)},i(A){D||(he(y,A),he(T,A),he(u),D=!0)},o(A){me(y,A),me(T,A),me(u),D=!1},d(A){A&&w(e),y&&y.d(A),T&&T.d(A),F[l].d(),i[24](null),B=!1,Ht(S)}}}function M9(i,e,t){let n,r,s,{$$slots:a={},$$scope:l}=e,{empty_message:u="has no direct neighbors in this release."}=e,{outbound_color:f="#fff4dd"}=e,{inbound_color:h="#fff4dd"}=e,{root_color:v="#fff4dd"}=e,{link_function:p=re=>`/dao/artifact/${re["@id"]}`}=e,{inbound_link_function:d=p}=e,{root_link_function:_=re=>`/dao/artifact/${re["@id"]}`}=e,{outbound_link_function:g=p}=e,{show_neighbors_modal:b}=e,{neighbor_filter_labels:D}=e,{parent_node:B}=e,{data:S}=e,O,y=!1;const N=Ii();yt(i,N,re=>t(29,s=re));const T=Ri();yt(i,T,re=>t(28,r=re));let q;function F(re){n.some(te=>te.source==re.source&&te.relation==re.relation&&te.target==re.target)?t(7,n=n.filter(te=>te.source!=re.source||te.relation!=re.relation||te.target!=re.target)):n.push(re),t(7,n),t(7,n)}window.da_to_neighbors_callback=function(re,te,G){F({source:re,relation:te,target:G})};function j(){let re=0,te=0,G=200,Q=125;for(const pe of n){let J=S.neighbors["@graph"].find(tt=>tt["@id"]==pe.source),_e=S.neighbors["@graph"].find(tt=>tt["@id"]==pe.target);if(J&&_e){let tt=B.data.d3f_class==J["@id"],rt=tt?_e:J;Ea(N,T,B,"artifactSelectorNode",rt["rdfs:label"][0],rt["@id"],B.data.sequence,B.position.x+(tt?re:te)*G,tt?B.position.y+Q:B.position.y-Q,182,63,pe.relation,tt),tt?re+=1:te+=1}}N.set(s),T.set(r),O&&(O.close(),t(5,y=!1)),t(7,n=[])}function A(re){Zn.call(this,i,re)}const L=(re,te,G,Q)=>Q.source==re["@id"]&&Q.relation==Ze(te["@id"])&&Q.target==G["@id"],k=re=>re["@id"]!=S.description["@id"],R=re=>D.length==0||D.includes(re["@id"]);function K(re){Lr[re?"unshift":"push"](()=>{O=re,t(4,O)})}const z=()=>t(0,b=!1),fe=()=>{O.close(),t(7,n=[])};return i.$$set=re=>{"empty_message"in re&&t(11,u=re.empty_message),"outbound_color"in re&&t(12,f=re.outbound_color),"inbound_color"in re&&t(13,h=re.inbound_color),"root_color"in re&&t(14,v=re.root_color),"link_function"in re&&t(15,p=re.link_function),"inbound_link_function"in re&&t(16,d=re.inbound_link_function),"root_link_function"in re&&t(17,_=re.root_link_function),"outbound_link_function"in re&&t(18,g=re.outbound_link_function),"show_neighbors_modal"in re&&t(0,b=re.show_neighbors_modal),"neighbor_filter_labels"in re&&t(1,D=re.neighbor_filter_labels),"parent_node"in re&&t(2,B=re.parent_node),"data"in re&&t(3,S=re.data),"$$scope"in re&&t(27,l=re.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&17&&b&&O&&O.showModal(),i.$$.dirty[0]&17&&!b&&O&&O.close(),i.$$.dirty[0]&14&&S&&(t(5,y=!1),S.neighbors["@graph"].find(re=>re["@id"]==B.data.d3f_class),D.length==0?(t(5,y=!0),t(6,q=new of(S.neighbors,{index:!0}))):S.neighbors["@graph"].some(re=>re["d3f:outbound"]&&D.some(te=>re["d3f:outbound"].some(G=>G["@id"]==te)))&&(t(5,y=!0),t(6,q=new of(S.neighbors,{index:!0}))))},t(7,n=[]),[b,D,B,S,O,y,q,n,N,T,j,u,f,h,v,p,d,_,g,a,A,L,k,R,K,z,fe,l]}class q9 extends Gt{constructor(e){super(),Xt(this,e,M9,U9,Et,{empty_message:11,outbound_color:12,inbound_color:13,root_color:14,link_function:15,inbound_link_function:16,root_link_function:17,outbound_link_function:18,show_neighbors_modal:0,neighbor_filter_labels:1,parent_node:2,data:3},null,[-1,-1])}}function Mv(i,e,t){const n=i.slice();return n[26]=e[t],n}function qv(i,e,t){const n=i.slice();return n[29]=e[t],n}function jv(i,e,t){const n=i.slice();return n[32]=e[t],n}function xv(i,e,t){const n=i.slice();return n[26]=e[t],n}function zv(i,e,t){const n=i.slice();return n[29]=e[t],n}const j9=i=>({}),Vv=i=>({});function x9(i){let e;return{c(){e=V("No related sensors in this release.")},l(t){e=H(t,"No related sensors in this release.")},m(t,n){I(t,e,n)},p:at,i:at,o:at,d(t){t&&w(e)}}}function z9(i){let e,t;return e=new ga({props:{$$slots:{default:[H9]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[0]&4194750&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function V9(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(n){e=se(n,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(n,r){I(n,e,r)},p:at,i:at,o:at,d(n){n&&w(e)}}}function Hv(i){let e,t=lt(i[32]["d3f:outbound"]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Xv(xv(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=$e()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&430){t=lt(r[32]["d3f:outbound"]);let a;for(a=0;a<t.length;a+=1){const l=xv(r,t,a);n[a]?n[a].p(l,s):(n[a]=Xv(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),rr(n,r)}}}function $v(i){let e,t=i[32]["@id"]+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" selected_inbound_node;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," selected_inbound_node;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a[0]&160&&t!==(t=s[32]["@id"]+"")&&Ne(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function Gv(i){let e=i[32]["@id"]+"",t,n,r=i[32]["rdfs:label"][0]+"",s,a,l="-->",u,f,h=Ze(i[26]["@id"])+"",v,p,d=i[29]["@id"]+"",_,g,b=i[7].i(i[29]["@id"])["rdfs:label"][0]+"",D,B,S=i[32]["@id"]+"",O,y,N=i[32]["@id"]+"",T,q,F,j,A=i[8].includes(i[32]["@id"]),L,k=i[29]["@id"]+"",R,K,z=i[29]["@id"]+"",fe,re,te,G,Q=i[32]["@id"]+"",pe,J,_e=i[32]["@id"]+"",tt,rt,Pe=i[29]["@id"]+"",je,ke,He=i[3](i[29])+"",ot,kt,Re=A&&$v(i);return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(" | "),v=V(h),p=V(" | "),_=V(d),g=V('["'),D=V(b),B=V(`"];
                  class `),O=V(S),y=V(" inbound_node; style "),T=V(N),q=V(" fill:"),F=V(i[1]),j=V(`;
                  `),Re&&Re.c(),L=V(`
                  class `),R=V(k),K=V(" RootArtifactNode; style "),fe=V(z),re=V(" fill:"),te=V(i[2]),G=V(`;
                  click `),pe=V(Q),J=V(` href "javascript:da_to_sensor_callback('`),tt=V(_e),rt=V(`')"; click `),je=V(Pe),ke=V(' href "'),ot=V(He),kt=V('";')},l(le){t=H(le,e),n=H(le,'["'),s=H(le,r),a=H(le,'"] '),u=H(le,l),f=H(le," | "),v=H(le,h),p=H(le," | "),_=H(le,d),g=H(le,'["'),D=H(le,b),B=H(le,`"];
                  class `),O=H(le,S),y=H(le," inbound_node; style "),T=H(le,N),q=H(le," fill:"),F=H(le,i[1]),j=H(le,`;
                  `),Re&&Re.l(le),L=H(le,`
                  class `),R=H(le,k),K=H(le," RootArtifactNode; style "),fe=H(le,z),re=H(le," fill:"),te=H(le,i[2]),G=H(le,`;
                  click `),pe=H(le,Q),J=H(le,` href "javascript:da_to_sensor_callback('`),tt=H(le,_e),rt=H(le,`')"; click `),je=H(le,Pe),ke=H(le,' href "'),ot=H(le,He),kt=H(le,'";')},m(le,Ue){I(le,t,Ue),I(le,n,Ue),I(le,s,Ue),I(le,a,Ue),I(le,u,Ue),I(le,f,Ue),I(le,v,Ue),I(le,p,Ue),I(le,_,Ue),I(le,g,Ue),I(le,D,Ue),I(le,B,Ue),I(le,O,Ue),I(le,y,Ue),I(le,T,Ue),I(le,q,Ue),I(le,F,Ue),I(le,j,Ue),Re&&Re.m(le,Ue),I(le,L,Ue),I(le,R,Ue),I(le,K,Ue),I(le,fe,Ue),I(le,re,Ue),I(le,te,Ue),I(le,G,Ue),I(le,pe,Ue),I(le,J,Ue),I(le,tt,Ue),I(le,rt,Ue),I(le,je,Ue),I(le,ke,Ue),I(le,ot,Ue),I(le,kt,Ue)},p(le,Ue){Ue[0]&160&&e!==(e=le[32]["@id"]+"")&&Ne(t,e),Ue[0]&160&&r!==(r=le[32]["rdfs:label"][0]+"")&&Ne(s,r),Ue[0]&160&&h!==(h=Ze(le[26]["@id"])+"")&&Ne(v,h),Ue[0]&160&&d!==(d=le[29]["@id"]+"")&&Ne(_,d),Ue[0]&160&&b!==(b=le[7].i(le[29]["@id"])["rdfs:label"][0]+"")&&Ne(D,b),Ue[0]&160&&S!==(S=le[32]["@id"]+"")&&Ne(O,S),Ue[0]&160&&N!==(N=le[32]["@id"]+"")&&Ne(T,N),Ue[0]&2&&Ne(F,le[1]),Ue[0]&416&&(A=le[8].includes(le[32]["@id"])),A?Re?Re.p(le,Ue):(Re=$v(le),Re.c(),Re.m(L.parentNode,L)):Re&&(Re.d(1),Re=null),Ue[0]&160&&k!==(k=le[29]["@id"]+"")&&Ne(R,k),Ue[0]&160&&z!==(z=le[29]["@id"]+"")&&Ne(fe,z),Ue[0]&4&&Ne(te,le[2]),Ue[0]&160&&Q!==(Q=le[32]["@id"]+"")&&Ne(pe,Q),Ue[0]&160&&_e!==(_e=le[32]["@id"]+"")&&Ne(tt,_e),Ue[0]&160&&Pe!==(Pe=le[29]["@id"]+"")&&Ne(je,Pe),Ue[0]&168&&He!==(He=le[3](le[29])+"")&&Ne(ot,He)},d(le){le&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B),w(O),w(y),w(T),w(q),w(F),w(j),w(L),w(R),w(K),w(fe),w(re),w(te),w(G),w(pe),w(J),w(tt),w(rt),w(je),w(ke),w(ot),w(kt)),Re&&Re.d(le)}}}function Xv(i){let e,t=lt(i[32][i[26]["@id"]]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Gv(zv(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=$e()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&430){t=lt(r[32][r[26]["@id"]]);let a;for(a=0;a<t.length;a+=1){const l=zv(r,t,a);n[a]?n[a].p(l,s):(n[a]=Gv(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),rr(n,r)}}}function Wv(i){let e,t=i[32]["d3f:outbound"]&&Hv(i);return{c(){t&&t.c(),e=$e()},l(n){t&&t.l(n),e=$e()},m(n,r){t&&t.m(n,r),I(n,e,r)},p(n,r){n[32]["d3f:outbound"]?t?t.p(n,r):(t=Hv(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&w(e),t&&t.d(n)}}}function Qv(i){let e,t=lt(i[7].i(i[5].description["@id"])["d3f:outbound"]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Kv(Mv(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=$e()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&184){t=lt(r[7].i(r[5].description["@id"])["d3f:outbound"]);let a;for(a=0;a<t.length;a+=1){const l=Mv(r,t,a);n[a]?n[a].p(l,s):(n[a]=Kv(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),rr(n,r)}}}function Yv(i){let e=i[5].description["@id"]+"",t,n,r=i[7].i(i[5].description["@id"])["rdfs:label"][0]+"",s,a,l="-->",u,f,h=Ze(i[26]["@id"])+"",v,p,d=i[29]["@id"]+"",_,g,b=i[7].graph[i[7].index[i[29]["@id"]]]["rdfs:label"][0]+"",D,B,S=i[5].description["@id"]+"",O,y,N=i[29]["@id"]+"",T,q,F=i[5].description["@id"]+"",j,A,L=i[3](i[5].description["@id"])+"",k,R,K=i[29]["@id"]+"",z,fe,re=i[4](i[29])+"",te,G;return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(" | "),v=V(h),p=V(" | "),_=V(d),g=V('["'),D=V(b),B=V('"]; class '),O=V(S),y=V(" RootArtifactNode; class "),T=V(N),q=V(` ArtifactNode;
                click `),j=V(F),A=V(' href "'),k=V(L),R=V('"; click '),z=V(K),fe=V(' href "'),te=V(re),G=V('";')},l(Q){t=H(Q,e),n=H(Q,'["'),s=H(Q,r),a=H(Q,'"] '),u=H(Q,l),f=H(Q," | "),v=H(Q,h),p=H(Q," | "),_=H(Q,d),g=H(Q,'["'),D=H(Q,b),B=H(Q,'"]; class '),O=H(Q,S),y=H(Q," RootArtifactNode; class "),T=H(Q,N),q=H(Q,` ArtifactNode;
                click `),j=H(Q,F),A=H(Q,' href "'),k=H(Q,L),R=H(Q,'"; click '),z=H(Q,K),fe=H(Q,' href "'),te=H(Q,re),G=H(Q,'";')},m(Q,pe){I(Q,t,pe),I(Q,n,pe),I(Q,s,pe),I(Q,a,pe),I(Q,u,pe),I(Q,f,pe),I(Q,v,pe),I(Q,p,pe),I(Q,_,pe),I(Q,g,pe),I(Q,D,pe),I(Q,B,pe),I(Q,O,pe),I(Q,y,pe),I(Q,T,pe),I(Q,q,pe),I(Q,j,pe),I(Q,A,pe),I(Q,k,pe),I(Q,R,pe),I(Q,z,pe),I(Q,fe,pe),I(Q,te,pe),I(Q,G,pe)},p(Q,pe){pe[0]&32&&e!==(e=Q[5].description["@id"]+"")&&Ne(t,e),pe[0]&160&&r!==(r=Q[7].i(Q[5].description["@id"])["rdfs:label"][0]+"")&&Ne(s,r),pe[0]&160&&h!==(h=Ze(Q[26]["@id"])+"")&&Ne(v,h),pe[0]&160&&d!==(d=Q[29]["@id"]+"")&&Ne(_,d),pe[0]&160&&b!==(b=Q[7].graph[Q[7].index[Q[29]["@id"]]]["rdfs:label"][0]+"")&&Ne(D,b),pe[0]&32&&S!==(S=Q[5].description["@id"]+"")&&Ne(O,S),pe[0]&160&&N!==(N=Q[29]["@id"]+"")&&Ne(T,N),pe[0]&32&&F!==(F=Q[5].description["@id"]+"")&&Ne(j,F),pe[0]&40&&L!==(L=Q[3](Q[5].description["@id"])+"")&&Ne(k,L),pe[0]&160&&K!==(K=Q[29]["@id"]+"")&&Ne(z,K),pe[0]&176&&re!==(re=Q[4](Q[29])+"")&&Ne(te,re)},d(Q){Q&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B),w(O),w(y),w(T),w(q),w(j),w(A),w(k),w(R),w(z),w(fe),w(te),w(G))}}}function Kv(i){let e,t=lt(i[7].i(i[5].description["@id"])[i[26]["@id"]]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Yv(qv(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=$e()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&184){t=lt(r[7].i(r[5].description["@id"])[r[26]["@id"]]);let a;for(a=0;a<t.length;a+=1){const l=qv(r,t,a);n[a]?n[a].p(l,s):(n[a]=Yv(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),rr(n,r)}}}function H9(i){let e,t,n=i[7].i(i[5].description["@id"])&&i[7].i(i[5].description["@id"])["d3f:outbound"],r,s=lt(i[7].graph.filter(i[18])),a=[];for(let u=0;u<s.length;u+=1)a[u]=Wv(jv(i,s,u));let l=n&&Qv(i);return{c(){e=V(`graph LR;
          `);for(let u=0;u<a.length;u+=1)a[u].c();t=ve(),l&&l.c(),r=$e()},l(u){e=H(u,`graph LR;
          `);for(let f=0;f<a.length;f+=1)a[f].l(u);t=ge(u),l&&l.l(u),r=$e()},m(u,f){I(u,e,f);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(u,f);I(u,t,f),l&&l.m(u,f),I(u,r,f)},p(u,f){if(f[0]&430){s=lt(u[7].graph.filter(u[18]));let h;for(h=0;h<s.length;h+=1){const v=jv(u,s,h);a[h]?a[h].p(v,f):(a[h]=Wv(v),a[h].c(),a[h].m(t.parentNode,t))}for(;h<a.length;h+=1)a[h].d(1);a.length=s.length}f[0]&160&&(n=u[7].i(u[5].description["@id"])&&u[7].i(u[5].description["@id"])["d3f:outbound"]),n?l?l.p(u,f):(l=Qv(u),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(u){u&&(w(e),w(t),w(r)),rr(a,u),l&&l.d(u)}}}function $9(i){let e,t,n,r,s,a,l,u,f,h,v,p,d,_=i[8].length+"",g,b,D,B,S;const O=i[16].header,y=Dr(O,i,i[22],Vv),N=i[16].default,T=Dr(N,i,i[22],null),q=[V9,z9,x9],F=[];function j(A,L){return A[5]?A[7].graph.length>0?1:2:0}return l=j(i),u=F[l]=q[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),n=V(`
      Select Sensors
      `),T&&T.c(),r=ve(),s=ae("hr"),a=ve(),u.c(),f=ve(),h=ae("hr"),v=ve(),p=ae("button"),d=V("Insert ("),g=V(_),b=V(")"),this.h()},l(A){e=se(A,"DIALOG",{class:!0});var L=Be(e);t=se(L,"DIV",{class:!0});var k=Be(t);y&&y.l(k),n=H(k,`
      Select Sensors
      `),T&&T.l(k),r=ge(k),s=se(k,"HR",{}),a=ge(k),u.l(k),f=ge(k),h=se(k,"HR",{}),v=ge(k),p=se(k,"BUTTON",{class:!0});var R=Be(p);d=H(R,"Insert ("),g=H(R,_),b=H(R,")"),R.forEach(w),k.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,ue(p,"class","svelte-akhii9"),ue(t,"class","svelte-akhii9"),ue(e,"class","svelte-akhii9")},m(A,L){I(A,e,L),$(e,t),y&&y.m(t,null),$(t,n),T&&T.m(t,null),$(t,r),$(t,s),$(t,a),F[l].m(t,null),$(t,f),$(t,h),$(t,v),$(t,p),$(p,d),$(p,g),$(p,b),i[19](e),D=!0,p.focus(),B||(S=[Ie(p,"click",i[11]),Ie(t,"click",Mr(i[17])),Ie(e,"close",i[20]),Ie(e,"click",va(i[21]))],B=!0)},p(A,L){y&&y.p&&(!D||L[0]&4194304)&&Ar(y,O,A,A[22],D?Cr(O,A[22],L,j9):kr(A[22]),Vv),T&&T.p&&(!D||L[0]&4194304)&&Ar(T,N,A,A[22],D?Cr(N,A[22],L,null):kr(A[22]),null);let k=l;l=j(A),l===k?F[l].p(A,L):(It(),me(F[k],1,1,()=>{F[k]=null}),Rt(),u=F[l],u?u.p(A,L):(u=F[l]=q[l](A),u.c()),he(u,1),u.m(t,f)),(!D||L[0]&256)&&_!==(_=A[8].length+"")&&Ne(g,_)},i(A){D||(he(y,A),he(T,A),he(u),D=!0)},o(A){me(y,A),me(T,A),me(u),D=!1},d(A){A&&w(e),y&&y.d(A),T&&T.d(A),F[l].d(),i[19](null),B=!1,Ht(S)}}}function G9(i,e,t){let n,r,s,{$$slots:a={},$$scope:l}=e,{outbound_color:u="#fff4dd"}=e,{inbound_color:f="#fff4dd"}=e,{root_color:h="#fff4dd"}=e,{link_function:v=k=>`/dao/artifact/${k["@id"]}`}=e,{inbound_link_function:p=v}=e,{root_link_function:d=k=>`/dao/artifact/${k["@id"]}`}=e,{outbound_link_function:_=v}=e,{show_sensor_modal:g}=e,{parent_node:b}=e,{data:D}=e,B;const S=Ii();yt(i,S,k=>t(24,s=k));const O=Ri();yt(i,O,k=>t(23,r=k));let y;function N(k){n.includes(k)?t(8,n=n.filter(R=>R!==k)):n.push(k),t(8,n),t(8,n)}window.da_to_sensor_callback=function(k){N(k)};function T(){let k=0,R=200,K=100;for(const z of n){let fe=D.sensors["@graph"].find(re=>re["@id"]==z);fe&&(Ea(S,O,b,"artifactSelectorNode",fe["rdfs:label"],fe["@id"],b.data.sequence,b.position.x+k*R,b.position.y+K,182,63,fe["d3f:outbound"][0]["@id"].replace("d3f:",""),!1),k+=1)}S.set(s),O.set(r),B&&B.close(),t(8,n=[])}function q(k){Zn.call(this,i,k)}const F=k=>k["@id"]!=D.description["@id"];function j(k){Lr[k?"unshift":"push"](()=>{B=k,t(6,B)})}const A=()=>t(0,g=!1),L=()=>{B.close(),t(8,n=[])};return i.$$set=k=>{"outbound_color"in k&&t(12,u=k.outbound_color),"inbound_color"in k&&t(1,f=k.inbound_color),"root_color"in k&&t(2,h=k.root_color),"link_function"in k&&t(13,v=k.link_function),"inbound_link_function"in k&&t(14,p=k.inbound_link_function),"root_link_function"in k&&t(3,d=k.root_link_function),"outbound_link_function"in k&&t(4,_=k.outbound_link_function),"show_sensor_modal"in k&&t(0,g=k.show_sensor_modal),"parent_node"in k&&t(15,b=k.parent_node),"data"in k&&t(5,D=k.data),"$$scope"in k&&t(22,l=k.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&65&&g&&B&&B.showModal(),i.$$.dirty[0]&65&&!g&&B&&B.close(),i.$$.dirty[0]&32&&D&&D.sensors&&t(7,y=new of(D.sensors,{index:!0}))},t(8,n=[]),[g,f,h,d,_,D,B,y,n,S,O,T,u,v,p,b,a,q,F,j,A,L,l]}class X9 extends Gt{constructor(e){super(),Xt(this,e,G9,$9,Et,{outbound_color:12,inbound_color:1,root_color:2,link_function:13,inbound_link_function:14,root_link_function:3,outbound_link_function:4,show_sensor_modal:0,parent_node:15,data:5},null,[-1,-1])}}function W9(i){let e,t="attack the node",n,r,s,a,l,u="defend the node",f,h,v,p,d,_="add weaknesses",g,b,D,B,S,O="add sensors",y,N,T,q,F,j="explode all",A,L,k="explode parts",R,K,z="explode control",fe,re,te,G,Q,pe;function J(Re){i[11](Re)}let _e={parent_node:i[0],data:i[1]};i[7]!==void 0&&(_e.show_attack_modal=i[7]),r=new d9({props:_e}),Lr.push(()=>gn(r,"show_attack_modal",J));function tt(Re){i[13](Re)}let rt={parent_node:i[0],data:i[1]};i[6]!==void 0&&(rt.show_defend_modal=i[6]),h=new D9({props:rt}),Lr.push(()=>gn(h,"show_defend_modal",tt));function Pe(Re){i[15](Re)}let je={parent_node:i[0],inbound_color:"#f9d999",inbound_link_function:i[9],data:i[1]};i[5]!==void 0&&(je.show_weakness_modal=i[5]),b=new R9({props:je}),Lr.push(()=>gn(b,"show_weakness_modal",Pe));function ke(Re){i[17](Re)}let He={parent_node:i[0],inbound_color:"#f9d999",data:i[1]};i[3]!==void 0&&(He.show_sensor_modal=i[3]),N=new X9({props:He}),Lr.push(()=>gn(N,"show_sensor_modal",ke));function ot(Re){i[21](Re)}let kt={neighbor_filter_labels:i[2],parent_node:i[0],empty_message:"has no related parts in this release.",inbound_color:"#f9d999",inbound_link_function:i[9],data:i[1]};return i[4]!==void 0&&(kt.show_neighbors_modal=i[4]),re=new q9({props:kt}),Lr.push(()=>gn(re,"show_neighbors_modal",ot)),{c(){e=ae("button"),e.textContent=t,n=ve(),Xe(r.$$.fragment),a=ve(),l=ae("button"),l.textContent=u,f=ve(),Xe(h.$$.fragment),p=ve(),d=ae("button"),d.textContent=_,g=ve(),Xe(b.$$.fragment),B=ve(),S=ae("button"),S.textContent=O,y=ve(),Xe(N.$$.fragment),q=ve(),F=ae("button"),F.textContent=j,A=ve(),L=ae("button"),L.textContent=k,R=ve(),K=ae("button"),K.textContent=z,fe=ve(),Xe(re.$$.fragment),this.h()},l(Re){e=se(Re,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(e)!=="svelte-1dkmztx"&&(e.textContent=t),n=ge(Re),We(r.$$.fragment,Re),a=ge(Re),l=se(Re,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(l)!=="svelte-22hxkb"&&(l.textContent=u),f=ge(Re),We(h.$$.fragment,Re),p=ge(Re),d=se(Re,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(d)!=="svelte-urtcr7"&&(d.textContent=_),g=ge(Re),We(b.$$.fragment,Re),B=ge(Re),S=se(Re,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(S)!=="svelte-1xhii68"&&(S.textContent=O),y=ge(Re),We(N.$$.fragment,Re),q=ge(Re),F=se(Re,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(F)!=="svelte-1vn2qvf"&&(F.textContent=j),A=ge(Re),L=se(Re,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(L)!=="svelte-1hluius"&&(L.textContent=k),R=ge(Re),K=se(Re,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(K)!=="svelte-183zqvn"&&(K.textContent=z),fe=ge(Re),We(re.$$.fragment,Re),this.h()},h(){ue(e,"class","svelte-5he3i1"),ue(l,"class","svelte-5he3i1"),ue(d,"class","svelte-5he3i1"),ue(S,"class","svelte-5he3i1"),ue(F,"class","svelte-5he3i1"),ue(L,"class","svelte-5he3i1"),ue(K,"class","svelte-5he3i1")},m(Re,le){I(Re,e,le),I(Re,n,le),Qe(r,Re,le),I(Re,a,le),I(Re,l,le),I(Re,f,le),Qe(h,Re,le),I(Re,p,le),I(Re,d,le),I(Re,g,le),Qe(b,Re,le),I(Re,B,le),I(Re,S,le),I(Re,y,le),Qe(N,Re,le),I(Re,q,le),I(Re,F,le),I(Re,A,le),I(Re,L,le),I(Re,R,le),I(Re,K,le),I(Re,fe,le),Qe(re,Re,le),G=!0,Q||(pe=[Ie(e,"click",i[10]),Ie(l,"click",i[12]),Ie(d,"click",i[14]),Ie(S,"click",i[16]),Ie(F,"click",i[18]),Ie(L,"click",i[19]),Ie(K,"click",i[20])],Q=!0)},p(Re,[le]){const Ue={};le&1&&(Ue.parent_node=Re[0]),le&2&&(Ue.data=Re[1]),!s&&le&128&&(s=!0,Ue.show_attack_modal=Re[7],vn(()=>s=!1)),r.$set(Ue);const sr={};le&1&&(sr.parent_node=Re[0]),le&2&&(sr.data=Re[1]),!v&&le&64&&(v=!0,sr.show_defend_modal=Re[6],vn(()=>v=!1)),h.$set(sr);const Yt={};le&1&&(Yt.parent_node=Re[0]),le&2&&(Yt.data=Re[1]),!D&&le&32&&(D=!0,Yt.show_weakness_modal=Re[5],vn(()=>D=!1)),b.$set(Yt);const Tr={};le&1&&(Tr.parent_node=Re[0]),le&2&&(Tr.data=Re[1]),!T&&le&8&&(T=!0,Tr.show_sensor_modal=Re[3],vn(()=>T=!1)),N.$set(Tr);const nr={};le&4&&(nr.neighbor_filter_labels=Re[2]),le&1&&(nr.parent_node=Re[0]),le&2&&(nr.data=Re[1]),!te&&le&16&&(te=!0,nr.show_neighbors_modal=Re[4],vn(()=>te=!1)),re.$set(nr)},i(Re){G||(he(r.$$.fragment,Re),he(h.$$.fragment,Re),he(b.$$.fragment,Re),he(N.$$.fragment,Re),he(re.$$.fragment,Re),G=!0)},o(Re){me(r.$$.fragment,Re),me(h.$$.fragment,Re),me(b.$$.fragment,Re),me(N.$$.fragment,Re),me(re.$$.fragment,Re),G=!1},d(Re){Re&&(w(e),w(n),w(a),w(l),w(f),w(p),w(d),w(g),w(B),w(S),w(y),w(q),w(F),w(A),w(L),w(R),w(K),w(fe)),Ye(r,Re),Ye(h,Re),Ye(b,Re),Ye(N,Re),Ye(re,Re),Q=!1,Ht(pe)}}}function Q9(i,e,t){let n,r,s,a,l;var u=this&&this.__awaiter||function(A,L,k,R){function K(z){return z instanceof k?z:new k(function(fe){fe(z)})}return new(k||(k=Promise))(function(z,fe){function re(Q){try{G(R.next(Q))}catch(pe){fe(pe)}}function te(Q){try{G(R.throw(Q))}catch(pe){fe(pe)}}function G(Q){Q.done?z(Q.value):K(Q.value).then(re,te)}G((R=R.apply(A,L||[])).next())})};let{node:f}=e,h,v=[];function p(A){alert(A),t(7,n=!1),t(6,r=!1),t(5,s=!1),t(4,a=!1),t(3,l=!1)}function d(A){return u(this,void 0,void 0,function*(){if(A.data.d3f_class&&A.data.d3f_class.includes("d3f:")){const L=A.data.d3f_class,k=yield fetch(`/api/dao/artifact/${L}.json`),R=yield k.json();if(k.status!=200||R.description["@graph"].length==0)p(`D3FEND Artifact: "${L.replace("d3f:","")}" not found in ontology`);else return R}else p("Please specify a D3FEND Class for this node to enable inferential mapping")})}function _(A){return CA(A["d3f:cwe-id"][0])}const g=async()=>{t(1,h=null),t(7,n=!0),t(1,h=await d(f))};function b(A){n=A,t(7,n)}const D=async()=>{t(1,h=null),t(6,r=!0),t(1,h=await d(f))};function B(A){r=A,t(6,r)}const S=async()=>{t(1,h=null),t(5,s=!0),t(1,h=await d(f))};function O(A){s=A,t(5,s)}const y=async()=>{t(1,h=null),t(3,l=!0),t(1,h=await d(f))};function N(A){l=A,t(3,l)}const T=async()=>{t(1,h=null),t(4,a=!0),t(2,v=[]),t(1,h=await d(f))},q=async()=>{t(1,h=null),t(4,a=!0),t(2,v=["d3f:contains","d3f:may-contains"]),t(1,h=await d(f))},F=async()=>{t(1,h=null),t(4,a=!0),t(2,v=["d3f:runs","d3f:loads","d3f:manages"]),t(1,h=await d(f))};function j(A){a=A,t(4,a)}return i.$$set=A=>{"node"in A&&t(0,f=A.node)},t(7,n=!1),t(6,r=!1),t(5,s=!1),t(4,a=!1),t(3,l=!1),[f,h,v,l,a,s,r,n,d,_,g,b,D,B,S,O,y,N,T,q,F,j]}class Y9 extends Gt{constructor(e){super(),Xt(this,e,Q9,W9,Et,{node:0})}}function Jv(i,e,t){const n=i.slice();return n[18]=e[t],n[20]=t,n}const K9=i=>({}),Zv=i=>({});function J9(i){let e;return{c(){e=V("No related defensive techniques in this release.")},l(t){e=H(t,"No related defensive techniques in this release.")},m(t,n){I(t,e,n)},p:at,i:at,o:at,d(t){t&&w(e)}}}function Z9(i){let e,t;return e=new ga({props:{$$slots:{default:[n4]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r&16406&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function e4(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(n){e=se(n,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(n,r){I(n,e,r)},p:at,i:at,o:at,d(n){n&&w(e)}}}function t4(i){let e,t=Ze(i[18].def_artifact.value)+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" ArtifactNode;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," ArtifactNode;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a&4&&t!==(t=Ze(s[18].def_artifact.value)+"")&&Ne(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function r4(i){let e,t=Ze(i[18].def_artifact.value)+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" SelectedArtifactNode;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," SelectedArtifactNode;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a&4&&t!==(t=Ze(s[18].def_artifact.value)+"")&&Ne(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function eg(i){let e=i[1].data.d3f_class+"",t,n,r=i[2].description["@graph"][0]["rdfs:label"]+"",s,a,l="-->",u,f,h=i[18].def_artifact_rel_label.value+"",v,p,d=Ze(i[18].def_artifact.value)+"",_,g,b=i[18].def_artifact_label.value+"",D,B,S=i[1].data.d3f_class+"",O,y,N,T,q=Ze(i[18].def_artifact.value)+"",F,j,A=Ze(i[18].def_artifact.value)+"",L,k,R=`
`,K;function z(te,G){return G&20&&(N=null),N==null&&(N=!!te[4].includes(Ze(te[18].def_artifact.value))),N?r4:t4}let fe=z(i,-1),re=fe(i);return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(' |"'),v=V(h),p=V('" | '),_=V(d),g=V('["'),D=V(b),B=V(`"];
          class `),O=V(S),y=V(` DefensiveTechniqueNode;
          `),re.c(),T=V(`
          click `),F=V(q),j=V(` href "javascript:def_to_art_callback('`),L=V(A),k=V(`')";`),K=V(R)},l(te){t=H(te,e),n=H(te,'["'),s=H(te,r),a=H(te,'"] '),u=H(te,l),f=H(te,' |"'),v=H(te,h),p=H(te,'" | '),_=H(te,d),g=H(te,'["'),D=H(te,b),B=H(te,`"];
          class `),O=H(te,S),y=H(te,` DefensiveTechniqueNode;
          `),re.l(te),T=H(te,`
          click `),F=H(te,q),j=H(te,` href "javascript:def_to_art_callback('`),L=H(te,A),k=H(te,`')";`),K=H(te,R)},m(te,G){I(te,t,G),I(te,n,G),I(te,s,G),I(te,a,G),I(te,u,G),I(te,f,G),I(te,v,G),I(te,p,G),I(te,_,G),I(te,g,G),I(te,D,G),I(te,B,G),I(te,O,G),I(te,y,G),re.m(te,G),I(te,T,G),I(te,F,G),I(te,j,G),I(te,L,G),I(te,k,G),I(te,K,G)},p(te,G){G&2&&e!==(e=te[1].data.d3f_class+"")&&Ne(t,e),G&4&&r!==(r=te[2].description["@graph"][0]["rdfs:label"]+"")&&Ne(s,r),G&4&&h!==(h=te[18].def_artifact_rel_label.value+"")&&Ne(v,h),G&4&&d!==(d=Ze(te[18].def_artifact.value)+"")&&Ne(_,d),G&4&&b!==(b=te[18].def_artifact_label.value+"")&&Ne(D,b),G&2&&S!==(S=te[1].data.d3f_class+"")&&Ne(O,S),fe===(fe=z(te,G))&&re?re.p(te,G):(re.d(1),re=fe(te),re&&(re.c(),re.m(T.parentNode,T))),G&4&&q!==(q=Ze(te[18].def_artifact.value)+"")&&Ne(F,q),G&4&&A!==(A=Ze(te[18].def_artifact.value)+"")&&Ne(L,A)},d(te){te&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B),w(O),w(y),w(T),w(F),w(j),w(L),w(k),w(K)),re.d(te)}}}function n4(i){let e,t,n=lt(i[2].digital_artifacts.results.bindings),r=[];for(let s=0;s<n.length;s+=1)r[s]=eg(Jv(i,n,s));return{c(){e=V(`graph LR
        `);for(let s=0;s<r.length;s+=1)r[s].c();t=$e()},l(s){e=H(s,`graph LR
        `);for(let a=0;a<r.length;a+=1)r[a].l(s);t=$e()},m(s,a){I(s,e,a);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(s,a);I(s,t,a)},p(s,a){if(a&22){n=lt(s[2].digital_artifacts.results.bindings);let l;for(l=0;l<n.length;l+=1){const u=Jv(s,n,l);r[l]?r[l].p(u,a):(r[l]=eg(u),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(s){s&&(w(e),w(t)),rr(r,s)}}}function i4(i){let e,t,n,r,s,a,l,u,f,h,v,p,d,_=i[4].length+"",g,b,D,B,S;const O=i[9].header,y=Dr(O,i,i[14],Zv),N=i[9].default,T=Dr(N,i,i[14],null),q=[e4,Z9,J9],F=[];function j(A,L){return A[2]?A[2].digital_artifacts.results.bindings.length>0?1:2:0}return l=j(i),u=F[l]=q[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),n=V(`
    Select Related Artifacts To Insert
    `),T&&T.c(),r=ve(),s=ae("hr"),a=ve(),u.c(),f=ve(),h=ae("hr"),v=ve(),p=ae("button"),d=V("Insert ("),g=V(_),b=V(")"),this.h()},l(A){e=se(A,"DIALOG",{class:!0});var L=Be(e);t=se(L,"DIV",{class:!0});var k=Be(t);y&&y.l(k),n=H(k,`
    Select Related Artifacts To Insert
    `),T&&T.l(k),r=ge(k),s=se(k,"HR",{}),a=ge(k),u.l(k),f=ge(k),h=se(k,"HR",{}),v=ge(k),p=se(k,"BUTTON",{class:!0});var R=Be(p);d=H(R,"Insert ("),g=H(R,_),b=H(R,")"),R.forEach(w),k.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,ue(p,"class","svelte-x0618k"),ue(t,"class","svelte-x0618k"),ue(e,"class","svelte-x0618k")},m(A,L){I(A,e,L),$(e,t),y&&y.m(t,null),$(t,n),T&&T.m(t,null),$(t,r),$(t,s),$(t,a),F[l].m(t,null),$(t,f),$(t,h),$(t,v),$(t,p),$(p,d),$(p,g),$(p,b),i[11](e),D=!0,p.focus(),B||(S=[Ie(p,"click",i[7]),Ie(t,"click",Mr(i[10])),Ie(e,"close",i[12]),Ie(e,"click",va(i[13]))],B=!0)},p(A,[L]){y&&y.p&&(!D||L&16384)&&Ar(y,O,A,A[14],D?Cr(O,A[14],L,K9):kr(A[14]),Zv),T&&T.p&&(!D||L&16384)&&Ar(T,N,A,A[14],D?Cr(N,A[14],L,null):kr(A[14]),null);let k=l;l=j(A),l===k?F[l].p(A,L):(It(),me(F[k],1,1,()=>{F[k]=null}),Rt(),u=F[l],u?u.p(A,L):(u=F[l]=q[l](A),u.c()),he(u,1),u.m(t,f)),(!D||L&16)&&_!==(_=A[4].length+"")&&Ne(g,_)},i(A){D||(he(y,A),he(T,A),he(u),D=!0)},o(A){me(y,A),me(T,A),me(u),D=!1},d(A){A&&w(e),y&&y.d(A),T&&T.d(A),F[l].d(),i[11](null),B=!1,Ht(S)}}}function a4(i,e,t){let n,r,s,{$$slots:a={},$$scope:l}=e,{show_artifacts_modal:u}=e,{parent_node:f}=e,{data:h}=e,v;const p=Ii();yt(i,p,y=>t(16,s=y));const d=Ri();yt(i,d,y=>t(15,r=y));let _=new Ha;function g(y){n.includes(y)?t(4,n=n.filter(N=>N!==y)):n.push(y),t(4,n)}window.def_to_art_callback=function(y){g(y)};function b(){let y=0,N=200,T=100;for(const q of n){let F=h.digital_artifacts.results.bindings.find(j=>Ze(j.def_artifact.value)==q);F&&(Ea(p,d,f,"artifactSelectorNode",F.def_artifact_label.value,"d3f:"+Ze(F.def_artifact.value),f.data.sequence,f.position.x+y*N,f.position.y+T,182,82,F.def_artifact_rel_label.value,!0),y+=1)}p.set(s),d.set(r),v&&v.close(),t(4,n=[])}function D(y){Zn.call(this,i,y)}function B(y){Lr[y?"unshift":"push"](()=>{v=y,t(3,v)})}const S=()=>t(0,u=!1),O=()=>{v.close(),t(4,n=[])};return i.$$set=y=>{"show_artifacts_modal"in y&&t(0,u=y.show_artifacts_modal),"parent_node"in y&&t(1,f=y.parent_node),"data"in y&&t(2,h=y.data),"$$scope"in y&&t(14,l=y.$$scope)},i.$$.update=()=>{i.$$.dirty&9&&u&&v&&(v.showModal(),t(8,_=new Ha)),i.$$.dirty&265&&!u&&v&&(v.close(),_.reset())},t(4,n=[]),[u,f,h,v,n,p,d,b,_,a,D,B,S,O,l]}class s4 extends Gt{constructor(e){super(),Xt(this,e,a4,i4,Et,{show_artifacts_modal:0,parent_node:1,data:2})}}function tg(i,e,t){const n=i.slice();return n[18]=e[t],n}const l4=i=>({}),rg=i=>({});function o4(i){let e;return{c(){e=V("No related offensive techniques in this release.")},l(t){e=H(t,"No related offensive techniques in this release.")},m(t,n){I(t,e,n)},p:at,i:at,o:at,d(t){t&&w(e)}}}function u4(i){let e,t;return e=new ga({props:{$$slots:{default:[d4]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r&16394&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function f4(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(n){e=se(n,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(n,r){I(n,e,r)},p:at,i:at,o:at,d(n){n&&w(e)}}}function ng(i){let e=Ze(i[18].def_tech.value).replace(/ |\./g,"")+"",t,n,r=i[18].def_tech_label.value+"",s,a,l="-->",u,f,h="May "+i[18].def_tactic_label.value.replace(/ /g,""),v,p,d=i[18].off_tech_id.value.replace(/ |\./g,"")+"",_,g,b=i[18].off_tech_label.value+"",D,B,S,O,y=Ze(i[18].def_tech.value)+"",N,T,q=i[18].off_tech_id.value.replace(/ |\./g,"")+"",F,j,A=i[18].off_tech_id.value.replace(/ |\./g,"")+"",L,k,R=Ze(i[18].def_tech.value)+"",K,z,fe=Ze(i[18].def_tech.value)+"",re,te;function G(J,_e){return _e&10&&(S=null),S==null&&(S=!!J[3].includes(J[18].off_tech_id.value.replace(/ |\./g,""))),S?h4:c4}let Q=G(i,-1),pe=Q(i);return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(" | "),v=V(h),p=V("| "),_=V(d),g=V('["'),D=V(b),B=V(`"];
            `),pe.c(),O=V(`
            class `),N=V(y),T=V(" CountermeasureNode; click "),F=V(q),j=V(` href "javascript:def_to_off_callback('`),L=V(A),k=V(`')"; click `),K=V(R),z=V(' href "/technique/d3f:'),re=V(fe),te=V('";')},l(J){t=H(J,e),n=H(J,'["'),s=H(J,r),a=H(J,'"] '),u=H(J,l),f=H(J," | "),v=H(J,h),p=H(J,"| "),_=H(J,d),g=H(J,'["'),D=H(J,b),B=H(J,`"];
            `),pe.l(J),O=H(J,`
            class `),N=H(J,y),T=H(J," CountermeasureNode; click "),F=H(J,q),j=H(J,` href "javascript:def_to_off_callback('`),L=H(J,A),k=H(J,`')"; click `),K=H(J,R),z=H(J,' href "/technique/d3f:'),re=H(J,fe),te=H(J,'";')},m(J,_e){I(J,t,_e),I(J,n,_e),I(J,s,_e),I(J,a,_e),I(J,u,_e),I(J,f,_e),I(J,v,_e),I(J,p,_e),I(J,_,_e),I(J,g,_e),I(J,D,_e),I(J,B,_e),pe.m(J,_e),I(J,O,_e),I(J,N,_e),I(J,T,_e),I(J,F,_e),I(J,j,_e),I(J,L,_e),I(J,k,_e),I(J,K,_e),I(J,z,_e),I(J,re,_e),I(J,te,_e)},p(J,_e){_e&2&&e!==(e=Ze(J[18].def_tech.value).replace(/ |\./g,"")+"")&&Ne(t,e),_e&2&&r!==(r=J[18].def_tech_label.value+"")&&Ne(s,r),_e&2&&h!==(h="May "+J[18].def_tactic_label.value.replace(/ /g,""))&&Ne(v,h),_e&2&&d!==(d=J[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Ne(_,d),_e&2&&b!==(b=J[18].off_tech_label.value+"")&&Ne(D,b),Q===(Q=G(J,_e))&&pe?pe.p(J,_e):(pe.d(1),pe=Q(J),pe&&(pe.c(),pe.m(O.parentNode,O))),_e&2&&y!==(y=Ze(J[18].def_tech.value)+"")&&Ne(N,y),_e&2&&q!==(q=J[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Ne(F,q),_e&2&&A!==(A=J[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Ne(L,A),_e&2&&R!==(R=Ze(J[18].def_tech.value)+"")&&Ne(K,R),_e&2&&fe!==(fe=Ze(J[18].def_tech.value)+"")&&Ne(re,fe)},d(J){J&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B),w(O),w(N),w(T),w(F),w(j),w(L),w(k),w(K),w(z),w(re),w(te)),pe.d(J)}}}function c4(i){let e,t=i[18].off_tech_id.value.replace(/ |\./g,"")+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" OffensiveTechniqueNode;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," OffensiveTechniqueNode;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a&2&&t!==(t=s[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Ne(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function h4(i){let e,t=i[18].off_tech_id.value.replace(/ |\./g,"")+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" SelectedOffensiveTechniqueNode;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," SelectedOffensiveTechniqueNode;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a&2&&t!==(t=s[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Ne(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function ig(i){let e=i[6].edge_is_unique(i[18].def_tech_label.value,i[18].off_artifact_rel_label.value,i[18].off_artifact_label.value),t,n=e&&ng(i);return{c(){n&&n.c(),t=$e()},l(r){n&&n.l(r),t=$e()},m(r,s){n&&n.m(r,s),I(r,t,s)},p(r,s){s&2&&(e=r[6].edge_is_unique(r[18].def_tech_label.value,r[18].off_artifact_rel_label.value,r[18].off_artifact_label.value)),e?n?n.p(r,s):(n=ng(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&w(t),n&&n.d(r)}}}function d4(i){let e,t,n=lt(i[1].def_to_off.results.bindings),r=[];for(let s=0;s<n.length;s+=1)r[s]=ig(tg(i,n,s));return{c(){e=V(`graph LR;
        `);for(let s=0;s<r.length;s+=1)r[s].c();t=$e()},l(s){e=H(s,`graph LR;
        `);for(let a=0;a<r.length;a+=1)r[a].l(s);t=$e()},m(s,a){I(s,e,a);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(s,a);I(s,t,a)},p(s,a){if(a&74){n=lt(s[1].def_to_off.results.bindings);let l;for(l=0;l<n.length;l+=1){const u=tg(s,n,l);r[l]?r[l].p(u,a):(r[l]=ig(u),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(s){s&&(w(e),w(t)),rr(r,s)}}}function p4(i){let e,t,n,r,s,a,l,u,f,h,v,p,d,_=i[3].length+"",g,b,D,B,S;const O=i[9].header,y=Dr(O,i,i[14],rg),N=i[9].default,T=Dr(N,i,i[14],null),q=[f4,u4,o4],F=[];function j(A,L){return A[1]?A[1].def_to_off.results.bindings.length>0?1:2:0}return l=j(i),u=F[l]=q[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),n=V(`
    Select Attack Techniques
    `),T&&T.c(),r=ve(),s=ae("hr"),a=ve(),u.c(),f=ve(),h=ae("hr"),v=ve(),p=ae("button"),d=V("Insert ("),g=V(_),b=V(")"),this.h()},l(A){e=se(A,"DIALOG",{class:!0});var L=Be(e);t=se(L,"DIV",{class:!0});var k=Be(t);y&&y.l(k),n=H(k,`
    Select Attack Techniques
    `),T&&T.l(k),r=ge(k),s=se(k,"HR",{}),a=ge(k),u.l(k),f=ge(k),h=se(k,"HR",{}),v=ge(k),p=se(k,"BUTTON",{class:!0});var R=Be(p);d=H(R,"Insert ("),g=H(R,_),b=H(R,")"),R.forEach(w),k.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,ue(p,"class","svelte-1ai9hff"),ue(t,"class","svelte-1ai9hff"),ue(e,"class","svelte-1ai9hff")},m(A,L){I(A,e,L),$(e,t),y&&y.m(t,null),$(t,n),T&&T.m(t,null),$(t,r),$(t,s),$(t,a),F[l].m(t,null),$(t,f),$(t,h),$(t,v),$(t,p),$(p,d),$(p,g),$(p,b),i[11](e),D=!0,p.focus(),B||(S=[Ie(p,"click",i[7]),Ie(t,"click",Mr(i[10])),Ie(e,"close",i[12]),Ie(e,"click",va(i[13]))],B=!0)},p(A,[L]){y&&y.p&&(!D||L&16384)&&Ar(y,O,A,A[14],D?Cr(O,A[14],L,l4):kr(A[14]),rg),T&&T.p&&(!D||L&16384)&&Ar(T,N,A,A[14],D?Cr(N,A[14],L,null):kr(A[14]),null);let k=l;l=j(A),l===k?F[l].p(A,L):(It(),me(F[k],1,1,()=>{F[k]=null}),Rt(),u=F[l],u?u.p(A,L):(u=F[l]=q[l](A),u.c()),he(u,1),u.m(t,f)),(!D||L&8)&&_!==(_=A[3].length+"")&&Ne(g,_)},i(A){D||(he(y,A),he(T,A),he(u),D=!0)},o(A){me(y,A),me(T,A),me(u),D=!1},d(A){A&&w(e),y&&y.d(A),T&&T.d(A),F[l].d(),i[11](null),B=!1,Ht(S)}}}function _4(i,e,t){let n,r,s,{$$slots:a={},$$scope:l}=e,{show_attack_modal:u}=e,{parent_node:f}=e,{data:h}=e,v;const p=Ii();yt(i,p,y=>t(16,s=y));const d=Ri();yt(i,d,y=>t(15,r=y));let _=new Ha;function g(y){n.includes(y)?t(3,n=n.filter(N=>N!==y)):n.push(y),t(3,n)}window.def_to_off_callback=function(y){g(y)};function b(){let y=0,N=200,T=100;for(const q of n){let F=h.def_to_off.results.bindings.find(j=>j.off_tech_id.value.replace(/ |\./g,"")==q);F&&(Ea(p,d,f,"attackSelectorNode",F.off_tech_label.value,"d3f:"+F.off_tech_id.value,f.data.sequence,f.position.x+y*N,f.position.y+T,182,63,"May "+F.def_tactic_label.value,!0),y+=1)}p.set(s),d.set(r),v&&v.close(),t(3,n=[])}function D(y){Zn.call(this,i,y)}function B(y){Lr[y?"unshift":"push"](()=>{v=y,t(2,v)})}const S=()=>t(0,u=!1),O=()=>{v.close(),t(3,n=[])};return i.$$set=y=>{"show_attack_modal"in y&&t(0,u=y.show_attack_modal),"parent_node"in y&&t(8,f=y.parent_node),"data"in y&&t(1,h=y.data),"$$scope"in y&&t(14,l=y.$$scope)},i.$$.update=()=>{i.$$.dirty&5&&u&&v&&(v.showModal(),_.reset()),i.$$.dirty&5&&!u&&v&&(v.close(),_.reset())},t(3,n=[]),[u,h,v,n,p,d,_,b,f,a,D,B,S,O,l]}class v4 extends Gt{constructor(e){super(),Xt(this,e,_4,p4,Et,{show_attack_modal:0,parent_node:8,data:1})}}function g4(i){let e,t="artifacts",n,r,s,a,l,u="offensive techniques",f,h,v,p,d,_="weaknesses (coming soon)",g,b,D;function B(N){i[6](N)}let S={parent_node:i[0],data:i[1]};i[3]!==void 0&&(S.show_artifacts_modal=i[3]),r=new s4({props:S}),Lr.push(()=>gn(r,"show_artifacts_modal",B));function O(N){i[8](N)}let y={parent_node:i[0],data:i[1]};return i[2]!==void 0&&(y.show_attack_modal=i[2]),h=new v4({props:y}),Lr.push(()=>gn(h,"show_attack_modal",O)),{c(){e=ae("button"),e.textContent=t,n=ve(),Xe(r.$$.fragment),a=ve(),l=ae("button"),l.textContent=u,f=ve(),Xe(h.$$.fragment),p=ve(),d=ae("button"),d.textContent=_,this.h()},l(N){e=se(N,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(e)!=="svelte-isgkpy"&&(e.textContent=t),n=ge(N),We(r.$$.fragment,N),a=ge(N),l=se(N,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(l)!=="svelte-17h5zge"&&(l.textContent=u),f=ge(N),We(h.$$.fragment,N),p=ge(N),d=se(N,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(d)!=="svelte-ivhbdc"&&(d.textContent=_),this.h()},h(){ue(e,"class","svelte-1x5dcdh"),ue(l,"class","svelte-1x5dcdh"),d.disabled=!0,ue(d,"class","svelte-1x5dcdh")},m(N,T){I(N,e,T),I(N,n,T),Qe(r,N,T),I(N,a,T),I(N,l,T),I(N,f,T),Qe(h,N,T),I(N,p,T),I(N,d,T),g=!0,b||(D=[Ie(e,"click",i[5]),Ie(l,"click",i[7])],b=!0)},p(N,[T]){const q={};T&1&&(q.parent_node=N[0]),T&2&&(q.data=N[1]),!s&&T&8&&(s=!0,q.show_artifacts_modal=N[3],vn(()=>s=!1)),r.$set(q);const F={};T&1&&(F.parent_node=N[0]),T&2&&(F.data=N[1]),!v&&T&4&&(v=!0,F.show_attack_modal=N[2],vn(()=>v=!1)),h.$set(F)},i(N){g||(he(r.$$.fragment,N),he(h.$$.fragment,N),g=!0)},o(N){me(r.$$.fragment,N),me(h.$$.fragment,N),g=!1},d(N){N&&(w(e),w(n),w(a),w(l),w(f),w(p),w(d)),Ye(r,N),Ye(h,N),b=!1,Ht(D)}}}function m4(i,e,t){let n,r;var s=this&&this.__awaiter||function(_,g,b,D){function B(S){return S instanceof b?S:new b(function(O){O(S)})}return new(b||(b=Promise))(function(S,O){function y(q){try{T(D.next(q))}catch(F){O(F)}}function N(q){try{T(D.throw(q))}catch(F){O(F)}}function T(q){q.done?S(q.value):B(q.value).then(y,N)}T((D=D.apply(_,g||[])).next())})};let{node:a}=e,l;function u(_){alert(_),t(3,n=!1),t(2,r=!1)}function f(_){return s(this,void 0,void 0,function*(){if(_.data.d3f_class&&_.data.d3f_class.includes("d3f:")){const g=_.data.d3f_class,b=yield fetch(`/api/technique/${g}.json`),D=yield b.json();if(b.status!=200||D.description["@graph"].length==0)u(`D3FEND Technique: "${g.replace("d3f:","")}" not found in ontology`);else return D}else u("Please specify a D3FEND Class for this node to enable inferential mapping")})}const h=async()=>{t(1,l=null),t(3,n=!0),t(1,l=await f(a))};function v(_){n=_,t(3,n)}const p=async()=>{t(1,l=null),t(2,r=!0),t(1,l=await f(a))};function d(_){r=_,t(2,r)}return i.$$set=_=>{"node"in _&&t(0,a=_.node)},t(3,n=!1),t(2,r=!1),[a,l,r,n,f,h,v,p,d]}class b4 extends Gt{constructor(e){super(),Xt(this,e,m4,g4,Et,{node:0})}}function ag(i,e,t){const n=i.slice();return n[18]=e[t],n}const w4=i=>({}),sg=i=>({});function y4(i){let e;return{c(){e=V("No related artifacts in this release.")},l(t){e=H(t,"No related artifacts in this release.")},m(t,n){I(t,e,n)},p:at,i:at,o:at,d(t){t&&w(e)}}}function E4(i){let e,t;return e=new ga({props:{$$slots:{default:[C4]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r&16394&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function D4(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(n){e=se(n,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(n,r){I(n,e,r)},p:at,i:at,o:at,d(n){n&&w(e)}}}function lg(i){let e=i[18].off_tech_id.value.replace(/ |\./g,"")+"",t,n,r=i[18].off_tech_label.value+"",s,a,l="-->",u,f,h=i[18].off_artifact_rel_label.value.replace(/ /g,"")+"",v,p,d=Ze(i[18].off_artifact.value)+"",_,g,b=i[18].off_artifact_label.value+"",D,B,S=i[18].off_tech_id.value.replace(/ |\./g,"")+"",O,y,N,T,q=Ze(i[18].off_artifact.value)+"",F,j,A=Ze(i[18].off_artifact.value)+"",L,k,R=i[18].off_tech_id.value.replace(/ |\./g,"")+"",K,z,fe=uf(i[18].off_tech_id.value)+"",re,te,G=Ze(i[18].off_artifact.value)+"",Q,pe,J=Ze(i[18].off_artifact.value)+"",_e,tt;function rt(ke,He){return He&10&&(N=null),N==null&&(N=!!ke[3].includes(Ze(ke[18].off_artifact.value))),N?k4:A4}let Pe=rt(i,-1),je=Pe(i);return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(" |"),v=V(h),p=V("| "),_=V(d),g=V('["'),D=V(b),B=V('"]; class '),O=V(S),y=V(` OffensiveTechniqueNode;
            `),je.c(),T=V(" ; click "),F=V(q),j=V(' href "/dao/artifact/d3f:'),L=V(A),k=V('"; click '),K=V(R),z=V(' href "'),re=V(fe),te=V('"; click '),Q=V(G),pe=V(` href "javascript:off_to_art_callback('`),_e=V(J),tt=V(`')";`)},l(ke){t=H(ke,e),n=H(ke,'["'),s=H(ke,r),a=H(ke,'"] '),u=H(ke,l),f=H(ke," |"),v=H(ke,h),p=H(ke,"| "),_=H(ke,d),g=H(ke,'["'),D=H(ke,b),B=H(ke,'"]; class '),O=H(ke,S),y=H(ke,` OffensiveTechniqueNode;
            `),je.l(ke),T=H(ke," ; click "),F=H(ke,q),j=H(ke,' href "/dao/artifact/d3f:'),L=H(ke,A),k=H(ke,'"; click '),K=H(ke,R),z=H(ke,' href "'),re=H(ke,fe),te=H(ke,'"; click '),Q=H(ke,G),pe=H(ke,` href "javascript:off_to_art_callback('`),_e=H(ke,J),tt=H(ke,`')";`)},m(ke,He){I(ke,t,He),I(ke,n,He),I(ke,s,He),I(ke,a,He),I(ke,u,He),I(ke,f,He),I(ke,v,He),I(ke,p,He),I(ke,_,He),I(ke,g,He),I(ke,D,He),I(ke,B,He),I(ke,O,He),I(ke,y,He),je.m(ke,He),I(ke,T,He),I(ke,F,He),I(ke,j,He),I(ke,L,He),I(ke,k,He),I(ke,K,He),I(ke,z,He),I(ke,re,He),I(ke,te,He),I(ke,Q,He),I(ke,pe,He),I(ke,_e,He),I(ke,tt,He)},p(ke,He){He&2&&e!==(e=ke[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Ne(t,e),He&2&&r!==(r=ke[18].off_tech_label.value+"")&&Ne(s,r),He&2&&h!==(h=ke[18].off_artifact_rel_label.value.replace(/ /g,"")+"")&&Ne(v,h),He&2&&d!==(d=Ze(ke[18].off_artifact.value)+"")&&Ne(_,d),He&2&&b!==(b=ke[18].off_artifact_label.value+"")&&Ne(D,b),He&2&&S!==(S=ke[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Ne(O,S),Pe===(Pe=rt(ke,He))&&je?je.p(ke,He):(je.d(1),je=Pe(ke),je&&(je.c(),je.m(T.parentNode,T))),He&2&&q!==(q=Ze(ke[18].off_artifact.value)+"")&&Ne(F,q),He&2&&A!==(A=Ze(ke[18].off_artifact.value)+"")&&Ne(L,A),He&2&&R!==(R=ke[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Ne(K,R),He&2&&fe!==(fe=uf(ke[18].off_tech_id.value)+"")&&Ne(re,fe),He&2&&G!==(G=Ze(ke[18].off_artifact.value)+"")&&Ne(Q,G),He&2&&J!==(J=Ze(ke[18].off_artifact.value)+"")&&Ne(_e,J)},d(ke){ke&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B),w(O),w(y),w(T),w(F),w(j),w(L),w(k),w(K),w(z),w(re),w(te),w(Q),w(pe),w(_e),w(tt)),je.d(ke)}}}function A4(i){let e,t=Ze(i[18].off_artifact.value)+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" ArtifactNode;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," ArtifactNode;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a&2&&t!==(t=Ze(s[18].off_artifact.value)+"")&&Ne(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function k4(i){let e,t=Ze(i[18].off_artifact.value)+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" SelectedArtifactNode;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," SelectedArtifactNode;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a&2&&t!==(t=Ze(s[18].off_artifact.value)+"")&&Ne(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function og(i){let e=i[6].edge_is_unique(i[18].off_tech_label.value,i[18].off_artifact_rel_label.value,i[18].off_artifact_label.value),t,n=e&&lg(i);return{c(){n&&n.c(),t=$e()},l(r){n&&n.l(r),t=$e()},m(r,s){n&&n.m(r,s),I(r,t,s)},p(r,s){s&2&&(e=r[6].edge_is_unique(r[18].off_tech_label.value,r[18].off_artifact_rel_label.value,r[18].off_artifact_label.value)),e?n?n.p(r,s):(n=lg(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&w(t),n&&n.d(r)}}}function C4(i){let e,t,n=lt(i[1].off_to_def.results.bindings),r=[];for(let s=0;s<n.length;s+=1)r[s]=og(ag(i,n,s));return{c(){e=V(`graph LR;
        `);for(let s=0;s<r.length;s+=1)r[s].c();t=$e()},l(s){e=H(s,`graph LR;
        `);for(let a=0;a<r.length;a+=1)r[a].l(s);t=$e()},m(s,a){I(s,e,a);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(s,a);I(s,t,a)},p(s,a){if(a&74){n=lt(s[1].off_to_def.results.bindings);let l;for(l=0;l<n.length;l+=1){const u=ag(s,n,l);r[l]?r[l].p(u,a):(r[l]=og(u),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(s){s&&(w(e),w(t)),rr(r,s)}}}function T4(i){let e,t,n,r,s,a,l,u,f,h,v,p,d,_=i[3].length+"",g,b,D,B,S;const O=i[9].header,y=Dr(O,i,i[14],sg),N=i[9].default,T=Dr(N,i,i[14],null),q=[D4,E4,y4],F=[];function j(A,L){return A[1]?A[1].off_to_def.results.bindings.length>0?1:2:0}return l=j(i),u=F[l]=q[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),n=V(`
    Select Related Artifacts To Insert
    `),T&&T.c(),r=ve(),s=ae("hr"),a=ve(),u.c(),f=ve(),h=ae("hr"),v=ve(),p=ae("button"),d=V("Insert ("),g=V(_),b=V(")"),this.h()},l(A){e=se(A,"DIALOG",{class:!0});var L=Be(e);t=se(L,"DIV",{class:!0});var k=Be(t);y&&y.l(k),n=H(k,`
    Select Related Artifacts To Insert
    `),T&&T.l(k),r=ge(k),s=se(k,"HR",{}),a=ge(k),u.l(k),f=ge(k),h=se(k,"HR",{}),v=ge(k),p=se(k,"BUTTON",{class:!0});var R=Be(p);d=H(R,"Insert ("),g=H(R,_),b=H(R,")"),R.forEach(w),k.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,ue(p,"class","svelte-x0618k"),ue(t,"class","svelte-x0618k"),ue(e,"class","svelte-x0618k")},m(A,L){I(A,e,L),$(e,t),y&&y.m(t,null),$(t,n),T&&T.m(t,null),$(t,r),$(t,s),$(t,a),F[l].m(t,null),$(t,f),$(t,h),$(t,v),$(t,p),$(p,d),$(p,g),$(p,b),i[11](e),D=!0,p.focus(),B||(S=[Ie(p,"click",i[7]),Ie(t,"click",Mr(i[10])),Ie(e,"close",i[12]),Ie(e,"click",va(i[13]))],B=!0)},p(A,[L]){y&&y.p&&(!D||L&16384)&&Ar(y,O,A,A[14],D?Cr(O,A[14],L,w4):kr(A[14]),sg),T&&T.p&&(!D||L&16384)&&Ar(T,N,A,A[14],D?Cr(N,A[14],L,null):kr(A[14]),null);let k=l;l=j(A),l===k?F[l].p(A,L):(It(),me(F[k],1,1,()=>{F[k]=null}),Rt(),u=F[l],u?u.p(A,L):(u=F[l]=q[l](A),u.c()),he(u,1),u.m(t,f)),(!D||L&8)&&_!==(_=A[3].length+"")&&Ne(g,_)},i(A){D||(he(y,A),he(T,A),he(u),D=!0)},o(A){me(y,A),me(T,A),me(u),D=!1},d(A){A&&w(e),y&&y.d(A),T&&T.d(A),F[l].d(),i[11](null),B=!1,Ht(S)}}}function N4(i,e,t){let n,r,s,{$$slots:a={},$$scope:l}=e,{show_artifacts_modal:u}=e,{parent_node:f}=e,{data:h}=e,v;const p=Ii();yt(i,p,y=>t(16,s=y));const d=Ri();yt(i,d,y=>t(15,r=y));let _=new Ha;function g(y){n.includes(y)?t(3,n=n.filter(N=>N!==y)):n.push(y),t(3,n)}window.off_to_art_callback=function(y){g(y)};function b(){let y=0,N=200,T=100;for(const q of n){let F=h.off_to_def.results.bindings.find(j=>Ze(j.off_artifact.value)==q);F&&(Ea(p,d,f,"artifactSelectorNode",F.off_artifact_label.value,"d3f:"+Ze(F.off_artifact.value),f.data.sequence,f.position.x+y*N,f.position.y+T,182,63,F.off_artifact_rel_label.value,!0),y+=1)}p.set(s),d.set(r),v&&v.close(),t(3,n=[])}function D(y){Zn.call(this,i,y)}function B(y){Lr[y?"unshift":"push"](()=>{v=y,t(2,v)})}const S=()=>t(0,u=!1),O=()=>{v.close(),t(3,n=[])};return i.$$set=y=>{"show_artifacts_modal"in y&&t(0,u=y.show_artifacts_modal),"parent_node"in y&&t(8,f=y.parent_node),"data"in y&&t(1,h=y.data),"$$scope"in y&&t(14,l=y.$$scope)},i.$$.update=()=>{i.$$.dirty&5&&u&&v&&(v.showModal(),_.reset()),i.$$.dirty&5&&!u&&v&&(v.close(),_.reset())},t(3,n=[]),[u,h,v,n,p,d,_,b,f,a,D,B,S,O,l]}class S4 extends Gt{constructor(e){super(),Xt(this,e,N4,T4,Et,{show_artifacts_modal:0,parent_node:8,data:1})}}function ug(i,e,t){const n=i.slice();return n[23]=e[t],n}const I4=i=>({}),fg=i=>({});function R4(i){let e;return{c(){e=V("No related artifacts in this release.")},l(t){e=H(t,"No related artifacts in this release.")},m(t,n){I(t,e,n)},p:at,i:at,o:at,d(t){t&&w(e)}}}function P4(i){let e,t,n,r,s,a,l,u,f,h;function v(d){i[14](d)}let p={toggles:i[4]};return i[3]!==void 0&&(p.selected=i[3]),t=new l1({props:p}),Lr.push(()=>gn(t,"selected",v)),f=new ga({props:{$$slots:{default:[B4]},$$scope:{ctx:i}}}),{c(){e=ae("div"),Xe(t.$$.fragment),r=ve(),s=ae("br"),a=ve(),l=ae("br"),u=ve(),Xe(f.$$.fragment),this.h()},l(d){e=se(d,"DIV",{class:!0});var _=Be(e);We(t.$$.fragment,_),_.forEach(w),r=ge(d),s=se(d,"BR",{}),a=ge(d),l=se(d,"BR",{}),u=ge(d),We(f.$$.fragment,d),this.h()},h(){ue(e,"class","center shrink")},m(d,_){I(d,e,_),Qe(t,e,null),I(d,r,_),I(d,s,_),I(d,a,_),I(d,l,_),I(d,u,_),Qe(f,d,_),h=!0},p(d,_){const g={};_&16&&(g.toggles=d[4]),!n&&_&8&&(n=!0,g.selected=d[3],vn(()=>n=!1)),t.$set(g);const b={};_&262186&&(b.$$scope={dirty:_,ctx:d}),f.$set(b)},i(d){h||(he(t.$$.fragment,d),he(f.$$.fragment,d),h=!0)},o(d){me(t.$$.fragment,d),me(f.$$.fragment,d),h=!1},d(d){d&&(w(e),w(r),w(s),w(a),w(l),w(u)),Ye(t),Ye(f,d)}}}function F4(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(n){e=se(n,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(n,r){I(n,e,r)},p:at,i:at,o:at,d(n){n&&w(e)}}}function cg(i){let e=i[8].edge_is_unique(i[23].def_tech_label.value,i[23].def_artifact_rel_label.value,i[23].off_artifact_label.value),t,n=e&&hg(i);return{c(){n&&n.c(),t=$e()},l(r){n&&n.l(r),t=$e()},m(r,s){n&&n.m(r,s),I(r,t,s)},p(r,s){s&2&&(e=r[8].edge_is_unique(r[23].def_tech_label.value,r[23].def_artifact_rel_label.value,r[23].off_artifact_label.value)),e?n?n.p(r,s):(n=hg(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&w(t),n&&n.d(r)}}}function hg(i){let e=!i[3].includes(i[23].def_tactic_label.value),t,n=e&&dg(i);return{c(){n&&n.c(),t=$e()},l(r){n&&n.l(r),t=$e()},m(r,s){n&&n.m(r,s),I(r,t,s)},p(r,s){s&10&&(e=!r[3].includes(r[23].def_tactic_label.value)),e?n?n.p(r,s):(n=dg(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&w(t),n&&n.d(r)}}}function dg(i){let e=Ze(i[23].def_tech.value)+"",t,n,r=i[23].def_tech_label.value+"",s,a,l="-->",u,f,h=i[23].def_artifact_rel_label.value.replace(/ /g,"")+"",v,p,d=Ze(i[23].off_artifact.value)+"",_,g,b=i[23].off_artifact_label.value+"",D,B,S=i[8].edge_is_unique(i[23].def_tech.value,i[23].def_tactic_label.value,i[23].off_tech_id.value),O,y,N,T=i[23].off_artifact_label.value.replace(/ /g,"")+"",q,F,j=Ze(i[23].def_tech.value)+"",A,L,k=i[23].def_tech_label.value.replace(/ |\./g,"")+"",R,K,z=S&&pg(i);function fe(G,Q){return Q&34&&(y=null),y==null&&(y=!!G[5].includes(Ze(G[23].def_tech.value))),y?L4:O4}let re=fe(i,-1),te=re(i);return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(`
                | `),v=V(h),p=V(" | "),_=V(d),g=V('["'),D=V(b),B=V(`"];

                `),z&&z.c(),O=ve(),te.c(),N=V(` 
                class `),q=V(T),F=V(` ArtifactNode;
                click `),A=V(j),L=V(` href "javascript:off_to_def_callback('`),R=V(k),K=V(`')";`)},l(G){t=H(G,e),n=H(G,'["'),s=H(G,r),a=H(G,'"] '),u=H(G,l),f=H(G,`
                | `),v=H(G,h),p=H(G," | "),_=H(G,d),g=H(G,'["'),D=H(G,b),B=H(G,`"];

                `),z&&z.l(G),O=ge(G),te.l(G),N=H(G,` 
                class `),q=H(G,T),F=H(G,` ArtifactNode;
                click `),A=H(G,j),L=H(G,` href "javascript:off_to_def_callback('`),R=H(G,k),K=H(G,`')";`)},m(G,Q){I(G,t,Q),I(G,n,Q),I(G,s,Q),I(G,a,Q),I(G,u,Q),I(G,f,Q),I(G,v,Q),I(G,p,Q),I(G,_,Q),I(G,g,Q),I(G,D,Q),I(G,B,Q),z&&z.m(G,Q),I(G,O,Q),te.m(G,Q),I(G,N,Q),I(G,q,Q),I(G,F,Q),I(G,A,Q),I(G,L,Q),I(G,R,Q),I(G,K,Q)},p(G,Q){Q&2&&e!==(e=Ze(G[23].def_tech.value)+"")&&Ne(t,e),Q&2&&r!==(r=G[23].def_tech_label.value+"")&&Ne(s,r),Q&2&&h!==(h=G[23].def_artifact_rel_label.value.replace(/ /g,"")+"")&&Ne(v,h),Q&2&&d!==(d=Ze(G[23].off_artifact.value)+"")&&Ne(_,d),Q&2&&b!==(b=G[23].off_artifact_label.value+"")&&Ne(D,b),Q&2&&(S=G[8].edge_is_unique(G[23].def_tech.value,G[23].def_tactic_label.value,G[23].off_tech_id.value)),S?z?z.p(G,Q):(z=pg(G),z.c(),z.m(O.parentNode,O)):z&&(z.d(1),z=null),re===(re=fe(G,Q))&&te?te.p(G,Q):(te.d(1),te=re(G),te&&(te.c(),te.m(N.parentNode,N))),Q&2&&T!==(T=G[23].off_artifact_label.value.replace(/ /g,"")+"")&&Ne(q,T),Q&2&&j!==(j=Ze(G[23].def_tech.value)+"")&&Ne(A,j),Q&2&&k!==(k=G[23].def_tech_label.value.replace(/ |\./g,"")+"")&&Ne(R,k)},d(G){G&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B),w(O),w(N),w(q),w(F),w(A),w(L),w(R),w(K)),z&&z.d(G),te.d(G)}}}function pg(i){let e=Ze(i[23].def_tech.value)+"",t,n,r=i[23].def_tech_label.value+"",s,a,l="-.->",u,f,h="May "+i[23].def_tactic_label.value,v,p,d=i[23].off_tech_id.value.replace(/ |\./g,"")+"",_,g,b=i[23].off_tech_label.value+"",D,B;return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(`
                  | `),v=V(h),p=V(" | "),_=V(d),g=V('["'),D=V(b),B=V('"] ;')},l(S){t=H(S,e),n=H(S,'["'),s=H(S,r),a=H(S,'"] '),u=H(S,l),f=H(S,`
                  | `),v=H(S,h),p=H(S," | "),_=H(S,d),g=H(S,'["'),D=H(S,b),B=H(S,'"] ;')},m(S,O){I(S,t,O),I(S,n,O),I(S,s,O),I(S,a,O),I(S,u,O),I(S,f,O),I(S,v,O),I(S,p,O),I(S,_,O),I(S,g,O),I(S,D,O),I(S,B,O)},p(S,O){O&2&&e!==(e=Ze(S[23].def_tech.value)+"")&&Ne(t,e),O&2&&r!==(r=S[23].def_tech_label.value+"")&&Ne(s,r),O&2&&h!==(h="May "+S[23].def_tactic_label.value)&&Ne(v,h),O&2&&d!==(d=S[23].off_tech_id.value.replace(/ |\./g,"")+"")&&Ne(_,d),O&2&&b!==(b=S[23].off_tech_label.value+"")&&Ne(D,b)},d(S){S&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B))}}}function O4(i){let e,t=Ze(i[23].def_tech.value)+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" DefensiveTechniqueNode;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," DefensiveTechniqueNode;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a&2&&t!==(t=Ze(s[23].def_tech.value)+"")&&Ne(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function L4(i){let e,t=Ze(i[23].def_tech.value)+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" SelectedDefensiveTechniqueNode;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," SelectedDefensiveTechniqueNode;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a&2&&t!==(t=Ze(s[23].def_tech.value)+"")&&Ne(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function _g(i){let e=i[23].off_tech_id.value.replace(/ |\./g,"")+"",t,n,r=i[23].off_tech_label.value+"",s,a,l="-->",u,f,h=i[23].off_artifact_rel_label.value.replace(/ /g,"")+"",v,p,d=Ze(i[23].off_artifact.value)+"",_,g,b=i[23].off_artifact_label.value+"",D,B,S=i[23].off_tech_id.value.replace(/ |\./g,"")+"",O,y,N=Ze(i[23].off_artifact.value)+"",T,q,F=Ze(i[23].off_artifact.value)+"",j,A,L=Ze(i[23].off_artifact.value)+"",k,R,K=i[23].off_tech_id.value.replace(/ |\./g,"")+"",z,fe,re=uf(i[23].off_tech_id.value)+"",te,G,Q=Ze(i[23].off_artifact.value)+"",pe,J,_e=Ze(i[23].off_artifact.value)+"",tt,rt;return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(" |"),v=V(h),p=V("| "),_=V(d),g=V('["'),D=V(b),B=V('"]; class '),O=V(S),y=V(` OffensiveTechniqueNode;
            class `),T=V(N),q=V(" ArtifactNode; click "),j=V(F),A=V(' href "/dao/artifact/d3f:'),k=V(L),R=V(`";
            click `),z=V(K),fe=V(' href "'),te=V(re),G=V('"; click '),pe=V(Q),J=V(' href "/dao/artifact/d3f:'),tt=V(_e),rt=V('";')},l(Pe){t=H(Pe,e),n=H(Pe,'["'),s=H(Pe,r),a=H(Pe,'"] '),u=H(Pe,l),f=H(Pe," |"),v=H(Pe,h),p=H(Pe,"| "),_=H(Pe,d),g=H(Pe,'["'),D=H(Pe,b),B=H(Pe,'"]; class '),O=H(Pe,S),y=H(Pe,` OffensiveTechniqueNode;
            class `),T=H(Pe,N),q=H(Pe," ArtifactNode; click "),j=H(Pe,F),A=H(Pe,' href "/dao/artifact/d3f:'),k=H(Pe,L),R=H(Pe,`";
            click `),z=H(Pe,K),fe=H(Pe,' href "'),te=H(Pe,re),G=H(Pe,'"; click '),pe=H(Pe,Q),J=H(Pe,' href "/dao/artifact/d3f:'),tt=H(Pe,_e),rt=H(Pe,'";')},m(Pe,je){I(Pe,t,je),I(Pe,n,je),I(Pe,s,je),I(Pe,a,je),I(Pe,u,je),I(Pe,f,je),I(Pe,v,je),I(Pe,p,je),I(Pe,_,je),I(Pe,g,je),I(Pe,D,je),I(Pe,B,je),I(Pe,O,je),I(Pe,y,je),I(Pe,T,je),I(Pe,q,je),I(Pe,j,je),I(Pe,A,je),I(Pe,k,je),I(Pe,R,je),I(Pe,z,je),I(Pe,fe,je),I(Pe,te,je),I(Pe,G,je),I(Pe,pe,je),I(Pe,J,je),I(Pe,tt,je),I(Pe,rt,je)},p(Pe,je){je&2&&e!==(e=Pe[23].off_tech_id.value.replace(/ |\./g,"")+"")&&Ne(t,e),je&2&&r!==(r=Pe[23].off_tech_label.value+"")&&Ne(s,r),je&2&&h!==(h=Pe[23].off_artifact_rel_label.value.replace(/ /g,"")+"")&&Ne(v,h),je&2&&d!==(d=Ze(Pe[23].off_artifact.value)+"")&&Ne(_,d),je&2&&b!==(b=Pe[23].off_artifact_label.value+"")&&Ne(D,b),je&2&&S!==(S=Pe[23].off_tech_id.value.replace(/ |\./g,"")+"")&&Ne(O,S),je&2&&N!==(N=Ze(Pe[23].off_artifact.value)+"")&&Ne(T,N),je&2&&F!==(F=Ze(Pe[23].off_artifact.value)+"")&&Ne(j,F),je&2&&L!==(L=Ze(Pe[23].off_artifact.value)+"")&&Ne(k,L),je&2&&K!==(K=Pe[23].off_tech_id.value.replace(/ |\./g,"")+"")&&Ne(z,K),je&2&&re!==(re=uf(Pe[23].off_tech_id.value)+"")&&Ne(te,re),je&2&&Q!==(Q=Ze(Pe[23].off_artifact.value)+"")&&Ne(pe,Q),je&2&&_e!==(_e=Ze(Pe[23].off_artifact.value)+"")&&Ne(tt,_e)},d(Pe){Pe&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B),w(O),w(y),w(T),w(q),w(j),w(A),w(k),w(R),w(z),w(fe),w(te),w(G),w(pe),w(J),w(tt),w(rt))}}}function vg(i){let e,t=i[8].edge_is_unique(i[23].off_tech_label.value,i[23].off_artifact_rel_label.value,i[23].off_artifact_label.value),n,r="def_tech"in i[23]&&cg(i),s=t&&_g(i);return{c(){r&&r.c(),e=ve(),s&&s.c(),n=$e()},l(a){r&&r.l(a),e=ge(a),s&&s.l(a),n=$e()},m(a,l){r&&r.m(a,l),I(a,e,l),s&&s.m(a,l),I(a,n,l)},p(a,l){"def_tech"in a[23]?r?r.p(a,l):(r=cg(a),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),l&2&&(t=a[8].edge_is_unique(a[23].off_tech_label.value,a[23].off_artifact_rel_label.value,a[23].off_artifact_label.value)),t?s?s.p(a,l):(s=_g(a),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},d(a){a&&(w(e),w(n)),r&&r.d(a),s&&s.d(a)}}}function B4(i){let e,t,n=lt(i[1].off_to_def.results.bindings),r=[];for(let s=0;s<n.length;s+=1)r[s]=vg(ug(i,n,s));return{c(){e=V(`graph LR;
        `);for(let s=0;s<r.length;s+=1)r[s].c();t=$e()},l(s){e=H(s,`graph LR;
        `);for(let a=0;a<r.length;a+=1)r[a].l(s);t=$e()},m(s,a){I(s,e,a);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(s,a);I(s,t,a)},p(s,a){if(a&298){n=lt(s[1].off_to_def.results.bindings);let l;for(l=0;l<n.length;l+=1){const u=ug(s,n,l);r[l]?r[l].p(u,a):(r[l]=vg(u),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(s){s&&(w(e),w(t)),rr(r,s)}}}function U4(i){let e,t,n,r,s,a,l,u,f,h,v,p,d,_=i[5].length+"",g,b,D,B,S;const O=i[12].header,y=Dr(O,i,i[18],fg),N=i[12].default,T=Dr(N,i,i[18],null),q=[F4,P4,R4],F=[];function j(A,L){return A[1]?A[1].off_to_def.results.bindings.length>0?1:2:0}return l=j(i),u=F[l]=q[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),n=V(`
    Select Related Artifacts To Insert
    `),T&&T.c(),r=ve(),s=ae("hr"),a=ve(),u.c(),f=ve(),h=ae("hr"),v=ve(),p=ae("button"),d=V("Insert ("),g=V(_),b=V(")"),this.h()},l(A){e=se(A,"DIALOG",{class:!0});var L=Be(e);t=se(L,"DIV",{class:!0});var k=Be(t);y&&y.l(k),n=H(k,`
    Select Related Artifacts To Insert
    `),T&&T.l(k),r=ge(k),s=se(k,"HR",{}),a=ge(k),u.l(k),f=ge(k),h=se(k,"HR",{}),v=ge(k),p=se(k,"BUTTON",{class:!0});var R=Be(p);d=H(R,"Insert ("),g=H(R,_),b=H(R,")"),R.forEach(w),k.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,ue(p,"class","svelte-x0618k"),ue(t,"class","svelte-x0618k"),ue(e,"class","svelte-x0618k")},m(A,L){I(A,e,L),$(e,t),y&&y.m(t,null),$(t,n),T&&T.m(t,null),$(t,r),$(t,s),$(t,a),F[l].m(t,null),$(t,f),$(t,h),$(t,v),$(t,p),$(p,d),$(p,g),$(p,b),i[15](e),D=!0,p.focus(),B||(S=[Ie(p,"click",i[9]),Ie(t,"click",Mr(i[13])),Ie(e,"close",i[16]),Ie(e,"click",va(i[17]))],B=!0)},p(A,[L]){y&&y.p&&(!D||L&262144)&&Ar(y,O,A,A[18],D?Cr(O,A[18],L,I4):kr(A[18]),fg),T&&T.p&&(!D||L&262144)&&Ar(T,N,A,A[18],D?Cr(N,A[18],L,null):kr(A[18]),null);let k=l;l=j(A),l===k?F[l].p(A,L):(It(),me(F[k],1,1,()=>{F[k]=null}),Rt(),u=F[l],u?u.p(A,L):(u=F[l]=q[l](A),u.c()),he(u,1),u.m(t,f)),(!D||L&32)&&_!==(_=A[5].length+"")&&Ne(g,_)},i(A){D||(he(y,A),he(T,A),he(u),D=!0)},o(A){me(y,A),me(T,A),me(u),D=!1},d(A){A&&w(e),y&&y.d(A),T&&T.d(A),F[l].d(),i[15](null),B=!1,Ht(S)}}}function M4(i,e,t){let n,r,s,{$$slots:a={},$$scope:l}=e,{show_defend_modal:u}=e,{parent_node:f}=e,{data:h}=e,v;const p=Ii();yt(i,p,j=>t(20,s=j));const d=Ri();yt(i,d,j=>t(19,r=j));let _=new Ha;function g(j){n.includes(j)?t(5,n=n.filter(A=>A!==j)):n.push(j),t(5,n)}window.off_to_def_callback=function(j){g(j)};function b(){let j=0,A=200,L=100;for(const k of n){let R=h.off_to_def.results.bindings.find(K=>"def_tech"in K&&Ze(K.def_tech.value)==k);R&&(Ea(p,d,f,"countermeasureSelectorNode",R.def_tech_label.value,"d3f:"+Ze(R.def_tech.value),f.data.sequence,f.position.x+j*A,f.position.y+L,182,63,"May "+R.def_tactic_label.value,!1),j+=1)}p.set(s),d.set(r),v&&v.close(),t(5,n=[])}let D=new Set,B=[],S=[];a1(B,S)&&(S=[]);function O(j){for(const A of n){let L=h.off_to_def.results.bindings.find(k=>"def_tech"in k&&Ze(k.def_tech.value)==A);j.includes(L.def_tactic_label.value)&&t(5,n=n.filter(k=>k!==A))}t(5,n)}function y(j){Zn.call(this,i,j)}function N(j){S=j,t(3,S)}function T(j){Lr[j?"unshift":"push"](()=>{v=j,t(2,v)})}const q=()=>t(0,u=!1),F=()=>{v.close(),t(5,n=[])};return i.$$set=j=>{"show_defend_modal"in j&&t(0,u=j.show_defend_modal),"parent_node"in j&&t(10,f=j.parent_node),"data"in j&&t(1,h=j.data),"$$scope"in j&&t(18,l=j.$$scope)},i.$$.update=()=>{i.$$.dirty&5&&u&&v&&(v.showModal(),_.reset()),i.$$.dirty&5&&!u&&v&&(v.close(),_.reset()),i.$$.dirty&2050&&h&&(h.off_to_def.results.bindings.forEach(j=>{"def_tactic_label"in j&&D.add(j.def_tactic_label.value)}),t(11,D),t(1,h)),i.$$.dirty&2048&&t(4,B=Array.from(D).sort(function(j,A){return ff[j]-ff[A]})),i.$$.dirty&8&&O(S),i.$$.dirty&8&&_.reset(S)},t(5,n=[]),[u,h,v,S,B,n,p,d,_,b,f,D,a,y,N,T,q,F,l]}class q4 extends Gt{constructor(e){super(),Xt(this,e,M4,U4,Et,{show_defend_modal:0,parent_node:10,data:1})}}function j4(i){let e,t="artifacts",n,r,s,a,l,u="defensive techniques",f,h,v,p,d,_;function g(S){i[6](S)}let b={parent_node:i[0],data:i[1]};i[3]!==void 0&&(b.show_artifacts_modal=i[3]),r=new S4({props:b}),Lr.push(()=>gn(r,"show_artifacts_modal",g));function D(S){i[8](S)}let B={parent_node:i[0],data:i[1]};return i[2]!==void 0&&(B.show_defend_modal=i[2]),h=new q4({props:B}),Lr.push(()=>gn(h,"show_defend_modal",D)),{c(){e=ae("button"),e.textContent=t,n=ve(),Xe(r.$$.fragment),a=ve(),l=ae("button"),l.textContent=u,f=ve(),Xe(h.$$.fragment),this.h()},l(S){e=se(S,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(e)!=="svelte-1t14z6m"&&(e.textContent=t),n=ge(S),We(r.$$.fragment,S),a=ge(S),l=se(S,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(l)!=="svelte-o3we0s"&&(l.textContent=u),f=ge(S),We(h.$$.fragment,S),this.h()},h(){ue(e,"class","svelte-1x5dcdh"),ue(l,"class","svelte-1x5dcdh")},m(S,O){I(S,e,O),I(S,n,O),Qe(r,S,O),I(S,a,O),I(S,l,O),I(S,f,O),Qe(h,S,O),p=!0,d||(_=[Ie(e,"click",i[5]),Ie(l,"click",i[7])],d=!0)},p(S,[O]){const y={};O&1&&(y.parent_node=S[0]),O&2&&(y.data=S[1]),!s&&O&8&&(s=!0,y.show_artifacts_modal=S[3],vn(()=>s=!1)),r.$set(y);const N={};O&1&&(N.parent_node=S[0]),O&2&&(N.data=S[1]),!v&&O&4&&(v=!0,N.show_defend_modal=S[2],vn(()=>v=!1)),h.$set(N)},i(S){p||(he(r.$$.fragment,S),he(h.$$.fragment,S),p=!0)},o(S){me(r.$$.fragment,S),me(h.$$.fragment,S),p=!1},d(S){S&&(w(e),w(n),w(a),w(l),w(f)),Ye(r,S),Ye(h,S),d=!1,Ht(_)}}}function x4(i,e,t){let n,r;var s=this&&this.__awaiter||function(_,g,b,D){function B(S){return S instanceof b?S:new b(function(O){O(S)})}return new(b||(b=Promise))(function(S,O){function y(q){try{T(D.next(q))}catch(F){O(F)}}function N(q){try{T(D.throw(q))}catch(F){O(F)}}function T(q){q.done?S(q.value):B(q.value).then(y,N)}T((D=D.apply(_,g||[])).next())})};let{node:a}=e,l;function u(_){alert(_),t(3,n=!1),t(2,r=!1)}function f(_){return s(this,void 0,void 0,function*(){if(_.data.d3f_class&&_.data.d3f_class.includes("d3f:")){const g=_.data.d3f_class,b=yield fetch(`/api/offensive-technique/attack/${g.replace("d3f:","")}.json`),D=yield b.json();if(b.status!=200||D.description["@graph"].length==0)u(`Offensive Technique: "${g.replace("d3f:","")}" not found in ontology`);else return D}else u("Please specify a D3FEND Class for this node to enable inferential mapping")})}const h=async()=>{t(1,l=null),t(3,n=!0),t(1,l=await f(a))};function v(_){n=_,t(3,n)}const p=async()=>{t(1,l=null),t(2,r=!0),t(1,l=await f(a))};function d(_){r=_,t(2,r)}return i.$$set=_=>{"node"in _&&t(0,a=_.node)},t(3,n=!1),t(2,r=!1),[a,l,r,n,f,h,v,p,d]}class z4 extends Gt{constructor(e){super(),Xt(this,e,x4,j4,Et,{node:0})}}function gg(i){let e,t;return e=new z4({props:{node:i[1]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.node=n[1]),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function mg(i){let e,t;return e=new b4({props:{node:i[1]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.node=n[1]),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function bg(i){let e,t;return e=new Y9({props:{node:i[1]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.node=n[1]),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function V4(i){let e,t,n,r,s,a,l,u,f,h,v="duplicate",p,d,_="delete",g,b,D,B,S=i[1]&&i[1].type=="attackSelectorNode"&&gg(i),O=i[1]&&i[1].type=="countermeasureSelectorNode"&&mg(i),y=i[1]&&i[1].type=="artifactSelectorNode"&&bg(i);return{c(){e=ae("div"),t=ae("p"),n=ae("small"),r=V("node: "),s=V(i[0]),a=ve(),S&&S.c(),l=ve(),O&&O.c(),u=ve(),y&&y.c(),f=ve(),h=ae("button"),h.textContent=v,p=ve(),d=ae("button"),d.textContent=_,this.h()},l(N){e=se(N,"DIV",{style:!0,class:!0});var T=Be(e);t=se(T,"P",{style:!0});var q=Be(t);n=se(q,"SMALL",{});var F=Be(n);r=H(F,"node: "),s=H(F,i[0]),F.forEach(w),q.forEach(w),a=ge(T),S&&S.l(T),l=ge(T),O&&O.l(T),u=ge(T),y&&y.l(T),f=ge(T),h=se(T,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(h)!=="svelte-1spbqw1"&&(h.textContent=v),p=ge(T),d=se(T,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(d)!=="svelte-1pyou7z"&&(d.textContent=_),T.forEach(w),this.h()},h(){$t(t,"margin","0.5em"),ue(h,"class","svelte-1o17oqa"),ue(d,"class","svelte-1o17oqa"),ue(e,"style",g=i[2]()),ue(e,"class","context-menu svelte-1o17oqa")},m(N,T){I(N,e,T),$(e,t),$(t,n),$(n,r),$(n,s),$(e,a),S&&S.m(e,null),$(e,l),O&&O.m(e,null),$(e,u),y&&y.m(e,null),$(e,f),$(e,h),$(e,p),$(e,d),b=!0,D||(B=[Ie(h,"click",i[5]),Ie(d,"click",i[6])],D=!0)},p(N,[T]){(!b||T&1)&&Ne(s,N[0]),N[1]&&N[1].type=="attackSelectorNode"?S?(S.p(N,T),T&2&&he(S,1)):(S=gg(N),S.c(),he(S,1),S.m(e,l)):S&&(It(),me(S,1,1,()=>{S=null}),Rt()),N[1]&&N[1].type=="countermeasureSelectorNode"?O?(O.p(N,T),T&2&&he(O,1)):(O=mg(N),O.c(),he(O,1),O.m(e,u)):O&&(It(),me(O,1,1,()=>{O=null}),Rt()),N[1]&&N[1].type=="artifactSelectorNode"?y?(y.p(N,T),T&2&&he(y,1)):(y=bg(N),y.c(),he(y,1),y.m(e,f)):y&&(It(),me(y,1,1,()=>{y=null}),Rt()),(!b||T&4&&g!==(g=N[2]()))&&ue(e,"style",g)},i(N){b||(he(S),he(O),he(y),b=!0)},o(N){me(S),me(O),me(y),b=!1},d(N){N&&w(e),S&&S.d(),O&&O.d(),y&&y.d(),D=!1,Ht(B)}}}function H4(i,e,t){let n,r,s,a,{id:l}=e,{top:u}=e,{left:f}=e,{right:h}=e,{bottom:v}=e;const p=Ii();yt(i,p,b=>t(11,a=b));const d=Ri();yt(i,d,b=>t(12,s=b));function _(){const b=a.find(D=>D.id===l);b&&(console.log(b),a.push(Object.assign(Object.assign({},b),{id:`${l}-copy${Math.random()}`.slice(-24),position:{x:b.position.x,y:b.position.y+50}}))),p.set(a)}function g(){Vt(p,a=a.filter(b=>b.id!==l),a),Vt(d,s=s.filter(b=>b.source!==l&&b.target!==l),s),p.set(a),d.set(s)}return i.$$set=b=>{"id"in b&&t(0,l=b.id),"top"in b&&t(7,u=b.top),"left"in b&&t(8,f=b.left),"right"in b&&t(9,h=b.right),"bottom"in b&&t(10,v=b.bottom)},i.$$.update=()=>{i.$$.dirty&2049&&t(1,n=a.find(b=>b.id===l)),i.$$.dirty&1920&&t(2,r=()=>{let b="";return u&&(b+=`top:${u}px;`),v&&(b+=`bottom:${v}px;`),f&&(b+=`left:${f}px;`),h&&(b+=`right:${h}px;`),b})},[l,n,r,p,d,_,g,u,f,h,v,a]}class $4 extends Gt{constructor(e){super(),Xt(this,e,H4,V4,Et,{id:0,top:7,left:8,right:9,bottom:10})}}function wg(i,e,t){const n=i.slice();return n[12]=e[t],n}function yg(i){let e,t,n,r,s,a,l,u,f,h,v,p,d;const _=i[8].default,g=Dr(_,i,i[7],null);let b=lt(i[3]),D=[];for(let B=0;B<b.length;B+=1)D[B]=Eg(wg(i,b,B));return{c(){e=ae("div"),t=ae("div"),n=ae("h2"),r=V(i[1]),s=ve(),a=ae("p"),l=V(i[2]),u=ve(),g&&g.c(),f=ve(),h=ae("div");for(let B=0;B<D.length;B+=1)D[B].c();this.h()},l(B){e=se(B,"DIV",{class:!0});var S=Be(e);t=se(S,"DIV",{class:!0});var O=Be(t);n=se(O,"H2",{});var y=Be(n);r=H(y,i[1]),y.forEach(w),s=ge(O),a=se(O,"P",{});var N=Be(a);l=H(N,i[2]),N.forEach(w),u=ge(O),g&&g.l(O),f=ge(O),h=se(O,"DIV",{class:!0});var T=Be(h);for(let q=0;q<D.length;q+=1)D[q].l(T);T.forEach(w),O.forEach(w),S.forEach(w),this.h()},h(){ue(h,"class","options svelte-zbcx3u"),ue(t,"class","modal-content center text-center svelte-zbcx3u"),ue(e,"class","modal-overlay svelte-zbcx3u")},m(B,S){I(B,e,S),$(e,t),$(t,n),$(n,r),$(t,s),$(t,a),$(a,l),$(t,u),g&&g.m(t,null),$(t,f),$(t,h);for(let O=0;O<D.length;O+=1)D[O]&&D[O].m(h,null);v=!0,p||(d=[Ie(t,"click",Mr(i[9])),Ie(e,"click",i[4])],p=!0)},p(B,S){if((!v||S&2)&&Ne(r,B[1]),(!v||S&4)&&Ne(l,B[2]),g&&g.p&&(!v||S&128)&&Ar(g,_,B,B[7],v?Cr(_,B[7],S,null):kr(B[7]),null),S&40){b=lt(B[3]);let O;for(O=0;O<b.length;O+=1){const y=wg(B,b,O);D[O]?D[O].p(y,S):(D[O]=Eg(y),D[O].c(),D[O].m(h,null))}for(;O<D.length;O+=1)D[O].d(1);D.length=b.length}},i(B){v||(he(g,B),v=!0)},o(B){me(g,B),v=!1},d(B){B&&w(e),g&&g.d(B),rr(D,B),p=!1,Ht(d)}}}function Eg(i){let e,t=i[12].label+"",n,r,s,a;function l(){return i[10](i[12])}return{c(){e=ae("button"),n=V(t),r=ve(),this.h()},l(u){e=se(u,"BUTTON",{class:!0});var f=Be(e);n=H(f,t),r=ge(f),f.forEach(w),this.h()},h(){ue(e,"class","svelte-zbcx3u")},m(u,f){I(u,e,f),$(e,n),$(e,r),s||(a=Ie(e,"click",l),s=!0)},p(u,f){i=u,f&8&&t!==(t=i[12].label+"")&&Ne(n,t)},d(u){u&&w(e),s=!1,a()}}}function G4(i){let e,t,n=i[0]&&yg(i);return{c(){n&&n.c(),e=$e()},l(r){n&&n.l(r),e=$e()},m(r,s){n&&n.m(r,s),I(r,e,s),t=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&he(n,1)):(n=yg(r),n.c(),he(n,1),n.m(e.parentNode,e)):n&&(It(),me(n,1,1,()=>{n=null}),Rt())},i(r){t||(he(n),t=!0)},o(r){me(n),t=!1},d(r){r&&w(e),n&&n.d(r)}}}function X4(i,e,t){let{$$slots:n={},$$scope:r}=e,{is_open:s=!1}=e,{title:a=""}=e,{content:l=""}=e,{imageSrc:u=""}=e,{options:f=[]}=e;const h=Tf();function v(){t(0,s=!1)}function p(g){h("optionSelected",g),v()}function d(g){Zn.call(this,i,g)}const _=g=>p(g);return i.$$set=g=>{"is_open"in g&&t(0,s=g.is_open),"title"in g&&t(1,a=g.title),"content"in g&&t(2,l=g.content),"imageSrc"in g&&t(6,u=g.imageSrc),"options"in g&&t(3,f=g.options),"$$scope"in g&&t(7,r=g.$$scope)},[s,a,l,f,v,p,u,r,n,d,_]}class Dg extends Gt{constructor(e){super(),Xt(this,e,X4,G4,Et,{is_open:0,title:1,content:2,imageSrc:6,options:3})}}function Ag(i,e,t){const n=i.slice();return n[11]=e[t],n}function kg(i){let e,t,n,r,s,a,l,u,f,h,v,p,d;const _=i[7].default,g=Dr(_,i,i[6],null);let b=lt(i[3]),D=[];for(let B=0;B<b.length;B+=1)D[B]=Cg(Ag(i,b,B));return{c(){e=ae("div"),t=ae("div"),n=ae("h2"),r=V(i[1]),s=ve(),a=ae("p"),l=V(i[2]),u=ve(),g&&g.c(),f=ve(),h=ae("div");for(let B=0;B<D.length;B+=1)D[B].c();this.h()},l(B){e=se(B,"DIV",{class:!0});var S=Be(e);t=se(S,"DIV",{class:!0});var O=Be(t);n=se(O,"H2",{});var y=Be(n);r=H(y,i[1]),y.forEach(w),s=ge(O),a=se(O,"P",{});var N=Be(a);l=H(N,i[2]),N.forEach(w),u=ge(O),g&&g.l(O),f=ge(O),h=se(O,"DIV",{class:!0});var T=Be(h);for(let q=0;q<D.length;q+=1)D[q].l(T);T.forEach(w),O.forEach(w),S.forEach(w),this.h()},h(){ue(h,"class","options svelte-2iwk9m"),ue(t,"class","modal-content center text-center svelte-2iwk9m"),ue(e,"class","modal-overlay svelte-2iwk9m")},m(B,S){I(B,e,S),$(e,t),$(t,n),$(n,r),$(t,s),$(t,a),$(a,l),$(t,u),g&&g.m(t,null),$(t,f),$(t,h);for(let O=0;O<D.length;O+=1)D[O]&&D[O].m(h,null);v=!0,p||(d=[Ie(t,"click",Mr(i[8])),Ie(e,"click",i[4])],p=!0)},p(B,S){if((!v||S&2)&&Ne(r,B[1]),(!v||S&4)&&Ne(l,B[2]),g&&g.p&&(!v||S&64)&&Ar(g,_,B,B[6],v?Cr(_,B[6],S,null):kr(B[6]),null),S&40){b=lt(B[3]);let O;for(O=0;O<b.length;O+=1){const y=Ag(B,b,O);D[O]?D[O].p(y,S):(D[O]=Cg(y),D[O].c(),D[O].m(h,null))}for(;O<D.length;O+=1)D[O].d(1);D.length=b.length}},i(B){v||(he(g,B),v=!0)},o(B){me(g,B),v=!1},d(B){B&&w(e),g&&g.d(B),rr(D,B),p=!1,Ht(d)}}}function Cg(i){let e,t=i[11].label+"",n,r,s,a;function l(){return i[9](i[11])}return{c(){e=ae("button"),n=V(t),r=ve(),this.h()},l(u){e=se(u,"BUTTON",{class:!0});var f=Be(e);n=H(f,t),r=ge(f),f.forEach(w),this.h()},h(){ue(e,"class","svelte-2iwk9m")},m(u,f){I(u,e,f),$(e,n),$(e,r),s||(a=Ie(e,"click",l),s=!0)},p(u,f){i=u,f&8&&t!==(t=i[11].label+"")&&Ne(n,t)},d(u){u&&w(e),s=!1,a()}}}function W4(i){let e,t,n=i[0]&&kg(i);return{c(){n&&n.c(),e=$e()},l(r){n&&n.l(r),e=$e()},m(r,s){n&&n.m(r,s),I(r,e,s),t=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&he(n,1)):(n=kg(r),n.c(),he(n,1),n.m(e.parentNode,e)):n&&(It(),me(n,1,1,()=>{n=null}),Rt())},i(r){t||(he(n),t=!0)},o(r){me(n),t=!1},d(r){r&&w(e),n&&n.d(r)}}}function Q4(i,e,t){let{$$slots:n={},$$scope:r}=e,{is_open:s=!1}=e,{title:a=""}=e,{content:l=""}=e,{options:u=[{label:"Cancel",value:"cancel"}]}=e;const f=Tf();function h(){t(0,s=!1)}function v(_){f("model_shared",_),h()}function p(_){Zn.call(this,i,_)}const d=_=>v(_);return i.$$set=_=>{"is_open"in _&&t(0,s=_.is_open),"title"in _&&t(1,a=_.title),"content"in _&&t(2,l=_.content),"options"in _&&t(3,u=_.options),"$$scope"in _&&t(6,r=_.$$scope)},[s,a,l,u,h,v,r,n,p,d]}class Y4 extends Gt{constructor(e){super(),Xt(this,e,Q4,W4,Et,{is_open:0,title:1,content:2,options:3})}}function K4(i){let e,t="";return{c(){e=ae("icon"),e.textContent=t,this.h()},l(n){e=se(n,"ICON",{title:!0,"data-svelte-h":!0}),vt(e)!=="svelte-10dwkvf"&&(e.textContent=t),this.h()},h(){ue(e,"title","Full Screen Mode")},m(n,r){I(n,e,r)},d(n){n&&w(e)}}}function J4(i){let e,t=" Exit Fullscreen";return{c(){e=ae("icon"),e.textContent=t,this.h()},l(n){e=se(n,"ICON",{title:!0,"data-svelte-h":!0}),vt(e)!=="svelte-2wnxo3"&&(e.textContent=t),this.h()},h(){ue(e,"title","Exit Full Screen Mode")},m(n,r){I(n,e,r)},d(n){n&&w(e)}}}function Z4(i){let e,t,n,r,s,a;function l(p,d){return p[1]?J4:K4}let u=l(i),f=u(i);const h=i[4].default,v=Dr(h,i,i[3],null);return{c(){e=ae("div"),t=ae("button"),f.c(),n=ve(),v&&v.c(),this.h()},l(p){e=se(p,"DIV",{id:!0,class:!0});var d=Be(e);t=se(d,"BUTTON",{class:!0});var _=Be(t);f.l(_),_.forEach(w),n=ge(d),v&&v.l(d),d.forEach(w),this.h()},h(){ue(t,"class","fullscreen-toggle svelte-1jzyezl"),qn(t,"left",i[0]==="left"),qn(t,"right",i[0]==="right"),ue(e,"id","fullscreen-parent"),ue(e,"class","svelte-1jzyezl")},m(p,d){I(p,e,d),$(e,t),f.m(t,null),$(e,n),v&&v.m(e,null),r=!0,s||(a=Ie(t,"click",i[2]),s=!0)},p(p,[d]){u!==(u=l(p))&&(f.d(1),f=u(p),f&&(f.c(),f.m(t,null))),(!r||d&1)&&qn(t,"left",p[0]==="left"),(!r||d&1)&&qn(t,"right",p[0]==="right"),v&&v.p&&(!r||d&8)&&Ar(v,h,p,p[3],r?Cr(h,p[3],d,null):kr(p[3]),null)},i(p){r||(he(v,p),r=!0)},o(p){me(v,p),r=!1},d(p){p&&w(e),f.d(),v&&v.d(p),s=!1,a()}}}function eR(i,e,t){let{$$slots:n={},$$scope:r}=e,{position:s="right"}=e,a=!1,l;Cf(()=>(l=document.getElementById("fullscreen-parent"),document.addEventListener("fullscreenchange",u),()=>{document.removeEventListener("fullscreenchange",u)}));function u(){t(1,a=!!document.fullscreenElement)}async function f(){if(a)try{await document.exitFullscreen()}catch(h){console.error("Error attempting to exit fullscreen:",h)}else try{await l.requestFullscreen()}catch(h){console.error("Error attempting to enable fullscreen:",h)}}return i.$$set=h=>{"position"in h&&t(0,s=h.position),"$$scope"in h&&t(3,r=h.$$scope)},[s,a,f,r,n]}class tR extends Gt{constructor(e){super(),Xt(this,e,eR,Z4,Et,{position:0})}}function rR(i){let e,t,n="drag these nodes to the canvas below",r,s,a,l,u="Action",f,h,v="Event",p,d,_="Attack",g,b,D="Countermeasure",B,S,O,y="Endurant",N,T,q="Artifact",F,j,A="Information",L,k,R="Agent",K,z,fe,re="State",te,G,Q="Vulnerability",pe,J,_e="Condition",tt,rt;return{c(){e=ae("aside"),t=ae("div"),t.textContent=n,r=ve(),s=ae("div"),a=ae("div"),l=ae("div"),l.textContent=u,f=ve(),h=ae("div"),h.textContent=v,p=ve(),d=ae("div"),d.textContent=_,g=ve(),b=ae("div"),b.textContent=D,B=ve(),S=ae("div"),O=ae("div"),O.textContent=y,N=ve(),T=ae("div"),T.textContent=q,F=ve(),j=ae("div"),j.textContent=A,L=ve(),k=ae("div"),k.textContent=R,K=ve(),z=ae("div"),fe=ae("div"),fe.textContent=re,te=ve(),G=ae("div"),G.textContent=Q,pe=ve(),J=ae("div"),J.textContent=_e,this.h()},l(Pe){e=se(Pe,"ASIDE",{class:!0});var je=Be(e);t=se(je,"DIV",{class:!0,"data-svelte-h":!0}),vt(t)!=="svelte-1gs57dm"&&(t.textContent=n),r=ge(je),s=se(je,"DIV",{class:!0});var ke=Be(s);a=se(ke,"DIV",{class:!0});var He=Be(a);l=se(He,"DIV",{class:!0,"data-svelte-h":!0}),vt(l)!=="svelte-1yk6dej"&&(l.textContent=u),f=ge(He),h=se(He,"DIV",{class:!0,draggable:!0,style:!0,title:!0,"data-svelte-h":!0}),vt(h)!=="svelte-1hxo6k5"&&(h.textContent=v),p=ge(He),d=se(He,"DIV",{class:!0,draggable:!0,style:!0,title:!0,"data-svelte-h":!0}),vt(d)!=="svelte-1m30nhf"&&(d.textContent=_),g=ge(He),b=se(He,"DIV",{class:!0,draggable:!0,style:!0,title:!0,"data-svelte-h":!0}),vt(b)!=="svelte-xvztkt"&&(b.textContent=D),He.forEach(w),B=ge(ke),S=se(ke,"DIV",{class:!0});var ot=Be(S);O=se(ot,"DIV",{class:!0,"data-svelte-h":!0}),vt(O)!=="svelte-13fxc4g"&&(O.textContent=y),N=ge(ot),T=se(ot,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),vt(T)!=="svelte-p6iki9"&&(T.textContent=q),F=ge(ot),j=se(ot,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),vt(j)!=="svelte-gfucir"&&(j.textContent=A),L=ge(ot),k=se(ot,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),vt(k)!=="svelte-1k1k96h"&&(k.textContent=R),ot.forEach(w),K=ge(ke),z=se(ke,"DIV",{class:!0});var kt=Be(z);fe=se(kt,"DIV",{class:!0,"data-svelte-h":!0}),vt(fe)!=="svelte-82roym"&&(fe.textContent=re),te=ge(kt),G=se(kt,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),vt(G)!=="svelte-tj9qj"&&(G.textContent=Q),pe=ge(kt),J=se(kt,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),vt(J)!=="svelte-1mwlumu"&&(J.textContent=_e),kt.forEach(w),ke.forEach(w),je.forEach(w),this.h()},h(){ue(t,"class","label svelte-1ubw31k"),ue(l,"class","text-center font-medium"),ue(h,"class","actionNode example-node svelte-1ubw31k"),ue(h,"draggable",!0),$t(h,"text-align","center"),$t(h,"background","white"),ue(h,"title","d3f:Event"),ue(d,"class","attackSelectorNode example-node svelte-1ubw31k"),ue(d,"draggable",!0),$t(d,"text-align","center"),$t(d,"background","#FFD0D0"),ue(d,"title","d3f:OffensiveTechnique"),ue(b,"class","countermeasureSelectorNode example-node svelte-1ubw31k"),ue(b,"draggable",!0),$t(b,"text-align","center"),$t(b,"background","#d6eaff"),ue(b,"title","d3f:DefensiveTechnique"),ue(a,"class","nodes-column svelte-1ubw31k"),ue(O,"class","text-center font-medium"),ue(T,"class","artifactSelectorNode art-node example-node svelte-1ubw31k"),ue(T,"draggable",!0),$t(T,"text-align","center"),$t(T,"background","#fff4dd"),ue(j,"class","informationSelectorNode example-node svelte-1ubw31k"),ue(j,"draggable",!0),$t(j,"text-align","center"),$t(j,"background","#e8f4ea"),ue(k,"class","agentSelectorNode example-node svelte-1ubw31k"),ue(k,"draggable",!0),$t(k,"text-align","center"),$t(k,"background","#f0e6e6"),ue(S,"class","nodes-column svelte-1ubw31k"),ue(fe,"class","text-center font-medium"),ue(G,"class","vulnerabilitySelectorNode example-node svelte-1ubw31k"),ue(G,"draggable",!0),$t(G,"text-align","center"),$t(G,"background","#f9d999"),ue(J,"class","conditionDefinitionNode example-node svelte-1ubw31k"),ue(J,"draggable",!0),$t(J,"text-align","center"),$t(J,"background","#ece6ff"),ue(z,"class","nodes-column svelte-1ubw31k"),ue(s,"class","nodes-container svelte-1ubw31k"),ue(e,"class","svelte-1ubw31k")},m(Pe,je){I(Pe,e,je),$(e,t),$(e,r),$(e,s),$(s,a),$(a,l),$(a,f),$(a,h),$(a,p),$(a,d),$(a,g),$(a,b),$(s,B),$(s,S),$(S,O),$(S,N),$(S,T),$(S,F),$(S,j),$(S,L),$(S,k),$(s,K),$(s,z),$(z,fe),$(z,te),$(z,G),$(z,pe),$(z,J),tt||(rt=[Ie(h,"dragstart",i[1]),Ie(d,"dragstart",i[2]),Ie(b,"dragstart",i[3]),Ie(T,"dragstart",i[4]),Ie(j,"dragstart",i[5]),Ie(k,"dragstart",i[6]),Ie(G,"dragstart",i[7]),Ie(J,"dragstart",i[8])],tt=!0)},p:at,i:at,o:at,d(Pe){Pe&&w(e),tt=!1,Ht(rt)}}}function nR(i){const e=(h,v)=>{if(!h.dataTransfer)return null;h.dataTransfer.setData("application/svelteflow",v),h.dataTransfer.effectAllowed="move"};return[e,h=>e(h,"eventNode"),h=>e(h,"attackSelectorNode"),h=>e(h,"countermeasureSelectorNode"),h=>e(h,"artifactSelectorNode"),h=>e(h,"informationSelectorNode"),h=>e(h,"agentSelectorNode"),h=>e(h,"vulnerabilitySelectorNode"),h=>e(h,"conditionDefinitionNode")]}class iR extends Gt{constructor(e){super(),Xt(this,e,nR,rR,Et,{})}}function Tg(i,e,t){const n=i.slice();return n[11]=e[t],n[12]=e,n[13]=t,n}function Ng(i){let e,t,n=i[0].id+"",r,s,a,l,u,f,h,v,p,d,_,g,b,D,B,S="+",O,y,N=(i[0].type=="attackSelectorNode"||i[0].type=="countermeasureSelectorNode")&&Sg(i),T=i[0].type=="vulnerabilitySelectorNode"&&Ig(i),q=lt(i[0].data.user_properties),F=[];for(let j=0;j<q.length;j+=1)F[j]=Pg(Tg(i,q,j));return{c(){e=ae("p"),t=V("id: "),r=V(n),s=ve(),a=ae("div"),N&&N.c(),l=ve(),T&&T.c(),u=ve(),f=ae("br"),h=V(`
                label:`),v=ae("br"),p=ae("input"),d=ae("br"),_=ve(),g=ae("br"),b=ve();for(let j=0;j<F.length;j+=1)F[j].c();D=ve(),B=ae("button"),B.textContent=S,this.h()},l(j){e=se(j,"P",{class:!0});var A=Be(e);t=H(A,"id: "),r=H(A,n),A.forEach(w),s=ge(j),a=se(j,"DIV",{class:!0});var L=Be(a);N&&N.l(L),l=ge(L),T&&T.l(L),u=ge(L),f=se(L,"BR",{}),h=H(L,`
                label:`),v=se(L,"BR",{}),p=se(L,"INPUT",{type:!0,name:!0}),d=se(L,"BR",{}),_=ge(L),g=se(L,"BR",{}),b=ge(L);for(let k=0;k<F.length;k+=1)F[k].l(L);D=ge(L),B=se(L,"BUTTON",{"data-svelte-h":!0}),vt(B)!=="svelte-y9choq"&&(B.textContent=S),L.forEach(w),this.h()},h(){ue(e,"class",""),ue(p,"type","text"),ue(p,"name","editableInput"),ue(a,"class","")},m(j,A){I(j,e,A),$(e,t),$(e,r),I(j,s,A),I(j,a,A),N&&N.m(a,null),$(a,l),T&&T.m(a,null),$(a,u),$(a,f),$(a,h),$(a,v),$(a,p),gt(p,i[0].data.label),$(a,d),$(a,_),$(a,g),$(a,b);for(let L=0;L<F.length;L+=1)F[L]&&F[L].m(a,null);$(a,D),$(a,B),O||(y=[Ie(p,"input",i[7]),Ie(B,"click",i[1])],O=!0)},p(j,A){if(A&1&&n!==(n=j[0].id+"")&&Ne(r,n),j[0].type=="attackSelectorNode"||j[0].type=="countermeasureSelectorNode"?N?N.p(j,A):(N=Sg(j),N.c(),N.m(a,l)):N&&(N.d(1),N=null),j[0].type=="vulnerabilitySelectorNode"?T?T.p(j,A):(T=Ig(j),T.c(),T.m(a,u)):T&&(T.d(1),T=null),A&1&&p.value!==j[0].data.label&&gt(p,j[0].data.label),A&5){q=lt(j[0].data.user_properties);let L;for(L=0;L<q.length;L+=1){const k=Tg(j,q,L);F[L]?F[L].p(k,A):(F[L]=Pg(k),F[L].c(),F[L].m(a,D))}for(;L<F.length;L+=1)F[L].d(1);F.length=q.length}},d(j){j&&(w(e),w(s),w(a)),N&&N.d(),T&&T.d(),rr(F,j),O=!1,Ht(y)}}}function Sg(i){let e,t,n,r,s,a,l;return{c(){e=V("sequence: "),t=ae("br"),n=ae("input"),r=ve(),s=ae("br"),this.h()},l(u){e=H(u,"sequence: "),t=se(u,"BR",{}),n=se(u,"INPUT",{placeholder:!0,type:!0,name:!0}),r=ge(u),s=se(u,"BR",{}),this.h()},h(){ue(n,"placeholder","property"),ue(n,"type","text"),ue(n,"name","editableInput")},m(u,f){I(u,e,f),I(u,t,f),I(u,n,f),gt(n,i[0].data.sequence),I(u,r,f),I(u,s,f),a||(l=Ie(n,"input",i[5]),a=!0)},p(u,f){f&1&&n.value!==u[0].data.sequence&&gt(n,u[0].data.sequence)},d(u){u&&(w(e),w(t),w(n),w(r),w(s)),a=!1,l()}}}function Ig(i){let e,t,n,r,s,a,l,u;return{c(){e=V("weakness: "),t=ae("br"),n=ae("input"),r=ae("br"),s=ve(),a=ae("br"),this.h()},l(f){e=H(f,"weakness: "),t=se(f,"BR",{}),n=se(f,"INPUT",{placeholder:!0,type:!0,name:!0}),r=se(f,"BR",{}),s=ge(f),a=se(f,"BR",{}),this.h()},h(){ue(n,"placeholder","weakness"),ue(n,"type","text"),ue(n,"name","editableInput")},m(f,h){I(f,e,h),I(f,t,h),I(f,n,h),gt(n,i[0].data.weakness),I(f,r,h),I(f,s,h),I(f,a,h),l||(u=Ie(n,"input",i[6]),l=!0)},p(f,h){h&1&&n.value!==f[0].data.weakness&&gt(n,f[0].data.weakness)},d(f){f&&(w(e),w(t),w(n),w(r),w(s),w(a)),l=!1,u()}}}function Rg(i){let e,t,n,r,s,a,l,u,f="X",h,v,p,d,_;function g(){i[8].call(n,i[13])}function b(){i[9].call(a,i[13])}function D(){return i[10](i[13])}return{c(){e=ae("div"),t=ae("div"),n=ae("input"),r=ve(),s=ae("br"),a=ae("input"),l=ve(),u=ae("button"),u.textContent=f,h=ve(),v=ae("br"),p=ae("br"),this.h()},l(B){e=se(B,"DIV",{class:!0});var S=Be(e);t=se(S,"DIV",{});var O=Be(t);n=se(O,"INPUT",{placeholder:!0,type:!0,name:!0}),r=ge(O),s=se(O,"BR",{}),a=se(O,"INPUT",{placeholder:!0,type:!0,name:!0}),O.forEach(w),l=ge(S),u=se(S,"BUTTON",{"data-svelte-h":!0}),vt(u)!=="svelte-1nu8yn8"&&(u.textContent=f),S.forEach(w),h=ge(B),v=se(B,"BR",{}),p=se(B,"BR",{}),this.h()},h(){ue(n,"placeholder","property"),ue(n,"type","text"),ue(n,"name","editableInput"),ue(a,"placeholder","value"),ue(a,"type","text"),ue(a,"name","editableInput"),ue(e,"class","container svelte-no7kai")},m(B,S){I(B,e,S),$(e,t),$(t,n),gt(n,i[0].data.user_properties[i[13]][0]),$(t,r),$(t,s),$(t,a),gt(a,i[0].data.user_properties[i[13]][1]),$(e,l),$(e,u),I(B,h,S),I(B,v,S),I(B,p,S),d||(_=[Ie(n,"input",g),Ie(a,"input",b),Ie(u,"click",D)],d=!0)},p(B,S){i=B,S&1&&n.value!==i[0].data.user_properties[i[13]][0]&&gt(n,i[0].data.user_properties[i[13]][0]),S&1&&a.value!==i[0].data.user_properties[i[13]][1]&&gt(a,i[0].data.user_properties[i[13]][1])},d(B){B&&(w(e),w(h),w(v),w(p)),d=!1,Ht(_)}}}function Pg(i){let e,t=i[0].data.user_properties[i[13]].length==2&&Rg(i);return{c(){t&&t.c(),e=$e()},l(n){t&&t.l(n),e=$e()},m(n,r){t&&t.m(n,r),I(n,e,r)},p(n,r){n[0].data.user_properties[n[13]].length==2?t?t.p(n,r):(t=Rg(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&w(e),t&&t.d(n)}}}function aR(i){let e,t,n,r,s=i[0]&&i[0].data.user_properties&&Ng(i);const a=i[4].default,l=Dr(a,i,i[3],null);return{c(){e=ae("div"),t=ae("div"),s&&s.c(),n=ve(),l&&l.c(),this.h()},l(u){e=se(u,"DIV",{class:!0});var f=Be(e);t=se(f,"DIV",{class:!0});var h=Be(t);s&&s.l(h),n=ge(h),l&&l.l(h),h.forEach(w),f.forEach(w),this.h()},h(){ue(t,"class","side-panel svelte-no7kai"),ue(e,"class","side-panel-wrapper")},m(u,f){I(u,e,f),$(e,t),s&&s.m(t,null),$(t,n),l&&l.m(t,null),r=!0},p(u,[f]){u[0]&&u[0].data.user_properties?s?s.p(u,f):(s=Ng(u),s.c(),s.m(t,n)):s&&(s.d(1),s=null),l&&l.p&&(!r||f&8)&&Ar(l,a,u,u[3],r?Cr(a,u[3],f,null):kr(u[3]),null)},i(u){r||(he(l,u),r=!0)},o(u){me(l,u),r=!1},d(u){u&&w(e),s&&s.d(),l&&l.d(u)}}}function sR(i,e,t){let n;yt(i,Pt,_=>t(0,n=_));let{$$slots:r={},$$scope:s}=e;function a(){n.data.user_properties||Vt(Pt,n.data.user_properties=[],n),n.data.user_properties.push(["",""]),Pt.set(n)}function l(_){n.data.user_properties.splice(_.index,1),Pt.set(n)}function u(){n.data.sequence=this.value,Pt.set(n)}function f(){n.data.weakness=this.value,Pt.set(n)}function h(){n.data.label=this.value,Pt.set(n)}function v(_){n.data.user_properties[_][0]=this.value,Pt.set(n)}function p(_){n.data.user_properties[_][1]=this.value,Pt.set(n)}const d=_=>l({index:_});return i.$$set=_=>{"$$scope"in _&&t(3,s=_.$$scope)},[n,a,l,s,r,u,f,h,v,p,d]}class lR extends Gt{constructor(e){super(),Xt(this,e,sR,aR,Et,{})}}function Fg(i,e,t){const n=i.slice();return n[9]=e[t],n}function Og(i){let e,t=i[9]["rdfs:label"]+"",n,r,s,a,l;function u(...h){return i[7](i[9],...h)}function f(...h){return i[8](i[9],...h)}return{c(){e=ae("div"),n=V(t),r=ve(),this.h()},l(h){e=se(h,"DIV",{class:!0,title:!0,tabindex:!0,role:!0});var v=Be(e);n=H(v,t),r=ge(v),v.forEach(w),this.h()},h(){ue(e,"class","select-technique"),ue(e,"title",s=i[9]["d3f:definition"]),ue(e,"tabindex","0"),ue(e,"role","button")},m(h,v){I(h,e,v),$(e,n),$(e,r),a||(l=[Ie(e,"click",Mr(Es(u))),Ie(e,"keydown",Mr(f))],a=!0)},p(h,v){i=h,v&8&&t!==(t=i[9]["rdfs:label"]+"")&&Ne(n,t),v&8&&s!==(s=i[9]["d3f:definition"])&&ue(e,"title",s)},d(h){h&&w(e),a=!1,Ht(l)}}}function oR(i){let e,t=lt(i[3]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Og(Fg(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=$e()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,[s]){if(s&12){t=lt(r[3]);let a;for(a=0;a<t.length;a+=1){const l=Fg(r,t,a);n[a]?n[a].p(l,s):(n[a]=Og(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},i:at,o:at,d(r){r&&w(e),rr(n,r)}}}function uR(i,e,t){let n,r=at,s=()=>(r(),r=bi(h,b=>t(5,n=b)),h),a,l=at,u=()=>(l(),l=bi(f,b=>t(6,a=b)),f);i.$$.on_destroy.push(()=>r()),i.$$.on_destroy.push(()=>l());let{list:f}=e;u();let{filter_value_store:h}=e;s();let{select_item:v}=e,{regex_search_keys:p=["rdfs:label","@id"]}=e,d=[];const _=(b,D)=>v(D,b),g=(b,D)=>Ds(D,v,b);return i.$$set=b=>{"list"in b&&u(t(0,f=b.list)),"filter_value_store"in b&&s(t(1,h=b.filter_value_store)),"select_item"in b&&t(2,v=b.select_item),"regex_search_keys"in b&&t(4,p=b.regex_search_keys)},i.$$.update=()=>{i.$$.dirty&112&&t(3,d=JA(a,n,p))},[f,h,v,d,p,n,a,_,g]}class fR extends Gt{constructor(e){super(),Xt(this,e,uR,oR,Et,{list:0,filter_value_store:1,select_item:2,regex_search_keys:4})}}function Lg(i,e,t){const n=i.slice();return n[12]=e[t],n}function Bg(i,e,t){const n=i.slice();return n[15]=e[t],n}function Ug(i){let e,t=lt(i[12].children),n=[];for(let r=0;r<t.length;r+=1)n[r]=Mg(Bg(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=$e()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s&20){t=lt(r[12].children);let a;for(a=0;a<t.length;a+=1){const l=Bg(r,t,a);n[a]?n[a].p(l,s):(n[a]=Mg(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),rr(n,r)}}}function Mg(i){let e,t=i[15]["rdfs:label"]+"",n,r,s,a,l;function u(...h){return i[10](i[15],...h)}function f(...h){return i[11](i[15],...h)}return{c(){e=ae("div"),n=V(t),r=ve(),this.h()},l(h){e=se(h,"DIV",{class:!0,title:!0,tabindex:!0,role:!0});var v=Be(e);n=H(v,t),r=ge(v),v.forEach(w),this.h()},h(){ue(e,"class","select-technique"),ue(e,"title",s=i[15]["d3f:definition"]),ue(e,"tabindex","0"),ue(e,"role","button")},m(h,v){I(h,e,v),$(e,n),$(e,r),a||(l=[Ie(e,"click",Mr(Es(u))),Ie(e,"keydown",Mr(f))],a=!0)},p(h,v){i=h,v&16&&t!==(t=i[15]["rdfs:label"]+"")&&Ne(n,t),v&16&&s!==(s=i[15]["d3f:definition"])&&ue(e,"title",s)},d(h){h&&w(e),a=!1,Ht(l)}}}function qg(i){let e,t,n=i[12]["rdfs:label"]+"",r,s,a,l,u,f,h,v=(i[3]===i[12]["@id"]||i[5])&&Ug(i);return{c(){e=ae("details"),t=ae("summary"),r=V(n),a=ve(),v&&v.c(),l=ve(),this.h()},l(p){e=se(p,"DETAILS",{});var d=Be(e);t=se(d,"SUMMARY",{id:!0});var _=Be(t);r=H(_,n),_.forEach(w),a=ge(d),v&&v.l(d),l=ge(d),d.forEach(w),this.h()},h(){ue(t,"id",s=i[12]["@id"]),e.open=u=i[3]===i[12]["@id"]||i[5]},m(p,d){I(p,e,d),$(e,t),$(t,r),$(e,a),v&&v.m(e,null),$(e,l),f||(h=Ie(t,"click",Mr(Es(i[6]))),f=!0)},p(p,d){d&16&&n!==(n=p[12]["rdfs:label"]+"")&&Ne(r,n),d&16&&s!==(s=p[12]["@id"])&&ue(t,"id",s),p[3]===p[12]["@id"]||p[5]?v?v.p(p,d):(v=Ug(p),v.c(),v.m(e,l)):v&&(v.d(1),v=null),d&56&&u!==(u=p[3]===p[12]["@id"]||p[5])&&(e.open=u)},d(p){p&&w(e),v&&v.d(),f=!1,h()}}}function cR(i){let e,t=lt(i[4]),n=[];for(let r=0;r<t.length;r+=1)n[r]=qg(Lg(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=$e()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,[s]){if(s&124){t=lt(r[4]);let a;for(a=0;a<t.length;a+=1){const l=Lg(r,t,a);n[a]?n[a].p(l,s):(n[a]=qg(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},i:at,o:at,d(r){r&&w(e),rr(n,r)}}}function hR(i,e,t){let n,r,s=at,a=()=>(s(),s=bi(v,S=>t(8,r=S)),v),l,u=at,f=()=>(u(),u=bi(h,S=>t(9,l=S)),h);i.$$.on_destroy.push(()=>s()),i.$$.on_destroy.push(()=>u());let{list:h}=e;f();let{filter_value_store:v}=e;a();let{select_item:p}=e,{regex_search_keys:d=["d3f:definition","rdfs:label","@id","d3f:d3fend-id"]}=e,_=null,g=[];function b(S){const{id:O}=S.target;_===O?t(3,_=null):t(3,_=O)}const D=(S,O)=>p(O,S),B=(S,O)=>Ds(O,p,S);return i.$$set=S=>{"list"in S&&f(t(0,h=S.list)),"filter_value_store"in S&&a(t(1,v=S.filter_value_store)),"select_item"in S&&t(2,p=S.select_item),"regex_search_keys"in S&&t(7,d=S.regex_search_keys)},i.$$.update=()=>{i.$$.dirty&896&&t(4,g=ZA(l,r,d)),i.$$.dirty&256&&t(5,n=!!r)},[h,v,p,_,g,n,b,d,r,l,D,B]}class dR extends Gt{constructor(e){super(),Xt(this,e,hR,cR,Et,{list:0,filter_value_store:1,select_item:2,regex_search_keys:7})}}function jg(i,e,t){const n=i.slice();return n[17]=e[t],n}function pR(i){let e,t,n,r;return{c(){e=ae("div"),t=V(i[7]),this.h()},l(s){e=se(s,"DIV",{id:!0,class:!0,role:!0,tabindex:!0});var a=Be(e);t=H(a,i[7]),a.forEach(w),this.h()},h(){var s;ue(e,"id","selectable-technique"),ue(e,"class","no-arrow svelte-1t0ebq3"),ue(e,"role","tree"),ue(e,"tabindex","0"),qn(e,"current-selected",((s=i[9])==null?void 0:s["@id"])===i[0]["@id"])},m(s,a){I(s,e,a),$(e,t),n||(r=[Ie(e,"click",Mr(Es(i[14]))),Ie(e,"keydown",Mr(Es(i[15])))],n=!0)},p(s,a){var l;a&128&&Ne(t,s[7]),a&513&&qn(e,"current-selected",((l=s[9])==null?void 0:l["@id"])===s[0]["@id"])},i:at,o:at,d(s){s&&w(e),n=!1,Ht(r)}}}function _R(i){let e,t,n="",r,s,a,l,u,f,h,v,p=i[5]&&xg(i);return{c(){e=ae("span"),t=ae("span"),t.textContent=n,r=ve(),s=ae("span"),a=V(i[7]),l=ve(),p&&p.c(),u=$e(),this.h()},l(d){e=se(d,"SPAN",{class:!0,role:!0,tabindex:!0});var _=Be(e);t=se(_,"SPAN",{class:!0,"data-svelte-h":!0}),vt(t)!=="svelte-1xn7s3"&&(t.textContent=n),r=ge(_),s=se(_,"SPAN",{id:!0,class:!0});var g=Be(s);a=H(g,i[7]),g.forEach(w),_.forEach(w),l=ge(d),p&&p.l(d),u=$e(),this.h()},h(){var d;ue(t,"class","arrow svelte-1t0ebq3"),qn(t,"arrowDown",i[6]),ue(s,"id","parent-selectable-technique"),ue(s,"class","label svelte-1t0ebq3"),ue(e,"class","parent-technique svelte-1t0ebq3"),ue(e,"role","tree"),ue(e,"tabindex","0"),qn(e,"current-selected",((d=i[9])==null?void 0:d["@id"])===i[0]["@id"])},m(d,_){I(d,e,_),$(e,t),$(e,r),$(e,s),$(s,a),I(d,l,_),p&&p.m(d,_),I(d,u,_),f=!0,h||(v=[Ie(e,"click",Mr(Es(i[12]))),Ie(e,"keydown",Mr(Es(i[13])))],h=!0)},p(d,_){var g;(!f||_&64)&&qn(t,"arrowDown",d[6]),(!f||_&128)&&Ne(a,d[7]),(!f||_&513)&&qn(e,"current-selected",((g=d[9])==null?void 0:g["@id"])===d[0]["@id"]),d[5]?p?(p.p(d,_),_&32&&he(p,1)):(p=xg(d),p.c(),he(p,1),p.m(u.parentNode,u)):p&&(It(),me(p,1,1,()=>{p=null}),Rt())},i(d){f||(he(p),f=!0)},o(d){me(p),f=!1},d(d){d&&(w(e),w(l),w(u)),p&&p.d(d),h=!1,Ht(v)}}}function xg(i){let e,t,n=lt(i[8]),r=[];for(let a=0;a<n.length;a+=1)r[a]=zg(jg(i,n,a));const s=a=>me(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=$e()},l(a){for(let l=0;l<r.length;l+=1)r[l].l(a);e=$e()},m(a,l){for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(a,l);I(a,e,l),t=!0},p(a,l){if(l&278){n=lt(a[8]);let u;for(u=0;u<n.length;u+=1){const f=jg(a,n,u);r[u]?(r[u].p(f,l),he(r[u],1)):(r[u]=zg(f),r[u].c(),he(r[u],1),r[u].m(e.parentNode,e))}for(It(),u=n.length;u<r.length;u+=1)s(u);Rt()}},i(a){if(!t){for(let l=0;l<n.length;l+=1)he(r[l]);t=!0}},o(a){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)me(r[l]);t=!1},d(a){a&&w(e),rr(r,a)}}}function zg(i){let e,t;return e=new Id({props:{tree:i[17],expanded_nodes:i[1],selected_node:i[2],first_node:!1,label_func:i[4]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.tree=n[17]),r&2&&(s.expanded_nodes=n[1]),r&4&&(s.selected_node=n[2]),r&16&&(s.label_func=n[4]),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function vR(i){let e,t,n,r,s;const a=[_R,pR],l=[];function u(f,h){return f[8]?0:1}return n=u(i),r=l[n]=a[n](i),{c(){e=ae("ul"),t=ae("li"),r.c(),this.h()},l(f){e=se(f,"UL",{style:!0,class:!0});var h=Be(e);t=se(h,"LI",{});var v=Be(t);r.l(v),v.forEach(w),h.forEach(w),this.h()},h(){$t(e,"--first-node",i[3]?"0rem":"0.6rem"),ue(e,"class","svelte-1t0ebq3")},m(f,h){I(f,e,h),$(e,t),l[n].m(t,null),s=!0},p(f,[h]){let v=n;n=u(f),n===v?l[n].p(f,h):(It(),me(l[v],1,1,()=>{l[v]=null}),Rt(),r=l[n],r?r.p(f,h):(r=l[n]=a[n](f),r.c()),he(r,1),r.m(t,null)),(!s||h&8)&&$t(e,"--first-node",f[3]?"0rem":"0.6rem")},i(f){s||(he(r),s=!0)},o(f){me(r),s=!1},d(f){f&&w(e),l[n].d()}}}function gR(i,e,t){let n,r,s,a,l=at,u=()=>(l(),l=bi(_,q=>t(9,a=q)),_),f,h=at,v=()=>(h(),h=bi(d,q=>t(16,f=q)),d);i.$$.on_destroy.push(()=>l()),i.$$.on_destroy.push(()=>h());let{tree:p}=e,{expanded_nodes:d}=e;v();let{selected_node:_}=e;u();let{first_node:g=!0}=e,{label_func:b}=e,D=f[n]||!1;function B(q,F){t(5,D=!D),Vt(_,a=F,a)}function S(q,F){Vt(_,a=F,a)}const O=q=>B(q,p),y=q=>Ds(q,B,p),N=q=>S(q,p),T=q=>Ds(q,S,p);return i.$$set=q=>{"tree"in q&&t(0,p=q.tree),"expanded_nodes"in q&&v(t(1,d=q.expanded_nodes)),"selected_node"in q&&u(t(2,_=q.selected_node)),"first_node"in q&&t(3,g=q.first_node),"label_func"in q&&t(4,b=q.label_func)},i.$$.update=()=>{i.$$.dirty&17&&t(7,n=b(p)),i.$$.dirty&1&&t(8,r=p.children),i.$$.dirty&32&&t(6,s=D)},[p,d,_,g,b,D,s,n,r,a,B,S,O,y,N,T]}class Id extends Gt{constructor(e){super(),Xt(this,e,gR,vR,Et,{tree:0,expanded_nodes:1,selected_node:2,first_node:3,label_func:4})}}function Vg(i,e,t){const n=i.slice();return n[10]=e[t],n}function Hg(i){let e,t;return e=new Id({props:{tree:i[10],expanded_nodes:i[4],selected_node:i[5],select_item:i[2],label_func:bR}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r&8&&(s.tree=n[10]),r&4&&(s.select_item=n[2]),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function mR(i){let e,t,n=lt(i[3]),r=[];for(let a=0;a<n.length;a+=1)r[a]=Hg(Vg(i,n,a));const s=a=>me(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=$e()},l(a){for(let l=0;l<r.length;l+=1)r[l].l(a);e=$e()},m(a,l){for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(a,l);I(a,e,l),t=!0},p(a,[l]){if(l&60){n=lt(a[3]);let u;for(u=0;u<n.length;u+=1){const f=Vg(a,n,u);r[u]?(r[u].p(f,l),he(r[u],1)):(r[u]=Hg(f),r[u].c(),he(r[u],1),r[u].m(e.parentNode,e))}for(It(),u=n.length;u<r.length;u+=1)s(u);Rt()}},i(a){if(!t){for(let l=0;l<n.length;l+=1)he(r[l]);t=!0}},o(a){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)me(r[l]);t=!1},d(a){a&&w(e),rr(r,a)}}}function bR(i){var e;return((e=i==null?void 0:i["rdfs:label"])==null?void 0:e[0])??i["@id"]}function wR(i,e,t){let n,r,s=at,a=()=>(s(),s=bi(v,D=>t(7,r=D)),v),l,u=at,f=()=>(u(),u=bi(h,D=>t(8,l=D)),h);i.$$.on_destroy.push(()=>s()),i.$$.on_destroy.push(()=>u());let{list:h}=e;f();let{filter_value_store:v}=e;a();let{select_item:p}=e,{regex_search_keys:d=["rdfs:label","@id"]}=e,_=[];const g=nn({}),b=nn(null);return yt(i,b,D=>t(9,n=D)),kf(()=>{n&&p(null,n,"d3f_property")}),i.$$set=D=>{"list"in D&&f(t(0,h=D.list)),"filter_value_store"in D&&a(t(1,v=D.filter_value_store)),"select_item"in D&&t(2,p=D.select_item),"regex_search_keys"in D&&t(6,d=D.regex_search_keys)},i.$$.update=()=>{i.$$.dirty&448&&t(3,_=o1(l.associated,r,d))},[h,v,p,_,g,b,d,r,l]}class yR extends Gt{constructor(e){super(),Xt(this,e,wR,mR,Et,{list:0,filter_value_store:1,select_item:2,regex_search_keys:6})}}function $g(i,e,t){const n=i.slice();return n[10]=e[t],n}function Gg(i){let e,t;return e=new Id({props:{tree:i[10],expanded_nodes:i[4],selected_node:i[5],select_item:i[2],label_func:DR}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r&8&&(s.tree=n[10]),r&4&&(s.select_item=n[2]),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function ER(i){let e,t,n=lt(i[3]),r=[];for(let a=0;a<n.length;a+=1)r[a]=Gg($g(i,n,a));const s=a=>me(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=$e()},l(a){for(let l=0;l<r.length;l+=1)r[l].l(a);e=$e()},m(a,l){for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(a,l);I(a,e,l),t=!0},p(a,[l]){if(l&60){n=lt(a[3]);let u;for(u=0;u<n.length;u+=1){const f=$g(a,n,u);r[u]?(r[u].p(f,l),he(r[u],1)):(r[u]=Gg(f),r[u].c(),he(r[u],1),r[u].m(e.parentNode,e))}for(It(),u=n.length;u<r.length;u+=1)s(u);Rt()}},i(a){if(!t){for(let l=0;l<n.length;l+=1)he(r[l]);t=!0}},o(a){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)me(r[l]);t=!1},d(a){a&&w(e),rr(r,a)}}}function DR(i){return(i==null?void 0:i["rdfs:label"])??i["@id"]}function AR(i,e,t){let n,r,s=at,a=()=>(s(),s=bi(v,D=>t(7,r=D)),v),l,u=at,f=()=>(u(),u=bi(h,D=>t(8,l=D)),h);i.$$.on_destroy.push(()=>s()),i.$$.on_destroy.push(()=>u());let{list:h}=e;f();let{filter_value_store:v}=e;a();let{select_item:p}=e,{regex_search_keys:d=["rdfs:label","@id"]}=e,_=[];const g=nn({}),b=nn(null);return yt(i,b,D=>t(9,n=D)),kf(()=>{n&&p(null,n)}),i.$$set=D=>{"list"in D&&f(t(0,h=D.list)),"filter_value_store"in D&&a(t(1,v=D.filter_value_store)),"select_item"in D&&t(2,p=D.select_item),"regex_search_keys"in D&&t(6,d=D.regex_search_keys)},i.$$.update=()=>{i.$$.dirty&448&&t(3,_=o1(l,r,d))},[h,v,p,_,g,b,d,r,l]}class kR extends Gt{constructor(e){super(),Xt(this,e,AR,ER,Et,{list:0,filter_value_store:1,select_item:2,regex_search_keys:6})}}const CR=i=>({}),Xg=i=>({R:i[6],filter_value_store:i[4],select_item:i[9]});function Wg(i){let e,t,n,r,s,a,l;const u=i[18].default,f=Dr(u,i,i[17],Xg);return{c(){e=ae("ul"),t=ae("input"),n=ve(),f&&f.c(),this.h()},l(h){e=se(h,"UL",{id:!0,class:!0});var v=Be(e);t=se(v,"INPUT",{type:!0,id:!0,name:!0,placeholder:!0,class:!0}),n=ge(v),f&&f.l(v),v.forEach(w),this.h()},h(){ue(t,"type","text"),ue(t,"id","filter"),ue(t,"name","filter"),ue(t,"placeholder","Filter / Save"),ue(t,"class","svelte-155p9qt"),ue(e,"id","d3fend-container"),ue(e,"class","dropdown-menu svelte-155p9qt")},m(h,v){I(h,e,v),$(e,t),$(e,n),f&&f.m(e,null),s=!0,a||(l=[p_(GA.call(null,t)),Ie(t,"click",Mr(i[19])),Ie(t,"keyup",Mr(i[20])),Ie(t,"keydown",Mr(i[21])),p_(XA.call(null,e)),Ie(e,"outsideclick",i[7])],a=!0)},p(h,v){f&&f.p&&(!s||v&131072)&&Ar(f,u,h,h[17],s?Cr(u,h[17],v,CR):kr(h[17]),Xg)},i(h){s||(he(f,h),h&&Jh(()=>{s&&(r||(r=m_(e,N_,{delay:50,duration:200,axis:"y"},!0)),r.run(1))}),s=!0)},o(h){me(f,h),h&&(r||(r=m_(e,N_,{delay:50,duration:200,axis:"y"},!1)),r.run(0)),s=!1},d(h){h&&w(e),f&&f.d(h),h&&r&&r.end(),a=!1,Ht(l)}}}function TR(i){let e,t,n,r,s,a,l,u,f,h,v=i[2]&&Wg(i);return{c(){e=ae("div"),t=ae("div"),n=ae("div"),r=ae("span"),s=V(i[1]),a=ve(),v&&v.c(),this.h()},l(p){e=se(p,"DIV",{class:!0,style:!0});var d=Be(e);t=se(d,"DIV",{class:!0,role:!0,tabindex:!0});var _=Be(t);n=se(_,"DIV",{class:!0});var g=Be(n);r=se(g,"SPAN",{class:!0});var b=Be(r);s=H(b,i[1]),b.forEach(w),g.forEach(w),a=ge(_),v&&v.l(_),_.forEach(w),d.forEach(w),this.h()},h(){ue(r,"class","selected svelte-155p9qt"),ue(n,"class","select autocomplete-dropdown svelte-155p9qt"),ue(t,"class",l="dropdown "+(i[2]?"active":"")+" svelte-155p9qt"),ue(t,"role","button"),ue(t,"tabindex","0"),ue(e,"class","container svelte-155p9qt"),$t(e,"--input-color",i[0])},m(p,d){I(p,e,d),$(e,t),$(t,n),$(n,r),$(r,s),$(t,a),v&&v.m(t,null),u=!0,f||(h=[Ie(t,"click",i[8]),Ie(t,"keydown",i[22])],f=!0)},p(p,[d]){(!u||d&2)&&Ne(s,p[1]),p[2]?v?(v.p(p,d),d&4&&he(v,1)):(v=Wg(p),v.c(),he(v,1),v.m(t,null)):v&&(It(),me(v,1,1,()=>{v=null}),Rt()),(!u||d&4&&l!==(l="dropdown "+(p[2]?"active":"")+" svelte-155p9qt"))&&ue(t,"class",l),(!u||d&1)&&$t(e,"--input-color",p[0])},i(p){u||(he(v),u=!0)},o(p){me(v),u=!1},d(p){p&&w(e),v&&v.d(),f=!1,Ht(h)}}}function NR(i,e,t){let n,r,s,a,{$$slots:l={},$$scope:u}=e,{node_id:f}=e,{element_id:h}=e,{input_color:v="white"}=e,{place_holder:p="< d3fend class >"}=e,{flow_store_hook:d=Ii}=e,{data_save_key:_="d3f_class"}=e;const g=nn(!1);yt(i,g,k=>t(2,a=k));const b=nn(null);yt(i,b,k=>t(24,r=k));const D=d();yt(i,D,k=>t(25,s=k));const B={ItemTactic:dR,ItemList:fR,ItemProperty:yR,ItemInformation:kR};let S;kf(()=>{Vt(b,r="",r)});function O(){Vt(g,a=!1,a),Vt(b,r="",r)}function y(k){a?O():Vt(g,a=!0,a)}function N(k,R,K="d3f_class"){let z=R["rdfs:label"];Array.isArray(R["rdfs:label"])&&(z=R["rdfs:label"][0]),s.forEach(fe=>{fe.id===f&&(fe.data=Object.assign(Object.assign({},fe.data),{[K]:R["@id"],label:z}))}),D.set(s),O()}function T(k){clearTimeout(S),S=setTimeout(()=>{Vt(b,r=k.target.value,r)},400)}function q(k){const R=k.target.value;N(k,{"rdfs:label":R,"@id":R},_)}function F(k){Zn.call(this,i,k)}const j=k=>T(k),A=k=>Ds(k,q),L=k=>Ds(k,y);return i.$$set=k=>{"node_id"in k&&t(12,f=k.node_id),"element_id"in k&&t(13,h=k.element_id),"input_color"in k&&t(0,v=k.input_color),"place_holder"in k&&t(14,p=k.place_holder),"flow_store_hook"in k&&t(15,d=k.flow_store_hook),"data_save_key"in k&&t(16,_=k.data_save_key),"$$scope"in k&&t(17,u=k.$$scope)},i.$$.update=()=>{i.$$.dirty&24576&&t(1,n=h||p)},[v,n,a,g,b,D,B,O,y,N,T,q,f,h,p,d,_,u,l,F,j,A,L]}class Ps extends Gt{constructor(e){super(),Xt(this,e,NR,TR,Et,{node_id:12,element_id:13,input_color:0,place_holder:14,flow_store_hook:15,data_save_key:16})}}function Qg(i,e,t){const n=i.slice();return n[33]=e[t],n[34]=e,n[35]=t,n}function Yg(i){let e,t;return e=new Zt({props:{type:"target",class:"customHandle",position:xt.Left,id:"target",style:i[17](),isConnectableStart:!1,isConnectable:i[2]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[0]&4&&(s.isConnectable=n[2]),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function Kg(i){let e=i[7],t,n,r=Jg(i);return{c(){r.c(),t=$e()},l(s){r.l(s),t=$e()},m(s,a){r.m(s,a),I(s,t,a),n=!0},p(s,a){a[0]&128&&Et(e,e=s[7])?(It(),me(r,1,1,at),Rt(),r=Jg(s),r.c(),he(r,1),r.m(t.parentNode,t)):r.p(s,a)},i(s){n||(he(r),n=!0)},o(s){me(r),n=!1},d(s){s&&w(t),r.d(s)}}}function Jg(i){let e,t,n,r,s,a,l,u;return e=new Zt({props:{type:"source",position:xt.Top,id:"source",style:i[18](),isConnectable:i[2]}}),n=new Zt({props:{type:"source",position:xt.Left,id:"source",style:i[18](),isConnectable:i[2]}}),s=new Zt({props:{type:"source",position:xt.Right,id:"source",style:i[18](),isConnectable:i[2]}}),l=new Zt({props:{type:"source",position:xt.Bottom,id:"source",style:i[18](),isConnectable:i[2]}}),{c(){Xe(e.$$.fragment),t=ve(),Xe(n.$$.fragment),r=ve(),Xe(s.$$.fragment),a=ve(),Xe(l.$$.fragment)},l(f){We(e.$$.fragment,f),t=ge(f),We(n.$$.fragment,f),r=ge(f),We(s.$$.fragment,f),a=ge(f),We(l.$$.fragment,f)},m(f,h){Qe(e,f,h),I(f,t,h),Qe(n,f,h),I(f,r,h),Qe(s,f,h),I(f,a,h),Qe(l,f,h),u=!0},p(f,h){const v={};h[0]&4&&(v.isConnectable=f[2]),e.$set(v);const p={};h[0]&4&&(p.isConnectable=f[2]),n.$set(p);const d={};h[0]&4&&(d.isConnectable=f[2]),s.$set(d);const _={};h[0]&4&&(_.isConnectable=f[2]),l.$set(_)},i(f){u||(he(e.$$.fragment,f),he(n.$$.fragment,f),he(s.$$.fragment,f),he(l.$$.fragment,f),u=!0)},o(f){me(e.$$.fragment,f),me(n.$$.fragment,f),me(s.$$.fragment,f),me(l.$$.fragment,f),u=!1},d(f){f&&(w(t),w(r),w(a)),Ye(e,f),Ye(n,f),Ye(s,f),Ye(l,f)}}}function SR(i){let e,t;return e=new i[36].ItemList({props:{list:h1,filter_value_store:i[37],select_item:i[38]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[1]&64&&(s.filter_value_store=n[37]),r[1]&128&&(s.select_item=n[38]),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function Zg(i){let e,t=lt(i[0].user_properties),n=[];for(let r=0;r<t.length;r+=1)n[r]=em(Qg(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=$e()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&801){t=lt(r[0].user_properties);let a;for(a=0;a<t.length;a+=1){const l=Qg(r,t,a);n[a]?n[a].p(l,s):(n[a]=em(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),rr(n,r)}}}function em(i){let e,t,n,r,s,a,l,u,f;function h(..._){return i[28](i[35],..._)}function v(){i[29].call(n,i[35])}function p(..._){return i[30](i[35],..._)}function d(){i[31].call(a,i[35])}return{c(){e=ae("div"),t=ae("div"),n=ae("input"),r=ve(),s=ae("div"),a=ae("input"),l=ve(),this.h()},l(_){e=se(_,"DIV",{class:!0});var g=Be(e);t=se(g,"DIV",{class:!0});var b=Be(t);n=se(b,"INPUT",{placeholder:!0}),b.forEach(w),r=ge(g),s=se(g,"DIV",{class:!0});var D=Be(s);a=se(D,"INPUT",{placeholder:!0}),D.forEach(w),l=ge(g),g.forEach(w),this.h()},h(){ue(n,"placeholder","property"),ue(t,"class","user-property flex-column"),ue(a,"placeholder","value"),ue(s,"class","user-value flex-column flex-grow-3"),ue(e,"class","user-properties flex")},m(_,g){I(_,e,g),$(e,t),$(t,n),gt(n,i[9][i[35]][0]),$(e,r),$(e,s),$(s,a),gt(a,i[8][i[35]][1]),$(e,l),u||(f=[Ie(n,"input",h),Ie(n,"input",v),Ie(a,"input",p),Ie(a,"input",d)],u=!0)},p(_,g){i=_,g[0]&512&&n.value!==i[9][i[35]][0]&&gt(n,i[9][i[35]][0]),g[0]&256&&a.value!==i[8][i[35]][1]&&gt(a,i[8][i[35]][1])},d(_){_&&w(e),u=!1,Ht(f)}}}function IR(i){let e=i[4].inProgress,t,n,r,s,a,l,u,f,h,v,p,d,_,g,b,D,B,S,O,y,N,T="+",q,F,j,A=Yg(i),L=!i[6]&&Kg(i);a=new Ga({props:{isVisible:i[3]}}),_=new Ps({props:{node_id:i[1],element_id:i[0].d3f_class,input_color:"#ffc3c7",$$slots:{default:[SR,({R,filter_value_store:K,select_item:z})=>({36:R,37:K,38:z}),({R,filter_value_store:K,select_item:z})=>[0,(R?32:0)|(K?64:0)|(z?128:0)]]},$$scope:{ctx:i}}});let k=i[0].user_properties&&Zg(i);return{c(){A.c(),t=ve(),n=ae("div"),L&&L.c(),r=ve(),s=ae("div"),Xe(a.$$.fragment),l=ve(),u=ae("i"),f=V(`Attack Action
        `),h=ae("input"),v=ve(),p=ae("br"),d=ve(),Xe(_.$$.fragment),g=ve(),b=ae("div"),D=ae("input"),B=ve(),S=ae("br"),O=ve(),k&&k.c(),y=ve(),N=ae("button"),N.textContent=T,this.h()},l(R){A.l(R),t=ge(R),n=se(R,"DIV",{class:!0});var K=Be(n);L&&L.l(K),r=ge(K),s=se(K,"DIV",{class:!0});var z=Be(s);We(a.$$.fragment,z),l=ge(z),u=se(z,"I",{});var fe=Be(u);f=H(fe,`Attack Action
        `),h=se(fe,"INPUT",{class:!0,type:!0,style:!0}),fe.forEach(w),v=ge(z),p=se(z,"BR",{}),d=ge(z),We(_.$$.fragment,z),g=ge(z),b=se(z,"DIV",{});var re=Be(b);D=se(re,"INPUT",{class:!0,type:!0,style:!0}),re.forEach(w),B=ge(z),S=se(z,"BR",{}),O=ge(z),k&&k.l(z),y=ge(z),N=se(z,"BUTTON",{"data-svelte-h":!0}),vt(N)!=="svelte-y9choq"&&(N.textContent=T),z.forEach(w),K.forEach(w),this.h()},h(){ue(h,"class","nodrag sequence"),ue(h,"type","text"),$t(h,"background","#ffc3c7"),ue(D,"class","nodrag"),ue(D,"type","text"),$t(D,"text-align","center"),$t(D,"background","#ffc3c7"),$t(D,"font-weight","bold"),ue(s,"class","attack-node node-inner svelte-pkj1to"),ue(n,"class","attack-node node svelte-pkj1to")},m(R,K){A.m(R,K),I(R,t,K),I(R,n,K),L&&L.m(n,null),$(n,r),$(n,s),Qe(a,s,null),$(s,l),$(s,u),$(u,f),$(u,h),gt(h,i[10]),$(s,v),$(s,p),$(s,d),Qe(_,s,null),$(s,g),$(s,b),$(b,D),gt(D,i[11]),$(s,B),$(s,S),$(s,O),k&&k.m(s,null),$(s,y),$(s,N),q=!0,F||(j=[Ie(h,"input",i[24]),Ie(h,"input",i[25]),Ie(D,"input",i[26]),Ie(D,"input",i[27]),Ie(N,"click",i[12]),Ie(n,"click",i[13]),Ie(n,"mouseenter",i[15]),Ie(n,"mouseleave",i[16])],F=!0)},p(R,K){K[0]&16&&Et(e,e=R[4].inProgress)?(It(),me(A,1,1,at),Rt(),A=Yg(R),A.c(),he(A,1),A.m(t.parentNode,t)):A.p(R,K),R[6]?L&&(It(),me(L,1,1,()=>{L=null}),Rt()):L?(L.p(R,K),K[0]&64&&he(L,1)):(L=Kg(R),L.c(),he(L,1),L.m(n,r));const z={};K[0]&8&&(z.isVisible=R[3]),a.$set(z),K[0]&1024&&h.value!==R[10]&&gt(h,R[10]);const fe={};K[0]&2&&(fe.node_id=R[1]),K[0]&1&&(fe.element_id=R[0].d3f_class),K[1]&448&&(fe.$$scope={dirty:K,ctx:R}),_.$set(fe),K[0]&2048&&D.value!==R[11]&&gt(D,R[11]),R[0].user_properties?k?k.p(R,K):(k=Zg(R),k.c(),k.m(s,y)):k&&(k.d(1),k=null)},i(R){q||(he(A),he(L),he(a.$$.fragment,R),he(_.$$.fragment,R),q=!0)},o(R){me(A),me(L),me(a.$$.fragment,R),me(_.$$.fragment,R),q=!1},d(R){R&&(w(t),w(n)),A.d(R),L&&L.d(),Ye(a),Ye(_),k&&k.d(),F=!1,Ht(j)}}}function RR(i,e,t){let n,r,s,a,l,u,f;yt(i,jn,G=>t(32,u=G)),yt(i,Pt,G=>t(5,f=G));var h,v,p,d,_;let{id:g}=e,{data:b}=e,{isConnectable:D}=e,{selected:B=void 0}=e;function S(){O(),b.user_properties.push(["",""])}function O(){for(let G=0;G<u.length;G++)u[G].data==b&&Vt(Pt,f=u[G],f)}const y=ma();yt(i,y,G=>t(4,l=G));let N=!1,T=!1;function q(){t(7,T=!0)}function F(){t(7,T=!1)}function j(){return l.inProgress?"z-index: 999;":"z-index: -2; pointer-events: none;"}function A(){return T?"z-index: 2;":"visibility:hidden; pointer-events: none;"}const L=G=>{t(0,b.sequence=G.currentTarget.value,b),Vt(Pt,f.data.sequence=b.sequence,f)};function k(){r=this.value,t(10,r),t(0,b),t(5,f),t(1,g),t(20,v)}const R=G=>{t(0,b.label=G.currentTarget.value,b),Vt(Pt,f.data.label=b.label,f)};function K(){n=this.value,t(11,n),t(0,b),t(5,f),t(1,g),t(19,h)}const z=(G,Q)=>{t(0,b.user_properties[G][0]=Q.currentTarget.value,b),Vt(Pt,f.data.user_properties[G][0]=Q.currentTarget.value,f)};function fe(G){s[G][0]=this.value,t(9,s),t(0,b),t(5,f),t(1,g),t(21,p)}const re=(G,Q)=>{t(0,b.user_properties[G][1]=Q.currentTarget.value,b),Vt(Pt,f.data.user_properties[G][1]=Q.currentTarget.value,f)};function te(G){a[G][1]=this.value,t(8,a),t(0,b),t(5,f),t(1,g),t(22,d)}return i.$$set=G=>{"id"in G&&t(1,g=G.id),"data"in G&&t(0,b=G.data),"isConnectable"in G&&t(2,D=G.isConnectable),"selected"in G&&t(3,B=G.selected)},i.$$.update=()=>{i.$$.dirty[0]&524323&&t(11,n=(b==null?void 0:b.label)||((f==null?void 0:f.id)==g?t(19,h=f==null?void 0:f.data)===null||h===void 0?void 0:h.label:"")||"< label >"),i.$$.dirty[0]&1048611&&t(10,r=(b==null?void 0:b.sequence)||((f==null?void 0:f.id)==g?t(20,v=f==null?void 0:f.data)===null||v===void 0?void 0:v.sequence:"")||"#"),i.$$.dirty[0]&2097187&&t(9,s=(b==null?void 0:b.user_properties)||((f==null?void 0:f.id)==g?t(21,p=f==null?void 0:f.data)===null||p===void 0?void 0:p.user_properties:"")||"< Property >"),i.$$.dirty[0]&4194339&&t(8,a=(b==null?void 0:b.user_properties)||((f==null?void 0:f.id)==g?t(22,d=f==null?void 0:f.data)===null||d===void 0?void 0:d.user_properties:"")||"< Value >"),i.$$.dirty[0]&8388626&&t(6,N=(t(23,_=l.toHandle)===null||_===void 0?void 0:_.nodeId)==g)},[b,g,D,B,l,f,N,T,a,s,r,n,S,O,y,q,F,j,A,h,v,p,d,_,L,k,R,K,z,fe,re,te]}class PR extends Gt{constructor(e){super(),Xt(this,e,RR,IR,Et,{id:1,data:0,isConnectable:2,selected:3},null,[-1,-1])}}function tm(i,e,t){const n=i.slice();return n[29]=e[t],n[30]=e,n[31]=t,n}function rm(i){let e,t;return e=new Zt({props:{type:"target",class:"customHandle",position:xt.Left,id:"target",style:i[16](),isConnectableStart:!1,isConnectable:i[1]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[0]&2&&(s.isConnectable=n[1]),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function nm(i){let e=i[7],t,n,r=im(i);return{c(){r.c(),t=$e()},l(s){r.l(s),t=$e()},m(s,a){r.m(s,a),I(s,t,a),n=!0},p(s,a){a[0]&128&&Et(e,e=s[7])?(It(),me(r,1,1,at),Rt(),r=im(s),r.c(),he(r,1),r.m(t.parentNode,t)):r.p(s,a)},i(s){n||(he(r),n=!0)},o(s){me(r),n=!1},d(s){s&&w(t),r.d(s)}}}function im(i){let e,t,n,r,s,a,l,u;return e=new Zt({props:{type:"source",position:xt.Top,id:"source",style:i[17](),isConnectable:i[1]}}),n=new Zt({props:{type:"source",position:xt.Left,id:"source",style:i[17](),isConnectable:i[1]}}),s=new Zt({props:{type:"source",position:xt.Right,id:"source",style:i[17](),isConnectable:i[1]}}),l=new Zt({props:{type:"source",position:xt.Bottom,id:"source",style:i[17](),isConnectable:i[1]}}),{c(){Xe(e.$$.fragment),t=ve(),Xe(n.$$.fragment),r=ve(),Xe(s.$$.fragment),a=ve(),Xe(l.$$.fragment)},l(f){We(e.$$.fragment,f),t=ge(f),We(n.$$.fragment,f),r=ge(f),We(s.$$.fragment,f),a=ge(f),We(l.$$.fragment,f)},m(f,h){Qe(e,f,h),I(f,t,h),Qe(n,f,h),I(f,r,h),Qe(s,f,h),I(f,a,h),Qe(l,f,h),u=!0},p(f,h){const v={};h[0]&2&&(v.isConnectable=f[1]),e.$set(v);const p={};h[0]&2&&(p.isConnectable=f[1]),n.$set(p);const d={};h[0]&2&&(d.isConnectable=f[1]),s.$set(d);const _={};h[0]&2&&(_.isConnectable=f[1]),l.$set(_)},i(f){u||(he(e.$$.fragment,f),he(n.$$.fragment,f),he(s.$$.fragment,f),he(l.$$.fragment,f),u=!0)},o(f){me(e.$$.fragment,f),me(n.$$.fragment,f),me(s.$$.fragment,f),me(l.$$.fragment,f),u=!1},d(f){f&&(w(t),w(r),w(a)),Ye(e,f),Ye(n,f),Ye(s,f),Ye(l,f)}}}function FR(i){let e,t;return e=new i[32].ItemList({props:{list:p1,filter_value_store:i[33],select_item:i[34]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[1]&4&&(s.filter_value_store=n[33]),r[1]&8&&(s.select_item=n[34]),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function am(i){let e,t=lt(i[0].user_properties),n=[];for(let r=0;r<t.length;r+=1)n[r]=sm(tm(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=$e()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&801){t=lt(r[0].user_properties);let a;for(a=0;a<t.length;a+=1){const l=tm(r,t,a);n[a]?n[a].p(l,s):(n[a]=sm(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),rr(n,r)}}}function sm(i){let e,t,n,r,s,a,l,u,f;function h(..._){return i[24](i[31],..._)}function v(){i[25].call(n,i[31])}function p(..._){return i[26](i[31],..._)}function d(){i[27].call(a,i[31])}return{c(){e=ae("div"),t=ae("div"),n=ae("input"),r=ve(),s=ae("div"),a=ae("input"),l=ve(),this.h()},l(_){e=se(_,"DIV",{class:!0});var g=Be(e);t=se(g,"DIV",{class:!0});var b=Be(t);n=se(b,"INPUT",{placeholder:!0}),b.forEach(w),r=ge(g),s=se(g,"DIV",{class:!0});var D=Be(s);a=se(D,"INPUT",{placeholder:!0}),D.forEach(w),l=ge(g),g.forEach(w),this.h()},h(){ue(n,"placeholder","property"),ue(t,"class","user-property flex-column"),ue(a,"placeholder","value"),ue(s,"class","user-value flex-column flex-grow-3"),ue(e,"class","user-properties flex")},m(_,g){I(_,e,g),$(e,t),$(t,n),gt(n,i[9][i[31]][0]),$(e,r),$(e,s),$(s,a),gt(a,i[8][i[31]][1]),$(e,l),u||(f=[Ie(n,"input",h),Ie(n,"input",v),Ie(a,"input",p),Ie(a,"input",d)],u=!0)},p(_,g){i=_,g[0]&512&&n.value!==i[9][i[31]][0]&&gt(n,i[9][i[31]][0]),g[0]&256&&a.value!==i[8][i[31]][1]&&gt(a,i[8][i[31]][1])},d(_){_&&w(e),u=!1,Ht(f)}}}function OR(i){let e=i[4].inProgress,t,n,r,s,a,l,u,f="Vulnerability",h,v,p,d,_,g,b,D,B,S,O,y="+",N,T,q,F=rm(i),j=!i[6]&&nm(i);a=new Ga({props:{isVisible:i[2]}}),_=new Ps({props:{node_id:i[3],element_id:i[0].d3f_class,input_color:"#f9d999",place_holder:"< weakness >",$$slots:{default:[FR,({R:L,filter_value_store:k,select_item:R})=>({32:L,33:k,34:R}),({R:L,filter_value_store:k,select_item:R})=>[0,(L?2:0)|(k?4:0)|(R?8:0)]]},$$scope:{ctx:i}}});let A=i[0].user_properties&&am(i);return{c(){F.c(),t=ve(),n=ae("div"),j&&j.c(),r=ve(),s=ae("div"),Xe(a.$$.fragment),l=ve(),u=ae("i"),u.textContent=f,h=ve(),v=ae("br"),p=ve(),d=ae("div"),Xe(_.$$.fragment),g=ve(),b=ae("div"),D=ae("input"),B=ve(),A&&A.c(),S=ve(),O=ae("button"),O.textContent=y,this.h()},l(L){F.l(L),t=ge(L),n=se(L,"DIV",{class:!0});var k=Be(n);j&&j.l(k),r=ge(k),s=se(k,"DIV",{class:!0});var R=Be(s);We(a.$$.fragment,R),l=ge(R),u=se(R,"I",{"data-svelte-h":!0}),vt(u)!=="svelte-qgxj0w"&&(u.textContent=f),h=ge(R),v=se(R,"BR",{}),p=ge(R),d=se(R,"DIV",{});var K=Be(d);We(_.$$.fragment,K),K.forEach(w),g=ge(R),b=se(R,"DIV",{});var z=Be(b);D=se(z,"INPUT",{class:!0,type:!0,style:!0}),B=ge(z),A&&A.l(z),S=ge(z),O=se(z,"BUTTON",{"data-svelte-h":!0}),vt(O)!=="svelte-y9choq"&&(O.textContent=y),z.forEach(w),R.forEach(w),k.forEach(w),this.h()},h(){ue(D,"class","nodrag label"),ue(D,"type","text"),$t(D,"background","#f9d999"),ue(s,"class","vulnerability node-inner svelte-17a4qd7"),ue(n,"class","vulnerability node svelte-17a4qd7")},m(L,k){F.m(L,k),I(L,t,k),I(L,n,k),j&&j.m(n,null),$(n,r),$(n,s),Qe(a,s,null),$(s,l),$(s,u),$(s,h),$(s,v),$(s,p),$(s,d),Qe(_,d,null),$(s,g),$(s,b),$(b,D),gt(D,i[10]),$(b,B),A&&A.m(b,null),$(b,S),$(b,O),N=!0,T||(q=[Ie(D,"input",i[22]),Ie(D,"input",i[23]),Ie(O,"click",i[11]),Ie(n,"click",i[12]),Ie(n,"mouseenter",i[14]),Ie(n,"mouseleave",i[15])],T=!0)},p(L,k){k[0]&16&&Et(e,e=L[4].inProgress)?(It(),me(F,1,1,at),Rt(),F=rm(L),F.c(),he(F,1),F.m(t.parentNode,t)):F.p(L,k),L[6]?j&&(It(),me(j,1,1,()=>{j=null}),Rt()):j?(j.p(L,k),k[0]&64&&he(j,1)):(j=nm(L),j.c(),he(j,1),j.m(n,r));const R={};k[0]&4&&(R.isVisible=L[2]),a.$set(R);const K={};k[0]&8&&(K.node_id=L[3]),k[0]&1&&(K.element_id=L[0].d3f_class),k[1]&28&&(K.$$scope={dirty:k,ctx:L}),_.$set(K),k[0]&1024&&D.value!==L[10]&&gt(D,L[10]),L[0].user_properties?A?A.p(L,k):(A=am(L),A.c(),A.m(b,S)):A&&(A.d(1),A=null)},i(L){N||(he(F),he(j),he(a.$$.fragment,L),he(_.$$.fragment,L),N=!0)},o(L){me(F),me(j),me(a.$$.fragment,L),me(_.$$.fragment,L),N=!1},d(L){L&&(w(t),w(n)),F.d(L),j&&j.d(),Ye(a),Ye(_),A&&A.d(),T=!1,Ht(q)}}}function LR(i,e,t){let n,r,s,a,l,u;yt(i,jn,z=>t(28,l=z)),yt(i,Pt,z=>t(5,u=z));var f,h,v,p;let{data:d}=e,{isConnectable:_}=e,{selected:g=void 0}=e,{id:b}=e;function D(){B(),d.user_properties.push(["",""])}function B(){for(let z=0;z<l.length;z++)l[z].data==d&&Vt(Pt,u=l[z],u)}const S=ma();yt(i,S,z=>t(4,a=z));let O=!1,y=!1;function N(){t(7,y=!0)}function T(){t(7,y=!1)}function q(){return a.inProgress?"z-index: 999;":"z-index: -2; pointer-events: none;"}function F(){return y?"z-index: 2;":"visibility:hidden; pointer-events: none;"}const j=z=>{t(0,d.label=z.currentTarget.value,d),Vt(Pt,u.data.label=d.label,u)};function A(){n=this.value,t(10,n),t(0,d),t(5,u),t(3,b),t(18,f)}const L=(z,fe)=>{t(0,d.user_properties[z][0]=fe.currentTarget.value,d),Vt(Pt,u.data.user_properties[z][0]=fe.currentTarget.value,u)};function k(z){r[z][0]=this.value,t(9,r),t(0,d),t(5,u),t(3,b),t(19,h)}const R=(z,fe)=>{t(0,d.user_properties[z][1]=fe.currentTarget.value,d),Vt(Pt,u.data.user_properties[z][1]=fe.currentTarget.value,u)};function K(z){s[z][1]=this.value,t(8,s),t(0,d),t(5,u),t(3,b),t(20,v)}return i.$$set=z=>{"data"in z&&t(0,d=z.data),"isConnectable"in z&&t(1,_=z.isConnectable),"selected"in z&&t(2,g=z.selected),"id"in z&&t(3,b=z.id)},i.$$.update=()=>{i.$$.dirty[0]&262185&&t(10,n=(d==null?void 0:d.label)||((u==null?void 0:u.id)==b?t(18,f=u==null?void 0:u.data)===null||f===void 0?void 0:f.label:"")||"< label >"),i.$$.dirty[0]&524329&&t(9,r=(d==null?void 0:d.user_properties)||((u==null?void 0:u.id)==b?t(19,h=u==null?void 0:u.data)===null||h===void 0?void 0:h.user_properties:"")||"< Property >"),i.$$.dirty[0]&1048617&&t(8,s=(d==null?void 0:d.user_properties)||((u==null?void 0:u.id)==b?t(20,v=u==null?void 0:u.data)===null||v===void 0?void 0:v.user_properties:"")||"< Value >"),i.$$.dirty[0]&2097176&&t(6,O=(t(21,p=a.toHandle)===null||p===void 0?void 0:p.nodeId)==b)},[d,_,g,b,a,u,O,y,s,r,n,D,B,S,N,T,q,F,f,h,v,p,j,A,L,k,R,K]}class BR extends Gt{constructor(e){super(),Xt(this,e,LR,OR,Et,{data:0,isConnectable:1,selected:2,id:3},null,[-1,-1])}}function lm(i,e,t){const n=i.slice();return n[29]=e[t],n[30]=e,n[31]=t,n}function om(i){let e,t;return e=new Zt({props:{type:"target",class:"customHandle",position:xt.Left,id:"target",style:i[16](),isConnectableStart:!1,isConnectable:i[1]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[0]&2&&(s.isConnectable=n[1]),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function um(i){let e=i[7],t,n,r=fm(i);return{c(){r.c(),t=$e()},l(s){r.l(s),t=$e()},m(s,a){r.m(s,a),I(s,t,a),n=!0},p(s,a){a[0]&128&&Et(e,e=s[7])?(It(),me(r,1,1,at),Rt(),r=fm(s),r.c(),he(r,1),r.m(t.parentNode,t)):r.p(s,a)},i(s){n||(he(r),n=!0)},o(s){me(r),n=!1},d(s){s&&w(t),r.d(s)}}}function fm(i){let e,t,n,r,s,a,l,u;return e=new Zt({props:{type:"source",position:xt.Top,id:"source",style:i[17](),isConnectable:i[1]}}),n=new Zt({props:{type:"source",position:xt.Left,id:"source",style:i[17](),isConnectable:i[1]}}),s=new Zt({props:{type:"source",position:xt.Right,id:"source",style:i[17](),isConnectable:i[1]}}),l=new Zt({props:{type:"source",position:xt.Bottom,id:"source",style:i[17](),isConnectable:i[1]}}),{c(){Xe(e.$$.fragment),t=ve(),Xe(n.$$.fragment),r=ve(),Xe(s.$$.fragment),a=ve(),Xe(l.$$.fragment)},l(f){We(e.$$.fragment,f),t=ge(f),We(n.$$.fragment,f),r=ge(f),We(s.$$.fragment,f),a=ge(f),We(l.$$.fragment,f)},m(f,h){Qe(e,f,h),I(f,t,h),Qe(n,f,h),I(f,r,h),Qe(s,f,h),I(f,a,h),Qe(l,f,h),u=!0},p(f,h){const v={};h[0]&2&&(v.isConnectable=f[1]),e.$set(v);const p={};h[0]&2&&(p.isConnectable=f[1]),n.$set(p);const d={};h[0]&2&&(d.isConnectable=f[1]),s.$set(d);const _={};h[0]&2&&(_.isConnectable=f[1]),l.$set(_)},i(f){u||(he(e.$$.fragment,f),he(n.$$.fragment,f),he(s.$$.fragment,f),he(l.$$.fragment,f),u=!0)},o(f){me(e.$$.fragment,f),me(n.$$.fragment,f),me(s.$$.fragment,f),me(l.$$.fragment,f),u=!1},d(f){f&&(w(t),w(r),w(a)),Ye(e,f),Ye(n,f),Ye(s,f),Ye(l,f)}}}function UR(i){let e,t;return e=new i[32].ItemList({props:{list:c1,filter_value_store:i[33],select_item:i[34]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[1]&4&&(s.filter_value_store=n[33]),r[1]&8&&(s.select_item=n[34]),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function cm(i){let e,t=lt(i[0].user_properties),n=[];for(let r=0;r<t.length;r+=1)n[r]=hm(lm(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=$e()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&801){t=lt(r[0].user_properties);let a;for(a=0;a<t.length;a+=1){const l=lm(r,t,a);n[a]?n[a].p(l,s):(n[a]=hm(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),rr(n,r)}}}function hm(i){let e,t,n,r,s,a,l,u,f;function h(..._){return i[24](i[31],..._)}function v(){i[25].call(n,i[31])}function p(..._){return i[26](i[31],..._)}function d(){i[27].call(a,i[31])}return{c(){e=ae("div"),t=ae("div"),n=ae("input"),r=ve(),s=ae("div"),a=ae("input"),l=ve(),this.h()},l(_){e=se(_,"DIV",{class:!0});var g=Be(e);t=se(g,"DIV",{class:!0});var b=Be(t);n=se(b,"INPUT",{placeholder:!0}),b.forEach(w),r=ge(g),s=se(g,"DIV",{class:!0});var D=Be(s);a=se(D,"INPUT",{placeholder:!0}),D.forEach(w),l=ge(g),g.forEach(w),this.h()},h(){ue(n,"placeholder","property"),ue(t,"class","user-property flex-column"),ue(a,"placeholder","value"),ue(s,"class","user-value flex-column flex-grow-3"),ue(e,"class","user-properties flex")},m(_,g){I(_,e,g),$(e,t),$(t,n),gt(n,i[9][i[31]][0]),$(e,r),$(e,s),$(s,a),gt(a,i[8][i[31]][1]),$(e,l),u||(f=[Ie(n,"input",h),Ie(n,"input",v),Ie(a,"input",p),Ie(a,"input",d)],u=!0)},p(_,g){i=_,g[0]&512&&n.value!==i[9][i[31]][0]&&gt(n,i[9][i[31]][0]),g[0]&256&&a.value!==i[8][i[31]][1]&&gt(a,i[8][i[31]][1])},d(_){_&&w(e),u=!1,Ht(f)}}}function MR(i){let e=i[4].inProgress,t,n,r,s,a,l="Artifact",u,f,h,v,p,d,_,g,b,D,B="+",S,O,y,N=om(i),T=!i[6]&&um(i);h=new Ga({props:{isVisible:i[2]}}),p=new Ps({props:{node_id:i[3],element_id:i[0].d3f_class,input_color:"#fff4dd",$$slots:{default:[UR,({R:F,filter_value_store:j,select_item:A})=>({32:F,33:j,34:A}),({R:F,filter_value_store:j,select_item:A})=>[0,(F?2:0)|(j?4:0)|(A?8:0)]]},$$scope:{ctx:i}}});let q=i[0].user_properties&&cm(i);return{c(){N.c(),t=ve(),n=ae("div"),T&&T.c(),r=ve(),s=ae("div"),a=ae("i"),a.textContent=l,u=ae("br"),f=ve(),Xe(h.$$.fragment),v=ve(),Xe(p.$$.fragment),d=ve(),_=ae("input"),g=ve(),q&&q.c(),b=ve(),D=ae("button"),D.textContent=B,this.h()},l(F){N.l(F),t=ge(F),n=se(F,"DIV",{class:!0});var j=Be(n);T&&T.l(j),r=ge(j),s=se(j,"DIV",{class:!0});var A=Be(s);a=se(A,"I",{"data-svelte-h":!0}),vt(a)!=="svelte-148na2y"&&(a.textContent=l),u=se(A,"BR",{}),f=ge(A),We(h.$$.fragment,A),v=ge(A),We(p.$$.fragment,A),d=ge(A),_=se(A,"INPUT",{class:!0,type:!0,style:!0}),g=ge(A),q&&q.l(A),b=ge(A),D=se(A,"BUTTON",{"data-svelte-h":!0}),vt(D)!=="svelte-y9choq"&&(D.textContent=B),A.forEach(w),j.forEach(w),this.h()},h(){ue(_,"class","nodrag label"),ue(_,"type","text"),$t(_,"background","#fff4dd"),ue(s,"class","node-inner"),ue(n,"class","artifact node svelte-1q2d78v")},m(F,j){N.m(F,j),I(F,t,j),I(F,n,j),T&&T.m(n,null),$(n,r),$(n,s),$(s,a),$(s,u),$(s,f),Qe(h,s,null),$(s,v),Qe(p,s,null),$(s,d),$(s,_),gt(_,i[10]),$(s,g),q&&q.m(s,null),$(s,b),$(s,D),S=!0,O||(y=[Ie(_,"input",i[22]),Ie(_,"input",i[23]),Ie(D,"click",i[11]),Ie(n,"click",i[12]),Ie(n,"mouseenter",i[14]),Ie(n,"mouseleave",i[15])],O=!0)},p(F,j){j[0]&16&&Et(e,e=F[4].inProgress)?(It(),me(N,1,1,at),Rt(),N=om(F),N.c(),he(N,1),N.m(t.parentNode,t)):N.p(F,j),F[6]?T&&(It(),me(T,1,1,()=>{T=null}),Rt()):T?(T.p(F,j),j[0]&64&&he(T,1)):(T=um(F),T.c(),he(T,1),T.m(n,r));const A={};j[0]&4&&(A.isVisible=F[2]),h.$set(A);const L={};j[0]&8&&(L.node_id=F[3]),j[0]&1&&(L.element_id=F[0].d3f_class),j[1]&28&&(L.$$scope={dirty:j,ctx:F}),p.$set(L),j[0]&1024&&_.value!==F[10]&&gt(_,F[10]),F[0].user_properties?q?q.p(F,j):(q=cm(F),q.c(),q.m(s,b)):q&&(q.d(1),q=null)},i(F){S||(he(N),he(T),he(h.$$.fragment,F),he(p.$$.fragment,F),S=!0)},o(F){me(N),me(T),me(h.$$.fragment,F),me(p.$$.fragment,F),S=!1},d(F){F&&(w(t),w(n)),N.d(F),T&&T.d(),Ye(h),Ye(p),q&&q.d(),O=!1,Ht(y)}}}function qR(i,e,t){let n,r,s,a,l,u;yt(i,jn,z=>t(28,l=z)),yt(i,Pt,z=>t(5,u=z));var f,h,v,p;let{data:d}=e,{isConnectable:_}=e,{selected:g=void 0}=e,{id:b}=e;function D(){B(),d.user_properties.push(["",""])}function B(){for(let z=0;z<l.length;z++)l[z].data==d&&Vt(Pt,u=l[z],u)}const S=ma();yt(i,S,z=>t(4,a=z));let O=!1,y=!1;function N(){t(7,y=!0)}function T(){t(7,y=!1)}function q(){return a.inProgress?"z-index: 999;":"z-index: -2; pointer-events: none;"}function F(){return y?"z-index: 2;":"visibility:hidden; pointer-events: none;"}const j=z=>{t(0,d.label=z.currentTarget.value,d),Vt(Pt,u.data.label=d.label,u)};function A(){n=this.value,t(10,n),t(0,d),t(5,u),t(3,b),t(18,f)}const L=(z,fe)=>{t(0,d.user_properties[z][0]=fe.currentTarget.value,d),Vt(Pt,u.data.user_properties[z][0]=fe.currentTarget.value,u)};function k(z){r[z][0]=this.value,t(9,r),t(0,d),t(5,u),t(3,b),t(19,h)}const R=(z,fe)=>{t(0,d.user_properties[z][1]=fe.currentTarget.value,d),Vt(Pt,u.data.user_properties[z][1]=fe.currentTarget.value,u)};function K(z){s[z][1]=this.value,t(8,s),t(0,d),t(5,u),t(3,b),t(20,v)}return i.$$set=z=>{"data"in z&&t(0,d=z.data),"isConnectable"in z&&t(1,_=z.isConnectable),"selected"in z&&t(2,g=z.selected),"id"in z&&t(3,b=z.id)},i.$$.update=()=>{i.$$.dirty[0]&262185&&t(10,n=(d==null?void 0:d.label)||((u==null?void 0:u.id)==b?t(18,f=u==null?void 0:u.data)===null||f===void 0?void 0:f.label:"")||"< label >"),i.$$.dirty[0]&524329&&t(9,r=(d==null?void 0:d.user_properties)||((u==null?void 0:u.id)==b?t(19,h=u==null?void 0:u.data)===null||h===void 0?void 0:h.user_properties:"")||"< Property >"),i.$$.dirty[0]&1048617&&t(8,s=(d==null?void 0:d.user_properties)||((u==null?void 0:u.id)==b?t(20,v=u==null?void 0:u.data)===null||v===void 0?void 0:v.user_properties:"")||"< Value >"),i.$$.dirty[0]&2097176&&t(6,O=(t(21,p=a.toHandle)===null||p===void 0?void 0:p.nodeId)==b)},[d,_,g,b,a,u,O,y,s,r,n,D,B,S,N,T,q,F,f,h,v,p,j,A,L,k,R,K]}class jR extends Gt{constructor(e){super(),Xt(this,e,qR,MR,Et,{data:0,isConnectable:1,selected:2,id:3},null,[-1,-1])}}function dm(i,e,t){const n=i.slice();return n[34]=e[t],n[35]=e,n[36]=t,n}function pm(i){let e,t;return e=new Zt({props:{type:"target",class:"customHandle",position:xt.Left,id:"target",style:i[17](),isConnectableStart:!1,isConnectable:i[1]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[0]&2&&(s.isConnectable=n[1]),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function _m(i){let e=i[7],t,n,r=vm(i);return{c(){r.c(),t=$e()},l(s){r.l(s),t=$e()},m(s,a){r.m(s,a),I(s,t,a),n=!0},p(s,a){a[0]&128&&Et(e,e=s[7])?(It(),me(r,1,1,at),Rt(),r=vm(s),r.c(),he(r,1),r.m(t.parentNode,t)):r.p(s,a)},i(s){n||(he(r),n=!0)},o(s){me(r),n=!1},d(s){s&&w(t),r.d(s)}}}function vm(i){let e,t,n,r,s,a,l,u;return e=new Zt({props:{type:"source",position:xt.Top,id:"source",style:i[18](),isConnectable:i[1]}}),n=new Zt({props:{type:"source",position:xt.Left,id:"source",style:i[18](),isConnectable:i[1]}}),s=new Zt({props:{type:"source",position:xt.Right,id:"source",style:i[18](),isConnectable:i[1]}}),l=new Zt({props:{type:"source",position:xt.Bottom,id:"source",style:i[18](),isConnectable:i[1]}}),{c(){Xe(e.$$.fragment),t=ve(),Xe(n.$$.fragment),r=ve(),Xe(s.$$.fragment),a=ve(),Xe(l.$$.fragment)},l(f){We(e.$$.fragment,f),t=ge(f),We(n.$$.fragment,f),r=ge(f),We(s.$$.fragment,f),a=ge(f),We(l.$$.fragment,f)},m(f,h){Qe(e,f,h),I(f,t,h),Qe(n,f,h),I(f,r,h),Qe(s,f,h),I(f,a,h),Qe(l,f,h),u=!0},p(f,h){const v={};h[0]&2&&(v.isConnectable=f[1]),e.$set(v);const p={};h[0]&2&&(p.isConnectable=f[1]),n.$set(p);const d={};h[0]&2&&(d.isConnectable=f[1]),s.$set(d);const _={};h[0]&2&&(_.isConnectable=f[1]),l.$set(_)},i(f){u||(he(e.$$.fragment,f),he(n.$$.fragment,f),he(s.$$.fragment,f),he(l.$$.fragment,f),u=!0)},o(f){me(e.$$.fragment,f),me(n.$$.fragment,f),me(s.$$.fragment,f),me(l.$$.fragment,f),u=!1},d(f){f&&(w(t),w(r),w(a)),Ye(e,f),Ye(n,f),Ye(s,f),Ye(l,f)}}}function xR(i){let e,t;return e=new i[37].ItemTactic({props:{list:f1,filter_value_store:i[38],select_item:i[39]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[1]&128&&(s.filter_value_store=n[38]),r[1]&256&&(s.select_item=n[39]),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function gm(i){let e,t=lt(i[0].user_properties),n=[];for(let r=0;r<t.length;r+=1)n[r]=mm(dm(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=$e()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&801){t=lt(r[0].user_properties);let a;for(a=0;a<t.length;a+=1){const l=dm(r,t,a);n[a]?n[a].p(l,s):(n[a]=mm(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),rr(n,r)}}}function mm(i){let e,t,n,r,s,a,l,u,f;function h(..._){return i[28](i[36],..._)}function v(){i[29].call(n,i[36])}function p(..._){return i[30](i[36],..._)}function d(){i[31].call(a,i[36])}return{c(){e=ae("div"),t=ae("div"),n=ae("input"),r=ve(),s=ae("div"),a=ae("input"),l=ve(),this.h()},l(_){e=se(_,"DIV",{class:!0});var g=Be(e);t=se(g,"DIV",{class:!0});var b=Be(t);n=se(b,"INPUT",{placeholder:!0}),b.forEach(w),r=ge(g),s=se(g,"DIV",{class:!0});var D=Be(s);a=se(D,"INPUT",{placeholder:!0}),D.forEach(w),l=ge(g),g.forEach(w),this.h()},h(){ue(n,"placeholder","property"),ue(t,"class","user-property flex-column"),ue(a,"placeholder","value"),ue(s,"class","user-value flex-column flex-grow-3"),ue(e,"class","user-properties flex")},m(_,g){I(_,e,g),$(e,t),$(t,n),gt(n,i[9][i[36]][0]),$(e,r),$(e,s),$(s,a),gt(a,i[8][i[36]][1]),$(e,l),u||(f=[Ie(n,"input",h),Ie(n,"input",v),Ie(a,"input",p),Ie(a,"input",d)],u=!0)},p(_,g){i=_,g[0]&512&&n.value!==i[9][i[36]][0]&&gt(n,i[9][i[36]][0]),g[0]&256&&a.value!==i[8][i[36]][1]&&gt(a,i[8][i[36]][1])},d(_){_&&w(e),u=!1,Ht(f)}}}function zR(i){let e=i[4].inProgress,t,n,r,s,a,l,u,f="Defense Action",h,v,p,d,_,g,b,D,B,S,O,y,N,T="+",q,F,j,A=pm(i),L=!i[6]&&_m(i);a=new Ga({props:{isVisible:i[2]}}),b=new Ps({props:{node_id:i[3],element_id:i[0].d3f_class,input_color:"#d6eaff",$$slots:{default:[xR,({R,filter_value_store:K,select_item:z})=>({37:R,38:K,39:z}),({R,filter_value_store:K,select_item:z})=>[0,(R?64:0)|(K?128:0)|(z?256:0)]]},$$scope:{ctx:i}}});let k=i[0].user_properties&&gm(i);return{c(){A.c(),t=ve(),n=ae("div"),L&&L.c(),r=ve(),s=ae("div"),Xe(a.$$.fragment),l=ve(),u=ae("i"),u.textContent=f,h=ve(),v=ae("input"),p=ve(),d=ae("br"),_=ve(),g=ae("div"),Xe(b.$$.fragment),D=ve(),B=ae("div"),S=ae("input"),O=ve(),k&&k.c(),y=ve(),N=ae("button"),N.textContent=T,this.h()},l(R){A.l(R),t=ge(R),n=se(R,"DIV",{class:!0});var K=Be(n);L&&L.l(K),r=ge(K),s=se(K,"DIV",{class:!0});var z=Be(s);We(a.$$.fragment,z),l=ge(z),u=se(z,"I",{"data-svelte-h":!0}),vt(u)!=="svelte-1x9m2lq"&&(u.textContent=f),h=ge(z),v=se(z,"INPUT",{class:!0,type:!0,style:!0}),p=ge(z),d=se(z,"BR",{}),_=ge(z),g=se(z,"DIV",{});var fe=Be(g);We(b.$$.fragment,fe),fe.forEach(w),D=ge(z),B=se(z,"DIV",{});var re=Be(B);S=se(re,"INPUT",{class:!0,type:!0,style:!0}),O=ge(re),k&&k.l(re),y=ge(re),N=se(re,"BUTTON",{"data-svelte-h":!0}),vt(N)!=="svelte-y9choq"&&(N.textContent=T),re.forEach(w),z.forEach(w),K.forEach(w),this.h()},h(){ue(v,"class","nodrag sequence"),ue(v,"type","text"),$t(v,"background","#d6eaff"),ue(S,"class","nodrag label"),ue(S,"type","text"),$t(S,"background","#d6eaff"),ue(s,"class","node-inner"),ue(n,"class","countermeasure node svelte-cdgs6j")},m(R,K){A.m(R,K),I(R,t,K),I(R,n,K),L&&L.m(n,null),$(n,r),$(n,s),Qe(a,s,null),$(s,l),$(s,u),$(s,h),$(s,v),gt(v,i[10]),$(s,p),$(s,d),$(s,_),$(s,g),Qe(b,g,null),$(s,D),$(s,B),$(B,S),gt(S,i[11]),$(B,O),k&&k.m(B,null),$(B,y),$(B,N),q=!0,F||(j=[Ie(v,"input",i[24]),Ie(v,"input",i[25]),Ie(S,"input",i[26]),Ie(S,"input",i[27]),Ie(N,"click",i[12]),Ie(n,"click",i[13]),Ie(n,"mouseenter",i[15]),Ie(n,"mouseleave",i[16])],F=!0)},p(R,K){K[0]&16&&Et(e,e=R[4].inProgress)?(It(),me(A,1,1,at),Rt(),A=pm(R),A.c(),he(A,1),A.m(t.parentNode,t)):A.p(R,K),R[6]?L&&(It(),me(L,1,1,()=>{L=null}),Rt()):L?(L.p(R,K),K[0]&64&&he(L,1)):(L=_m(R),L.c(),he(L,1),L.m(n,r));const z={};K[0]&4&&(z.isVisible=R[2]),a.$set(z),K[0]&1024&&v.value!==R[10]&&gt(v,R[10]);const fe={};K[0]&8&&(fe.node_id=R[3]),K[0]&1&&(fe.element_id=R[0].d3f_class),K[1]&896&&(fe.$$scope={dirty:K,ctx:R}),b.$set(fe),K[0]&2048&&S.value!==R[11]&&gt(S,R[11]),R[0].user_properties?k?k.p(R,K):(k=gm(R),k.c(),k.m(B,y)):k&&(k.d(1),k=null)},i(R){q||(he(A),he(L),he(a.$$.fragment,R),he(b.$$.fragment,R),q=!0)},o(R){me(A),me(L),me(a.$$.fragment,R),me(b.$$.fragment,R),q=!1},d(R){R&&(w(t),w(n)),A.d(R),L&&L.d(),Ye(a),Ye(b),k&&k.d(),F=!1,Ht(j)}}}function VR(i,e,t){let n,r,s,a,l,u,f;yt(i,jn,G=>t(32,u=G)),yt(i,Pt,G=>t(5,f=G));var h,v,p,d,_;let{data:g}=e,{isConnectable:b}=e,{selected:D=void 0}=e,{id:B}=e;function S(){O(),g.user_properties.push(["",""])}function O(){for(let G=0;G<u.length;G++)u[G].data==g&&Vt(Pt,f=u[G],f)}const y=ma();yt(i,y,G=>t(4,l=G));let N=!1,T=!1;function q(){t(7,T=!0)}function F(){t(7,T=!1)}function j(){return l.inProgress?"z-index: 999;":"z-index: -2; pointer-events: none;"}function A(){return T?"z-index: 2;":"visibility:hidden; pointer-events: none;"}const L=G=>{t(0,g.sequence=G.currentTarget.value,g),Vt(Pt,f.data.sequence=g.sequence,f)};function k(){r=this.value,t(10,r),t(0,g),t(5,f),t(3,B),t(20,v)}const R=G=>{t(0,g.label=G.currentTarget.value,g),Vt(Pt,f.data.label=g.label,f)};function K(){n=this.value,t(11,n),t(0,g),t(5,f),t(3,B),t(19,h)}const z=(G,Q)=>{t(0,g.user_properties[G][0]=Q.currentTarget.value,g),Vt(Pt,f.data.user_properties[G][0]=Q.currentTarget.value,f)};function fe(G){s[G][0]=this.value,t(9,s),t(0,g),t(5,f),t(3,B),t(21,p)}const re=(G,Q)=>{t(0,g.user_properties[G][1]=Q.currentTarget.value,g),Vt(Pt,f.data.user_properties[G][1]=Q.currentTarget.value,f)};function te(G){a[G][1]=this.value,t(8,a),t(0,g),t(5,f),t(3,B),t(22,d)}return i.$$set=G=>{"data"in G&&t(0,g=G.data),"isConnectable"in G&&t(1,b=G.isConnectable),"selected"in G&&t(2,D=G.selected),"id"in G&&t(3,B=G.id)},i.$$.update=()=>{i.$$.dirty[0]&524329&&t(11,n=(g==null?void 0:g.label)||((f==null?void 0:f.id)==B?t(19,h=f==null?void 0:f.data)===null||h===void 0?void 0:h.label:"")||"< label >"),i.$$.dirty[0]&1048617&&t(10,r=(g==null?void 0:g.sequence)||((f==null?void 0:f.id)==B?t(20,v=f==null?void 0:f.data)===null||v===void 0?void 0:v.sequence:"")||"#"),i.$$.dirty[0]&2097193&&t(9,s=(g==null?void 0:g.user_properties)||((f==null?void 0:f.id)==B?t(21,p=f==null?void 0:f.data)===null||p===void 0?void 0:p.user_properties:"")||"< Property >"),i.$$.dirty[0]&4194345&&t(8,a=(g==null?void 0:g.user_properties)||((f==null?void 0:f.id)==B?t(22,d=f==null?void 0:f.data)===null||d===void 0?void 0:d.user_properties:"")||"< Value >"),i.$$.dirty[0]&8388632&&t(6,N=(t(23,_=l.toHandle)===null||_===void 0?void 0:_.nodeId)==B)},[g,b,D,B,l,f,N,T,a,s,r,n,S,O,y,q,F,j,A,h,v,p,d,_,L,k,R,K,z,fe,re,te]}class HR extends Gt{constructor(e){super(),Xt(this,e,VR,zR,Et,{data:0,isConnectable:1,selected:2,id:3},null,[-1,-1])}}function bm(i,e,t){const n=i.slice();return n[28]=e[t],n[29]=e,n[30]=t,n}function wm(i){let e,t;return e=new Zt({props:{type:"target",class:"customHandle",position:xt.Left,id:"target",style:i[15](),isConnectableStart:!1,isConnectable:i[1]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[0]&2&&(s.isConnectable=n[1]),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function ym(i){let e=i[7],t,n,r=Em(i);return{c(){r.c(),t=$e()},l(s){r.l(s),t=$e()},m(s,a){r.m(s,a),I(s,t,a),n=!0},p(s,a){a[0]&128&&Et(e,e=s[7])?(It(),me(r,1,1,at),Rt(),r=Em(s),r.c(),he(r,1),r.m(t.parentNode,t)):r.p(s,a)},i(s){n||(he(r),n=!0)},o(s){me(r),n=!1},d(s){s&&w(t),r.d(s)}}}function Em(i){let e,t,n,r,s,a,l,u;return e=new Zt({props:{type:"source",position:xt.Top,id:"source",style:i[16](),isConnectable:i[1]}}),n=new Zt({props:{type:"source",position:xt.Left,id:"source",style:i[16](),isConnectable:i[1]}}),s=new Zt({props:{type:"source",position:xt.Right,id:"source",style:i[16](),isConnectable:i[1]}}),l=new Zt({props:{type:"source",position:xt.Bottom,id:"source",style:i[16](),isConnectable:i[1]}}),{c(){Xe(e.$$.fragment),t=ve(),Xe(n.$$.fragment),r=ve(),Xe(s.$$.fragment),a=ve(),Xe(l.$$.fragment)},l(f){We(e.$$.fragment,f),t=ge(f),We(n.$$.fragment,f),r=ge(f),We(s.$$.fragment,f),a=ge(f),We(l.$$.fragment,f)},m(f,h){Qe(e,f,h),I(f,t,h),Qe(n,f,h),I(f,r,h),Qe(s,f,h),I(f,a,h),Qe(l,f,h),u=!0},p(f,h){const v={};h[0]&2&&(v.isConnectable=f[1]),e.$set(v);const p={};h[0]&2&&(p.isConnectable=f[1]),n.$set(p);const d={};h[0]&2&&(d.isConnectable=f[1]),s.$set(d);const _={};h[0]&2&&(_.isConnectable=f[1]),l.$set(_)},i(f){u||(he(e.$$.fragment,f),he(n.$$.fragment,f),he(s.$$.fragment,f),he(l.$$.fragment,f),u=!0)},o(f){me(e.$$.fragment,f),me(n.$$.fragment,f),me(s.$$.fragment,f),me(l.$$.fragment,f),u=!1},d(f){f&&(w(t),w(r),w(a)),Ye(e,f),Ye(n,f),Ye(s,f),Ye(l,f)}}}function $R(i){let e,t;return e=new i[31].ItemInformation({props:{list:v1,filter_value_store:i[32],select_item:i[33]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[1]&2&&(s.filter_value_store=n[32]),r[1]&4&&(s.select_item=n[33]),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function Dm(i){let e,t=lt(i[0].user_properties),n=[];for(let r=0;r<t.length;r+=1)n[r]=Am(bm(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=$e()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&801){t=lt(r[0].user_properties);let a;for(a=0;a<t.length;a+=1){const l=bm(r,t,a);n[a]?n[a].p(l,s):(n[a]=Am(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),rr(n,r)}}}function Am(i){let e,t,n,r,s,a,l,u,f;function h(..._){return i[21](i[30],..._)}function v(){i[22].call(n,i[30])}function p(..._){return i[23](i[30],..._)}function d(){i[24].call(a,i[30])}return{c(){e=ae("div"),t=ae("div"),n=ae("input"),r=ve(),s=ae("div"),a=ae("input"),l=ve(),this.h()},l(_){e=se(_,"DIV",{class:!0});var g=Be(e);t=se(g,"DIV",{class:!0});var b=Be(t);n=se(b,"INPUT",{placeholder:!0}),b.forEach(w),r=ge(g),s=se(g,"DIV",{class:!0});var D=Be(s);a=se(D,"INPUT",{placeholder:!0}),D.forEach(w),l=ge(g),g.forEach(w),this.h()},h(){ue(n,"placeholder","property"),ue(t,"class","user-property flex-column"),ue(a,"placeholder","value"),ue(s,"class","user-value flex-column flex-grow-3"),ue(e,"class","user-properties flex")},m(_,g){I(_,e,g),$(e,t),$(t,n),gt(n,i[9][i[30]][0]),$(e,r),$(e,s),$(s,a),gt(a,i[8][i[30]][1]),$(e,l),u||(f=[Ie(n,"input",h),Ie(n,"input",v),Ie(a,"input",p),Ie(a,"input",d)],u=!0)},p(_,g){i=_,g[0]&512&&n.value!==i[9][i[30]][0]&&gt(n,i[9][i[30]][0]),g[0]&256&&a.value!==i[8][i[30]][1]&&gt(a,i[8][i[30]][1])},d(_){_&&w(e),u=!1,Ht(f)}}}function GR(i){let e=i[4].inProgress,t,n,r,s,a,l="Information",u,f,h,v,p,d,_,g,b="+",D,B,S,O=wm(i),y=!i[6]&&ym(i);h=new Ga({props:{isVisible:i[2]}}),p=new Ps({props:{node_id:i[3],element_id:i[0].d3f_class,input_color:"#e8f4ea",$$slots:{default:[$R,({R:T,filter_value_store:q,select_item:F})=>({31:T,32:q,33:F}),({R:T,filter_value_store:q,select_item:F})=>[0,(T?1:0)|(q?2:0)|(F?4:0)]]},$$scope:{ctx:i}}});let N=i[0].user_properties&&Dm(i);return{c(){O.c(),t=ve(),n=ae("div"),y&&y.c(),r=ve(),s=ae("div"),a=ae("i"),a.textContent=l,u=ae("br"),f=ve(),Xe(h.$$.fragment),v=ve(),Xe(p.$$.fragment),d=ve(),N&&N.c(),_=ve(),g=ae("button"),g.textContent=b,this.h()},l(T){O.l(T),t=ge(T),n=se(T,"DIV",{class:!0});var q=Be(n);y&&y.l(q),r=ge(q),s=se(q,"DIV",{class:!0});var F=Be(s);a=se(F,"I",{"data-svelte-h":!0}),vt(a)!=="svelte-1ocpiyk"&&(a.textContent=l),u=se(F,"BR",{}),f=ge(F),We(h.$$.fragment,F),v=ge(F),We(p.$$.fragment,F),d=ge(F),N&&N.l(F),_=ge(F),g=se(F,"BUTTON",{"data-svelte-h":!0}),vt(g)!=="svelte-y9choq"&&(g.textContent=b),F.forEach(w),q.forEach(w),this.h()},h(){ue(s,"class","information node-inner svelte-1wgy9qw"),ue(n,"class","information node svelte-1wgy9qw")},m(T,q){O.m(T,q),I(T,t,q),I(T,n,q),y&&y.m(n,null),$(n,r),$(n,s),$(s,a),$(s,u),$(s,f),Qe(h,s,null),$(s,v),Qe(p,s,null),$(s,d),N&&N.m(s,null),$(s,_),$(s,g),D=!0,B||(S=[Ie(g,"click",i[10]),Ie(n,"click",i[11]),Ie(n,"mouseenter",i[13]),Ie(n,"mouseleave",i[14])],B=!0)},p(T,q){q[0]&16&&Et(e,e=T[4].inProgress)?(It(),me(O,1,1,at),Rt(),O=wm(T),O.c(),he(O,1),O.m(t.parentNode,t)):O.p(T,q),T[6]?y&&(It(),me(y,1,1,()=>{y=null}),Rt()):y?(y.p(T,q),q[0]&64&&he(y,1)):(y=ym(T),y.c(),he(y,1),y.m(n,r));const F={};q[0]&4&&(F.isVisible=T[2]),h.$set(F);const j={};q[0]&8&&(j.node_id=T[3]),q[0]&1&&(j.element_id=T[0].d3f_class),q[1]&14&&(j.$$scope={dirty:q,ctx:T}),p.$set(j),T[0].user_properties?N?N.p(T,q):(N=Dm(T),N.c(),N.m(s,_)):N&&(N.d(1),N=null)},i(T){D||(he(O),he(y),he(h.$$.fragment,T),he(p.$$.fragment,T),D=!0)},o(T){me(O),me(y),me(h.$$.fragment,T),me(p.$$.fragment,T),D=!1},d(T){T&&(w(t),w(n)),O.d(T),y&&y.d(),Ye(h),Ye(p),N&&N.d(),B=!1,Ht(S)}}}function XR(i,e,t){let n,r,s,a,l;yt(i,jn,k=>t(26,a=k)),yt(i,Pt,k=>t(5,l=k));var u,f,h,v;let{data:p}=e,{isConnectable:d}=e,{selected:_=void 0}=e;function g(){b(),p.user_properties.push(["",""])}function b(){for(let k=0;k<a.length;k++)a[k].data==p&&Vt(Pt,l=a[k],l)}let{id:D}=e;const B=ma();yt(i,B,k=>t(4,s=k));let S=!1,O=!1;function y(){t(7,O=!0)}function N(){t(7,O=!1)}function T(){return s.inProgress?"z-index: 999;":"z-index: -2; pointer-events: none;"}function q(){return O?"z-index: 2;":"visibility:hidden; pointer-events: none;"}const F=(k,R)=>{t(0,p.user_properties[k][0]=R.currentTarget.value,p),Vt(Pt,l.data.user_properties[k][0]=R.currentTarget.value,l)};function j(k){n[k][0]=this.value,t(9,n),t(0,p),t(5,l),t(3,D),t(18,f)}const A=(k,R)=>{t(0,p.user_properties[k][1]=R.currentTarget.value,p),Vt(Pt,l.data.user_properties[k][1]=R.currentTarget.value,l)};function L(k){r[k][1]=this.value,t(8,r),t(0,p),t(5,l),t(3,D),t(19,h)}return i.$$set=k=>{"data"in k&&t(0,p=k.data),"isConnectable"in k&&t(1,d=k.isConnectable),"selected"in k&&t(2,_=k.selected),"id"in k&&t(3,D=k.id)},i.$$.update=()=>{i.$$.dirty[0]&131113&&(p!=null&&p.label||(l==null?void 0:l.id)==D&&!(t(17,u=l==null?void 0:l.data)===null||u===void 0)&&u.label),i.$$.dirty[0]&262185&&t(9,n=(p==null?void 0:p.user_properties)||((l==null?void 0:l.id)==D?t(18,f=l==null?void 0:l.data)===null||f===void 0?void 0:f.user_properties:"")||"< Property >"),i.$$.dirty[0]&524329&&t(8,r=(p==null?void 0:p.user_properties)||((l==null?void 0:l.id)==D?t(19,h=l==null?void 0:l.data)===null||h===void 0?void 0:h.user_properties:"")||"< Value >"),i.$$.dirty[0]&1048600&&t(6,S=(t(20,v=s.toHandle)===null||v===void 0?void 0:v.nodeId)==D)},[p,d,_,D,s,l,S,O,r,n,g,b,B,y,N,T,q,u,f,h,v,F,j,A,L]}class WR extends Gt{constructor(e){super(),Xt(this,e,XR,GR,Et,{data:0,isConnectable:1,selected:2,id:3},null,[-1,-1])}}function km(i,e,t){const n=i.slice();return n[30]=e[t],n[31]=e,n[32]=t,n}function Cm(i){let e,t;return e=new Zt({props:{type:"target",class:"customHandle",position:xt.Left,id:"target",style:i[13](),isConnectableStart:!1,isConnectable:i[1]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[0]&2&&(s.isConnectable=n[1]),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function Tm(i){let e=i[6],t,n,r=Nm(i);return{c(){r.c(),t=$e()},l(s){r.l(s),t=$e()},m(s,a){r.m(s,a),I(s,t,a),n=!0},p(s,a){a[0]&64&&Et(e,e=s[6])?(It(),me(r,1,1,at),Rt(),r=Nm(s),r.c(),he(r,1),r.m(t.parentNode,t)):r.p(s,a)},i(s){n||(he(r),n=!0)},o(s){me(r),n=!1},d(s){s&&w(t),r.d(s)}}}function Nm(i){let e,t,n,r,s,a,l,u;return e=new Zt({props:{type:"source",position:xt.Top,id:"source",style:i[14](),isConnectable:i[1]}}),n=new Zt({props:{type:"source",position:xt.Left,id:"source",style:i[14](),isConnectable:i[1]}}),s=new Zt({props:{type:"source",position:xt.Right,id:"source",style:i[14](),isConnectable:i[1]}}),l=new Zt({props:{type:"source",position:xt.Bottom,id:"source",style:i[14](),isConnectable:i[1]}}),{c(){Xe(e.$$.fragment),t=ve(),Xe(n.$$.fragment),r=ve(),Xe(s.$$.fragment),a=ve(),Xe(l.$$.fragment)},l(f){We(e.$$.fragment,f),t=ge(f),We(n.$$.fragment,f),r=ge(f),We(s.$$.fragment,f),a=ge(f),We(l.$$.fragment,f)},m(f,h){Qe(e,f,h),I(f,t,h),Qe(n,f,h),I(f,r,h),Qe(s,f,h),I(f,a,h),Qe(l,f,h),u=!0},p(f,h){const v={};h[0]&2&&(v.isConnectable=f[1]),e.$set(v);const p={};h[0]&2&&(p.isConnectable=f[1]),n.$set(p);const d={};h[0]&2&&(d.isConnectable=f[1]),s.$set(d);const _={};h[0]&2&&(_.isConnectable=f[1]),l.$set(_)},i(f){u||(he(e.$$.fragment,f),he(n.$$.fragment,f),he(s.$$.fragment,f),he(l.$$.fragment,f),u=!0)},o(f){me(e.$$.fragment,f),me(n.$$.fragment,f),me(s.$$.fragment,f),me(l.$$.fragment,f),u=!1},d(f){f&&(w(t),w(r),w(a)),Ye(e,f),Ye(n,f),Ye(s,f),Ye(l,f)}}}function Sm(i){let e,t=lt(i[0].user_properties),n=[];for(let r=0;r<t.length;r+=1)n[r]=Im(km(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=$e()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&393){t=lt(r[0].user_properties);let a;for(a=0;a<t.length;a+=1){const l=km(r,t,a);n[a]?n[a].p(l,s):(n[a]=Im(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),rr(n,r)}}}function Im(i){let e,t,n,r,s,a,l,u,f;function h(..._){return i[24](i[32],..._)}function v(){i[25].call(n,i[32])}function p(..._){return i[26](i[32],..._)}function d(){i[27].call(a,i[32])}return{c(){e=ae("div"),t=ae("div"),n=ae("input"),r=ve(),s=ae("div"),a=ae("input"),l=ve(),this.h()},l(_){e=se(_,"DIV",{class:!0});var g=Be(e);t=se(g,"DIV",{class:!0});var b=Be(t);n=se(b,"INPUT",{placeholder:!0}),b.forEach(w),r=ge(g),s=se(g,"DIV",{class:!0});var D=Be(s);a=se(D,"INPUT",{placeholder:!0}),D.forEach(w),l=ge(g),g.forEach(w),this.h()},h(){ue(n,"placeholder","property"),ue(t,"class","user-property flex-column"),ue(a,"placeholder","value"),ue(s,"class","user-value flex-column flex-grow-3"),ue(e,"class","user-properties flex")},m(_,g){I(_,e,g),$(e,t),$(t,n),gt(n,i[8][i[32]][0]),$(e,r),$(e,s),$(s,a),gt(a,i[7][i[32]][1]),$(e,l),u||(f=[Ie(n,"input",h),Ie(n,"input",v),Ie(a,"input",p),Ie(a,"input",d)],u=!0)},p(_,g){i=_,g[0]&256&&n.value!==i[8][i[32]][0]&&gt(n,i[8][i[32]][0]),g[0]&128&&a.value!==i[7][i[32]][1]&&gt(a,i[7][i[32]][1])},d(_){_&&w(e),u=!1,Ht(f)}}}function QR(i){let e=i[4].inProgress,t,n,r,s,a,l,u,f="Condition",h,v,p,d,_,g,b="+",D,B,S,O=Cm(i),y=!i[5]&&Tm(i);a=new Ga({props:{isVisible:i[2]}});let N=i[0].user_properties&&Sm(i);return{c(){O.c(),t=ve(),n=ae("div"),y&&y.c(),r=ve(),s=ae("div"),Xe(a.$$.fragment),l=ve(),u=ae("i"),u.textContent=f,h=ae("br"),v=ve(),p=ae("input"),d=ve(),N&&N.c(),_=ve(),g=ae("button"),g.textContent=b,this.h()},l(T){O.l(T),t=ge(T),n=se(T,"DIV",{class:!0});var q=Be(n);y&&y.l(q),r=ge(q),s=se(q,"DIV",{class:!0});var F=Be(s);We(a.$$.fragment,F),l=ge(F),u=se(F,"I",{"data-svelte-h":!0}),vt(u)!=="svelte-26somz"&&(u.textContent=f),h=se(F,"BR",{}),v=ge(F),p=se(F,"INPUT",{class:!0,type:!0,style:!0}),d=ge(F),N&&N.l(F),_=ge(F),g=se(F,"BUTTON",{"data-svelte-h":!0}),vt(g)!=="svelte-y9choq"&&(g.textContent=b),F.forEach(w),q.forEach(w),this.h()},h(){ue(p,"class","nodrag label"),ue(p,"type","text"),$t(p,"background","#ece6ff"),ue(s,"class","condition node-inner svelte-d75hej"),ue(n,"class","condition node svelte-d75hej")},m(T,q){O.m(T,q),I(T,t,q),I(T,n,q),y&&y.m(n,null),$(n,r),$(n,s),Qe(a,s,null),$(s,l),$(s,u),$(s,h),$(s,v),$(s,p),gt(p,i[9]),$(s,d),N&&N.m(s,null),$(s,_),$(s,g),D=!0,B||(S=[Ie(p,"input",i[22]),Ie(p,"input",i[23]),Ie(g,"click",i[15]),Ie(n,"click",i[16]),Ie(n,"mouseenter",i[11]),Ie(n,"mouseleave",i[12])],B=!0)},p(T,q){q[0]&16&&Et(e,e=T[4].inProgress)?(It(),me(O,1,1,at),Rt(),O=Cm(T),O.c(),he(O,1),O.m(t.parentNode,t)):O.p(T,q),T[5]?y&&(It(),me(y,1,1,()=>{y=null}),Rt()):y?(y.p(T,q),q[0]&32&&he(y,1)):(y=Tm(T),y.c(),he(y,1),y.m(n,r));const F={};q[0]&4&&(F.isVisible=T[2]),a.$set(F),q[0]&512&&p.value!==T[9]&&gt(p,T[9]),T[0].user_properties?N?N.p(T,q):(N=Sm(T),N.c(),N.m(s,_)):N&&(N.d(1),N=null)},i(T){D||(he(O),he(y),he(a.$$.fragment,T),D=!0)},o(T){me(O),me(y),me(a.$$.fragment,T),D=!1},d(T){T&&(w(t),w(n)),O.d(T),y&&y.d(),Ye(a),N&&N.d(),B=!1,Ht(S)}}}function YR(i,e,t){let n,r,s,a,l,u;yt(i,jn,z=>t(28,a=z)),yt(i,Pt,z=>t(3,l=z));var f,h,v,p;let{data:d}=e,{isConnectable:_}=e,{selected:g=void 0}=e,{id:b}=e;const D=ma();yt(i,D,z=>t(4,u=z));let B=!1,S=!1;function O(){t(6,S=!0)}function y(){t(6,S=!1)}function N(){return u.inProgress?"z-index: 999;":"z-index: -2; pointer-events: none;"}function T(){return S?"z-index: 2;":"visibility:hidden; pointer-events: none;"}function q(){F(),d.user_properties.push(["",""])}function F(){for(let z=0;z<a.length;z++)a[z].data==d&&Vt(Pt,l=a[z],l)}const j=z=>{t(0,d.label=z.currentTarget.value,d),Vt(Pt,l.data.label=d.label,l)};function A(){n=this.value,t(9,n),t(0,d),t(3,l),t(17,b),t(19,h)}const L=(z,fe)=>{t(0,d.user_properties[z][0]=fe.currentTarget.value,d),Vt(Pt,l.data.user_properties[z][0]=fe.currentTarget.value,l)};function k(z){r[z][0]=this.value,t(8,r),t(0,d),t(3,l),t(17,b),t(20,v)}const R=(z,fe)=>{t(0,d.user_properties[z][1]=fe.currentTarget.value,d),Vt(Pt,l.data.user_properties[z][1]=fe.currentTarget.value,l)};function K(z){s[z][1]=this.value,t(7,s),t(0,d),t(3,l),t(17,b),t(21,p)}return i.$$set=z=>{"data"in z&&t(0,d=z.data),"isConnectable"in z&&t(1,_=z.isConnectable),"selected"in z&&t(2,g=z.selected),"id"in z&&t(17,b=z.id)},i.$$.update=()=>{i.$$.dirty[0]&393232&&t(5,B=(t(18,f=u.toHandle)===null||f===void 0?void 0:f.nodeId)==b),i.$$.dirty[0]&655369&&t(9,n=(d==null?void 0:d.label)||((l==null?void 0:l.id)==b?t(19,h=l==null?void 0:l.data)===null||h===void 0?void 0:h.label:"")||"< label >"),i.$$.dirty[0]&1179657&&t(8,r=(d==null?void 0:d.user_properties)||((l==null?void 0:l.id)==b?t(20,v=l==null?void 0:l.data)===null||v===void 0?void 0:v.user_properties:"")||"< Property >"),i.$$.dirty[0]&2228233&&t(7,s=(d==null?void 0:d.user_properties)||((l==null?void 0:l.id)==b?t(21,p=l==null?void 0:l.data)===null||p===void 0?void 0:p.user_properties:"")||"< Value >")},[d,_,g,l,u,B,S,s,r,n,D,O,y,N,T,q,F,b,f,h,v,p,j,A,L,k,R,K]}class KR extends Gt{constructor(e){super(),Xt(this,e,YR,QR,Et,{data:0,isConnectable:1,selected:2,id:17},null,[-1,-1])}}function Rm(i,e,t){const n=i.slice();return n[30]=e[t],n[31]=e,n[32]=t,n}function Pm(i){let e,t;return e=new Zt({props:{type:"target",class:"customHandle",position:xt.Left,id:"target",style:i[15](),isConnectableStart:!1,isConnectable:i[1]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[0]&2&&(s.isConnectable=n[1]),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function Fm(i){let e=i[6],t,n,r=Om(i);return{c(){r.c(),t=$e()},l(s){r.l(s),t=$e()},m(s,a){r.m(s,a),I(s,t,a),n=!0},p(s,a){a[0]&64&&Et(e,e=s[6])?(It(),me(r,1,1,at),Rt(),r=Om(s),r.c(),he(r,1),r.m(t.parentNode,t)):r.p(s,a)},i(s){n||(he(r),n=!0)},o(s){me(r),n=!1},d(s){s&&w(t),r.d(s)}}}function Om(i){let e,t,n,r,s,a,l,u;return e=new Zt({props:{type:"source",position:xt.Top,id:"source",style:i[16](),isConnectable:i[1]}}),n=new Zt({props:{type:"source",position:xt.Left,id:"source",style:i[16](),isConnectable:i[1]}}),s=new Zt({props:{type:"source",position:xt.Right,id:"source",style:i[16](),isConnectable:i[1]}}),l=new Zt({props:{type:"source",position:xt.Bottom,id:"source",style:i[16](),isConnectable:i[1]}}),{c(){Xe(e.$$.fragment),t=ve(),Xe(n.$$.fragment),r=ve(),Xe(s.$$.fragment),a=ve(),Xe(l.$$.fragment)},l(f){We(e.$$.fragment,f),t=ge(f),We(n.$$.fragment,f),r=ge(f),We(s.$$.fragment,f),a=ge(f),We(l.$$.fragment,f)},m(f,h){Qe(e,f,h),I(f,t,h),Qe(n,f,h),I(f,r,h),Qe(s,f,h),I(f,a,h),Qe(l,f,h),u=!0},p(f,h){const v={};h[0]&2&&(v.isConnectable=f[1]),e.$set(v);const p={};h[0]&2&&(p.isConnectable=f[1]),n.$set(p);const d={};h[0]&2&&(d.isConnectable=f[1]),s.$set(d);const _={};h[0]&2&&(_.isConnectable=f[1]),l.$set(_)},i(f){u||(he(e.$$.fragment,f),he(n.$$.fragment,f),he(s.$$.fragment,f),he(l.$$.fragment,f),u=!0)},o(f){me(e.$$.fragment,f),me(n.$$.fragment,f),me(s.$$.fragment,f),me(l.$$.fragment,f),u=!1},d(f){f&&(w(t),w(r),w(a)),Ye(e,f),Ye(n,f),Ye(s,f),Ye(l,f)}}}function Lm(i){let e,t=lt(i[0].user_properties),n=[];for(let r=0;r<t.length;r+=1)n[r]=Bm(Rm(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=$e()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&401){t=lt(r[0].user_properties);let a;for(a=0;a<t.length;a+=1){const l=Rm(r,t,a);n[a]?n[a].p(l,s):(n[a]=Bm(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),rr(n,r)}}}function Bm(i){let e,t,n,r,s,a,l,u,f;function h(..._){return i[24](i[32],..._)}function v(){i[25].call(n,i[32])}function p(..._){return i[26](i[32],..._)}function d(){i[27].call(a,i[32])}return{c(){e=ae("div"),t=ae("div"),n=ae("input"),r=ve(),s=ae("div"),a=ae("input"),l=ve(),this.h()},l(_){e=se(_,"DIV",{class:!0});var g=Be(e);t=se(g,"DIV",{class:!0});var b=Be(t);n=se(b,"INPUT",{placeholder:!0}),b.forEach(w),r=ge(g),s=se(g,"DIV",{class:!0});var D=Be(s);a=se(D,"INPUT",{placeholder:!0}),D.forEach(w),l=ge(g),g.forEach(w),this.h()},h(){ue(n,"placeholder","property"),ue(t,"class","user-property flex-column"),ue(a,"placeholder","value"),ue(s,"class","user-value flex-column flex-grow-3"),ue(e,"class","user-properties flex")},m(_,g){I(_,e,g),$(e,t),$(t,n),gt(n,i[8][i[32]][0]),$(e,r),$(e,s),$(s,a),gt(a,i[7][i[32]][1]),$(e,l),u||(f=[Ie(n,"input",h),Ie(n,"input",v),Ie(a,"input",p),Ie(a,"input",d)],u=!0)},p(_,g){i=_,g[0]&256&&n.value!==i[8][i[32]][0]&&gt(n,i[8][i[32]][0]),g[0]&128&&a.value!==i[7][i[32]][1]&&gt(a,i[7][i[32]][1])},d(_){_&&w(e),u=!1,Ht(f)}}}function JR(i){let e=i[3].inProgress,t,n,r,s,a,l="Agent",u,f,h,v,p,d,_,g,b,D="+",B,S,O,y=Pm(i),N=!i[5]&&Fm(i);h=new Ga({props:{isVisible:i[2]}});let T=i[0].user_properties&&Lm(i);return{c(){y.c(),t=ve(),n=ae("div"),N&&N.c(),r=ve(),s=ae("div"),a=ae("i"),a.textContent=l,u=ae("br"),f=ve(),Xe(h.$$.fragment),v=ve(),p=ae("input"),d=ae("br"),_=ve(),T&&T.c(),g=ve(),b=ae("button"),b.textContent=D,this.h()},l(q){y.l(q),t=ge(q),n=se(q,"DIV",{class:!0});var F=Be(n);N&&N.l(F),r=ge(F),s=se(F,"DIV",{class:!0});var j=Be(s);a=se(j,"I",{"data-svelte-h":!0}),vt(a)!=="svelte-13s1fb"&&(a.textContent=l),u=se(j,"BR",{}),f=ge(j),We(h.$$.fragment,j),v=ge(j),p=se(j,"INPUT",{class:!0,type:!0,style:!0}),d=se(j,"BR",{}),_=ge(j),T&&T.l(j),g=ge(j),b=se(j,"BUTTON",{"data-svelte-h":!0}),vt(b)!=="svelte-y9choq"&&(b.textContent=D),j.forEach(w),F.forEach(w),this.h()},h(){ue(p,"class","nodrag label"),ue(p,"type","text"),$t(p,"background","#f0e6e6"),ue(s,"class","agent-inner node-inner"),ue(n,"class","agent node svelte-n06ybh")},m(q,F){y.m(q,F),I(q,t,F),I(q,n,F),N&&N.m(n,null),$(n,r),$(n,s),$(s,a),$(s,u),$(s,f),Qe(h,s,null),$(s,v),$(s,p),gt(p,i[9]),$(s,d),$(s,_),T&&T.m(s,null),$(s,g),$(s,b),B=!0,S||(O=[Ie(p,"input",i[22]),Ie(p,"input",i[23]),Ie(b,"click",i[10]),Ie(n,"click",i[11]),Ie(n,"mouseenter",i[13]),Ie(n,"mouseleave",i[14])],S=!0)},p(q,F){F[0]&8&&Et(e,e=q[3].inProgress)?(It(),me(y,1,1,at),Rt(),y=Pm(q),y.c(),he(y,1),y.m(t.parentNode,t)):y.p(q,F),q[5]?N&&(It(),me(N,1,1,()=>{N=null}),Rt()):N?(N.p(q,F),F[0]&32&&he(N,1)):(N=Fm(q),N.c(),he(N,1),N.m(n,r));const j={};F[0]&4&&(j.isVisible=q[2]),h.$set(j),F[0]&512&&p.value!==q[9]&&gt(p,q[9]),q[0].user_properties?T?T.p(q,F):(T=Lm(q),T.c(),T.m(s,g)):T&&(T.d(1),T=null)},i(q){B||(he(y),he(N),he(h.$$.fragment,q),B=!0)},o(q){me(y),me(N),me(h.$$.fragment,q),B=!1},d(q){q&&(w(t),w(n)),y.d(q),N&&N.d(),Ye(h),T&&T.d(),S=!1,Ht(O)}}}function ZR(i,e,t){let n,r,s,a,l,u;yt(i,jn,z=>t(28,l=z)),yt(i,Pt,z=>t(4,u=z));var f,h,v,p;let{data:d}=e,{isConnectable:_}=e,{selected:g=void 0}=e,{id:b}=e;function D(){B(),d.user_properties.push(["",""])}function B(){for(let z=0;z<l.length;z++)l[z].data==d&&Vt(Pt,u=l[z],u)}const S=ma();yt(i,S,z=>t(3,a=z));let O=!1,y=!1;function N(){t(6,y=!0)}function T(){t(6,y=!1)}function q(){return a.inProgress?"z-index: 999;":"z-index: -2; pointer-events: none;"}function F(){return y?"z-index: 2;":"visibility:hidden; pointer-events: none;"}const j=z=>{t(0,d.label=z.currentTarget.value,d),Vt(Pt,u.data.label=d.label,u)};function A(){n=this.value,t(9,n),t(0,d),t(4,u),t(17,b),t(18,f)}const L=(z,fe)=>{t(0,d.user_properties[z][0]=fe.currentTarget.value,d),Vt(Pt,u.data.user_properties[z][0]=fe.currentTarget.value,u)};function k(z){r[z][0]=this.value,t(8,r),t(0,d),t(4,u),t(17,b),t(19,h)}const R=(z,fe)=>{t(0,d.user_properties[z][1]=fe.currentTarget.value,d),Vt(Pt,u.data.user_properties[z][1]=fe.currentTarget.value,u)};function K(z){s[z][1]=this.value,t(7,s),t(0,d),t(4,u),t(17,b),t(20,v)}return i.$$set=z=>{"data"in z&&t(0,d=z.data),"isConnectable"in z&&t(1,_=z.isConnectable),"selected"in z&&t(2,g=z.selected),"id"in z&&t(17,b=z.id)},i.$$.update=()=>{i.$$.dirty[0]&393233&&t(9,n=(d==null?void 0:d.label)||((u==null?void 0:u.id)==b?t(18,f=u==null?void 0:u.data)===null||f===void 0?void 0:f.label:"")||"< label >"),i.$$.dirty[0]&655377&&t(8,r=(d==null?void 0:d.user_properties)||((u==null?void 0:u.id)==b?t(19,h=u==null?void 0:u.data)===null||h===void 0?void 0:h.user_properties:"")||"< Property >"),i.$$.dirty[0]&1179665&&t(7,s=(d==null?void 0:d.user_properties)||((u==null?void 0:u.id)==b?t(20,v=u==null?void 0:u.data)===null||v===void 0?void 0:v.user_properties:"")||"< Value >"),i.$$.dirty[0]&2228232&&t(5,O=(t(21,p=a.toHandle)===null||p===void 0?void 0:p.nodeId)==b)},[d,_,g,a,u,O,y,s,r,n,D,B,S,N,T,q,F,b,f,h,v,p,j,A,L,k,R,K]}class eP extends Gt{constructor(e){super(),Xt(this,e,ZR,JR,Et,{data:0,isConnectable:1,selected:2,id:17},null,[-1,-1])}}function Um(i,e,t){const n=i.slice();return n[31]=e[t],n[32]=e,n[33]=t,n}function Mm(i){let e,t;return e=new Zt({props:{type:"target",class:"customHandle",position:xt.Left,id:"target",style:i[17](),isConnectableStart:!1,isConnectable:i[1]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[0]&2&&(s.isConnectable=n[1]),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function qm(i){let e=i[8],t,n,r=jm(i);return{c(){r.c(),t=$e()},l(s){r.l(s),t=$e()},m(s,a){r.m(s,a),I(s,t,a),n=!0},p(s,a){a[0]&256&&Et(e,e=s[8])?(It(),me(r,1,1,at),Rt(),r=jm(s),r.c(),he(r,1),r.m(t.parentNode,t)):r.p(s,a)},i(s){n||(he(r),n=!0)},o(s){me(r),n=!1},d(s){s&&w(t),r.d(s)}}}function jm(i){let e,t,n,r,s,a,l,u;return e=new Zt({props:{type:"source",position:xt.Top,id:"source",style:i[18](),isConnectable:i[1]}}),n=new Zt({props:{type:"source",position:xt.Left,id:"source",style:i[18](),isConnectable:i[1]}}),s=new Zt({props:{type:"source",position:xt.Right,id:"source",style:i[18](),isConnectable:i[1]}}),l=new Zt({props:{type:"source",position:xt.Bottom,id:"source",style:i[18](),isConnectable:i[1]}}),{c(){Xe(e.$$.fragment),t=ve(),Xe(n.$$.fragment),r=ve(),Xe(s.$$.fragment),a=ve(),Xe(l.$$.fragment)},l(f){We(e.$$.fragment,f),t=ge(f),We(n.$$.fragment,f),r=ge(f),We(s.$$.fragment,f),a=ge(f),We(l.$$.fragment,f)},m(f,h){Qe(e,f,h),I(f,t,h),Qe(n,f,h),I(f,r,h),Qe(s,f,h),I(f,a,h),Qe(l,f,h),u=!0},p(f,h){const v={};h[0]&2&&(v.isConnectable=f[1]),e.$set(v);const p={};h[0]&2&&(p.isConnectable=f[1]),n.$set(p);const d={};h[0]&2&&(d.isConnectable=f[1]),s.$set(d);const _={};h[0]&2&&(_.isConnectable=f[1]),l.$set(_)},i(f){u||(he(e.$$.fragment,f),he(n.$$.fragment,f),he(s.$$.fragment,f),he(l.$$.fragment,f),u=!0)},o(f){me(e.$$.fragment,f),me(n.$$.fragment,f),me(s.$$.fragment,f),me(l.$$.fragment,f),u=!1},d(f){f&&(w(t),w(r),w(a)),Ye(e,f),Ye(n,f),Ye(s,f),Ye(l,f)}}}function tP(i){let e,t;return e=new i[34].ItemTactic({props:{list:d1,filter_value_store:i[35],select_item:i[36]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[1]&16&&(s.filter_value_store=n[35]),r[1]&32&&(s.select_item=n[36]),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function xm(i){let e,t=lt(i[0].user_properties),n=[];for(let r=0;r<t.length;r+=1)n[r]=zm(Um(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=$e()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&1601){t=lt(r[0].user_properties);let a;for(a=0;a<t.length;a+=1){const l=Um(r,t,a);n[a]?n[a].p(l,s):(n[a]=zm(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),rr(n,r)}}}function zm(i){let e,t,n,r,s,a,l,u,f;function h(..._){return i[26](i[33],..._)}function v(){i[27].call(n,i[33])}function p(..._){return i[28](i[33],..._)}function d(){i[29].call(a,i[33])}return{c(){e=ae("div"),t=ae("div"),n=ae("input"),r=ve(),s=ae("div"),a=ae("input"),l=ve(),this.h()},l(_){e=se(_,"DIV",{class:!0});var g=Be(e);t=se(g,"DIV",{class:!0});var b=Be(t);n=se(b,"INPUT",{placeholder:!0}),b.forEach(w),r=ge(g),s=se(g,"DIV",{class:!0});var D=Be(s);a=se(D,"INPUT",{placeholder:!0}),D.forEach(w),l=ge(g),g.forEach(w),this.h()},h(){ue(n,"placeholder","property"),ue(t,"class","user-property flex-column"),ue(a,"placeholder","value"),ue(s,"class","user-value flex-column flex-grow-3"),ue(e,"class","user-properties flex")},m(_,g){I(_,e,g),$(e,t),$(t,n),gt(n,i[10][i[33]][0]),$(e,r),$(e,s),$(s,a),gt(a,i[9][i[33]][1]),$(e,l),u||(f=[Ie(n,"input",h),Ie(n,"input",v),Ie(a,"input",p),Ie(a,"input",d)],u=!0)},p(_,g){i=_,g[0]&1024&&n.value!==i[10][i[33]][0]&&gt(n,i[10][i[33]][0]),g[0]&512&&a.value!==i[9][i[33]][1]&&gt(a,i[9][i[33]][1])},d(_){_&&w(e),u=!1,Ht(f)}}}function rP(i){let e=i[5].inProgress,t,n,r,s,a,l,u,f,h,v,p,d,_,g,b,D,B,S,O="+",y,N,T,q=Mm(i),F=!i[7]&&qm(i);a=new Ga({props:{isVisible:i[4]}}),_=new Ps({props:{node_id:i[2],element_id:i[0].d3f_class,input_color:"white",$$slots:{default:[tP,({R:A,filter_value_store:L,select_item:k})=>({34:A,35:L,36:k}),({R:A,filter_value_store:L,select_item:k})=>[0,(A?8:0)|(L?16:0)|(k?32:0)]]},$$scope:{ctx:i}}});let j=i[0].user_properties&&xm(i);return{c(){q.c(),t=ve(),n=ae("div"),F&&F.c(),r=ve(),s=ae("div"),Xe(a.$$.fragment),l=ve(),u=ae("i"),f=V(i[3]),h=ae("br"),v=ve(),p=ae("br"),d=ve(),Xe(_.$$.fragment),g=ve(),b=ae("input"),D=ve(),j&&j.c(),B=ve(),S=ae("button"),S.textContent=O,this.h()},l(A){q.l(A),t=ge(A),n=se(A,"DIV",{class:!0});var L=Be(n);F&&F.l(L),r=ge(L),s=se(L,"DIV",{class:!0});var k=Be(s);We(a.$$.fragment,k),l=ge(k),u=se(k,"I",{});var R=Be(u);f=H(R,i[3]),R.forEach(w),h=se(k,"BR",{}),v=ge(k),p=se(k,"BR",{}),d=ge(k),We(_.$$.fragment,k),g=ge(k),b=se(k,"INPUT",{class:!0,type:!0,style:!0}),D=ge(k),j&&j.l(k),B=ge(k),S=se(k,"BUTTON",{"data-svelte-h":!0}),vt(S)!=="svelte-y9choq"&&(S.textContent=O),k.forEach(w),L.forEach(w),this.h()},h(){ue(b,"class","nodrag label"),ue(b,"type","text"),$t(b,"background","white"),ue(s,"class","event node-inner svelte-r7gabh"),ue(n,"class","event node svelte-r7gabh")},m(A,L){q.m(A,L),I(A,t,L),I(A,n,L),F&&F.m(n,null),$(n,r),$(n,s),Qe(a,s,null),$(s,l),$(s,u),$(u,f),$(s,h),$(s,v),$(s,p),$(s,d),Qe(_,s,null),$(s,g),$(s,b),gt(b,i[11]),$(s,D),j&&j.m(s,null),$(s,B),$(s,S),y=!0,N||(T=[Ie(b,"input",i[24]),Ie(b,"input",i[25]),Ie(S,"click",i[12]),Ie(n,"click",i[13]),Ie(n,"mouseenter",i[15]),Ie(n,"mouseleave",i[16])],N=!0)},p(A,L){L[0]&32&&Et(e,e=A[5].inProgress)?(It(),me(q,1,1,at),Rt(),q=Mm(A),q.c(),he(q,1),q.m(t.parentNode,t)):q.p(A,L),A[7]?F&&(It(),me(F,1,1,()=>{F=null}),Rt()):F?(F.p(A,L),L[0]&128&&he(F,1)):(F=qm(A),F.c(),he(F,1),F.m(n,r));const k={};L[0]&16&&(k.isVisible=A[4]),a.$set(k),(!y||L[0]&8)&&Ne(f,A[3]);const R={};L[0]&4&&(R.node_id=A[2]),L[0]&1&&(R.element_id=A[0].d3f_class),L[1]&112&&(R.$$scope={dirty:L,ctx:A}),_.$set(R),L[0]&2048&&b.value!==A[11]&&gt(b,A[11]),A[0].user_properties?j?j.p(A,L):(j=xm(A),j.c(),j.m(s,B)):j&&(j.d(1),j=null)},i(A){y||(he(q),he(F),he(a.$$.fragment,A),he(_.$$.fragment,A),y=!0)},o(A){me(q),me(F),me(a.$$.fragment,A),me(_.$$.fragment,A),y=!1},d(A){A&&(w(t),w(n)),q.d(A),F&&F.d(),Ye(a),Ye(_),j&&j.d(),N=!1,Ht(T)}}}function nP(i,e,t){let n,r,s,a,l,u;yt(i,jn,re=>t(30,l=re)),yt(i,Pt,re=>t(6,u=re));var f,h,v,p;let{data:d}=e,{isConnectable:_}=e,{id:g}=e,{nodeType:b="EventNode"}=e,{nodeTypeLabel:D="Event"}=e,{selected:B=void 0}=e;function S(){O(),d.user_properties.push(["",""])}function O(){for(let re=0;re<l.length;re++)l[re].data==d&&Vt(Pt,u=l[re],u)}const y=ma();yt(i,y,re=>t(5,a=re));let N=!1,T=!1;function q(){t(8,T=!0)}function F(){t(8,T=!1)}function j(){return a.inProgress?"z-index: 999;":"z-index: -2; pointer-events: none;"}function A(){return T?"z-index: 2;":"visibility:hidden; pointer-events: none;"}const L=re=>{t(0,d.label=re.currentTarget.value,d),Vt(Pt,u.data.label=d.label,u)};function k(){n=this.value,t(11,n),t(0,d),t(6,u),t(2,g),t(20,f)}const R=(re,te)=>{t(0,d.user_properties[re][0]=te.currentTarget.value,d),Vt(Pt,u.data.user_properties[re][0]=te.currentTarget.value,u)};function K(re){r[re][0]=this.value,t(10,r),t(0,d),t(6,u),t(2,g),t(21,h)}const z=(re,te)=>{t(0,d.user_properties[re][1]=te.currentTarget.value,d),Vt(Pt,u.data.user_properties[re][1]=te.currentTarget.value,u)};function fe(re){s[re][1]=this.value,t(9,s),t(0,d),t(6,u),t(2,g),t(22,v)}return i.$$set=re=>{"data"in re&&t(0,d=re.data),"isConnectable"in re&&t(1,_=re.isConnectable),"id"in re&&t(2,g=re.id),"nodeType"in re&&t(19,b=re.nodeType),"nodeTypeLabel"in re&&t(3,D=re.nodeTypeLabel),"selected"in re&&t(4,B=re.selected)},i.$$.update=()=>{i.$$.dirty[0]&1048645&&t(11,n=(d==null?void 0:d.label)||((u==null?void 0:u.id)==g?t(20,f=u==null?void 0:u.data)===null||f===void 0?void 0:f.label:"")||"< label >"),i.$$.dirty[0]&2097221&&t(10,r=(d==null?void 0:d.user_properties)||((u==null?void 0:u.id)==g?t(21,h=u==null?void 0:u.data)===null||h===void 0?void 0:h.user_properties:"")||"< Property >"),i.$$.dirty[0]&4194373&&t(9,s=(d==null?void 0:d.user_properties)||((u==null?void 0:u.id)==g?t(22,v=u==null?void 0:u.data)===null||v===void 0?void 0:v.user_properties:"")||"< Value >"),i.$$.dirty[0]&8388644&&t(7,N=(t(23,p=a.toHandle)===null||p===void 0?void 0:p.nodeId)==g)},[d,_,g,D,B,a,u,N,T,s,r,n,S,O,y,q,F,j,A,b,f,h,v,p,L,k,R,K,z,fe]}class iP extends Gt{constructor(e){super(),Xt(this,e,nP,rP,Et,{data:0,isConnectable:1,id:2,nodeType:19,nodeTypeLabel:3,selected:4},null,[-1,-1])}}function Vm(i,e){const t=i.internals.positionAbsolute||{x:0,y:0},n=e.internals.positionAbsolute||{x:0,y:0},r=(i.measured.width??0)/2,s=(i.measured.height??0)/2,a=t.x+r,l=t.y+s,u=n.x+(e.measured.width??0)/2,f=n.y+(e.measured.height??0)/2,h=(u-a)/(2*r)-(f-l)/(2*s),v=(u-a)/(2*r)+(f-l)/(2*s),p=1/(Math.abs(h)+Math.abs(v)),d=p*h,_=p*v,g=r*(d+_)+a,b=s*(-d+_)+l;return{x:g,y:b}}function Hm(i,e){var a,l;if(!i.measured.width||!i.measured.height)return null;const t=Math.round(((a=i.internals.positionAbsolute)==null?void 0:a.x)??0),n=Math.round(((l=i.internals.positionAbsolute)==null?void 0:l.y)??0),r=Math.round(e.x),s=Math.round(e.y);return r<=t+1?xt.Left:r>=t+i.measured.width-1?xt.Right:s<=n+1?xt.Top:s>=n+i.measured.height-1?xt.Bottom:xt.Top}function Kh(i,e){const t=Vm(i,e),n=Vm(e,i),r=Hm(i,t),s=Hm(e,n);return{sx:t.x,sy:t.y,tx:n.x,ty:n.y,sourcePos:r,targetPos:s}}function aP(i){let e,t;return e=new i[19].ItemProperty({props:{list:_1,filter_value_store:i[20],select_item:i[21]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r&1048576&&(s.filter_value_store=n[20]),r&2097152&&(s.select_item=n[21]),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function sP(i){let e,t,n=`translate(-50%, -50%) translate(${i[5]}px,${i[6]}px)`,r;return t=new Ps({props:{node_id:i[0],element_id:i[1].label,input_color:"#ffffff00",place_holder:String(i[1].label),flow_store_hook:Ri,data_save_key:"d3f_property",$$slots:{default:[aP,({R:s,filter_value_store:a,select_item:l})=>({19:s,20:a,21:l}),({R:s,filter_value_store:a,select_item:l})=>(s?524288:0)|(a?1048576:0)|(l?2097152:0)]},$$scope:{ctx:i}}}),{c(){e=ae("div"),Xe(t.$$.fragment),this.h()},l(s){e=se(s,"DIV",{class:!0});var a=Be(e);We(t.$$.fragment,a),a.forEach(w),this.h()},h(){ue(e,"class","edge-label-container svelte-566npr"),$t(e,"transform",n)},m(s,a){I(s,e,a),Qe(t,e,null),r=!0},p(s,a){const l={};a&1&&(l.node_id=s[0]),a&2&&(l.element_id=s[1].label),a&2&&(l.place_holder=String(s[1].label)),a&7340032&&(l.$$scope={dirty:a,ctx:s}),t.$set(l),a&96&&n!==(n=`translate(-50%, -50%) translate(${s[5]}px,${s[6]}px)`)&&$t(e,"transform",n)},i(s){r||(he(t.$$.fragment,s),r=!0)},o(s){me(t.$$.fragment,s),r=!1},d(s){s&&w(e),Ye(t)}}}function lP(i){let e,t,n,r;return e=new MA({props:{path:i[4],markerEnd:i[2],style:i[3]}}),n=new qA({props:{$$slots:{default:[sP]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment),t=ve(),Xe(n.$$.fragment)},l(s){We(e.$$.fragment,s),t=ge(s),We(n.$$.fragment,s)},m(s,a){Qe(e,s,a),I(s,t,a),Qe(n,s,a),r=!0},p(s,[a]){const l={};a&16&&(l.path=s[4]),a&4&&(l.markerEnd=s[2]),a&8&&(l.style=s[3]),e.$set(l);const u={};a&4194403&&(u.$$scope={dirty:a,ctx:s}),n.$set(u)},i(s){r||(he(e.$$.fragment,s),he(n.$$.fragment,s),r=!0)},o(s){me(e.$$.fragment,s),me(n.$$.fragment,s),r=!1},d(s){s&&w(t),Ye(e,s),Ye(n,s)}}}function oP(i,e,t){let n,r,s,a=at,l=()=>(a(),a=bi(r,j=>t(17,s=j)),r),u,f=at,h=()=>(f(),f=bi(n,j=>t(18,u=j)),n);i.$$.on_destroy.push(()=>a()),i.$$.on_destroy.push(()=>f());let{id:v}=e,{data:p}=e,{sourceX:d}=e,{sourceY:_}=e,{source:g}=e,{sourcePosition:b}=e,{targetX:D}=e,{targetY:B}=e,{target:S}=e,{targetPosition:O}=e,{markerEnd:y=s1.ArrowClosed}=e,{style:N="stroke-width: 2px"}=e,T,q,F;return i.$$set=j=>{"id"in j&&t(0,v=j.id),"data"in j&&t(1,p=j.data),"sourceX"in j&&t(9,d=j.sourceX),"sourceY"in j&&t(10,_=j.sourceY),"source"in j&&t(11,g=j.source),"sourcePosition"in j&&t(12,b=j.sourcePosition),"targetX"in j&&t(13,D=j.targetX),"targetY"in j&&t(14,B=j.targetY),"target"in j&&t(15,S=j.target),"targetPosition"in j&&t(16,O=j.targetPosition),"markerEnd"in j&&t(2,y=j.markerEnd),"style"in j&&t(3,N=j.style)},i.$$.update=()=>{if(i.$$.dirty&2048&&h(t(8,n=M_(g))),i.$$.dirty&32768&&l(t(7,r=M_(S))),i.$$.dirty&393216)if(u&&s){const j=Kh(u,s);t(4,[T,q,F]=Sh({sourceX:j.sx,sourceY:j.sy,sourcePosition:j.sourcePos,targetX:j.tx,targetY:j.ty,targetPosition:j.targetPos}),T,(t(5,q),t(18,u),t(17,s)),(t(6,F),t(18,u),t(17,s)))}else t(4,T=void 0)},[v,p,y,N,T,q,F,r,n,d,_,g,b,D,B,S,O,s,u]}class uP extends Gt{constructor(e){super(),Xt(this,e,oP,lP,Et,{id:0,data:1,sourceX:9,sourceY:10,source:11,sourcePosition:12,targetX:13,targetY:14,target:15,targetPosition:16,markerEnd:2,style:3})}}function $m(i,e,t){const n=i.slice();return n[7]=e[t],n}function Gm(i){let e,t=lt(i[2]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Xm($m(i,t,r));return{c(){e=ae("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=se(r,"DIV",{class:!0});var s=Be(e);for(let a=0;a<n.length;a+=1)n[a].l(s);s.forEach(w),this.h()},h(){ue(e,"class","file-list svelte-9u10j")},m(r,s){I(r,e,s);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null)},p(r,s){if(s&20){t=lt(r[2]);let a;for(a=0;a<t.length;a+=1){const l=$m(r,t,a);n[a]?n[a].p(l,s):(n[a]=Xm(l),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),rr(n,r)}}}function Xm(i){let e,t=i[7].name+"",n,r,s=i[7].nodeCount+"",a,l,u=i[7].edgeCount+"",f,h,v,p;function d(){return i[5](i[7])}return{c(){e=ae("div"),n=V(t),r=V(" ("),a=V(s),l=V(" nodes, "),f=V(u),h=V(` edges)
          `),this.h()},l(_){e=se(_,"DIV",{class:!0});var g=Be(e);n=H(g,t),r=H(g," ("),a=H(g,s),l=H(g," nodes, "),f=H(g,u),h=H(g,` edges)
          `),g.forEach(w),this.h()},h(){ue(e,"class","file-item svelte-9u10j")},m(_,g){I(_,e,g),$(e,n),$(e,r),$(e,a),$(e,l),$(e,f),$(e,h),v||(p=Ie(e,"click",d),v=!0)},p(_,g){i=_,g&4&&t!==(t=i[7].name+"")&&Ne(n,t),g&4&&s!==(s=i[7].nodeCount+"")&&Ne(a,s),g&4&&u!==(u=i[7].edgeCount+"")&&Ne(f,u)},d(_){_&&w(e),v=!1,p()}}}function fP(i){let e,t,n,r,s,a,l=i[1]&&Gm(i);return{c(){e=ae("div"),t=ae("button"),n=V(i[0]),r=ve(),l&&l.c(),this.h()},l(u){e=se(u,"DIV",{class:!0});var f=Be(e);t=se(f,"BUTTON",{class:!0});var h=Be(t);n=H(h,i[0]),h.forEach(w),r=ge(f),l&&l.l(f),f.forEach(w),this.h()},h(){ue(t,"class","svelte-9u10j"),ue(e,"class","pick-list-container svelte-9u10j")},m(u,f){I(u,e,f),$(e,t),$(t,n),$(e,r),l&&l.m(e,null),s||(a=Ie(t,"click",i[3]),s=!0)},p(u,[f]){f&1&&Ne(n,u[0]),u[1]?l?l.p(u,f):(l=Gm(u),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:at,o:at,d(u){u&&w(e),l&&l.d(),s=!1,a()}}}async function cP(){return await(await fetch("/cad/examples.json")).json()}function hP(i,e,t){const n=Tf();let r=!1,{selectedFile:s="Example Graphs"}=e,a=[];function l(){t(1,r=!r)}function u(h){t(0,s=h),t(1,r=!1),n("fileSelected",h)}Cf(async()=>{t(2,a=await cP())});const f=h=>u(h.name);return i.$$set=h=>{"selectedFile"in h&&t(0,s=h.selectedFile)},[s,r,a,l,u,f]}class dP extends Gt{constructor(e){super(),Xt(this,e,hP,fP,Et,{selectedFile:0})}}function Wm(i){let e,t,n,r,s;return{c(){e=__("path"),t=ve(),n=__("circle"),this.h()},l(a){e=v_(a,"path",{fill:!0,"stroke-width":!0,class:!0,stroke:!0,d:!0}),Be(e).forEach(w),t=ge(a),n=v_(a,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0}),Be(n).forEach(w),this.h()},h(){ue(e,"fill","transparent"),ue(e,"stroke-width",2.5),ue(e,"class","animated"),ue(e,"stroke","black"),ue(e,"d",i[2]),ue(n,"cx",r=i[0].tx),ue(n,"cy",s=i[0].ty),ue(n,"r",3),ue(n,"stroke","black"),ue(n,"stroke-width",1.5)},m(a,l){I(a,e,l),I(a,t,l),I(a,n,l)},p(a,l){l&4&&ue(e,"d",a[2]),l&1&&r!==(r=a[0].tx)&&ue(n,"cx",r),l&1&&s!==(s=a[0].ty)&&ue(n,"cy",s)},d(a){a&&(w(e),w(t),w(n))}}}function pP(i){let e,t=i[1].inProgress&&Wm(i);return{c(){t&&t.c(),e=$e()},l(n){t&&t.l(n),e=$e()},m(n,r){t&&t.m(n,r),I(n,e,r)},p(n,[r]){n[1].inProgress?t?t.p(n,r):(t=Wm(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:at,o:at,d(n){n&&w(e),t&&t.d(n)}}}function _P(i,e,t){let n;const r=ma();yt(i,r,l=>t(1,n=l));let s,a;return i.$$.update=()=>{if(i.$$.dirty&3){const l=structuredClone(n.fromNode);n.isValid?(t(0,a=Kh(n.fromNode,n.toNode)),t(2,s=Sh({sourceX:a.sx,sourceY:a.sy,sourcePosition:a.sourcePos,targetX:a.tx,targetY:a.ty,targetPosition:a.targetPos})[0])):(l.id="-1",l.measured={width:1,height:1},l.position={x:n.to.x,y:n.to.y},l.internals.positionAbsolute={x:n.to.x,y:n.to.y},t(0,a=Kh(n.fromNode,l)),t(2,s=Sh({sourceX:a.sx,sourceY:a.sy,sourcePosition:a.sourcePos,targetX:a.tx,targetY:a.ty,targetPosition:a.targetPos})[0]))}},[a,n,s,r]}class vP extends Gt{constructor(e){super(),Xt(this,e,_P,pP,Et,{})}}function Qm(i,e,t){const n=i.slice();return n[11]=e[t],n}function Ym(i){let e,t,n,r,s,a,l,u,f,h,v,p,d;const _=i[7].default,g=Dr(_,i,i[6],null);let b=lt(i[3]),D=[];for(let B=0;B<b.length;B+=1)D[B]=Km(Qm(i,b,B));return{c(){e=ae("div"),t=ae("div"),n=ae("h2"),r=V(i[1]),s=ve(),a=ae("p"),l=V(i[2]),u=ve(),g&&g.c(),f=ve(),h=ae("div");for(let B=0;B<D.length;B+=1)D[B].c();this.h()},l(B){e=se(B,"DIV",{class:!0});var S=Be(e);t=se(S,"DIV",{class:!0});var O=Be(t);n=se(O,"H2",{});var y=Be(n);r=H(y,i[1]),y.forEach(w),s=ge(O),a=se(O,"P",{});var N=Be(a);l=H(N,i[2]),N.forEach(w),u=ge(O),g&&g.l(O),f=ge(O),h=se(O,"DIV",{class:!0});var T=Be(h);for(let q=0;q<D.length;q+=1)D[q].l(T);T.forEach(w),O.forEach(w),S.forEach(w),this.h()},h(){ue(h,"class","options svelte-zbcx3u"),ue(t,"class","modal-content center text-center svelte-zbcx3u"),ue(e,"class","modal-overlay svelte-zbcx3u")},m(B,S){I(B,e,S),$(e,t),$(t,n),$(n,r),$(t,s),$(t,a),$(a,l),$(t,u),g&&g.m(t,null),$(t,f),$(t,h);for(let O=0;O<D.length;O+=1)D[O]&&D[O].m(h,null);v=!0,p||(d=[Ie(t,"click",Mr(i[8])),Ie(e,"click",i[4])],p=!0)},p(B,S){if((!v||S&2)&&Ne(r,B[1]),(!v||S&4)&&Ne(l,B[2]),g&&g.p&&(!v||S&64)&&Ar(g,_,B,B[6],v?Cr(_,B[6],S,null):kr(B[6]),null),S&40){b=lt(B[3]);let O;for(O=0;O<b.length;O+=1){const y=Qm(B,b,O);D[O]?D[O].p(y,S):(D[O]=Km(y),D[O].c(),D[O].m(h,null))}for(;O<D.length;O+=1)D[O].d(1);D.length=b.length}},i(B){v||(he(g,B),v=!0)},o(B){me(g,B),v=!1},d(B){B&&w(e),g&&g.d(B),rr(D,B),p=!1,Ht(d)}}}function Km(i){let e,t=i[11].label+"",n,r,s,a;function l(){return i[9](i[11])}return{c(){e=ae("button"),n=V(t),r=ve(),this.h()},l(u){e=se(u,"BUTTON",{class:!0});var f=Be(e);n=H(f,t),r=ge(f),f.forEach(w),this.h()},h(){ue(e,"class","svelte-zbcx3u")},m(u,f){I(u,e,f),$(e,n),$(e,r),s||(a=Ie(e,"click",l),s=!0)},p(u,f){i=u,f&8&&t!==(t=i[11].label+"")&&Ne(n,t)},d(u){u&&w(e),s=!1,a()}}}function gP(i){let e,t,n=i[0]&&Ym(i);return{c(){n&&n.c(),e=$e()},l(r){n&&n.l(r),e=$e()},m(r,s){n&&n.m(r,s),I(r,e,s),t=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&he(n,1)):(n=Ym(r),n.c(),he(n,1),n.m(e.parentNode,e)):n&&(It(),me(n,1,1,()=>{n=null}),Rt())},i(r){t||(he(n),t=!0)},o(r){me(n),t=!1},d(r){r&&w(e),n&&n.d(r)}}}function mP(i,e,t){let{$$slots:n={},$$scope:r}=e,{is_open:s=!1}=e,{title:a=""}=e,{content:l=""}=e,{options:u=[{label:"Cancel",value:"cancel"}]}=e;const f=Tf();function h(){t(0,s=!1)}function v(_){f("close_button_modal",_),h()}function p(_){Zn.call(this,i,_)}const d=_=>v(_);return i.$$set=_=>{"is_open"in _&&t(0,s=_.is_open),"title"in _&&t(1,a=_.title),"content"in _&&t(2,l=_.content),"options"in _&&t(3,u=_.options),"$$scope"in _&&t(6,r=_.$$scope)},[s,a,l,u,h,v,r,n,p,d]}class bP extends Gt{constructor(e){super(),Xt(this,e,mP,gP,Et,{is_open:0,title:1,content:2,options:3})}}function Jm(i,e,t){const n=i.slice();return n[62]=e[t],n[64]=t,n}function wP(i){let e,t='This is an (very) alpha-level preview release. Please review and file bugs <a href="https://github.com/d3fend/d3fend/issues/14">here. </a>Early stage <a href="./docs">docs.</a>';return{c(){e=ae("div"),e.innerHTML=t,this.h()},l(n){e=se(n,"DIV",{class:!0,"data-svelte-h":!0}),vt(e)!=="svelte-x19ykg"&&(e.innerHTML=t),this.h()},h(){ue(e,"class","font-small")},m(n,r){I(n,e,r)},p:at,d(n){n&&w(e)}}}function Zm(i){let e=i[62].message+"",t,n;return{c(){t=V(e),n=ae("br")},l(r){t=H(r,e),n=se(r,"BR",{})},m(r,s){I(r,t,s),I(r,n,s)},p(r,s){s[0]&32&&e!==(e=r[62].message+"")&&Ne(t,e)},d(r){r&&(w(t),w(n))}}}function yP(i){let e,t="<code>The tool fixed the errors needed to run but here is list of all import errors and warnings.</code>",n,r,s,a,l,u,f,h,v,p=lt(i[5]),d=[];for(let _=0;_<p.length;_+=1)d[_]=Zm(Jm(i,p,_));return{c(){e=ae("div"),e.innerHTML=t,n=ve(),r=ae("br"),s=ve(),a=ae("br"),l=ve();for(let _=0;_<d.length;_+=1)d[_].c();u=ve(),f=ae("br"),h=ve(),v=ae("br")},l(_){e=se(_,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-7el432"&&(e.innerHTML=t),n=ge(_),r=se(_,"BR",{}),s=ge(_),a=se(_,"BR",{}),l=ge(_);for(let g=0;g<d.length;g+=1)d[g].l(_);u=ge(_),f=se(_,"BR",{}),h=ge(_),v=se(_,"BR",{})},m(_,g){I(_,e,g),I(_,n,g),I(_,r,g),I(_,s,g),I(_,a,g),I(_,l,g);for(let b=0;b<d.length;b+=1)d[b]&&d[b].m(_,g);I(_,u,g),I(_,f,g),I(_,h,g),I(_,v,g)},p(_,g){if(g[0]&32){p=lt(_[5]);let b;for(b=0;b<p.length;b+=1){const D=Jm(_,p,b);d[b]?d[b].p(D,g):(d[b]=Zm(D),d[b].c(),d[b].m(u.parentNode,u))}for(;b<d.length;b+=1)d[b].d(1);d.length=p.length}},d(_){_&&(w(e),w(n),w(r),w(s),w(a),w(l),w(u),w(f),w(h),w(v)),rr(d,_)}}}function EP(i){let e;return{c(){e=V("Please only load models from URLs you trust!")},l(t){e=H(t,"Please only load models from URLs you trust!")},m(t,n){I(t,e,n)},d(t){t&&w(e)}}}function DP(i){let e,t,n,r,s,a,l,u,f,h,v;return h=new Nf({props:{$$slots:{default:[EP]},$$scope:{ctx:i}}}),{c(){e=ae("br"),t=ve(),n=ae("code"),r=V(i[4]),s=ve(),a=ae("br"),l=ve(),u=ae("br"),f=ve(),Xe(h.$$.fragment),this.h()},l(p){e=se(p,"BR",{}),t=ge(p),n=se(p,"CODE",{class:!0});var d=Be(n);r=H(d,i[4]),d.forEach(w),s=ge(p),a=se(p,"BR",{}),l=ge(p),u=se(p,"BR",{}),f=ge(p),We(h.$$.fragment,p),this.h()},h(){ue(n,"class","center text-center")},m(p,d){I(p,e,d),I(p,t,d),I(p,n,d),$(n,r),I(p,s,d),I(p,a,d),I(p,l,d),I(p,u,d),I(p,f,d),Qe(h,p,d),v=!0},p(p,d){(!v||d[0]&16)&&Ne(r,p[4]);const _={};d[2]&8&&(_.$$scope={dirty:d,ctx:p}),h.$set(_)},i(p){v||(he(h.$$.fragment,p),v=!0)},o(p){me(h.$$.fragment,p),v=!1},d(p){p&&(w(e),w(t),w(n),w(s),w(a),w(l),w(u),w(f)),Ye(h,p)}}}function AP(i){let e;return{c(){e=V("Please only load models from URLs you trust!")},l(t){e=H(t,"Please only load models from URLs you trust!")},m(t,n){I(t,e,n)},d(t){t&&w(e)}}}function kP(i){let e,t,n,r,s,a;return s=new Nf({props:{$$slots:{default:[AP]},$$scope:{ctx:i}}}),{c(){e=ae("br"),t=ve(),n=ae("br"),r=ve(),Xe(s.$$.fragment)},l(l){e=se(l,"BR",{}),t=ge(l),n=se(l,"BR",{}),r=ge(l),We(s.$$.fragment,l)},m(l,u){I(l,e,u),I(l,t,u),I(l,n,u),I(l,r,u),Qe(s,l,u),a=!0},p(l,u){const f={};u[2]&8&&(f.$$scope={dirty:u,ctx:l}),s.$set(f)},i(l){a||(he(s.$$.fragment,l),a=!0)},o(l){me(s.$$.fragment,l),a=!1},d(l){l&&(w(e),w(t),w(n),w(r)),Ye(s,l)}}}function e1(i){let e,t,n,r;return e=new Nf({props:{alert_type:"warning",$$slots:{default:[CP]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment),t=ve(),n=ae("br")},l(s){We(e.$$.fragment,s),t=ge(s),n=se(s,"BR",{})},m(s,a){Qe(e,s,a),I(s,t,a),I(s,n,a),r=!0},i(s){r||(he(e.$$.fragment,s),r=!0)},o(s){me(e.$$.fragment,s),r=!1},d(s){s&&(w(t),w(n)),Ye(e,s)}}}function CP(i){let e;return{c(){e=V("Please note this is a limited sharing capability for very small CAD models. Large models may exceed URL length limitations in browsers and messaging apps.")},l(t){e=H(t,"Please note this is a limited sharing capability for very small CAD models. Large models may exceed URL length limitations in browsers and messaging apps.")},m(t,n){I(t,e,n)},d(t){t&&w(e)}}}function TP(i){let e,t,n,r,s=i[15].length+"",a,l,u,f,h,v,p,d,_,g,b="copy",D,B,S,O=i[15].length>2048&&e1(i);return{c(){O&&O.c(),e=ve(),t=ae("div"),n=ae("code"),r=V("The encoded model has a string length of "),a=V(s),l=V(" characters."),u=ve(),f=ae("p"),h=ae("button"),v=ae("a"),p=V("Share URL"),d=ve(),_=ae("span"),g=ae("button"),g.textContent=b,this.h()},l(y){O&&O.l(y),e=ge(y),t=se(y,"DIV",{});var N=Be(t);n=se(N,"CODE",{});var T=Be(n);r=H(T,"The encoded model has a string length of "),a=H(T,s),l=H(T," characters."),T.forEach(w),N.forEach(w),u=ge(y),f=se(y,"P",{});var q=Be(f);h=se(q,"BUTTON",{class:!0});var F=Be(h);v=se(F,"A",{href:!0});var j=Be(v);p=H(j,"Share URL"),j.forEach(w),F.forEach(w),d=ge(q),_=se(q,"SPAN",{});var A=Be(_);g=se(A,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(g)!=="svelte-1uua65l"&&(g.textContent=b),A.forEach(w),q.forEach(w),this.h()},h(){ue(v,"href",i[16]),ue(h,"class","svelte-1o3ehjz"),ue(g,"class","svelte-1o3ehjz")},m(y,N){O&&O.m(y,N),I(y,e,N),I(y,t,N),$(t,n),$(n,r),$(n,a),$(n,l),I(y,u,N),I(y,f,N),$(f,h),$(h,v),$(v,p),$(f,d),$(f,_),$(_,g),D=!0,B||(S=Ie(g,"click",i[37]),B=!0)},p(y,N){y[15].length>2048?O?N[0]&32768&&he(O,1):(O=e1(y),O.c(),he(O,1),O.m(e.parentNode,e)):O&&(It(),me(O,1,1,()=>{O=null}),Rt()),(!D||N[0]&32768)&&s!==(s=y[15].length+"")&&Ne(a,s),(!D||N[0]&65536)&&ue(v,"href",y[16])},i(y){D||(he(O),D=!0)},o(y){me(O),D=!1},d(y){y&&(w(e),w(t),w(u),w(f)),O&&O.d(y),B=!1,S()}}}function t1(i){let e,t,n,r,s,a=i[6]>1&&r1();return{c(){e=ae("button"),t=V(i[6]),n=V(" import alert"),a&&a.c(),this.h()},l(l){e=se(l,"BUTTON",{class:!0});var u=Be(e);t=H(u,i[6]),n=H(u," import alert"),a&&a.l(u),u.forEach(w),this.h()},h(){ue(e,"class","svelte-1o3ehjz")},m(l,u){I(l,e,u),$(e,t),$(e,n),a&&a.m(e,null),r||(s=Ie(e,"click",i[23]),r=!0)},p(l,u){u[0]&64&&Ne(t,l[6]),l[6]>1?a||(a=r1(),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(l){l&&w(e),a&&a.d(),r=!1,s()}}}function r1(i){let e;return{c(){e=V("s")},l(t){e=H(t,"s")},m(t,n){I(t,e,n)},d(t){t&&w(e)}}}function n1(i){let e,t,n,r,s,a,l;return n=new WA({props:{display:"inline"}}),{c(){e=ae("span"),t=ae("span"),Xe(n.$$.fragment),r=ve(),s=ae("span"),a=V(i[17]),this.h()},l(u){e=se(u,"SPAN",{class:!0});var f=Be(e);t=se(f,"SPAN",{});var h=Be(t);We(n.$$.fragment,h),h.forEach(w),r=ge(f),s=se(f,"SPAN",{});var v=Be(s);a=H(v,i[17]),v.forEach(w),f.forEach(w),this.h()},h(){ue(e,"class","right")},m(u,f){I(u,e,f),$(e,t),Qe(n,t,null),$(e,r),$(e,s),$(s,a),l=!0},p(u,f){(!l||f[0]&131072)&&Ne(a,u[17])},i(u){l||(he(n.$$.fragment,u),l=!0)},o(u){me(n.$$.fragment,u),l=!1},d(u){u&&w(e),Ye(n)}}}function i1(i){let e,t;return e=new $4({props:{onClick:i[32],id:i[10].id,top:i[10].top,left:i[10].left,right:i[10].right,bottom:i[10].bottom}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[0]&1024&&(s.id=n[10].id),r[0]&1024&&(s.top=n[10].top),r[0]&1024&&(s.left=n[10].left),r[0]&1024&&(s.right=n[10].right),r[0]&1024&&(s.bottom=n[10].bottom),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function NP(i){let e,t,n,r,s,a,l;e=new xA({props:{position:"top-left"}}),n=new zA({props:{variant:VA.Dots}});let u=i[10]&&i1(i);return a=new HA({props:{position:"top-right"}}),{c(){Xe(e.$$.fragment),t=ve(),Xe(n.$$.fragment),r=ve(),u&&u.c(),s=ve(),Xe(a.$$.fragment)},l(f){We(e.$$.fragment,f),t=ge(f),We(n.$$.fragment,f),r=ge(f),u&&u.l(f),s=ge(f),We(a.$$.fragment,f)},m(f,h){Qe(e,f,h),I(f,t,h),Qe(n,f,h),I(f,r,h),u&&u.m(f,h),I(f,s,h),Qe(a,f,h),l=!0},p(f,h){f[10]?u?(u.p(f,h),h[0]&1024&&he(u,1)):(u=i1(f),u.c(),he(u,1),u.m(s.parentNode,s)):u&&(It(),me(u,1,1,()=>{u=null}),Rt())},i(f){l||(he(e.$$.fragment,f),he(n.$$.fragment,f),he(u),he(a.$$.fragment,f),l=!0)},o(f){me(e.$$.fragment,f),me(n.$$.fragment,f),me(u),me(a.$$.fragment,f),l=!1},d(f){f&&(w(t),w(r),w(s)),Ye(e,f),Ye(n,f),u&&u.d(f),Ye(a,f)}}}function SP(i){let e,t;return e=new vP({props:{slot:"connectionLine"}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p:at,i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function IP(i){let e,t,n,r,s,a;return t=new iR({}),r=new jA({props:{nodes:jn,nodeTypes:i[0],edges:Co,edgeTypes:i[1],fitView:!0,defaultEdgeOptions:i[20],maxZoom:2,minZoom:.3,$$slots:{connectionLine:[SP],default:[NP]},$$scope:{ctx:i}}}),r.$on("dragover",i[26]),r.$on("drop",i[28]),r.$on("connect",i[27]),r.$on("nodecontextmenu",i[31]),r.$on("paneclick",i[32]),r.$on("onedgecreate",OP),{c(){e=ae("div"),Xe(t.$$.fragment),n=ve(),Xe(r.$$.fragment),this.h()},l(l){e=se(l,"DIV",{slot:!0,id:!0,class:!0});var u=Be(e);We(t.$$.fragment,u),n=ge(u),We(r.$$.fragment,u),u.forEach(w),this.h()},h(){ue(e,"slot","flow"),ue(e,"id","slotted-flow"),ue(e,"class","svelte-1o3ehjz"),Jh(()=>i[42].call(e))},m(l,u){I(l,e,u),Qe(t,e,null),$(e,n),Qe(r,e,null),s=DA(e,i[42].bind(e)),a=!0},p(l,u){const f={};u[0]&1024|u[2]&8&&(f.$$scope={dirty:u,ctx:l}),r.$set(f)},i(l){a||(he(t.$$.fragment,l),he(r.$$.fragment,l),a=!0)},o(l){me(t.$$.fragment,l),me(r.$$.fragment,l),a=!1},d(l){l&&w(e),Ye(t),Ye(r),s()}}}function RP(i){let e,t,n;return t=new lR({}),{c(){e=ae("div"),Xe(t.$$.fragment),this.h()},l(r){e=se(r,"DIV",{slot:!0,class:!0});var s=Be(e);We(t.$$.fragment,s),s.forEach(w),this.h()},h(){ue(e,"slot","drawer"),ue(e,"class","side-panel close svelte-1o3ehjz")},m(r,s){I(r,e,s),Qe(t,e,null),n=!0},p:at,i(r){n||(he(t.$$.fragment,r),n=!0)},o(r){me(t.$$.fragment,r),n=!1},d(r){r&&w(e),Ye(t)}}}function PP(i){let e,t,n,r,s,a,l,u,f,h,v,p,d,_,g,b,D,B="Load",S,O,y="Merge",N,T,q="Clear",F,j,A="Save",L,k,R,K="Save As...",z,fe="Save As JSON...",re,te="Save As Turtle...",G,Q="Save As D3FEND Extension...",pe,J,_e="Share",tt,rt,Pe,je,ke,He,ot,kt,Re;function le(nt){i[35](nt)}let Ue={title:i[2].title,content:i[2].content,options:i[2].options,$$slots:{default:[DP]},$$scope:{ctx:i}};i[2].is_open!==void 0&&(Ue.is_open=i[2].is_open),e=new Dg({props:Ue}),Lr.push(()=>gn(e,"is_open",le)),e.$on("optionSelected",i[18]);function sr(nt){i[36](nt)}let Yt={title:i[3].title,content:i[3].content,options:i[3].options,$$slots:{default:[kP]},$$scope:{ctx:i}};i[3].is_open!==void 0&&(Yt.is_open=i[3].is_open),r=new Dg({props:Yt}),Lr.push(()=>gn(r,"is_open",sr)),r.$on("optionSelected",i[19]);function Tr(nt){i[38](nt)}let nr={title:"Share this model with a URL",$$slots:{default:[TP]},$$scope:{ctx:i}};i[14]!==void 0&&(nr.is_open=i[14]),l=new Y4({props:nr}),Lr.push(()=>gn(l,"is_open",Tr));function Nr(nt){i[39](nt)}let fr={};i[9]!==void 0&&(fr.selectedFile=i[9]),v=new dP({props:fr}),Lr.push(()=>gn(v,"selectedFile",Nr)),v.$on("fileSelected",i[29]);let mt=i[6]&&t1(i),Dt=i[17]&&n1(i);return He=new HT({props:{$$slots:{drawer:[RP],flow:[IP]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment),n=ve(),Xe(r.$$.fragment),a=ve(),Xe(l.$$.fragment),f=ve(),h=ae("div"),Xe(v.$$.fragment),d=ve(),_=ae("br"),g=ve(),b=ae("div"),D=ae("button"),D.textContent=B,S=ve(),O=ae("button"),O.textContent=y,N=ve(),T=ae("button"),T.textContent=q,F=ve(),j=ae("button"),j.textContent=A,L=ve(),k=ae("select"),R=ae("option"),R.textContent=K,z=ae("option"),z.textContent=fe,re=ae("option"),re.textContent=te,G=ae("option"),G.textContent=Q,pe=ve(),J=ae("button"),J.textContent=_e,tt=V(`
     filename:   `),rt=ae("input"),Pe=ve(),mt&&mt.c(),je=ve(),Dt&&Dt.c(),ke=ve(),Xe(He.$$.fragment),this.h()},l(nt){We(e.$$.fragment,nt),n=ge(nt),We(r.$$.fragment,nt),a=ge(nt),We(l.$$.fragment,nt),f=ge(nt),h=se(nt,"DIV",{class:!0});var pt=Be(h);We(v.$$.fragment,pt),pt.forEach(w),d=ge(nt),_=se(nt,"BR",{}),g=ge(nt),b=se(nt,"DIV",{id:!0,class:!0});var ze=Be(b);D=se(ze,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(D)!=="svelte-r4end6"&&(D.textContent=B),S=ge(ze),O=se(ze,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(O)!=="svelte-1s1l97g"&&(O.textContent=y),N=ge(ze),T=se(ze,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(T)!=="svelte-1o4uly3"&&(T.textContent=q),F=ge(ze),j=se(ze,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(j)!=="svelte-qm8vdx"&&(j.textContent=A),L=ge(ze),k=se(ze,"SELECT",{class:!0});var W=Be(k);R=se(W,"OPTION",{"data-svelte-h":!0}),vt(R)!=="svelte-hmrlsb"&&(R.textContent=K),z=se(W,"OPTION",{"data-svelte-h":!0}),vt(z)!=="svelte-1q30tr1"&&(z.textContent=fe),re=se(W,"OPTION",{"data-svelte-h":!0}),vt(re)!=="svelte-pf55hp"&&(re.textContent=te),G=se(W,"OPTION",{"data-svelte-h":!0}),vt(G)!=="svelte-43fn33"&&(G.textContent=Q),W.forEach(w),pe=ge(ze),J=se(ze,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(J)!=="svelte-mqt2ui"&&(J.textContent=_e),tt=H(ze,`
     filename:   `),rt=se(ze,"INPUT",{style:!0,type:!0}),Pe=ge(ze),mt&&mt.l(ze),je=ge(ze),Dt&&Dt.l(ze),ze.forEach(w),ke=ge(nt),We(He.$$.fragment,nt),this.h()},h(){ue(h,"class","toolbar-examples"),ue(D,"class","svelte-1o3ehjz"),ue(O,"class","svelte-1o3ehjz"),ue(T,"class","svelte-1o3ehjz"),ue(j,"class","svelte-1o3ehjz"),R.__value="",gt(R,R.__value),z.__value="json",gt(z,z.__value),re.__value="turtle",gt(re,re.__value),G.__value="extension",gt(G,G.__value),ue(k,"class","save-as-dropdown svelte-1o3ehjz"),i[8]===void 0&&Jh(()=>i[40].call(k)),ue(J,"class"," svelte-1o3ehjz"),$t(rt,"width","275px"),ue(rt,"type","text"),ue(b,"id","toolbar"),ue(b,"class","svelte-1o3ehjz")},m(nt,pt){Qe(e,nt,pt),I(nt,n,pt),Qe(r,nt,pt),I(nt,a,pt),Qe(l,nt,pt),I(nt,f,pt),I(nt,h,pt),Qe(v,h,null),I(nt,d,pt),I(nt,_,pt),I(nt,g,pt),I(nt,b,pt),$(b,D),$(b,S),$(b,O),$(b,N),$(b,T),$(b,F),$(b,j),$(b,L),$(b,k),$(k,R),$(k,z),$(k,re),$(k,G),g_(k,i[8],!0),$(b,pe),$(b,J),$(b,tt),$(b,rt),gt(rt,i[7]),$(b,Pe),mt&&mt.m(b,null),$(b,je),Dt&&Dt.m(b,null),I(nt,ke,pt),Qe(He,nt,pt),ot=!0,kt||(Re=[Ie(D,"click",i[24]),Ie(O,"click",i[25]),Ie(T,"click",i[30]),Ie(j,"click",i[21]),Ie(k,"change",i[40]),Ie(k,"change",i[22]),Ie(J,"click",i[33]),Ie(rt,"input",i[41])],kt=!0)},p(nt,pt){const ze={};pt[0]&4&&(ze.title=nt[2].title),pt[0]&4&&(ze.content=nt[2].content),pt[0]&4&&(ze.options=nt[2].options),pt[0]&16|pt[2]&8&&(ze.$$scope={dirty:pt,ctx:nt}),!t&&pt[0]&4&&(t=!0,ze.is_open=nt[2].is_open,vn(()=>t=!1)),e.$set(ze);const W={};pt[0]&8&&(W.title=nt[3].title),pt[0]&8&&(W.content=nt[3].content),pt[0]&8&&(W.options=nt[3].options),pt[2]&8&&(W.$$scope={dirty:pt,ctx:nt}),!s&&pt[0]&8&&(s=!0,W.is_open=nt[3].is_open,vn(()=>s=!1)),r.$set(W);const P={};pt[0]&98304|pt[2]&8&&(P.$$scope={dirty:pt,ctx:nt}),!u&&pt[0]&16384&&(u=!0,P.is_open=nt[14],vn(()=>u=!1)),l.$set(P);const M={};!p&&pt[0]&512&&(p=!0,M.selectedFile=nt[9],vn(()=>p=!1)),v.$set(M),pt[0]&256&&g_(k,nt[8]),pt[0]&128&&rt.value!==nt[7]&&gt(rt,nt[7]),nt[6]?mt?mt.p(nt,pt):(mt=t1(nt),mt.c(),mt.m(b,je)):mt&&(mt.d(1),mt=null),nt[17]?Dt?(Dt.p(nt,pt),pt[0]&131072&&he(Dt,1)):(Dt=n1(nt),Dt.c(),he(Dt,1),Dt.m(b,null)):Dt&&(It(),me(Dt,1,1,()=>{Dt=null}),Rt());const ee={};pt[0]&7168|pt[2]&8&&(ee.$$scope={dirty:pt,ctx:nt}),He.$set(ee)},i(nt){ot||(he(e.$$.fragment,nt),he(r.$$.fragment,nt),he(l.$$.fragment,nt),he(v.$$.fragment,nt),he(Dt),he(He.$$.fragment,nt),ot=!0)},o(nt){me(e.$$.fragment,nt),me(r.$$.fragment,nt),me(l.$$.fragment,nt),me(v.$$.fragment,nt),me(Dt),me(He.$$.fragment,nt),ot=!1},d(nt){nt&&(w(n),w(a),w(f),w(h),w(d),w(_),w(g),w(b),w(ke)),Ye(e,nt),Ye(r,nt),Ye(l,nt),Ye(v),mt&&mt.d(),Dt&&Dt.d(),Ye(He,nt),kt=!1,Ht(Re)}}}function FP(i){let e,t,n,r,s,a,l='D3FEND <span class="snakes"></span> <span class="CAD"><span style="color:#e62929;">C</span><span class="A svelte-1o3ehjz" style="color:white;text-border:1px;">A</span><span style="color:blue;">D</span></span>',u,f,h,v,p,d,_,g;e=new KA({props:{title:"D3FEND CAD Tool",og_title:"D3FEND CAD Tool",og_description:"Cyber Attack-Defense Utility for Capturing Engagements and Understandable Scenarios",og_type:"app",og_url:"",og_image:""}}),f=new Nf({props:{alert_type:"warning",$$slots:{default:[wP]},$$scope:{ctx:i}}});function b(B){i[34](B)}let D={title:i[6]+" import alerts",$$slots:{default:[yP]},$$scope:{ctx:i}};return i[13]!==void 0&&(D.is_open=i[13]),v=new bP({props:D}),Lr.push(()=>gn(v,"is_open",b)),_=new tR({props:{position:"right",$$slots:{default:[PP]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment),t=ve(),n=ae("div"),r=ae("div"),s=ae("div"),a=ae("h1"),a.innerHTML=l,u=ve(),Xe(f.$$.fragment),h=ve(),Xe(v.$$.fragment),d=ve(),Xe(_.$$.fragment),this.h()},l(B){We(e.$$.fragment,B),t=ge(B),n=se(B,"DIV",{class:!0});var S=Be(n);r=se(S,"DIV",{style:!0});var O=Be(r);s=se(O,"DIV",{style:!0});var y=Be(s);a=se(y,"H1",{class:!0,title:!0,"data-svelte-h":!0}),vt(a)!=="svelte-xxt2o6"&&(a.innerHTML=l),u=ge(y),We(f.$$.fragment,y),y.forEach(w),O.forEach(w),S.forEach(w),h=ge(B),We(v.$$.fragment,B),d=ge(B),We(_.$$.fragment,B),this.h()},h(){ue(a,"class","fancy-font svelte-1o3ehjz"),ue(a,"title","Cyber Attack-Defense Utility for Capturing Engagements and Understandable Scenarios"),$t(s,"text-align","center"),$t(s,"flex-grow","1"),$t(r,"display","flex"),$t(r,"just-content","space-between"),$t(r,"align-items","center"),ue(n,"class","title-egg svelte-1o3ehjz")},m(B,S){Qe(e,B,S),I(B,t,S),I(B,n,S),$(n,r),$(r,s),$(s,a),$(s,u),Qe(f,s,null),I(B,h,S),Qe(v,B,S),I(B,d,S),Qe(_,B,S),g=!0},p(B,S){const O={};S[2]&8&&(O.$$scope={dirty:S,ctx:B}),f.$set(O);const y={};S[0]&64&&(y.title=B[6]+" import alerts"),S[0]&32|S[2]&8&&(y.$$scope={dirty:S,ctx:B}),!p&&S[0]&8192&&(p=!0,y.is_open=B[13],vn(()=>p=!1)),v.$set(y);const N={};S[0]&253916|S[2]&8&&(N.$$scope={dirty:S,ctx:B}),_.$set(N)},i(B){g||(he(e.$$.fragment,B),he(f.$$.fragment,B),he(v.$$.fragment,B),he(_.$$.fragment,B),g=!0)},o(B){me(e.$$.fragment,B),me(f.$$.fragment,B),me(v.$$.fragment,B),me(_.$$.fragment,B),g=!1},d(B){B&&(w(t),w(n),w(h),w(d)),Ye(e,B),Ye(f),Ye(v,B),Ye(_,B)}}}function OP(i){console.log(i),console.log(i)}function LP(i,e,t){let n,r,s,a;yt(i,kA,ze=>t(44,n=ze)),yt(i,Co,ze=>t(45,r=ze)),yt(i,jn,ze=>t(46,s=ze)),yt(i,kn,ze=>t(17,a=ze));var l=this&&this.__awaiter||function(ze,W,P,M){function ee(we){return we instanceof P?we:new P(function(Le){Le(we)})}return new(P||(P=Promise))(function(we,Le){function Ve(At){try{qt(M.next(At))}catch(Mt){Le(Mt)}}function Nt(At){try{qt(M.throw(At))}catch(Mt){Le(Mt)}}function qt(At){At.done?we(At.value):ee(At.value).then(Ve,Nt)}qt((M=M.apply(ze,W||[])).next())})};const u=new UT({useDefaults:!0,allErrors:!0});let f={is_open:!1,title:"Confirmation to load remote model from URL",content:"This page is instructing D3FEND to remotely load a CAD model from this URL:",options:[{label:"Cancel",value:"cancel"},{label:"Load Model",value:"load"}]},h={is_open:!1,title:"Confirmation to load remote model from compressed URL",content:"This page is instructing D3FEND to load a CAD model from this URL",options:[{label:"Cancel",value:"cancel"},{label:"Load Model",value:"load"}]},v;n.url.searchParams.get("load")&&(v=n.url.searchParams.get("load"),f.is_open=!0),n.url.searchParams.get("loadg")&&(h.is_open=!0);function p(ze){const W=ze.detail;W.value==="load"?(kn.add("loading remote URL"),fe(v),kn.clear()):W.value}function d(ze){const W=ze.detail;if(W.value==="load"){kn.add("loading graph from URL");const P=n.url.searchParams.get("loadg"),M=S_.uncrush(P);let ee=JSON.parse(M);j(ee),kn.clear()}else W.value}Cf(()=>{kn.add("Mounting app...");try{xf.initialize(),kn.clear()}catch(ze){console.error("Failed to initialize Oxigraph in +layout.svelte",ze),ze.message}});const _={artifactSelectorNode:jR,vulnerabilitySelectorNode:BR,attackSelectorNode:PR,countermeasureSelectorNode:HR,informationSelectorNode:WR,conditionDefinitionNode:KR,agentSelectorNode:eP,eventNode:iP},g={editableEdge:uP};let b={type:"editableEdge",data:{label:void 0},markerEnd:{type:s1.ArrowClosed}},D,B,S="d3fend-cad.json",O="";function y(){const ze=JSON.stringify({nodes:s,edges:r},null,4),W=new Blob([ze],{type:"application/json"}),P=window.URL.createObjectURL(W),M=document.createElement("a");M.href=P,M.download=S,t(6,B=0),document.body.appendChild(M),M.click(),document.body.removeChild(M),window.URL.revokeObjectURL(P)}function N(){console.log("Saving As D3FEND Ontology Extension..."),kn.add("Generating D3FEND Ontology Extension in Turtle file");let ze=prompt("Enter extension name to save as D3FEND Ontology Extension Turtle file as d3fend-cad-ext-<extension-name-here>.ttl","my-extension");const W="d3fend-cad-ext-"+ze+".ttl";ZI(ze).then(P=>{kn.clear();const M=new Blob([P],{type:"text/turtle"}),ee=window.URL.createObjectURL(M),we=document.createElement("a");we.href=ee,W&&(we.download=W,document.body.appendChild(we),we.click(),document.body.removeChild(we)),window.URL.revokeObjectURL(ee)}).catch(P=>{console.error("Error generating D3FEND Ontology Extension in Turtle: ",P)})}function T(){O==="json"?F():O==="turtle"?q():O==="extension"&&N(),t(8,O="")}function q(){kn.add("generating ttl file"),console.log("!!! Turtle export engaged !!!"),JI().then(ze=>{kn.clear();const W=new Blob([ze],{type:"text/turtle"}),P=window.URL.createObjectURL(W),M=document.createElement("a");M.href=P;let ee=prompt("Enter filename to save as Turtle file",S.replace("json","ttl"));t(6,B=0),ee&&(M.download=ee,document.body.appendChild(M),M.click(),document.body.removeChild(M)),window.URL.revokeObjectURL(P)}).catch(ze=>{console.error("Error serializing graph to Turtle: ",ze)})}function F(){const ze=JSON.stringify({nodes:s,edges:r},null,4),W=new Blob([ze],{type:"application/json"}),P=window.URL.createObjectURL(W),M=document.createElement("a");M.href=P;let ee=prompt("Enter filename to save as JSON file",S);t(6,B=0),t(7,S=ee),ee&&(M.download=ee,document.body.appendChild(M),M.click(),document.body.removeChild(M)),window.URL.revokeObjectURL(P)}function j(ze){try{const W=u.compile(y_),P=W(ze);t(5,D=W.errors),P||(ze=A(W.errors,ze));const M=ze.nodes,ee=ze.edges;kn.add("loading graph from data..."),sf(M,ee),R(),window.addEventListener("beforeunload",we=>{console.log("User is leaving the page"),we.preventDefault(),we.returnValue=""}),kn.clear()}catch(W){console.error("Error parsing JSON:",W)}}function A(ze,W){t(6,B=ze.length);for(const P of ze)if(P.params.missingProperty=="user_properties"){let M=P.dataPath.replace(/\D/g,"");M=parseInt(M),W.nodes[M].data.user_properties=[]}return W}function L(){t(13,kt=!0)}const{screenToFlowPosition:k,fitView:R}=ok();function K(ze){const W=ze.target.files[0];if(W){const P=new FileReader;P.onload=M=>{if(typeof M.target.result=="string"){console.log(M.target.result),t(7,S=W.name),t(7,S=W.name);try{let ee=JSON.parse(M.target.result);const we=u.compile(y_),Le=we(ee);t(5,D=we.errors),Le||(ee=A(we.errors,ee));const Ve=ee.nodes,Nt=ee.edges;sf(Ve,Nt),R(),window.addEventListener("beforeunload",qt=>{console.log("User is leaving the page"),qt.preventDefault(),qt.returnValue=""})}catch(ee){console.error("Error parsing JSON:",ee)}}else console.error("File content is not a string.")},P.onerror=()=>{console.error("Error reading file:",P.error)},P.readAsText(W)}}function z(ze){const W=ze.target.files[0];if(W){const P=new FileReader;P.onload=M=>{if(typeof M.target.result=="string"){console.log(M.target.result);try{const ee=JSON.parse(M.target.result);jn.set([...s,...ee.nodes]),Co.set([...r,...ee.edges]),alert(` added ${ee.nodes.length} nodes and ${ee.edges.length} edges to the current graph `)}catch(ee){console.error("Error parsing JSON:",ee),alert(`Error parsing JSON:", ${ee}`)}}else console.error("File content is not a string."),alert("File content is not a string.")},P.onerror=()=>{console.error("Error reading file:",P.error),alert(`Error reading file: ${P.error}`)},P.readAsText(W)}}function fe(ze){return l(this,void 0,void 0,function*(){if(ze)try{const P=yield(yield fetch(ze)).json(),M=P.nodes,ee=P.edges;sf(M,ee),R()}catch(W){console.error("Error parsing JSON:",W)}})}function re(){const ze=document.createElement("input");ze.type="file",ze.accept=".json",ze.onchange=W=>{K(W)},ze.click()}function te(){const ze=document.createElement("input");ze.type="file",ze.accept=".json",ze.onchange=W=>{z(W)},ze.click()}const G=ze=>{ze.preventDefault(),ze.dataTransfer&&(ze.dataTransfer.dropEffect="move")},Q=ze=>console.log("handle onConnect",ze),pe=ze=>{if(ze.preventDefault(),!ze.dataTransfer)return null;const W=ze.dataTransfer.getData("application/svelteflow"),P=k({x:ze.clientX,y:ze.clientY}),M={id:`${Math.random()}`,type:W,position:P,data:{label:null,sequence:"0",user_properties:[]},origin:[.5,0]};s.push(M),jn.set(s)};function J(ze){return l(this,void 0,void 0,function*(){const W=ze.detail;t(7,S=W);try{const P=yield fetch(`/resources/cad/examples/${W}`);if(!P.ok)throw new Error(`HTTP error! status: ${P.status}`);const M=yield P.json();console.log("Selected file contents:",M),j(M)}catch(P){console.error("Error fetching JSON file:",P)}})}let _e;function tt(){GI(),t(6,B=0),t(9,_e="Example Graphs"),t(7,S="d3fend-cad.json")}let rt,Pe,je;function ke({detail:{event:ze,node:W}}){ze.preventDefault();let P=50;t(10,rt={id:W.id,top:ze.clientY<je-P?ze.clientY:void 0,left:ze.clientX<Pe-P?ze.clientX:void 0,right:ze.clientX>=Pe-P?Pe-ze.clientX:void 0,bottom:ze.clientY>=je-P?je-ze.clientY:void 0}),ot({detail:{event:ze,node:W}})}function He(){t(10,rt=null),Pt.set(null)}function ot({detail:{event:ze,node:W}}){Pt.set(W)}let kt=!1,Re=!1,le,Ue;function sr(){kn.add("compressing graph to string..."),t(14,Re=!0);const ze=S_.crush(JSON.stringify({nodes:s,edges:r}));t(15,le=encodeURIComponent(ze)),t(16,Ue=n.url.origin+`/cad/?loadg=${le}`),kn.clear()}function Yt(ze){kt=ze,t(13,kt)}function Tr(ze){i.$$.not_equal(f.is_open,ze)&&(f.is_open=ze,t(2,f))}function nr(ze){i.$$.not_equal(h.is_open,ze)&&(h.is_open=ze,t(3,h))}const Nr=()=>TA(Ue);function fr(ze){Re=ze,t(14,Re)}function mt(ze){_e=ze,t(9,_e)}function Dt(){O=EA(this),t(8,O)}function nt(){S=this.value,t(7,S)}function pt(){Pe=this.clientWidth,je=this.clientHeight,t(11,Pe),t(12,je)}return[_,g,f,h,v,D,B,S,O,_e,rt,Pe,je,kt,Re,le,Ue,a,p,d,b,y,T,L,re,te,G,Q,pe,J,tt,ke,He,sr,Yt,Tr,nr,Nr,fr,mt,Dt,nt,pt]}class BP extends Gt{constructor(e){super(),Xt(this,e,LP,FP,Et,{nodeTypes:0,edgeTypes:1},null,[-1,-1,-1])}get nodeTypes(){return this.$$.ctx[0]}get edgeTypes(){return this.$$.ctx[1]}}function UP(i){let e,t;return e=new BP({}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function MP(i){let e,t;return e=new lk({props:{$$slots:{default:[UP]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,[r]){const s={};r&4&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function qP(i,e,t){let n,{data:r}=e;return i.$$set=s=>{"data"in s&&t(0,r=s.data)},i.$$.update=()=>{i.$$.dirty&1&&t(1,n=r.remote_d3fend_tree?r.remote_d3fend_tree.map(s=>({...s,children:Zh(s.children,s["rdfs:label"])})):[]),i.$$.dirty&3&&(f1.set(n),h1.set(r.attack),c1.set(r.dao),d1.set(r.events),p1.set(r.weaknesses),_1.set(r.properties),v1.set(r.digital_information))},[r,n]}class d8 extends Gt{constructor(e){super(),Xt(this,e,qP,MP,Et,{data:0})}}export{d8 as component,s8 as universal};
