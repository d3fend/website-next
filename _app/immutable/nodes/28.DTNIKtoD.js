import{m as an}from"../chunks/matrix.Da5s4cAc.js";import{t as fn}from"../chunks/offensive-technique.BunsVZrz.js";import{s as he,c as Ke,u as Qe,g as $e,a as xe,am as dn,E as un,e as D,d as z,f as K,i as C,q as R,k as B,o as Re,an as cn,C as lt,F as nt,G as ve,b as A,j as P,ao as ae,p as de,B as ee,l as p,O as te,n as me,v as Ve,I as Pe,t as ue,h as ce,a4 as Se,a3 as Ue,m as ye,r as Le,al as Jt,a0 as Kt,N as Be,W as Qt,Y as $t,w as mn,ak as gn,V as st}from"../chunks/scheduler.DSdOozvr.js";import{S as be,i as _e,t as M,a as U,g as He,e as Me,c as X,b as Y,m as G,d as Z,p as rt,f as ot}from"../chunks/index.B_9K2UQt.js";import{w as Ae}from"../chunks/index.jNolgJd8.js";import{p as hn}from"../chunks/stores.CpmlDjRF.js";import{c as bn,k as _n,b as at,R as Ye,u as et,X as vn,d as ft,e as dt,i as pn,g as Cn,f as ut,n as ct,h as mt,j as kn,p as wn,l as yn,r as In,H as se,P as re,m as En,E as Sn,o as xt,q as Tn,S as Rn,C as Vn,B as Nn,a as Dn,M as zn}from"../chunks/style.fd3LLf0i.js";import{s as gt}from"../chunks/index.sOFiQaTy.js";import{e as pe,u as ht,o as bt}from"../chunks/each.gsyU4MsK.js";import{f as qe}from"../chunks/utils.xEKteSAW.js";import{c as Ln,f as An}from"../chunks/actions.Db2EBVbi.js";import{A as en}from"../chunks/Alert.CoeVE04W.js";import{s as _t}from"../chunks/sortBy.ChsTRid8.js";async function Pn({fetch:l}){const e=await an({fetch:l}),n=await fn({fetch:l}),i=await(await l("/api/taxonomies/d3f:DigitalEvent.json")).json();return{matrix:e,techniques:n,digitalEvent:i}}const yi=Object.freeze(Object.defineProperty({__proto__:null,load:Pn},Symbol.toStringTag,{value:"Module"}));function On(l){let e;const n=l[7].default,t=Ke(n,l,l[6],null);return{c(){t&&t.c()},l(i){t&&t.l(i)},m(i,s){t&&t.m(i,s),e=!0},p(i,[s]){t&&t.p&&(!e||s&64)&&Qe(t,n,i,i[6],e?xe(n,i[6],s,null):$e(i[6]),null)},i(i){e||(M(t,i),e=!0)},o(i){U(t,i),e=!1},d(i){t&&t.d(i)}}}function Bn(l,e,n){let{$$slots:t={},$$scope:i}=e,{initialNodes:s=void 0}=e,{initialEdges:r=void 0}=e,{initialWidth:o=void 0}=e,{initialHeight:u=void 0}=e,{fitView:f=void 0}=e,{nodeOrigin:a=void 0}=e;const d=bn({nodes:s,edges:r,width:o,height:u,nodeOrigin:a,fitView:f});return dn(_n,{getStore:()=>d}),un(()=>{d.reset()}),l.$$set=g=>{"initialNodes"in g&&n(0,s=g.initialNodes),"initialEdges"in g&&n(1,r=g.initialEdges),"initialWidth"in g&&n(2,o=g.initialWidth),"initialHeight"in g&&n(3,u=g.initialHeight),"fitView"in g&&n(4,f=g.fitView),"nodeOrigin"in g&&n(5,a=g.nodeOrigin),"$$scope"in g&&n(6,i=g.$$scope)},[s,r,o,u,f,a,i,t]}class Hn extends be{constructor(e){super(),_e(this,e,Bn,On,he,{initialNodes:0,initialEdges:1,initialWidth:2,initialHeight:3,fitView:4,nodeOrigin:5})}}function Mn(l){let e,n,t;const i=l[33].default,s=Ke(i,l,l[32],null);return{c(){e=D("div"),s&&s.c(),this.h()},l(r){e=z(r,"DIV",{class:!0,style:!0});var o=K(e);s&&s.l(o),o.forEach(C),this.h()},h(){R(e,"class",n=at(["svelte-flow__resize-control","nodrag",...l[4],l[0],l[1]])),R(e,"style",l[3])},m(r,o){B(r,e,o),s&&s.m(e,null),l[34](e),t=!0},p(r,o){s&&s.p&&(!t||o[1]&2)&&Qe(s,i,r,r[32],t?xe(i,r[32],o,null):$e(r[32]),null),(!t||o[0]&19&&n!==(n=at(["svelte-flow__resize-control","nodrag",...r[4],r[0],r[1]])))&&R(e,"class",n),(!t||o[0]&8)&&R(e,"style",r[3])},i(r){t||(M(s,r),t=!0)},o(r){U(s,r),t=!1},d(r){r&&C(e),s&&s.d(r),l[34](null)}}}function qn(l,e,n){let t,i,s,r,o,u,f,a,d,g,m,w,b,I,O,T,{$$slots:k={},$$scope:E}=e,{nodeId:v=void 0}=e,{position:S=void 0}=e,{variant:_=Ye.Handle}=e,{color:H=void 0}=e,{minWidth:q=10}=e,{minHeight:h=10}=e,{maxWidth:L=Number.MAX_VALUE}=e,{maxHeight:c=Number.MAX_VALUE}=e,{keepAspectRatio:N=!1}=e,{shouldResize:y=void 0}=e,{onResizeStart:J=void 0}=e,{onResize:V=void 0}=e,{onResizeEnd:F=void 0}=e,{style:ne=""}=e,{class:j=""}=e;const{nodeLookup:Q,snapGrid:$,viewport:le,nodes:ie,nodeOrigin:oe}=et();Re(l,Q,W=>n(37,b=W)),Re(l,$,W=>n(39,O=W)),Re(l,le,W=>n(40,T=W)),Re(l,ie,W=>n(36,w=W)),Re(l,oe,W=>n(38,I=W));const Ce=cn("svelteflow__node_id");let ge,ke=null;lt(()=>(ge&&n(23,ke=vn({domNode:ge,nodeId:o,getStoreItems:()=>({nodeLookup:b,transform:[T.x,T.y,T.zoom],snapGrid:O??void 0,snapToGrid:!!O,nodeOrigin:I}),onChange:(W,Ie)=>{var Ne,We;const Ee=(Ne=b.get(o))==null?void 0:Ne.internals.userNode;if(Ee){W.x!==void 0&&W.y!==void 0&&(Ee.position={x:W.x,y:W.y}),W.width!==void 0&&W.height!==void 0&&(Ee.width=W.width,Ee.height=W.height);for(const je of Ie){const x=(We=b.get(je.id))==null?void 0:We.internals.userNode;x&&(x.position=je.position)}ie.set(w)}}})),()=>{ke==null||ke.destroy()}));function we(W){nt[W?"unshift":"push"](()=>{ge=W,n(2,ge)})}return l.$$set=W=>{"nodeId"in W&&n(10,v=W.nodeId),"position"in W&&n(11,S=W.position),"variant"in W&&n(0,_=W.variant),"color"in W&&n(12,H=W.color),"minWidth"in W&&n(13,q=W.minWidth),"minHeight"in W&&n(14,h=W.minHeight),"maxWidth"in W&&n(15,L=W.maxWidth),"maxHeight"in W&&n(16,c=W.maxHeight),"keepAspectRatio"in W&&n(17,N=W.keepAspectRatio),"shouldResize"in W&&n(18,y=W.shouldResize),"onResizeStart"in W&&n(19,J=W.onResizeStart),"onResize"in W&&n(20,V=W.onResize),"onResizeEnd"in W&&n(21,F=W.onResizeEnd),"style"in W&&n(22,ne=W.style),"class"in W&&n(1,j=W.class),"$$scope"in W&&n(32,E=W.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&8192&&n(27,t=q??10),l.$$.dirty[0]&16384&&n(26,i=h??10),l.$$.dirty[0]&32768&&n(25,s=L??Number.MAX_VALUE),l.$$.dirty[0]&65536&&n(24,r=c??Number.MAX_VALUE),l.$$.dirty[0]&1024&&(o=typeof v=="string"?v:Ce),l.$$.dirty[0]&1&&n(31,u=_===Ye.Line?"right":"bottom-right"),l.$$.dirty[0]&2048|l.$$.dirty[1]&1&&n(28,f=S??u),l.$$.dirty[0]&268435456&&n(4,a=f.split("-")),l.$$.dirty[0]&1&&n(30,d=_===Ye.Line?"border-color":"background-color"),l.$$.dirty[0]&4194304&&n(29,g=ne??""),l.$$.dirty[0]&1610616832&&n(3,m=H?`${g} ${d}: ${H};`:g),l.$$.dirty[0]&532545536&&(ke==null||ke.update({controlPosition:f,boundaries:{minWidth:t,minHeight:i,maxWidth:s,maxHeight:r},keepAspectRatio:!!N,onResizeStart:J,onResize:V,onResizeEnd:F,shouldResize:y}))},[_,j,ge,m,a,Q,$,le,ie,oe,v,S,H,q,h,L,c,N,y,J,V,F,ne,ke,r,s,i,t,f,g,d,u,E,k,we]}class tn extends be{constructor(e){super(),_e(this,e,qn,Mn,he,{nodeId:10,position:11,variant:0,color:12,minWidth:13,minHeight:14,maxWidth:15,maxHeight:16,keepAspectRatio:17,shouldResize:18,onResizeStart:19,onResize:20,onResizeEnd:21,style:22,class:1},null,[-1,-1])}}function vt(l,e,n){const t=l.slice();return t[20]=e[n],t}function pt(l,e,n){const t=l.slice();return t[20]=e[n],t}function Ct(l){let e=[],n=new Map,t,i=[],s=new Map,r,o,u=pe(ft);const f=g=>g[20];for(let g=0;g<u.length;g+=1){let m=pt(l,u,g),w=f(m);n.set(w,e[g]=kt(w,m))}let a=pe(dt);const d=g=>g[20];for(let g=0;g<a.length;g+=1){let m=vt(l,a,g),w=d(m);s.set(w,i[g]=wt(w,m))}return{c(){for(let g=0;g<e.length;g+=1)e[g].c();t=A();for(let g=0;g<i.length;g+=1)i[g].c();r=ve()},l(g){for(let m=0;m<e.length;m+=1)e[m].l(g);t=P(g);for(let m=0;m<i.length;m+=1)i[m].l(g);r=ve()},m(g,m){for(let w=0;w<e.length;w+=1)e[w]&&e[w].m(g,m);B(g,t,m);for(let w=0;w<i.length;w+=1)i[w]&&i[w].m(g,m);B(g,r,m),o=!0},p(g,m){m&65521&&(u=pe(ft),He(),e=ht(e,m,f,1,g,u,n,t.parentNode,bt,kt,t,pt),Me()),m&65485&&(a=pe(dt),He(),i=ht(i,m,d,1,g,a,s,r.parentNode,bt,wt,r,vt),Me())},i(g){if(!o){for(let m=0;m<u.length;m+=1)M(e[m]);for(let m=0;m<a.length;m+=1)M(i[m]);o=!0}},o(g){for(let m=0;m<e.length;m+=1)U(e[m]);for(let m=0;m<i.length;m+=1)U(i[m]);o=!1},d(g){g&&(C(t),C(r));for(let m=0;m<e.length;m+=1)e[m].d(g);for(let m=0;m<i.length;m+=1)i[m].d(g)}}}function kt(l,e){let n,t,i;return t=new tn({props:{class:e[4],style:e[5],nodeId:e[0],position:e[20],variant:Ye.Line,color:e[6],minWidth:e[12],minHeight:e[13],maxWidth:e[14],maxHeight:e[15],onResizeStart:e[9],keepAspectRatio:e[7],shouldResize:e[8],onResize:e[10],onResizeEnd:e[11]}}),{key:l,first:null,c(){n=ve(),X(t.$$.fragment),this.h()},l(s){n=ve(),Y(t.$$.fragment,s),this.h()},h(){this.first=n},m(s,r){B(s,n,r),G(t,s,r),i=!0},p(s,r){e=s;const o={};r&16&&(o.class=e[4]),r&32&&(o.style=e[5]),r&1&&(o.nodeId=e[0]),r&64&&(o.color=e[6]),r&512&&(o.onResizeStart=e[9]),r&128&&(o.keepAspectRatio=e[7]),r&256&&(o.shouldResize=e[8]),r&1024&&(o.onResize=e[10]),r&2048&&(o.onResizeEnd=e[11]),t.$set(o)},i(s){i||(M(t.$$.fragment,s),i=!0)},o(s){U(t.$$.fragment,s),i=!1},d(s){s&&C(n),Z(t,s)}}}function wt(l,e){let n,t,i;return t=new tn({props:{class:e[2],style:e[3],nodeId:e[0],position:e[20],color:e[6],minWidth:e[12],minHeight:e[13],maxWidth:e[14],maxHeight:e[15],onResizeStart:e[9],keepAspectRatio:e[7],shouldResize:e[8],onResize:e[10],onResizeEnd:e[11]}}),{key:l,first:null,c(){n=ve(),X(t.$$.fragment),this.h()},l(s){n=ve(),Y(t.$$.fragment,s),this.h()},h(){this.first=n},m(s,r){B(s,n,r),G(t,s,r),i=!0},p(s,r){e=s;const o={};r&4&&(o.class=e[2]),r&8&&(o.style=e[3]),r&1&&(o.nodeId=e[0]),r&64&&(o.color=e[6]),r&512&&(o.onResizeStart=e[9]),r&128&&(o.keepAspectRatio=e[7]),r&256&&(o.shouldResize=e[8]),r&1024&&(o.onResize=e[10]),r&2048&&(o.onResizeEnd=e[11]),t.$set(o)},i(s){i||(M(t.$$.fragment,s),i=!0)},o(s){U(t.$$.fragment,s),i=!1},d(s){s&&C(n),Z(t,s)}}}function Un(l){let e,n,t=l[1]&&Ct(l);return{c(){t&&t.c(),e=ve()},l(i){t&&t.l(i),e=ve()},m(i,s){t&&t.m(i,s),B(i,e,s),n=!0},p(i,[s]){i[1]?t?(t.p(i,s),s&2&&M(t,1)):(t=Ct(i),t.c(),M(t,1),t.m(e.parentNode,e)):t&&(He(),U(t,1,1,()=>{t=null}),Me())},i(i){n||(M(t),n=!0)},o(i){U(t),n=!1},d(i){i&&C(e),t&&t.d(i)}}}function jn(l,e,n){let{nodeId:t=void 0}=e,{isVisible:i=!0}=e,{handleClass:s=void 0}=e,{handleStyle:r=void 0}=e,{lineClass:o=void 0}=e,{lineStyle:u=void 0}=e,{color:f=void 0}=e,{minWidth:a=10}=e,{minHeight:d=10}=e,{maxWidth:g=Number.MAX_VALUE}=e,{maxHeight:m=Number.MAX_VALUE}=e,{keepAspectRatio:w=!1}=e,{shouldResize:b=void 0}=e,{onResizeStart:I=void 0}=e,{onResize:O=void 0}=e,{onResizeEnd:T=void 0}=e,k=a||10,E=d||10,v=g||Number.MAX_VALUE,S=m||Number.MAX_VALUE;return l.$$set=_=>{"nodeId"in _&&n(0,t=_.nodeId),"isVisible"in _&&n(1,i=_.isVisible),"handleClass"in _&&n(2,s=_.handleClass),"handleStyle"in _&&n(3,r=_.handleStyle),"lineClass"in _&&n(4,o=_.lineClass),"lineStyle"in _&&n(5,u=_.lineStyle),"color"in _&&n(6,f=_.color),"minWidth"in _&&n(16,a=_.minWidth),"minHeight"in _&&n(17,d=_.minHeight),"maxWidth"in _&&n(18,g=_.maxWidth),"maxHeight"in _&&n(19,m=_.maxHeight),"keepAspectRatio"in _&&n(7,w=_.keepAspectRatio),"shouldResize"in _&&n(8,b=_.shouldResize),"onResizeStart"in _&&n(9,I=_.onResizeStart),"onResize"in _&&n(10,O=_.onResize),"onResizeEnd"in _&&n(11,T=_.onResizeEnd)},[t,i,s,r,o,u,f,w,b,I,O,T,k,E,v,S,a,d,g,m]}class Oe extends be{constructor(e){super(),_e(this,e,jn,Un,he,{nodeId:0,isVisible:1,handleClass:2,handleStyle:3,lineClass:4,lineStyle:5,color:6,minWidth:16,minHeight:17,maxWidth:18,maxHeight:19,keepAspectRatio:7,shouldResize:8,onResizeStart:9,onResize:10,onResizeEnd:11})}}const yt=l=>pn(l);function Fn(){const{zoomIn:l,zoomOut:e,fitView:n,onbeforedelete:t,snapGrid:i,viewport:s,width:r,height:o,minZoom:u,maxZoom:f,panZoom:a,nodes:d,edges:g,domNode:m,nodeLookup:w,edgeLookup:b}=et(),I=k=>{const E=yt(k)&&yn(k)?k:ae(w).get(k.id);return E?ct(E):null},O=(k,E,v={replace:!1})=>{var H;const S=(H=ae(w).get(k))==null?void 0:H.internals.userNode;if(!S)return;const _=typeof E=="function"?E(S):E;v.replace?d.update(q=>q.map(h=>h.id===k?yt(_)?_:{...h,..._}:h)):(Object.assign(S,_),d.update(q=>q))},T=k=>ae(w).get(k);return{zoomIn:l,zoomOut:e,getInternalNode:T,getNode:k=>{var E;return(E=T(k))==null?void 0:E.internals.userNode},getNodes:k=>k===void 0?ae(d):It(ae(w),k),getEdge:k=>ae(b).get(k),getEdges:k=>k===void 0?ae(g):It(ae(b),k),setZoom:(k,E)=>{const v=ae(a);return v?v.scaleTo(k,{duration:E==null?void 0:E.duration}):Promise.resolve(!1)},getZoom:()=>ae(s).zoom,setViewport:async(k,E)=>{const v=ae(s),S=ae(a);return S?(await S.setViewport({x:k.x??v.x,y:k.y??v.y,zoom:k.zoom??v.zoom},{duration:E==null?void 0:E.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>ae(s),setCenter:async(k,E,v)=>{const S=typeof(v==null?void 0:v.zoom)<"u"?v.zoom:ae(f),_=ae(a);return _?(await _.setViewport({x:ae(r)/2-k*S,y:ae(o)/2-E*S,zoom:S},{duration:v==null?void 0:v.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitView:n,fitBounds:async(k,E)=>{const v=ae(a);if(!v)return Promise.resolve(!1);const S=Cn(k,ae(r),ae(o),ae(u),ae(f),(E==null?void 0:E.padding)??.1);return await v.setViewport(S,{duration:E==null?void 0:E.duration}),Promise.resolve(!0)},getIntersectingNodes:(k,E=!0,v)=>{const S=ut(k),_=S?k:I(k);return _?(v||ae(d)).filter(H=>{const q=ae(w).get(H.id);if(!q||!S&&H.id===k.id)return!1;const h=ct(q),L=mt(h,_);return E&&L>0||L>=_.width*_.height}):[]},isNodeIntersecting:(k,E,v=!0)=>{const _=ut(k)?k:I(k);if(!_)return!1;const H=mt(_,E);return v&&H>0||H>=_.width*_.height},deleteElements:async({nodes:k=[],edges:E=[]})=>{const{nodes:v,edges:S}=await kn({nodesToRemove:k,edgesToRemove:E,nodes:ae(d),edges:ae(g),onBeforeDelete:ae(t)});return v&&d.update(_=>_.filter(H=>!v.some(({id:q})=>q===H.id))),S&&g.update(_=>_.filter(H=>!S.some(({id:q})=>q===H.id))),{deletedNodes:v,deletedEdges:S}},screenToFlowPosition:(k,E={snapToGrid:!0})=>{const v=ae(m);if(!v)return k;const S=E.snapToGrid?ae(i):!1,{x:_,y:H,zoom:q}=ae(s),{x:h,y:L}=v.getBoundingClientRect(),c={x:k.x-h,y:k.y-L};return wn(c,[_,H,q],S!==null,S||[1,1])},flowToScreenPosition:k=>{const E=ae(m);if(!E)return k;const{x:v,y:S,zoom:_}=ae(s),{x:H,y:q}=E.getBoundingClientRect(),h=In(k,[v,S,_]);return{x:h.x+H,y:h.y+q}},toObject:()=>({nodes:ae(d).map(k=>({...k,position:{...k.position},data:{...k.data}})),edges:ae(g).map(k=>({...k})),viewport:{...ae(s)}}),updateNode:O,updateNodeData:(k,E,v)=>{var H;const S=(H=ae(w).get(k))==null?void 0:H.internals.userNode;if(!S)return;const _=typeof E=="function"?E(S):E;S.data=v!=null&&v.replace?_:{...S.data,..._},d.update(q=>q)},viewport:s}}function It(l,e){var t;const n=[];for(const i of e){const s=l.get(i);if(s){const r="internals"in s?(t=s.internals)==null?void 0:t.userNode:s;n.push(r)}}return n}function nn(){const{nodes:l}=et();return l}function Wn(){const{edges:l}=et();return l}let ln=Ae([]),sn=Ae([]),rn=Ae([]),on=Ae([]);function Ge(l,e){Ze.set(l),Je.set(e)}function Xn(){Ge([],[])}const Ze=Ae([]),Je=Ae([]);function Yn(l){let e,n,t="You can drag these nodes to the pane below.",i,s,r,o,u="Action",f,a,d="Event",g,m,w="Attack",b,I,O="Countermeasure",T,k,E,v="Endurant",S,_,H="Artifact",q,h,L="Information",c,N,y="Agent",J,V,F,ne="State",j,Q,$="Vulnerability",le,ie,oe="Condition",Ce,ge;return{c(){e=D("aside"),n=D("div"),n.textContent=t,i=A(),s=D("div"),r=D("div"),o=D("div"),o.textContent=u,f=A(),a=D("div"),a.textContent=d,g=A(),m=D("div"),m.textContent=w,b=A(),I=D("div"),I.textContent=O,T=A(),k=D("div"),E=D("div"),E.textContent=v,S=A(),_=D("div"),_.textContent=H,q=A(),h=D("div"),h.textContent=L,c=A(),N=D("div"),N.textContent=y,J=A(),V=D("div"),F=D("div"),F.textContent=ne,j=A(),Q=D("div"),Q.textContent=$,le=A(),ie=D("div"),ie.textContent=oe,this.h()},l(ke){e=z(ke,"ASIDE",{class:!0});var we=K(e);n=z(we,"DIV",{class:!0,"data-svelte-h":!0}),de(n)!=="svelte-1go4e39"&&(n.textContent=t),i=P(we),s=z(we,"DIV",{class:!0});var W=K(s);r=z(W,"DIV",{class:!0});var Ie=K(r);o=z(Ie,"DIV",{class:!0,"data-svelte-h":!0}),de(o)!=="svelte-1yk6dej"&&(o.textContent=u),f=P(Ie),a=z(Ie,"DIV",{class:!0,draggable:!0,style:!0,title:!0,"data-svelte-h":!0}),de(a)!=="svelte-1hxo6k5"&&(a.textContent=d),g=P(Ie),m=z(Ie,"DIV",{class:!0,draggable:!0,style:!0,title:!0,"data-svelte-h":!0}),de(m)!=="svelte-1m30nhf"&&(m.textContent=w),b=P(Ie),I=z(Ie,"DIV",{class:!0,draggable:!0,style:!0,title:!0,"data-svelte-h":!0}),de(I)!=="svelte-xvztkt"&&(I.textContent=O),Ie.forEach(C),T=P(W),k=z(W,"DIV",{class:!0});var Ee=K(k);E=z(Ee,"DIV",{class:!0,"data-svelte-h":!0}),de(E)!=="svelte-13fxc4g"&&(E.textContent=v),S=P(Ee),_=z(Ee,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),de(_)!=="svelte-p6iki9"&&(_.textContent=H),q=P(Ee),h=z(Ee,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),de(h)!=="svelte-gfucir"&&(h.textContent=L),c=P(Ee),N=z(Ee,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),de(N)!=="svelte-1k1k96h"&&(N.textContent=y),Ee.forEach(C),J=P(W),V=z(W,"DIV",{class:!0});var Ne=K(V);F=z(Ne,"DIV",{class:!0,"data-svelte-h":!0}),de(F)!=="svelte-82roym"&&(F.textContent=ne),j=P(Ne),Q=z(Ne,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),de(Q)!=="svelte-tj9qj"&&(Q.textContent=$),le=P(Ne),ie=z(Ne,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),de(ie)!=="svelte-1mwlumu"&&(ie.textContent=oe),Ne.forEach(C),W.forEach(C),we.forEach(C),this.h()},h(){R(n,"class","label svelte-1vosa9g"),R(o,"class","text-center font-medium"),R(a,"class","actionNode example-node svelte-1vosa9g"),R(a,"draggable",!0),ee(a,"text-align","center"),ee(a,"background","white"),R(a,"title","d3f:Event"),R(m,"class","attackSelectorNode example-node svelte-1vosa9g"),R(m,"draggable",!0),ee(m,"text-align","center"),ee(m,"background","#FFD0D0"),R(m,"title","d3f:OffensiveTechnique"),R(I,"class","countermeasureSelectorNode example-node svelte-1vosa9g"),R(I,"draggable",!0),ee(I,"text-align","center"),ee(I,"background","#d6eaff"),R(I,"title","d3f:DefensiveTechnique"),R(r,"class","nodes-column svelte-1vosa9g"),R(E,"class","text-center font-medium"),R(_,"class","artifactSelectorNode art-node example-node svelte-1vosa9g"),R(_,"draggable",!0),ee(_,"text-align","center"),ee(_,"background","#fff4dd"),R(h,"class","informationSelectorNode example-node svelte-1vosa9g"),R(h,"draggable",!0),ee(h,"text-align","center"),ee(h,"background","#e8f4ea"),R(N,"class","agentSelectorNode example-node svelte-1vosa9g"),R(N,"draggable",!0),ee(N,"text-align","center"),ee(N,"background","#f0e6e6"),R(k,"class","nodes-column svelte-1vosa9g"),R(F,"class","text-center font-medium"),R(Q,"class","vulnerabilitySelectorNode example-node svelte-1vosa9g"),R(Q,"draggable",!0),ee(Q,"text-align","center"),ee(Q,"background","#f9d999"),R(ie,"class","conditionDefinitionNode example-node svelte-1vosa9g"),R(ie,"draggable",!0),ee(ie,"text-align","center"),ee(ie,"background","#ece6ff"),R(V,"class","nodes-column svelte-1vosa9g"),R(s,"class","nodes-container svelte-1vosa9g"),R(e,"class","svelte-1vosa9g")},m(ke,we){B(ke,e,we),p(e,n),p(e,i),p(e,s),p(s,r),p(r,o),p(r,f),p(r,a),p(r,g),p(r,m),p(r,b),p(r,I),p(s,T),p(s,k),p(k,E),p(k,S),p(k,_),p(k,q),p(k,h),p(k,c),p(k,N),p(s,J),p(s,V),p(V,F),p(V,j),p(V,Q),p(V,le),p(V,ie),Ce||(ge=[te(a,"dragstart",l[1]),te(m,"dragstart",l[2]),te(I,"dragstart",l[3]),te(_,"dragstart",l[4]),te(h,"dragstart",l[5]),te(N,"dragstart",l[6]),te(Q,"dragstart",l[7]),te(ie,"dragstart",l[8])],Ce=!0)},p:me,i:me,o:me,d(ke){ke&&C(e),Ce=!1,Ve(ge)}}}function Gn(l){const e=(a,d)=>{if(!a.dataTransfer)return null;a.dataTransfer.setData("application/svelteflow",d),a.dataTransfer.effectAllowed="move"};return[e,a=>e(a,"eventNode"),a=>e(a,"attackSelectorNode"),a=>e(a,"countermeasureSelectorNode"),a=>e(a,"artifactSelectorNode"),a=>e(a,"informationSelectorNode"),a=>e(a,"agentSelectorNode"),a=>e(a,"vulnerabilitySelectorNode"),a=>e(a,"conditionDefinitionNode")]}class Zn extends be{constructor(e){super(),_e(this,e,Gn,Yn,he,{})}}function Et(l,e,n){const t=l.slice();return t[14]=e[n],t}function St(l,e,n){const t=l.slice();return t[17]=e[n],t}function Tt(l){let e,n=pe(l[14].children),t=[];for(let i=0;i<n.length;i+=1)t[i]=Rt(St(l,n,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=ve()},l(i){for(let s=0;s<t.length;s+=1)t[s].l(i);e=ve()},m(i,s){for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(i,s);B(i,e,s)},p(i,s){if(s&20){n=pe(i[14].children);let r;for(r=0;r<n.length;r+=1){const o=St(i,n,r);t[r]?t[r].p(o,s):(t[r]=Rt(o),t[r].c(),t[r].m(e.parentNode,e))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},d(i){i&&C(e),Pe(t,i)}}}function Rt(l){let e,n=l[17]["rdfs:label"]+"",t,i,s,r,o;function u(...a){return l[9](l[17],...a)}function f(...a){return l[10](l[17],...a)}return{c(){e=D("div"),t=ue(n),i=A(),this.h()},l(a){e=z(a,"DIV",{class:!0,title:!0,tabindex:!0,role:!0});var d=K(e);t=ce(d,n),i=P(d),d.forEach(C),this.h()},h(){R(e,"class","select-technique svelte-1le30db"),R(e,"title",s=l[17]["d3f:definition"]),R(e,"tabindex","0"),R(e,"role","button")},m(a,d){B(a,e,d),p(e,t),p(e,i),r||(o=[te(e,"click",Se(Ue(u))),te(e,"keydown",Se(f))],r=!0)},p(a,d){l=a,d&16&&n!==(n=l[17]["rdfs:label"]+"")&&ye(t,n),d&16&&s!==(s=l[17]["d3f:definition"])&&R(e,"title",s)},d(a){a&&C(e),r=!1,Ve(o)}}}function Vt(l){let e,n,t=l[14]["rdfs:label"]+"",i,s,r,o,u,f,a,d=(l[3]===l[14]["@id"]||l[5])&&Tt(l);return{c(){e=D("details"),n=D("summary"),i=ue(t),r=A(),d&&d.c(),o=A(),this.h()},l(g){e=z(g,"DETAILS",{class:!0});var m=K(e);n=z(m,"SUMMARY",{id:!0,class:!0});var w=K(n);i=ce(w,t),w.forEach(C),r=P(m),d&&d.l(m),o=P(m),m.forEach(C),this.h()},h(){R(n,"id",s=l[14]["@id"]),R(n,"class","svelte-1le30db"),e.open=u=l[3]===l[14]["@id"]||l[5],R(e,"class","svelte-1le30db")},m(g,m){B(g,e,m),p(e,n),p(n,i),p(e,r),d&&d.m(e,null),p(e,o),f||(a=te(n,"click",Se(Ue(l[6]))),f=!0)},p(g,m){m&16&&t!==(t=g[14]["rdfs:label"]+"")&&ye(i,t),m&16&&s!==(s=g[14]["@id"])&&R(n,"id",s),g[3]===g[14]["@id"]||g[5]?d?d.p(g,m):(d=Tt(g),d.c(),d.m(e,o)):d&&(d.d(1),d=null),m&56&&u!==(u=g[3]===g[14]["@id"]||g[5])&&(e.open=u)},d(g){g&&C(e),d&&d.d(),f=!1,a()}}}function Jn(l){let e,n=pe(l[4]),t=[];for(let i=0;i<n.length;i+=1)t[i]=Vt(Et(l,n,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=ve()},l(i){for(let s=0;s<t.length;s+=1)t[s].l(i);e=ve()},m(i,s){for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(i,s);B(i,e,s)},p(i,[s]){if(s&124){n=pe(i[4]);let r;for(r=0;r<n.length;r+=1){const o=Et(i,n,r);t[r]?t[r].p(o,s):(t[r]=Vt(o),t[r].c(),t[r].m(e.parentNode,e))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},i:me,o:me,d(i){i&&C(e),Pe(t,i)}}}function Kn(l,e,n){let t,i,s=me,r=()=>(s(),s=Le(d,v=>n(7,i=v)),d),o,u=me,f=()=>(u(),u=Le(a,v=>n(8,o=v)),a);l.$$.on_destroy.push(()=>s()),l.$$.on_destroy.push(()=>u());let{list:a}=e;f();let{filterValueStore:d}=e;r();let{selectItem:g}=e;const m=["d3f:definition","rdfs:label","@id","d3f:d3fend-id"];let w=null,b=[];function I(v,S){for(const _ of m)if(S.test(v[_]))return!0;return!1}function O(v,S){if(!S)return v;const _=S?new RegExp(S,"i"):null,H=h=>_?I(h,_):!0;return v.reduce((h,L)=>(h.push({...L,children:L.children.filter(H)}),h),[]).filter(h=>h.children.length>0)}function T(v){const{id:S}=v.target;w===S?n(3,w=null):n(3,w=S)}const k=(v,S)=>g(S,v),E=(v,S)=>qe(S,g,v);return l.$$set=v=>{"list"in v&&f(n(0,a=v.list)),"filterValueStore"in v&&r(n(1,d=v.filterValueStore)),"selectItem"in v&&n(2,g=v.selectItem)},l.$$.update=()=>{l.$$.dirty&384&&n(4,b=O(o,i)),l.$$.dirty&128&&n(5,t=!!i)},[a,d,g,w,b,t,T,i,o,k,E]}class Qn extends be{constructor(e){super(),_e(this,e,Kn,Jn,he,{list:0,filterValueStore:1,selectItem:2})}}function Nt(l,e,n){const t=l.slice();return t[11]=e[n],t}function Dt(l){let e,n=l[11]["rdfs:label"][0]+"",t,i,s,r,o;function u(...a){return l[6](l[11],...a)}function f(...a){return l[7](l[11],...a)}return{c(){e=D("div"),t=ue(n),i=A(),this.h()},l(a){e=z(a,"DIV",{class:!0,title:!0,tabindex:!0,role:!0});var d=K(e);t=ce(d,n),i=P(d),d.forEach(C),this.h()},h(){R(e,"class","select-technique svelte-1212mzy"),R(e,"title",s=l[11]["d3f:definition"]),R(e,"tabindex","0"),R(e,"role","button")},m(a,d){B(a,e,d),p(e,t),p(e,i),r||(o=[te(e,"click",Se(Ue(u))),te(e,"keydown",Se(f))],r=!0)},p(a,d){l=a,d&8&&n!==(n=l[11]["rdfs:label"][0]+"")&&ye(t,n),d&8&&s!==(s=l[11]["d3f:definition"])&&R(e,"title",s)},d(a){a&&C(e),r=!1,Ve(o)}}}function $n(l){let e,n=pe(l[3]),t=[];for(let i=0;i<n.length;i+=1)t[i]=Dt(Nt(l,n,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=ve()},l(i){for(let s=0;s<t.length;s+=1)t[s].l(i);e=ve()},m(i,s){for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(i,s);B(i,e,s)},p(i,[s]){if(s&12){n=pe(i[3]);let r;for(r=0;r<n.length;r+=1){const o=Nt(i,n,r);t[r]?t[r].p(o,s):(t[r]=Dt(o),t[r].c(),t[r].m(e.parentNode,e))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},i:me,o:me,d(i){i&&C(e),Pe(t,i)}}}function xn(l,e,n){let t,i=me,s=()=>(i(),i=Le(a,T=>n(4,t=T)),a),r,o=me,u=()=>(o(),o=Le(f,T=>n(5,r=T)),f);l.$$.on_destroy.push(()=>i()),l.$$.on_destroy.push(()=>o());let{list:f}=e;u();let{filterValueStore:a}=e;s();let{selectItem:d}=e;const g=["d3f:definition","rdfs:label","@id","d3f:d3fend-id"];let m=[];function w(T,k){for(const E of g)if(k.test(T[E]))return!0;return!1}function b(T,k){if(!k)return T;const E=k?new RegExp(k,"i"):null,v=S=>E?w(S,E):!0;return T.filter(v)}const I=(T,k)=>d(k,T),O=(T,k)=>qe(k,d,T);return l.$$set=T=>{"list"in T&&u(n(0,f=T.list)),"filterValueStore"in T&&s(n(1,a=T.filterValueStore)),"selectItem"in T&&n(2,d=T.selectItem)},l.$$.update=()=>{l.$$.dirty&48&&n(3,m=b(r["@graph"],t))},[f,a,d,m,t,r,I,O]}class el extends be{constructor(e){super(),_e(this,e,xn,$n,he,{list:0,filterValueStore:1,selectItem:2})}}function zt(l,e,n){const t=l.slice();return t[11]=e[n],t}function Lt(l){let e,n=l[11]["rdfs:label"]+"",t,i,s,r,o;function u(...a){return l[6](l[11],...a)}function f(...a){return l[7](l[11],...a)}return{c(){e=D("div"),t=ue(n),i=A(),this.h()},l(a){e=z(a,"DIV",{class:!0,title:!0,tabindex:!0,role:!0});var d=K(e);t=ce(d,n),i=P(d),d.forEach(C),this.h()},h(){R(e,"class","select-technique svelte-1212mzy"),R(e,"title",s=l[11]["d3f:definition"]),R(e,"tabindex","0"),R(e,"role","button")},m(a,d){B(a,e,d),p(e,t),p(e,i),r||(o=[te(e,"click",Se(Ue(u))),te(e,"keydown",Se(f))],r=!0)},p(a,d){l=a,d&8&&n!==(n=l[11]["rdfs:label"]+"")&&ye(t,n),d&8&&s!==(s=l[11]["d3f:definition"])&&R(e,"title",s)},d(a){a&&C(e),r=!1,Ve(o)}}}function tl(l){let e,n=pe(l[3]),t=[];for(let i=0;i<n.length;i+=1)t[i]=Lt(zt(l,n,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=ve()},l(i){for(let s=0;s<t.length;s+=1)t[s].l(i);e=ve()},m(i,s){for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(i,s);B(i,e,s)},p(i,[s]){if(s&12){n=pe(i[3]);let r;for(r=0;r<n.length;r+=1){const o=zt(i,n,r);t[r]?t[r].p(o,s):(t[r]=Lt(o),t[r].c(),t[r].m(e.parentNode,e))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},i:me,o:me,d(i){i&&C(e),Pe(t,i)}}}function nl(l,e,n){let t,i=me,s=()=>(i(),i=Le(a,T=>n(4,t=T)),a),r,o=me,u=()=>(o(),o=Le(f,T=>n(5,r=T)),f);l.$$.on_destroy.push(()=>i()),l.$$.on_destroy.push(()=>o());let{list:f}=e;u();let{filterValueStore:a}=e;s();let{selectItem:d}=e;const g=["@id","d3f:attack-id","rdfs:label"];let m=[];function w(T,k){for(const E of g)if(k.test(T[E]))return!0;return!1}function b(T,k){if(!k)return T;const E=k?new RegExp(k,"i"):null,v=S=>E?w(S,E):!0;return T.filter(v)}const I=(T,k)=>d(k,T),O=(T,k)=>qe(k,d,T);return l.$$set=T=>{"list"in T&&u(n(0,f=T.list)),"filterValueStore"in T&&s(n(1,a=T.filterValueStore)),"selectItem"in T&&n(2,d=T.selectItem)},l.$$.update=()=>{l.$$.dirty&48&&n(3,m=b(r,t))},[f,a,d,m,t,r,I,O]}class ll extends be{constructor(e){super(),_e(this,e,nl,tl,he,{list:0,filterValueStore:1,selectItem:2})}}function At(l,e,n){const t=l.slice();return t[14]=e[n],t}function Pt(l,e,n){const t=l.slice();return t[17]=e[n],t}function Ot(l){let e,n=pe(l[14].children),t=[];for(let i=0;i<n.length;i+=1)t[i]=Bt(Pt(l,n,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=ve()},l(i){for(let s=0;s<t.length;s+=1)t[s].l(i);e=ve()},m(i,s){for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(i,s);B(i,e,s)},p(i,s){if(s&20){n=pe(i[14].children);let r;for(r=0;r<n.length;r+=1){const o=Pt(i,n,r);t[r]?t[r].p(o,s):(t[r]=Bt(o),t[r].c(),t[r].m(e.parentNode,e))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},d(i){i&&C(e),Pe(t,i)}}}function Bt(l){let e,n=l[17]["rdfs:label"]+"",t,i,s,r,o;function u(...a){return l[9](l[17],...a)}function f(...a){return l[10](l[17],...a)}return{c(){e=D("div"),t=ue(n),i=A(),this.h()},l(a){e=z(a,"DIV",{class:!0,title:!0,tabindex:!0,role:!0});var d=K(e);t=ce(d,n),i=P(d),d.forEach(C),this.h()},h(){R(e,"class","select-technique svelte-1le30db"),R(e,"title",s=l[17]["d3f:definition"]),R(e,"tabindex","0"),R(e,"role","button")},m(a,d){B(a,e,d),p(e,t),p(e,i),r||(o=[te(e,"click",Se(Ue(u))),te(e,"keydown",Se(f))],r=!0)},p(a,d){l=a,d&16&&n!==(n=l[17]["rdfs:label"]+"")&&ye(t,n),d&16&&s!==(s=l[17]["d3f:definition"])&&R(e,"title",s)},d(a){a&&C(e),r=!1,Ve(o)}}}function Ht(l){let e,n,t=l[14]["rdfs:label"]+"",i,s,r,o,u,f,a,d=(l[3]===l[14]["@id"]||l[5])&&Ot(l);return{c(){e=D("details"),n=D("summary"),i=ue(t),r=A(),d&&d.c(),o=A(),this.h()},l(g){e=z(g,"DETAILS",{class:!0});var m=K(e);n=z(m,"SUMMARY",{id:!0,class:!0});var w=K(n);i=ce(w,t),w.forEach(C),r=P(m),d&&d.l(m),o=P(m),m.forEach(C),this.h()},h(){R(n,"id",s=l[14]["@id"]),R(n,"class","svelte-1le30db"),e.open=u=l[3]===l[14]["@id"]||l[5],R(e,"class","svelte-1le30db")},m(g,m){B(g,e,m),p(e,n),p(n,i),p(e,r),d&&d.m(e,null),p(e,o),f||(a=te(n,"click",Se(Ue(l[6]))),f=!0)},p(g,m){m&16&&t!==(t=g[14]["rdfs:label"]+"")&&ye(i,t),m&16&&s!==(s=g[14]["@id"])&&R(n,"id",s),g[3]===g[14]["@id"]||g[5]?d?d.p(g,m):(d=Ot(g),d.c(),d.m(e,o)):d&&(d.d(1),d=null),m&56&&u!==(u=g[3]===g[14]["@id"]||g[5])&&(e.open=u)},d(g){g&&C(e),d&&d.d(),f=!1,a()}}}function il(l){let e,n=pe(l[4]),t=[];for(let i=0;i<n.length;i+=1)t[i]=Ht(At(l,n,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=ve()},l(i){for(let s=0;s<t.length;s+=1)t[s].l(i);e=ve()},m(i,s){for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(i,s);B(i,e,s)},p(i,[s]){if(s&124){n=pe(i[4]);let r;for(r=0;r<n.length;r+=1){const o=At(i,n,r);t[r]?t[r].p(o,s):(t[r]=Ht(o),t[r].c(),t[r].m(e.parentNode,e))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},i:me,o:me,d(i){i&&C(e),Pe(t,i)}}}function sl(l,e,n){let t,i,s=me,r=()=>(s(),s=Le(d,v=>n(7,i=v)),d),o,u=me,f=()=>(u(),u=Le(a,v=>n(8,o=v)),a);l.$$.on_destroy.push(()=>s()),l.$$.on_destroy.push(()=>u());let{list:a}=e;f();let{filterValueStore:d}=e;r();let{selectItem:g}=e;const m=["d3f:definition","rdfs:label","@id"];let w=null,b=[];function I(v,S){for(const _ of m)if(S.test(v[_]))return!0;return!1}function O(v,S){if(!S)return v;const _=S?new RegExp(S,"i"):null,H=h=>_?I(h,_):!0;return v.reduce((h,L)=>(h.push({...L,children:L.children.filter(H)}),h),[]).filter(h=>h.children.length>0)}function T(v){const{id:S}=v.target;w===S?n(3,w=null):n(3,w=S)}const k=(v,S)=>g(S,v),E=(v,S)=>qe(S,g,v);return l.$$set=v=>{"list"in v&&f(n(0,a=v.list)),"filterValueStore"in v&&r(n(1,d=v.filterValueStore)),"selectItem"in v&&n(2,g=v.selectItem)},l.$$.update=()=>{l.$$.dirty&384&&n(4,b=O(o,i)),l.$$.dirty&128&&n(5,t=!!i)},[a,d,g,w,b,t,T,i,o,k,E]}class rl extends be{constructor(e){super(),_e(this,e,sl,il,he,{list:0,filterValueStore:1,selectItem:2})}}const ol=l=>({}),Mt=l=>({R:l[6],filterValueStore:l[4],selectItem:l[9]});function qt(l){let e,n,t,i,s,r,o;const u=l[15].default,f=Ke(u,l,l[14],Mt);return{c(){e=D("ul"),n=D("input"),t=A(),f&&f.c(),this.h()},l(a){e=z(a,"UL",{class:!0});var d=K(e);n=z(d,"INPUT",{type:!0,id:!0,name:!0,placeholder:!0,class:!0}),t=P(d),f&&f.l(d),d.forEach(C),this.h()},h(){R(n,"type","text"),R(n,"id","filter"),R(n,"name","filter"),R(n,"placeholder","Filter / Save"),R(n,"class","svelte-105ylub"),R(e,"class","dropdown-menu svelte-105ylub")},m(a,d){B(a,e,d),p(e,n),p(e,t),f&&f.m(e,null),s=!0,r||(o=[Jt(An.call(null,n)),te(n,"click",Se(l[16])),te(n,"keyup",Se(l[17])),te(n,"keydown",Se(l[18]))],r=!0)},p(a,d){f&&f.p&&(!s||d&16384)&&Qe(f,u,a,a[14],s?xe(u,a[14],d,ol):$e(a[14]),Mt)},i(a){s||(M(f,a),a&&Kt(()=>{s&&(i||(i=rt(e,gt,{delay:50,duration:200,axis:"y"},!0)),i.run(1))}),s=!0)},o(a){U(f,a),a&&(i||(i=rt(e,gt,{delay:50,duration:200,axis:"y"},!1)),i.run(0)),s=!1},d(a){a&&C(e),f&&f.d(a),a&&i&&i.end(),r=!1,Ve(o)}}}function al(l){let e,n,t,i,s,r,o,u,f,a,d=l[2]&&qt(l);return{c(){e=D("div"),n=D("div"),t=D("div"),i=D("span"),s=ue(l[1]),r=A(),d&&d.c(),this.h()},l(g){e=z(g,"DIV",{class:!0,style:!0});var m=K(e);n=z(m,"DIV",{class:!0,role:!0,tabindex:!0});var w=K(n);t=z(w,"DIV",{class:!0});var b=K(t);i=z(b,"SPAN",{class:!0});var I=K(i);s=ce(I,l[1]),I.forEach(C),b.forEach(C),r=P(w),d&&d.l(w),w.forEach(C),m.forEach(C),this.h()},h(){R(i,"class","selected svelte-105ylub"),R(t,"class","select autocomplete-dropdown svelte-105ylub"),R(n,"class",o="dropdown "+(l[2]?"active":"")+" svelte-105ylub"),R(n,"role","button"),R(n,"tabindex","0"),R(e,"class","container svelte-105ylub"),ee(e,"--input-color",l[0])},m(g,m){B(g,e,m),p(e,n),p(n,t),p(t,i),p(i,s),p(n,r),d&&d.m(n,null),u=!0,f||(a=[te(n,"click",l[8]),te(n,"keydown",l[19]),Jt(Ln.call(null,e)),te(e,"outsideclick",l[7])],f=!0)},p(g,[m]){(!u||m&2)&&ye(s,g[1]),g[2]?d?(d.p(g,m),m&4&&M(d,1)):(d=qt(g),d.c(),M(d,1),d.m(n,null)):d&&(He(),U(d,1,1,()=>{d=null}),Me()),(!u||m&4&&o!==(o="dropdown "+(g[2]?"active":"")+" svelte-105ylub"))&&R(n,"class",o),(!u||m&1)&&ee(e,"--input-color",g[0])},i(g){u||(M(d),u=!0)},o(g){U(d),u=!1},d(g){g&&C(e),d&&d.d(),f=!1,Ve(a)}}}function fl(l,e,n){let t,i,s,r,{$$slots:o={},$$scope:u}=e,{nodeId:f}=e,{elementId:a}=e,{inputColor:d}=e;const g=Ae(!1);Re(l,g,h=>n(2,r=h));const m=Ae(null);Re(l,m,h=>n(21,i=h));const w=nn();Re(l,w,h=>n(22,s=h));const b={ItemD3fend:Qn,ItemArtifact:el,ItemAttack:ll,ItemEvent:rl};let I;function O(){Be(g,r=!1,r),Be(m,i="",i)}function T(h){r?O():Be(g,r=!0,r)}function k(h,L){let c=L["rdfs:label"];Array.isArray(L["rdfs:label"])&&(c=L["rdfs:label"][0]),s.forEach(N=>{N.id===f&&(N.data={...N.data,techniqueId:L["@id"],label:c})}),w.set(s),O()}function E(h){clearTimeout(I),I=setTimeout(()=>{Be(m,i=h.target.value,i)},300)}function v(h){const L=h.target.value;k(h,{"rdfs:label":L,"@id":L})}function S(h){Qt.call(this,l,h)}const _=h=>E(h),H=h=>qe(h,v),q=h=>qe(h,T);return l.$$set=h=>{"nodeId"in h&&n(12,f=h.nodeId),"elementId"in h&&n(13,a=h.elementId),"inputColor"in h&&n(0,d=h.inputColor),"$$scope"in h&&n(14,u=h.$$scope)},l.$$.update=()=>{l.$$.dirty&8192&&n(1,t=a||"< d3fend class >")},[d,t,r,g,m,w,b,O,T,k,E,v,f,a,u,o,S,_,H,q]}class tt extends be{constructor(e){super(),_e(this,e,fl,al,he,{nodeId:12,elementId:13,inputColor:0})}}function dl(l){let e,n;return e=new l[6].ItemAttack({props:{list:rn,filterValueStore:l[7],selectItem:l[8]}}),{c(){X(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,i){G(e,t,i),n=!0},p(t,i){const s={};i&128&&(s.filterValueStore=t[7]),i&256&&(s.selectItem=t[8]),e.$set(s)},i(t){n||(M(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function ul(l){let e,n,t,i,s,r,o,u,f,a,d,g,m,w,b,I,O,T,k,E,v,S,_,H,q;return e=new se({props:{type:"target",position:re.Top,id:"attackTopTarget",style:"background: #ffc3c7; border-width: 2px; border-color: red;",isConnectable:l[1]}}),t=new se({props:{type:"source",position:re.Bottom,id:"attackBottomSource",style:"background: red; border-width: 2px; border-color: #ffc3c7;",isConnectable:l[1]}}),s=new se({props:{type:"source",position:re.Right,id:"attackRightSource",style:"background: red; border-width: 2px; border-color:  #ffc3c7;",isConnectable:l[1]}}),f=new Oe({props:{isVisible:l[2]}}),T=new tt({props:{nodeId:l[3],elementId:l[0].techniqueId,inputColor:"#ffc3c7",$$slots:{default:[dl,({R:h,filterValueStore:L,selectItem:c})=>({6:h,7:L,8:c}),({R:h,filterValueStore:L,selectItem:c})=>(h?64:0)|(L?128:0)|(c?256:0)]},$$scope:{ctx:l}}}),{c(){X(e.$$.fragment),n=A(),X(t.$$.fragment),i=A(),X(s.$$.fragment),r=A(),o=D("div"),u=D("div"),X(f.$$.fragment),a=A(),d=D("i"),g=ue(`Attack Action
        `),m=D("input"),b=A(),I=D("br"),O=A(),X(T.$$.fragment),k=A(),E=D("div"),v=D("input"),this.h()},l(h){Y(e.$$.fragment,h),n=P(h),Y(t.$$.fragment,h),i=P(h),Y(s.$$.fragment,h),r=P(h),o=z(h,"DIV",{class:!0});var L=K(o);u=z(L,"DIV",{class:!0});var c=K(u);Y(f.$$.fragment,c),a=P(c),d=z(c,"I",{});var N=K(d);g=ce(N,`Attack Action
        `),m=z(N,"INPUT",{class:!0,type:!0,style:!0}),N.forEach(C),b=P(c),I=z(c,"BR",{}),O=P(c),Y(T.$$.fragment,c),k=P(c),E=z(c,"DIV",{});var y=K(E);v=z(y,"INPUT",{class:!0,type:!0,style:!0}),y.forEach(C),c.forEach(C),L.forEach(C),this.h()},h(){R(m,"class","nodrag sequence"),R(m,"type","text"),ee(m,"background","#ffc3c7"),m.value=w=l[0].sequence||"#",R(v,"class","nodrag"),R(v,"type","text"),ee(v,"text-align","center"),ee(v,"background","#ffc3c7"),ee(v,"font-weight","bold"),v.value=S=l[0].label||" < label >",R(u,"class","attack-node node-inner svelte-pkj1to"),R(o,"class","attack-node node svelte-pkj1to")},m(h,L){G(e,h,L),B(h,n,L),G(t,h,L),B(h,i,L),G(s,h,L),B(h,r,L),B(h,o,L),p(o,u),G(f,u,null),p(u,a),p(u,d),p(d,g),p(d,m),p(u,b),p(u,I),p(u,O),G(T,u,null),p(u,k),p(u,E),p(E,v),_=!0,H||(q=[te(m,"input",l[4]),te(v,"input",l[5])],H=!0)},p(h,[L]){const c={};L&2&&(c.isConnectable=h[1]),e.$set(c);const N={};L&2&&(N.isConnectable=h[1]),t.$set(N);const y={};L&2&&(y.isConnectable=h[1]),s.$set(y);const J={};L&4&&(J.isVisible=h[2]),f.$set(J),(!_||L&1&&w!==(w=h[0].sequence||"#")&&m.value!==w)&&(m.value=w);const V={};L&8&&(V.nodeId=h[3]),L&1&&(V.elementId=h[0].techniqueId),L&896&&(V.$$scope={dirty:L,ctx:h}),T.$set(V),(!_||L&1&&S!==(S=h[0].label||" < label >")&&v.value!==S)&&(v.value=S)},i(h){_||(M(e.$$.fragment,h),M(t.$$.fragment,h),M(s.$$.fragment,h),M(f.$$.fragment,h),M(T.$$.fragment,h),_=!0)},o(h){U(e.$$.fragment,h),U(t.$$.fragment,h),U(s.$$.fragment,h),U(f.$$.fragment,h),U(T.$$.fragment,h),_=!1},d(h){h&&(C(n),C(i),C(r),C(o)),Z(e,h),Z(t,h),Z(s,h),Z(f),Z(T),H=!1,Ve(q)}}}function cl(l,e,n){let{data:t}=e,{isConnectable:i}=e,{selected:s=void 0}=e,{id:r}=e;const o=f=>{n(0,t.sequence=f.currentTarget.value,t)},u=f=>{n(0,t.label=f.currentTarget.value,t)};return l.$$set=f=>{"data"in f&&n(0,t=f.data),"isConnectable"in f&&n(1,i=f.isConnectable),"selected"in f&&n(2,s=f.selected),"id"in f&&n(3,r=f.id)},[t,i,s,r,o,u]}class ml extends be{constructor(e){super(),_e(this,e,cl,ul,he,{data:0,isConnectable:1,selected:2,id:3})}}function gl(l){let e,n,t,i,s,r,o,u="Vulnerability",f,a,d,g,m,w,b,I,O,T,k,E,v;return e=new se({props:{type:"target",position:re.Left,id:"attackLeftTarget",style:"top: 50%; background: #ffc3c7; border-color: red;",isConnectable:l[1]}}),t=new se({props:{type:"source",position:re.Right,id:"vulnerabilityRightSource",style:"top: 50%; background: orange; border-width: 2px; border-color: #f9d999;",isConnectable:l[1]}}),{c(){X(e.$$.fragment),n=A(),X(t.$$.fragment),i=A(),s=D("div"),r=D("div"),o=D("i"),o.textContent=u,f=A(),a=D("br"),d=A(),g=D("div"),m=D("input"),b=A(),I=D("div"),O=D("input"),this.h()},l(S){Y(e.$$.fragment,S),n=P(S),Y(t.$$.fragment,S),i=P(S),s=z(S,"DIV",{class:!0});var _=K(s);r=z(_,"DIV",{class:!0});var H=K(r);o=z(H,"I",{"data-svelte-h":!0}),de(o)!=="svelte-qgxj0w"&&(o.textContent=u),f=P(H),a=z(H,"BR",{}),d=P(H),g=z(H,"DIV",{});var q=K(g);m=z(q,"INPUT",{class:!0,type:!0,style:!0}),q.forEach(C),b=P(H),I=z(H,"DIV",{});var h=K(I);O=z(h,"INPUT",{class:!0,type:!0,style:!0}),h.forEach(C),H.forEach(C),_.forEach(C),this.h()},h(){R(m,"class","nodrag"),R(m,"type","text"),ee(m,"text-align","center"),ee(m,"background","#f9d999"),ee(m,"font-weight","bold"),m.value=w=l[0].weakness||"< weakness >",R(O,"class","nodrag label"),R(O,"type","text"),ee(O,"background","#f9d999"),O.value=T=l[0].label||"< label >",R(r,"class","vulnerability node-inner svelte-1arbzsr"),R(s,"class","vulnerability node svelte-1arbzsr")},m(S,_){G(e,S,_),B(S,n,_),G(t,S,_),B(S,i,_),B(S,s,_),p(s,r),p(r,o),p(r,f),p(r,a),p(r,d),p(r,g),p(g,m),p(r,b),p(r,I),p(I,O),k=!0,E||(v=[te(m,"input",l[3]),te(O,"input",l[4])],E=!0)},p(S,[_]){const H={};_&2&&(H.isConnectable=S[1]),e.$set(H);const q={};_&2&&(q.isConnectable=S[1]),t.$set(q),(!k||_&1&&w!==(w=S[0].weakness||"< weakness >")&&m.value!==w)&&(m.value=w),(!k||_&1&&T!==(T=S[0].label||"< label >")&&O.value!==T)&&(O.value=T)},i(S){k||(M(e.$$.fragment,S),M(t.$$.fragment,S),k=!0)},o(S){U(e.$$.fragment,S),U(t.$$.fragment,S),k=!1},d(S){S&&(C(n),C(i),C(s)),Z(e,S),Z(t,S),E=!1,Ve(v)}}}function hl(l,e,n){let{data:t}=e,{isConnectable:i}=e,{selected:s=void 0}=e;const r=u=>{n(0,t.weakness=u.currentTarget.value,t)},o=u=>{n(0,t.label=u.currentTarget.value,t)};return l.$$set=u=>{"data"in u&&n(0,t=u.data),"isConnectable"in u&&n(1,i=u.isConnectable),"selected"in u&&n(2,s=u.selected)},[t,i,s,r,o]}class bl extends be{constructor(e){super(),_e(this,e,hl,gl,he,{data:0,isConnectable:1,selected:2})}}function _l(l){let e,n;return e=new l[5].ItemArtifact({props:{list:sn,filterValueStore:l[6],selectItem:l[7]}}),{c(){X(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,i){G(e,t,i),n=!0},p(t,i){const s={};i&64&&(s.filterValueStore=t[6]),i&128&&(s.selectItem=t[7]),e.$set(s)},i(t){n||(M(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function vl(l){let e,n,t,i,s,r,o,u,f,a,d,g,m,w,b,I,O,T="Artifact",k,E,v,S,_,H,q,h,L,c,N;return e=new se({props:{type:"target",position:re.Left,id:"attackLeftTarget",style:"top: 20%; background: #ffc3c7; border-width: 2px; border-color: red;",isConnectable:l[1]}}),t=new se({props:{type:"target",position:re.Right,id:"defenseRightTarget",style:"top: 20%; background: #8ac3ff; border-width: 2px; border-color: #062f4f;",isConnectable:l[1]}}),s=new se({props:{type:"target",position:re.Left,id:"vulnerabilityLeftTarget",style:"top: 50%; border-color: orange; border-width: 2px; background: #f9d999;",isConnectable:l[1]}}),o=new se({props:{type:"target",position:re.Top,id:"artTopTarget",style:"background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:l[1]}}),f=new se({props:{type:"target",position:re.Left,id:"artLeftTarget",style:"top: 80%; background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:l[1]}}),d=new se({props:{type:"source",position:re.Bottom,id:"artBottomSource",style:"border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:l[1]}}),m=new se({props:{type:"source",position:re.Right,id:"artRightSource",style:"top: 80%; border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:l[1]}}),v=new Oe({props:{isVisible:l[2]}}),_=new tt({props:{nodeId:l[3],elementId:l[0].techniqueId,inputColor:"#fff4dd",$$slots:{default:[_l,({R:y,filterValueStore:J,selectItem:V})=>({5:y,6:J,7:V}),({R:y,filterValueStore:J,selectItem:V})=>(y?32:0)|(J?64:0)|(V?128:0)]},$$scope:{ctx:l}}}),{c(){X(e.$$.fragment),n=A(),X(t.$$.fragment),i=A(),X(s.$$.fragment),r=A(),X(o.$$.fragment),u=A(),X(f.$$.fragment),a=A(),X(d.$$.fragment),g=A(),X(m.$$.fragment),w=A(),b=D("div"),I=D("div"),O=D("i"),O.textContent=T,k=D("br"),E=A(),X(v.$$.fragment),S=A(),X(_.$$.fragment),H=A(),q=D("input"),this.h()},l(y){Y(e.$$.fragment,y),n=P(y),Y(t.$$.fragment,y),i=P(y),Y(s.$$.fragment,y),r=P(y),Y(o.$$.fragment,y),u=P(y),Y(f.$$.fragment,y),a=P(y),Y(d.$$.fragment,y),g=P(y),Y(m.$$.fragment,y),w=P(y),b=z(y,"DIV",{class:!0});var J=K(b);I=z(J,"DIV",{class:!0});var V=K(I);O=z(V,"I",{"data-svelte-h":!0}),de(O)!=="svelte-148na2y"&&(O.textContent=T),k=z(V,"BR",{}),E=P(V),Y(v.$$.fragment,V),S=P(V),Y(_.$$.fragment,V),H=P(V),q=z(V,"INPUT",{class:!0,type:!0,style:!0}),V.forEach(C),J.forEach(C),this.h()},h(){R(q,"class","nodrag label"),R(q,"type","text"),ee(q,"background","#fff4dd"),q.value=h=l[0].label||"< label >",R(I,"class","node-inner"),R(b,"class","artifact node svelte-1q2d78v")},m(y,J){G(e,y,J),B(y,n,J),G(t,y,J),B(y,i,J),G(s,y,J),B(y,r,J),G(o,y,J),B(y,u,J),G(f,y,J),B(y,a,J),G(d,y,J),B(y,g,J),G(m,y,J),B(y,w,J),B(y,b,J),p(b,I),p(I,O),p(I,k),p(I,E),G(v,I,null),p(I,S),G(_,I,null),p(I,H),p(I,q),L=!0,c||(N=te(q,"input",l[4]),c=!0)},p(y,[J]){const V={};J&2&&(V.isConnectable=y[1]),e.$set(V);const F={};J&2&&(F.isConnectable=y[1]),t.$set(F);const ne={};J&2&&(ne.isConnectable=y[1]),s.$set(ne);const j={};J&2&&(j.isConnectable=y[1]),o.$set(j);const Q={};J&2&&(Q.isConnectable=y[1]),f.$set(Q);const $={};J&2&&($.isConnectable=y[1]),d.$set($);const le={};J&2&&(le.isConnectable=y[1]),m.$set(le);const ie={};J&4&&(ie.isVisible=y[2]),v.$set(ie);const oe={};J&8&&(oe.nodeId=y[3]),J&1&&(oe.elementId=y[0].techniqueId),J&448&&(oe.$$scope={dirty:J,ctx:y}),_.$set(oe),(!L||J&1&&h!==(h=y[0].label||"< label >")&&q.value!==h)&&(q.value=h)},i(y){L||(M(e.$$.fragment,y),M(t.$$.fragment,y),M(s.$$.fragment,y),M(o.$$.fragment,y),M(f.$$.fragment,y),M(d.$$.fragment,y),M(m.$$.fragment,y),M(v.$$.fragment,y),M(_.$$.fragment,y),L=!0)},o(y){U(e.$$.fragment,y),U(t.$$.fragment,y),U(s.$$.fragment,y),U(o.$$.fragment,y),U(f.$$.fragment,y),U(d.$$.fragment,y),U(m.$$.fragment,y),U(v.$$.fragment,y),U(_.$$.fragment,y),L=!1},d(y){y&&(C(n),C(i),C(r),C(u),C(a),C(g),C(w),C(b)),Z(e,y),Z(t,y),Z(s,y),Z(o,y),Z(f,y),Z(d,y),Z(m,y),Z(v),Z(_),c=!1,N()}}}function pl(l,e,n){let{data:t}=e,{isConnectable:i}=e,{selected:s=void 0}=e,{id:r}=e;const o=u=>{n(0,t.label=u.currentTarget.value,t)};return l.$$set=u=>{"data"in u&&n(0,t=u.data),"isConnectable"in u&&n(1,i=u.isConnectable),"selected"in u&&n(2,s=u.selected),"id"in u&&n(3,r=u.id)},[t,i,s,r,o]}class Cl extends be{constructor(e){super(),_e(this,e,pl,vl,he,{data:0,isConnectable:1,selected:2,id:3})}}function kl(l){let e,n;return e=new l[8].ItemD3fend({props:{list:ln,filterValueStore:l[9],selectItem:l[10]}}),{c(){X(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,i){G(e,t,i),n=!0},p(t,i){const s={};i&512&&(s.filterValueStore=t[9]),i&1024&&(s.selectItem=t[10]),e.$set(s)},i(t){n||(M(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function wl(l){let e,n,t,i,s,r,o,u,f,a,d,g="Defense Action",m,w,b,I,O,T,k,E,v,S,_,H,q,h,L;return e=new se({props:{type:"target",position:re.Top,id:"defenseTopTarget",style:"border-color: blue; background: #d6eaff; border-width: 2px",isConnectable:l[1]}}),t=new se({props:{type:"source",position:re.Left,id:"defenseLeftSource",style:"background: blue; border-color: #d6eaff; border-width: 2px",isConnectable:l[1]}}),s=new se({props:{type:"source",position:re.Bottom,id:"defenseBottomSource",style:"background: blue; border-color: #d6eaff; border-width: 2px",isConnectable:l[1]}}),f=new Oe({props:{isVisible:l[2]}}),E=new tt({props:{nodeId:l[3],elementId:l[0].techniqueId,inputColor:"#d6eaff",$$slots:{default:[kl,({R:c,filterValueStore:N,selectItem:y})=>({8:c,9:N,10:y}),({R:c,filterValueStore:N,selectItem:y})=>(c?256:0)|(N?512:0)|(y?1024:0)]},$$scope:{ctx:l}}}),{c(){X(e.$$.fragment),n=A(),X(t.$$.fragment),i=A(),X(s.$$.fragment),r=A(),o=D("div"),u=D("div"),X(f.$$.fragment),a=A(),d=D("i"),d.textContent=g,m=A(),w=D("input"),I=A(),O=D("br"),T=A(),k=D("div"),X(E.$$.fragment),v=A(),S=D("div"),_=D("input"),this.h()},l(c){Y(e.$$.fragment,c),n=P(c),Y(t.$$.fragment,c),i=P(c),Y(s.$$.fragment,c),r=P(c),o=z(c,"DIV",{class:!0});var N=K(o);u=z(N,"DIV",{class:!0});var y=K(u);Y(f.$$.fragment,y),a=P(y),d=z(y,"I",{"data-svelte-h":!0}),de(d)!=="svelte-1x9m2lq"&&(d.textContent=g),m=P(y),w=z(y,"INPUT",{class:!0,type:!0,style:!0}),I=P(y),O=z(y,"BR",{}),T=P(y),k=z(y,"DIV",{});var J=K(k);Y(E.$$.fragment,J),J.forEach(C),v=P(y),S=z(y,"DIV",{});var V=K(S);_=z(V,"INPUT",{class:!0,type:!0,style:!0}),V.forEach(C),y.forEach(C),N.forEach(C),this.h()},h(){R(w,"class","nodrag sequence"),R(w,"type","text"),ee(w,"background","#d6eaff"),w.value=b=l[0].sequence||"#",R(_,"class","nodrag label"),R(_,"type","text"),ee(_,"background","#d6eaff"),_.value=H=l[0].label||"< label >",R(u,"class","node-inner"),R(o,"class","countermeasure node svelte-cdgs6j")},m(c,N){G(e,c,N),B(c,n,N),G(t,c,N),B(c,i,N),G(s,c,N),B(c,r,N),B(c,o,N),p(o,u),G(f,u,null),p(u,a),p(u,d),p(u,m),p(u,w),p(u,I),p(u,O),p(u,T),p(u,k),G(E,k,null),p(u,v),p(u,S),p(S,_),q=!0,h||(L=[te(w,"input",l[4]),te(_,"input",l[5])],h=!0)},p(c,[N]){const y={};N&2&&(y.isConnectable=c[1]),e.$set(y);const J={};N&2&&(J.isConnectable=c[1]),t.$set(J);const V={};N&2&&(V.isConnectable=c[1]),s.$set(V);const F={};N&4&&(F.isVisible=c[2]),f.$set(F),(!q||N&1&&b!==(b=c[0].sequence||"#")&&w.value!==b)&&(w.value=b);const ne={};N&8&&(ne.nodeId=c[3]),N&1&&(ne.elementId=c[0].techniqueId),N&3584&&(ne.$$scope={dirty:N,ctx:c}),E.$set(ne),(!q||N&1&&H!==(H=c[0].label||"< label >")&&_.value!==H)&&(_.value=H)},i(c){q||(M(e.$$.fragment,c),M(t.$$.fragment,c),M(s.$$.fragment,c),M(f.$$.fragment,c),M(E.$$.fragment,c),q=!0)},o(c){U(e.$$.fragment,c),U(t.$$.fragment,c),U(s.$$.fragment,c),U(f.$$.fragment,c),U(E.$$.fragment,c),q=!1},d(c){c&&(C(n),C(i),C(r),C(o)),Z(e,c),Z(t,c),Z(s,c),Z(f),Z(E),h=!1,Ve(L)}}}function yl(l,e,n){let{data:t}=e,{isConnectable:i}=e,{selected:s=void 0}=e,{id:r}=e;const o=f=>{n(0,t.sequence=f.currentTarget.value,t)},u=f=>{n(0,t.label=f.currentTarget.value,t)};return l.$$set=f=>{"data"in f&&n(0,t=f.data),"isConnectable"in f&&n(1,i=f.isConnectable),"selected"in f&&n(2,s=f.selected),"id"in f&&n(3,r=f.id)},[t,i,s,r,o,u]}class Il extends be{constructor(e){super(),_e(this,e,yl,wl,he,{data:0,isConnectable:1,selected:2,id:3})}}function El(l){let e,n,t,i,s,r,o,u,f,a,d,g,m,w,b,I,O,T="Information",k,E,v,S,_,H,q,h,L;return e=new se({props:{type:"target",position:re.Left,id:"attackLeftTarget",style:"top: 20%; background: #ffc3c7; border-width: 2px; border-color: red;",isConnectable:l[1]}}),t=new se({props:{type:"target",position:re.Right,id:"defenseRightTarget",style:"top: 20%; background: #8ac3ff; border-width: 2px; border-color: #062f4f;",isConnectable:l[1]}}),s=new se({props:{type:"target",position:re.Left,id:"vulnerabilityLeftTarget",style:"top: 50%; border-color: orange; border-width: 2px; background: #f9d999;",isConnectable:l[1]}}),o=new se({props:{type:"target",position:re.Top,id:"artTopTarget",style:"background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:l[1]}}),f=new se({props:{type:"target",position:re.Left,id:"artLeftTarget",style:"top: 80%; background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:l[1]}}),d=new se({props:{type:"source",position:re.Bottom,id:"artBottomSource",style:"border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:l[1]}}),m=new se({props:{type:"source",position:re.Right,id:"artRightSource",style:"top: 80%; border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:l[1]}}),v=new Oe({props:{isVisible:l[2]}}),{c(){X(e.$$.fragment),n=A(),X(t.$$.fragment),i=A(),X(s.$$.fragment),r=A(),X(o.$$.fragment),u=A(),X(f.$$.fragment),a=A(),X(d.$$.fragment),g=A(),X(m.$$.fragment),w=A(),b=D("div"),I=D("div"),O=D("i"),O.textContent=T,k=D("br"),E=A(),X(v.$$.fragment),S=A(),_=D("input"),this.h()},l(c){Y(e.$$.fragment,c),n=P(c),Y(t.$$.fragment,c),i=P(c),Y(s.$$.fragment,c),r=P(c),Y(o.$$.fragment,c),u=P(c),Y(f.$$.fragment,c),a=P(c),Y(d.$$.fragment,c),g=P(c),Y(m.$$.fragment,c),w=P(c),b=z(c,"DIV",{class:!0});var N=K(b);I=z(N,"DIV",{class:!0});var y=K(I);O=z(y,"I",{"data-svelte-h":!0}),de(O)!=="svelte-1ocpiyk"&&(O.textContent=T),k=z(y,"BR",{}),E=P(y),Y(v.$$.fragment,y),S=P(y),_=z(y,"INPUT",{class:!0,type:!0,style:!0}),y.forEach(C),N.forEach(C),this.h()},h(){R(_,"class","nodrag label"),R(_,"type","text"),ee(_,"background","#e8f4ea"),_.value=H=l[0].label||"< label >",R(I,"class","information node-inner svelte-1wgy9qw"),R(b,"class","information node svelte-1wgy9qw")},m(c,N){G(e,c,N),B(c,n,N),G(t,c,N),B(c,i,N),G(s,c,N),B(c,r,N),G(o,c,N),B(c,u,N),G(f,c,N),B(c,a,N),G(d,c,N),B(c,g,N),G(m,c,N),B(c,w,N),B(c,b,N),p(b,I),p(I,O),p(I,k),p(I,E),G(v,I,null),p(I,S),p(I,_),q=!0,h||(L=te(_,"input",l[3]),h=!0)},p(c,[N]){const y={};N&2&&(y.isConnectable=c[1]),e.$set(y);const J={};N&2&&(J.isConnectable=c[1]),t.$set(J);const V={};N&2&&(V.isConnectable=c[1]),s.$set(V);const F={};N&2&&(F.isConnectable=c[1]),o.$set(F);const ne={};N&2&&(ne.isConnectable=c[1]),f.$set(ne);const j={};N&2&&(j.isConnectable=c[1]),d.$set(j);const Q={};N&2&&(Q.isConnectable=c[1]),m.$set(Q);const $={};N&4&&($.isVisible=c[2]),v.$set($),(!q||N&1&&H!==(H=c[0].label||"< label >")&&_.value!==H)&&(_.value=H)},i(c){q||(M(e.$$.fragment,c),M(t.$$.fragment,c),M(s.$$.fragment,c),M(o.$$.fragment,c),M(f.$$.fragment,c),M(d.$$.fragment,c),M(m.$$.fragment,c),M(v.$$.fragment,c),q=!0)},o(c){U(e.$$.fragment,c),U(t.$$.fragment,c),U(s.$$.fragment,c),U(o.$$.fragment,c),U(f.$$.fragment,c),U(d.$$.fragment,c),U(m.$$.fragment,c),U(v.$$.fragment,c),q=!1},d(c){c&&(C(n),C(i),C(r),C(u),C(a),C(g),C(w),C(b)),Z(e,c),Z(t,c),Z(s,c),Z(o,c),Z(f,c),Z(d,c),Z(m,c),Z(v),h=!1,L()}}}function Sl(l,e,n){let{data:t}=e,{isConnectable:i}=e,{selected:s=void 0}=e;const r=o=>{n(0,t.label=o.currentTarget.value,t)};return l.$$set=o=>{"data"in o&&n(0,t=o.data),"isConnectable"in o&&n(1,i=o.isConnectable),"selected"in o&&n(2,s=o.selected)},[t,i,s,r]}class Tl extends be{constructor(e){super(),_e(this,e,Sl,El,he,{data:0,isConnectable:1,selected:2})}}function Rl(l){let e,n,t,i,s,r,o,u,f,a,d,g,m,w,b,I,O,T="Condition",k,E,v,S,_,H,q;return e=new se({props:{type:"target",position:re.Left,id:"attackLeftTarget",style:"top: 20%; background: #ffc3c7; border-width: 2px; border-color: red;",isConnectable:l[1]}}),t=new se({props:{type:"target",position:re.Right,id:"defenseRightTarget",style:"top: 20%; background: #8ac3ff; border-width: 2px; border-color: #062f4f;",isConnectable:l[1]}}),s=new se({props:{type:"target",position:re.Top,id:"artTopTarget",style:"background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:l[1]}}),o=new se({props:{type:"target",position:re.Left,id:"artLeftTarget",style:"top: 80%; background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:l[1]}}),f=new se({props:{type:"source",position:re.Bottom,id:"artBottomSource",style:"border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:l[1]}}),d=new se({props:{type:"source",position:re.Right,id:"artRightSource",style:"top: 80%; border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:l[1]}}),b=new Oe({props:{isVisible:l[2]}}),{c(){X(e.$$.fragment),n=A(),X(t.$$.fragment),i=A(),X(s.$$.fragment),r=A(),X(o.$$.fragment),u=A(),X(f.$$.fragment),a=A(),X(d.$$.fragment),g=A(),m=D("div"),w=D("div"),X(b.$$.fragment),I=A(),O=D("i"),O.textContent=T,k=D("br"),E=A(),v=D("input"),this.h()},l(h){Y(e.$$.fragment,h),n=P(h),Y(t.$$.fragment,h),i=P(h),Y(s.$$.fragment,h),r=P(h),Y(o.$$.fragment,h),u=P(h),Y(f.$$.fragment,h),a=P(h),Y(d.$$.fragment,h),g=P(h),m=z(h,"DIV",{class:!0});var L=K(m);w=z(L,"DIV",{class:!0});var c=K(w);Y(b.$$.fragment,c),I=P(c),O=z(c,"I",{"data-svelte-h":!0}),de(O)!=="svelte-26somz"&&(O.textContent=T),k=z(c,"BR",{}),E=P(c),v=z(c,"INPUT",{class:!0,type:!0,style:!0}),c.forEach(C),L.forEach(C),this.h()},h(){R(v,"class","nodrag label"),R(v,"type","text"),ee(v,"background","#ece6ff"),v.value=S=l[0].label||"< label >",R(w,"class","artifact node-inner svelte-1eh3b8a"),R(m,"class","artifact node svelte-1eh3b8a")},m(h,L){G(e,h,L),B(h,n,L),G(t,h,L),B(h,i,L),G(s,h,L),B(h,r,L),G(o,h,L),B(h,u,L),G(f,h,L),B(h,a,L),G(d,h,L),B(h,g,L),B(h,m,L),p(m,w),G(b,w,null),p(w,I),p(w,O),p(w,k),p(w,E),p(w,v),_=!0,H||(q=te(v,"input",l[3]),H=!0)},p(h,[L]){const c={};L&2&&(c.isConnectable=h[1]),e.$set(c);const N={};L&2&&(N.isConnectable=h[1]),t.$set(N);const y={};L&2&&(y.isConnectable=h[1]),s.$set(y);const J={};L&2&&(J.isConnectable=h[1]),o.$set(J);const V={};L&2&&(V.isConnectable=h[1]),f.$set(V);const F={};L&2&&(F.isConnectable=h[1]),d.$set(F);const ne={};L&4&&(ne.isVisible=h[2]),b.$set(ne),(!_||L&1&&S!==(S=h[0].label||"< label >")&&v.value!==S)&&(v.value=S)},i(h){_||(M(e.$$.fragment,h),M(t.$$.fragment,h),M(s.$$.fragment,h),M(o.$$.fragment,h),M(f.$$.fragment,h),M(d.$$.fragment,h),M(b.$$.fragment,h),_=!0)},o(h){U(e.$$.fragment,h),U(t.$$.fragment,h),U(s.$$.fragment,h),U(o.$$.fragment,h),U(f.$$.fragment,h),U(d.$$.fragment,h),U(b.$$.fragment,h),_=!1},d(h){h&&(C(n),C(i),C(r),C(u),C(a),C(g),C(m)),Z(e,h),Z(t,h),Z(s,h),Z(o,h),Z(f,h),Z(d,h),Z(b),H=!1,q()}}}function Vl(l,e,n){let{data:t}=e,{isConnectable:i}=e,{selected:s=void 0}=e;const r=o=>{n(0,t.label=o.currentTarget.value,t)};return l.$$set=o=>{"data"in o&&n(0,t=o.data),"isConnectable"in o&&n(1,i=o.isConnectable),"selected"in o&&n(2,s=o.selected)},[t,i,s,r]}class Nl extends be{constructor(e){super(),_e(this,e,Vl,Rl,he,{data:0,isConnectable:1,selected:2})}}function Dl(l){let e,n,t,i,s,r,o,u,f,a,d,g,m,w,b,I,O,T="Agent",k,E,v,S,_,H,q,h,L;return e=new se({props:{type:"target",position:re.Left,id:"attackLeftTarget",style:"top: 20%; background: #ffc3c7; border-width: 2px; border-color: red;",isConnectable:l[1]}}),t=new se({props:{type:"target",position:re.Right,id:"defenseRightTarget",style:"top: 20%; background: #8ac3ff; border-width: 2px; border-color: #062f4f;",isConnectable:l[1]}}),s=new se({props:{type:"target",position:re.Left,id:"vulnerabilityLeftTarget",style:"top: 50%; border-color: orange; border-width: 2px; background: #f9d999;",isConnectable:l[1]}}),o=new se({props:{type:"target",position:re.Top,id:"artTopTarget",style:"background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:l[1]}}),f=new se({props:{type:"target",position:re.Left,id:"artLeftTarget",style:"top: 80%; background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:l[1]}}),d=new se({props:{type:"source",position:re.Bottom,id:"artBottomSource",style:"border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:l[1]}}),m=new se({props:{type:"source",position:re.Right,id:"artRightSource",style:"top: 80%; border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:l[1]}}),v=new Oe({props:{isVisible:l[2]}}),{c(){X(e.$$.fragment),n=A(),X(t.$$.fragment),i=A(),X(s.$$.fragment),r=A(),X(o.$$.fragment),u=A(),X(f.$$.fragment),a=A(),X(d.$$.fragment),g=A(),X(m.$$.fragment),w=A(),b=D("div"),I=D("div"),O=D("i"),O.textContent=T,k=D("br"),E=A(),X(v.$$.fragment),S=A(),_=D("input"),this.h()},l(c){Y(e.$$.fragment,c),n=P(c),Y(t.$$.fragment,c),i=P(c),Y(s.$$.fragment,c),r=P(c),Y(o.$$.fragment,c),u=P(c),Y(f.$$.fragment,c),a=P(c),Y(d.$$.fragment,c),g=P(c),Y(m.$$.fragment,c),w=P(c),b=z(c,"DIV",{class:!0});var N=K(b);I=z(N,"DIV",{class:!0});var y=K(I);O=z(y,"I",{"data-svelte-h":!0}),de(O)!=="svelte-13s1fb"&&(O.textContent=T),k=z(y,"BR",{}),E=P(y),Y(v.$$.fragment,y),S=P(y),_=z(y,"INPUT",{class:!0,type:!0,style:!0}),y.forEach(C),N.forEach(C),this.h()},h(){R(_,"class","nodrag label"),R(_,"type","text"),ee(_,"background","#f0e6e6"),_.value=H=l[0].label||"< label >",R(I,"class","agent-inner node-inner"),R(b,"class","agent node svelte-1oygiws")},m(c,N){G(e,c,N),B(c,n,N),G(t,c,N),B(c,i,N),G(s,c,N),B(c,r,N),G(o,c,N),B(c,u,N),G(f,c,N),B(c,a,N),G(d,c,N),B(c,g,N),G(m,c,N),B(c,w,N),B(c,b,N),p(b,I),p(I,O),p(I,k),p(I,E),G(v,I,null),p(I,S),p(I,_),q=!0,h||(L=te(_,"input",l[3]),h=!0)},p(c,[N]){const y={};N&2&&(y.isConnectable=c[1]),e.$set(y);const J={};N&2&&(J.isConnectable=c[1]),t.$set(J);const V={};N&2&&(V.isConnectable=c[1]),s.$set(V);const F={};N&2&&(F.isConnectable=c[1]),o.$set(F);const ne={};N&2&&(ne.isConnectable=c[1]),f.$set(ne);const j={};N&2&&(j.isConnectable=c[1]),d.$set(j);const Q={};N&2&&(Q.isConnectable=c[1]),m.$set(Q);const $={};N&4&&($.isVisible=c[2]),v.$set($),(!q||N&1&&H!==(H=c[0].label||"< label >")&&_.value!==H)&&(_.value=H)},i(c){q||(M(e.$$.fragment,c),M(t.$$.fragment,c),M(s.$$.fragment,c),M(o.$$.fragment,c),M(f.$$.fragment,c),M(d.$$.fragment,c),M(m.$$.fragment,c),M(v.$$.fragment,c),q=!0)},o(c){U(e.$$.fragment,c),U(t.$$.fragment,c),U(s.$$.fragment,c),U(o.$$.fragment,c),U(f.$$.fragment,c),U(d.$$.fragment,c),U(m.$$.fragment,c),U(v.$$.fragment,c),q=!1},d(c){c&&(C(n),C(i),C(r),C(u),C(a),C(g),C(w),C(b)),Z(e,c),Z(t,c),Z(s,c),Z(o,c),Z(f,c),Z(d,c),Z(m,c),Z(v),h=!1,L()}}}function zl(l,e,n){let{data:t}=e,{isConnectable:i}=e,{selected:s=void 0}=e;const r=o=>{n(0,t.label=o.currentTarget.value,t)};return l.$$set=o=>{"data"in o&&n(0,t=o.data),"isConnectable"in o&&n(1,i=o.isConnectable),"selected"in o&&n(2,s=o.selected)},[t,i,s,r]}class Ll extends be{constructor(e){super(),_e(this,e,zl,Dl,he,{data:0,isConnectable:1,selected:2})}}function Al(l){let e,n;return e=new l[8].ItemD3fend({props:{list:on,filterValueStore:l[9],selectItem:l[10]}}),{c(){X(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,i){G(e,t,i),n=!0},p(t,i){const s={};i&512&&(s.filterValueStore=t[9]),i&1024&&(s.selectItem=t[10]),e.$set(s)},i(t){n||(M(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function Pl(l){let e,n,t,i,s,r,o,u,f,a,d,g,m,w,b,I,O,T,k,E,v,S,_,H,q,h,L,c,N,y,J;return e=new se({props:{type:"target",position:re.Left,id:"attackLeftTarget",style:"top: 20%; background: #ffc3c7; border-width: 2px; border-color: red;",isConnectable:l[1]}}),t=new se({props:{type:"target",position:re.Right,id:"defenseRightTarget",style:"top: 20%; background: #8ac3ff; border-width: 2px; border-color: #062f4f;",isConnectable:l[1]}}),s=new se({props:{type:"target",position:re.Left,id:"vulnerabilityLeftTarget",style:"top: 50%; border-color: orange; border-width: 2px; background: #f9d999;",isConnectable:l[1]}}),o=new se({props:{type:"target",position:re.Top,id:"artTopTarget",style:"background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:l[1]}}),f=new se({props:{type:"target",position:re.Left,id:"artLeftTarget",style:"top: 80%; background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:l[1]}}),d=new se({props:{type:"source",position:re.Bottom,id:"artBottomSource",style:"border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:l[1]}}),m=new se({props:{type:"source",position:re.Right,id:"artRightSource",style:"top: 80%; border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:l[1]}}),O=new Oe({props:{isVisible:l[4]}}),q=new tt({props:{nodeId:l[2],elementId:l[0].techniqueId,inputColor:"white",$$slots:{default:[Al,({R:V,filterValueStore:F,selectItem:ne})=>({8:V,9:F,10:ne}),({R:V,filterValueStore:F,selectItem:ne})=>(V?256:0)|(F?512:0)|(ne?1024:0)]},$$scope:{ctx:l}}}),{c(){X(e.$$.fragment),n=A(),X(t.$$.fragment),i=A(),X(s.$$.fragment),r=A(),X(o.$$.fragment),u=A(),X(f.$$.fragment),a=A(),X(d.$$.fragment),g=A(),X(m.$$.fragment),w=A(),b=D("div"),I=D("div"),X(O.$$.fragment),T=A(),k=D("i"),E=ue(l[3]),v=D("br"),S=A(),_=D("br"),H=A(),X(q.$$.fragment),h=A(),L=D("input"),this.h()},l(V){Y(e.$$.fragment,V),n=P(V),Y(t.$$.fragment,V),i=P(V),Y(s.$$.fragment,V),r=P(V),Y(o.$$.fragment,V),u=P(V),Y(f.$$.fragment,V),a=P(V),Y(d.$$.fragment,V),g=P(V),Y(m.$$.fragment,V),w=P(V),b=z(V,"DIV",{class:!0});var F=K(b);I=z(F,"DIV",{class:!0});var ne=K(I);Y(O.$$.fragment,ne),T=P(ne),k=z(ne,"I",{});var j=K(k);E=ce(j,l[3]),j.forEach(C),v=z(ne,"BR",{}),S=P(ne),_=z(ne,"BR",{}),H=P(ne),Y(q.$$.fragment,ne),h=P(ne),L=z(ne,"INPUT",{class:!0,type:!0,style:!0}),ne.forEach(C),F.forEach(C),this.h()},h(){R(L,"class","nodrag label"),R(L,"type","text"),ee(L,"background","white"),L.value=c=l[0].label||"< label >",R(I,"class","event node-inner svelte-r7gabh"),R(b,"class","event node svelte-r7gabh")},m(V,F){G(e,V,F),B(V,n,F),G(t,V,F),B(V,i,F),G(s,V,F),B(V,r,F),G(o,V,F),B(V,u,F),G(f,V,F),B(V,a,F),G(d,V,F),B(V,g,F),G(m,V,F),B(V,w,F),B(V,b,F),p(b,I),G(O,I,null),p(I,T),p(I,k),p(k,E),p(I,v),p(I,S),p(I,_),p(I,H),G(q,I,null),p(I,h),p(I,L),N=!0,y||(J=te(L,"input",l[6]),y=!0)},p(V,[F]){const ne={};F&2&&(ne.isConnectable=V[1]),e.$set(ne);const j={};F&2&&(j.isConnectable=V[1]),t.$set(j);const Q={};F&2&&(Q.isConnectable=V[1]),s.$set(Q);const $={};F&2&&($.isConnectable=V[1]),o.$set($);const le={};F&2&&(le.isConnectable=V[1]),f.$set(le);const ie={};F&2&&(ie.isConnectable=V[1]),d.$set(ie);const oe={};F&2&&(oe.isConnectable=V[1]),m.$set(oe);const Ce={};F&16&&(Ce.isVisible=V[4]),O.$set(Ce),(!N||F&8)&&ye(E,V[3]);const ge={};F&4&&(ge.nodeId=V[2]),F&1&&(ge.elementId=V[0].techniqueId),F&3584&&(ge.$$scope={dirty:F,ctx:V}),q.$set(ge),(!N||F&1&&c!==(c=V[0].label||"< label >")&&L.value!==c)&&(L.value=c)},i(V){N||(M(e.$$.fragment,V),M(t.$$.fragment,V),M(s.$$.fragment,V),M(o.$$.fragment,V),M(f.$$.fragment,V),M(d.$$.fragment,V),M(m.$$.fragment,V),M(O.$$.fragment,V),M(q.$$.fragment,V),N=!0)},o(V){U(e.$$.fragment,V),U(t.$$.fragment,V),U(s.$$.fragment,V),U(o.$$.fragment,V),U(f.$$.fragment,V),U(d.$$.fragment,V),U(m.$$.fragment,V),U(O.$$.fragment,V),U(q.$$.fragment,V),N=!1},d(V){V&&(C(n),C(i),C(r),C(u),C(a),C(g),C(w),C(b)),Z(e,V),Z(t,V),Z(s,V),Z(o,V),Z(f,V),Z(d,V),Z(m,V),Z(O),Z(q),y=!1,J()}}}function Ol(l,e,n){let{data:t}=e,{isConnectable:i}=e,{id:s}=e,{nodeType:r="EventNode"}=e,{nodeTypeLabel:o="Event"}=e,{selected:u=void 0}=e;const f=a=>{n(0,t.label=a.currentTarget.value,t)};return l.$$set=a=>{"data"in a&&n(0,t=a.data),"isConnectable"in a&&n(1,i=a.isConnectable),"id"in a&&n(2,s=a.id),"nodeType"in a&&n(5,r=a.nodeType),"nodeTypeLabel"in a&&n(3,o=a.nodeTypeLabel),"selected"in a&&n(4,u=a.selected)},[t,i,s,o,u,r,f]}class Bl extends be{constructor(e){super(),_e(this,e,Ol,Pl,he,{data:0,isConnectable:1,id:2,nodeType:5,nodeTypeLabel:3,selected:4})}}function Hl(l){let e,n,t,i=`translate(-50%, -50%) translate(${l[4]}px,${l[3]}px)`,s,r;return{c(){e=D("div"),n=D("input"),this.h()},l(o){e=z(o,"DIV",{class:!0});var u=K(e);n=z(u,"INPUT",{class:!0,type:!0,style:!0}),u.forEach(C),this.h()},h(){R(n,"class","nodrag nopan edge-label-text svelte-770c5k"),R(n,"type","text"),ee(n,"text-align","center"),ee(n,"font-weight","bold"),n.value=t=l[0].label,R(e,"class","edge-label-container svelte-770c5k"),ee(e,"transform",i)},m(o,u){B(o,e,u),p(e,n),s||(r=te(n,"input",l[12]),s=!0)},p(o,u){u&1&&t!==(t=o[0].label)&&n.value!==t&&(n.value=t),u&24&&i!==(i=`translate(-50%, -50%) translate(${o[4]}px,${o[3]}px)`)&&ee(e,"transform",i)},d(o){o&&C(e),s=!1,r()}}}function Ml(l){let e,n,t,i;return e=new En({props:{path:l[5],markerEnd:l[1],style:l[2]}}),t=new Sn({props:{$$slots:{default:[Hl]},$$scope:{ctx:l}}}),{c(){X(e.$$.fragment),n=A(),X(t.$$.fragment)},l(s){Y(e.$$.fragment,s),n=P(s),Y(t.$$.fragment,s)},m(s,r){G(e,s,r),B(s,n,r),G(t,s,r),i=!0},p(s,[r]){const o={};r&32&&(o.path=s[5]),r&2&&(o.markerEnd=s[1]),r&4&&(o.style=s[2]),e.$set(o);const u={};r&8217&&(u.$$scope={dirty:r,ctx:s}),t.$set(u)},i(s){i||(M(e.$$.fragment,s),M(t.$$.fragment,s),i=!0)},o(s){U(e.$$.fragment,s),U(t.$$.fragment,s),i=!1},d(s){s&&C(n),Z(e,s),Z(t,s)}}}function ql(l,e,n){let t,i,s,{data:r}=e,{sourceX:o}=e,{sourceY:u}=e,{sourcePosition:f}=e,{targetX:a}=e,{targetY:d}=e,{targetPosition:g}=e,{markerEnd:m=xt.ArrowClosed}=e,{style:w=void 0}=e;const b=I=>{n(0,r.label=I.currentTarget.value,r)};return l.$$set=I=>{"data"in I&&n(0,r=I.data),"sourceX"in I&&n(6,o=I.sourceX),"sourceY"in I&&n(7,u=I.sourceY),"sourcePosition"in I&&n(8,f=I.sourcePosition),"targetX"in I&&n(9,a=I.targetX),"targetY"in I&&n(10,d=I.targetY),"targetPosition"in I&&n(11,g=I.targetPosition),"markerEnd"in I&&n(1,m=I.markerEnd),"style"in I&&n(2,w=I.style)},l.$$.update=()=>{l.$$.dirty&4032&&n(5,[t,i,s]=Tn({sourceX:o,sourceY:u,sourcePosition:f,targetX:a,targetY:d,targetPosition:g}),t,(n(4,i),n(6,o),n(7,u),n(8,f),n(9,a),n(10,d),n(11,g)),(n(3,s),n(6,o),n(7,u),n(8,f),n(9,a),n(10,d),n(11,g)))},[r,m,w,s,i,t,o,u,f,a,d,g,b]}class Ul extends be{constructor(e){super(),_e(this,e,ql,Ml,he,{data:0,sourceX:6,sourceY:7,sourcePosition:8,targetX:9,targetY:10,targetPosition:11,markerEnd:1,style:2})}}function Ut(l,e,n){const t=l.slice();return t[7]=e[n],t}function jt(l){let e,n=pe(l[2]),t=[];for(let i=0;i<n.length;i+=1)t[i]=Ft(Ut(l,n,i));return{c(){e=D("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=z(i,"DIV",{class:!0});var s=K(e);for(let r=0;r<t.length;r+=1)t[r].l(s);s.forEach(C),this.h()},h(){R(e,"class","file-list svelte-9u10j")},m(i,s){B(i,e,s);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(i,s){if(s&20){n=pe(i[2]);let r;for(r=0;r<n.length;r+=1){const o=Ut(i,n,r);t[r]?t[r].p(o,s):(t[r]=Ft(o),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},d(i){i&&C(e),Pe(t,i)}}}function Ft(l){let e,n=l[7].name+"",t,i,s=l[7].nodeCount+"",r,o,u=l[7].edgeCount+"",f,a,d,g;function m(){return l[5](l[7])}return{c(){e=D("div"),t=ue(n),i=ue(" ("),r=ue(s),o=ue(" nodes, "),f=ue(u),a=ue(` edges)
          `),this.h()},l(w){e=z(w,"DIV",{class:!0});var b=K(e);t=ce(b,n),i=ce(b," ("),r=ce(b,s),o=ce(b," nodes, "),f=ce(b,u),a=ce(b,` edges)
          `),b.forEach(C),this.h()},h(){R(e,"class","file-item svelte-9u10j")},m(w,b){B(w,e,b),p(e,t),p(e,i),p(e,r),p(e,o),p(e,f),p(e,a),d||(g=te(e,"click",m),d=!0)},p(w,b){l=w,b&4&&n!==(n=l[7].name+"")&&ye(t,n),b&4&&s!==(s=l[7].nodeCount+"")&&ye(r,s),b&4&&u!==(u=l[7].edgeCount+"")&&ye(f,u)},d(w){w&&C(e),d=!1,g()}}}function jl(l){let e,n,t,i,s,r,o=l[1]&&jt(l);return{c(){e=D("div"),n=D("button"),t=ue(l[0]),i=A(),o&&o.c(),this.h()},l(u){e=z(u,"DIV",{class:!0});var f=K(e);n=z(f,"BUTTON",{class:!0});var a=K(n);t=ce(a,l[0]),a.forEach(C),i=P(f),o&&o.l(f),f.forEach(C),this.h()},h(){R(n,"class","svelte-9u10j"),R(e,"class","pick-list-container svelte-9u10j")},m(u,f){B(u,e,f),p(e,n),p(n,t),p(e,i),o&&o.m(e,null),s||(r=te(n,"click",l[3]),s=!0)},p(u,[f]){f&1&&ye(t,u[0]),u[1]?o?o.p(u,f):(o=jt(u),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i:me,o:me,d(u){u&&C(e),o&&o.d(),s=!1,r()}}}async function Fl(){return await(await fetch("/graph-studio/examples.json")).json()}function Wl(l,e,n){const t=$t();let i=!1,{selectedFile:s="Example Graphs"}=e,r=[];function o(){n(1,i=!i)}function u(a){n(0,s=a),n(1,i=!1),t("fileSelected",a)}lt(async()=>{n(2,r=await Fl())});const f=a=>u(a.name);return l.$$set=a=>{"selectedFile"in a&&n(0,s=a.selectedFile)},[s,i,r,o,u,f]}class Xl extends be{constructor(e){super(),_e(this,e,Wl,jl,he,{selectedFile:0})}}function Yl(l){let e,n,t,i,s,r,o,u="duplicate",f,a,d="delete",g,m;return{c(){e=D("div"),n=D("p"),t=D("small"),i=ue("node: "),s=ue(l[1]),r=A(),o=D("button"),o.textContent=u,f=A(),a=D("button"),a.textContent=d,this.h()},l(w){e=z(w,"DIV",{style:!0,class:!0});var b=K(e);n=z(b,"P",{style:!0});var I=K(n);t=z(I,"SMALL",{});var O=K(t);i=ce(O,"node: "),s=ce(O,l[1]),O.forEach(C),I.forEach(C),r=P(b),o=z(b,"BUTTON",{class:!0,"data-svelte-h":!0}),de(o)!=="svelte-57yxf4"&&(o.textContent=u),f=P(b),a=z(b,"BUTTON",{class:!0,"data-svelte-h":!0}),de(a)!=="svelte-18fgvow"&&(a.textContent=d),b.forEach(C),this.h()},h(){ee(n,"margin","0.5em"),R(o,"class","svelte-n5mog5"),R(a,"class","svelte-n5mog5"),ee(e,"top",l[2]+"px"),ee(e,"left",l[3]+"px"),ee(e,"right",l[4]+"px"),ee(e,"bottom",l[5]+"px"),R(e,"class","context-menu svelte-n5mog5")},m(w,b){B(w,e,b),p(e,n),p(n,t),p(t,i),p(t,s),p(e,r),p(e,o),p(e,f),p(e,a),g||(m=[te(o,"click",l[8]),te(a,"click",l[9]),te(e,"click",function(){mn(l[0])&&l[0].apply(this,arguments)})],g=!0)},p(w,[b]){l=w,b&2&&ye(s,l[1]),b&4&&ee(e,"top",l[2]+"px"),b&8&&ee(e,"left",l[3]+"px"),b&16&&ee(e,"right",l[4]+"px"),b&32&&ee(e,"bottom",l[5]+"px")},i:me,o:me,d(w){w&&C(e),g=!1,Ve(m)}}}function Gl(l,e,n){let t,i,{onClick:s}=e,{id:r}=e,{top:o}=e,{left:u}=e,{right:f}=e,{bottom:a}=e;const d=nn();Re(l,d,b=>n(11,i=b));const g=Wn();Re(l,g,b=>n(10,t=b));function m(){const b=i.find(I=>I.id===r);b&&i.push(Object.assign(Object.assign({},b),{id:`${r}-copy${Math.random()}`,position:{x:b.position.x,y:b.position.y+50}})),d.set(i)}function w(){Be(d,i=i.filter(b=>b.id!==r),i),Be(g,t=t.filter(b=>b.source!==r&&b.target!==r),t)}return l.$$set=b=>{"onClick"in b&&n(0,s=b.onClick),"id"in b&&n(1,r=b.id),"top"in b&&n(2,o=b.top),"left"in b&&n(3,u=b.left),"right"in b&&n(4,f=b.right),"bottom"in b&&n(5,a=b.bottom)},[s,r,o,u,f,a,d,g,m,w]}class Zl extends be{constructor(e){super(),_e(this,e,Gl,Yl,he,{onClick:0,id:1,top:2,left:3,right:4,bottom:5})}}function Wt(l,e,n){const t=l.slice();return t[12]=e[n],t}function Xt(l){let e,n,t,i,s,r,o,u,f,a,d,g,m;const w=l[8].default,b=Ke(w,l,l[7],null);let I=pe(l[3]),O=[];for(let T=0;T<I.length;T+=1)O[T]=Yt(Wt(l,I,T));return{c(){e=D("div"),n=D("div"),t=D("h2"),i=ue(l[1]),s=A(),r=D("p"),o=ue(l[2]),u=A(),b&&b.c(),f=A(),a=D("div");for(let T=0;T<O.length;T+=1)O[T].c();this.h()},l(T){e=z(T,"DIV",{class:!0});var k=K(e);n=z(k,"DIV",{class:!0});var E=K(n);t=z(E,"H2",{});var v=K(t);i=ce(v,l[1]),v.forEach(C),s=P(E),r=z(E,"P",{});var S=K(r);o=ce(S,l[2]),S.forEach(C),u=P(E),b&&b.l(E),f=P(E),a=z(E,"DIV",{class:!0});var _=K(a);for(let H=0;H<O.length;H+=1)O[H].l(_);_.forEach(C),E.forEach(C),k.forEach(C),this.h()},h(){R(a,"class","options svelte-zbcx3u"),R(n,"class","modal-content center text-center svelte-zbcx3u"),R(e,"class","modal-overlay svelte-zbcx3u")},m(T,k){B(T,e,k),p(e,n),p(n,t),p(t,i),p(n,s),p(n,r),p(r,o),p(n,u),b&&b.m(n,null),p(n,f),p(n,a);for(let E=0;E<O.length;E+=1)O[E]&&O[E].m(a,null);d=!0,g||(m=[te(n,"click",Se(l[9])),te(e,"click",l[4])],g=!0)},p(T,k){if((!d||k&2)&&ye(i,T[1]),(!d||k&4)&&ye(o,T[2]),b&&b.p&&(!d||k&128)&&Qe(b,w,T,T[7],d?xe(w,T[7],k,null):$e(T[7]),null),k&40){I=pe(T[3]);let E;for(E=0;E<I.length;E+=1){const v=Wt(T,I,E);O[E]?O[E].p(v,k):(O[E]=Yt(v),O[E].c(),O[E].m(a,null))}for(;E<O.length;E+=1)O[E].d(1);O.length=I.length}},i(T){d||(M(b,T),d=!0)},o(T){U(b,T),d=!1},d(T){T&&C(e),b&&b.d(T),Pe(O,T),g=!1,Ve(m)}}}function Yt(l){let e,n=l[12].label+"",t,i,s,r;function o(){return l[10](l[12])}return{c(){e=D("button"),t=ue(n),i=A(),this.h()},l(u){e=z(u,"BUTTON",{class:!0});var f=K(e);t=ce(f,n),i=P(f),f.forEach(C),this.h()},h(){R(e,"class","svelte-zbcx3u")},m(u,f){B(u,e,f),p(e,t),p(e,i),s||(r=te(e,"click",o),s=!0)},p(u,f){l=u,f&8&&n!==(n=l[12].label+"")&&ye(t,n)},d(u){u&&C(e),s=!1,r()}}}function Jl(l){let e,n,t=l[0]&&Xt(l);return{c(){t&&t.c(),e=ve()},l(i){t&&t.l(i),e=ve()},m(i,s){t&&t.m(i,s),B(i,e,s),n=!0},p(i,[s]){i[0]?t?(t.p(i,s),s&1&&M(t,1)):(t=Xt(i),t.c(),M(t,1),t.m(e.parentNode,e)):t&&(He(),U(t,1,1,()=>{t=null}),Me())},i(i){n||(M(t),n=!0)},o(i){U(t),n=!1},d(i){i&&C(e),t&&t.d(i)}}}function Kl(l,e,n){let{$$slots:t={},$$scope:i}=e,{isOpen:s=!1}=e,{title:r=""}=e,{content:o=""}=e,{imageSrc:u=""}=e,{options:f=[]}=e;const a=$t();function d(){n(0,s=!1)}function g(b){a("optionSelected",b),d()}function m(b){Qt.call(this,l,b)}const w=b=>g(b);return l.$$set=b=>{"isOpen"in b&&n(0,s=b.isOpen),"title"in b&&n(1,r=b.title),"content"in b&&n(2,o=b.content),"imageSrc"in b&&n(6,u=b.imageSrc),"options"in b&&n(3,f=b.options),"$$scope"in b&&n(7,i=b.$$scope)},[s,r,o,f,d,g,u,i,t,m,w]}class Ql extends be{constructor(e){super(),_e(this,e,Kl,Jl,he,{isOpen:0,title:1,content:2,imageSrc:6,options:3})}}function $l(l){let e;return{c(){e=ue("Please only load models from URLs you trust!")},l(n){e=ce(n,"Please only load models from URLs you trust!")},m(n,t){B(n,e,t)},d(n){n&&C(e)}}}function xl(l){let e,n,t,i,s,r,o,u,f,a,d;return a=new en({props:{$$slots:{default:[$l]},$$scope:{ctx:l}}}),{c(){e=D("br"),n=A(),t=D("code"),i=ue(l[2]),s=A(),r=D("br"),o=A(),u=D("br"),f=A(),X(a.$$.fragment),this.h()},l(g){e=z(g,"BR",{}),n=P(g),t=z(g,"CODE",{class:!0});var m=K(t);i=ce(m,l[2]),m.forEach(C),s=P(g),r=z(g,"BR",{}),o=P(g),u=z(g,"BR",{}),f=P(g),Y(a.$$.fragment,g),this.h()},h(){R(t,"class","center text-center")},m(g,m){B(g,e,m),B(g,n,m),B(g,t,m),p(t,i),B(g,s,m),B(g,r,m),B(g,o,m),B(g,u,m),B(g,f,m),G(a,g,m),d=!0},p(g,m){(!d||m[0]&4)&&ye(i,g[2]);const w={};m[1]&8&&(w.$$scope={dirty:m,ctx:g}),a.$set(w)},i(g){d||(M(a.$$.fragment,g),d=!0)},o(g){U(a.$$.fragment,g),d=!1},d(g){g&&(C(e),C(n),C(t),C(s),C(r),C(o),C(u),C(f)),Z(a,g)}}}function ei(l){let e,n='This is an (very) alpha-level preview release. Please review and file bugs <a href="https://github.com/d3fend/d3fend/issues/14">here.</a>';return{c(){e=D("div"),e.innerHTML=n,this.h()},l(t){e=z(t,"DIV",{class:!0,"data-svelte-h":!0}),de(e)!=="svelte-p14f9f"&&(e.innerHTML=n),this.h()},h(){R(e,"class","font-medium")},m(t,i){B(t,e,i)},p:me,d(t){t&&C(e)}}}function Gt(l){let e,n;return e=new Zl({props:{onClick:l[20],id:l[6].id,top:l[6].top,left:l[6].left,right:l[6].right,bottom:l[6].bottom}}),{c(){X(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,i){G(e,t,i),n=!0},p(t,i){const s={};i[0]&64&&(s.id=t[6].id),i[0]&64&&(s.top=t[6].top),i[0]&64&&(s.left=t[6].left),i[0]&64&&(s.right=t[6].right),i[0]&64&&(s.bottom=t[6].bottom),e.$set(s)},i(t){n||(M(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function ti(l){let e,n,t,i,s,r,o;e=new Vn({props:{position:"top-left"}}),t=new Nn({props:{variant:Dn.Dots}});let u=l[6]&&Gt(l);return r=new zn({props:{position:"top-right"}}),{c(){X(e.$$.fragment),n=A(),X(t.$$.fragment),i=A(),u&&u.c(),s=A(),X(r.$$.fragment)},l(f){Y(e.$$.fragment,f),n=P(f),Y(t.$$.fragment,f),i=P(f),u&&u.l(f),s=P(f),Y(r.$$.fragment,f)},m(f,a){G(e,f,a),B(f,n,a),G(t,f,a),B(f,i,a),u&&u.m(f,a),B(f,s,a),G(r,f,a),o=!0},p(f,a){f[6]?u?(u.p(f,a),a[0]&64&&M(u,1)):(u=Gt(f),u.c(),M(u,1),u.m(s.parentNode,s)):u&&(He(),U(u,1,1,()=>{u=null}),Me())},i(f){o||(M(e.$$.fragment,f),M(t.$$.fragment,f),M(u),M(r.$$.fragment,f),o=!0)},o(f){U(e.$$.fragment,f),U(t.$$.fragment,f),U(u),U(r.$$.fragment,f),o=!1},d(f){f&&(C(n),C(i),C(s)),Z(e,f),Z(t,f),u&&u.d(f),Z(r,f)}}}function ni(l){let e,n,t,i,s,r,o,u='D3FEND <span class="snakes svelte-17rnnxd"></span> <span class="CAD svelte-17rnnxd"><span style="color:#e62929;">C</span><span class="A svelte-17rnnxd" style="color:white;text-border:1px;">A</span><span style="color:blue;">D</span></span>',f,a,d="<i>Cyber Attack-Defense Utility for Capturing Engagements and Understandable Scenarios</i>",g,m,w,b,I,O,T,k,E,v,S,_,H,q="Load",h,L,c="Clear",N,y,J="Save",V,F,ne="Save As",j,Q,$,le,ie,oe,Ce,ge,ke,we,W,Ie;function Ee(x){l[21](x)}let Ne={title:l[3].title,content:l[3].content,options:l[3].options,$$slots:{default:[xl]},$$scope:{ctx:l}};l[3].isOpen!==void 0&&(Ne.isOpen=l[3].isOpen),e=new Ql({props:Ne}),nt.push(()=>ot(e,"isOpen",Ee)),e.$on("optionSelected",l[9]),b=new en({props:{$$slots:{default:[ei]},$$scope:{ctx:l}}});function We(x){l[22](x)}let je={};return l[5]!==void 0&&(je.selectedFile=l[5]),T=new Xl({props:je}),nt.push(()=>ot(T,"selectedFile",We)),T.$on("fileSelected",l[17]),oe=new Rn({props:{nodes:Ze,nodeTypes:l[0],edges:Je,edgeTypes:l[1],fitView:!0,defaultEdgeOptions:l[10],$$slots:{default:[ti]},$$scope:{ctx:l}}}),oe.$on("dragover",l[14]),oe.$on("drop",l[16]),oe.$on("connect",l[15]),oe.$on("nodecontextmenu",l[19]),oe.$on("paneclick",l[20]),oe.$on("onedgecreate",li),ge=new Zn({}),{c(){X(e.$$.fragment),t=A(),i=D("div"),s=D("div"),r=D("div"),o=D("h1"),o.innerHTML=u,f=A(),a=D("div"),a.innerHTML=d,g=A(),m=D("br"),w=A(),X(b.$$.fragment),I=A(),O=D("div"),X(T.$$.fragment),E=A(),v=D("br"),S=A(),_=D("div"),H=D("button"),H.textContent=q,h=A(),L=D("button"),L.textContent=c,N=A(),y=D("button"),y.textContent=J,V=A(),F=D("button"),F.textContent=ne,j=ue(`
     current filename: `),Q=ue(l[4]),$=A(),le=D("main"),ie=D("div"),X(oe.$$.fragment),Ce=A(),X(ge.$$.fragment),this.h()},l(x){Y(e.$$.fragment,x),t=P(x),i=z(x,"DIV",{class:!0});var fe=K(i);s=z(fe,"DIV",{style:!0});var ze=K(s);r=z(ze,"DIV",{style:!0});var De=K(r);o=z(De,"H1",{class:!0,"data-svelte-h":!0}),de(o)!=="svelte-1hfeq8z"&&(o.innerHTML=u),f=P(De),a=z(De,"DIV",{style:!0,"data-svelte-h":!0}),de(a)!=="svelte-1adqejh"&&(a.innerHTML=d),g=P(De),m=z(De,"BR",{}),w=P(De),Y(b.$$.fragment,De),De.forEach(C),ze.forEach(C),fe.forEach(C),I=P(x),O=z(x,"DIV",{class:!0});var Fe=K(O);Y(T.$$.fragment,Fe),Fe.forEach(C),E=P(x),v=z(x,"BR",{}),S=P(x),_=z(x,"DIV",{class:!0});var Te=K(_);H=z(Te,"BUTTON",{class:!0,"data-svelte-h":!0}),de(H)!=="svelte-r4end6"&&(H.textContent=q),h=P(Te),L=z(Te,"BUTTON",{class:!0,"data-svelte-h":!0}),de(L)!=="svelte-1o4uly3"&&(L.textContent=c),N=P(Te),y=z(Te,"BUTTON",{class:!0,"data-svelte-h":!0}),de(y)!=="svelte-qm8vdx"&&(y.textContent=J),V=P(Te),F=z(Te,"BUTTON",{class:!0,"data-svelte-h":!0}),de(F)!=="svelte-zj2wld"&&(F.textContent=ne),j=ce(Te,`
     current filename: `),Q=ce(Te,l[4]),Te.forEach(C),$=P(x),le=z(x,"MAIN",{});var it=K(le);ie=z(it,"DIV",{id:!0,class:!0});var Xe=K(ie);Y(oe.$$.fragment,Xe),Ce=P(Xe),Y(ge.$$.fragment,Xe),Xe.forEach(C),it.forEach(C),this.h()},h(){R(o,"class","fancy-font svelte-17rnnxd"),ee(a,"text-align","center"),ee(a,"padding","0 px"),ee(r,"text-align","center"),ee(r,"flex-grow","1"),ee(s,"display","flex"),ee(s,"just-content","space-between"),ee(s,"align-items","center"),R(i,"class","title-egg"),R(O,"class","toolbar-examples"),R(H,"class","svelte-17rnnxd"),R(L,"class","svelte-17rnnxd"),R(y,"class","svelte-17rnnxd"),R(F,"class","svelte-17rnnxd"),R(_,"class","toolbar"),R(ie,"id","flow"),R(ie,"class","svelte-17rnnxd"),Kt(()=>l[23].call(ie))},m(x,fe){G(e,x,fe),B(x,t,fe),B(x,i,fe),p(i,s),p(s,r),p(r,o),p(r,f),p(r,a),p(r,g),p(r,m),p(r,w),G(b,r,null),B(x,I,fe),B(x,O,fe),G(T,O,null),B(x,E,fe),B(x,v,fe),B(x,S,fe),B(x,_,fe),p(_,H),p(_,h),p(_,L),p(_,N),p(_,y),p(_,V),p(_,F),p(_,j),p(_,Q),B(x,$,fe),B(x,le,fe),p(le,ie),G(oe,ie,null),p(ie,Ce),G(ge,ie,null),ke=gn(ie,l[23].bind(ie)),we=!0,W||(Ie=[te(H,"click",l[13]),te(L,"click",l[18]),te(y,"click",l[11]),te(F,"click",l[12])],W=!0)},p(x,fe){const ze={};fe[0]&8&&(ze.title=x[3].title),fe[0]&8&&(ze.content=x[3].content),fe[0]&8&&(ze.options=x[3].options),fe[0]&4|fe[1]&8&&(ze.$$scope={dirty:fe,ctx:x}),!n&&fe[0]&8&&(n=!0,ze.isOpen=x[3].isOpen,st(()=>n=!1)),e.$set(ze);const De={};fe[1]&8&&(De.$$scope={dirty:fe,ctx:x}),b.$set(De);const Fe={};!k&&fe[0]&32&&(k=!0,Fe.selectedFile=x[5],st(()=>k=!1)),T.$set(Fe),(!we||fe[0]&16)&&ye(Q,x[4]);const Te={};fe[0]&64|fe[1]&8&&(Te.$$scope={dirty:fe,ctx:x}),oe.$set(Te)},i(x){we||(M(e.$$.fragment,x),M(b.$$.fragment,x),M(T.$$.fragment,x),M(oe.$$.fragment,x),M(ge.$$.fragment,x),we=!0)},o(x){U(e.$$.fragment,x),U(b.$$.fragment,x),U(T.$$.fragment,x),U(oe.$$.fragment,x),U(ge.$$.fragment,x),we=!1},d(x){x&&(C(t),C(i),C(I),C(O),C(E),C(v),C(S),C(_),C($),C(le)),Z(e,x),Z(b),Z(T),Z(oe),Z(ge),ke(),W=!1,Ve(Ie)}}}function li(l){console.log(l),console.log(l)}function ii(l,e,n){let t,i,s;Re(l,Ze,j=>n(24,t=j)),Re(l,Je,j=>n(25,i=j)),Re(l,hn,j=>n(26,s=j));var r=this&&this.__awaiter||function(j,Q,$,le){function ie(oe){return oe instanceof $?oe:new $(function(Ce){Ce(oe)})}return new($||($=Promise))(function(oe,Ce){function ge(W){try{we(le.next(W))}catch(Ie){Ce(Ie)}}function ke(W){try{we(le.throw(W))}catch(Ie){Ce(Ie)}}function we(W){W.done?oe(W.value):ie(W.value).then(ge,ke)}we((le=le.apply(j,Q||[])).next())})};let o;o=s.url.searchParams.get("load");let u={isOpen:!!o,title:"Confirmation to load remote model from URL",content:"This page is instructing D3FEND to remotely load a CAD model from this URL:",options:[{label:"Cancel",value:"cancel"},{label:"Load Model",value:"load"}]};function f(j){const Q=j.detail;Q.value==="load"?T(o):Q.value}Je.subscribe(j=>{}),lt(()=>{});const a={artifactSelectorNode:Cl,vulnerabilitySelectorNode:bl,attackSelectorNode:ml,countermeasureSelectorNode:Il,informationSelectorNode:Tl,conditionDefinitionNode:Nl,agentSelectorNode:Ll,eventNode:Bl},d={editableEdge:Ul};let g={type:"editableEdge",data:{label:void 0},markerEnd:{type:xt.ArrowClosed}},m="d3fend-cad.json";function w(){const j=JSON.stringify({nodes:t,edges:i},null,4),Q=new Blob([j],{type:"application/json"}),$=window.URL.createObjectURL(Q),le=document.createElement("a");le.href=$,le.download=m,document.body.appendChild(le),le.click(),document.body.removeChild(le),window.URL.revokeObjectURL($)}function b(){const j=JSON.stringify({nodes:t,edges:i},null,4),Q=new Blob([j],{type:"application/json"}),$=window.URL.createObjectURL(Q),le=document.createElement("a");le.href=$;let ie=prompt("Enter filename to save",m);n(4,m=ie),ie&&(le.download=ie,document.body.appendChild(le),le.click(),document.body.removeChild(le)),window.URL.revokeObjectURL($)}function I(j){try{const Q=j.nodes,$=j.edges;Ge(Q,$)}catch(Q){console.error("Error parsing JSON:",Q)}}function O(j){const Q=j.target.files[0];if(Q){const $=new FileReader;$.onload=le=>{if(typeof le.target.result=="string"){console.log(le.target.result);try{const ie=JSON.parse(le.target.result),oe=ie.nodes,Ce=ie.edges;Ge(oe,Ce)}catch(ie){console.error("Error parsing JSON:",ie)}}else console.error("File content is not a string.")},$.onerror=()=>{console.error("Error reading file:",$.error)},$.readAsText(Q)}}function T(j){return r(this,void 0,void 0,function*(){if(j)try{const $=yield(yield fetch(j)).json(),le=$.nodes,ie=$.edges;Ge(le,ie)}catch(Q){console.error("Error parsing JSON:",Q)}})}function k(){const j=document.createElement("input");j.type="file",j.accept=".json",j.onchange=Q=>{O(Q)},j.click()}const{screenToFlowPosition:E}=Fn(),v=j=>{j.preventDefault(),j.dataTransfer&&(j.dataTransfer.dropEffect="move")},S=j=>console.log("handle onConnect",j),_=j=>{if(j.preventDefault(),!j.dataTransfer)return null;const Q=j.dataTransfer.getData("application/svelteflow"),$=E({x:j.clientX,y:j.clientY}),le={id:`${Math.random()}`,type:Q,position:$,data:{label:"",sequence:"0"},origin:[.5,0]};t.push(le),Ze.set(t)};function H(j){return r(this,void 0,void 0,function*(){const Q=j.detail;try{const $=yield fetch(`/resources/cad/examples/${Q}`);if(!$.ok)throw new Error(`HTTP error! status: ${$.status}`);const le=yield $.json();console.log("Selected file contents:",le),I(le)}catch($){console.error("Error fetching JSON file:",$)}})}let q;function h(){Xn(),n(5,q="Example Graphs")}let L,c,N;function y({detail:{event:j,node:Q}}){j.preventDefault();let $=50;n(6,L={id:Q.id,top:j.clientY<N-$?j.clientY:void 0,left:j.clientX<c-$?j.clientX:void 0,right:j.clientX>=c-$?c-j.clientX:void 0,bottom:j.clientY>=N-$?N-j.clientY:void 0})}function J(){n(6,L=null)}function V(j){l.$$.not_equal(u.isOpen,j)&&(u.isOpen=j,n(3,u))}function F(j){q=j,n(5,q)}function ne(){c=this.clientWidth,N=this.clientHeight,n(7,c),n(8,N)}return[a,d,o,u,m,q,L,c,N,f,g,w,b,k,v,S,_,H,h,y,J,V,F,ne]}class si extends be{constructor(e){super(),_e(this,e,ii,ni,he,{nodeTypes:0,edgeTypes:1},null,[-1,-1])}get nodeTypes(){return this.$$.ctx[0]}get edgeTypes(){return this.$$.ctx[1]}}function ri(l){let e,n;return e=new si({}),{c(){X(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,i){G(e,t,i),n=!0},i(t){n||(M(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function oi(l){let e,n;return e=new Hn({props:{$$slots:{default:[ri]},$$scope:{ctx:l}}}),{c(){X(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,i){G(e,t,i),n=!0},p(t,[i]){const s={};i&64&&(s.$$scope={dirty:i,ctx:t}),e.$set(s)},i(t){n||(M(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function Zt(l,e){return[...new Map(l.map(n=>[n[e],n])).values()]}function ai(l){const e=l.reduce((i,s)=>(i[s["@id"]]=s,i),{});return l.reduce((i,s)=>(s.hasOwnProperty("rdfs:hasSubClass")&&(s.children=s["rdfs:hasSubClass"].map(r=>e[r["@id"]]),i.push(s)),i),[]).filter(i=>i["rdfs:subClassOf"].some(s=>s["@id"]==="d3f:DigitalEvent"))}function fi(l,e,n){let t,i,s,r,{data:o}=e;function u(f,a,d=[]){const g=_t(f,m=>m["rdfs:label"]);for(const m of g)d.push({...m,rootLabel:a}),m.children&&u(m.children,a,d);return d}return l.$$set=f=>{"data"in f&&n(0,o=f.data)},l.$$.update=()=>{l.$$.dirty&1&&n(3,t=o.matrix.remote_d3fend_tree?o.matrix.remote_d3fend_tree.map(f=>({...f,children:u(f.children,f["rdfs:label"])})):[]),l.$$.dirty&1&&n(2,i=_t(Zt(o.techniques.a_remote_autocomplete_list["@graph"],"rdfs:label"),f=>f["rdfs:label"])),l.$$.dirty&1&&n(4,s=ai(o.digitalEvent["@graph"])),l.$$.dirty&16&&n(1,r=s.map(f=>({...f,children:Zt(u(f.children,f["rdfs:label"]),"rdfs:label")}))),l.$$.dirty&15&&(ln.set(t),rn.set(i),sn.set(o.techniques.dao_remote_autocomplete_list),on.set(r))},[o,r,i,t,s]}class Ii extends be{constructor(e){super(),_e(this,e,fi,oi,he,{data:0})}}export{Ii as component,yi as universal};
