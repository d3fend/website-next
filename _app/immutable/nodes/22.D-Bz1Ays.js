const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/jsonld.CYnguqZs.js","../chunks/_commonjsHelpers.C4iS2aBk.js","../chunks/___vite-browser-external_commonjs-proxy.B2SwpVhP.js"])))=>i.map(i=>d[i]);
import{s as lf}from"../chunks/sortBy.ChsTRid8.js";import{s as Et,c as Dr,u as Ar,g as kr,a as Cr,am as wA,I as Af,as as Kt,e as ae,d as se,f as Ue,i as w,r as oe,k as I,o as yt,ao as yA,E as kf,J as Or,p as He,b as _e,j as ve,F as qn,D as $t,l as G,P as Re,x as Vt,t as V,h as H,a4 as Ur,ar as va,m as Se,W as Zn,n as at,v as vt,L as tr,V as vn,O as zt,Y as Cf,N as gt,a3 as Es,w as bi,al as d_,a0 as i1,Q as p_,R as __,ap as v_,aq as EA}from"../chunks/scheduler.xR-uXgLO.js";import{S as Gt,i as Xt,t as ce,a as me,g as It,e as Rt,c as Xe,b as We,m as Qe,d as Ye,f as gn,p as g_}from"../chunks/index.BpaDVXPB.js";import{d as DA,w as nn}from"../chunks/index.iaz6iIjv.js";import{e as ut,u as m_,o as b_}from"../chunks/each.BfH-wj2E.js";import{c as ua,a as Ts}from"../chunks/_commonjsHelpers.C4iS2aBk.js";import{s as w_}from"../chunks/schema.HaQr_DHp.js";import{p as AA}from"../chunks/stores.CJvb1AwE.js";import{A as Tf}from"../chunks/Alert.BOpypHFQ.js";import{T as Ha,b as Ze,a as a1,G as Kh,m as kA,d as of,o as CA}from"../chunks/lib.CK1iMZjQ.js";import{c as TA,k as NA,i as SA,u as ml,g as IA,b as y_,n as E_,d as D_,e as RA,p as PA,f as FA,h as OA,r as LA,j as A_,R as Zu,X as BA,l as k_,m as C_,H as Jt,P as jt,o as UA,E as MA,q as s1,s as Nh,S as qA,C as jA,B as xA,a as zA,M as VA}from"../chunks/style.64w-_Ue-.js";import{I as HA,f as $A,c as GA,L as XA}from"../chunks/Loading.BOvGI8JW.js";import{f as Ds}from"../chunks/utils.xEKteSAW.js";import{r as WA}from"../chunks/___vite-browser-external_commonjs-proxy.B2SwpVhP.js";import{_ as QA}from"../chunks/preload-helper.C1FmrZbK.js";import{G as ga}from"../chunks/_Graph.CanqobF4.js";import{t as uf,T as l1}from"../chunks/ToggleBar.ChYzQEkc.js";import{s as T_}from"../chunks/index.BxqCZUUx.js";import{J as N_}from"../chunks/JSONCrush.BlUS0oeb.js";import{T as YA}from"../chunks/Title.lz_tL8Gl.js";function Jh(i,e,t=[]){const n=lf(i,r=>r["rdfs:label"]);for(const r of n)t.push({...r,rootLabel:e}),r.children&&Jh(r.children,e,t);return t}function Zh(i,e,t){for(const n of t)if(e.test(i[n]))return!0;return!1}function KA(i,e,t){if(!e)return i||[];const n=e?new RegExp(e,"i"):null,r=s=>n?Zh(s,n,t):!0;return i.filter(r)}function JA(i,e,t){if(!e)return i||[];const n=e?new RegExp(e,"i"):null,r=a=>n?Zh(a,n,t):!0;return i.reduce((a,l)=>(a.push({...l,children:l.children.filter(r)}),a),[]).filter(a=>a.children.length>0)}function ZA(i,e,t){const n=[];function r(s){if(Zh(s,e,t)&&n.push(s),s.children)for(const a of s.children)r(a)}for(const s of i)r(s);return n}function o1(i,e,t){if(!e)return i||[];const n=new RegExp(e,"i");return ZA(i,n,t)}function S_(i,e){return[...new Map(i.map(t=>[t[e],t])).values()]}function ek(i,e){const t=i.reduce((s,a)=>(s[a["@id"]]=a,s),{});return i.reduce((s,a)=>(a.hasOwnProperty("rdfs:hasSubClass")&&(a.children=a["rdfs:hasSubClass"].map(l=>t[l["@id"]]),s.push(a)),s),[]).filter(s=>s["rdfs:subClassOf"].some(a=>a["@id"]===e))}function tk(i){const e=i.reduce((t,n)=>(t[n["@id"]]=n,t),{});return i.forEach(t=>{if(t.hasOwnProperty("rdfs:hasSubClass")){const n=t["rdfs:hasSubClass"];Array.isArray(n)?t.children=n.map(r=>e[r["@id"]]):t.children=[e[n["@id"]]]}}),lf(e["d3f:DigitalInformation"].children,t=>t["rdfs:label"])}function rk(i){const e=i.reduce((n,r)=>(n[r["@id"]]=r,n),{});return i.forEach(n=>{const r=n["rdfs:subPropertyOf"];if(r)for(const s of r)e[s["@id"]]&&(e[s["@id"]].children?e[s["@id"]].children.push(n):e[s["@id"]].children=[n])}),{associated:i.filter(n=>n["rdfs:subPropertyOf"].some(r=>r["@id"]==="d3f:associated-with"))}}async function nk({fetch:i}){const e=["/api/offensive-technique/all.json","/api/dao/artifacts.json","/api/taxonomies/d3f:DigitalEvent.json","/api/weakness/all.json","/api/ontology/properties/object/all.json","/api/dao/artifact/d3f:DigitalInformation.json"],[{value:{["@graph"]:t}},{value:{["@graph"]:n}},{value:{["@graph"]:r}},{value:{["@graph"]:s}},{value:{["@graph"]:a}},{value:{da_graph:{["@graph"]:l}}}]=await Promise.allSettled(e.map(_=>i(_).then(g=>g.json()))),u=lf(S_(t,"rdfs:label"),_=>_["rdfs:label"]),h=ek(r,"d3f:DigitalEvent").map(_=>({..._,children:S_(Jh(_.children,_["rdfs:label"]),"rdfs:label")})),v=lf(s,_=>_["rdfs:label"]),p=rk(a),d=tk(l);return{attack:u,dao:n,events:h,weaknesses:v,properties:p,digital_information:d}}const a8=Object.freeze(Object.defineProperty({__proto__:null,load:nk},Symbol.toStringTag,{value:"Module"}));function ik(i){let e;const t=i[7].default,n=Dr(t,i,i[6],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,[s]){n&&n.p&&(!e||s&64)&&Ar(n,t,r,r[6],e?Cr(t,r[6],s,null):kr(r[6]),null)},i(r){e||(ce(n,r),e=!0)},o(r){me(n,r),e=!1},d(r){n&&n.d(r)}}}function ak(i,e,t){let{$$slots:n={},$$scope:r}=e,{initialNodes:s=void 0}=e,{initialEdges:a=void 0}=e,{initialWidth:l=void 0}=e,{initialHeight:u=void 0}=e,{fitView:f=void 0}=e,{nodeOrigin:h=void 0}=e;const v=TA({nodes:s,edges:a,width:l,height:u,nodeOrigin:h,fitView:f});return wA(NA,{getStore:()=>v}),Af(()=>{v.reset()}),i.$$set=p=>{"initialNodes"in p&&t(0,s=p.initialNodes),"initialEdges"in p&&t(1,a=p.initialEdges),"initialWidth"in p&&t(2,l=p.initialWidth),"initialHeight"in p&&t(3,u=p.initialHeight),"fitView"in p&&t(4,f=p.fitView),"nodeOrigin"in p&&t(5,h=p.nodeOrigin),"$$scope"in p&&t(6,r=p.$$scope)},[s,a,l,u,f,h,r,n]}class sk extends Gt{constructor(e){super(),Xt(this,e,ak,ik,Et,{initialNodes:0,initialEdges:1,initialWidth:2,initialHeight:3,fitView:4,nodeOrigin:5})}}const I_=i=>SA(i);function lk(){const{zoomIn:i,zoomOut:e,fitView:t,onbeforedelete:n,snapGrid:r,viewport:s,width:a,height:l,minZoom:u,maxZoom:f,panZoom:h,nodes:v,edges:p,domNode:d,nodeLookup:_,nodeOrigin:g,edgeLookup:b,connectionLookup:D}=ml(),B=y=>{var q,k;const N=Kt(_),T=I_(y)?y:N.get(y.id),j=T.parentId?OA(T.position,T.measured,T.parentId,N,Kt(g)):T.position,F={id:T.id,position:j,width:((q=T.measured)==null?void 0:q.width)??T.width,height:((k=T.measured)==null?void 0:k.height)??T.height,data:T.data};return E_(F)},S=(y,N,T={replace:!1})=>{var q;const j=(q=Kt(_).get(y))==null?void 0:q.internals.userNode;if(!j)return;const F=typeof N=="function"?N(j):N;T.replace?v.update(k=>k.map(L=>L.id===y?I_(F)?F:{...L,...F}:L)):(Object.assign(j,F),v.update(k=>k))},O=y=>Kt(_).get(y);return{zoomIn:i,zoomOut:e,getInternalNode:O,getNode:y=>{var N;return(N=O(y))==null?void 0:N.internals.userNode},getNodes:y=>y===void 0?Kt(v):R_(Kt(_),y),getEdge:y=>Kt(b).get(y),getEdges:y=>y===void 0?Kt(p):R_(Kt(b),y),setZoom:(y,N)=>{const T=Kt(h);return T?T.scaleTo(y,{duration:N==null?void 0:N.duration}):Promise.resolve(!1)},getZoom:()=>Kt(s).zoom,setViewport:async(y,N)=>{const T=Kt(s),j=Kt(h);return j?(await j.setViewport({x:y.x??T.x,y:y.y??T.y,zoom:y.zoom??T.zoom},{duration:N==null?void 0:N.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>Kt(s),setCenter:async(y,N,T)=>{const j=typeof(T==null?void 0:T.zoom)<"u"?T.zoom:Kt(f),F=Kt(h);return F?(await F.setViewport({x:Kt(a)/2-y*j,y:Kt(l)/2-N*j,zoom:j},{duration:T==null?void 0:T.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitView:t,fitBounds:async(y,N)=>{const T=Kt(h);if(!T)return Promise.resolve(!1);const j=IA(y,Kt(a),Kt(l),Kt(u),Kt(f),(N==null?void 0:N.padding)??.1);return await T.setViewport(j,{duration:N==null?void 0:N.duration}),Promise.resolve(!0)},getIntersectingNodes:(y,N=!0,T)=>{const j=y_(y),F=j?y:B(y);return F?(T||Kt(v)).filter(q=>{const k=Kt(_).get(q.id);if(!k||!j&&q.id===y.id)return!1;const L=E_(k),A=D_(L,F);return N&&A>0||A>=F.width*F.height}):[]},isNodeIntersecting:(y,N,T=!0)=>{const F=y_(y)?y:B(y);if(!F)return!1;const q=D_(F,N);return T&&q>0||q>=F.width*F.height},deleteElements:async({nodes:y=[],edges:N=[]})=>{const{nodes:T,edges:j}=await RA({nodesToRemove:y,edgesToRemove:N,nodes:Kt(v),edges:Kt(p),onBeforeDelete:Kt(n)});return T&&v.update(F=>F.filter(q=>!T.some(({id:k})=>k===q.id))),j&&p.update(F=>F.filter(q=>!j.some(({id:k})=>k===q.id))),{deletedNodes:T,deletedEdges:j}},screenToFlowPosition:(y,N={snapToGrid:!0})=>{const T=Kt(d);if(!T)return y;const j=N.snapToGrid?Kt(r):!1,{x:F,y:q,zoom:k}=Kt(s),{x:L,y:A}=T.getBoundingClientRect(),R={x:y.x-L,y:y.y-A};return PA(R,[F,q,k],j!==null,j||[1,1])},flowToScreenPosition:y=>{const N=Kt(d);if(!N)return y;const{x:T,y:j,zoom:F}=Kt(s),{x:q,y:k}=N.getBoundingClientRect(),L=LA(y,[T,j,F]);return{x:L.x+q,y:L.y+k}},toObject:()=>({nodes:Kt(v).map(y=>({...y,position:{...y.position},data:{...y.data}})),edges:Kt(p).map(y=>({...y})),viewport:{...Kt(s)}}),updateNode:S,updateNodeData:(y,N,T)=>{var q;const j=(q=Kt(_).get(y))==null?void 0:q.internals.userNode;if(!j)return;const F=typeof N=="function"?N(j):N;j.data=T!=null&&T.replace?F:{...j.data,...F},v.update(k=>k)},getNodesBounds:y=>{const N=Kt(_),T=Kt(g);return FA(y,{nodeLookup:N,nodeOrigin:T})},getHandleConnections:({type:y,id:N,nodeId:T})=>{var j;return Array.from(((j=Kt(D).get(`${T}-${y}-${N??null}`))==null?void 0:j.values())??[])},viewport:s}}function R_(i,e){var n;const t=[];for(const r of e){const s=i.get(r);if(s){const a="internals"in s?(n=s.internals)==null?void 0:n.userNode:s;t.push(a)}}return t}function ok(i){let e,t,n;const r=i[33].default,s=Dr(r,i,i[32],null);return{c(){e=ae("div"),s&&s.c(),this.h()},l(a){e=se(a,"DIV",{class:!0,style:!0});var l=Ue(e);s&&s.l(l),l.forEach(w),this.h()},h(){oe(e,"class",t=A_(["svelte-flow__resize-control","nodrag",...i[4],i[0],i[1]])),oe(e,"style",i[3])},m(a,l){I(a,e,l),s&&s.m(e,null),i[34](e),n=!0},p(a,l){s&&s.p&&(!n||l[1]&2)&&Ar(s,r,a,a[32],n?Cr(r,a[32],l,null):kr(a[32]),null),(!n||l[0]&19&&t!==(t=A_(["svelte-flow__resize-control","nodrag",...a[4],a[0],a[1]])))&&oe(e,"class",t),(!n||l[0]&8)&&oe(e,"style",a[3])},i(a){n||(ce(s,a),n=!0)},o(a){me(s,a),n=!1},d(a){a&&w(e),s&&s.d(a),i[34](null)}}}function uk(i,e,t){let n,r,s,a,l,u,f,h,v,p,d,_,g,b,D,B,{$$slots:S={},$$scope:O}=e,{nodeId:y=void 0}=e,{position:N=void 0}=e,{variant:T=Zu.Handle}=e,{color:j=void 0}=e,{minWidth:F=10}=e,{minHeight:q=10}=e,{maxWidth:k=Number.MAX_VALUE}=e,{maxHeight:L=Number.MAX_VALUE}=e,{keepAspectRatio:A=!1}=e,{shouldResize:R=void 0}=e,{onResizeStart:Y=void 0}=e,{onResize:z=void 0}=e,{onResizeEnd:ue=void 0}=e,{style:re=""}=e,{class:ee=""}=e;const{nodeLookup:$,snapGrid:Q,viewport:pe,nodes:J,nodeOrigin:de}=ml();yt(i,$,Ce=>t(37,g=Ce)),yt(i,Q,Ce=>t(39,D=Ce)),yt(i,pe,Ce=>t(40,B=Ce)),yt(i,J,Ce=>t(36,_=Ce)),yt(i,de,Ce=>t(38,b=Ce));const it=yA("svelteflow__node_id");let nt,Fe=null;kf(()=>(nt&&t(23,Fe=BA({domNode:nt,nodeId:l,getStoreItems:()=>({nodeLookup:g,transform:[B.x,B.y,B.zoom],snapGrid:D??void 0,snapToGrid:!!D,nodeOrigin:b}),onChange:(Ce,Ee)=>{var Dt,lt;const Ge=(Dt=g.get(l))==null?void 0:Dt.internals.userNode;if(Ge){Ce.x!==void 0&&Ce.y!==void 0&&(Ge.position={x:Ce.x,y:Ce.y}),Ce.width!==void 0&&Ce.height!==void 0&&(Ge.width=Ce.width,Ge.height=Ce.height);for(const ge of Ee){const Me=(lt=g.get(ge.id))==null?void 0:lt.internals.userNode;Me&&(Me.position=ge.position)}J.set(_)}}})),()=>{Fe==null||Fe.destroy()}));function ze(Ce){Or[Ce?"unshift":"push"](()=>{nt=Ce,t(2,nt)})}return i.$$set=Ce=>{"nodeId"in Ce&&t(10,y=Ce.nodeId),"position"in Ce&&t(11,N=Ce.position),"variant"in Ce&&t(0,T=Ce.variant),"color"in Ce&&t(12,j=Ce.color),"minWidth"in Ce&&t(13,F=Ce.minWidth),"minHeight"in Ce&&t(14,q=Ce.minHeight),"maxWidth"in Ce&&t(15,k=Ce.maxWidth),"maxHeight"in Ce&&t(16,L=Ce.maxHeight),"keepAspectRatio"in Ce&&t(17,A=Ce.keepAspectRatio),"shouldResize"in Ce&&t(18,R=Ce.shouldResize),"onResizeStart"in Ce&&t(19,Y=Ce.onResizeStart),"onResize"in Ce&&t(20,z=Ce.onResize),"onResizeEnd"in Ce&&t(21,ue=Ce.onResizeEnd),"style"in Ce&&t(22,re=Ce.style),"class"in Ce&&t(1,ee=Ce.class),"$$scope"in Ce&&t(32,O=Ce.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&8192&&t(27,n=F??10),i.$$.dirty[0]&16384&&t(26,r=q??10),i.$$.dirty[0]&32768&&t(25,s=k??Number.MAX_VALUE),i.$$.dirty[0]&65536&&t(24,a=L??Number.MAX_VALUE),i.$$.dirty[0]&1024&&(l=typeof y=="string"?y:it),i.$$.dirty[0]&1&&t(31,u=T===Zu.Line?"right":"bottom-right"),i.$$.dirty[0]&2048|i.$$.dirty[1]&1&&t(28,f=N??u),i.$$.dirty[0]&268435456&&t(4,h=f.split("-")),i.$$.dirty[0]&1&&t(30,v=T===Zu.Line?"border-color":"background-color"),i.$$.dirty[0]&4194304&&t(29,p=re??""),i.$$.dirty[0]&1610616832&&t(3,d=j?`${p} ${v}: ${j};`:p),i.$$.dirty[0]&532545536&&(Fe==null||Fe.update({controlPosition:f,boundaries:{minWidth:n,minHeight:r,maxWidth:s,maxHeight:a},keepAspectRatio:!!A,onResizeStart:Y,onResize:z,onResizeEnd:ue,shouldResize:R}))},[T,ee,nt,d,h,$,Q,pe,J,de,y,N,j,F,q,k,L,A,R,Y,z,ue,re,Fe,a,s,r,n,f,p,v,u,O,S,ze]}class u1 extends Gt{constructor(e){super(),Xt(this,e,uk,ok,Et,{nodeId:10,position:11,variant:0,color:12,minWidth:13,minHeight:14,maxWidth:15,maxHeight:16,keepAspectRatio:17,shouldResize:18,onResizeStart:19,onResize:20,onResizeEnd:21,style:22,class:1},null,[-1,-1])}}function P_(i,e,t){const n=i.slice();return n[20]=e[t],n}function F_(i,e,t){const n=i.slice();return n[20]=e[t],n}function O_(i){let e=[],t=new Map,n,r=[],s=new Map,a,l,u=ut(k_);const f=p=>p[20];for(let p=0;p<u.length;p+=1){let d=F_(i,u,p),_=f(d);t.set(_,e[p]=L_(_,d))}let h=ut(C_);const v=p=>p[20];for(let p=0;p<h.length;p+=1){let d=P_(i,h,p),_=v(d);s.set(_,r[p]=B_(_,d))}return{c(){for(let p=0;p<e.length;p+=1)e[p].c();n=_e();for(let p=0;p<r.length;p+=1)r[p].c();a=He()},l(p){for(let d=0;d<e.length;d+=1)e[d].l(p);n=ve(p);for(let d=0;d<r.length;d+=1)r[d].l(p);a=He()},m(p,d){for(let _=0;_<e.length;_+=1)e[_]&&e[_].m(p,d);I(p,n,d);for(let _=0;_<r.length;_+=1)r[_]&&r[_].m(p,d);I(p,a,d),l=!0},p(p,d){d&65521&&(u=ut(k_),It(),e=m_(e,d,f,1,p,u,t,n.parentNode,b_,L_,n,F_),Rt()),d&65485&&(h=ut(C_),It(),r=m_(r,d,v,1,p,h,s,a.parentNode,b_,B_,a,P_),Rt())},i(p){if(!l){for(let d=0;d<u.length;d+=1)ce(e[d]);for(let d=0;d<h.length;d+=1)ce(r[d]);l=!0}},o(p){for(let d=0;d<e.length;d+=1)me(e[d]);for(let d=0;d<r.length;d+=1)me(r[d]);l=!1},d(p){p&&(w(n),w(a));for(let d=0;d<e.length;d+=1)e[d].d(p);for(let d=0;d<r.length;d+=1)r[d].d(p)}}}function L_(i,e){let t,n,r;return n=new u1({props:{class:e[4],style:e[5],nodeId:e[0],position:e[20],variant:Zu.Line,color:e[6],minWidth:e[12],minHeight:e[13],maxWidth:e[14],maxHeight:e[15],onResizeStart:e[9],keepAspectRatio:e[7],shouldResize:e[8],onResize:e[10],onResizeEnd:e[11]}}),{key:i,first:null,c(){t=He(),Xe(n.$$.fragment),this.h()},l(s){t=He(),We(n.$$.fragment,s),this.h()},h(){this.first=t},m(s,a){I(s,t,a),Qe(n,s,a),r=!0},p(s,a){e=s;const l={};a&16&&(l.class=e[4]),a&32&&(l.style=e[5]),a&1&&(l.nodeId=e[0]),a&64&&(l.color=e[6]),a&512&&(l.onResizeStart=e[9]),a&128&&(l.keepAspectRatio=e[7]),a&256&&(l.shouldResize=e[8]),a&1024&&(l.onResize=e[10]),a&2048&&(l.onResizeEnd=e[11]),n.$set(l)},i(s){r||(ce(n.$$.fragment,s),r=!0)},o(s){me(n.$$.fragment,s),r=!1},d(s){s&&w(t),Ye(n,s)}}}function B_(i,e){let t,n,r;return n=new u1({props:{class:e[2],style:e[3],nodeId:e[0],position:e[20],color:e[6],minWidth:e[12],minHeight:e[13],maxWidth:e[14],maxHeight:e[15],onResizeStart:e[9],keepAspectRatio:e[7],shouldResize:e[8],onResize:e[10],onResizeEnd:e[11]}}),{key:i,first:null,c(){t=He(),Xe(n.$$.fragment),this.h()},l(s){t=He(),We(n.$$.fragment,s),this.h()},h(){this.first=t},m(s,a){I(s,t,a),Qe(n,s,a),r=!0},p(s,a){e=s;const l={};a&4&&(l.class=e[2]),a&8&&(l.style=e[3]),a&1&&(l.nodeId=e[0]),a&64&&(l.color=e[6]),a&512&&(l.onResizeStart=e[9]),a&128&&(l.keepAspectRatio=e[7]),a&256&&(l.shouldResize=e[8]),a&1024&&(l.onResize=e[10]),a&2048&&(l.onResizeEnd=e[11]),n.$set(l)},i(s){r||(ce(n.$$.fragment,s),r=!0)},o(s){me(n.$$.fragment,s),r=!1},d(s){s&&w(t),Ye(n,s)}}}function fk(i){let e,t,n=i[1]&&O_(i);return{c(){n&&n.c(),e=He()},l(r){n&&n.l(r),e=He()},m(r,s){n&&n.m(r,s),I(r,e,s),t=!0},p(r,[s]){r[1]?n?(n.p(r,s),s&2&&ce(n,1)):(n=O_(r),n.c(),ce(n,1),n.m(e.parentNode,e)):n&&(It(),me(n,1,1,()=>{n=null}),Rt())},i(r){t||(ce(n),t=!0)},o(r){me(n),t=!1},d(r){r&&w(e),n&&n.d(r)}}}function ck(i,e,t){let{nodeId:n=void 0}=e,{isVisible:r=!0}=e,{handleClass:s=void 0}=e,{handleStyle:a=void 0}=e,{lineClass:l=void 0}=e,{lineStyle:u=void 0}=e,{color:f=void 0}=e,{minWidth:h=10}=e,{minHeight:v=10}=e,{maxWidth:p=Number.MAX_VALUE}=e,{maxHeight:d=Number.MAX_VALUE}=e,{keepAspectRatio:_=!1}=e,{shouldResize:g=void 0}=e,{onResizeStart:b=void 0}=e,{onResize:D=void 0}=e,{onResizeEnd:B=void 0}=e,S=h||10,O=v||10,y=p||Number.MAX_VALUE,N=d||Number.MAX_VALUE;return i.$$set=T=>{"nodeId"in T&&t(0,n=T.nodeId),"isVisible"in T&&t(1,r=T.isVisible),"handleClass"in T&&t(2,s=T.handleClass),"handleStyle"in T&&t(3,a=T.handleStyle),"lineClass"in T&&t(4,l=T.lineClass),"lineStyle"in T&&t(5,u=T.lineStyle),"color"in T&&t(6,f=T.color),"minWidth"in T&&t(16,h=T.minWidth),"minHeight"in T&&t(17,v=T.minHeight),"maxWidth"in T&&t(18,p=T.maxWidth),"maxHeight"in T&&t(19,d=T.maxHeight),"keepAspectRatio"in T&&t(7,_=T.keepAspectRatio),"shouldResize"in T&&t(8,g=T.shouldResize),"onResizeStart"in T&&t(9,b=T.onResizeStart),"onResize"in T&&t(10,D=T.onResize),"onResizeEnd"in T&&t(11,B=T.onResizeEnd)},[n,r,s,a,l,u,f,_,g,b,D,B,S,O,y,N,h,v,p,d]}class Ga extends Gt{constructor(e){super(),Xt(this,e,ck,fk,Et,{nodeId:0,isVisible:1,handleClass:2,handleStyle:3,lineClass:4,lineStyle:5,color:6,minWidth:16,minHeight:17,maxWidth:18,maxHeight:19,keepAspectRatio:7,shouldResize:8,onResizeStart:9,onResize:10,onResizeEnd:11})}}function ma(){const{connection:i}=ml();return i}function Ii(){const{nodes:i}=ml();return i}function Ri(){const{edges:i}=ml();return i}function U_(i){const{nodeLookup:e,nodes:t}=ml();return DA([e,t],([n])=>n.get(i))}const f1=nn([]),c1=nn([]),h1=nn([]),d1=nn([]),p1=nn([]),_1=nn([]),v1=nn([]);function hk(){const{subscribe:i,set:e,update:t}=nn();return{subscribe:i,update:t,add:n=>e(n),clear:()=>e()}}const kn=hk();var Sh={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(i,e){(function(t,n){n(e)})(ua,function(t){function n(){for(var ye=arguments.length,he=Array(ye),Te=0;Te<ye;Te++)he[Te]=arguments[Te];if(he.length>1){he[0]=he[0].slice(0,-1);for(var xe=he.length-1,qe=1;qe<xe;++qe)he[qe]=he[qe].slice(1,-1);return he[xe]=he[xe].slice(1),he.join("")}else return he[0]}function r(ye){return"(?:"+ye+")"}function s(ye){return ye===void 0?"undefined":ye===null?"null":Object.prototype.toString.call(ye).split(" ").pop().split("]").shift().toLowerCase()}function a(ye){return ye.toUpperCase()}function l(ye){return ye!=null?ye instanceof Array?ye:typeof ye.length!="number"||ye.split||ye.setInterval||ye.call?[ye]:Array.prototype.slice.call(ye):[]}function u(ye,he){var Te=ye;if(he)for(var xe in he)Te[xe]=he[xe];return Te}function f(ye){var he="[A-Za-z]",Te="[0-9]",xe=n(Te,"[A-Fa-f]"),qe=r(r("%[EFef]"+xe+"%"+xe+xe+"%"+xe+xe)+"|"+r("%[89A-Fa-f]"+xe+"%"+xe+xe)+"|"+r("%"+xe+xe)),bt="[\\:\\/\\?\\#\\[\\]\\@]",ht="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ct=n(bt,ht),pr=ye?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Lr=ye?"[\\uE000-\\uF8FF]":"[]",Wt=n(he,Te,"[\\-\\.\\_\\~]",pr);r(he+n(he,Te,"[\\+\\-\\.]")+"*"),r(r(qe+"|"+n(Wt,ht,"[\\:]"))+"*");var cr=r(r("25[0-5]")+"|"+r("2[0-4]"+Te)+"|"+r("1"+Te+Te)+"|"+r("0?[1-9]"+Te)+"|0?0?"+Te),Nr=r(cr+"\\."+cr+"\\."+cr+"\\."+cr),Ot=r(xe+"{1,4}"),hr=r(r(Ot+"\\:"+Ot)+"|"+Nr),_r=r(r(Ot+"\\:")+"{6}"+hr),mr=r("\\:\\:"+r(Ot+"\\:")+"{5}"+hr),bn=r(r(Ot)+"?\\:\\:"+r(Ot+"\\:")+"{4}"+hr),sn=r(r(r(Ot+"\\:")+"{0,1}"+Ot)+"?\\:\\:"+r(Ot+"\\:")+"{3}"+hr),ln=r(r(r(Ot+"\\:")+"{0,2}"+Ot)+"?\\:\\:"+r(Ot+"\\:")+"{2}"+hr),Li=r(r(r(Ot+"\\:")+"{0,3}"+Ot)+"?\\:\\:"+Ot+"\\:"+hr),ei=r(r(r(Ot+"\\:")+"{0,4}"+Ot)+"?\\:\\:"+hr),on=r(r(r(Ot+"\\:")+"{0,5}"+Ot)+"?\\:\\:"+Ot),wn=r(r(r(Ot+"\\:")+"{0,6}"+Ot)+"?\\:\\:"),wi=r([_r,mr,bn,sn,ln,Li,ei,on,wn].join("|")),dn=r(r(Wt+"|"+qe)+"+");r("[vV]"+xe+"+\\."+n(Wt,ht,"[\\:]")+"+"),r(r(qe+"|"+n(Wt,ht))+"*");var ti=r(qe+"|"+n(Wt,ht,"[\\:\\@]"));return r(r(qe+"|"+n(Wt,ht,"[\\@]"))+"+"),r(r(ti+"|"+n("[\\/\\?]",Lr))+"*"),{NOT_SCHEME:new RegExp(n("[^]",he,Te,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",Wt,ht),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",Wt,ht),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",Wt,ht),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",Wt,ht),"g"),NOT_QUERY:new RegExp(n("[^\\%]",Wt,ht,"[\\:\\@\\/\\?]",Lr),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",Wt,ht,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",Wt,ht),"g"),UNRESERVED:new RegExp(Wt,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",Wt,Ct),"g"),PCT_ENCODED:new RegExp(qe,"g"),IPV4ADDRESS:new RegExp("^("+Nr+")$"),IPV6ADDRESS:new RegExp("^\\[?("+wi+")"+r(r("\\%25|\\%(?!"+xe+"{2})")+"("+dn+")")+"?\\]?$")}}var h=f(!1),v=f(!0),p=function(){function ye(he,Te){var xe=[],qe=!0,bt=!1,ht=void 0;try{for(var Ct=he[Symbol.iterator](),pr;!(qe=(pr=Ct.next()).done)&&(xe.push(pr.value),!(Te&&xe.length===Te));qe=!0);}catch(Lr){bt=!0,ht=Lr}finally{try{!qe&&Ct.return&&Ct.return()}finally{if(bt)throw ht}}return xe}return function(he,Te){if(Array.isArray(he))return he;if(Symbol.iterator in Object(he))return ye(he,Te);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(ye){if(Array.isArray(ye)){for(var he=0,Te=Array(ye.length);he<ye.length;he++)Te[he]=ye[he];return Te}else return Array.from(ye)},_=2147483647,g=36,b=1,D=26,B=38,S=700,O=72,y=128,N="-",T=/^xn--/,j=/[^\0-\x7E]/,F=/[\x2E\u3002\uFF0E\uFF61]/g,q={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=g-b,L=Math.floor,A=String.fromCharCode;function R(ye){throw new RangeError(q[ye])}function Y(ye,he){for(var Te=[],xe=ye.length;xe--;)Te[xe]=he(ye[xe]);return Te}function z(ye,he){var Te=ye.split("@"),xe="";Te.length>1&&(xe=Te[0]+"@",ye=Te[1]),ye=ye.replace(F,".");var qe=ye.split("."),bt=Y(qe,he).join(".");return xe+bt}function ue(ye){for(var he=[],Te=0,xe=ye.length;Te<xe;){var qe=ye.charCodeAt(Te++);if(qe>=55296&&qe<=56319&&Te<xe){var bt=ye.charCodeAt(Te++);(bt&64512)==56320?he.push(((qe&1023)<<10)+(bt&1023)+65536):(he.push(qe),Te--)}else he.push(qe)}return he}var re=function(he){return String.fromCodePoint.apply(String,d(he))},ee=function(he){return he-48<10?he-22:he-65<26?he-65:he-97<26?he-97:g},$=function(he,Te){return he+22+75*(he<26)-((Te!=0)<<5)},Q=function(he,Te,xe){var qe=0;for(he=xe?L(he/S):he>>1,he+=L(he/Te);he>k*D>>1;qe+=g)he=L(he/k);return L(qe+(k+1)*he/(he+B))},pe=function(he){var Te=[],xe=he.length,qe=0,bt=y,ht=O,Ct=he.lastIndexOf(N);Ct<0&&(Ct=0);for(var pr=0;pr<Ct;++pr)he.charCodeAt(pr)>=128&&R("not-basic"),Te.push(he.charCodeAt(pr));for(var Lr=Ct>0?Ct+1:0;Lr<xe;){for(var Wt=qe,cr=1,Nr=g;;Nr+=g){Lr>=xe&&R("invalid-input");var Ot=ee(he.charCodeAt(Lr++));(Ot>=g||Ot>L((_-qe)/cr))&&R("overflow"),qe+=Ot*cr;var hr=Nr<=ht?b:Nr>=ht+D?D:Nr-ht;if(Ot<hr)break;var _r=g-hr;cr>L(_/_r)&&R("overflow"),cr*=_r}var mr=Te.length+1;ht=Q(qe-Wt,mr,Wt==0),L(qe/mr)>_-bt&&R("overflow"),bt+=L(qe/mr),qe%=mr,Te.splice(qe++,0,bt)}return String.fromCodePoint.apply(String,Te)},J=function(he){var Te=[];he=ue(he);var xe=he.length,qe=y,bt=0,ht=O,Ct=!0,pr=!1,Lr=void 0;try{for(var Wt=he[Symbol.iterator](),cr;!(Ct=(cr=Wt.next()).done);Ct=!0){var Nr=cr.value;Nr<128&&Te.push(A(Nr))}}catch(Vn){pr=!0,Lr=Vn}finally{try{!Ct&&Wt.return&&Wt.return()}finally{if(pr)throw Lr}}var Ot=Te.length,hr=Ot;for(Ot&&Te.push(N);hr<xe;){var _r=_,mr=!0,bn=!1,sn=void 0;try{for(var ln=he[Symbol.iterator](),Li;!(mr=(Li=ln.next()).done);mr=!0){var ei=Li.value;ei>=qe&&ei<_r&&(_r=ei)}}catch(Vn){bn=!0,sn=Vn}finally{try{!mr&&ln.return&&ln.return()}finally{if(bn)throw sn}}var on=hr+1;_r-qe>L((_-bt)/on)&&R("overflow"),bt+=(_r-qe)*on,qe=_r;var wn=!0,wi=!1,dn=void 0;try{for(var ti=he[Symbol.iterator](),Za;!(wn=(Za=ti.next()).done);wn=!0){var ka=Za.value;if(ka<qe&&++bt>_&&R("overflow"),ka==qe){for(var ri=bt,ni=g;;ni+=g){var yi=ni<=ht?b:ni>=ht+D?D:ni-ht;if(ri<yi)break;var es=ri-yi,Bi=g-yi;Te.push(A($(yi+es%Bi,0))),ri=L(es/Bi)}Te.push(A($(ri,0))),ht=Q(bt,on,hr==Ot),bt=0,++hr}}}catch(Vn){wi=!0,dn=Vn}finally{try{!wn&&ti.return&&ti.return()}finally{if(wi)throw dn}}++bt,++qe}return Te.join("")},de=function(he){return z(he,function(Te){return T.test(Te)?pe(Te.slice(4).toLowerCase()):Te})},it=function(he){return z(he,function(Te){return j.test(Te)?"xn--"+J(Te):Te})},nt={version:"2.1.0",ucs2:{decode:ue,encode:re},decode:pe,encode:J,toASCII:it,toUnicode:de},Fe={};function ze(ye){var he=ye.charCodeAt(0),Te=void 0;return he<16?Te="%0"+he.toString(16).toUpperCase():he<128?Te="%"+he.toString(16).toUpperCase():he<2048?Te="%"+(he>>6|192).toString(16).toUpperCase()+"%"+(he&63|128).toString(16).toUpperCase():Te="%"+(he>>12|224).toString(16).toUpperCase()+"%"+(he>>6&63|128).toString(16).toUpperCase()+"%"+(he&63|128).toString(16).toUpperCase(),Te}function Ce(ye){for(var he="",Te=0,xe=ye.length;Te<xe;){var qe=parseInt(ye.substr(Te+1,2),16);if(qe<128)he+=String.fromCharCode(qe),Te+=3;else if(qe>=194&&qe<224){if(xe-Te>=6){var bt=parseInt(ye.substr(Te+4,2),16);he+=String.fromCharCode((qe&31)<<6|bt&63)}else he+=ye.substr(Te,6);Te+=6}else if(qe>=224){if(xe-Te>=9){var ht=parseInt(ye.substr(Te+4,2),16),Ct=parseInt(ye.substr(Te+7,2),16);he+=String.fromCharCode((qe&15)<<12|(ht&63)<<6|Ct&63)}else he+=ye.substr(Te,9);Te+=9}else he+=ye.substr(Te,3),Te+=3}return he}function Ee(ye,he){function Te(xe){var qe=Ce(xe);return qe.match(he.UNRESERVED)?qe:xe}return ye.scheme&&(ye.scheme=String(ye.scheme).replace(he.PCT_ENCODED,Te).toLowerCase().replace(he.NOT_SCHEME,"")),ye.userinfo!==void 0&&(ye.userinfo=String(ye.userinfo).replace(he.PCT_ENCODED,Te).replace(he.NOT_USERINFO,ze).replace(he.PCT_ENCODED,a)),ye.host!==void 0&&(ye.host=String(ye.host).replace(he.PCT_ENCODED,Te).toLowerCase().replace(he.NOT_HOST,ze).replace(he.PCT_ENCODED,a)),ye.path!==void 0&&(ye.path=String(ye.path).replace(he.PCT_ENCODED,Te).replace(ye.scheme?he.NOT_PATH:he.NOT_PATH_NOSCHEME,ze).replace(he.PCT_ENCODED,a)),ye.query!==void 0&&(ye.query=String(ye.query).replace(he.PCT_ENCODED,Te).replace(he.NOT_QUERY,ze).replace(he.PCT_ENCODED,a)),ye.fragment!==void 0&&(ye.fragment=String(ye.fragment).replace(he.PCT_ENCODED,Te).replace(he.NOT_FRAGMENT,ze).replace(he.PCT_ENCODED,a)),ye}function Ge(ye){return ye.replace(/^0*(.*)/,"$1")||"0"}function Dt(ye,he){var Te=ye.match(he.IPV4ADDRESS)||[],xe=p(Te,2),qe=xe[1];return qe?qe.split(".").map(Ge).join("."):ye}function lt(ye,he){var Te=ye.match(he.IPV6ADDRESS)||[],xe=p(Te,3),qe=xe[1],bt=xe[2];if(qe){for(var ht=qe.toLowerCase().split("::").reverse(),Ct=p(ht,2),pr=Ct[0],Lr=Ct[1],Wt=Lr?Lr.split(":").map(Ge):[],cr=pr.split(":").map(Ge),Nr=he.IPV4ADDRESS.test(cr[cr.length-1]),Ot=Nr?7:8,hr=cr.length-Ot,_r=Array(Ot),mr=0;mr<Ot;++mr)_r[mr]=Wt[mr]||cr[hr+mr]||"";Nr&&(_r[Ot-1]=Dt(_r[Ot-1],he));var bn=_r.reduce(function(on,wn,wi){if(!wn||wn==="0"){var dn=on[on.length-1];dn&&dn.index+dn.length===wi?dn.length++:on.push({index:wi,length:1})}return on},[]),sn=bn.sort(function(on,wn){return wn.length-on.length})[0],ln=void 0;if(sn&&sn.length>1){var Li=_r.slice(0,sn.index),ei=_r.slice(sn.index+sn.length);ln=Li.join(":")+"::"+ei.join(":")}else ln=_r.join(":");return bt&&(ln+="%"+bt),ln}else return ye}var ge=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Me="".match(/(){0}/)[1]===void 0;function nr(ye){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te={},xe=he.iri!==!1?v:h;he.reference==="suffix"&&(ye=(he.scheme?he.scheme+":":"")+"//"+ye);var qe=ye.match(ge);if(qe){Me?(Te.scheme=qe[1],Te.userinfo=qe[3],Te.host=qe[4],Te.port=parseInt(qe[5],10),Te.path=qe[6]||"",Te.query=qe[7],Te.fragment=qe[8],isNaN(Te.port)&&(Te.port=qe[5])):(Te.scheme=qe[1]||void 0,Te.userinfo=ye.indexOf("@")!==-1?qe[3]:void 0,Te.host=ye.indexOf("//")!==-1?qe[4]:void 0,Te.port=parseInt(qe[5],10),Te.path=qe[6]||"",Te.query=ye.indexOf("?")!==-1?qe[7]:void 0,Te.fragment=ye.indexOf("#")!==-1?qe[8]:void 0,isNaN(Te.port)&&(Te.port=ye.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?qe[4]:void 0)),Te.host&&(Te.host=lt(Dt(Te.host,xe),xe)),Te.scheme===void 0&&Te.userinfo===void 0&&Te.host===void 0&&Te.port===void 0&&!Te.path&&Te.query===void 0?Te.reference="same-document":Te.scheme===void 0?Te.reference="relative":Te.fragment===void 0?Te.reference="absolute":Te.reference="uri",he.reference&&he.reference!=="suffix"&&he.reference!==Te.reference&&(Te.error=Te.error||"URI is not a "+he.reference+" reference.");var bt=Fe[(he.scheme||Te.scheme||"").toLowerCase()];if(!he.unicodeSupport&&(!bt||!bt.unicodeSupport)){if(Te.host&&(he.domainHost||bt&&bt.domainHost))try{Te.host=nt.toASCII(Te.host.replace(xe.PCT_ENCODED,Ce).toLowerCase())}catch(ht){Te.error=Te.error||"Host's domain name can not be converted to ASCII via punycode: "+ht}Ee(Te,h)}else Ee(Te,xe);bt&&bt.parse&&bt.parse(Te,he)}else Te.error=Te.error||"URI can not be parsed.";return Te}function sr(ye,he){var Te=he.iri!==!1?v:h,xe=[];return ye.userinfo!==void 0&&(xe.push(ye.userinfo),xe.push("@")),ye.host!==void 0&&xe.push(lt(Dt(String(ye.host),Te),Te).replace(Te.IPV6ADDRESS,function(qe,bt,ht){return"["+bt+(ht?"%25"+ht:"")+"]"})),(typeof ye.port=="number"||typeof ye.port=="string")&&(xe.push(":"),xe.push(String(ye.port))),xe.length?xe.join(""):void 0}var xr=/^\.\.?\//,ur=/^\/\.(\/|$)/,Tr=/^\/\.\.(\/|$)/,fr=/^\/?(?:.|\n)*?(?=\/|$)/;function mt(ye){for(var he=[];ye.length;)if(ye.match(xr))ye=ye.replace(xr,"");else if(ye.match(ur))ye=ye.replace(ur,"/");else if(ye.match(Tr))ye=ye.replace(Tr,"/"),he.pop();else if(ye==="."||ye==="..")ye="";else{var Te=ye.match(fr);if(Te){var xe=Te[0];ye=ye.slice(xe.length),he.push(xe)}else throw new Error("Unexpected dot segment condition")}return he.join("")}function At(ye){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te=he.iri?v:h,xe=[],qe=Fe[(he.scheme||ye.scheme||"").toLowerCase()];if(qe&&qe.serialize&&qe.serialize(ye,he),ye.host&&!Te.IPV6ADDRESS.test(ye.host)){if(he.domainHost||qe&&qe.domainHost)try{ye.host=he.iri?nt.toUnicode(ye.host):nt.toASCII(ye.host.replace(Te.PCT_ENCODED,Ce).toLowerCase())}catch(Ct){ye.error=ye.error||"Host's domain name can not be converted to "+(he.iri?"Unicode":"ASCII")+" via punycode: "+Ct}}Ee(ye,Te),he.reference!=="suffix"&&ye.scheme&&(xe.push(ye.scheme),xe.push(":"));var bt=sr(ye,he);if(bt!==void 0&&(he.reference!=="suffix"&&xe.push("//"),xe.push(bt),ye.path&&ye.path.charAt(0)!=="/"&&xe.push("/")),ye.path!==void 0){var ht=ye.path;!he.absolutePath&&(!qe||!qe.absolutePath)&&(ht=mt(ht)),bt===void 0&&(ht=ht.replace(/^\/\//,"/%2F")),xe.push(ht)}return ye.query!==void 0&&(xe.push("?"),xe.push(ye.query)),ye.fragment!==void 0&&(xe.push("#"),xe.push(ye.fragment)),xe.join("")}function tt(ye,he){var Te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},xe=arguments[3],qe={};return xe||(ye=nr(At(ye,Te),Te),he=nr(At(he,Te),Te)),Te=Te||{},!Te.tolerant&&he.scheme?(qe.scheme=he.scheme,qe.userinfo=he.userinfo,qe.host=he.host,qe.port=he.port,qe.path=mt(he.path||""),qe.query=he.query):(he.userinfo!==void 0||he.host!==void 0||he.port!==void 0?(qe.userinfo=he.userinfo,qe.host=he.host,qe.port=he.port,qe.path=mt(he.path||""),qe.query=he.query):(he.path?(he.path.charAt(0)==="/"?qe.path=mt(he.path):((ye.userinfo!==void 0||ye.host!==void 0||ye.port!==void 0)&&!ye.path?qe.path="/"+he.path:ye.path?qe.path=ye.path.slice(0,ye.path.lastIndexOf("/")+1)+he.path:qe.path=he.path,qe.path=mt(qe.path)),qe.query=he.query):(qe.path=ye.path,he.query!==void 0?qe.query=he.query:qe.query=ye.query),qe.userinfo=ye.userinfo,qe.host=ye.host,qe.port=ye.port),qe.scheme=ye.scheme),qe.fragment=he.fragment,qe}function Le(ye,he,Te){var xe=u({scheme:"null"},Te);return At(tt(nr(ye,xe),nr(he,xe),xe,!0),xe)}function ot(ye,he){return typeof ye=="string"?ye=At(nr(ye,he),he):s(ye)==="object"&&(ye=nr(At(ye,he),he)),ye}function W(ye,he,Te){return typeof ye=="string"?ye=At(nr(ye,Te),Te):s(ye)==="object"&&(ye=At(ye,Te)),typeof he=="string"?he=At(nr(he,Te),Te):s(he)==="object"&&(he=At(he,Te)),ye===he}function P(ye,he){return ye&&ye.toString().replace(!he||!he.iri?h.ESCAPE:v.ESCAPE,ze)}function M(ye,he){return ye&&ye.toString().replace(!he||!he.iri?h.PCT_ENCODED:v.PCT_ENCODED,Ce)}var te={scheme:"http",domainHost:!0,parse:function(he,Te){return he.host||(he.error=he.error||"HTTP URIs must have a host."),he},serialize:function(he,Te){var xe=String(he.scheme).toLowerCase()==="https";return(he.port===(xe?443:80)||he.port==="")&&(he.port=void 0),he.path||(he.path="/"),he}},De={scheme:"https",domainHost:te.domainHost,parse:te.parse,serialize:te.serialize};function Be(ye){return typeof ye.secure=="boolean"?ye.secure:String(ye.scheme).toLowerCase()==="wss"}var Ve={scheme:"ws",domainHost:!0,parse:function(he,Te){var xe=he;return xe.secure=Be(xe),xe.resourceName=(xe.path||"/")+(xe.query?"?"+xe.query:""),xe.path=void 0,xe.query=void 0,xe},serialize:function(he,Te){if((he.port===(Be(he)?443:80)||he.port==="")&&(he.port=void 0),typeof he.secure=="boolean"&&(he.scheme=he.secure?"wss":"ws",he.secure=void 0),he.resourceName){var xe=he.resourceName.split("?"),qe=p(xe,2),bt=qe[0],ht=qe[1];he.path=bt&&bt!=="/"?bt:void 0,he.query=ht,he.resourceName=void 0}return he.fragment=void 0,he}},kt={scheme:"wss",domainHost:Ve.domainHost,parse:Ve.parse,serialize:Ve.serialize},Mt={},St="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ht="[0-9A-Fa-f]",Zt=r(r("%[EFef]"+Ht+"%"+Ht+Ht+"%"+Ht+Ht)+"|"+r("%[89A-Fa-f]"+Ht+"%"+Ht+Ht)+"|"+r("%"+Ht+Ht)),Pi="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Fs="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Nn=n(Fs,'[\\"\\\\]'),Fi="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",kl=new RegExp(St,"g"),Oi=new RegExp(Zt,"g"),Cl=new RegExp(n("[^]",Pi,"[\\.]",'[\\"]',Nn),"g"),Os=new RegExp(n("[^]",St,Fi),"g"),Ls=Os;function Da(ye){var he=Ce(ye);return he.match(kl)?he:ye}var Ja={scheme:"mailto",parse:function(he,Te){var xe=he,qe=xe.to=xe.path?xe.path.split(","):[];if(xe.path=void 0,xe.query){for(var bt=!1,ht={},Ct=xe.query.split("&"),pr=0,Lr=Ct.length;pr<Lr;++pr){var Wt=Ct[pr].split("=");switch(Wt[0]){case"to":for(var cr=Wt[1].split(","),Nr=0,Ot=cr.length;Nr<Ot;++Nr)qe.push(cr[Nr]);break;case"subject":xe.subject=M(Wt[1],Te);break;case"body":xe.body=M(Wt[1],Te);break;default:bt=!0,ht[M(Wt[0],Te)]=M(Wt[1],Te);break}}bt&&(xe.headers=ht)}xe.query=void 0;for(var hr=0,_r=qe.length;hr<_r;++hr){var mr=qe[hr].split("@");if(mr[0]=M(mr[0]),Te.unicodeSupport)mr[1]=M(mr[1],Te).toLowerCase();else try{mr[1]=nt.toASCII(M(mr[1],Te).toLowerCase())}catch(bn){xe.error=xe.error||"Email address's domain name can not be converted to ASCII via punycode: "+bn}qe[hr]=mr.join("@")}return xe},serialize:function(he,Te){var xe=he,qe=l(he.to);if(qe){for(var bt=0,ht=qe.length;bt<ht;++bt){var Ct=String(qe[bt]),pr=Ct.lastIndexOf("@"),Lr=Ct.slice(0,pr).replace(Oi,Da).replace(Oi,a).replace(Cl,ze),Wt=Ct.slice(pr+1);try{Wt=Te.iri?nt.toUnicode(Wt):nt.toASCII(M(Wt,Te).toLowerCase())}catch(hr){xe.error=xe.error||"Email address's domain name can not be converted to "+(Te.iri?"Unicode":"ASCII")+" via punycode: "+hr}qe[bt]=Lr+"@"+Wt}xe.path=qe.join(",")}var cr=he.headers=he.headers||{};he.subject&&(cr.subject=he.subject),he.body&&(cr.body=he.body);var Nr=[];for(var Ot in cr)cr[Ot]!==Mt[Ot]&&Nr.push(Ot.replace(Oi,Da).replace(Oi,a).replace(Os,ze)+"="+cr[Ot].replace(Oi,Da).replace(Oi,a).replace(Ls,ze));return Nr.length&&(xe.query=Nr.join("&")),xe}},Tl=/^([^\:]+)\:(.*)/,Aa={scheme:"urn",parse:function(he,Te){var xe=he.path&&he.path.match(Tl),qe=he;if(xe){var bt=Te.scheme||qe.scheme||"urn",ht=xe[1].toLowerCase(),Ct=xe[2],pr=bt+":"+(Te.nid||ht),Lr=Fe[pr];qe.nid=ht,qe.nss=Ct,qe.path=void 0,Lr&&(qe=Lr.parse(qe,Te))}else qe.error=qe.error||"URN can not be parsed.";return qe},serialize:function(he,Te){var xe=Te.scheme||he.scheme||"urn",qe=he.nid,bt=xe+":"+(Te.nid||qe),ht=Fe[bt];ht&&(he=ht.serialize(he,Te));var Ct=he,pr=he.nss;return Ct.path=(qe||Te.nid)+":"+pr,Ct}},Nl=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,hn={scheme:"urn:uuid",parse:function(he,Te){var xe=he;return xe.uuid=xe.nss,xe.nss=void 0,!Te.tolerant&&(!xe.uuid||!xe.uuid.match(Nl))&&(xe.error=xe.error||"UUID is not valid."),xe},serialize:function(he,Te){var xe=he;return xe.nss=(he.uuid||"").toLowerCase(),xe}};Fe[te.scheme]=te,Fe[De.scheme]=De,Fe[Ve.scheme]=Ve,Fe[kt.scheme]=kt,Fe[Ja.scheme]=Ja,Fe[Aa.scheme]=Aa,Fe[hn.scheme]=hn,t.SCHEMES=Fe,t.pctEncChar=ze,t.pctDecChars=Ce,t.parse=nr,t.removeDotSegments=mt,t.serialize=At,t.resolveComponents=tt,t.resolve=Le,t.normalize=ot,t.equal=W,t.escapeComponent=P,t.unescapeComponent=M,Object.defineProperty(t,"__esModule",{value:!0})})})(Sh,Sh.exports);var dk=Sh.exports,ed=function i(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,s;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!i(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){var a=s[r];if(!i(e[a],t[a]))return!1}return!0}return e!==e&&t!==t},pk=function(e){for(var t=0,n=e.length,r=0,s;r<n;)t++,s=e.charCodeAt(r++),s>=55296&&s<=56319&&r<n&&(s=e.charCodeAt(r),(s&64512)==56320&&r++);return t},bl={copy:_k,checkDataType:Ih,checkDataTypes:vk,coerceToTypes:gk,toHash:td,getProperty:rd,escapeQuotes:nd,equal:ed,ucs2length:pk,varOccurences:wk,varReplace:yk,schemaHasRules:Ek,schemaHasRulesExcept:Dk,schemaUnknownRules:Ak,toQuotedString:Rh,getPathExpr:kk,getPath:Ck,getData:Sk,unescapeFragment:Ik,unescapeJsonPointer:ad,escapeFragment:Rk,escapeJsonPointer:id};function _k(i,e){e=e||{};for(var t in i)e[t]=i[t];return e}function Ih(i,e,t,n){var r=n?" !== ":" === ",s=n?" || ":" && ",a=n?"!":"",l=n?"":"!";switch(i){case"null":return e+r+"null";case"array":return a+"Array.isArray("+e+")";case"object":return"("+a+e+s+"typeof "+e+r+'"object"'+s+l+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+r+'"number"'+s+l+"("+e+" % 1)"+s+e+r+e+(t?s+a+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+r+'"'+i+'"'+(t?s+a+"isFinite("+e+")":"")+")";default:return"typeof "+e+r+'"'+i+'"'}}function vk(i,e,t){switch(i.length){case 1:return Ih(i[0],e,t,!0);default:var n="",r=td(i);r.array&&r.object&&(n=r.null?"(":"(!"+e+" || ",n+="typeof "+e+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer;for(var s in r)n+=(n?" && ":"")+Ih(s,e,t,!0);return n}}var M_=td(["string","number","integer","boolean","null"]);function gk(i,e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++){var r=e[n];(M_[r]||i==="array"&&r==="array")&&(t[t.length]=r)}if(t.length)return t}else{if(M_[e])return[e];if(i==="array"&&e==="array")return["array"]}}function td(i){for(var e={},t=0;t<i.length;t++)e[i[t]]=!0;return e}var mk=/^[a-z$_][a-z$_0-9]*$/i,bk=/'|\\/g;function rd(i){return typeof i=="number"?"["+i+"]":mk.test(i)?"."+i:"['"+nd(i)+"']"}function nd(i){return i.replace(bk,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function wk(i,e){e+="[^0-9]";var t=i.match(new RegExp(e,"g"));return t?t.length:0}function yk(i,e,t){return e+="([^0-9])",t=t.replace(/\$/g,"$$$$"),i.replace(new RegExp(e,"g"),t+"$1")}function Ek(i,e){if(typeof i=="boolean")return!i;for(var t in i)if(e[t])return!0}function Dk(i,e,t){if(typeof i=="boolean")return!i&&t!="not";for(var n in i)if(n!=t&&e[n])return!0}function Ak(i,e){if(typeof i!="boolean"){for(var t in i)if(!e[t])return t}}function Rh(i){return"'"+nd(i)+"'"}function kk(i,e,t,n){var r=t?"'/' + "+e+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'";return g1(i,r)}function Ck(i,e,t){var n=Rh(t?"/"+id(e):rd(e));return g1(i,n)}var Tk=/^\/(?:[^~]|~0|~1)*$/,Nk=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Sk(i,e,t){var n,r,s,a;if(i==="")return"rootData";if(i[0]=="/"){if(!Tk.test(i))throw new Error("Invalid JSON-pointer: "+i);r=i,s="rootData"}else{if(a=i.match(Nk),!a)throw new Error("Invalid JSON-pointer: "+i);if(n=+a[1],r=a[2],r=="#"){if(n>=e)throw new Error("Cannot access property/index "+n+" levels up, current level is "+e);return t[e-n]}if(n>e)throw new Error("Cannot access data "+n+" levels up, current level is "+e);if(s="data"+(e-n||""),!r)return s}for(var l=s,u=r.split("/"),f=0;f<u.length;f++){var h=u[f];h&&(s+=rd(ad(h)),l+=" && "+s)}return l}function g1(i,e){return i=='""'?e:(i+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function Ik(i){return ad(decodeURIComponent(i))}function Rk(i){return encodeURIComponent(id(i))}function id(i){return i.replace(/~/g,"~0").replace(/\//g,"~1")}function ad(i){return i.replace(/~1/g,"/").replace(/~0/g,"~")}var Pk=bl,m1=Fk;function Fk(i){Pk.copy(i,this)}var b1={exports:{}},za=b1.exports=function(i,e,t){typeof e=="function"&&(t=e,e={}),t=e.cb||t;var n=typeof t=="function"?t:t.pre||function(){},r=t.post||function(){};ef(e,n,r,i,"",i)};za.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};za.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};za.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};za.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ef(i,e,t,n,r,s,a,l,u,f){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,r,s,a,l,u,f);for(var h in n){var v=n[h];if(Array.isArray(v)){if(h in za.arrayKeywords)for(var p=0;p<v.length;p++)ef(i,e,t,v[p],r+"/"+h+"/"+p,s,r,h,n,p)}else if(h in za.propsKeywords){if(v&&typeof v=="object")for(var d in v)ef(i,e,t,v[d],r+"/"+h+"/"+Ok(d),s,r,h,n,d)}else(h in za.keywords||i.allKeys&&!(h in za.skipKeywords))&&ef(i,e,t,v,r+"/"+h,s,r,h,n)}t(n,r,s,a,l,u,f)}}function Ok(i){return i.replace(/~/g,"~0").replace(/\//g,"~1")}var Lk=b1.exports,To=dk,q_=ed,Nf=bl,ff=m1,Bk=Lk,sd=Xa;Xa.normalizeId=Va;Xa.fullPath=cf;Xa.url=hf;Xa.ids=xk;Xa.inlineRef=Ph;Xa.schema=Sf;function Xa(i,e,t){var n=this._refs[t];if(typeof n=="string")if(this._refs[n])n=this._refs[n];else return Xa.call(this,i,e,n);if(n=n||this._schemas[t],n instanceof ff)return Ph(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var r=Sf.call(this,e,t),s,a,l;return r&&(s=r.schema,e=r.root,l=r.baseId),s instanceof ff?a=s.validate||i.call(this,s.schema,e,void 0,l):s!==void 0&&(a=Ph(s,this._opts.inlineRefs)?s:i.call(this,s,e,void 0,l)),a}function Sf(i,e){var t=To.parse(e),n=y1(t),r=cf(this._getId(i.schema));if(Object.keys(i.schema).length===0||n!==r){var s=Va(n),a=this._refs[s];if(typeof a=="string")return Uk.call(this,i,a,t);if(a instanceof ff)a.validate||this._compile(a),i=a;else if(a=this._schemas[s],a instanceof ff){if(a.validate||this._compile(a),s==Va(e))return{schema:a,root:i,baseId:r};i=a}else return;if(!i.schema)return;r=cf(this._getId(i.schema))}return w1.call(this,t,r,i.schema,i)}function Uk(i,e,t){var n=Sf.call(this,i,e);if(n){var r=n.schema,s=n.baseId;i=n.root;var a=this._getId(r);return a&&(s=hf(s,a)),w1.call(this,t,s,r,i)}}var Mk=Nf.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function w1(i,e,t,n){if(i.fragment=i.fragment||"",i.fragment.slice(0,1)=="/"){for(var r=i.fragment.split("/"),s=1;s<r.length;s++){var a=r[s];if(a){if(a=Nf.unescapeFragment(a),t=t[a],t===void 0)break;var l;if(!Mk[a]&&(l=this._getId(t),l&&(e=hf(e,l)),t.$ref)){var u=hf(e,t.$ref),f=Sf.call(this,n,u);f&&(t=f.schema,n=f.root,e=f.baseId)}}}if(t!==void 0&&t!==n.schema)return{schema:t,root:n,baseId:e}}}var qk=Nf.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function Ph(i,e){if(e===!1)return!1;if(e===void 0||e===!0)return Fh(i);if(e)return Oh(i)<=e}function Fh(i){var e;if(Array.isArray(i)){for(var t=0;t<i.length;t++)if(e=i[t],typeof e=="object"&&!Fh(e))return!1}else for(var n in i)if(n=="$ref"||(e=i[n],typeof e=="object"&&!Fh(e)))return!1;return!0}function Oh(i){var e=0,t;if(Array.isArray(i)){for(var n=0;n<i.length;n++)if(t=i[n],typeof t=="object"&&(e+=Oh(t)),e==1/0)return 1/0}else for(var r in i){if(r=="$ref")return 1/0;if(qk[r])e++;else if(t=i[r],typeof t=="object"&&(e+=Oh(t)+1),e==1/0)return 1/0}return e}function cf(i,e){e!==!1&&(i=Va(i));var t=To.parse(i);return y1(t)}function y1(i){return To.serialize(i).split("#")[0]+"#"}var jk=/#\/?$/;function Va(i){return i?i.replace(jk,""):""}function hf(i,e){return e=Va(e),To.resolve(i,e)}function xk(i){var e=Va(this._getId(i)),t={"":e},n={"":cf(e,!1)},r={},s=this;return Bk(i,{allKeys:!0},function(a,l,u,f,h,v,p){if(l!==""){var d=s._getId(a),_=t[f],g=n[f]+"/"+h;if(p!==void 0&&(g+="/"+(typeof p=="number"?p:Nf.escapeFragment(p))),typeof d=="string"){d=_=Va(_?To.resolve(_,d):d);var b=s._refs[d];if(typeof b=="string"&&(b=s._refs[b]),b&&b.schema){if(!q_(a,b.schema))throw new Error('id "'+d+'" resolves to more than one schema')}else if(d!=Va(g))if(d[0]=="#"){if(r[d]&&!q_(a,r[d]))throw new Error('id "'+d+'" resolves to more than one schema');r[d]=a}else s._refs[d]=g}t[l]=_,n[l]=g}}),r}var fh=sd,ld={Validation:j_(zk),MissingRef:j_(od)};function zk(i){this.message="validation failed",this.errors=i,this.ajv=this.validation=!0}od.message=function(i,e){return"can't resolve reference "+e+" from id "+i};function od(i,e,t){this.message=t||od.message(i,e),this.missingRef=fh.url(i,e),this.missingSchema=fh.normalizeId(fh.fullPath(this.missingRef))}function j_(i){return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var E1=function(i,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var t=typeof e.cycles=="boolean"?e.cycles:!1,n=e.cmp&&function(s){return function(a){return function(l,u){var f={key:l,value:a[l]},h={key:u,value:a[u]};return s(f,h)}}}(e.cmp),r=[];return function s(a){if(a&&a.toJSON&&typeof a.toJSON=="function"&&(a=a.toJSON()),a!==void 0){if(typeof a=="number")return isFinite(a)?""+a:"null";if(typeof a!="object")return JSON.stringify(a);var l,u;if(Array.isArray(a)){for(u="[",l=0;l<a.length;l++)l&&(u+=","),u+=s(a[l])||"null";return u+"]"}if(a===null)return"null";if(r.indexOf(a)!==-1){if(t)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var f=r.push(a)-1,h=Object.keys(a).sort(n&&n(a));for(u="",l=0;l<h.length;l++){var v=h[l],p=s(a[v]);p&&(u&&(u+=","),u+=JSON.stringify(v)+":"+p)}return r.splice(f,1),"{"+u+"}"}}(i)},D1=function(e,t,n){var r="",s=e.schema.$async===!0,a=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),l=e.self._getId(e.schema);if(e.opts.strictKeywords){var u=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(u){var f="unknown keyword: "+u;if(e.opts.strictKeywords==="log")e.logger.warn(f);else throw new Error(f)}}if(e.isTop&&(r+=" var validate = ",s&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",l&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" "+("/*# sourceURL="+l+" */")+" ")),typeof e.schema=="boolean"||!(a||e.schema.$ref)){var t="false schema",h=e.level,v=e.dataLevel,p=e.schema[t],d=e.schemaPath+e.util.getProperty(t),_=e.errSchemaPath+"/"+t,y=!e.opts.allErrors,j,g="data"+(v||""),O="valid"+h;if(e.schema===!1){e.isTop?y=!0:r+=" var "+O+" = false; ";var b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(j||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(_)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),r+=" } "):r+=" {} ";var D=r;r=b.pop(),!e.compositeRule&&y?e.async?r+=" throw new ValidationError(["+D+"]); ":r+=" validate.errors = ["+D+"]; return false; ":r+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?s?r+=" return data; ":r+=" validate.errors = null; return true; ":r+=" var "+O+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var B=e.isTop,h=e.level=0,v=e.dataLevel=0,g="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var S="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn(S);else throw new Error(S)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{var h=e.level,v=e.dataLevel,g="data"+(v||"");if(l&&(e.baseId=e.resolve.url(e.baseId,l)),s&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+h+" = errors;"}var O="valid"+h,y=!e.opts.allErrors,N="",T="",j,F=e.schema.type,q=Array.isArray(F);if(F&&e.opts.nullable&&e.schema.nullable===!0&&(q?F.indexOf("null")==-1&&(F=F.concat("null")):F!="null"&&(F=[F,"null"],q=!0)),q&&F.length==1&&(F=F[0],q=!1),e.schema.$ref&&a){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(a=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),F){if(e.opts.coerceTypes)var k=e.util.coerceToTypes(e.opts.coerceTypes,F);var L=e.RULES.types[F];if(k||q||L===!0||L&&!ur(L)){var d=e.schemaPath+".type",_=e.errSchemaPath+"/type",d=e.schemaPath+".type",_=e.errSchemaPath+"/type",A=q?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[A](F,g,e.opts.strictNumbers,!0)+") { ",k){var R="dataType"+h,Y="coerced"+h;r+=" var "+R+" = typeof "+g+"; var "+Y+" = undefined; ",e.opts.coerceTypes=="array"&&(r+=" if ("+R+" == 'object' && Array.isArray("+g+") && "+g+".length == 1) { "+g+" = "+g+"[0]; "+R+" = typeof "+g+"; if ("+e.util.checkDataType(e.schema.type,g,e.opts.strictNumbers)+") "+Y+" = "+g+"; } "),r+=" if ("+Y+" !== undefined) ; ";var z=k;if(z)for(var ue,re=-1,ee=z.length-1;re<ee;)ue=z[re+=1],ue=="string"?r+=" else if ("+R+" == 'number' || "+R+" == 'boolean') "+Y+" = '' + "+g+"; else if ("+g+" === null) "+Y+" = ''; ":ue=="number"||ue=="integer"?(r+=" else if ("+R+" == 'boolean' || "+g+" === null || ("+R+" == 'string' && "+g+" && "+g+" == +"+g+" ",ue=="integer"&&(r+=" && !("+g+" % 1)"),r+=")) "+Y+" = +"+g+"; "):ue=="boolean"?r+=" else if ("+g+" === 'false' || "+g+" === 0 || "+g+" === null) "+Y+" = false; else if ("+g+" === 'true' || "+g+" === 1) "+Y+" = true; ":ue=="null"?r+=" else if ("+g+" === '' || "+g+" === 0 || "+g+" === false) "+Y+" = null; ":e.opts.coerceTypes=="array"&&ue=="array"&&(r+=" else if ("+R+" == 'string' || "+R+" == 'number' || "+R+" == 'boolean' || "+g+" == null) "+Y+" = ["+g+"]; ");r+=" else {   ";var b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(j||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(_)+" , params: { type: '",q?r+=""+F.join(","):r+=""+F,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",q?r+=""+F.join(","):r+=""+F,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),r+=" } "):r+=" {} ";var D=r;r=b.pop(),!e.compositeRule&&y?e.async?r+=" throw new ValidationError(["+D+"]); ":r+=" validate.errors = ["+D+"]; return false; ":r+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+Y+" !== undefined) {  ";var $=v?"data"+(v-1||""):"parentData",Q=v?e.dataPathArr[v]:"parentDataProperty";r+=" "+g+" = "+Y+"; ",v||(r+="if ("+$+" !== undefined)"),r+=" "+$+"["+Q+"] = "+Y+"; } "}else{var b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(j||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(_)+" , params: { type: '",q?r+=""+F.join(","):r+=""+F,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",q?r+=""+F.join(","):r+=""+F,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),r+=" } "):r+=" {} ";var D=r;r=b.pop(),!e.compositeRule&&y?e.async?r+=" throw new ValidationError(["+D+"]); ":r+=" validate.errors = ["+D+"]; return false; ":r+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" } "}}if(e.schema.$ref&&!a)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",y&&(r+=" } if (errors === ",B?r+="0":r+="errs_"+h,r+=") { ",T+="}");else{var pe=e.RULES;if(pe){for(var L,J=-1,de=pe.length-1;J<de;)if(L=pe[J+=1],ur(L)){if(L.type&&(r+=" if ("+e.util.checkDataType(L.type,g,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(L.type=="object"&&e.schema.properties){var p=e.schema.properties,it=Object.keys(p),nt=it;if(nt)for(var Fe,ze=-1,Ce=nt.length-1;ze<Ce;){Fe=nt[ze+=1];var Ee=p[Fe];if(Ee.default!==void 0){var Ge=g+e.util.getProperty(Fe);if(e.compositeRule){if(e.opts.strictDefaults){var S="default is ignored for: "+Ge;if(e.opts.strictDefaults==="log")e.logger.warn(S);else throw new Error(S)}}else r+=" if ("+Ge+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+Ge+" === null || "+Ge+" === '' "),r+=" ) "+Ge+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(Ee.default)+" ":r+=" "+JSON.stringify(Ee.default)+" ",r+="; "}}}else if(L.type=="array"&&Array.isArray(e.schema.items)){var Dt=e.schema.items;if(Dt){for(var Ee,re=-1,lt=Dt.length-1;re<lt;)if(Ee=Dt[re+=1],Ee.default!==void 0){var Ge=g+"["+re+"]";if(e.compositeRule){if(e.opts.strictDefaults){var S="default is ignored for: "+Ge;if(e.opts.strictDefaults==="log")e.logger.warn(S);else throw new Error(S)}}else r+=" if ("+Ge+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+Ge+" === null || "+Ge+" === '' "),r+=" ) "+Ge+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(Ee.default)+" ":r+=" "+JSON.stringify(Ee.default)+" ",r+="; "}}}}var ge=L.rules;if(ge){for(var Me,nr=-1,sr=ge.length-1;nr<sr;)if(Me=ge[nr+=1],Tr(Me)){var xr=Me.code(e,Me.keyword,L.type);xr&&(r+=" "+xr+" ",y&&(N+="}"))}}if(y&&(r+=" "+N+" ",N=""),L.type&&(r+=" } ",F&&F===L.type&&!k)){r+=" else { ";var d=e.schemaPath+".type",_=e.errSchemaPath+"/type",b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(j||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(_)+" , params: { type: '",q?r+=""+F.join(","):r+=""+F,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",q?r+=""+F.join(","):r+=""+F,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),r+=" } "):r+=" {} ";var D=r;r=b.pop(),!e.compositeRule&&y?e.async?r+=" throw new ValidationError(["+D+"]); ":r+=" validate.errors = ["+D+"]; return false; ":r+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}y&&(r+=" if (errors === ",B?r+="0":r+="errs_"+h,r+=") { ",T+="}")}}}y&&(r+=" "+T+" "),B?(s?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+O+" = errors === errs_"+h+";";function ur(mt){for(var At=mt.rules,tt=0;tt<At.length;tt++)if(Tr(At[tt]))return!0}function Tr(mt){return e.schema[mt.keyword]!==void 0||mt.implements&&fr(mt)}function fr(mt){for(var At=mt.implements,tt=0;tt<At.length;tt++)if(e.schema[At[tt]]!==void 0)return!0}return r},zu=sd,df=bl,A1=ld,Vk=E1,x_=D1,Hk=df.ucs2length,$k=ed,Gk=A1.Validation,Xk=Lh;function Lh(i,e,t,n){var r=this,s=this._opts,a=[void 0],l={},u=[],f={},h=[],v={},p=[];e=e||{schema:i,refVal:a,refs:l};var d=Wk.call(this,i,e,n),_=this._compilations[d.index];if(d.compiling)return _.callValidate=S;var g=this._formats,b=this.RULES;try{var D=O(i,e,t,n);_.validate=D;var B=_.callValidate;return B&&(B.schema=D.schema,B.errors=null,B.refs=D.refs,B.refVal=D.refVal,B.root=D.root,B.$async=D.$async,s.sourceCode&&(B.source=D.source)),D}finally{Qk.call(this,i,e,n)}function S(){var A=_.validate,R=A.apply(this,arguments);return S.errors=A.errors,R}function O(A,R,Y,z){var ue=!R||R&&R.schema==A;if(R.schema!=e.schema)return Lh.call(r,A,R,Y,z);var re=A.$async===!0,ee=x_({isTop:!0,schema:A,isRoot:ue,baseId:z,root:R,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:A1.MissingRef,RULES:b,validate:x_,util:df,resolve:zu,resolveRef:y,usePattern:q,useDefault:k,useCustomRule:L,opts:s,formats:g,logger:r.logger,self:r});ee=Vu(a,Jk)+Vu(u,Yk)+Vu(h,Kk)+Vu(p,Zk)+ee,s.processCode&&(ee=s.processCode(ee,A));var $;try{var Q=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",ee);$=Q(r,b,g,e,a,h,p,$k,Hk,Gk),a[0]=$}catch(pe){throw r.logger.error("Error compiling schema, function code:",ee),pe}return $.schema=A,$.errors=null,$.refs=l,$.refVal=a,$.root=ue?$:R,re&&($.$async=!0),s.sourceCode===!0&&($.source={code:ee,patterns:u,defaults:h}),$}function y(A,R,Y){R=zu.url(A,R);var z=l[R],ue,re;if(z!==void 0)return ue=a[z],re="refVal["+z+"]",F(ue,re);if(!Y&&e.refs){var ee=e.refs[R];if(ee!==void 0)return ue=e.refVal[ee],re=N(R,ue),F(ue,re)}re=N(R);var $=zu.call(r,O,e,R);if($===void 0){var Q=t&&t[R];Q&&($=zu.inlineRef(Q,s.inlineRefs)?Q:Lh.call(r,Q,e,t,A))}if($===void 0)T(R);else return j(R,$),F($,re)}function N(A,R){var Y=a.length;return a[Y]=R,l[A]=Y,"refVal"+Y}function T(A){delete l[A]}function j(A,R){var Y=l[A];a[Y]=R}function F(A,R){return typeof A=="object"||typeof A=="boolean"?{code:R,schema:A,inline:!0}:{code:R,$async:A&&!!A.$async}}function q(A){var R=f[A];return R===void 0&&(R=f[A]=u.length,u[R]=A),"pattern"+R}function k(A){switch(typeof A){case"boolean":case"number":return""+A;case"string":return df.toQuotedString(A);case"object":if(A===null)return"null";var R=Vk(A),Y=v[R];return Y===void 0&&(Y=v[R]=h.length,h[Y]=A),"default"+Y}}function L(A,R,Y,z){if(r._opts.validateSchema!==!1){var ue=A.definition.dependencies;if(ue&&!ue.every(function(nt){return Object.prototype.hasOwnProperty.call(Y,nt)}))throw new Error("parent schema must have all required keywords: "+ue.join(","));var re=A.definition.validateSchema;if(re){var ee=re(R);if(!ee){var $="keyword schema is invalid: "+r.errorsText(re.errors);if(r._opts.validateSchema=="log")r.logger.error($);else throw new Error($)}}}var Q=A.definition.compile,pe=A.definition.inline,J=A.definition.macro,de;if(Q)de=Q.call(r,R,Y,z);else if(J)de=J.call(r,R,Y,z),s.validateSchema!==!1&&r.validateSchema(de,!0);else if(pe)de=pe.call(r,z,A.keyword,R,Y);else if(de=A.definition.validate,!de)return;if(de===void 0)throw new Error('custom keyword "'+A.keyword+'"failed to compile');var it=p.length;return p[it]=de,{code:"customRule"+it,validate:de}}}function Wk(i,e,t){var n=k1.call(this,i,e,t);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:i,root:e,baseId:t},{index:n,compiling:!1})}function Qk(i,e,t){var n=k1.call(this,i,e,t);n>=0&&this._compilations.splice(n,1)}function k1(i,e,t){for(var n=0;n<this._compilations.length;n++){var r=this._compilations[n];if(r.schema==i&&r.root==e&&r.baseId==t)return n}return-1}function Yk(i,e){return"var pattern"+i+" = new RegExp("+df.toQuotedString(e[i])+");"}function Kk(i){return"var default"+i+" = defaults["+i+"];"}function Jk(i,e){return e[i]===void 0?"":"var refVal"+i+" = refVal["+i+"];"}function Zk(i){return"var customRule"+i+" = customRules["+i+"];"}function Vu(i,e){if(!i.length)return"";for(var t="",n=0;n<i.length;n++)t+=e(n,i);return t}var C1={exports:{}},If=C1.exports=function(){this._cache={}};If.prototype.put=function(e,t){this._cache[e]=t};If.prototype.get=function(e){return this._cache[e]};If.prototype.del=function(e){delete this._cache[e]};If.prototype.clear=function(){this._cache={}};var eC=C1.exports,tC=bl,rC=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,nC=[0,31,28,31,30,31,30,31,31,30,31,30,31],iC=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,T1=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,aC=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,sC=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,N1=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,S1=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,I1=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,R1=/^(?:\/(?:[^~/]|~0|~1)*)*$/,P1=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,F1=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,lC=Rf;function Rf(i){return i=i=="full"?"full":"fast",tC.copy(Rf[i])}Rf.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":N1,url:S1,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:T1,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:B1,uuid:I1,"json-pointer":R1,"json-pointer-uri-fragment":P1,"relative-json-pointer":F1};Rf.full={date:O1,time:L1,"date-time":fC,uri:hC,"uri-reference":sC,"uri-template":N1,url:S1,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:T1,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:B1,uuid:I1,"json-pointer":R1,"json-pointer-uri-fragment":P1,"relative-json-pointer":F1};function oC(i){return i%4===0&&(i%100!==0||i%400===0)}function O1(i){var e=i.match(rC);if(!e)return!1;var t=+e[1],n=+e[2],r=+e[3];return n>=1&&n<=12&&r>=1&&r<=(n==2&&oC(t)?29:nC[n])}function L1(i,e){var t=i.match(iC);if(!t)return!1;var n=t[1],r=t[2],s=t[3],a=t[5];return(n<=23&&r<=59&&s<=59||n==23&&r==59&&s==60)&&(!e||a)}var uC=/t|\s/i;function fC(i){var e=i.split(uC);return e.length==2&&O1(e[0])&&L1(e[1],!0)}var cC=/\/|:/;function hC(i){return cC.test(i)&&aC.test(i)}var dC=/[^\\]\\Z/;function B1(i){if(dC.test(i))return!1;try{return new RegExp(i),!0}catch{return!1}}var pC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,h="data"+(a||""),v="valid"+s,p,d;if(l=="#"||l=="#/")e.isRoot?(p=e.async,d="validate"):(p=e.root.schema.$async===!0,d="root.refVal[0]");else{var _=e.resolveRef(e.baseId,l,e.isRoot);if(_===void 0){var g=e.MissingRefError.message(e.baseId,l);if(e.opts.missingRefs=="fail"){e.logger.error(g);var b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",e.opts.messages!==!1&&(r+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(r+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var D=r;r=b.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+D+"]); ":r+=" validate.errors = ["+D+"]; return false; ":r+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",f&&(r+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(g),f&&(r+=" if (true) { ");else throw new e.MissingRefError(e.baseId,l,g)}else if(_.inline){var B=e.util.copy(e);B.level++;var S="valid"+B.level;B.schema=_.schema,B.schemaPath="",B.errSchemaPath=l;var O=e.validate(B).replace(/validate\.schema/g,_.code);r+=" "+O+" ",f&&(r+=" if ("+S+") { ")}else p=_.$async===!0||e.async&&_.$async!==!1,d=_.code}if(d){var b=b||[];b.push(r),r="",e.opts.passContext?r+=" "+d+".call(this, ":r+=" "+d+"( ",r+=" "+h+", (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var y=a?"data"+(a-1||""):"parentData",N=a?e.dataPathArr[a]:"parentDataProperty";r+=" , "+y+" , "+N+", rootData)  ";var T=r;if(r=b.pop(),p){if(!e.async)throw new Error("async schema referenced by sync schema");f&&(r+=" var "+v+"; "),r+=" try { await "+T+"; ",f&&(r+=" "+v+" = true; "),r+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",f&&(r+=" "+v+" = false; "),r+=" } ",f&&(r+=" if ("+v+") { ")}else r+=" if (!"+T+") { if (vErrors === null) vErrors = "+d+".errors; else vErrors = vErrors.concat("+d+".errors); errors = vErrors.length; } ",f&&(r+=" else { ")}return r},_C=function(e,t,n){var r=" ",s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,f=e.util.copy(e),h="";f.level++;var v="valid"+f.level,p=f.baseId,d=!0,_=s;if(_)for(var g,b=-1,D=_.length-1;b<D;)g=_[b+=1],(e.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:e.util.schemaHasRules(g,e.RULES.all))&&(d=!1,f.schema=g,f.schemaPath=a+"["+b+"]",f.errSchemaPath=l+"/"+b,r+="  "+e.validate(f)+" ",f.baseId=p,u&&(r+=" if ("+v+") { ",h+="}"));return u&&(d?r+=" if (true) { ":r+=" "+h.slice(0,-1)+" "),r},vC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="valid"+s,d="errs__"+s,_=e.util.copy(e),g="";_.level++;var b="valid"+_.level,D=l.every(function(j){return e.opts.strictKeywords?typeof j=="object"&&Object.keys(j).length>0||j===!1:e.util.schemaHasRules(j,e.RULES.all)});if(D){var B=_.baseId;r+=" var "+d+" = errors; var "+p+" = false;  ";var S=e.compositeRule;e.compositeRule=_.compositeRule=!0;var O=l;if(O)for(var y,N=-1,T=O.length-1;N<T;)y=O[N+=1],_.schema=y,_.schemaPath=u+"["+N+"]",_.errSchemaPath=f+"/"+N,r+="  "+e.validate(_)+" ",_.baseId=B,r+=" "+p+" = "+p+" || "+b+"; if (!"+p+") { ",g+="}";e.compositeRule=_.compositeRule=S,r+=" "+g+" if (!"+p+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else h&&(r+=" if (true) { ");return r},gC=function(e,t,n){var r=" ",s=e.schema[t],a=e.errSchemaPath+"/"+t;e.opts.allErrors;var l=e.util.toQuotedString(s);return e.opts.$comment===!0?r+=" console.log("+l+");":typeof e.opts.$comment=="function"&&(r+=" self._opts.$comment("+l+", "+e.util.toQuotedString(a)+", validate.root.schema);"),r},mC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="valid"+s,d=e.opts.$data&&l&&l.$data;d&&(r+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; "),d||(r+=" var schema"+s+" = validate.schema"+u+";"),r+="var "+p+" = equal("+v+", schema"+s+"); if (!"+p+") {   ";var _=_||[];_.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { allowedValue: schema"+s+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var g=r;return r=_.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",h&&(r+=" else { "),r},bC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="valid"+s,d="errs__"+s,_=e.util.copy(e),g="";_.level++;var b="valid"+_.level,D="i"+s,B=_.dataLevel=e.dataLevel+1,S="data"+B,O=e.baseId,y=e.opts.strictKeywords?typeof l=="object"&&Object.keys(l).length>0||l===!1:e.util.schemaHasRules(l,e.RULES.all);if(r+="var "+d+" = errors;var "+p+";",y){var N=e.compositeRule;e.compositeRule=_.compositeRule=!0,_.schema=l,_.schemaPath=u,_.errSchemaPath=f,r+=" var "+b+" = false; for (var "+D+" = 0; "+D+" < "+v+".length; "+D+"++) { ",_.errorPath=e.util.getPathExpr(e.errorPath,D,e.opts.jsonPointers,!0);var T=v+"["+D+"]";_.dataPathArr[B]=D;var j=e.validate(_);_.baseId=O,e.util.varOccurences(j,S)<2?r+=" "+e.util.varReplace(j,S,T)+" ":r+=" var "+S+" = "+T+"; "+j+" ",r+=" if ("+b+") break; }  ",e.compositeRule=_.compositeRule=N,r+=" "+g+" if (!"+b+") {"}else r+=" if ("+v+".length == 0) {";var F=F||[];F.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var q=r;return r=F.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+q+"]); ":r+=" validate.errors = ["+q+"]; return false; ":r+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",y&&(r+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r},wC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="errs__"+s,d=e.util.copy(e),_="";d.level++;var g="valid"+d.level,b={},D={},B=e.opts.ownProperties;for(N in l)if(N!="__proto__"){var S=l[N],O=Array.isArray(S)?D:b;O[N]=S}r+="var "+p+" = errors;";var y=e.errorPath;r+="var missing"+s+";";for(var N in D)if(O=D[N],O.length){if(r+=" if ( "+v+e.util.getProperty(N)+" !== undefined ",B&&(r+=" && Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(N)+"') "),h){r+=" && ( ";var T=O;if(T)for(var j,F=-1,q=T.length-1;F<q;){j=T[F+=1],F&&(r+=" || ");var k=e.util.getProperty(j),L=v+k;r+=" ( ( "+L+" === undefined ",B&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(j)+"') "),r+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?j:k)+") ) "}r+=")) {  ";var A="missing"+s,R="' + "+A+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(y,A,!0):y+" + "+A);var Y=Y||[];Y.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { property: '"+e.util.escapeQuotes(N)+"', missingProperty: '"+R+"', depsCount: "+O.length+", deps: '"+e.util.escapeQuotes(O.length==1?O[0]:O.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",O.length==1?r+="property "+e.util.escapeQuotes(O[0]):r+="properties "+e.util.escapeQuotes(O.join(", ")),r+=" when property "+e.util.escapeQuotes(N)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var z=r;r=Y.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+z+"]); ":r+=" validate.errors = ["+z+"]; return false; ":r+=" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var ue=O;if(ue)for(var j,re=-1,ee=ue.length-1;re<ee;){j=ue[re+=1];var k=e.util.getProperty(j),R=e.util.escapeQuotes(j),L=v+k;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(y,j,e.opts.jsonPointers)),r+=" if ( "+L+" === undefined ",B&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(j)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { property: '"+e.util.escapeQuotes(N)+"', missingProperty: '"+R+"', depsCount: "+O.length+", deps: '"+e.util.escapeQuotes(O.length==1?O[0]:O.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",O.length==1?r+="property "+e.util.escapeQuotes(O[0]):r+="properties "+e.util.escapeQuotes(O.join(", ")),r+=" when property "+e.util.escapeQuotes(N)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",h&&(_+="}",r+=" else { ")}e.errorPath=y;var $=d.baseId;for(var N in b){var S=b[N];(e.opts.strictKeywords?typeof S=="object"&&Object.keys(S).length>0||S===!1:e.util.schemaHasRules(S,e.RULES.all))&&(r+=" "+g+" = true; if ( "+v+e.util.getProperty(N)+" !== undefined ",B&&(r+=" && Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(N)+"') "),r+=") { ",d.schema=S,d.schemaPath=u+e.util.getProperty(N),d.errSchemaPath=f+"/"+e.util.escapeFragment(N),r+="  "+e.validate(d)+" ",d.baseId=$,r+=" }  ",h&&(r+=" if ("+g+") { ",_+="}"))}return h&&(r+="   "+_+" if ("+p+" == errors) {"),r},yC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="valid"+s,d=e.opts.$data&&l&&l.$data;d&&(r+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ");var _="i"+s,g="schema"+s;d||(r+=" var "+g+" = validate.schema"+u+";"),r+="var "+p+";",d&&(r+=" if (schema"+s+" === undefined) "+p+" = true; else if (!Array.isArray(schema"+s+")) "+p+" = false; else {"),r+=""+p+" = false;for (var "+_+"=0; "+_+"<"+g+".length; "+_+"++) if (equal("+v+", "+g+"["+_+"])) { "+p+" = true; break; }",d&&(r+="  }  "),r+=" if (!"+p+") {   ";var b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { allowedValues: schema"+s+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var D=r;return r=b.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+D+"]); ":r+=" validate.errors = ["+D+"]; return false; ":r+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",h&&(r+=" else { "),r},EC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||"");if(e.opts.format===!1)return h&&(r+=" if (true) { "),r;var p=e.opts.$data&&l&&l.$data,d;p?(r+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",d="schema"+s):d=l;var _=e.opts.unknownFormats,g=Array.isArray(_);if(p){var b="format"+s,D="isObject"+s,B="formatType"+s;r+=" var "+b+" = formats["+d+"]; var "+D+" = typeof "+b+" == 'object' && !("+b+" instanceof RegExp) && "+b+".validate; var "+B+" = "+D+" && "+b+".type || 'string'; if ("+D+") { ",e.async&&(r+=" var async"+s+" = "+b+".async; "),r+=" "+b+" = "+b+".validate; } if (  ",p&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),r+=" (",_!="ignore"&&(r+=" ("+d+" && !"+b+" ",g&&(r+=" && self._opts.unknownFormats.indexOf("+d+") == -1 "),r+=") || "),r+=" ("+b+" && "+B+" == '"+n+"' && !(typeof "+b+" == 'function' ? ",e.async?r+=" (async"+s+" ? await "+b+"("+v+") : "+b+"("+v+")) ":r+=" "+b+"("+v+") ",r+=" : "+b+".test("+v+"))))) {"}else{var b=e.formats[l];if(!b){if(_=="ignore")return e.logger.warn('unknown format "'+l+'" ignored in schema at path "'+e.errSchemaPath+'"'),h&&(r+=" if (true) { "),r;if(g&&_.indexOf(l)>=0)return h&&(r+=" if (true) { "),r;throw new Error('unknown format "'+l+'" is used in schema at path "'+e.errSchemaPath+'"')}var D=typeof b=="object"&&!(b instanceof RegExp)&&b.validate,B=D&&b.type||"string";if(D){var S=b.async===!0;b=b.validate}if(B!=n)return h&&(r+=" if (true) { "),r;if(S){if(!e.async)throw new Error("async format in sync schema");var O="formats"+e.util.getProperty(l)+".validate";r+=" if (!(await "+O+"("+v+"))) { "}else{r+=" if (! ";var O="formats"+e.util.getProperty(l);D&&(O+=".validate"),typeof b=="function"?r+=" "+O+"("+v+") ":r+=" "+O+".test("+v+") ",r+=") { "}}var y=y||[];y.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { format:  ",p?r+=""+d:r+=""+e.util.toQuotedString(l),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match format "`,p?r+="' + "+d+" + '":r+=""+e.util.escapeQuotes(l),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+u:r+=""+e.util.toQuotedString(l),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var N=r;return r=y.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+N+"]); ":r+=" validate.errors = ["+N+"]; return false; ":r+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",h&&(r+=" else { "),r},DC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="valid"+s,d="errs__"+s,_=e.util.copy(e);_.level++;var g="valid"+_.level,b=e.schema.then,D=e.schema.else,B=b!==void 0&&(e.opts.strictKeywords?typeof b=="object"&&Object.keys(b).length>0||b===!1:e.util.schemaHasRules(b,e.RULES.all)),S=D!==void 0&&(e.opts.strictKeywords?typeof D=="object"&&Object.keys(D).length>0||D===!1:e.util.schemaHasRules(D,e.RULES.all)),O=_.baseId;if(B||S){var y;_.createErrors=!1,_.schema=l,_.schemaPath=u,_.errSchemaPath=f,r+=" var "+d+" = errors; var "+p+" = true;  ";var N=e.compositeRule;e.compositeRule=_.compositeRule=!0,r+="  "+e.validate(_)+" ",_.baseId=O,_.createErrors=!0,r+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }  ",e.compositeRule=_.compositeRule=N,B?(r+=" if ("+g+") {  ",_.schema=e.schema.then,_.schemaPath=e.schemaPath+".then",_.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(_)+" ",_.baseId=O,r+=" "+p+" = "+g+"; ",B&&S?(y="ifClause"+s,r+=" var "+y+" = 'then'; "):y="'then'",r+=" } ",S&&(r+=" else { ")):r+=" if (!"+g+") { ",S&&(_.schema=e.schema.else,_.schemaPath=e.schemaPath+".else",_.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(_)+" ",_.baseId=O,r+=" "+p+" = "+g+"; ",B&&S?(y="ifClause"+s,r+=" var "+y+" = 'else'; "):y="'else'",r+=" } "),r+=" if (!"+p+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { failingKeyword: "+y+" } ",e.opts.messages!==!1&&(r+=` , message: 'should match "' + `+y+` + '" schema' `),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",h&&(r+=" else { ")}else h&&(r+=" if (true) { ");return r},AC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="valid"+s,d="errs__"+s,_=e.util.copy(e),g="";_.level++;var b="valid"+_.level,D="i"+s,B=_.dataLevel=e.dataLevel+1,S="data"+B,O=e.baseId;if(r+="var "+d+" = errors;var "+p+";",Array.isArray(l)){var y=e.schema.additionalItems;if(y===!1){r+=" "+p+" = "+v+".length <= "+l.length+"; ";var N=f;f=e.errSchemaPath+"/additionalItems",r+="  if (!"+p+") {   ";var T=T||[];T.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { limit: "+l.length+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have more than "+l.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var j=r;r=T.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+j+"]); ":r+=" validate.errors = ["+j+"]; return false; ":r+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",f=N,h&&(g+="}",r+=" else { ")}var F=l;if(F){for(var q,k=-1,L=F.length-1;k<L;)if(q=F[k+=1],e.opts.strictKeywords?typeof q=="object"&&Object.keys(q).length>0||q===!1:e.util.schemaHasRules(q,e.RULES.all)){r+=" "+b+" = true; if ("+v+".length > "+k+") { ";var A=v+"["+k+"]";_.schema=q,_.schemaPath=u+"["+k+"]",_.errSchemaPath=f+"/"+k,_.errorPath=e.util.getPathExpr(e.errorPath,k,e.opts.jsonPointers,!0),_.dataPathArr[B]=k;var R=e.validate(_);_.baseId=O,e.util.varOccurences(R,S)<2?r+=" "+e.util.varReplace(R,S,A)+" ":r+=" var "+S+" = "+A+"; "+R+" ",r+=" }  ",h&&(r+=" if ("+b+") { ",g+="}")}}if(typeof y=="object"&&(e.opts.strictKeywords?typeof y=="object"&&Object.keys(y).length>0||y===!1:e.util.schemaHasRules(y,e.RULES.all))){_.schema=y,_.schemaPath=e.schemaPath+".additionalItems",_.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+b+" = true; if ("+v+".length > "+l.length+") {  for (var "+D+" = "+l.length+"; "+D+" < "+v+".length; "+D+"++) { ",_.errorPath=e.util.getPathExpr(e.errorPath,D,e.opts.jsonPointers,!0);var A=v+"["+D+"]";_.dataPathArr[B]=D;var R=e.validate(_);_.baseId=O,e.util.varOccurences(R,S)<2?r+=" "+e.util.varReplace(R,S,A)+" ":r+=" var "+S+" = "+A+"; "+R+" ",h&&(r+=" if (!"+b+") break; "),r+=" } }  ",h&&(r+=" if ("+b+") { ",g+="}")}}else if(e.opts.strictKeywords?typeof l=="object"&&Object.keys(l).length>0||l===!1:e.util.schemaHasRules(l,e.RULES.all)){_.schema=l,_.schemaPath=u,_.errSchemaPath=f,r+="  for (var "+D+" = 0; "+D+" < "+v+".length; "+D+"++) { ",_.errorPath=e.util.getPathExpr(e.errorPath,D,e.opts.jsonPointers,!0);var A=v+"["+D+"]";_.dataPathArr[B]=D;var R=e.validate(_);_.baseId=O,e.util.varOccurences(R,S)<2?r+=" "+e.util.varReplace(R,S,A)+" ":r+=" var "+S+" = "+A+"; "+R+" ",h&&(r+=" if (!"+b+") break; "),r+=" }"}return h&&(r+=" "+g+" if ("+d+" == errors) {"),r},z_=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,O,v="data"+(a||""),p=e.opts.$data&&l&&l.$data,d;p?(r+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",d="schema"+s):d=l;var _=t=="maximum",g=_?"exclusiveMaximum":"exclusiveMinimum",b=e.schema[g],D=e.opts.$data&&b&&b.$data,B=_?"<":">",S=_?">":"<",O=void 0;if(!(p||typeof l=="number"||l===void 0))throw new Error(t+" must be number");if(!(D||b===void 0||typeof b=="number"||typeof b=="boolean"))throw new Error(g+" must be number or boolean");if(D){var y=e.util.getData(b.$data,a,e.dataPathArr),N="exclusive"+s,T="exclType"+s,j="exclIsNumber"+s,F="op"+s,q="' + "+F+" + '";r+=" var schemaExcl"+s+" = "+y+"; ",y="schemaExcl"+s,r+=" var "+N+"; var "+T+" = typeof "+y+"; if ("+T+" != 'boolean' && "+T+" != 'undefined' && "+T+" != 'number') { ";var O=g,k=k||[];k.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(O||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: '"+g+" should be boolean' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var L=r;r=k.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+L+"]); ":r+=" validate.errors = ["+L+"]; return false; ":r+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else if ( ",p&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),r+=" "+T+" == 'number' ? ( ("+N+" = "+d+" === undefined || "+y+" "+B+"= "+d+") ? "+v+" "+S+"= "+y+" : "+v+" "+S+" "+d+" ) : ( ("+N+" = "+y+" === true) ? "+v+" "+S+"= "+d+" : "+v+" "+S+" "+d+" ) || "+v+" !== "+v+") { var op"+s+" = "+N+" ? '"+B+"' : '"+B+"='; ",l===void 0&&(O=g,f=e.errSchemaPath+"/"+g,d=y,p=D)}else{var j=typeof b=="number",q=B;if(j&&p){var F="'"+q+"'";r+=" if ( ",p&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),r+=" ( "+d+" === undefined || "+b+" "+B+"= "+d+" ? "+v+" "+S+"= "+b+" : "+v+" "+S+" "+d+" ) || "+v+" !== "+v+") { "}else{j&&l===void 0?(N=!0,O=g,f=e.errSchemaPath+"/"+g,d=b,S+="="):(j&&(d=Math[_?"min":"max"](b,l)),b===(j?d:!0)?(N=!0,O=g,f=e.errSchemaPath+"/"+g,S+="="):(N=!1,q+="="));var F="'"+q+"'";r+=" if ( ",p&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),r+=" "+v+" "+S+" "+d+" || "+v+" !== "+v+") { "}}O=O||t;var k=k||[];k.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(O||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { comparison: "+F+", limit: "+d+", exclusive: "+N+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be "+q+" ",p?r+="' + "+d:r+=""+d+"'"),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+u:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var L=r;return r=k.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+L+"]); ":r+=" validate.errors = ["+L+"]; return false; ":r+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",h&&(r+=" else { "),r},V_=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,g,v="data"+(a||""),p=e.opts.$data&&l&&l.$data,d;if(p?(r+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",d="schema"+s):d=l,!(p||typeof l=="number"))throw new Error(t+" must be number");var _=t=="maxItems"?">":"<";r+="if ( ",p&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),r+=" "+v+".length "+_+" "+d+") { ";var g=t,b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(g||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { limit: "+d+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",t=="maxItems"?r+="more":r+="fewer",r+=" than ",p?r+="' + "+d+" + '":r+=""+l,r+=" items' "),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+u:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var D=r;return r=b.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+D+"]); ":r+=" validate.errors = ["+D+"]; return false; ":r+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",h&&(r+=" else { "),r},H_=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,g,v="data"+(a||""),p=e.opts.$data&&l&&l.$data,d;if(p?(r+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",d="schema"+s):d=l,!(p||typeof l=="number"))throw new Error(t+" must be number");var _=t=="maxLength"?">":"<";r+="if ( ",p&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),e.opts.unicode===!1?r+=" "+v+".length ":r+=" ucs2length("+v+") ",r+=" "+_+" "+d+") { ";var g=t,b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(g||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { limit: "+d+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be ",t=="maxLength"?r+="longer":r+="shorter",r+=" than ",p?r+="' + "+d+" + '":r+=""+l,r+=" characters' "),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+u:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var D=r;return r=b.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+D+"]); ":r+=" validate.errors = ["+D+"]; return false; ":r+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",h&&(r+=" else { "),r},$_=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,g,v="data"+(a||""),p=e.opts.$data&&l&&l.$data,d;if(p?(r+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",d="schema"+s):d=l,!(p||typeof l=="number"))throw new Error(t+" must be number");var _=t=="maxProperties"?">":"<";r+="if ( ",p&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),r+=" Object.keys("+v+").length "+_+" "+d+") { ";var g=t,b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(g||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { limit: "+d+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",t=="maxProperties"?r+="more":r+="fewer",r+=" than ",p?r+="' + "+d+" + '":r+=""+l,r+=" properties' "),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+u:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var D=r;return r=b.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+D+"]); ":r+=" validate.errors = ["+D+"]; return false; ":r+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",h&&(r+=" else { "),r},kC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p=e.opts.$data&&l&&l.$data,d;if(p?(r+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",d="schema"+s):d=l,!(p||typeof l=="number"))throw new Error(t+" must be number");r+="var division"+s+";if (",p&&(r+=" "+d+" !== undefined && ( typeof "+d+" != 'number' || "),r+=" (division"+s+" = "+v+" / "+d+", ",e.opts.multipleOfPrecision?r+=" Math.abs(Math.round(division"+s+") - division"+s+") > 1e-"+e.opts.multipleOfPrecision+" ":r+=" division"+s+" !== parseInt(division"+s+") ",r+=" ) ",p&&(r+="  )  "),r+=" ) {   ";var _=_||[];_.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { multipleOf: "+d+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be multiple of ",p?r+="' + "+d:r+=""+d+"'"),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+u:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var g=r;return r=_.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",h&&(r+=" else { "),r},CC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="errs__"+s,d=e.util.copy(e);d.level++;var _="valid"+d.level;if(e.opts.strictKeywords?typeof l=="object"&&Object.keys(l).length>0||l===!1:e.util.schemaHasRules(l,e.RULES.all)){d.schema=l,d.schemaPath=u,d.errSchemaPath=f,r+=" var "+p+" = errors;  ";var g=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.createErrors=!1;var b;d.opts.allErrors&&(b=d.opts.allErrors,d.opts.allErrors=!1),r+=" "+e.validate(d)+" ",d.createErrors=!0,b&&(d.opts.allErrors=b),e.compositeRule=d.compositeRule=g,r+=" if ("+_+") {   ";var D=D||[];D.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var B=r;r=D.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+B+"]); ":r+=" validate.errors = ["+B+"]; return false; ":r+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",h&&(r+=" if (false) { ");return r},TC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="valid"+s,d="errs__"+s,_=e.util.copy(e),g="";_.level++;var b="valid"+_.level,D=_.baseId,B="prevValid"+s,S="passingSchemas"+s;r+="var "+d+" = errors , "+B+" = false , "+p+" = false , "+S+" = null; ";var O=e.compositeRule;e.compositeRule=_.compositeRule=!0;var y=l;if(y)for(var N,T=-1,j=y.length-1;T<j;)N=y[T+=1],(e.opts.strictKeywords?typeof N=="object"&&Object.keys(N).length>0||N===!1:e.util.schemaHasRules(N,e.RULES.all))?(_.schema=N,_.schemaPath=u+"["+T+"]",_.errSchemaPath=f+"/"+T,r+="  "+e.validate(_)+" ",_.baseId=D):r+=" var "+b+" = true; ",T&&(r+=" if ("+b+" && "+B+") { "+p+" = false; "+S+" = ["+S+", "+T+"]; } else { ",g+="}"),r+=" if ("+b+") { "+p+" = "+B+" = true; "+S+" = "+T+"; }";return e.compositeRule=_.compositeRule=O,r+=""+g+"if (!"+p+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { passingSchemas: "+S+" } ",e.opts.messages!==!1&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r},NC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p=e.opts.$data&&l&&l.$data,d;p?(r+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",d="schema"+s):d=l;var _=p?"(new RegExp("+d+"))":e.usePattern(l);r+="if ( ",p&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),r+=" !"+_+".test("+v+") ) {   ";var g=g||[];g.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { pattern:  ",p?r+=""+d:r+=""+e.util.toQuotedString(l),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match pattern "`,p?r+="' + "+d+" + '":r+=""+e.util.escapeQuotes(l),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+u:r+=""+e.util.toQuotedString(l),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var b=r;return r=g.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",h&&(r+=" else { "),r},SC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="errs__"+s,d=e.util.copy(e),_="";d.level++;var g="valid"+d.level,b="key"+s,D="idx"+s,B=d.dataLevel=e.dataLevel+1,S="data"+B,O="dataProperties"+s,y=Object.keys(l||{}).filter(re),N=e.schema.patternProperties||{},T=Object.keys(N).filter(re),j=e.schema.additionalProperties,F=y.length||T.length,q=j===!1,k=typeof j=="object"&&Object.keys(j).length,L=e.opts.removeAdditional,A=q||k||L,R=e.opts.ownProperties,Y=e.baseId,z=e.schema.required;if(z&&!(e.opts.$data&&z.$data)&&z.length<e.opts.loopRequired)var ue=e.util.toHash(z);function re(W){return W!=="__proto__"}if(r+="var "+p+" = errors;var "+g+" = true;",R&&(r+=" var "+O+" = undefined;"),A){if(R?r+=" "+O+" = "+O+" || Object.keys("+v+"); for (var "+D+"=0; "+D+"<"+O+".length; "+D+"++) { var "+b+" = "+O+"["+D+"]; ":r+=" for (var "+b+" in "+v+") { ",F){if(r+=" var isAdditional"+s+" = !(false ",y.length)if(y.length>8)r+=" || validate.schema"+u+".hasOwnProperty("+b+") ";else{var ee=y;if(ee)for(var $,Q=-1,pe=ee.length-1;Q<pe;)$=ee[Q+=1],r+=" || "+b+" == "+e.util.toQuotedString($)+" "}if(T.length){var J=T;if(J)for(var de,it=-1,nt=J.length-1;it<nt;)de=J[it+=1],r+=" || "+e.usePattern(de)+".test("+b+") "}r+=" ); if (isAdditional"+s+") { "}if(L=="all")r+=" delete "+v+"["+b+"]; ";else{var Fe=e.errorPath,ze="' + "+b+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers)),q)if(L)r+=" delete "+v+"["+b+"]; ";else{r+=" "+g+" = false; ";var Ce=f;f=e.errSchemaPath+"/additionalProperties";var Ee=Ee||[];Ee.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { additionalProperty: '"+ze+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var Ge=r;r=Ee.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+Ge+"]); ":r+=" validate.errors = ["+Ge+"]; return false; ":r+=" var err = "+Ge+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",f=Ce,h&&(r+=" break; ")}else if(k)if(L=="failing"){r+=" var "+p+" = errors;  ";var Dt=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=j,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers);var lt=v+"["+b+"]";d.dataPathArr[B]=b;var ge=e.validate(d);d.baseId=Y,e.util.varOccurences(ge,S)<2?r+=" "+e.util.varReplace(ge,S,lt)+" ":r+=" var "+S+" = "+lt+"; "+ge+" ",r+=" if (!"+g+") { errors = "+p+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+v+"["+b+"]; }  ",e.compositeRule=d.compositeRule=Dt}else{d.schema=j,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers);var lt=v+"["+b+"]";d.dataPathArr[B]=b;var ge=e.validate(d);d.baseId=Y,e.util.varOccurences(ge,S)<2?r+=" "+e.util.varReplace(ge,S,lt)+" ":r+=" var "+S+" = "+lt+"; "+ge+" ",h&&(r+=" if (!"+g+") break; ")}e.errorPath=Fe}F&&(r+=" } "),r+=" }  ",h&&(r+=" if ("+g+") { ",_+="}")}var Me=e.opts.useDefaults&&!e.compositeRule;if(y.length){var nr=y;if(nr)for(var $,sr=-1,xr=nr.length-1;sr<xr;){$=nr[sr+=1];var ur=l[$];if(e.opts.strictKeywords?typeof ur=="object"&&Object.keys(ur).length>0||ur===!1:e.util.schemaHasRules(ur,e.RULES.all)){var Tr=e.util.getProperty($),lt=v+Tr,fr=Me&&ur.default!==void 0;d.schema=ur,d.schemaPath=u+Tr,d.errSchemaPath=f+"/"+e.util.escapeFragment($),d.errorPath=e.util.getPath(e.errorPath,$,e.opts.jsonPointers),d.dataPathArr[B]=e.util.toQuotedString($);var ge=e.validate(d);if(d.baseId=Y,e.util.varOccurences(ge,S)<2){ge=e.util.varReplace(ge,S,lt);var mt=lt}else{var mt=S;r+=" var "+S+" = "+lt+"; "}if(fr)r+=" "+ge+" ";else{if(ue&&ue[$]){r+=" if ( "+mt+" === undefined ",R&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes($)+"') "),r+=") { "+g+" = false; ";var Fe=e.errorPath,Ce=f,At=e.util.escapeQuotes($);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(Fe,$,e.opts.jsonPointers)),f=e.errSchemaPath+"/required";var Ee=Ee||[];Ee.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { missingProperty: '"+At+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+At+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var Ge=r;r=Ee.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+Ge+"]); ":r+=" validate.errors = ["+Ge+"]; return false; ":r+=" var err = "+Ge+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",f=Ce,e.errorPath=Fe,r+=" } else { "}else h?(r+=" if ( "+mt+" === undefined ",R&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes($)+"') "),r+=") { "+g+" = true; } else { "):(r+=" if ("+mt+" !== undefined ",R&&(r+=" &&   Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes($)+"') "),r+=" ) { ");r+=" "+ge+" } "}}h&&(r+=" if ("+g+") { ",_+="}")}}if(T.length){var tt=T;if(tt)for(var de,Le=-1,ot=tt.length-1;Le<ot;){de=tt[Le+=1];var ur=N[de];if(e.opts.strictKeywords?typeof ur=="object"&&Object.keys(ur).length>0||ur===!1:e.util.schemaHasRules(ur,e.RULES.all)){d.schema=ur,d.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(de),d.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(de),R?r+=" "+O+" = "+O+" || Object.keys("+v+"); for (var "+D+"=0; "+D+"<"+O+".length; "+D+"++) { var "+b+" = "+O+"["+D+"]; ":r+=" for (var "+b+" in "+v+") { ",r+=" if ("+e.usePattern(de)+".test("+b+")) { ",d.errorPath=e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers);var lt=v+"["+b+"]";d.dataPathArr[B]=b;var ge=e.validate(d);d.baseId=Y,e.util.varOccurences(ge,S)<2?r+=" "+e.util.varReplace(ge,S,lt)+" ":r+=" var "+S+" = "+lt+"; "+ge+" ",h&&(r+=" if (!"+g+") break; "),r+=" } ",h&&(r+=" else "+g+" = true; "),r+=" }  ",h&&(r+=" if ("+g+") { ",_+="}")}}}return h&&(r+=" "+_+" if ("+p+" == errors) {"),r},IC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="errs__"+s,d=e.util.copy(e),_="";d.level++;var g="valid"+d.level;if(r+="var "+p+" = errors;",e.opts.strictKeywords?typeof l=="object"&&Object.keys(l).length>0||l===!1:e.util.schemaHasRules(l,e.RULES.all)){d.schema=l,d.schemaPath=u,d.errSchemaPath=f;var b="key"+s,D="idx"+s,B="i"+s,S="' + "+b+" + '",O=d.dataLevel=e.dataLevel+1,y="data"+O,N="dataProperties"+s,T=e.opts.ownProperties,j=e.baseId;T&&(r+=" var "+N+" = undefined; "),T?r+=" "+N+" = "+N+" || Object.keys("+v+"); for (var "+D+"=0; "+D+"<"+N+".length; "+D+"++) { var "+b+" = "+N+"["+D+"]; ":r+=" for (var "+b+" in "+v+") { ",r+=" var startErrs"+s+" = errors; ";var F=b,q=e.compositeRule;e.compositeRule=d.compositeRule=!0;var k=e.validate(d);d.baseId=j,e.util.varOccurences(k,y)<2?r+=" "+e.util.varReplace(k,y,F)+" ":r+=" var "+y+" = "+F+"; "+k+" ",e.compositeRule=d.compositeRule=q,r+=" if (!"+g+") { for (var "+B+"=startErrs"+s+"; "+B+"<errors; "+B+"++) { vErrors["+B+"].propertyName = "+b+"; }   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { propertyName: '"+S+"' } ",e.opts.messages!==!1&&(r+=" , message: 'property name \\'"+S+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),h&&(r+=" break; "),r+=" } }"}return h&&(r+=" "+_+" if ("+p+" == errors) {"),r},RC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="valid"+s,d=e.opts.$data&&l&&l.$data;d&&(r+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ");var _="schema"+s;if(!d)if(l.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var g=[],b=l;if(b)for(var D,B=-1,S=b.length-1;B<S;){D=b[B+=1];var O=e.schema.properties[D];O&&(e.opts.strictKeywords?typeof O=="object"&&Object.keys(O).length>0||O===!1:e.util.schemaHasRules(O,e.RULES.all))||(g[g.length]=D)}}else var g=l;if(d||g.length){var y=e.errorPath,N=d||g.length>=e.opts.loopRequired,T=e.opts.ownProperties;if(h)if(r+=" var missing"+s+"; ",N){d||(r+=" var "+_+" = validate.schema"+u+"; ");var j="i"+s,F="schema"+s+"["+j+"]",q="' + "+F+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(y,F,e.opts.jsonPointers)),r+=" var "+p+" = true; ",d&&(r+=" if (schema"+s+" === undefined) "+p+" = true; else if (!Array.isArray(schema"+s+")) "+p+" = false; else {"),r+=" for (var "+j+" = 0; "+j+" < "+_+".length; "+j+"++) { "+p+" = "+v+"["+_+"["+j+"]] !== undefined ",T&&(r+=" &&   Object.prototype.hasOwnProperty.call("+v+", "+_+"["+j+"]) "),r+="; if (!"+p+") break; } ",d&&(r+="  }  "),r+="  if (!"+p+") {   ";var k=k||[];k.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { missingProperty: '"+q+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+q+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var L=r;r=k.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+L+"]); ":r+=" validate.errors = ["+L+"]; return false; ":r+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var A=g;if(A)for(var R,j=-1,Y=A.length-1;j<Y;){R=A[j+=1],j&&(r+=" || ");var z=e.util.getProperty(R),ue=v+z;r+=" ( ( "+ue+" === undefined ",T&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(R)+"') "),r+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?R:z)+") ) "}r+=") {  ";var F="missing"+s,q="' + "+F+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(y,F,!0):y+" + "+F);var k=k||[];k.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { missingProperty: '"+q+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+q+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var L=r;r=k.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+L+"]); ":r+=" validate.errors = ["+L+"]; return false; ":r+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(N){d||(r+=" var "+_+" = validate.schema"+u+"; ");var j="i"+s,F="schema"+s+"["+j+"]",q="' + "+F+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(y,F,e.opts.jsonPointers)),d&&(r+=" if ("+_+" && !Array.isArray("+_+")) {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { missingProperty: '"+q+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+q+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+_+" !== undefined) { "),r+=" for (var "+j+" = 0; "+j+" < "+_+".length; "+j+"++) { if ("+v+"["+_+"["+j+"]] === undefined ",T&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", "+_+"["+j+"]) "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { missingProperty: '"+q+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+q+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",d&&(r+="  }  ")}else{var re=g;if(re)for(var R,ee=-1,$=re.length-1;ee<$;){R=re[ee+=1];var z=e.util.getProperty(R),q=e.util.escapeQuotes(R),ue=v+z;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(y,R,e.opts.jsonPointers)),r+=" if ( "+ue+" === undefined ",T&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(R)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { missingProperty: '"+q+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+q+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=y}else h&&(r+=" if (true) {");return r},PC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v="data"+(a||""),p="valid"+s,d=e.opts.$data&&l&&l.$data,_;if(d?(r+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",_="schema"+s):_=l,(l||d)&&e.opts.uniqueItems!==!1){d&&(r+=" var "+p+"; if ("+_+" === false || "+_+" === undefined) "+p+" = true; else if (typeof "+_+" != 'boolean') "+p+" = false; else { "),r+=" var i = "+v+".length , "+p+" = true , j; if (i > 1) { ";var g=e.schema.items&&e.schema.items.type,b=Array.isArray(g);if(!g||g=="object"||g=="array"||b&&(g.indexOf("object")>=0||g.indexOf("array")>=0))r+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+v+"[i], "+v+"[j])) { "+p+" = false; break outer; } } } ";else{r+=" var itemIndices = {}, item; for (;i--;) { var item = "+v+"[i]; ";var D="checkDataType"+(b?"s":"");r+=" if ("+e.util[D](g,"item",e.opts.strictNumbers,!0)+") continue; ",b&&(r+=` if (typeof item == 'string') item = '"' + item; `),r+=" if (typeof itemIndices[item] == 'number') { "+p+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}r+=" } ",d&&(r+="  }  "),r+=" if (!"+p+") {   ";var B=B||[];B.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(r+=" , schema:  ",d?r+="validate.schema"+u:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var S=r;r=B.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",h&&(r+=" else { ")}else h&&(r+=" if (true) { ");return r},FC={$ref:pC,allOf:_C,anyOf:vC,$comment:gC,const:mC,contains:bC,dependencies:wC,enum:yC,format:EC,if:DC,items:AC,maximum:z_,minimum:z_,maxItems:V_,minItems:V_,maxLength:H_,minLength:H_,maxProperties:$_,minProperties:$_,multipleOf:kC,not:CC,oneOf:TC,pattern:NC,properties:SC,propertyNames:IC,required:RC,uniqueItems:PC,validate:D1},G_=FC,ch=bl.toHash,OC=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"],n=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],r=["number","integer","string","array","object","boolean","null"];return e.all=ch(t),e.types=ch(r),e.forEach(function(s){s.rules=s.rules.map(function(a){var l;if(typeof a=="object"){var u=Object.keys(a)[0];l=a[u],a=u,l.forEach(function(h){t.push(h),e.all[h]=!0})}t.push(a);var f=e.all[a]={keyword:a,code:G_[a],implements:l};return f}),e.all.$comment={keyword:"$comment",code:G_.$comment},s.type&&(e.types[s.type]=s)}),e.keywords=ch(t.concat(n)),e.custom={},e},X_=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],LC=function(i,e){for(var t=0;t<e.length;t++){i=JSON.parse(JSON.stringify(i));var n=e[t].split("/"),r=i,s;for(s=1;s<n.length;s++)r=r[n[s]];for(s=0;s<X_.length;s++){var a=X_[s],l=r[a];l&&(r[a]={anyOf:[l,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return i},BC=ld.MissingRef,UC=U1;function U1(i,e,t){var n=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof e=="function"&&(t=e,e=void 0);var r=s(i).then(function(){var l=n._addSchema(i,void 0,e);return l.validate||a(l)});return t&&r.then(function(l){t(null,l)},t),r;function s(l){var u=l.$schema;return u&&!n.getSchema(u)?U1.call(n,{$ref:u},!0):Promise.resolve()}function a(l){try{return n._compile(l)}catch(f){if(f instanceof BC)return u(f);throw f}function u(f){var h=f.missingSchema;if(d(h))throw new Error("Schema "+h+" is loaded but "+f.missingRef+" cannot be resolved");var v=n._loadingSchemas[h];return v||(v=n._loadingSchemas[h]=n._opts.loadSchema(h),v.then(p,p)),v.then(function(_){if(!d(h))return s(_).then(function(){d(h)||n.addSchema(_,h,void 0,e)})}).then(function(){return a(l)});function p(){delete n._loadingSchemas[h]}function d(_){return n._refs[_]||n._schemas[_]}}}}var MC=function(e,t,n){var r=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,v,p="data"+(a||""),d="valid"+s,_="errs__"+s,g=e.opts.$data&&l&&l.$data,b;g?(r+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",b="schema"+s):b=l;var D=this,B="definition"+s,S=D.definition,O="",y,N,T,j,F;if(g&&S.$data){F="keywordValidate"+s;var q=S.validateSchema;r+=" var "+B+" = RULES.custom['"+t+"'].definition; var "+F+" = "+B+".validate;"}else{if(j=e.useCustomRule(D,l,e.schema,e),!j)return;b="validate.schema"+u,F=j.code,y=S.compile,N=S.inline,T=S.macro}var k=F+".errors",L="i"+s,A="ruleErr"+s,R=S.async;if(R&&!e.async)throw new Error("async keyword in sync schema");if(N||T||(r+=""+k+" = null;"),r+="var "+_+" = errors;var "+d+";",g&&S.$data&&(O+="}",r+=" if ("+b+" === undefined) { "+d+" = true; } else { ",q&&(O+="}",r+=" "+d+" = "+B+".validateSchema("+b+"); if ("+d+") { ")),N)S.statements?r+=" "+j.validate+" ":r+=" "+d+" = "+j.validate+"; ";else if(T){var Y=e.util.copy(e),O="";Y.level++;var z="valid"+Y.level;Y.schema=j.validate,Y.schemaPath="";var ue=e.compositeRule;e.compositeRule=Y.compositeRule=!0;var re=e.validate(Y).replace(/validate\.schema/g,F);e.compositeRule=Y.compositeRule=ue,r+=" "+re}else{var ee=ee||[];ee.push(r),r="",r+="  "+F+".call( ",e.opts.passContext?r+="this":r+="self",y||S.schema===!1?r+=" , "+p+" ":r+=" , "+b+" , "+p+" , validate.schema"+e.schemaPath+" ",r+=" , (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var $=a?"data"+(a-1||""):"parentData",Q=a?e.dataPathArr[a]:"parentDataProperty";r+=" , "+$+" , "+Q+" , rootData )  ";var pe=r;r=ee.pop(),S.errors===!1?(r+=" "+d+" = ",R&&(r+="await "),r+=""+pe+"; "):R?(k="customErrors"+s,r+=" var "+k+" = null; try { "+d+" = await "+pe+"; } catch (e) { "+d+" = false; if (e instanceof ValidationError) "+k+" = e.errors; else throw e; } "):r+=" "+k+" = null; "+d+" = "+pe+"; "}if(S.modifying&&(r+=" if ("+$+") "+p+" = "+$+"["+Q+"];"),r+=""+O,S.valid)h&&(r+=" if (true) { ");else{r+=" if ( ",S.valid===void 0?(r+=" !",T?r+=""+z:r+=""+d):r+=" "+!S.valid+" ",r+=") { ",v=D.keyword;var ee=ee||[];ee.push(r),r="";var ee=ee||[];ee.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(v||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { keyword: '"+D.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+D.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ";var J=r;r=ee.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+J+"]); ":r+=" validate.errors = ["+J+"]; return false; ":r+=" var err = "+J+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var de=r;r=ee.pop(),N?S.errors?S.errors!="full"&&(r+="  for (var "+L+"="+_+"; "+L+"<errors; "+L+"++) { var "+A+" = vErrors["+L+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+f+'"; } ',e.opts.verbose&&(r+=" "+A+".schema = "+b+"; "+A+".data = "+p+"; "),r+=" } "):S.errors===!1?r+=" "+de+" ":(r+=" if ("+_+" == errors) { "+de+" } else {  for (var "+L+"="+_+"; "+L+"<errors; "+L+"++) { var "+A+" = vErrors["+L+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+f+'"; } ',e.opts.verbose&&(r+=" "+A+".schema = "+b+"; "+A+".data = "+p+"; "),r+=" } } "):T?(r+="   var err =   ",e.createErrors!==!1?(r+=" { keyword: '"+(v||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { keyword: '"+D.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+D.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; ")):S.errors===!1?r+=" "+de+" ":(r+=" if (Array.isArray("+k+")) { if (vErrors === null) vErrors = "+k+"; else vErrors = vErrors.concat("+k+"); errors = vErrors.length;  for (var "+L+"="+_+"; "+L+"<errors; "+L+"++) { var "+A+" = vErrors["+L+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+";  "+A+'.schemaPath = "'+f+'";  ',e.opts.verbose&&(r+=" "+A+".schema = "+b+"; "+A+".data = "+p+"; "),r+=" } } else { "+de+" } "),r+=" } ",h&&(r+=" else { ")}return r};const qC="http://json-schema.org/draft-07/schema#",jC="http://json-schema.org/draft-07/schema#",xC="Core schema meta-schema",zC={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},VC=["object","boolean"],HC={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},M1={$schema:qC,$id:jC,title:xC,definitions:zC,type:VC,properties:HC,default:!0};var W_=M1,$C={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:W_.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:W_.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},GC=/^[a-z_$][a-z0-9_$-]*$/i,XC=MC,WC=$C,QC={add:YC,get:KC,remove:JC,validate:Bh};function YC(i,e){var t=this.RULES;if(t.keywords[i])throw new Error("Keyword "+i+" is already defined");if(!GC.test(i))throw new Error("Keyword "+i+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var n=e.type;if(Array.isArray(n))for(var r=0;r<n.length;r++)a(i,n[r],e);else a(i,n,e);var s=e.metaSchema;s&&(e.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(s,!0))}t.keywords[i]=t.all[i]=!0;function a(l,u,f){for(var h,v=0;v<t.length;v++){var p=t[v];if(p.type==u){h=p;break}}h||(h={type:u,rules:[]},t.push(h));var d={keyword:l,definition:f,custom:!0,code:XC,implements:f.implements};h.rules.push(d),t.custom[l]=d}return this}function KC(i){var e=this.RULES.custom[i];return e?e.definition:this.RULES.keywords[i]||!1}function JC(i){var e=this.RULES;delete e.keywords[i],delete e.all[i],delete e.custom[i];for(var t=0;t<e.length;t++)for(var n=e[t].rules,r=0;r<n.length;r++)if(n[r].keyword==i){n.splice(r,1);break}return this}function Bh(i,e){Bh.errors=null;var t=this._validateKeyword=this._validateKeyword||this.compile(WC,!0);if(t(i))return!0;if(Bh.errors=t.errors,e)throw new Error("custom keyword definition is invalid: "+this.errorsText(t.errors));return!1}const ZC="http://json-schema.org/draft-07/schema#",eT="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",tT="Meta-schema for $data reference (JSON Schema extension proposal)",rT="object",nT=["$data"],iT={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},aT=!1,sT={$schema:ZC,$id:eT,description:tT,type:rT,required:nT,properties:iT,additionalProperties:aT};var q1=Xk,ms=sd,lT=eC,j1=m1,oT=E1,uT=lC,fT=OC,x1=LC,z1=bl,cT=Hr;Hr.prototype.validate=dT;Hr.prototype.compile=pT;Hr.prototype.addSchema=_T;Hr.prototype.addMetaSchema=vT;Hr.prototype.validateSchema=gT;Hr.prototype.getSchema=bT;Hr.prototype.removeSchema=yT;Hr.prototype.addFormat=ST;Hr.prototype.errorsText=NT;Hr.prototype._addSchema=ET;Hr.prototype._compile=DT;Hr.prototype.compileAsync=UC;var Pf=QC;Hr.prototype.addKeyword=Pf.add;Hr.prototype.getKeyword=Pf.get;Hr.prototype.removeKeyword=Pf.remove;Hr.prototype.validateKeyword=Pf.validate;var V1=ld;Hr.ValidationError=V1.Validation;Hr.MissingRefError=V1.MissingRef;Hr.$dataMetaSchema=x1;var pf="http://json-schema.org/draft-07/schema",Q_=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],hT=["/properties"];function Hr(i){if(!(this instanceof Hr))return new Hr(i);i=this._opts=z1.copy(i)||{},LT(this),this._schemas={},this._refs={},this._fragments={},this._formats=uT(i.format),this._cache=i.cache||new lT,this._loadingSchemas={},this._compilations=[],this.RULES=fT(),this._getId=AT(i),i.loopRequired=i.loopRequired||1/0,i.errorDataPath=="property"&&(i._errorDataPathProperty=!0),i.serialize===void 0&&(i.serialize=oT),this._metaOpts=OT(this),i.formats&&PT(this),i.keywords&&FT(this),IT(this),typeof i.meta=="object"&&this.addMetaSchema(i.meta),i.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),RT(this)}function dT(i,e){var t;if(typeof i=="string"){if(t=this.getSchema(i),!t)throw new Error('no schema with key or ref "'+i+'"')}else{var n=this._addSchema(i);t=n.validate||this._compile(n)}var r=t(e);return t.$async!==!0&&(this.errors=t.errors),r}function pT(i,e){var t=this._addSchema(i,void 0,e);return t.validate||this._compile(t)}function _T(i,e,t,n){if(Array.isArray(i)){for(var r=0;r<i.length;r++)this.addSchema(i[r],void 0,t,n);return this}var s=this._getId(i);if(s!==void 0&&typeof s!="string")throw new Error("schema id must be string");return e=ms.normalizeId(e||s),$1(this,e),this._schemas[e]=this._addSchema(i,t,n,!0),this}function vT(i,e,t){return this.addSchema(i,e,t,!0),this}function gT(i,e){var t=i.$schema;if(t!==void 0&&typeof t!="string")throw new Error("$schema must be a string");if(t=t||this._opts.defaultMeta||mT(this),!t)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(t,i);if(!n&&e){var r="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(r);else throw new Error(r)}return n}function mT(i){var e=i._opts.meta;return i._opts.defaultMeta=typeof e=="object"?i._getId(e)||e:i.getSchema(pf)?pf:void 0,i._opts.defaultMeta}function bT(i){var e=H1(this,i);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return wT(this,i)}}function wT(i,e){var t=ms.schema.call(i,{schema:{}},e);if(t){var n=t.schema,r=t.root,s=t.baseId,a=q1.call(i,n,r,void 0,s);return i._fragments[e]=new j1({ref:e,fragment:!0,schema:n,root:r,baseId:s,validate:a}),a}}function H1(i,e){return e=ms.normalizeId(e),i._schemas[e]||i._refs[e]||i._fragments[e]}function yT(i){if(i instanceof RegExp)return Hu(this,this._schemas,i),Hu(this,this._refs,i),this;switch(typeof i){case"undefined":return Hu(this,this._schemas),Hu(this,this._refs),this._cache.clear(),this;case"string":var e=H1(this,i);return e&&this._cache.del(e.cacheKey),delete this._schemas[i],delete this._refs[i],this;case"object":var t=this._opts.serialize,n=t?t(i):i;this._cache.del(n);var r=this._getId(i);r&&(r=ms.normalizeId(r),delete this._schemas[r],delete this._refs[r])}return this}function Hu(i,e,t){for(var n in e){var r=e[n];!r.meta&&(!t||t.test(n))&&(i._cache.del(r.cacheKey),delete e[n])}}function ET(i,e,t,n){if(typeof i!="object"&&typeof i!="boolean")throw new Error("schema should be object or boolean");var r=this._opts.serialize,s=r?r(i):i,a=this._cache.get(s);if(a)return a;n=n||this._opts.addUsedSchema!==!1;var l=ms.normalizeId(this._getId(i));l&&n&&$1(this,l);var u=this._opts.validateSchema!==!1&&!e,f;u&&!(f=l&&l==ms.normalizeId(i.$schema))&&this.validateSchema(i,!0);var h=ms.ids.call(this,i),v=new j1({id:l,schema:i,localRefs:h,cacheKey:s,meta:t});return l[0]!="#"&&n&&(this._refs[l]=v),this._cache.put(s,v),u&&f&&this.validateSchema(i,!0),v}function DT(i,e){if(i.compiling)return i.validate=r,r.schema=i.schema,r.errors=null,r.root=e||r,i.schema.$async===!0&&(r.$async=!0),r;i.compiling=!0;var t;i.meta&&(t=this._opts,this._opts=this._metaOpts);var n;try{n=q1.call(this,i.schema,e,i.localRefs)}catch(s){throw delete i.validate,s}finally{i.compiling=!1,i.meta&&(this._opts=t)}return i.validate=n,i.refs=n.refs,i.refVal=n.refVal,i.root=n.root,n;function r(){var s=i.validate,a=s.apply(this,arguments);return r.errors=s.errors,a}}function AT(i){switch(i.schemaId){case"auto":return TT;case"id":return kT;default:return CT}}function kT(i){return i.$id&&this.logger.warn("schema $id ignored",i.$id),i.id}function CT(i){return i.id&&this.logger.warn("schema id ignored",i.id),i.$id}function TT(i){if(i.$id&&i.id&&i.$id!=i.id)throw new Error("schema $id is different from id");return i.$id||i.id}function NT(i,e){if(i=i||this.errors,!i)return"No errors";e=e||{};for(var t=e.separator===void 0?", ":e.separator,n=e.dataVar===void 0?"data":e.dataVar,r="",s=0;s<i.length;s++){var a=i[s];a&&(r+=n+a.dataPath+" "+a.message+t)}return r.slice(0,-t.length)}function ST(i,e){return typeof e=="string"&&(e=new RegExp(e)),this._formats[i]=e,this}function IT(i){var e;if(i._opts.$data&&(e=sT,i.addMetaSchema(e,e.$id,!0)),i._opts.meta!==!1){var t=M1;i._opts.$data&&(t=x1(t,hT)),i.addMetaSchema(t,pf,!0),i._refs["http://json-schema.org/schema"]=pf}}function RT(i){var e=i._opts.schemas;if(e)if(Array.isArray(e))i.addSchema(e);else for(var t in e)i.addSchema(e[t],t)}function PT(i){for(var e in i._opts.formats){var t=i._opts.formats[e];i.addFormat(e,t)}}function FT(i){for(var e in i._opts.keywords){var t=i._opts.keywords[e];i.addKeyword(e,t)}}function $1(i,e){if(i._schemas[e]||i._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function OT(i){for(var e=z1.copy(i._opts),t=0;t<Q_.length;t++)delete e[Q_[t]];return e}function LT(i){var e=i._opts.logger;if(e===!1)i.logger={log:hh,warn:hh,error:hh};else{if(e===void 0&&(e=console),!(typeof e=="object"&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");i.logger=e}}function hh(){}const BT=Ts(cT),UT=i=>({}),Y_=i=>({id:"drawer-content"}),MT=i=>({}),K_=i=>({});function J_(i){let e,t;const n=i[3].drawer,r=Dr(n,i,i[2],Y_);return{c(){e=ae("aside"),r&&r.c(),this.h()},l(s){e=se(s,"ASIDE",{id:!0,class:!0});var a=Ue(e);r&&r.l(a),a.forEach(w),this.h()},h(){oe(e,"id","container-drawer"),oe(e,"class","svelte-1tl605t"),qn(e,"drawer-closed",!i[0])},m(s,a){I(s,e,a),r&&r.m(e,null),t=!0},p(s,a){r&&r.p&&(!t||a&4)&&Ar(r,n,s,s[2],t?Cr(n,s[2],a,UT):kr(s[2]),Y_),(!t||a&1)&&qn(e,"drawer-closed",!s[0])},i(s){t||(ce(r,s),t=!0)},o(s){me(r,s),t=!1},d(s){s&&w(e),r&&r.d(s)}}}function qT(i){let e,t,n,r,s,a,l,u,f,h,v;const p=i[3].flow,d=Dr(p,i,i[2],K_);l=new HA({props:{size:33,iconName:i[0]?"arrowRight":"arrowLeft",description:"Profile Controls",title:"Profile Controls",pathColor:"white"}});let _=i[0]&&J_(i);return{c(){e=ae("main"),t=ae("section"),n=ae("div"),d&&d.c(),r=_e(),s=ae("div"),a=ae("span"),Xe(l.$$.fragment),u=_e(),_&&_.c(),this.h()},l(g){e=se(g,"MAIN",{style:!0,class:!0});var b=Ue(e);t=se(b,"SECTION",{id:!0,class:!0});var D=Ue(t);n=se(D,"DIV",{id:!0,class:!0});var B=Ue(n);d&&d.l(B),B.forEach(w),r=ve(D),s=se(D,"DIV",{id:!0,role:!0,tabindex:!0,class:!0});var S=Ue(s);a=se(S,"SPAN",{id:!0});var O=Ue(a);We(l.$$.fragment,O),O.forEach(w),S.forEach(w),D.forEach(w),u=ve(b),_&&_.l(b),b.forEach(w),this.h()},h(){oe(n,"id","flow-slot"),oe(n,"class","svelte-1tl605t"),oe(a,"id","toggle-panel-btn"),oe(s,"id","drawer-btn"),oe(s,"role","button"),oe(s,"tabindex","0"),oe(s,"class","svelte-1tl605t"),oe(t,"id","container-flow"),oe(t,"class","svelte-1tl605t"),qn(t,"expand-matrix",i[0]),$t(e,"--drawer-width",xT),$t(e,"--ANIMATION_TIMING",jT),oe(e,"class","svelte-1tl605t")},m(g,b){I(g,e,b),G(e,t),G(t,n),d&&d.m(n,null),G(t,r),G(t,s),G(s,a),Qe(l,a,null),G(e,u),_&&_.m(e,null),f=!0,h||(v=[Re(s,"click",i[1]),Re(s,"keyup",i[4])],h=!0)},p(g,[b]){d&&d.p&&(!f||b&4)&&Ar(d,p,g,g[2],f?Cr(p,g[2],b,MT):kr(g[2]),K_);const D={};b&1&&(D.iconName=g[0]?"arrowRight":"arrowLeft"),l.$set(D),(!f||b&1)&&qn(t,"expand-matrix",g[0]),g[0]?_?(_.p(g,b),b&1&&ce(_,1)):(_=J_(g),_.c(),ce(_,1),_.m(e,null)):_&&(It(),me(_,1,1,()=>{_=null}),Rt())},i(g){f||(ce(d,g),ce(l.$$.fragment,g),ce(_),f=!0)},o(g){me(d,g),me(l.$$.fragment,g),me(_),f=!1},d(g){g&&w(e),d&&d.d(g),Ye(l),_&&_.d(),h=!1,Vt(v)}}}const jT=1e3,xT="270px";function zT(i,e,t){let{$$slots:n={},$$scope:r}=e,s=!1;function a(){t(0,s=!s)}const l=u=>Ds(u,a);return i.$$set=u=>{"$$scope"in u&&t(2,r=u.$$scope)},[s,a,r,n,l]}class VT extends Gt{constructor(e){super(),Xt(this,e,zT,qT,Et,{})}}function Jn(i){"@babel/helpers - typeof";return Jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jn(i)}function HT(i,e){if(Jn(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e||"default");if(Jn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function G1(i){var e=HT(i,"string");return Jn(e)=="symbol"?e:e+""}function Z_(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,G1(n.key),n)}}function Mr(i,e,t){return e&&Z_(i.prototype,e),t&&Z_(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function qr(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function $T(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function ba(i,e){if(e&&(Jn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $T(i)}function Kr(i){return Kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kr(i)}function Uh(i,e){return Uh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Uh(i,e)}function Tn(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&Uh(i,e)}function et(i,e,t){return(e=G1(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var Gi={Literal:1,Collection:3,Graph:4,NamedNode:5,BlankNode:6,Variable:7},Fr=function(){function i(e){qr(this,i),et(this,"termType",void 0),et(this,"classOrder",void 0),et(this,"value",void 0),this.value=e}return Mr(i,[{key:"substitute",value:function(t){return this}},{key:"compareTerm",value:function(t){return this.classOrder<t.classOrder?-1:this.classOrder>t.classOrder?1:this.value<t.value?-1:this.value>t.value?1:0}},{key:"equals",value:function(t){return t?this.termType===t.termType&&this.value===t.value:!1}},{key:"hashString",value:function(){return this.toCanonical()}},{key:"sameTerm",value:function(t){return this.equals(t)}},{key:"toCanonical",value:function(){return this.toNT()}},{key:"toNT",value:function(){return this.toString()}},{key:"toNQ",value:function(){return this.toNT()}},{key:"toString",value:function(){throw new Error("Node.toString() is abstract - see the subclasses instead")}}])}();et(Fr,"fromValue",void 0);et(Fr,"toJS",void 0);var Ns="NamedNode",Ss="BlankNode",wl="Literal",Wa="Variable",As="DefaultGraph",Qa="Collection",X1="Empty",No="Graph",e0="text/html",Mh="application/ld+json",W1="text/n3",GT="application/n3",qh="application/nquads",jh="application/n-quads",XT="application/n-triples",wo="application/rdf+xml",WT="application/sparql-update",QT="application/sparql-update-single-match",bs="text/turtle",YT="application/x-turtle",xh="application/xhtml+xml";function KT(i,e,t){return e=Kr(e),ba(i,Q1()?Reflect.construct(e,t||[],Kr(i).constructor):e.apply(i,t))}function Q1(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q1=function(){return!!i})()}var Xi=function(i){function e(t){var n;return qr(this,e),n=KT(this,e,[e.getId(t)]),et(n,"termType",Ss),et(n,"classOrder",Gi.BlankNode),et(n,"isBlank",1),et(n,"isVar",1),n}return Tn(e,i),Mr(e,[{key:"id",get:function(){return this.value},set:function(n){this.value=n}},{key:"compareTerm",value:function(n){return this.classOrder<n.classOrder?-1:this.classOrder>n.classOrder?1:this.id<n.id?-1:this.id>n.id?1:0}},{key:"copy",value:function(n){var r=new e;return n.copyTo(this,r),r}},{key:"toCanonical",value:function(){return e.NTAnonymousNodePrefix+this.value}},{key:"toString",value:function(){return e.NTAnonymousNodePrefix+this.id}}],[{key:"getId",value:function(n){if(n){if(typeof n!="string")throw new Error("Bad id argument to new blank node: "+n);if(n.includes("#")){var r=n.split("#");return r[r.length-1]}return n}return"n"+e.nextId++}}])}(Fr);et(Xi,"nextId",0);et(Xi,"NTAnonymousNodePrefix","_:");function ol(i){return typeof i=="string"?i:i.value}function JT(i){return Jn(i)==="object"&&i!==null&&"subject"in i}function t0(i){return Jn(i)==="object"&&i!==null&&"statements"in i}function ud(i){return da(i)&&i.termType===Qa}function ZT(i){return i&&Object.prototype.hasOwnProperty.call(i,"termType")&&(i.termType===Ns||i.termType===Wa||i.termType===Ss||i.termType===Qa||i.termType===wl||i.termType===No)}function eN(i){return i&&Object.prototype.hasOwnProperty.call(i,"termType")&&(i.termType===Ns||i.termType===Wa||i.termType===Ss||i.termType===Qa||i.termType===wl||i.termType===No)}function tN(i){return da(i)&&(i.termType===Ns||i.termType===Ss||i.termType===Wa)}function rN(i){return da(i)&&i.termType===Wa}function da(i){return Jn(i)==="object"&&i!==null&&"termType"in i}function Y1(i){return i.termType===wl}function ul(i){return Jn(i)==="object"&&i!==null&&"subject"in i&&"predicate"in i&&"object"in i}function r0(i){return da(i)&&i.termType==="NamedNode"}function nN(i){return da(i)&&(i.termType===Ns||i.termType===Wa||i.termType===Ss||i.termType===As)}function iN(i,e,t){return e=Kr(e),ba(i,K1()?Reflect.construct(e,t||[],Kr(i).constructor):e.apply(i,t))}function K1(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K1=function(){return!!i})()}var cn=function(i){function e(t){var n;if(qr(this,e),n=iN(this,e,[ol(t)]),et(n,"termType",Ns),et(n,"classOrder",Gi.NamedNode),!n.value)throw new Error("Missing IRI for NamedNode");if(!n.value.includes(":"))throw new Error('NamedNode IRI "'+t+'" must be absolute.');if(n.value.includes(" ")){var r='Error: NamedNode IRI "'+t+'" must not contain unencoded spaces.';throw new Error(r)}return n}return Tn(e,i),Mr(e,[{key:"dir",value:function(){var n=this.value.split("#")[0],r=n.slice(0,-1).lastIndexOf("/"),s=n.indexOf("//");return s>=0&&r<s+2||r<0?null:new e(n.slice(0,r+1))}},{key:"site",value:function(){var n=this.value.split("#")[0],r=n.indexOf("//");if(r<0)throw new Error("This URI does not have a web site part (origin)");var s=n.indexOf("/",r+2);return s<0?new e(n.slice(0)+"/"):new e(n.slice(0,s+1))}},{key:"doc",value:function(){return this.value.indexOf("#")<0?this:new e(this.value.split("#")[0])}},{key:"toString",value:function(){return"<"+this.value+">"}},{key:"id",value:function(){return this.value.split("#")[1]}},{key:"uri",get:function(){return this.value},set:function(n){this.value=n}}],[{key:"fromValue",value:function(n){return typeof n>"u"||n===null||da(n)?n:new e(n)}}])}(Fr);const oa={boolean:new cn("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:new cn("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:new cn("http://www.w3.org/2001/XMLSchema#decimal"),double:new cn("http://www.w3.org/2001/XMLSchema#double"),integer:new cn("http://www.w3.org/2001/XMLSchema#integer"),langString:new cn("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:new cn("http://www.w3.org/2001/XMLSchema#string")};function aN(i,e,t){return e=Kr(e),ba(i,J1()?Reflect.construct(e,t||[],Kr(i).constructor):e.apply(i,t))}function J1(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J1=function(){return!!i})()}var Hi=function(i){function e(t,n,r){var s;return qr(this,e),s=aN(this,e,[t]),et(s,"termType",wl),et(s,"classOrder",Gi.Literal),et(s,"datatype",oa.string),et(s,"isVar",0),et(s,"language",""),n?(s.language=n,s.datatype=oa.langString):r?s.datatype=cn.fromValue(r):s.datatype=oa.string,s}return Tn(e,i),Mr(e,[{key:"copy",value:function(){return new e(this.value,this.lang,this.datatype)}},{key:"equals",value:function(n){return n?this.termType===n.termType&&this.value===n.value&&this.language===n.language&&(!this.datatype&&!n.datatype||this.datatype&&this.datatype.equals(n.datatype)):!1}},{key:"lang",get:function(){return this.language},set:function(n){this.language=n||""}},{key:"toNT",value:function(){return e.toNT(this)}},{key:"toString",value:function(){return""+this.value}}],[{key:"toNT",value:function(n){if(typeof n.value=="number")return""+n.value;if(typeof n.value!="string")throw new Error("Value of RDF literal is not string or number: "+n.value);var r=n.value;return r=r.replace(/\\/g,"\\\\"),r=r.replace(/\"/g,'\\"'),r=r.replace(/\n/g,"\\n"),r=r.replace(/\r/g,"\\r"),r='"'+r+'"',n.language?r+="@"+n.language:n.datatype.equals(oa.string)||(r+="^^"+n.datatype.toCanonical()),r}},{key:"fromBoolean",value:function(n){var r=n?"1":"0";return new e(r,null,oa.boolean)}},{key:"fromDate",value:function(n){if(!(n instanceof Date))throw new TypeError("Invalid argument to Literal.fromDate()");var r=function(l){return(""+(100+l)).slice(1,3)},s=""+n.getUTCFullYear()+"-"+r(n.getUTCMonth()+1)+"-"+r(n.getUTCDate())+"T"+r(n.getUTCHours())+":"+r(n.getUTCMinutes())+":"+r(n.getUTCSeconds())+"Z";return new e(s,null,oa.dateTime)}},{key:"fromNumber",value:function(n){if(typeof n!="number")throw new TypeError("Invalid argument to Literal.fromNumber()");var r,s=n.toString();return s.indexOf("e")<0&&Math.abs(n)<=Number.MAX_SAFE_INTEGER?r=Number.isInteger(n)?oa.integer:oa.decimal:r=oa.double,new e(s,null,r)}},{key:"fromValue",value:function(n){if(Y1(n))return n;switch(Jn(n)){case"object":if(n instanceof Date)return e.fromDate(n);case"boolean":return e.fromBoolean(n);case"number":return e.fromNumber(n);case"string":return new e(n)}throw new Error("Can't make literal from "+n+" of type "+Jn(n))}}])}(Fr);function sN(i,e,t){return e=Kr(e),ba(i,Z1()?Reflect.construct(e,t||[],Kr(i).constructor):e.apply(i,t))}function Z1(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z1=function(){return!!i})()}function e2(i){return typeof i>"u"||i===null||da(i)?i:Array.isArray(i)?new $a(i):Hi.fromValue(i)}var $a=function(i){function e(t){var n;return qr(this,e),n=sN(this,e,[(Xi.nextId++).toString()]),et(n,"termType",Qa),et(n,"classOrder",Gi.Collection),et(n,"closed",!1),et(n,"compareTerm",Xi.prototype.compareTerm),et(n,"elements",[]),et(n,"isVar",0),t&&t.length>0&&t.forEach(function(r){n.elements.push(e2(r))}),n}return Tn(e,i),Mr(e,[{key:"id",get:function(){return this.value},set:function(n){this.value=n}},{key:"append",value:function(n){return this.elements.push(n)}},{key:"close",value:function(){return this.closed=!0,this.closed}},{key:"shift",value:function(){return this.elements.shift()}},{key:"substitute",value:function(n){var r=this.elements.map(function(s){return s.substitute(n)});return new e(r)}},{key:"toNT",value:function(){return e.toNT(this)}},{key:"toString",value:function(){return"("+this.elements.join(" ")+")"}},{key:"unshift",value:function(n){return this.elements.unshift(n)}}],[{key:"toNT",value:function(n){return Xi.NTAnonymousNodePrefix+n.id}}])}(Fr);et($a,"termType",Qa);function n0(i,e,t,n,r,s,a){try{var l=i[s](a),u=l.value}catch(f){return void t(f)}l.done?e(u):Promise.resolve(u).then(n,r)}function i0(i){return function(){var e=this,t=arguments;return new Promise(function(n,r){var s=i.apply(e,t);function a(u){n0(s,n,r,a,l,"next",u)}function l(u){n0(s,n,r,a,l,"throw",u)}a(void 0)})}}var t2={exports:{}},r2={exports:{}};(function(i){function e(t){"@babel/helpers - typeof";return i.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},i.exports.__esModule=!0,i.exports.default=i.exports,e(t)}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports})(r2);var lN=r2.exports;(function(i){var e=lN.default;function t(){i.exports=t=function(){return r},i.exports.__esModule=!0,i.exports.default=i.exports;var n,r={},s=Object.prototype,a=s.hasOwnProperty,l=Object.defineProperty||function(ee,$,Q){ee[$]=Q.value},u=typeof Symbol=="function"?Symbol:{},f=u.iterator||"@@iterator",h=u.asyncIterator||"@@asyncIterator",v=u.toStringTag||"@@toStringTag";function p(ee,$,Q){return Object.defineProperty(ee,$,{value:Q,enumerable:!0,configurable:!0,writable:!0}),ee[$]}try{p({},"")}catch{p=function(Q,pe,J){return Q[pe]=J}}function d(ee,$,Q,pe){var J=$&&$.prototype instanceof O?$:O,de=Object.create(J.prototype),it=new ue(pe||[]);return l(de,"_invoke",{value:A(ee,Q,it)}),de}function _(ee,$,Q){try{return{type:"normal",arg:ee.call($,Q)}}catch(pe){return{type:"throw",arg:pe}}}r.wrap=d;var g="suspendedStart",b="suspendedYield",D="executing",B="completed",S={};function O(){}function y(){}function N(){}var T={};p(T,f,function(){return this});var j=Object.getPrototypeOf,F=j&&j(j(re([])));F&&F!==s&&a.call(F,f)&&(T=F);var q=N.prototype=O.prototype=Object.create(T);function k(ee){["next","throw","return"].forEach(function($){p(ee,$,function(Q){return this._invoke($,Q)})})}function L(ee,$){function Q(J,de,it,nt){var Fe=_(ee[J],ee,de);if(Fe.type!=="throw"){var ze=Fe.arg,Ce=ze.value;return Ce&&e(Ce)=="object"&&a.call(Ce,"__await")?$.resolve(Ce.__await).then(function(Ee){Q("next",Ee,it,nt)},function(Ee){Q("throw",Ee,it,nt)}):$.resolve(Ce).then(function(Ee){ze.value=Ee,it(ze)},function(Ee){return Q("throw",Ee,it,nt)})}nt(Fe.arg)}var pe;l(this,"_invoke",{value:function(de,it){function nt(){return new $(function(Fe,ze){Q(de,it,Fe,ze)})}return pe=pe?pe.then(nt,nt):nt()}})}function A(ee,$,Q){var pe=g;return function(J,de){if(pe===D)throw Error("Generator is already running");if(pe===B){if(J==="throw")throw de;return{value:n,done:!0}}for(Q.method=J,Q.arg=de;;){var it=Q.delegate;if(it){var nt=R(it,Q);if(nt){if(nt===S)continue;return nt}}if(Q.method==="next")Q.sent=Q._sent=Q.arg;else if(Q.method==="throw"){if(pe===g)throw pe=B,Q.arg;Q.dispatchException(Q.arg)}else Q.method==="return"&&Q.abrupt("return",Q.arg);pe=D;var Fe=_(ee,$,Q);if(Fe.type==="normal"){if(pe=Q.done?B:b,Fe.arg===S)continue;return{value:Fe.arg,done:Q.done}}Fe.type==="throw"&&(pe=B,Q.method="throw",Q.arg=Fe.arg)}}}function R(ee,$){var Q=$.method,pe=ee.iterator[Q];if(pe===n)return $.delegate=null,Q==="throw"&&ee.iterator.return&&($.method="return",$.arg=n,R(ee,$),$.method==="throw")||Q!=="return"&&($.method="throw",$.arg=new TypeError("The iterator does not provide a '"+Q+"' method")),S;var J=_(pe,ee.iterator,$.arg);if(J.type==="throw")return $.method="throw",$.arg=J.arg,$.delegate=null,S;var de=J.arg;return de?de.done?($[ee.resultName]=de.value,$.next=ee.nextLoc,$.method!=="return"&&($.method="next",$.arg=n),$.delegate=null,S):de:($.method="throw",$.arg=new TypeError("iterator result is not an object"),$.delegate=null,S)}function Y(ee){var $={tryLoc:ee[0]};1 in ee&&($.catchLoc=ee[1]),2 in ee&&($.finallyLoc=ee[2],$.afterLoc=ee[3]),this.tryEntries.push($)}function z(ee){var $=ee.completion||{};$.type="normal",delete $.arg,ee.completion=$}function ue(ee){this.tryEntries=[{tryLoc:"root"}],ee.forEach(Y,this),this.reset(!0)}function re(ee){if(ee||ee===""){var $=ee[f];if($)return $.call(ee);if(typeof ee.next=="function")return ee;if(!isNaN(ee.length)){var Q=-1,pe=function J(){for(;++Q<ee.length;)if(a.call(ee,Q))return J.value=ee[Q],J.done=!1,J;return J.value=n,J.done=!0,J};return pe.next=pe}}throw new TypeError(e(ee)+" is not iterable")}return y.prototype=N,l(q,"constructor",{value:N,configurable:!0}),l(N,"constructor",{value:y,configurable:!0}),y.displayName=p(N,v,"GeneratorFunction"),r.isGeneratorFunction=function(ee){var $=typeof ee=="function"&&ee.constructor;return!!$&&($===y||($.displayName||$.name)==="GeneratorFunction")},r.mark=function(ee){return Object.setPrototypeOf?Object.setPrototypeOf(ee,N):(ee.__proto__=N,p(ee,v,"GeneratorFunction")),ee.prototype=Object.create(q),ee},r.awrap=function(ee){return{__await:ee}},k(L.prototype),p(L.prototype,h,function(){return this}),r.AsyncIterator=L,r.async=function(ee,$,Q,pe,J){J===void 0&&(J=Promise);var de=new L(d(ee,$,Q,pe),J);return r.isGeneratorFunction($)?de:de.next().then(function(it){return it.done?it.value:de.next()})},k(q),p(q,v,"Generator"),p(q,f,function(){return this}),p(q,"toString",function(){return"[object Generator]"}),r.keys=function(ee){var $=Object(ee),Q=[];for(var pe in $)Q.push(pe);return Q.reverse(),function J(){for(;Q.length;){var de=Q.pop();if(de in $)return J.value=de,J.done=!1,J}return J.done=!0,J}},r.values=re,ue.prototype={constructor:ue,reset:function($){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(z),!$)for(var Q in this)Q.charAt(0)==="t"&&a.call(this,Q)&&!isNaN(+Q.slice(1))&&(this[Q]=n)},stop:function(){this.done=!0;var $=this.tryEntries[0].completion;if($.type==="throw")throw $.arg;return this.rval},dispatchException:function($){if(this.done)throw $;var Q=this;function pe(ze,Ce){return it.type="throw",it.arg=$,Q.next=ze,Ce&&(Q.method="next",Q.arg=n),!!Ce}for(var J=this.tryEntries.length-1;J>=0;--J){var de=this.tryEntries[J],it=de.completion;if(de.tryLoc==="root")return pe("end");if(de.tryLoc<=this.prev){var nt=a.call(de,"catchLoc"),Fe=a.call(de,"finallyLoc");if(nt&&Fe){if(this.prev<de.catchLoc)return pe(de.catchLoc,!0);if(this.prev<de.finallyLoc)return pe(de.finallyLoc)}else if(nt){if(this.prev<de.catchLoc)return pe(de.catchLoc,!0)}else{if(!Fe)throw Error("try statement without catch or finally");if(this.prev<de.finallyLoc)return pe(de.finallyLoc)}}}},abrupt:function($,Q){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var J=this.tryEntries[pe];if(J.tryLoc<=this.prev&&a.call(J,"finallyLoc")&&this.prev<J.finallyLoc){var de=J;break}}de&&($==="break"||$==="continue")&&de.tryLoc<=Q&&Q<=de.finallyLoc&&(de=null);var it=de?de.completion:{};return it.type=$,it.arg=Q,de?(this.method="next",this.next=de.finallyLoc,S):this.complete(it)},complete:function($,Q){if($.type==="throw")throw $.arg;return $.type==="break"||$.type==="continue"?this.next=$.arg:$.type==="return"?(this.rval=this.arg=$.arg,this.method="return",this.next="end"):$.type==="normal"&&Q&&(this.next=Q),S},finish:function($){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var pe=this.tryEntries[Q];if(pe.finallyLoc===$)return this.complete(pe.completion,pe.afterLoc),z(pe),S}},catch:function($){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var pe=this.tryEntries[Q];if(pe.tryLoc===$){var J=pe.completion;if(J.type==="throw"){var de=J.arg;z(pe)}return de}}throw Error("illegal catch attempt")},delegateYield:function($,Q,pe){return this.delegate={iterator:re($),resultName:Q,nextLoc:pe},this.method==="next"&&(this.arg=n),S}},r}i.exports=t,i.exports.__esModule=!0,i.exports.default=i.exports})(t2);var oN=t2.exports,tf=oN(),uN=tf;try{regeneratorRuntime=tf}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=tf:Function("r","regeneratorRuntime = r")(tf)}const $u=Ts(uN);var yo="chrome:theSession";new cn(yo);function fN(i,e,t){return e=Kr(e),ba(i,n2()?Reflect.construct(e,t||[],Kr(i).constructor):e.apply(i,t))}function n2(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n2=function(){return!!i})()}var fd=function(i){function e(){var t;return qr(this,e),t=fN(this,e,[""]),et(t,"value",""),et(t,"termType",As),et(t,"uri",yo),t}return Tn(e,i),Mr(e,[{key:"toCanonical",value:function(){return this.value}},{key:"toString",value:function(){return"DefaultGraph"}}])}(Fr);function a0(i){return!!i&&i.termType===As}var cN=new fd,ws=function(){function i(e,t,n,r){qr(this,i),et(this,"subject",void 0),et(this,"predicate",void 0),et(this,"object",void 0),et(this,"graph",void 0),this.subject=Fr.fromValue(e),this.predicate=Fr.fromValue(t),this.object=Fr.fromValue(n),this.graph=r==null?cN:Fr.fromValue(r)}return Mr(i,[{key:"why",get:function(){return this.graph},set:function(t){this.graph=t}},{key:"equals",value:function(t){return t.subject.equals(this.subject)&&t.predicate.equals(this.predicate)&&t.object.equals(this.object)&&t.graph.equals(this.graph)}},{key:"substitute",value:function(t){var n=new i(this.subject.substitute(t),this.predicate.substitute(t),this.object.substitute(t),a0(this.graph)?this.graph:this.graph.substitute(t));return n}},{key:"toCanonical",value:function(){var t=[this.subject.toCanonical(),this.predicate.toCanonical(),this.object.toCanonical()];return this.graph&&this.graph.termType!==As&&t.push(this.graph.toCanonical()),t.join(" ")+" ."}},{key:"toNT",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT()].join(" ")+" ."}},{key:"toNQ",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT(),a0(this.graph)?"":this.graph.toNT()].join(" ")+" ."}},{key:"toString",value:function(){return this.toNT()}}])}(),i2=i2||console.log;function cl(i){var e;return e=i.indexOf("#"),e<0?i:i.slice(0,e)}function hN(i){var e=/[^\/]*\/\/([^\/]*)\//.exec(i);return e?e[1]:""}function gi(i,e){var t,n,r,s,a,l,u=e.indexOf("#");if(u>0&&(e=e.slice(0,u)),i.length===0)return e;if(i.indexOf("#")===0)return e+i;if(s=i.indexOf(":"),s>=0||(t=e.indexOf(":"),e.length===0))return i;if(t<0)return i2("Invalid base: "+e+" in join with given: "+i),i;if(n=e.slice(0,+t+1||9e9),i.indexOf("//")===0)return n+i;if(e.indexOf("//",t)===t+1){if(r=e.indexOf("/",t+3),r<0)return e.length-t-3>0?e+"/"+i:n+i}else if(r=e.indexOf("/",t+1),r<0)return e.length-t-1>0?e+"/"+i:n+i;if(i.indexOf("/")===0)return e.slice(0,r)+i;if(l=e.slice(r),a=l.lastIndexOf("/"),a<0)return n+i;for(a>=0&&a<l.length-1&&(l=l.slice(0,+a+1||9e9)),l+=i;l.match(/[^\/]*\/\.\.\//);)l=l.replace(/[^\/]*\/\.\.\//,"");return l=l.replace(/\.\//g,""),l=l.replace(/\/\.$/,"/"),e.slice(0,r)+l}function s0(i){var e=i.indexOf(":");return e<0?null:i.slice(0,e)}function dh(i,e){var t,n,r,s,a,l,u,f,h,v,p,d,_,g=new RegExp("^[-_a-zA-Z0-9.]+:(//[^/]*)?/[^/]*$");if(!i)return e;if(i===e)return"";for(n=f=0,a=e.length;f<a;n=++f){var b=e[n];if(b!==i[n])break}if(i.slice(0,n).match(g)&&(r=e.indexOf("//"),r<0&&(r=-2),s=e.indexOf("/",r+2),e[s+1]!=="/"&&i[s+1]!=="/"&&e.slice(0,s)===i.slice(0,s)))return e.slice(s);if(e[n]==="#"&&i.length===n)return e.slice(n);for(;n>0&&e[n-1]!=="/";)n--;if(n<3||i.indexOf("//",n-2)>0||e.indexOf("//",n-2)>0||i.indexOf(":",n)>0)return e;for(u=0,p=i.slice(n),h=0,l=p.length;h<l;h++)t=p[h],t==="/"&&u++;if(u===0&&n<e.length&&e[n]==="#")return"./"+e.slice(n);if(u===0&&n===e.length)return"./";if(_="",u>0)for(v=1,d=u;d>=1?v<=d:v>=d;d>=1?++v:--v)_+="../";return _+e.slice(n)}function dN(i,e,t){return e=Kr(e),ba(i,a2()?Reflect.construct(e,t||[],Kr(i).constructor):e.apply(i,t))}function a2(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a2=function(){return!!i})()}var ks=function(i){function e(){var t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return qr(this,e),t=dN(this,e,[n]),et(t,"termType",Wa),et(t,"base","varid:"),et(t,"classOrder",Gi.Variable),et(t,"isVar",1),et(t,"uri",void 0),t.base="varid:",t.uri=gi(n,t.base),t}return Tn(e,i),Mr(e,[{key:"equals",value:function(n){return n?this.termType===n.termType&&this.value===n.value:!1}},{key:"hashString",value:function(){return this.toString()}},{key:"substitute",value:function(n){var r;return(r=n[this.toNT()])!=null?r:this}},{key:"toString",value:function(){return e.toString(this)}}],[{key:"toString",value:function(n){return n.uri.slice(0,n.base.length)===n.base?"?".concat(n.uri.slice(n.base.length)):"?".concat(n.uri)}}])}(Fr),Un=function(i){return i.collections="COLLECTIONS",i.defaultGraphType="DEFAULT_GRAPH_TYPE",i.equalsMethod="EQUALS_METHOD",i.id="ID",i.identity="IDENTITY",i.reversibleId="REVERSIBLE_ID",i.variableType="VARIABLE_TYPE",i}({}),l0=new fd,Ti={supports:et(et(et(et(et(et(et({},Un.collections,!1),Un.defaultGraphType,!1),Un.equalsMethod,!0),Un.identity,!1),Un.id,!0),Un.reversibleId,!1),Un.variableType,!0),blankNode:function(e){return new Xi(e)},defaultGraph:function(){return l0},equals:function(e,t){return e===t||!e||!t?!0:ul(e)||ul(t)?ul(e)&&ul(t)?this.equals(e.subject,t.subject)&&this.equals(e.predicate,t.predicate)&&this.equals(e.object,t.object)&&this.equals(e.graph,t.graph):!1:da(e)&&da(t)?this.id(e)===this.id(t):!1},id:function(e){if(!e)return"undefined";if(ul(e))return this.quadToNQ(e);switch(e.termType){case As:return"defaultGraph";case Wa:return ks.toString(e);default:var t=this.termToNQ(e);if(t)return t;throw new Error("Can't id term with type '".concat(e.termType,"'"))}},isQuad:function(e){return e instanceof ws},literal:function(e,t){if(typeof e!="string"&&!t)return Hi.fromValue(e);var n=typeof e=="string"?e:""+e;return typeof t=="string"?t.indexOf(":")===-1?new Hi(n,t):new Hi(n,null,this.namedNode(t)):new Hi(n,null,t)},namedNode:function(e){return new cn(e)},quad:function(e,t,n,r){return new ws(e,t,n,r||l0)},triple:function(e,t,n,r){return this.quad(e,t,n,r)},quadToNQ:function(e){return"".concat(this.termToNQ(e.subject)," ").concat(this.termToNQ(e.predicate)," ").concat(this.termToNQ(e.object)," ").concat(this.termToNQ(e.graph)," .")},termToNQ:function(e){var t=this;switch(e.termType){case Ss:return"_:"+e.value;case As:return"";case X1:return"<http://www.w3.org/1999/02/22-rdf-syntax-ns#nil>";case wl:return Hi.toNT(e);case No:case Ns:return"<"+e.value+">";case Qa:return"("+e.elements.map(function(n){return t.termToNQ(n)}).join(" ")+")";default:throw new Error("Can't serialize nonstandard term type (was '".concat(e.termType,"')"))}},toNQ:function(e){return this.isQuad(e)?this.quadToNQ(e):this.termToNQ(e)},variable:function(e){return new ks(e)}},Vi={debug:function(e){},warn:function(e){},info:function(e){},error:function(e){},success:function(e){},msg:function(e){}};function Cn(i,e){var t=e||{namedNode:function(r){return new cn(r)}};return function(n){return t.namedNode(i+(n||""))}}var Ya={},wa={};function pN(i,e,t){if(t===void 0&&(t=Array.prototype),i&&typeof t.find=="function")return t.find.call(i,e);for(var n=0;n<i.length;n++)if(Object.prototype.hasOwnProperty.call(i,n)){var r=i[n];if(e.call(void 0,r,n,i))return r}}function cd(i,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(i):i}function _N(i,e){if(i===null||typeof i!="object")throw new TypeError("target is not an object");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t]);return i}var s2=cd({HTML:"text/html",isHTML:function(i){return i===s2.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),l2=cd({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(i){return i===l2.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});wa.assign=_N;wa.find=pN;wa.freeze=cd;wa.MIME_TYPE=s2;wa.NAMESPACE=l2;var o2=wa,Wi=o2.find,Eo=o2.NAMESPACE;function vN(i){return i!==""}function gN(i){return i?i.split(/[\t\n\f\r ]+/).filter(vN):[]}function mN(i,e){return i.hasOwnProperty(e)||(i[e]=!0),i}function o0(i){if(!i)return[];var e=gN(i);return Object.keys(e.reduce(mN,{}))}function bN(i){return function(e){return i&&i.indexOf(e)!==-1}}function So(i,e){for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}function xn(i,e){var t=i.prototype;if(!(t instanceof e)){let n=function(){};n.prototype=e.prototype,n=new n,So(t,n),i.prototype=t=n}t.constructor!=i&&(typeof i!="function"&&console.error("unknown Class:"+i),t.constructor=i)}var zn={},Ni=zn.ELEMENT_NODE=1,pl=zn.ATTRIBUTE_NODE=2,_f=zn.TEXT_NODE=3,u2=zn.CDATA_SECTION_NODE=4,f2=zn.ENTITY_REFERENCE_NODE=5,wN=zn.ENTITY_NODE=6,c2=zn.PROCESSING_INSTRUCTION_NODE=7,h2=zn.COMMENT_NODE=8,d2=zn.DOCUMENT_NODE=9,p2=zn.DOCUMENT_TYPE_NODE=10,pa=zn.DOCUMENT_FRAGMENT_NODE=11,yN=zn.NOTATION_NODE=12,mn={},an={};mn.INDEX_SIZE_ERR=(an[1]="Index size error",1);mn.DOMSTRING_SIZE_ERR=(an[2]="DOMString size error",2);var Mn=mn.HIERARCHY_REQUEST_ERR=(an[3]="Hierarchy request error",3);mn.WRONG_DOCUMENT_ERR=(an[4]="Wrong document",4);mn.INVALID_CHARACTER_ERR=(an[5]="Invalid character",5);mn.NO_DATA_ALLOWED_ERR=(an[6]="No data allowed",6);mn.NO_MODIFICATION_ALLOWED_ERR=(an[7]="No modification allowed",7);var _2=mn.NOT_FOUND_ERR=(an[8]="Not found",8);mn.NOT_SUPPORTED_ERR=(an[9]="Not supported",9);var u0=mn.INUSE_ATTRIBUTE_ERR=(an[10]="Attribute in use",10);mn.INVALID_STATE_ERR=(an[11]="Invalid state",11);mn.SYNTAX_ERR=(an[12]="Syntax error",12);mn.INVALID_MODIFICATION_ERR=(an[13]="Invalid modification",13);mn.NAMESPACE_ERR=(an[14]="Invalid namespace",14);mn.INVALID_ACCESS_ERR=(an[15]="Invalid access",15);function Qr(i,e){if(e instanceof Error)var t=e;else t=this,Error.call(this,an[i]),this.message=an[i],Error.captureStackTrace&&Error.captureStackTrace(this,Qr);return t.code=i,e&&(this.message=this.message+": "+e),t}Qr.prototype=Error.prototype;So(mn,Qr);function fa(){}fa.prototype={length:0,item:function(i){return i>=0&&i<this.length?this[i]:null},toString:function(i,e){for(var t=[],n=0;n<this.length;n++)hl(this[n],t,i,e);return t.join("")},filter:function(i){return Array.prototype.filter.call(this,i)},indexOf:function(i){return Array.prototype.indexOf.call(this,i)}};function _l(i,e){this._node=i,this._refresh=e,hd(this)}function hd(i){var e=i._node._inc||i._node.ownerDocument._inc;if(i._inc!==e){var t=i._refresh(i._node);if(T2(i,"length",t.length),!i.$$length||t.length<i.$$length)for(var n=t.length;n in i;n++)Object.prototype.hasOwnProperty.call(i,n)&&delete i[n];So(t,i),i._inc=e}}_l.prototype.item=function(i){return hd(this),this[i]||null};xn(_l,fa);function vf(){}function v2(i,e){for(var t=i.length;t--;)if(i[t]===e)return t}function f0(i,e,t,n){if(n?e[v2(e,n)]=t:e[e.length++]=t,i){t.ownerElement=i;var r=i.ownerDocument;r&&(n&&b2(r,i,n),EN(r,i,t))}}function c0(i,e,t){var n=v2(e,t);if(n>=0){for(var r=e.length-1;n<r;)e[n]=e[++n];if(e.length=r,i){var s=i.ownerDocument;s&&(b2(s,i,t),t.ownerElement=null)}}else throw new Qr(_2,new Error(i.tagName+"@"+t))}vf.prototype={length:0,item:fa.prototype.item,getNamedItem:function(i){for(var e=this.length;e--;){var t=this[e];if(t.nodeName==i)return t}},setNamedItem:function(i){var e=i.ownerElement;if(e&&e!=this._ownerElement)throw new Qr(u0);var t=this.getNamedItem(i.nodeName);return f0(this._ownerElement,this,i,t),t},setNamedItemNS:function(i){var e=i.ownerElement,t;if(e&&e!=this._ownerElement)throw new Qr(u0);return t=this.getNamedItemNS(i.namespaceURI,i.localName),f0(this._ownerElement,this,i,t),t},removeNamedItem:function(i){var e=this.getNamedItem(i);return c0(this._ownerElement,this,e),e},removeNamedItemNS:function(i,e){var t=this.getNamedItemNS(i,e);return c0(this._ownerElement,this,t),t},getNamedItemNS:function(i,e){for(var t=this.length;t--;){var n=this[t];if(n.localName==e&&n.namespaceURI==i)return n}return null}};function g2(){}g2.prototype={hasFeature:function(i,e){return!0},createDocument:function(i,e,t){var n=new Io;if(n.implementation=this,n.childNodes=new fa,n.doctype=t||null,t&&n.appendChild(t),e){var r=n.createElementNS(i,e);n.appendChild(r)}return n},createDocumentType:function(i,e,t){var n=new Ff;return n.name=i,n.nodeName=i,n.publicId=e||"",n.systemId=t||"",n}};function wr(){}wr.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(i,e){return gf(this,i,e)},replaceChild:function(i,e){gf(this,i,e,y2),e&&this.removeChild(e)},removeChild:function(i){return w2(this,i)},appendChild:function(i){return this.insertBefore(i,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(i){return zh(this.ownerDocument||this,this,i)},normalize:function(){for(var i=this.firstChild;i;){var e=i.nextSibling;e&&e.nodeType==_f&&i.nodeType==_f?(this.removeChild(e),i.appendData(e.data)):(i.normalize(),i=e)}},isSupported:function(i,e){return this.ownerDocument.implementation.hasFeature(i,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(i){for(var e=this;e;){var t=e._nsMap;if(t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&t[n]===i)return n}e=e.nodeType==pl?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(i){for(var e=this;e;){var t=e._nsMap;if(t&&Object.prototype.hasOwnProperty.call(t,i))return t[i];e=e.nodeType==pl?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(i){var e=this.lookupPrefix(i);return e==null}};function m2(i){return i=="<"&&"&lt;"||i==">"&&"&gt;"||i=="&"&&"&amp;"||i=='"'&&"&quot;"||"&#"+i.charCodeAt()+";"}So(zn,wr);So(zn,wr.prototype);function Do(i,e){if(e(i))return!0;if(i=i.firstChild)do if(Do(i,e))return!0;while(i=i.nextSibling)}function Io(){this.ownerDocument=this}function EN(i,e,t){i&&i._inc++;var n=t.namespaceURI;n===Eo.XMLNS&&(e._nsMap[t.prefix?t.localName:""]=t.value)}function b2(i,e,t,n){i&&i._inc++;var r=t.namespaceURI;r===Eo.XMLNS&&delete e._nsMap[t.prefix?t.localName:""]}function dd(i,e,t){if(i&&i._inc){i._inc++;var n=e.childNodes;if(t)n[n.length++]=t;else{for(var r=e.firstChild,s=0;r;)n[s++]=r,r=r.nextSibling;n.length=s,delete n[n.length]}}}function w2(i,e){var t=e.previousSibling,n=e.nextSibling;return t?t.nextSibling=n:i.firstChild=n,n?n.previousSibling=t:i.lastChild=t,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,dd(i.ownerDocument,i),e}function DN(i){return i&&(i.nodeType===wr.DOCUMENT_NODE||i.nodeType===wr.DOCUMENT_FRAGMENT_NODE||i.nodeType===wr.ELEMENT_NODE)}function AN(i){return i&&(Qi(i)||pd(i)||_a(i)||i.nodeType===wr.DOCUMENT_FRAGMENT_NODE||i.nodeType===wr.COMMENT_NODE||i.nodeType===wr.PROCESSING_INSTRUCTION_NODE)}function _a(i){return i&&i.nodeType===wr.DOCUMENT_TYPE_NODE}function Qi(i){return i&&i.nodeType===wr.ELEMENT_NODE}function pd(i){return i&&i.nodeType===wr.TEXT_NODE}function h0(i,e){var t=i.childNodes||[];if(Wi(t,Qi)||_a(e))return!1;var n=Wi(t,_a);return!(e&&n&&t.indexOf(n)>t.indexOf(e))}function d0(i,e){var t=i.childNodes||[];function n(s){return Qi(s)&&s!==e}if(Wi(t,n))return!1;var r=Wi(t,_a);return!(e&&r&&t.indexOf(r)>t.indexOf(e))}function kN(i,e,t){if(!DN(i))throw new Qr(Mn,"Unexpected parent node type "+i.nodeType);if(t&&t.parentNode!==i)throw new Qr(_2,"child not in parent");if(!AN(e)||_a(e)&&i.nodeType!==wr.DOCUMENT_NODE)throw new Qr(Mn,"Unexpected node type "+e.nodeType+" for parent node type "+i.nodeType)}function CN(i,e,t){var n=i.childNodes||[],r=e.childNodes||[];if(e.nodeType===wr.DOCUMENT_FRAGMENT_NODE){var s=r.filter(Qi);if(s.length>1||Wi(r,pd))throw new Qr(Mn,"More than one element or text in fragment");if(s.length===1&&!h0(i,t))throw new Qr(Mn,"Element in fragment can not be inserted before doctype")}if(Qi(e)&&!h0(i,t))throw new Qr(Mn,"Only one element can be added and only after doctype");if(_a(e)){if(Wi(n,_a))throw new Qr(Mn,"Only one doctype is allowed");var a=Wi(n,Qi);if(t&&n.indexOf(a)<n.indexOf(t))throw new Qr(Mn,"Doctype can only be inserted before an element");if(!t&&a)throw new Qr(Mn,"Doctype can not be appended since element is present")}}function y2(i,e,t){var n=i.childNodes||[],r=e.childNodes||[];if(e.nodeType===wr.DOCUMENT_FRAGMENT_NODE){var s=r.filter(Qi);if(s.length>1||Wi(r,pd))throw new Qr(Mn,"More than one element or text in fragment");if(s.length===1&&!d0(i,t))throw new Qr(Mn,"Element in fragment can not be inserted before doctype")}if(Qi(e)&&!d0(i,t))throw new Qr(Mn,"Only one element can be added and only after doctype");if(_a(e)){if(Wi(n,function(u){return _a(u)&&u!==t}))throw new Qr(Mn,"Only one doctype is allowed");var a=Wi(n,Qi);if(t&&n.indexOf(a)<n.indexOf(t))throw new Qr(Mn,"Doctype can only be inserted before an element")}}function gf(i,e,t,n){kN(i,e,t),i.nodeType===wr.DOCUMENT_NODE&&(n||CN)(i,e,t);var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===pa){var s=e.firstChild;if(s==null)return e;var a=e.lastChild}else s=a=e;var l=t?t.previousSibling:i.lastChild;s.previousSibling=l,a.nextSibling=t,l?l.nextSibling=s:i.firstChild=s,t==null?i.lastChild=a:t.previousSibling=a;do s.parentNode=i;while(s!==a&&(s=s.nextSibling));return dd(i.ownerDocument||i,i),e.nodeType==pa&&(e.firstChild=e.lastChild=null),e}function TN(i,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=i,e.previousSibling=i.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:i.firstChild=e,i.lastChild=e,dd(i.ownerDocument,i,e),e}Io.prototype={nodeName:"#document",nodeType:d2,doctype:null,documentElement:null,_inc:1,insertBefore:function(i,e){if(i.nodeType==pa){for(var t=i.firstChild;t;){var n=t.nextSibling;this.insertBefore(t,e),t=n}return i}return gf(this,i,e),i.ownerDocument=this,this.documentElement===null&&i.nodeType===Ni&&(this.documentElement=i),i},removeChild:function(i){return this.documentElement==i&&(this.documentElement=null),w2(this,i)},replaceChild:function(i,e){gf(this,i,e,y2),i.ownerDocument=this,e&&this.removeChild(e),Qi(i)&&(this.documentElement=i)},importNode:function(i,e){return C2(this,i,e)},getElementById:function(i){var e=null;return Do(this.documentElement,function(t){if(t.nodeType==Ni&&t.getAttribute("id")==i)return e=t,!0}),e},getElementsByClassName:function(i){var e=o0(i);return new _l(this,function(t){var n=[];return e.length>0&&Do(t.documentElement,function(r){if(r!==t&&r.nodeType===Ni){var s=r.getAttribute("class");if(s){var a=i===s;if(!a){var l=o0(s);a=e.every(bN(l))}a&&n.push(r)}}}),n})},createElement:function(i){var e=new Cs;e.ownerDocument=this,e.nodeName=i,e.tagName=i,e.localName=i,e.childNodes=new fa;var t=e.attributes=new vf;return t._ownerElement=e,e},createDocumentFragment:function(){var i=new Of;return i.ownerDocument=this,i.childNodes=new fa,i},createTextNode:function(i){var e=new _d;return e.ownerDocument=this,e.appendData(i),e},createComment:function(i){var e=new vd;return e.ownerDocument=this,e.appendData(i),e},createCDATASection:function(i){var e=new gd;return e.ownerDocument=this,e.appendData(i),e},createProcessingInstruction:function(i,e){var t=new bd;return t.ownerDocument=this,t.tagName=t.nodeName=t.target=i,t.nodeValue=t.data=e,t},createAttribute:function(i){var e=new mf;return e.ownerDocument=this,e.name=i,e.nodeName=i,e.localName=i,e.specified=!0,e},createEntityReference:function(i){var e=new md;return e.ownerDocument=this,e.nodeName=i,e},createElementNS:function(i,e){var t=new Cs,n=e.split(":"),r=t.attributes=new vf;return t.childNodes=new fa,t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.namespaceURI=i,n.length==2?(t.prefix=n[0],t.localName=n[1]):t.localName=e,r._ownerElement=t,t},createAttributeNS:function(i,e){var t=new mf,n=e.split(":");return t.ownerDocument=this,t.nodeName=e,t.name=e,t.namespaceURI=i,t.specified=!0,n.length==2?(t.prefix=n[0],t.localName=n[1]):t.localName=e,t}};xn(Io,wr);function Cs(){this._nsMap={}}Cs.prototype={nodeType:Ni,hasAttribute:function(i){return this.getAttributeNode(i)!=null},getAttribute:function(i){var e=this.getAttributeNode(i);return e&&e.value||""},getAttributeNode:function(i){return this.attributes.getNamedItem(i)},setAttribute:function(i,e){var t=this.ownerDocument.createAttribute(i);t.value=t.nodeValue=""+e,this.setAttributeNode(t)},removeAttribute:function(i){var e=this.getAttributeNode(i);e&&this.removeAttributeNode(e)},appendChild:function(i){return i.nodeType===pa?this.insertBefore(i,null):TN(this,i)},setAttributeNode:function(i){return this.attributes.setNamedItem(i)},setAttributeNodeNS:function(i){return this.attributes.setNamedItemNS(i)},removeAttributeNode:function(i){return this.attributes.removeNamedItem(i.nodeName)},removeAttributeNS:function(i,e){var t=this.getAttributeNodeNS(i,e);t&&this.removeAttributeNode(t)},hasAttributeNS:function(i,e){return this.getAttributeNodeNS(i,e)!=null},getAttributeNS:function(i,e){var t=this.getAttributeNodeNS(i,e);return t&&t.value||""},setAttributeNS:function(i,e,t){var n=this.ownerDocument.createAttributeNS(i,e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},getAttributeNodeNS:function(i,e){return this.attributes.getNamedItemNS(i,e)},getElementsByTagName:function(i){return new _l(this,function(e){var t=[];return Do(e,function(n){n!==e&&n.nodeType==Ni&&(i==="*"||n.tagName==i)&&t.push(n)}),t})},getElementsByTagNameNS:function(i,e){return new _l(this,function(t){var n=[];return Do(t,function(r){r!==t&&r.nodeType===Ni&&(i==="*"||r.namespaceURI===i)&&(e==="*"||r.localName==e)&&n.push(r)}),n})}};Io.prototype.getElementsByTagName=Cs.prototype.getElementsByTagName;Io.prototype.getElementsByTagNameNS=Cs.prototype.getElementsByTagNameNS;xn(Cs,wr);function mf(){}mf.prototype.nodeType=pl;xn(mf,wr);function Ro(){}Ro.prototype={data:"",substringData:function(i,e){return this.data.substring(i,i+e)},appendData:function(i){i=this.data+i,this.nodeValue=this.data=i,this.length=i.length},insertData:function(i,e){this.replaceData(i,0,e)},appendChild:function(i){throw new Error(an[Mn])},deleteData:function(i,e){this.replaceData(i,e,"")},replaceData:function(i,e,t){var n=this.data.substring(0,i),r=this.data.substring(i+e);t=n+t+r,this.nodeValue=this.data=t,this.length=t.length}};xn(Ro,wr);function _d(){}_d.prototype={nodeName:"#text",nodeType:_f,splitText:function(i){var e=this.data,t=e.substring(i);e=e.substring(0,i),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(t);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};xn(_d,Ro);function vd(){}vd.prototype={nodeName:"#comment",nodeType:h2};xn(vd,Ro);function gd(){}gd.prototype={nodeName:"#cdata-section",nodeType:u2};xn(gd,Ro);function Ff(){}Ff.prototype.nodeType=p2;xn(Ff,wr);function E2(){}E2.prototype.nodeType=yN;xn(E2,wr);function D2(){}D2.prototype.nodeType=wN;xn(D2,wr);function md(){}md.prototype.nodeType=f2;xn(md,wr);function Of(){}Of.prototype.nodeName="#document-fragment";Of.prototype.nodeType=pa;xn(Of,wr);function bd(){}bd.prototype.nodeType=c2;xn(bd,wr);function A2(){}A2.prototype.serializeToString=function(i,e,t){return k2.call(i,e,t)};wr.prototype.toString=k2;function k2(i,e){var t=[],n=this.nodeType==9&&this.documentElement||this,r=n.prefix,s=n.namespaceURI;if(s&&r==null){var r=n.lookupPrefix(s);if(r==null)var a=[{namespace:s,prefix:null}]}return hl(this,t,i,e,a),t.join("")}function p0(i,e,t){var n=i.prefix||"",r=i.namespaceURI;if(!r||n==="xml"&&r===Eo.XML||r===Eo.XMLNS)return!1;for(var s=t.length;s--;){var a=t[s];if(a.prefix===n)return a.namespace!==r}return!0}function ph(i,e,t){i.push(" ",e,'="',t.replace(/[<>&"\t\n\r]/g,m2),'"')}function hl(i,e,t,n,r){if(r||(r=[]),n)if(i=n(i),i){if(typeof i=="string"){e.push(i);return}}else return;switch(i.nodeType){case Ni:var s=i.attributes,a=s.length,D=i.firstChild,l=i.tagName;t=Eo.isHTML(i.namespaceURI)||t;var u=l;if(!t&&!i.prefix&&i.namespaceURI){for(var f,h=0;h<s.length;h++)if(s.item(h).name==="xmlns"){f=s.item(h).value;break}if(!f)for(var v=r.length-1;v>=0;v--){var p=r[v];if(p.prefix===""&&p.namespace===i.namespaceURI){f=p.namespace;break}}if(f!==i.namespaceURI)for(var v=r.length-1;v>=0;v--){var p=r[v];if(p.namespace===i.namespaceURI){p.prefix&&(u=p.prefix+":"+l);break}}}e.push("<",u);for(var d=0;d<a;d++){var _=s.item(d);_.prefix=="xmlns"?r.push({prefix:_.localName,namespace:_.value}):_.nodeName=="xmlns"&&r.push({prefix:"",namespace:_.value})}for(var d=0;d<a;d++){var _=s.item(d);if(p0(_,t,r)){var g=_.prefix||"",b=_.namespaceURI;ph(e,g?"xmlns:"+g:"xmlns",b),r.push({prefix:g,namespace:b})}hl(_,e,t,n,r)}if(l===u&&p0(i,t,r)){var g=i.prefix||"",b=i.namespaceURI;ph(e,g?"xmlns:"+g:"xmlns",b),r.push({prefix:g,namespace:b})}if(D||t&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(e.push(">"),t&&/^script$/i.test(l))for(;D;)D.data?e.push(D.data):hl(D,e,t,n,r.slice()),D=D.nextSibling;else for(;D;)hl(D,e,t,n,r.slice()),D=D.nextSibling;e.push("</",u,">")}else e.push("/>");return;case d2:case pa:for(var D=i.firstChild;D;)hl(D,e,t,n,r.slice()),D=D.nextSibling;return;case pl:return ph(e,i.name,i.value);case _f:return e.push(i.data.replace(/[<&>]/g,m2));case u2:return e.push("<![CDATA[",i.data,"]]>");case h2:return e.push("<!--",i.data,"-->");case p2:var B=i.publicId,S=i.systemId;if(e.push("<!DOCTYPE ",i.name),B)e.push(" PUBLIC ",B),S&&S!="."&&e.push(" ",S),e.push(">");else if(S&&S!=".")e.push(" SYSTEM ",S,">");else{var O=i.internalSubset;O&&e.push(" [",O,"]"),e.push(">")}return;case c2:return e.push("<?",i.target," ",i.data,"?>");case f2:return e.push("&",i.nodeName,";");default:e.push("??",i.nodeName)}}function C2(i,e,t){var n;switch(e.nodeType){case Ni:n=e.cloneNode(!1),n.ownerDocument=i;case pa:break;case pl:t=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=i,n.parentNode=null,t)for(var r=e.firstChild;r;)n.appendChild(C2(i,r,t)),r=r.nextSibling;return n}function zh(i,e,t){var n=new e.constructor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=e[r];typeof s!="object"&&s!=n[r]&&(n[r]=s)}switch(e.childNodes&&(n.childNodes=new fa),n.ownerDocument=i,n.nodeType){case Ni:var a=e.attributes,l=n.attributes=new vf,u=a.length;l._ownerElement=n;for(var f=0;f<u;f++)n.setAttributeNode(zh(i,a.item(f),!0));break;case pl:t=!0}if(t)for(var h=e.firstChild;h;)n.appendChild(zh(i,h,t)),h=h.nextSibling;return n}function T2(i,e,t){i[e]=t}try{if(Object.defineProperty){let i=function(e){switch(e.nodeType){case Ni:case pa:var t=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&t.push(i(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}};Object.defineProperty(_l.prototype,"length",{get:function(){return hd(this),this.$$length}}),Object.defineProperty(wr.prototype,"textContent",{get:function(){return i(this)},set:function(e){switch(this.nodeType){case Ni:case pa:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),T2=function(e,t,n){e["$$"+t]=n}}}catch{}Ya.DocumentType=Ff;Ya.DOMException=Qr;Ya.DOMImplementation=g2;Ya.Element=Cs;Ya.Node=wr;Ya.NodeList=fa;Ya.XMLSerializer=A2;var Lf={},N2={};(function(i){var e=wa.freeze;i.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),i.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),i.entityMap=i.HTML_ENTITIES})(N2);var wd={},Ao=wa.NAMESPACE,Vh=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,_0=new RegExp("[\\-\\.0-9"+Vh.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),v0=new RegExp("^"+Vh.source+_0.source+"*(?::"+Vh.source+_0.source+"*)?$"),ao=0,qa=1,tl=2,so=3,rl=4,nl=5,lo=6,Gu=7;function vl(i,e){this.message=i,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,vl)}vl.prototype=new Error;vl.prototype.name=vl.name;function S2(){}S2.prototype={parse:function(i,e,t){var n=this.domBuilder;n.startDocument(),I2(e,e={}),NN(i,e,t,n,this.errorHandler),n.endDocument()}};function NN(i,e,t,n,r){function s(z){if(z>65535){z-=65536;var ue=55296+(z>>10),re=56320+(z&1023);return String.fromCharCode(ue,re)}else return String.fromCharCode(z)}function a(z){var ue=z.slice(1,-1);return Object.hasOwnProperty.call(t,ue)?t[ue]:ue.charAt(0)==="#"?s(parseInt(ue.substr(1).replace("x","0x"))):(r.error("entity not found:"+z),z)}function l(z){if(z>g){var ue=i.substring(g,z).replace(/&#?\w+;/g,a);p&&u(g),n.characters(ue,0,z-g),g=z}}function u(z,ue){for(;z>=h&&(ue=v.exec(i));)f=ue.index,h=f+ue[0].length,p.lineNumber++;p.columnNumber=z-f+1}for(var f=0,h=0,v=/.*(?:\r\n?|\n)|.*$/g,p=n.locator,d=[{currentNSMap:e}],_={},g=0;;){try{var b=i.indexOf("<",g);if(b<0){if(!i.substr(g).match(/^\s*$/)){var D=n.doc,B=D.createTextNode(i.substr(g));D.appendChild(B),n.currentElement=B}return}switch(b>g&&l(b),i.charAt(b+1)){case"/":var k=i.indexOf(">",b+3),S=i.substring(b+2,k).replace(/[ \t\n\r]+$/g,""),O=d.pop();k<0?(S=i.substring(b+2).replace(/[\s<].*/,""),r.error("end tag name: "+S+" is not complete:"+O.tagName),k=b+1+S.length):S.match(/\s</)&&(S=S.replace(/[\s<].*/,""),r.error("end tag name: "+S+" maybe not complete"),k=b+1+S.length);var y=O.localNSMap,N=O.tagName==S,T=N||O.tagName&&O.tagName.toLowerCase()==S.toLowerCase();if(T){if(n.endElement(O.uri,O.localName,S),y)for(var j in y)Object.prototype.hasOwnProperty.call(y,j)&&n.endPrefixMapping(j);N||r.fatalError("end tag name: "+S+" is not match the current start tagName:"+O.tagName)}else d.push(O);k++;break;case"?":p&&u(b),k=FN(i,b,n);break;case"!":p&&u(b),k=PN(i,b,n,r);break;default:p&&u(b);var F=new R2,q=d[d.length-1].currentNSMap,k=SN(i,b,F,q,a,r),L=F.length;if(!F.closed&&RN(i,k,F.tagName,_)&&(F.closed=!0,t.nbsp||r.warning("unclosed xml attribute")),p&&L){for(var A=g0(p,{}),R=0;R<L;R++){var Y=F[R];u(Y.offset),Y.locator=g0(p,{})}n.locator=A,m0(F,n,q)&&d.push(F),n.locator=p}else m0(F,n,q)&&d.push(F);Ao.isHTML(F.uri)&&!F.closed?k=IN(i,k,F.tagName,a,n):k++}}catch(z){if(z instanceof vl)throw z;r.error("element parse error: "+z),k=-1}k>g?g=k:l(Math.max(b,g)+1)}}function g0(i,e){return e.lineNumber=i.lineNumber,e.columnNumber=i.columnNumber,e}function SN(i,e,t,n,r,s){function a(p,d,_){t.attributeNames.hasOwnProperty(p)&&s.fatalError("Attribute "+p+" redefined"),t.addValue(p,d.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,r),_)}for(var l,u,f=++e,h=ao;;){var v=i.charAt(f);switch(v){case"=":if(h===qa)l=i.slice(e,f),h=so;else if(h===tl)h=so;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(h===so||h===qa)if(h===qa&&(s.warning('attribute value must after "="'),l=i.slice(e,f)),e=f+1,f=i.indexOf(v,e),f>0)u=i.slice(e,f),a(l,u,e-1),h=nl;else throw new Error("attribute value no end '"+v+"' match");else if(h==rl)u=i.slice(e,f),a(l,u,e),s.warning('attribute "'+l+'" missed start quot('+v+")!!"),e=f+1,h=nl;else throw new Error('attribute value must after "="');break;case"/":switch(h){case ao:t.setTagName(i.slice(e,f));case nl:case lo:case Gu:h=Gu,t.closed=!0;case rl:case qa:break;case tl:t.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),h==ao&&t.setTagName(i.slice(e,f)),f;case">":switch(h){case ao:t.setTagName(i.slice(e,f));case nl:case lo:case Gu:break;case rl:case qa:u=i.slice(e,f),u.slice(-1)==="/"&&(t.closed=!0,u=u.slice(0,-1));case tl:h===tl&&(u=l),h==rl?(s.warning('attribute "'+u+'" missed quot(")!'),a(l,u,e)):((!Ao.isHTML(n[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),a(u,u,e));break;case so:throw new Error("attribute value missed!!")}return f;case"":v=" ";default:if(v<=" ")switch(h){case ao:t.setTagName(i.slice(e,f)),h=lo;break;case qa:l=i.slice(e,f),h=tl;break;case rl:var u=i.slice(e,f);s.warning('attribute "'+u+'" missed quot(")!!'),a(l,u,e);case nl:h=lo;break}else switch(h){case tl:t.tagName,(!Ao.isHTML(n[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),a(l,l,e),e=f,h=qa;break;case nl:s.warning('attribute space is required"'+l+'"!!');case lo:h=qa,e=f;break;case so:h=rl,e=f;break;case Gu:throw new Error("elements closed character '/' and '>' must be connected to")}}f++}}function m0(i,e,t){for(var n=i.tagName,r=null,v=i.length;v--;){var s=i[v],a=s.qName,l=s.value,p=a.indexOf(":");if(p>0)var u=s.prefix=a.slice(0,p),f=a.slice(p+1),h=u==="xmlns"&&f;else f=a,u=null,h=a==="xmlns"&&"";s.localName=f,h!==!1&&(r==null&&(r={},I2(t,t={})),t[h]=r[h]=l,s.uri=Ao.XMLNS,e.startPrefixMapping(h,l))}for(var v=i.length;v--;){s=i[v];var u=s.prefix;u&&(u==="xml"&&(s.uri=Ao.XML),u!=="xmlns"&&(s.uri=t[u||""]))}var p=n.indexOf(":");p>0?(u=i.prefix=n.slice(0,p),f=i.localName=n.slice(p+1)):(u=null,f=i.localName=n);var d=i.uri=t[u||""];if(e.startElement(d,f,n,i),i.closed){if(e.endElement(d,f,n),r)for(u in r)Object.prototype.hasOwnProperty.call(r,u)&&e.endPrefixMapping(u)}else return i.currentNSMap=t,i.localNSMap=r,!0}function IN(i,e,t,n,r){if(/^(?:script|textarea)$/i.test(t)){var s=i.indexOf("</"+t+">",e),a=i.substring(e+1,s);if(/[&<]/.test(a))return/^script$/i.test(t)?(r.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,n),r.characters(a,0,a.length),s)}return e+1}function RN(i,e,t,n){var r=n[t];return r==null&&(r=i.lastIndexOf("</"+t+">"),r<e&&(r=i.lastIndexOf("</"+t)),n[t]=r),r<e}function I2(i,e){for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}function PN(i,e,t,n){var r=i.charAt(e+2);switch(r){case"-":if(i.charAt(e+3)==="-"){var s=i.indexOf("-->",e+4);return s>e?(t.comment(i,e+4,s-e-4),s+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(i.substr(e+3,6)=="CDATA["){var s=i.indexOf("]]>",e+9);return t.startCDATA(),t.characters(i,e+9,s-e-9),t.endCDATA(),s+3}var a=ON(i,e),l=a.length;if(l>1&&/!doctype/i.test(a[0][0])){var u=a[1][0],f=!1,h=!1;l>3&&(/^public$/i.test(a[2][0])?(f=a[3][0],h=l>4&&a[4][0]):/^system$/i.test(a[2][0])&&(h=a[3][0]));var v=a[l-1];return t.startDTD(u,f,h),t.endDTD(),v.index+v[0].length}}return-1}function FN(i,e,t){var n=i.indexOf("?>",e);if(n){var r=i.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,t.processingInstruction(r[1],r[2]),n+2):-1}return-1}function R2(){this.attributeNames={}}R2.prototype={setTagName:function(i){if(!v0.test(i))throw new Error("invalid tagName:"+i);this.tagName=i},addValue:function(i,e,t){if(!v0.test(i))throw new Error("invalid attribute:"+i);this.attributeNames[i]=this.length,this[this.length++]={qName:i,value:e,offset:t}},length:0,getLocalName:function(i){return this[i].localName},getLocator:function(i){return this[i].locator},getQName:function(i){return this[i].qName},getURI:function(i){return this[i].uri},getValue:function(i){return this[i].value}};function ON(i,e){var t,n=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(i);t=r.exec(i);)if(n.push(t),t[1])return n}wd.XMLReader=S2;wd.ParseError=vl;var LN=wa,BN=Ya,b0=N2,P2=wd,UN=BN.DOMImplementation,w0=LN.NAMESPACE,MN=P2.ParseError,qN=P2.XMLReader;function F2(i){return i.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function O2(i){this.options=i||{locator:{}}}O2.prototype.parseFromString=function(i,e){var t=this.options,n=new qN,r=t.domBuilder||new Po,s=t.errorHandler,a=t.locator,l=t.xmlns||{},u=/\/x?html?$/.test(e),f=u?b0.HTML_ENTITIES:b0.XML_ENTITIES;a&&r.setDocumentLocator(a),n.errorHandler=jN(s,r,a),n.domBuilder=t.domBuilder||r,u&&(l[""]=w0.HTML),l.xml=l.xml||w0.XML;var h=t.normalizeLineEndings||F2;return i&&typeof i=="string"?n.parse(h(i),l,f):n.errorHandler.error("invalid doc source"),r.doc};function jN(i,e,t){if(!i){if(e instanceof Po)return e;i=e}var n={},r=i instanceof Function;t=t||{};function s(a){var l=i[a];!l&&r&&(l=i.length==2?function(u){i(a,u)}:i),n[a]=l&&function(u){l("[xmldom "+a+"]	"+u+Hh(t))}||function(){}}return s("warning"),s("error"),s("fatalError"),n}function Po(){this.cdata=!1}function il(i,e){e.lineNumber=i.lineNumber,e.columnNumber=i.columnNumber}Po.prototype={startDocument:function(){this.doc=new UN().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(i,e,t,n){var r=this.doc,s=r.createElementNS(i,t||e),a=n.length;Xu(this,s),this.currentElement=s,this.locator&&il(this.locator,s);for(var l=0;l<a;l++){var i=n.getURI(l),u=n.getValue(l),t=n.getQName(l),f=r.createAttributeNS(i,t);this.locator&&il(n.getLocator(l),f),f.value=f.nodeValue=u,s.setAttributeNode(f)}},endElement:function(i,e,t){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(i,e){},endPrefixMapping:function(i){},processingInstruction:function(i,e){var t=this.doc.createProcessingInstruction(i,e);this.locator&&il(this.locator,t),Xu(this,t)},ignorableWhitespace:function(i,e,t){},characters:function(i,e,t){if(i=y0.apply(this,arguments),i){if(this.cdata)var n=this.doc.createCDATASection(i);else var n=this.doc.createTextNode(i);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(i)&&this.doc.appendChild(n),this.locator&&il(this.locator,n)}},skippedEntity:function(i){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(i){(this.locator=i)&&(i.lineNumber=0)},comment:function(i,e,t){i=y0.apply(this,arguments);var n=this.doc.createComment(i);this.locator&&il(this.locator,n),Xu(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(i,e,t){var n=this.doc.implementation;if(n&&n.createDocumentType){var r=n.createDocumentType(i,e,t);this.locator&&il(this.locator,r),Xu(this,r),this.doc.doctype=r}},warning:function(i){console.warn("[xmldom warning]	"+i,Hh(this.locator))},error:function(i){console.error("[xmldom error]	"+i,Hh(this.locator))},fatalError:function(i){throw new MN(i,this.locator)}};function Hh(i){if(i)return`
@`+(i.systemId||"")+"#[line:"+i.lineNumber+",col:"+i.columnNumber+"]"}function y0(i,e,t){return typeof i=="string"?i.substr(e,t):i.length>=e+t||e?new java.lang.String(i,e,t)+"":i}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(i){Po.prototype[i]=function(){return null}});function Xu(i,e){i.currentElement?i.currentElement.appendChild(e):i.doc.appendChild(e)}Lf.__DOMHandler=Po;Lf.normalizeLineEndings=F2;Lf.DOMParser=O2;var E0=Lf.DOMParser;function xN(i){return i=i.split(";")[0].trim(),new cn("http://www.w3.org/ns/iana/media-types/"+i+"#Resource")}function zN(i,e){i.callbacks={};for(var t=e.length-1;t>=0;t--)i.callbacks[e[t]]=[];i.addHook=function(n){i.callbacks[n]||(i.callbacks[n]=[])},i.addCallback=function(n,r){i.callbacks[n].push(r)},i.removeCallback=function(n,r){for(var s=0;s<i.callbacks[n].length;s++)if(i.callbacks[n][s].name===r)return i.callbacks[n].splice(s,1),!0;return!1},i.insertCallback=function(n,r){i.callbacks[n].unshift(r)},i.fireCallbacks=function(r,s){var a=[],l=[],u=i.callbacks[r].length,f,h;for(f=u-1;f>=0;f--)h=i.callbacks[r][f],h&&h.apply(i,s)&&a.push(h);for(f=a.length-1;f>=0;f--)l.push(a[f]);for(f=u;f<i.callbacks[r].length;f++)l.push(i.callbacks[r][f]);i.callbacks[r]=l}}function VN(i,e){e=e||{};var t=[];e&&e.selfClosing&&e.selfClosing.split(" ").forEach(function(r){t[r]=!0});var n=[];return e&&e.skipAttributes&&e.skipAttributes.split(" ").forEach(function(r){n[r]=!0}),L2(i,e,t,n)}function L2(i,e,t,n){var r,s="",a=[!1];if(typeof i.nodeType>"u")return s;if(i.nodeType===1){if(i.hasAttribute("class")&&e&&e.classWithChildText&&i.matches(e.classWithChildText.class))s+=i.querySelector(e.classWithChildText.element).textContent;else if(!(e&&e.skipNodeWithClass&&i.matches("."+e.skipNodeWithClass))){var l=i.nodeName.toLowerCase();s+="<"+l;var u=[];for(r=i.attributes.length-1;r>=0;r--){var f=i.attributes[r];if(!(n&&n.length>0&&n[f.name])&&!/^\d+$/.test(f.name)){if(f.name==="class"&&e&&e.replaceClassItemWith&&f.value.split(" ").indexOf(e.replaceClassItemWith.source)>-1){var h=new RegExp(e.replaceClassItemWith.source,"g");f.value=f.value.replace(h,e.replaceClassItemWith.target).trim()}f.name==="class"&&e&&e.skipClassWithValue&&e.skipClassWithValue===f.value||u.push(f.name+"='"+f.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&quot;")+"'")}}if(u.length>0&&(e&&e.sortAttributes&&u.sort(function(p,d){return p.toLowerCase().localeCompare(d.toLowerCase())}),s+=" "+u.join(" ")),t&&t.ename)s+=" />";else{for(s+=">",s+=l==="html"?`
  `:"",a.push(l==="style"||l==="script"),r=0;r<i.childNodes.length;r++)s+=L2(i.childNodes[r]);a.pop(),s+=l==="body"?"</"+l+`>
`:"</"+l+">"}}}else if(i.nodeType===8)s+="<!--"+i.nodeValue+"-->";else if(i.nodeType===3||i.nodeType===4){var v=i.nodeValue.replace(/\n+$/,"");s+=a[a.length-1]?v:v.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}else console.log("Warning; Cannot handle serialising nodes of type: "+i.nodeType),console.log(i);return s}function _h(i,e,t,n){var r=function(u){return u.termType==="BlankNode"?null:u},s=function(u){var f=t.statementsMatching(u).map(function(h){return""+r(h.subject)+" "+r(h.predicate)+" "+r(h.object)}).concat(t.statementsMatching(void 0,void 0,u).map(function(h){return""+r(h.subject)+" "+r(h.predicate)+" "+r(h.object)}));return f.sort(),f.join(`
`)},a=Object.prototype.hasOwnProperty.call(t,"compareTerms")?t.compareTerms(i,e):i.compareTerm(e);return i.termType==="BlankNode"&&e.termType==="BlankNode"?a===0?0:s(i)>s(e)?1:s(i)<s(e)?-1:a:n&&i.uri&&e.uri?(n[i.uri]||i.uri).localeCompare(n[e.uri]||e.uri):a}function HN(i,e,t,n){return _h(i.subject,e.subject,t,n)||_h(i.predicate,e.predicate,t,n)||_h(i.object,e.object,t,n)}function dl(i,e){var t;if(e=e||{},typeof module<"u"&&module&&module.exports){var n=new E0().parseFromString(i,e.contentType||"application/xhtml+xml");return n}else typeof window<"u"&&window.DOMParser?t=new window.DOMParser:t=new E0;return t.parseFromString(i,"application/xml")}function $N(i,e){for(var t=0;t<i.length;t++)if(i[t].subject.equals(e.subject)&&i[t].predicate.equals(e.predicate)&&i[t].object.equals(e.object)&&i[t].why.equals(e.why)){i.splice(t,1);return}throw new Error("RDFArrayRemove: Array did not contain "+e+" "+e.why)}function B2(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ti;return{boolean:i.namedNode("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:i.namedNode("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:i.namedNode("http://www.w3.org/2001/XMLSchema#decimal"),double:i.namedNode("http://www.w3.org/2001/XMLSchema#double"),integer:i.namedNode("http://www.w3.org/2001/XMLSchema#integer"),langString:i.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:i.namedNode("http://www.w3.org/2001/XMLSchema#string")}}B2(Ti);const D0={acl:"http://www.w3.org/ns/auth/acl#",arg:"http://www.w3.org/ns/pim/arg#",as:"https://www.w3.org/ns/activitystreams#",cal:"http://www.w3.org/2002/12/cal/ical#",cert:"http://www.w3.org/ns/auth/cert#",contact:"http://www.w3.org/2000/10/swap/pim/contact#",dc:"http://purl.org/dc/elements/1.1/",dct:"http://purl.org/dc/terms/",doap:"http://usefulinc.com/ns/doap#",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",gpx:"http://www.w3.org/ns/pim/gpx#",http:"http://www.w3.org/2007/ont/http#",httph:"http://www.w3.org/2007/ont/httph#",icalTZ:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",link:"http://www.w3.org/2007/ont/link#",log:"http://www.w3.org/2000/10/swap/log#",meeting:"http://www.w3.org/ns/pim/meeting#",mo:"http://purl.org/ontology/mo/",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",pad:"http://www.w3.org/ns/pim/pad#",patch:"http://www.w3.org/ns/pim/patch#",prov:"http://www.w3.org/ns/prov#",qu:"http://www.w3.org/2000/10/swap/pim/qif#",trip:"http://www.w3.org/ns/pim/trip#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rss:"http://purl.org/rss/1.0/",sched:"http://www.w3.org/ns/pim/schedule#",schema:"http://schema.org/",sioc:"http://rdfs.org/sioc/ns#",solid:"http://www.w3.org/ns/solid/terms#",space:"http://www.w3.org/ns/pim/space#",stat:"http://www.w3.org/ns/posix/stat#",tab:"http://www.w3.org/2007/ont/link#",tabont:"http://www.w3.org/2007/ont/link#",ui:"http://www.w3.org/ns/ui#",vcard:"http://www.w3.org/2006/vcard/ns#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#",cco:"http://www.ontologyrepository.com/CommonCoreOntologies/",skos:"http://www.w3.org/2004/02/skos/core#",bookmark:"http://www.w3.org/2002/01/bookmark#",vann:"http://purl.org/vocab/vann/"};function GN(i={namedNode:e=>e}){const e={};for(const t in D0){const n=D0[t];e[t]=function(r=""){return i.namedNode(n+r)}}return e}var XN=GN;const A0=Ts(XN);var U2={exports:{}};(function(i){(function(e,t){i.exports?i.exports=t():e.ttl2jsonld=t()})(ua,function(){function e(r,s){function a(){this.constructor=r}a.prototype=s.prototype,r.prototype=new a}function t(r,s,a,l){this.message=r,this.expected=s,this.found=a,this.location=l,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}e(t,Error),t.buildMessage=function(r,s){var a={literal:function(d){return'"'+u(d.text)+'"'},class:function(d){var _="",g;for(g=0;g<d.parts.length;g++)_+=d.parts[g]instanceof Array?f(d.parts[g][0])+"-"+f(d.parts[g][1]):f(d.parts[g]);return"["+(d.inverted?"^":"")+_+"]"},any:function(d){return"any character"},end:function(d){return"end of input"},other:function(d){return d.description}};function l(d){return d.charCodeAt(0).toString(16).toUpperCase()}function u(d){return d.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(_){return"\\x0"+l(_)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(_){return"\\x"+l(_)})}function f(d){return d.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(_){return"\\x0"+l(_)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(_){return"\\x"+l(_)})}function h(d){return a[d.type](d)}function v(d){var _=new Array(d.length),g,b;for(g=0;g<d.length;g++)_[g]=h(d[g]);if(_.sort(),_.length>0){for(g=1,b=1;g<_.length;g++)_[g-1]!==_[g]&&(_[b]=_[g],b++);_.length=b}switch(_.length){case 1:return _[0];case 2:return _[0]+" or "+_[1];default:return _.slice(0,-1).join(", ")+", or "+_[_.length-1]}}function p(d){return d?'"'+u(d)+'"':"end of input"}return"Expected "+v(r)+" but "+p(s)+" found."};function n(r,s){s=s!==void 0?s:{};var a={},l={turtleDoc:ou},u=ou,f=function(E){var x=rr.toJSON();return x["@graph"]=[],E.filter(X=>Array.isArray(X)).forEach(X=>{X.forEach(ne=>{x["@graph"].push(ne)})}),x["@graph"].length===1&&(Object.assign(x,x["@graph"][0]),delete x["@graph"]),x},h=".",v=qt(".",!1),p=function(E){return E},d="#",_=qt("#",!1),g=/^[^\n]/,b=vr([`
`],!0,!1),D=`
`,B=qt(`
`,!1),S=function(E){return E.join("")},O="@prefix",y=qt("@prefix",!1),N=function(E,x){return rr.addPrefix(E===""?"0":E,x),{}},T="@base",j=qt("@base",!1),F=function(E){return rr.addBase(E),{}},q=/^[Bb]/,k=vr(["B","b"],!1,!1),L=/^[Aa]/,A=vr(["A","a"],!1,!1),R=/^[Ss]/,Y=vr(["S","s"],!1,!1),z=/^[Ee]/,ue=vr(["E","e"],!1,!1),re=/^[Pp]/,ee=vr(["P","p"],!1,!1),$=/^[Rr]/,Q=vr(["R","r"],!1,!1),pe=/^[Ff]/,J=vr(["F","f"],!1,!1),de=/^[Ii]/,it=vr(["I","i"],!1,!1),nt=/^[Xx]/,Fe=vr(["X","x"],!1,!1),ze=function(E,x){var X={};return typeof E=="string"&&E!=="[]"?X["@id"]=E:typeof E=="object"&&Object.assign(X,E),x&&Object.assign(X,x),[X]},Ce=function(E,x){var X={};return E&&Object.assign(X,E),x&&Object.assign(X,x),[X]},Ee=";",Ge=qt(";",!1),Dt=function(E,x,X,ne){var le={};return le[X]=ne,le},lt=function(E,x,X){return X},ge=function(E,x,X){var ne={};return X.unshift(ls(E,x)),X.forEach(le=>{le&&Object.keys(le).forEach(we=>{le[we].forEach(Ae=>{we==="@type"&&Ae["@id"]!==void 0&&(Ae=Ae["@id"]),ne[we]===void 0?ne[we]=Ae:Array.isArray(ne[we])?ne[we].push(Ae):ne[we]=[ne[we],Ae]})})}),ne},Me=",",nr=qt(",",!1),sr=function(E,x){return x},xr=function(E,x){return x.unshift(E),x},ur="a",Tr=qt("a",!1),fr=function(){return"@type"},mt=function(E){return Fa(E,!0)},At=function(E){return Fa(E,!1)},tt=function(E){return E==="[]"?{}:{"@id":E}},Le=function(E){return{"@id":E}},ot="[",W=qt("[",!1),P="]",M=qt("]",!1),te="(",De=qt("(",!1),Be=")",Ve=qt(")",!1),kt=function(E){return{"@list":E}},Mt=function(E,x){return{"@value":E,"@language":x}},St="^^",Ht=qt("^^",!1),Zt=function(E,x){if(x==="http://www.w3.org/2001/XMLSchema#boolean"&&E==="true")return!0;if(x==="http://www.w3.org/2001/XMLSchema#boolean"&&E==="false")return!1;if(x==="http://www.w3.org/2001/XMLSchema#integer")return parseInt(E);if(x==="http://www.w3.org/2001/XMLSchema#double")return parseFloat(E);const X=rr.resolve(x,!0);if(X){const ne=x.split(":")[0];if(X==="http://www.w3.org/2001/XMLSchema#boolean"&&E==="true")return rr.decrement(ne),!0;if(X==="http://www.w3.org/2001/XMLSchema#boolean"&&E==="false")return rr.decrement(ne),!1;if(X==="http://www.w3.org/2001/XMLSchema#integer")return rr.decrement(ne),parseInt(E);if(X==="http://www.w3.org/2001/XMLSchema#double")return rr.decrement(ne),parseFloat(E)}return{"@value":E,"@type":x}},Pi="true",Fs=qt("true",!1),Nn=function(){return!0},Fi="false",kl=qt("false",!1),Oi=function(){return!1},Cl=function(E){return E+":"},Os="<",Ls=qt("<",!1),Da=/^[^\0- <>"{}|\^`\\]/,Ja=vr([["\0"," "],"<",">",'"',"{","}","|","^","`","\\"],!0,!1),Tl=">",Aa=qt(">",!1),Nl=function(E){const x=E.map(ne=>65536<=ne.codePointAt(0)&&ne.codePointAt(0)<=983039?"a":ne.length===1?ne:ne.length===6?String.fromCharCode("0x"+ne.substring(2)):ne.length===10?String.fromCodePoint("0x"+ne.substring(2)):ne).join("");if(x.match(/^[^\u0000-\u0020<>"{}|^`\\]*$/)){var X=E.join("");try{return rr.resolve(X)}catch{ns("Invalid IRIREF "+X)}}else ns("Invalid IRIREF "+E.join("")+" / "+x)},hn=":",ye=qt(":",!1),he=function(E){return E=E||"0",rr.hasPrefix(E)===!1&&ns("undefined prefix "+E),E},Te=function(E){return E||""},xe=function(E,x){return rr.increment(E),rr.resolve(E+":"+x)},qe="_:",bt=qt("_:",!1),ht=/^[0-9]/,Ct=vr([["0","9"]],!1,!1),pr="@",Lr=qt("@",!1),Wt=/^[a-zA-Z]/,cr=vr([["a","z"],["A","Z"]],!1,!1),Nr="-",Ot=qt("-",!1),hr=/^[a-zA-Z0-9]/,_r=vr([["a","z"],["A","Z"],["0","9"]],!1,!1),mr=function(E,x){return"-"+x.join("")},bn=function(E,x){return E.join("")+x.join("")},sn=/^[+\-]/,ln=vr(["+","-"],!1,!1),Li=function(E){return E.match(/^[0+][0-9]+$/)?{"@value":E,"@type":"http://www.w3.org/2001/XMLSchema#integer"}:parseInt(E)},ei=function(E){return{"@value":E,"@type":"http://www.w3.org/2001/XMLSchema#decimal"}},on=function(E){return{"@value":E,"@type":"http://www.w3.org/2001/XMLSchema#double"}},wn=/^[eE]/,wi=vr(["e","E"],!1,!1),dn='"',ti=qt('"',!1),Za=/^[^"\\\n\r]/,ka=vr(['"',"\\",`
`,"\r"],!0,!1),ri="'",ni=qt("'",!1),yi=/^[^'\\\n\r]/,es=vr(["'","\\",`
`,"\r"],!0,!1),Bi="'''",Vn=qt("'''",!1),Hn=/^[^'\\]/,ii=vr(["'","\\"],!0,!1),ts="''",Sl=qt("''",!1),Bs=function(E,x){return"''"+x.join("")},qo=function(E,x){return"'"+x.join("")},Il=function(E,x){return E.join("")+x.join("")},Ca='"""',Us=qt('"""',!1),un=/^[^"\\]/,$n=vr(['"',"\\"],!0,!1),rs='""',jo=qt('""',!1),Rl=function(E,x){return'""'+x.join("")},Pl=function(E,x){return'"'+x.join("")},Fl="\\U",xo=qt("\\U",!1),zf=function(E){return String.fromCodePoint(parseInt(E.join(""),16))},zo="\\u",Vf=qt("\\u",!1),Vo=function(E){return String.fromCharCode(parseInt(E.join(""),16))},Ho="\\t",Hf=qt("\\t",!1),$f=function(){return"	"},$o="\\b",Ol=qt("\\b",!1),Gf=function(){return"\b"},Go="\\n",Xf=qt("\\n",!1),Wf=function(){return`
`},Xo="\\r",Sr=qt("\\r",!1),yr=function(){return"\r"},Wo="\\f",Qf=qt("\\f",!1),Yf=function(){return"\f"},Qo='\\"',Kf=qt('\\"',!1),Jf=function(){return'"'},Ll="\\'",Zf=qt("\\'",!1),Jr=function(){return"'"},Ms="\\\\",Ji=qt("\\\\",!1),Yo=function(){return"\\"},Bl=/^[ \t\r\n]/,Sn=vr([" ","	","\r",`
`],!1,!1),Ko=function(){return"[]"},Jo=/^[\uD800-\uDBFF]/,Zo=vr([["\uD800","\uDBFF"]],!1,!1),eu=/^[\uDC00-\uDFFF]/,tu=vr([["\uDC00","\uDFFF"]],!1,!1),ru=function(E,x){return E+x},yn=/^[A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ec=vr([["A","Z"],["a","z"],["À","Ö"],["Ø","ö"],["ø","˿"],["Ͱ","ͽ"],["Ϳ","῿"],["‌","‍"],["⁰","↏"],["Ⰰ","⿯"],["、","퟿"],["豈","﷏"],["ﷰ","�"]],!1,!1),In="_",tc=qt("_",!1),nu="·",Ui=qt("·",!1),qs=/^[\u0300-\u036F]/,Ul=vr([["̀","ͯ"]],!1,!1),Rr=/^[\u203F-\u2040]/,Mi=vr([["‿","⁀"]],!1,!1),js=function(E,x,X,ne){return X.join("")+ne.join("")},rc=function(E,x,X){return E+x.join("")+X.join("")},Ml="%",nc=qt("%",!1),ic=/^[0-9A-Fa-f]/,ac=vr([["0","9"],["A","F"],["a","f"]],!1,!1),iu="\\",xs=qt("\\",!1),Ta=/^[_~.!$&'()*+,;=\/?#@%\-]/,sc=vr(["_","~",".","!","$","&","'","(",")","*","+",",",";","=","/","?","#","@","%","-"],!1,!1),C=0,ft=0,Na=[{line:1,column:1}],Rn=0,zs=[],Vs;if("startRule"in s){if(!(s.startRule in l))throw new Error(`Can't start parsing from rule "`+s.startRule+'".');u=l[s.startRule]}function ns(E,x){throw x=x!==void 0?x:is(ft,C),su(E,x)}function qt(E,x){return{type:"literal",text:E,ignoreCase:x}}function vr(E,x,X){return{type:"class",parts:E,inverted:x,ignoreCase:X}}function au(){return{type:"end"}}function pn(E){var x=Na[E],X;if(x)return x;for(X=E-1;!Na[X];)X--;for(x=Na[X],x={line:x.line,column:x.column};X<E;)r.charCodeAt(X)===10?(x.line++,x.column=1):x.column++,X++;return Na[E]=x,x}function is(E,x){var X=pn(E),ne=pn(x);return{start:{offset:E,line:X.line,column:X.column},end:{offset:x,line:ne.line,column:ne.column}}}function Oe(E){C<Rn||(C>Rn&&(Rn=C,zs=[]),zs.push(E))}function su(E,x){return new t(E,null,null,x)}function lu(E,x,X){return new t(t.buildMessage(E,x),E,x,X)}function ou(){var E,x,X,ne;for(E=C,x=[],X=uu();X!==a;)x.push(X),X=uu();if(x!==a){for(X=[],ne=ct();ne!==a;)X.push(ne),ne=ct();X!==a?(ft=E,x=f(x),E=x):(C=E,E=a)}else C=E,E=a;return E}function uu(){var E,x,X,ne;if(E=oc(),E===a)if(E=C,x=fu(),x!==a){for(X=[],ne=ct();ne!==a;)X.push(ne),ne=ct();X!==a?(r.charCodeAt(C)===46?(ne=h,C++):(ne=a,Oe(v)),ne!==a?(ft=E,x=p(x),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;return E}function lc(){var E,x,X,ne;if(E=C,r.charCodeAt(C)===35?(x=d,C++):(x=a,Oe(_)),x!==a){for(X=[],g.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(b));ne!==a;)X.push(ne),g.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(b));X!==a?(r.charCodeAt(C)===10?(ne=D,C++):(ne=a,Oe(B)),ne!==a?(ft=E,x=S(X),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;return E}function ct(){var E;return E=hu(),E===a&&(E=lc()),E}function oc(){var E;return E=Sa(),E===a&&(E=uc(),E===a&&(E=ql(),E===a&&(E=fc()))),E}function Sa(){var E,x,X,ne,le,we,Ae,fe,pt;for(E=C,x=[],X=ct();X!==a;)x.push(X),X=ct();if(x!==a)if(r.substr(C,7)===O?(X=O,C+=7):(X=a,Oe(y)),X!==a){for(ne=[],le=ct();le!==a;)ne.push(le),le=ct();if(ne!==a)if(le=Ut(),le!==a){for(we=[],Ae=ct();Ae!==a;)we.push(Ae),Ae=ct();if(we!==a)if(Ae=je(),Ae!==a){for(fe=[],pt=ct();pt!==a;)fe.push(pt),pt=ct();fe!==a?(r.charCodeAt(C)===46?(pt=h,C++):(pt=a,Oe(v)),pt!==a?(ft=E,x=N(le,Ae),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;else C=E,E=a}else C=E,E=a;else C=E,E=a}else C=E,E=a;else C=E,E=a;return E}function uc(){var E,x,X,ne,le,we,Ae;for(E=C,x=[],X=ct();X!==a;)x.push(X),X=ct();if(x!==a)if(r.substr(C,5)===T?(X=T,C+=5):(X=a,Oe(j)),X!==a){for(ne=[],le=ct();le!==a;)ne.push(le),le=ct();if(ne!==a)if(le=je(),le!==a){for(we=[],Ae=ct();Ae!==a;)we.push(Ae),Ae=ct();we!==a?(r.charCodeAt(C)===46?(Ae=h,C++):(Ae=a,Oe(v)),Ae!==a?(ft=E,x=F(le),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;else C=E,E=a}else C=E,E=a;else C=E,E=a;return E}function fc(){var E,x,X,ne,le,we,Ae,fe;for(E=C,x=[],X=ct();X!==a;)x.push(X),X=ct();if(x!==a)if(q.test(r.charAt(C))?(X=r.charAt(C),C++):(X=a,Oe(k)),X!==a)if(L.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(A)),ne!==a)if(R.test(r.charAt(C))?(le=r.charAt(C),C++):(le=a,Oe(Y)),le!==a)if(z.test(r.charAt(C))?(we=r.charAt(C),C++):(we=a,Oe(ue)),we!==a){for(Ae=[],fe=ct();fe!==a;)Ae.push(fe),fe=ct();Ae!==a?(fe=je(),fe!==a?(ft=E,x=F(fe),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;else C=E,E=a;else C=E,E=a;else C=E,E=a;else C=E,E=a;return E}function ql(){var E,x,X,ne,le,we,Ae,fe,pt,dr,Ir,Br;for(E=C,x=[],X=ct();X!==a;)x.push(X),X=ct();if(x!==a)if(re.test(r.charAt(C))?(X=r.charAt(C),C++):(X=a,Oe(ee)),X!==a)if($.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(Q)),ne!==a)if(z.test(r.charAt(C))?(le=r.charAt(C),C++):(le=a,Oe(ue)),le!==a)if(pe.test(r.charAt(C))?(we=r.charAt(C),C++):(we=a,Oe(J)),we!==a)if(de.test(r.charAt(C))?(Ae=r.charAt(C),C++):(Ae=a,Oe(it)),Ae!==a)if(nt.test(r.charAt(C))?(fe=r.charAt(C),C++):(fe=a,Oe(Fe)),fe!==a){for(pt=[],dr=ct();dr!==a;)pt.push(dr),dr=ct();if(pt!==a)if(dr=Ut(),dr!==a){for(Ir=[],Br=ct();Br!==a;)Ir.push(Br),Br=ct();Ir!==a?(Br=je(),Br!==a?(ft=E,x=N(dr,Br),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;else C=E,E=a}else C=E,E=a;else C=E,E=a;else C=E,E=a;else C=E,E=a;else C=E,E=a;else C=E,E=a;else C=E,E=a;return E}function fu(){var E,x,X;return E=C,x=cc(),x!==a?(X=ai(),X!==a?(ft=E,x=ze(x,X),E=x):(C=E,E=a)):(C=E,E=a),E===a&&(E=C,x=xl(),x!==a?(X=ai(),X===a&&(X=null),X!==a?(ft=E,x=Ce(x,X),E=x):(C=E,E=a)):(C=E,E=a)),E}function ai(){var E,x,X,ne,le,we,Ae,fe,pt,dr;if(E=C,x=jl(),x!==a)if(X=Ia(),X!==a){for(ne=[],le=C,we=[],Ae=ct();Ae!==a;)we.push(Ae),Ae=ct();for(we!==a?(r.charCodeAt(C)===59?(Ae=Ee,C++):(Ae=a,Oe(Ge)),Ae!==a?(fe=C,pt=jl(),pt!==a?(dr=Ia(),dr!==a?(ft=fe,pt=Dt(x,X,pt,dr),fe=pt):(C=fe,fe=a)):(C=fe,fe=a),fe===a&&(fe=null),fe!==a?(ft=le,we=lt(x,X,fe),le=we):(C=le,le=a)):(C=le,le=a)):(C=le,le=a);le!==a;){for(ne.push(le),le=C,we=[],Ae=ct();Ae!==a;)we.push(Ae),Ae=ct();we!==a?(r.charCodeAt(C)===59?(Ae=Ee,C++):(Ae=a,Oe(Ge)),Ae!==a?(fe=C,pt=jl(),pt!==a?(dr=Ia(),dr!==a?(ft=fe,pt=Dt(x,X,pt,dr),fe=pt):(C=fe,fe=a)):(C=fe,fe=a),fe===a&&(fe=null),fe!==a?(ft=le,we=lt(x,X,fe),le=we):(C=le,le=a)):(C=le,le=a)):(C=le,le=a)}ne!==a?(ft=E,x=ge(x,X,ne),E=x):(C=E,E=a)}else C=E,E=a;else C=E,E=a;return E}function Ia(){var E,x,X,ne,le,we,Ae;if(E=C,x=si(),x!==a){for(X=[],ne=C,le=[],we=ct();we!==a;)le.push(we),we=ct();for(le!==a?(r.charCodeAt(C)===44?(we=Me,C++):(we=a,Oe(nr)),we!==a?(Ae=si(),Ae!==a?(ft=ne,le=sr(x,Ae),ne=le):(C=ne,ne=a)):(C=ne,ne=a)):(C=ne,ne=a);ne!==a;){for(X.push(ne),ne=C,le=[],we=ct();we!==a;)le.push(we),we=ct();le!==a?(r.charCodeAt(C)===44?(we=Me,C++):(we=a,Oe(nr)),we!==a?(Ae=si(),Ae!==a?(ft=ne,le=sr(x,Ae),ne=le):(C=ne,ne=a)):(C=ne,ne=a)):(C=ne,ne=a)}X!==a?(ft=E,x=xr(x,X),E=x):(C=E,E=a)}else C=E,E=a;return E}function jl(){var E,x,X;if(E=C,x=hc(),x!==a&&(ft=E,x=p(x)),E=x,E===a){for(E=C,x=[],X=ct();X!==a;)x.push(X),X=ct();x!==a?(r.charCodeAt(C)===97?(X=ur,C++):(X=a,Oe(Tr)),X!==a?(ft=E,x=fr(),E=x):(C=E,E=a)):(C=E,E=a)}return E}function cc(){var E,x;return E=C,x=cu(),x!==a&&(ft=E,x=mt(x)),E=x,E===a&&(E=$e(),E===a&&(E=Ei())),E}function hc(){var E,x,X;for(E=C,x=[],X=ct();X!==a;)x.push(X),X=ct();return x!==a?(X=Ei(),X!==a?(ft=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a),E}function si(){var E,x;return E=Gn(),E===a&&(E=C,x=cu(),x!==a&&(ft=E,x=At(x)),E=x,E===a&&(E=C,x=$e(),x!==a&&(ft=E,x=tt(x)),E=x,E===a&&(E=C,x=xl(),x!==a&&(ft=E,x=p(x)),E=x,E===a&&(E=C,x=Ei(),x!==a&&(ft=E,x=Le(x)),E=x)))),E}function Gn(){var E;return E=pc(),E===a&&(E=dc(),E===a&&(E=_c())),E}function xl(){var E,x,X,ne,le,we;for(E=C,x=[],X=ct();X!==a;)x.push(X),X=ct();if(x!==a)if(r.charCodeAt(C)===91?(X=ot,C++):(X=a,Oe(W)),X!==a)if(ne=ai(),ne!==a){for(le=[],we=ct();we!==a;)le.push(we),we=ct();le!==a?(r.charCodeAt(C)===93?(we=P,C++):(we=a,Oe(M)),we!==a?(ft=E,x=p(ne),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;else C=E,E=a;else C=E,E=a;return E}function cu(){var E,x,X,ne,le,we;for(E=C,x=[],X=ct();X!==a;)x.push(X),X=ct();if(x!==a)if(r.charCodeAt(C)===40?(X=te,C++):(X=a,Oe(De)),X!==a){for(ne=[],le=si();le!==a;)ne.push(le),le=si();if(ne!==a){for(le=[],we=ct();we!==a;)le.push(we),we=ct();le!==a?(r.charCodeAt(C)===41?(we=Be,C++):(we=a,Oe(Ve)),we!==a?(ft=E,x=kt(ne),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a}else C=E,E=a;else C=E,E=a;return E}function dc(){var E,x,X;for(E=C,x=[],X=ct();X!==a;)x.push(X),X=ct();return x!==a?(X=Pn(),X===a&&(X=vc(),X===a&&(X=Vl())),X!==a?(ft=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a),E}function pc(){var E,x,X,ne,le,we,Ae;for(E=C,x=[],X=ct();X!==a;)x.push(X),X=ct();if(x!==a)if(X=zl(),X!==a){for(ne=[],le=ct();le!==a;)ne.push(le),le=ct();ne!==a?(le=br(),le!==a?(ft=E,x=Mt(X,le),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;else C=E,E=a;if(E===a){for(E=C,x=[],X=ct();X!==a;)x.push(X),X=ct();if(x!==a)if(X=zl(),X!==a){for(ne=[],le=ct();le!==a;)ne.push(le),le=ct();if(ne!==a)if(r.substr(C,2)===St?(le=St,C+=2):(le=a,Oe(Ht)),le!==a){for(we=[],Ae=ct();Ae!==a;)we.push(Ae),Ae=ct();we!==a?(Ae=Ei(),Ae!==a?(ft=E,x=Zt(X,Ae),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;else C=E,E=a}else C=E,E=a;else C=E,E=a;if(E===a){for(E=C,x=[],X=ct();X!==a;)x.push(X),X=ct();x!==a?(X=zl(),X!==a?(ft=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a)}}return E}function _c(){var E,x,X;for(E=C,x=[],X=ct();X!==a;)x.push(X),X=ct();if(x!==a?(r.substr(C,4)===Pi?(X=Pi,C+=4):(X=a,Oe(Fs)),X!==a?(ft=E,x=Nn(),E=x):(C=E,E=a)):(C=E,E=a),E===a){for(E=C,x=[],X=ct();X!==a;)x.push(X),X=ct();x!==a?(r.substr(C,5)===Fi?(X=Fi,C+=5):(X=a,Oe(kl)),X!==a?(ft=E,x=Oi(),E=x):(C=E,E=a)):(C=E,E=a)}return E}function zl(){var E,x,X;for(E=C,x=[],X=ct();X!==a;)x.push(X),X=ct();return x!==a?(X=Hs(),X===a&&(X=$s(),X===a&&(X=Pa(),X===a&&(X=gc()))),X!==a?(ft=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a),E}function Ei(){var E,x,X;for(E=C,x=[],X=ct();X!==a;)x.push(X),X=ct();if(x!==a?(X=je(),X!==a?(ft=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a),E===a){for(E=C,x=[],X=ct();X!==a;)x.push(X),X=ct();x!==a?(X=Ie(),X!==a?(ft=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a)}return E}function Ie(){var E,x;return E=or(),E===a&&(E=C,x=_t(),x!==a&&(ft=E,x=Cl(x)),E=x),E}function $e(){var E,x,X;for(E=C,x=[],X=ct();X!==a;)x.push(X),X=ct();if(x!==a?(X=$r(),X!==a?(ft=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a),E===a){for(E=C,x=[],X=ct();X!==a;)x.push(X),X=ct();x!==a?(X=Gs(),X!==a?(ft=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a)}return E}function je(){var E,x,X,ne;if(E=C,r.charCodeAt(C)===60?(x=Os,C++):(x=a,Oe(Ls)),x!==a){for(X=[],Da.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(Ja)),ne===a&&(ne=Tt());ne!==a;)X.push(ne),Da.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(Ja)),ne===a&&(ne=Tt());X!==a?(r.charCodeAt(C)===62?(ne=Tl,C++):(ne=a,Oe(Aa)),ne!==a?(ft=E,x=Nl(X),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;return E}function _t(){var E,x,X;return E=C,x=as(),x===a&&(x=null),x!==a?(r.charCodeAt(C)===58?(X=hn,C++):(X=a,Oe(ye)),X!==a?(ft=E,x=he(x),E=x):(C=E,E=a)):(C=E,E=a),E}function Ut(){var E,x,X;return E=C,x=as(),x===a&&(x=null),x!==a?(r.charCodeAt(C)===58?(X=hn,C++):(X=a,Oe(ye)),X!==a?(ft=E,x=Te(x),E=x):(C=E,E=a)):(C=E,E=a),E}function or(){var E,x,X;return E=C,x=_t(),x!==a?(X=qi(),X!==a?(ft=E,x=xe(x,X),E=x):(C=E,E=a)):(C=E,E=a),E}function $r(){var E,x,X,ne,le,we,Ae,fe,pt,dr;if(E=C,x=C,r.substr(C,2)===qe?(X=qe,C+=2):(X=a,Oe(bt)),X!==a)if(ne=Hl(),ne===a&&(ht.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(Ct))),ne!==a){for(le=[],we=Yr();we!==a;)le.push(we),we=Yr();if(le!==a){if(we=[],Ae=C,fe=[],r.charCodeAt(C)===46?(pt=h,C++):(pt=a,Oe(v)),pt!==a)for(;pt!==a;)fe.push(pt),r.charCodeAt(C)===46?(pt=h,C++):(pt=a,Oe(v));else fe=a;if(fe!==a){if(pt=[],dr=Yr(),dr!==a)for(;dr!==a;)pt.push(dr),dr=Yr();else pt=a;pt!==a?(fe=[fe,pt],Ae=fe):(C=Ae,Ae=a)}else C=Ae,Ae=a;for(;Ae!==a;){if(we.push(Ae),Ae=C,fe=[],r.charCodeAt(C)===46?(pt=h,C++):(pt=a,Oe(v)),pt!==a)for(;pt!==a;)fe.push(pt),r.charCodeAt(C)===46?(pt=h,C++):(pt=a,Oe(v));else fe=a;if(fe!==a){if(pt=[],dr=Yr(),dr!==a)for(;dr!==a;)pt.push(dr),dr=Yr();else pt=a;pt!==a?(fe=[fe,pt],Ae=fe):(C=Ae,Ae=a)}else C=Ae,Ae=a}we!==a?(X=[X,ne,le,we],x=X):(C=x,x=a)}else C=x,x=a}else C=x,x=a;else C=x,x=a;return x!==a?E=r.substring(E,C):E=x,E}function br(){var E,x,X,ne,le,we,Ae,fe;if(E=C,r.charCodeAt(C)===64?(x=pr,C++):(x=a,Oe(Lr)),x!==a){if(X=[],Wt.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(cr)),ne!==a)for(;ne!==a;)X.push(ne),Wt.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(cr));else X=a;if(X!==a){if(ne=[],le=C,r.charCodeAt(C)===45?(we=Nr,C++):(we=a,Oe(Ot)),we!==a){if(Ae=[],hr.test(r.charAt(C))?(fe=r.charAt(C),C++):(fe=a,Oe(_r)),fe!==a)for(;fe!==a;)Ae.push(fe),hr.test(r.charAt(C))?(fe=r.charAt(C),C++):(fe=a,Oe(_r));else Ae=a;Ae!==a?(ft=le,we=mr(X,Ae),le=we):(C=le,le=a)}else C=le,le=a;for(;le!==a;)if(ne.push(le),le=C,r.charCodeAt(C)===45?(we=Nr,C++):(we=a,Oe(Ot)),we!==a){if(Ae=[],hr.test(r.charAt(C))?(fe=r.charAt(C),C++):(fe=a,Oe(_r)),fe!==a)for(;fe!==a;)Ae.push(fe),hr.test(r.charAt(C))?(fe=r.charAt(C),C++):(fe=a,Oe(_r));else Ae=a;Ae!==a?(ft=le,we=mr(X,Ae),le=we):(C=le,le=a)}else C=le,le=a;ne!==a?(ft=E,x=bn(X,ne),E=x):(C=E,E=a)}else C=E,E=a}else C=E,E=a;return E}function Vl(){var E,x,X,ne,le,we;if(E=C,x=C,X=C,sn.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(ln)),ne===a&&(ne=null),ne!==a){if(le=[],ht.test(r.charAt(C))?(we=r.charAt(C),C++):(we=a,Oe(Ct)),we!==a)for(;we!==a;)le.push(we),ht.test(r.charAt(C))?(we=r.charAt(C),C++):(we=a,Oe(Ct));else le=a;le!==a?(ne=[ne,le],X=ne):(C=X,X=a)}else C=X,X=a;return X!==a?x=r.substring(x,C):x=X,x!==a&&(ft=E,x=Li(x)),E=x,E}function vc(){var E,x,X,ne,le,we,Ae,fe;if(E=C,x=C,X=C,sn.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(ln)),ne===a&&(ne=null),ne!==a){for(le=[],ht.test(r.charAt(C))?(we=r.charAt(C),C++):(we=a,Oe(Ct));we!==a;)le.push(we),ht.test(r.charAt(C))?(we=r.charAt(C),C++):(we=a,Oe(Ct));if(le!==a)if(r.charCodeAt(C)===46?(we=h,C++):(we=a,Oe(v)),we!==a){if(Ae=[],ht.test(r.charAt(C))?(fe=r.charAt(C),C++):(fe=a,Oe(Ct)),fe!==a)for(;fe!==a;)Ae.push(fe),ht.test(r.charAt(C))?(fe=r.charAt(C),C++):(fe=a,Oe(Ct));else Ae=a;Ae!==a?(ne=[ne,le,we,Ae],X=ne):(C=X,X=a)}else C=X,X=a;else C=X,X=a}else C=X,X=a;return X!==a?x=r.substring(x,C):x=X,x!==a&&(ft=E,x=ei(x)),E=x,E}function Pn(){var E,x,X,ne,le,we,Ae,fe,pt;if(E=C,x=C,X=C,sn.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(ln)),ne===a&&(ne=null),ne!==a){if(le=C,we=[],ht.test(r.charAt(C))?(Ae=r.charAt(C),C++):(Ae=a,Oe(Ct)),Ae!==a)for(;Ae!==a;)we.push(Ae),ht.test(r.charAt(C))?(Ae=r.charAt(C),C++):(Ae=a,Oe(Ct));else we=a;if(we!==a)if(r.charCodeAt(C)===46?(Ae=h,C++):(Ae=a,Oe(v)),Ae!==a){for(fe=[],ht.test(r.charAt(C))?(pt=r.charAt(C),C++):(pt=a,Oe(Ct));pt!==a;)fe.push(pt),ht.test(r.charAt(C))?(pt=r.charAt(C),C++):(pt=a,Oe(Ct));fe!==a?(pt=Ra(),pt!==a?(we=[we,Ae,fe,pt],le=we):(C=le,le=a)):(C=le,le=a)}else C=le,le=a;else C=le,le=a;if(le===a){if(le=C,r.charCodeAt(C)===46?(we=h,C++):(we=a,Oe(v)),we!==a){if(Ae=[],ht.test(r.charAt(C))?(fe=r.charAt(C),C++):(fe=a,Oe(Ct)),fe!==a)for(;fe!==a;)Ae.push(fe),ht.test(r.charAt(C))?(fe=r.charAt(C),C++):(fe=a,Oe(Ct));else Ae=a;Ae!==a?(fe=Ra(),fe!==a?(we=[we,Ae,fe],le=we):(C=le,le=a)):(C=le,le=a)}else C=le,le=a;if(le===a){if(le=C,we=[],ht.test(r.charAt(C))?(Ae=r.charAt(C),C++):(Ae=a,Oe(Ct)),Ae!==a)for(;Ae!==a;)we.push(Ae),ht.test(r.charAt(C))?(Ae=r.charAt(C),C++):(Ae=a,Oe(Ct));else we=a;we!==a?(Ae=Ra(),Ae!==a?(we=[we,Ae],le=we):(C=le,le=a)):(C=le,le=a)}}le!==a?(ne=[ne,le],X=ne):(C=X,X=a)}else C=X,X=a;return X!==a?x=r.substring(x,C):x=X,x!==a&&(ft=E,x=on(x)),E=x,E}function Ra(){var E,x,X,ne,le,we;if(E=C,x=C,wn.test(r.charAt(C))?(X=r.charAt(C),C++):(X=a,Oe(wi)),X!==a)if(sn.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(ln)),ne===a&&(ne=null),ne!==a){if(le=[],ht.test(r.charAt(C))?(we=r.charAt(C),C++):(we=a,Oe(Ct)),we!==a)for(;we!==a;)le.push(we),ht.test(r.charAt(C))?(we=r.charAt(C),C++):(we=a,Oe(Ct));else le=a;le!==a?(X=[X,ne,le],x=X):(C=x,x=a)}else C=x,x=a;else C=x,x=a;return x!==a?E=r.substring(E,C):E=x,E}function gc(){var E,x,X,ne;if(E=C,r.charCodeAt(C)===34?(x=dn,C++):(x=a,Oe(ti)),x!==a){for(X=[],Za.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(ka)),ne===a&&(ne=Pr(),ne===a&&(ne=Tt()));ne!==a;)X.push(ne),Za.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(ka)),ne===a&&(ne=Pr(),ne===a&&(ne=Tt()));X!==a?(r.charCodeAt(C)===34?(ne=dn,C++):(ne=a,Oe(ti)),ne!==a?(ft=E,x=S(X),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;return E}function Pa(){var E,x,X,ne;if(E=C,r.charCodeAt(C)===39?(x=ri,C++):(x=a,Oe(ni)),x!==a){for(X=[],yi.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(es)),ne===a&&(ne=Pr(),ne===a&&(ne=Tt()));ne!==a;)X.push(ne),yi.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(es)),ne===a&&(ne=Pr(),ne===a&&(ne=Tt()));X!==a?(r.charCodeAt(C)===39?(ne=ri,C++):(ne=a,Oe(ni)),ne!==a?(ft=E,x=S(X),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;return E}function Hs(){var E,x,X,ne,le,we,Ae,fe;if(E=C,r.substr(C,3)===Bi?(x=Bi,C+=3):(x=a,Oe(Vn)),x!==a){for(X=[],Hn.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(ii)),ne===a&&(ne=Pr(),ne===a&&(ne=Tt()));ne!==a;)X.push(ne),Hn.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe(ii)),ne===a&&(ne=Pr(),ne===a&&(ne=Tt()));if(X!==a){if(ne=[],le=C,r.substr(C,2)===ts?(we=ts,C+=2):(we=a,Oe(Sl)),we!==a){if(Ae=[],Hn.test(r.charAt(C))?(fe=r.charAt(C),C++):(fe=a,Oe(ii)),fe===a&&(fe=Pr(),fe===a&&(fe=Tt())),fe!==a)for(;fe!==a;)Ae.push(fe),Hn.test(r.charAt(C))?(fe=r.charAt(C),C++):(fe=a,Oe(ii)),fe===a&&(fe=Pr(),fe===a&&(fe=Tt()));else Ae=a;Ae!==a?(ft=le,we=Bs(X,Ae),le=we):(C=le,le=a)}else C=le,le=a;if(le===a)if(le=C,r.charCodeAt(C)===39?(we=ri,C++):(we=a,Oe(ni)),we!==a){if(Ae=[],Hn.test(r.charAt(C))?(fe=r.charAt(C),C++):(fe=a,Oe(ii)),fe===a&&(fe=Pr(),fe===a&&(fe=Tt())),fe!==a)for(;fe!==a;)Ae.push(fe),Hn.test(r.charAt(C))?(fe=r.charAt(C),C++):(fe=a,Oe(ii)),fe===a&&(fe=Pr(),fe===a&&(fe=Tt()));else Ae=a;Ae!==a?(ft=le,we=qo(X,Ae),le=we):(C=le,le=a)}else C=le,le=a;for(;le!==a;){if(ne.push(le),le=C,r.substr(C,2)===ts?(we=ts,C+=2):(we=a,Oe(Sl)),we!==a){if(Ae=[],Hn.test(r.charAt(C))?(fe=r.charAt(C),C++):(fe=a,Oe(ii)),fe===a&&(fe=Pr(),fe===a&&(fe=Tt())),fe!==a)for(;fe!==a;)Ae.push(fe),Hn.test(r.charAt(C))?(fe=r.charAt(C),C++):(fe=a,Oe(ii)),fe===a&&(fe=Pr(),fe===a&&(fe=Tt()));else Ae=a;Ae!==a?(ft=le,we=Bs(X,Ae),le=we):(C=le,le=a)}else C=le,le=a;if(le===a)if(le=C,r.charCodeAt(C)===39?(we=ri,C++):(we=a,Oe(ni)),we!==a){if(Ae=[],Hn.test(r.charAt(C))?(fe=r.charAt(C),C++):(fe=a,Oe(ii)),fe===a&&(fe=Pr(),fe===a&&(fe=Tt())),fe!==a)for(;fe!==a;)Ae.push(fe),Hn.test(r.charAt(C))?(fe=r.charAt(C),C++):(fe=a,Oe(ii)),fe===a&&(fe=Pr(),fe===a&&(fe=Tt()));else Ae=a;Ae!==a?(ft=le,we=qo(X,Ae),le=we):(C=le,le=a)}else C=le,le=a}ne!==a?(r.substr(C,3)===Bi?(le=Bi,C+=3):(le=a,Oe(Vn)),le!==a?(ft=E,x=Il(X,ne),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a}else C=E,E=a;return E}function $s(){var E,x,X,ne,le,we,Ae,fe;if(E=C,r.substr(C,3)===Ca?(x=Ca,C+=3):(x=a,Oe(Us)),x!==a){for(X=[],un.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe($n)),ne===a&&(ne=Pr(),ne===a&&(ne=Tt()));ne!==a;)X.push(ne),un.test(r.charAt(C))?(ne=r.charAt(C),C++):(ne=a,Oe($n)),ne===a&&(ne=Pr(),ne===a&&(ne=Tt()));if(X!==a){if(ne=[],le=C,r.substr(C,2)===rs?(we=rs,C+=2):(we=a,Oe(jo)),we!==a){if(Ae=[],un.test(r.charAt(C))?(fe=r.charAt(C),C++):(fe=a,Oe($n)),fe===a&&(fe=Pr(),fe===a&&(fe=Tt())),fe!==a)for(;fe!==a;)Ae.push(fe),un.test(r.charAt(C))?(fe=r.charAt(C),C++):(fe=a,Oe($n)),fe===a&&(fe=Pr(),fe===a&&(fe=Tt()));else Ae=a;Ae!==a?(ft=le,we=Rl(X,Ae),le=we):(C=le,le=a)}else C=le,le=a;if(le===a)if(le=C,r.charCodeAt(C)===34?(we=dn,C++):(we=a,Oe(ti)),we!==a){if(Ae=[],un.test(r.charAt(C))?(fe=r.charAt(C),C++):(fe=a,Oe($n)),fe===a&&(fe=Pr(),fe===a&&(fe=Tt())),fe!==a)for(;fe!==a;)Ae.push(fe),un.test(r.charAt(C))?(fe=r.charAt(C),C++):(fe=a,Oe($n)),fe===a&&(fe=Pr(),fe===a&&(fe=Tt()));else Ae=a;Ae!==a?(ft=le,we=Pl(X,Ae),le=we):(C=le,le=a)}else C=le,le=a;for(;le!==a;){if(ne.push(le),le=C,r.substr(C,2)===rs?(we=rs,C+=2):(we=a,Oe(jo)),we!==a){if(Ae=[],un.test(r.charAt(C))?(fe=r.charAt(C),C++):(fe=a,Oe($n)),fe===a&&(fe=Pr(),fe===a&&(fe=Tt())),fe!==a)for(;fe!==a;)Ae.push(fe),un.test(r.charAt(C))?(fe=r.charAt(C),C++):(fe=a,Oe($n)),fe===a&&(fe=Pr(),fe===a&&(fe=Tt()));else Ae=a;Ae!==a?(ft=le,we=Rl(X,Ae),le=we):(C=le,le=a)}else C=le,le=a;if(le===a)if(le=C,r.charCodeAt(C)===34?(we=dn,C++):(we=a,Oe(ti)),we!==a){if(Ae=[],un.test(r.charAt(C))?(fe=r.charAt(C),C++):(fe=a,Oe($n)),fe===a&&(fe=Pr(),fe===a&&(fe=Tt())),fe!==a)for(;fe!==a;)Ae.push(fe),un.test(r.charAt(C))?(fe=r.charAt(C),C++):(fe=a,Oe($n)),fe===a&&(fe=Pr(),fe===a&&(fe=Tt()));else Ae=a;Ae!==a?(ft=le,we=Pl(X,Ae),le=we):(C=le,le=a)}else C=le,le=a}ne!==a?(r.substr(C,3)===Ca?(le=Ca,C+=3):(le=a,Oe(Us)),le!==a?(ft=E,x=Il(X,ne),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a}else C=E,E=a;return E}function Tt(){var E,x,X,ne,le,we,Ae,fe,pt,dr,Ir;return E=C,r.substr(C,2)===Fl?(x=Fl,C+=2):(x=a,Oe(xo)),x!==a?(X=C,ne=Zr(),ne!==a?(le=Zr(),le!==a?(we=Zr(),we!==a?(Ae=Zr(),Ae!==a?(fe=Zr(),fe!==a?(pt=Zr(),pt!==a?(dr=Zr(),dr!==a?(Ir=Zr(),Ir!==a?(ne=[ne,le,we,Ae,fe,pt,dr,Ir],X=ne):(C=X,X=a)):(C=X,X=a)):(C=X,X=a)):(C=X,X=a)):(C=X,X=a)):(C=X,X=a)):(C=X,X=a)):(C=X,X=a),X!==a?(ft=E,x=zf(X),E=x):(C=E,E=a)):(C=E,E=a),E===a&&(E=C,r.substr(C,2)===zo?(x=zo,C+=2):(x=a,Oe(Vf)),x!==a?(X=C,ne=Zr(),ne!==a?(le=Zr(),le!==a?(we=Zr(),we!==a?(Ae=Zr(),Ae!==a?(ne=[ne,le,we,Ae],X=ne):(C=X,X=a)):(C=X,X=a)):(C=X,X=a)):(C=X,X=a),X!==a?(ft=E,x=Vo(X),E=x):(C=E,E=a)):(C=E,E=a)),E}function Pr(){var E,x;return E=C,r.substr(C,2)===Ho?(x=Ho,C+=2):(x=a,Oe(Hf)),x!==a&&(ft=E,x=$f()),E=x,E===a&&(E=C,r.substr(C,2)===$o?(x=$o,C+=2):(x=a,Oe(Ol)),x!==a&&(ft=E,x=Gf()),E=x,E===a&&(E=C,r.substr(C,2)===Go?(x=Go,C+=2):(x=a,Oe(Xf)),x!==a&&(ft=E,x=Wf()),E=x,E===a&&(E=C,r.substr(C,2)===Xo?(x=Xo,C+=2):(x=a,Oe(Sr)),x!==a&&(ft=E,x=yr()),E=x,E===a&&(E=C,r.substr(C,2)===Wo?(x=Wo,C+=2):(x=a,Oe(Qf)),x!==a&&(ft=E,x=Yf()),E=x,E===a&&(E=C,r.substr(C,2)===Qo?(x=Qo,C+=2):(x=a,Oe(Kf)),x!==a&&(ft=E,x=Jf()),E=x,E===a&&(E=C,r.substr(C,2)===Ll?(x=Ll,C+=2):(x=a,Oe(Zf)),x!==a&&(ft=E,x=Jr()),E=x,E===a&&(E=C,r.substr(C,2)===Ms?(x=Ms,C+=2):(x=a,Oe(Ji)),x!==a&&(ft=E,x=Yo()),E=x))))))),E}function hu(){var E;return Bl.test(r.charAt(C))?(E=r.charAt(C),C++):(E=a,Oe(Sn)),E}function Gs(){var E,x,X,ne;if(E=C,r.charCodeAt(C)===91?(x=ot,C++):(x=a,Oe(W)),x!==a){for(X=[],ne=ct();ne!==a;)X.push(ne),ne=ct();X!==a?(r.charCodeAt(C)===93?(ne=P,C++):(ne=a,Oe(M)),ne!==a?(ft=E,x=Ko(),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;return E}function du(){var E,x,X;return E=C,Jo.test(r.charAt(C))?(x=r.charAt(C),C++):(x=a,Oe(Zo)),x!==a?(eu.test(r.charAt(C))?(X=r.charAt(C),C++):(X=a,Oe(tu)),X!==a?(ft=E,x=ru(x,X),E=x):(C=E,E=a)):(C=E,E=a),E===a&&(yn.test(r.charAt(C))?(E=r.charAt(C),C++):(E=a,Oe(ec))),E}function Hl(){var E;return E=du(),E===a&&(r.charCodeAt(C)===95?(E=In,C++):(E=a,Oe(tc))),E}function Yr(){var E;return E=Hl(),E===a&&(r.charCodeAt(C)===45?(E=Nr,C++):(E=a,Oe(Ot)),E===a&&(ht.test(r.charAt(C))?(E=r.charAt(C),C++):(E=a,Oe(Ct)),E===a&&(r.charCodeAt(C)===183?(E=nu,C++):(E=a,Oe(Ui)),E===a&&(qs.test(r.charAt(C))?(E=r.charAt(C),C++):(E=a,Oe(Ul)),E===a&&(Rr.test(r.charAt(C))?(E=r.charAt(C),C++):(E=a,Oe(Mi))))))),E}function as(){var E,x,X,ne,le,we,Ae,fe,pt;if(E=C,x=C,X=du(),X!==a){for(ne=[],le=Yr();le!==a;)ne.push(le),le=Yr();if(ne!==a){if(le=[],we=C,Ae=[],r.charCodeAt(C)===46?(fe=h,C++):(fe=a,Oe(v)),fe!==a)for(;fe!==a;)Ae.push(fe),r.charCodeAt(C)===46?(fe=h,C++):(fe=a,Oe(v));else Ae=a;if(Ae!==a){if(fe=[],pt=Yr(),pt!==a)for(;pt!==a;)fe.push(pt),pt=Yr();else fe=a;fe!==a?(Ae=[Ae,fe],we=Ae):(C=we,we=a)}else C=we,we=a;for(;we!==a;){if(le.push(we),we=C,Ae=[],r.charCodeAt(C)===46?(fe=h,C++):(fe=a,Oe(v)),fe!==a)for(;fe!==a;)Ae.push(fe),r.charCodeAt(C)===46?(fe=h,C++):(fe=a,Oe(v));else Ae=a;if(Ae!==a){if(fe=[],pt=Yr(),pt!==a)for(;pt!==a;)fe.push(pt),pt=Yr();else fe=a;fe!==a?(Ae=[Ae,fe],we=Ae):(C=we,we=a)}else C=we,we=a}le!==a?(X=[X,ne,le],x=X):(C=x,x=a)}else C=x,x=a}else C=x,x=a;return x!==a?E=r.substring(E,C):E=x,E}function qi(){var E,x,X,ne,le,we,Ae,fe;if(E=C,x=Hl(),x===a&&(r.charCodeAt(C)===58?(x=hn,C++):(x=a,Oe(ye)),x===a&&(ht.test(r.charAt(C))?(x=r.charAt(C),C++):(x=a,Oe(Ct)),x===a&&(x=li()))),x!==a){for(X=[],ne=Yr(),ne===a&&(r.charCodeAt(C)===58?(ne=hn,C++):(ne=a,Oe(ye)),ne===a&&(ne=li()));ne!==a;)X.push(ne),ne=Yr(),ne===a&&(r.charCodeAt(C)===58?(ne=hn,C++):(ne=a,Oe(ye)),ne===a&&(ne=li()));if(X!==a){if(ne=[],le=C,we=[],r.charCodeAt(C)===46?(Ae=h,C++):(Ae=a,Oe(v)),Ae!==a)for(;Ae!==a;)we.push(Ae),r.charCodeAt(C)===46?(Ae=h,C++):(Ae=a,Oe(v));else we=a;if(we!==a){if(Ae=[],fe=Yr(),fe===a&&(r.charCodeAt(C)===58?(fe=hn,C++):(fe=a,Oe(ye)),fe===a&&(fe=li())),fe!==a)for(;fe!==a;)Ae.push(fe),fe=Yr(),fe===a&&(r.charCodeAt(C)===58?(fe=hn,C++):(fe=a,Oe(ye)),fe===a&&(fe=li()));else Ae=a;Ae!==a?(ft=le,we=js(x,X,we,Ae),le=we):(C=le,le=a)}else C=le,le=a;for(;le!==a;){if(ne.push(le),le=C,we=[],r.charCodeAt(C)===46?(Ae=h,C++):(Ae=a,Oe(v)),Ae!==a)for(;Ae!==a;)we.push(Ae),r.charCodeAt(C)===46?(Ae=h,C++):(Ae=a,Oe(v));else we=a;if(we!==a){if(Ae=[],fe=Yr(),fe===a&&(r.charCodeAt(C)===58?(fe=hn,C++):(fe=a,Oe(ye)),fe===a&&(fe=li())),fe!==a)for(;fe!==a;)Ae.push(fe),fe=Yr(),fe===a&&(r.charCodeAt(C)===58?(fe=hn,C++):(fe=a,Oe(ye)),fe===a&&(fe=li()));else Ae=a;Ae!==a?(ft=le,we=js(x,X,we,Ae),le=we):(C=le,le=a)}else C=le,le=a}ne!==a?(ft=E,x=rc(x,X,ne),E=x):(C=E,E=a)}else C=E,E=a}else C=E,E=a;return E}function li(){var E;return E=pu(),E===a&&(E=_u()),E}function pu(){var E,x,X,ne,le;return E=C,x=C,r.charCodeAt(C)===37?(X=Ml,C++):(X=a,Oe(nc)),X!==a?(ne=Zr(),ne!==a?(le=Zr(),le!==a?(X=[X,ne,le],x=X):(C=x,x=a)):(C=x,x=a)):(C=x,x=a),x!==a?E=r.substring(E,C):E=x,E}function Zr(){var E;return ic.test(r.charAt(C))?(E=r.charAt(C),C++):(E=a,Oe(ac)),E}function _u(){var E,x,X;return E=C,r.charCodeAt(C)===92?(x=iu,C++):(x=a,Oe(xs)),x!==a?(Ta.test(r.charAt(C))?(X=r.charAt(C),C++):(X=a,Oe(sc)),X!==a?(ft=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a),E}var vu=new Function("try {return this===window;}catch(e){ return false;}"),ss=vu()?window.URL:WA.URL,$l=function(E){return E.match(/^[a-z](.*?):(.+?)/g)};function ls(E,x){var X={};return X[E]=x,X}var rr={base:[],data:{},addBase:function(E){if(rr.base.length===0){rr.base.push(E);return}const x=rr.base[rr.base.length-1];x!==E&&rr.base.push(new ss(E,x).toString())},addPrefix:function(E,x){const X=rr.data[E];X===void 0?rr.data[E]=[{uri:x,count:0}]:X[X.length-1].uri!==x&&X.push({uri:x,count:0})},hasPrefix:function(E){return this.data[E]!==void 0},resolve:function(E,x){const X=Object.keys(rr.data).find(le=>E.indexOf(le+":")===0);if(X!==void 0){const le=rr.data[X];if(le.length===1&&x!==!0&&$l(le[0].uri))return E;const we=le[le.length-1].uri;return E.replace(X+":",we)}else{var ne=rr.base.length===0?s.baseIRI:rr.base[rr.base.length-1];return!ne||E.match(/^(http:|https:|urn:|file:)/)?E:E.indexOf("//")===0&&ne?ne.split("//")[0]+E:new ss(E,ne).toString()}},increment:function(E){const x=rr.data[E];x!==void 0&&x[x.length-1].count++},decrement:function(E){const x=rr.data[E];x!==void 0&&x[x.length-1].count--},toJSON:function(){const E={};return rr.base.length>0&&(E["@context"]===void 0&&(E["@context"]={}),E["@context"]["@base"]=rr.base[0]),Object.keys(rr.data).forEach(x=>{const X=rr.data[x][0];X.uri==="http://www.w3.org/2001/XMLSchema#"&&X.count<1||$l(X.uri)&&(E["@context"]===void 0&&(E["@context"]={}),E["@context"][x]=X.uri)}),E}};function Fa(E,x){if(E["@list"]===void 0||!x&&!E["@list"].find(le=>le["@list"]!==void 0))return E;if(E["@list"].length===0)return{"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};var X={},ne=null;return E["@list"].forEach(le=>{ne===null?ne=X:(ne["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={},ne=ne["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]),ne["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"]=Fa(le,!0),ne["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}),X}if(Vs=u(),Vs!==a&&C===r.length)return Vs;throw Vs!==a&&C<r.length&&Oe(au()),lu(zs,Rn<r.length?r.charAt(Rn):null,Rn<r.length?is(Rn,Rn+1):is(Rn,Rn))}return{SyntaxError:t,parse:n}})})(U2);var WN=U2.exports;function QN(i){return new YN(i)}var YN=function(){function i(e){qr(this,i),et(this,"_notQNameChars",`	\r
 !"#$%&'()*.,+/;<=>?@[\\]^\`{|}~`),et(this,"_notNameChars",this._notQNameChars+":"),et(this,"validPrefix",new RegExp(/^[a-zA-Z][a-zA-Z0-9]*$/)),et(this,"forbidden1",new RegExp(/[\\"\b\f\r\v\t\n\u0080-\uffff]/gm)),et(this,"forbidden3",new RegExp(/[\\"\b\f\r\v\u0080-\uffff]/gm)),this.flags="",this.base=null,this.prefixes=[],this.namespaces=[];var t=Object.keys(A0());for(var n in t){var r=A0()[t[n]](""),s=t[n];this.prefixes[r]=s,this.namespaces[s]=r}this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.suggestPrefix("xml","reserved:reservedForFutureUse"),this.namespacesUsed=[],this.keywords=["a"],this.prefixchars="abcdefghijklmnopqustuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",this.incoming=null,this.formulas=[],this.store=e,this.rdfFactory=e.rdfFactory||Ti,this.xsd=B2(this.rdfFactory)}return Mr(i,[{key:"setBase",value:function(t){return this.base=t,this}},{key:"setFlags",value:function(t){return this.flags=t||"",this}},{key:"toStr",value:function(t){var n=t.toNT();return t.termType==="Graph"&&(this.formulas[n]=t),n}},{key:"fromStr",value:function(t){if(t[0]==="{"){var n=this.formulas[t];return n||console.log("No formula object for "+t),n}return this.store.fromNT(t)}},{key:"setNamespaces",value:function(t){for(var n in t)this.setPrefix(n,t[n]);return this}},{key:"setPrefix",value:function(t,n){if(t.slice(0,7)!=="default"&&t.slice(0,2)!=="ns"&&!(!t||!n)){for(var r in this.prefixes)this.prefixes[r]==t&&delete this.prefixes[r];this.prefixes[n]=t,this.namespaces[t]=n}}},{key:"suggestPrefix",value:function(t,n){t.slice(0,7)!=="default"&&t.slice(0,2)!=="ns"&&(!t||!n||t in this.namespaces||n in this.prefixes||(this.prefixes[n]=t,this.namespaces[t]=n))}},{key:"suggestNamespaces",value:function(t){for(var n in t)this.suggestPrefix(n,t[n]);return this}},{key:"checkIntegrity",value:function(){var t,n;for(t in this.namespaces)if(this.prefixes[this.namespaces[t]]!==t)throw new Error("Serializer integity error 1: "+t+", "+this.namespaces[t]+", "+this.prefixes[this.namespaces[t]]+"!");for(n in this.prefixes)if(this.namespaces[this.prefixes[n]]!==n)throw new Error("Serializer integity error 2: "+n+", "+this.prefixs[n]+", "+this.namespaces[this.prefixes[n]]+"!")}},{key:"makeUpPrefix",value:function(t){var n=t;function r(f){return!this.validPrefix.test(f)||f==="ns"||f in this.namespaces?!1:(this.prefixes[t]=f,this.namespaces[f]=t,f)}var s=r.bind(this);"#/".indexOf(n[n.length-1])>=0&&(n=n.slice(0,-1));var a=n.lastIndexOf("/");a>=0&&(n=n.slice(a+1));for(var l=0;l<n.length&&this.prefixchars.indexOf(n[l]);)l++;if(n=n.slice(0,l),n.length<6&&s(n))return n;if(s(n.slice(0,3)))return n.slice(0,3);if(s(n.slice(0,2)))return n.slice(0,2);if(s(n.slice(0,4)))return n.slice(0,4);if(s(n.slice(0,1)))return n.slice(0,1);if(s(n.slice(0,5)))return n.slice(0,5);this.validPrefix.test(n)||(n="n");for(var u=0;;u++)if(s(n.slice(0,3)+u))return n.slice(0,3)+u}},{key:"rootSubjects",value:function(t){for(var n={},r={},s={},a=0;a<t.length;a++){var l=t[a],u=function(D){n.hasOwnProperty(D)||(n[D]=[]),n[D].push(l.subject)},f=[l.subject,l.predicate,l.object];f.map(function(b){b.termType==="BlankNode"?s[b.toNT()]=!0:b.termType==="Collection"&&b.elements.forEach(function(D){u(D)})}),u(t[a].object);var h=r[this.toStr(l.subject)];h||(h=[]),h.push(l),r[this.toStr(l.subject)]=h}var v=[];for(var p in r)if(r.hasOwnProperty(p)){var d=this.fromStr(p);if(d.termType!=="BlankNode"||!n[d]||n[d].length!==1){v.push(d);continue}}this.incoming=n;for(var _={},g=0;g<v.length;g++)_[v[g].toNT()]=!0;return{roots:v,subjects:r,rootsHash:_,incoming:n}}},{key:"toN3",value:function(t){return this.statementsToN3(t.statements)}},{key:"explicitURI",value:function(t){return this.flags.indexOf("r")<0&&this.base?t=dh(this.base,t):this.flags.indexOf("u")>=0?t=JN(t):t=KN(decodeURI(t)),"<"+t+">"}},{key:"statementsToNTriples",value:function(t){var n=t.slice();n.sort();for(var r="",s="http://www.w3.org/1999/02/22-rdf-syntax-ns#",a=this,l=this.store,u=this.rdfFactory,f=function d(_){if(_.termType!=="Collection")return a.atomicTermToN3(_);for(var g=_.elements,b=l.sym(s+"nill"),D=g.length-1;D>=0;D--){var B=u.blankNode();r+=d(B)+" "+d(l.sym(s+"first"))+" "+d(g[D])+`.
`,r+=d(B)+" "+d(l.sym(s+"rest"))+" "+d(b)+`.
`,b=B}return a.atomicTermToN3(b)},h=0;h<n.length;h++){var v=n[h],p="";p+=f(v.subject)+" ",p+=f(v.predicate)+" ",p+=f(v.object)+" ",this.flags.indexOf("q")>=0&&(p+=f(v.why)+" "),p+=`.
`,r+=p}return r}},{key:"statementsToN3",value:function(t){var n=4,r=80,s=this.store,a={"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":"aaa:00"},l=function(F,q){return HN(F,q,s,a)};t.sort(l),this.base&&!this.defaultNamespace&&(this.defaultNamespace=this.base+"#");var u={};this.flags.indexOf("s")<0&&(u["http://www.w3.org/2002/07/owl#sameAs"]="="),this.flags.indexOf("t")<0&&(u["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]="a"),this.flags.indexOf("i")<0&&(u["http://www.w3.org/2000/10/swap/log#implies"]="=>");var f=function(F){for(var q="",k=0;k<F;k++)q+=" ";return q},h=function j(F){for(var q="",k=0;k<F.length;k++){var L=F[k],A=typeof L=="string"?L:j(L);if(k!==0){var R=q.slice(-1)||" ";A===","||A===";"||A==="."&&!"0123456789.:".includes(R)||(q+=" ")}q+=A}return q},v=function j(F,q){var k="",L=1e5;q===void 0&&(q=-1);for(var A=0;A<F.length;A++){var R=F[A];if(typeof R!="string"){var Y=j(R,q+1);if(Y.length<10*(r-n*q)&&Y.indexOf('"""')<0){var z=h(R);z.length<r-n*q&&(R=z,Y="")}Y&&(L=1e4),k+=Y}if(typeof R=="string"){if(R.length===1&&k.slice(-1)===`
`&&",.;".indexOf(R)>=0){k=k.slice(0,-1),R=="."&&"0123456789.:".includes(k.charAt(k.length-1))&&(k+=" ",L+=1),k+=R+`
`,L+=1;continue}if(L<n*q+4||L+R.length+1<r&&";.".indexOf(k[k.length-2])<0)k=k.slice(0,-1)+" "+R+`
`,L+=R.length+1;else{var ue=f(n*q)+R;k+=ue+`
`,L=ue.length,q<0&&(k+=`
`,L=1e5)}}}return k};function p(j){for(var F=this.rootSubjects(j),q=F.roots,k=[],L=0;L<q.length;L++){var A=q[L];k.push(_(A,F))}return k}var d=p.bind(this);function _(j,F){return j.termType==="BlankNode"&&!F.incoming[j]?B(j,F,!0).concat(["."]):[O(j,F)].concat([b(j,F)]).concat(["."])}function g(j,F){var q=[],k=null,L=F.subjects[this.toStr(j)]||[];if(typeof L>"u")throw new Error("Cant find statements for "+j);for(var A=[],R=0;R<L.length;R++){var Y=L[R];Y.predicate.uri===k?A.push(","):(k&&(q=q.concat([A]).concat([";"]),A=[]),q.push(u[Y.predicate.uri]?u[Y.predicate.uri]:O(Y.predicate,F))),k=Y.predicate.uri,A.push(B(Y.object,F))}return q=q.concat([A]),q}var b=g.bind(this);function D(j,F,q){return j.termType==="BlankNode"&&(q||F.rootsHash[j.toNT()]===void 0)?F.subjects[this.toStr(j)]?["[",b(j,F),"]"]:"[]":O(j,F)}var B=D.bind(this);function S(j,F){var q,k;switch(j.termType){case"Graph":return k=["{"],k=k.concat(d(j.statements)),k.concat(["}"]);case"Collection":for(k=["("],q=0;q<j.elements.length;q++)k.push([B(j.elements[q],F)]);return k.push(")"),k;default:return this.atomicTermToN3(j)}}i.prototype.termToN3=O;var O=S.bind(this);function y(){var j="";this.flags.indexOf("d")<0&&this.defaultNamespace&&(j+="@prefix : "+this.explicitURI(this.defaultNamespace)+`.
`);for(var F in this.prefixes)this.prefixes.hasOwnProperty(F)&&this.namespacesUsed[F]&&(j+="@prefix "+this.prefixes[F]+": "+this.explicitURI(F)+`.
`);return j+`
`}var N=y.bind(this),T=d(t);return N()+v(T)}},{key:"atomicTermToN3",value:function(t,n){switch(t.termType){case"BlankNode":case"Variable":return t.toNT();case"Literal":var r=t.value;if(typeof r!="string")throw new TypeError("Value of RDF literal node must be a string");if(t.datatype&&this.flags.indexOf("x")<0)switch(t.datatype.uri){case"http://www.w3.org/2001/XMLSchema#integer":return r;case"http://www.w3.org/2001/XMLSchema#decimal":return r.indexOf(".")<0&&(r+=".0"),r;case"http://www.w3.org/2001/XMLSchema#double":{var s=r.toLowerCase().indexOf("e")>0;return r.indexOf(".")<0&&!s&&(r+=".0"),s||(r+="e0"),r}case"http://www.w3.org/2001/XMLSchema#boolean":return t.value==="1"?"true":"false"}var a=this.stringToN3(t.value);return t.language?a+="@"+t.language:t.datatype.equals(this.xsd.string)||(a+="^^"+this.atomicTermToN3(t.datatype,n)),a;case"NamedNode":return this.symbolToN3(t);case"DefaultGraph":return"";default:throw new Error("Internal: atomicTermToN3 cannot handle "+t+" of termType: "+t.termType)}}},{key:"stringToN3",value:function(t,n){n||(n="e");var r="",s,a,l,u,f;for(t.length>20&&t.slice(-1)!=='"'&&n.indexOf("n")<0&&(t.indexOf(`
`)>0||t.indexOf('"')>0)?(u='"""',f=this.forbidden3):(u='"',f=this.forbidden1),s=0;s<t.length;){f.lastIndex=0;var h=f.exec(t.slice(s));if(h==null)break;a=s+f.lastIndex-1,r+=t.slice(s,a);var v=t[a];v==='"'&&u==='"""'&&t.slice(a,a+3)!=='"""'?r+=v:(l=`\b\f\r	\v
\\"`.indexOf(v),l>=0?r+="\\"+'bfrtvn\\"'[l]:n.indexOf("e")>=0?r+="\\u"+("000"+v.charCodeAt(0).toString(16).toLowerCase()).slice(-4):r+=v),s=a+1}return u+r+t.slice(s)+u}},{key:"symbolToN3",value:function(t){var n=t.uri,r=n.indexOf("#");if(r<0&&this.flags.indexOf("/")<0&&(r=n.lastIndexOf("/")),r>=0&&this.flags.indexOf("p")<0&&(n.indexOf("http")===0||n.indexOf("ws")===0||n.indexOf("file")===0)){for(var s=!0,a=r+1;a<n.length;a++)if(this._notNameChars.indexOf(n[a])>=0){s=!1;break}if(s){var l=n.slice(r+1),u=n.slice(0,r+1);if(this.defaultNamespace&&this.defaultNamespace===u&&this.flags.indexOf("d")<0)return this.flags.indexOf("k")>=0&&this.keyords.indexOf(l)<0?l:":"+l;var f=this.prefixes[u];if(f||(f=this.makeUpPrefix(u)),f)return this.namespacesUsed[u]=!0,f+":"+l}}return this.explicitURI(n)}},{key:"writeStore",value:function(t){var n=this.store,r=n.fetcher,s=r&&r.appNode,a=this.store.index[3];for(var l in a){var u=n.fromNT(l);s&&u.equals(s)||t(`
`+this.atomicTermToN3(u)+" "+this.atomicTermToN3(n.sym("http://www.w3.org/2000/10/swap/log#semantics"))+" { "+this.statementsToN3(n.statementsMatching(void 0,void 0,void 0,u))+` }.
`)}n.statementsMatching(void 0,n.sym("http://www.w3.org/2007/ont/link#requestedURI")).map(function(v){t(`
<`+v.object.value+`> log:metadata {
`);var p=n.statementsMatching(void 0,void 0,void 0,v.subject);t(this.statementsToN3(this.statementsToN3(p))),t(`}.
`)});var f=[];s&&f.push(s);var h=[];f.map(function(v){h=h.concat(n.statementsMatching(void 0,void 0,void 0,v))}),t(this.statementsToN3(h))}},{key:"statementsToXML",value:function(t){var n=4,r=80,s=[];s["http://www.w3.org/1999/02/22-rdf-syntax-ns#"]=!0;var a="http://www.w3.org/1999/02/22-rdf-syntax-ns#_",l=function(L){for(var A="",R=0;R<L;R++)A+=" ";return A},u=function k(L){for(var A="",R=0;R<L.length;R++){var Y=L[R],z=typeof Y=="string"?Y:k(Y);A+=z}return A},f=function k(L,A){var R="",Y,z=1e5;A||(A=0);for(var ue=0;ue<L.length;ue++){var re=L[ue];if(typeof re!="string"){var ee=k(re,A+1);ee.length<10*(r-n*A)&&ee.indexOf('"""')<0&&(Y=u(re),Y.length<r-n*A&&(re="   "+Y,ee="")),ee&&(z=1e4),R+=ee}typeof re=="string"&&(z<n*A+4?(R=R.slice(0,-1)+" "+re+`
`,z+=re.length+1):(Y=l(n*A)+re,R+=Y+`
`,z=Y.length))}return R};function h(k){this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#");for(var L=this.rootSubjects(k),A=L.roots,R=[],Y=0;Y<A.length;Y++){var z=A[Y];R.push(b(z,L))}return R}var v=h.bind(this);function p(k){return typeof k>"u"?"@@@undefined@@@@":k.replace(/[&<"]/g,function(L){switch(L[0]){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;"}})}function d(k){return p(this.base?dh(this.base,k.uri):k.uri)}var _=d.bind(this);function g(k,L){var A=[],R,Y,z,ue,re=L.subjects[this.toStr(k)];if(typeof re>"u")return S(k,L);re.sort(function(de,it){var nt=de.predicate.uri,Fe=it.predicate.uri;if(nt.substring(0,a.length)===a||Fe.substring(0,a.length)===a)return nt.localeCompare(Fe);var ze=nt.substring(a.length),Ce=Fe.substring(a.length),Ee=parseInt(ze,10),Ge=parseInt(Ce,10);return isNaN(Ee)||isNaN(Ge)||Ee!==ze||Ge!==Ce?nt.localeCompare(Fe):Ee-Ge});for(var ee=0;ee<re.length;ee++){if(z=re[ee],z.predicate.uri==="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"&&!R&&z.object.termType==="NamedNode"){R=z.object;continue}if(ue=z.predicate,ue.uri.substr(0,a.length)===a){var $=ue.uri.substr(a.length),Q=parseInt($,10);$===Q.toString()&&(ue=this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#li"))}switch(Y=y(ue),z.object.termType){case"BlankNode":L.incoming[z.object].length===1?A=A.concat(["<"+Y+' rdf:parseType="Resource">',b(z.object,L),"</"+Y+">"]):A=A.concat(["<"+Y+' rdf:nodeID="'+z.object.toNT().slice(2)+'"/>']);break;case"NamedNode":A=A.concat(["<"+Y+' rdf:resource="'+_(z.object)+'"/>']);break;case"Literal":A=A.concat(["<"+Y+(z.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+p(z.object.datatype.uri)+'"')+(z.object.language?' xml:lang="'+z.object.language+'"':"")+">"+p(z.object.value)+"</"+Y+">"]);break;case"Collection":A=A.concat(["<"+Y+' rdf:parseType="Collection">',D(z.object,L),"</"+Y+">"]);break;default:throw new Error("Can't serialize object of type "+z.object.termType+" into XML")}}var pe=R?y(R):"rdf:Description",J="";return k.termType==="BlankNode"?(!L.incoming[k]||L.incoming[k].length!==1)&&(J=' rdf:nodeID="'+k.toNT().slice(2)+'"'):J=' rdf:about="'+_(k)+'"',["<"+pe+J+">"].concat([A]).concat(["</"+pe+">"])}var b=g.bind(this);function D(k,L){for(var A=[],R=0;R<k.elements.length;R++)A.push(b(k.elements[R],L));return A}function B(k,L){var A=[],R=L.subjects[this.toStr(k)];if(!R)return A;R.sort();for(var Y=0;Y<R.length;Y++){var z=R[Y];switch(z.object.termType){case"BlankNode":L.rootsHash[z.object.toNT()]?A=A.concat(["<"+y(z.predicate)+' rdf:nodeID="'+z.object.toNT().slice(2)+'">',"</"+y(z.predicate)+">"]):A=A.concat(["<"+y(z.predicate)+' rdf:parseType="Resource">',S(z.object,L),"</"+y(z.predicate)+">"]);break;case"NamedNode":A=A.concat(["<"+y(z.predicate)+' rdf:resource="'+_(z.object)+'"/>']);break;case"Literal":A=A.concat(["<"+y(z.predicate)+(z.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+p(z.object.datatype.value)+'"')+(z.object.language?' xml:lang="'+z.object.language+'"':"")+">"+p(z.object.value)+"</"+y(z.predicate)+">"]);break;case"Collection":A=A.concat(["<"+y(z.predicate)+' rdf:parseType="Collection">',D(z.object,L),"</"+y(z.predicate)+">"]);break;default:throw new Error("Can't serialize object of type "+z.object.termType+" into XML")}}return A}var S=B.bind(this);function O(k){var L=k.uri,A=L.indexOf("#");if(A<0&&this.flags.indexOf("/")<0&&(A=L.lastIndexOf("/")),A<0)throw new Error("Cannot make qname out of <"+L+">");for(var R=A+1;R<L.length;R++)if(this._notNameChars.indexOf(L[R])>=0)throw new Error('Invalid character "'+L[R]+'" cannot be in XML qname for URI: '+L);var Y=L.slice(A+1),z=L.slice(0,A+1);if(this.defaultNamespace&&this.defaultNamespace===z&&this.flags.indexOf("d")<0)return Y;var ue=this.prefixes[z];return ue||(ue=this.makeUpPrefix(z)),s[z]=!0,ue+":"+Y}var y=O.bind(this),N=v(t),T="<rdf:RDF";this.defaultNamespace&&(T+=' xmlns="'+p(this.defaultNamespace)+'"');for(var j in s)if(s.hasOwnProperty(j)){var F=this.base&&this.flags.includes("z")?dh(this.base,j):j;T+=`
 xmlns:`+this.prefixes[j]+'="'+p(F)+'"'}T+=">";var q=[T,N,"</rdf:RDF>"];return f(q,-1)}},{key:"statementsToJsonld",value:function(t){var n=this.statementsToN3(t),r=WN.parse(n);return JSON.stringify(r,null,2)}}])}();function KN(i){return encodeURI(i)}function JN(i){for(var e="",t,n=0;n<i.length;n++)t=i.charCodeAt(n),t>65535?e+="\\U"+("00000000"+t.toString(16)).slice(-8):t>126?e+="\\u"+("0000"+t.toString(16)).slice(-4):e+=i[n];return e}function ko(i,e,t,n,r,s){t=t||(i==null?void 0:i.value);var a=s||{};n=n||bs;var l=void 0;try{var u=QN(e);a.flags&&u.setFlags(a.flags);var f=e.statementsMatching(void 0,void 0,void 0,i);switch("namespaces"in e&&u.suggestNamespaces(e.namespaces),a.namespaces&&u.setNamespaces(a.namespaces),u.setBase(t),n){case wo:return l=u.statementsToXML(f),h(null,l);case W1:case GT:return l=u.statementsToN3(f),h(null,l);case bs:case YT:return u.setFlags("si"),l=u.statementsToN3(f),h(null,l);case XT:return u.setFlags("deinprstux"),l=u.statementsToNTriples(f),h(null,l);case Mh:return u.setFlags("si dr"),l=u.statementsToJsonld(f),h(null,l);case jh:case qh:return u.setFlags("deinprstux q"),l=u.statementsToNTriples(f),h(null,l);default:throw new Error("Serialize: Content-type "+n+" not supported for data write.")}}catch(v){if(r)return r(v,void 0);throw v}function h(v,p){if(r){r(v,p);return}else return p}}var ZN=["blankNode","defaultGraph","literal","namedNode","quad","variable","supports"],Wu={first:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",rest:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",nil:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};function M2(i,e,t){var n=[];return t.reduce(function(r,s,a,l){n.push(i.quad(r,i.namedNode(Wu.first),l[a]));var u;return a<l.length-1?(u=i.blankNode(),n.push(i.quad(r,i.namedNode(Wu.rest),u))):n.push(i.quad(r,i.namedNode(Wu.rest),i.namedNode(Wu.nil))),u},e),n}function vi(i,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=i.length;for(t<0&&(t=n+t);t<n;t++)if(i[t]===e)return t;return-1}function eS(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=tS(i))||e){t&&(i=t);var n=0,r=function(){};return{s:r,n:function(){return n>=i.length?{done:!0}:{done:!1,value:i[n++]}},e:function(f){throw f},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,l;return{s:function(){t=t.call(i)},n:function(){var f=t.next();return s=f.done,f},e:function(f){a=!0,l=f},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(a)throw l}}}}function tS(i,e){if(i){if(typeof i=="string")return k0(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return k0(i,e)}}function k0(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=i[t];return n}function rS(i,e,t){return e=Kr(e),ba(i,q2()?Reflect.construct(e,t||[],Kr(i).constructor):e.apply(i,t))}function q2(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q2=function(){return!!i})()}var j2=function(i){function e(){var t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};qr(this,e),t=rS(this,e,[""]),t.statements=n,t.constraints=r,t.initBindings=s,t.optional=a,et(t,"termType",No),et(t,"classOrder",Gi.Graph),et(t,"fetcher",void 0),et(t,"isVar",0),et(t,"ns",Cn),et(t,"rdfFactory",void 0),t.rdfFactory=l&&l.rdfFactory||Ti;var u=eS(ZN),f;try{var h=function(){var p=f.value;t[p]=function(){var d;return(d=t.rdfFactory)[p].apply(d,arguments)}};for(u.s();!(f=u.n()).done;)h()}catch(v){u.e(v)}finally{u.f()}return t}return Tn(e,i),Mr(e,[{key:"add",value:function(n,r,s,a){var l=this;return arguments.length===1&&n.forEach(function(u){return l.add(u.subject,u.predicate,u.object,u.graph)}),this.statements.push(this.rdfFactory.quad(n,r,s,a))}},{key:"addStatement",value:function(n){return this.add(n)}},{key:"bnode",value:function(n){return this.rdfFactory.blankNode(n)}},{key:"addAll",value:function(n){var r=this;n.forEach(function(s){r.add(s.subject,s.predicate,s.object,s.graph)})}},{key:"any",value:function(n,r,s,a){var l=this.anyStatementMatching(n,r,s,a);return l==null?null:n==null?l.subject:r==null?l.predicate:s==null?l.object:null}},{key:"anyValue",value:function(n,r,s,a){var l=this.any(n,r,s,a);return l?l.value:void 0}},{key:"anyJS",value:function(n,r,s,a){var l=this.any(n,r,s,a);return l?Fr.toJS(l):void 0}},{key:"anyStatementMatching",value:function(n,r,s,a){var l=this.statementsMatching(n,r,s,a,!0);if(!(!l||l.length===0))return l[0]}},{key:"id",value:function(n){return this.rdfFactory.id(n)}},{key:"statementsMatching",value:function(n,r,s,a,l){var u=this.statements.filter(function(f){return(!n||n.equals(f.subject))&&(!r||r.equals(f.predicate))&&(!s||s.equals(f.object))&&(!a||a.equals(f.graph))});return l?u.length===0?[]:[u[0]]:u}},{key:"bottomTypeURIs",value:function(n){var r,s,a,l,u,f,h,v;r=[];for(var p in n)if(n.hasOwnProperty(p)){for(v=n[p],h=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),this.rdfFactory.namedNode(p)),s=!0,l=0,u=h.length;l<u;l++)if(a=h[l],f=a.uri,f in n){s=!1;break}s&&(r[p]=v)}return r}},{key:"collection",value:function(){return new $a}},{key:"each",value:function(n,r,s,a){var l=[],u=this.statementsMatching(n,r,s,a,!1);if(n==null)for(var f=0,h=u.length;f<h;f++)l.push(u[f].subject);else if(r==null)for(var v=0,p=u.length;v<p;v++)l.push(u[v].predicate);else if(s==null)for(var d=0,_=u.length;d<_;d++)l.push(u[d].object);else if(a==null)for(var g=0,b=u.length;g<b;g++)l.push(new cn(u[g].graph.value));return l}},{key:"equals",value:function(n){return n?this.hashString()===n.hashString():!1}},{key:"findMembersNT",value:function(n){var r,s,a,l,u,f,h,v,p,d,_,g,b,D;g={},g[n.toNT()]=!0,l={},f=this.transitiveClosure(g,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0);for(var B in f)if(f.hasOwnProperty(B)){h=this.statementsMatching(void 0,this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.fromNT(B));for(var S=0,O=h.length;S<O;S++)b=h[S],l[b.subject.toNT()]=b;v=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"),this.fromNT(B));for(var y=0,N=v.length;y<N;y++)for(u=v[y],p=this.statementsMatching(void 0,u),a=0,r=p.length;a<r;a++)b=p[a],l[b.subject.toNT()]=b;d=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"),this.fromNT(B));for(var T=0,j=d.length;T<j;T++)for(u=d[T],_=this.statementsMatching(void 0,u),D=0,s=_.length;D<s;D++)b=_[D],l[b.object.toNT()]=b}return l}},{key:"findMemberURIs",value:function(n){return this.NTtoURI(this.findMembersNT(n))}},{key:"findSubClassesNT",value:function(n){var r={};return r[n.toNT()]=!0,this.transitiveClosure(r,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0)}},{key:"findSuperClassesNT",value:function(n){var r={};return r[n.toNT()]=!0,this.transitiveClosure(r,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypesNT",value:function(n){var r,s,a,l,u,f,h,v,p;a="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",p=[],l=this.statementsMatching(n,void 0,void 0);for(var d=0,_=l.length;d<_;d++)if(v=l[d],v.predicate.uri===a)p[v.object.toNT()]=v;else{u=this.each(v.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"));for(var g=0,b=u.length;g<b;g++)s=u[g],p[s.toNT()]=v}f=this.statementsMatching(void 0,void 0,n);for(var D=0,B=f.length;D<B;D++){v=f[D],h=this.each(v.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"));for(var S=0,O=h.length;S<O;S++)r=h[S],p[r.toNT()]=v}return this.transitiveClosure(p,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypeURIs",value:function(n){return this.NTtoURI(this.findTypesNT(n))}},{key:"connectedStatements",value:function(n,r,s){s=s||[];for(var a=[n],l={},u={},f=[],h=this,v=function(d){var _=function(D){D.termType==="BlankNode"&&!l[D.value]&&(l[D.value]=!0,a.push(D))},g=h.statementsMatching(null,null,d,r).concat(h.statementsMatching(d,null,null,r));g=g.filter(function(b){if(s[b.predicate.value])return!1;var D=b.toNT();return u[D]?!1:(u[D]=!0,!0)}),g.forEach(function(b){_(b.subject),_(b.object)}),f=f.concat(g)};a.length;)v(a.shift());return f}},{key:"formula",value:function(n){return new e}},{key:"fromNT",value:function(n){var r,s,a;switch(n[0]){case"<":return this.sym(n.slice(1,-1));case'"':if(a=void 0,r=void 0,s=n.lastIndexOf('"'),s<n.length-1)if(n[s+1]==="@")a=n.slice(s+2);else if(n.slice(s+1,s+3)==="^^")r=this.fromNT(n.slice(s+3));else throw new Error("Can't convert string from NT: "+n);return n=n.slice(1,s),n=n.replace(/\\"/g,'"'),n=n.replace(/\\n/g,`
`),n=n.replace(/\\\\/g,"\\"),this.rdfFactory.literal(n,a||r);case"_":return this.rdfFactory.blankNode(n.slice(2));case"?":return new ks(n.slice(1))}throw new Error("Can't convert from NT: "+n)}},{key:"holds",value:function(n,r,s,a){var l;if(arguments.length===1){if(!n)return!0;if(n instanceof Array){for(l=0;l<n.length;l++)if(!this.holds(n[l]))return!1;return!0}else{if(JT(n))return this.holds(n.subject,n.predicate,n.object,n.graph);if(n.statements)return this.holds(n.statements)}}var u=this.anyStatementMatching(n,r,s,a);return u!=null}},{key:"holdsStatement",value:function(n){return this.holds(n.subject,n.predicate,n.object,n.graph)}},{key:"list",value:function(n,r){if(r.rdfFactory.supports.COLLECTIONS){var s=r.rdfFactory.collection();return n.forEach(function(u){s.append(u)}),s}else{var a=r.rdfFactory.blankNode(),l=M2(r.rdfFactory,a,n);return r.addAll(l),a}}},{key:"NTtoURI",value:function(n){var r,s,a={};for(r in n)n.hasOwnProperty(r)&&(s=n[r],r[0]==="<"&&(a[r.slice(1,-1)]=s));return a}},{key:"serialize",value:function(n,r,s,a){return ko(s,this,n,r,void 0,a)}},{key:"substitute",value:function(n){var r=this.statements.map(function(a){return a.substitute(n)}),s=new e;return s.addAll(r),s}},{key:"sym",value:function(n,r){if(r)throw new Error("This feature (kb.sym with 2 args) is removed. Do not assume prefix mappings.");return this.rdfFactory.namedNode(n)}},{key:"the",value:function(n,r,s,a){var l=this.any(n,r,s,a);return l}},{key:"transitiveClosure",value:function(n,r,s){var a,l,u,f,h,v,p={};Object.assign(p,n);for(var d={};;){if(v=function(){for(var _ in p)if(p.hasOwnProperty(_))return _}(),v==null)return d;for(h=s?this.each(void 0,r,this.fromNT(v)):this.each(this.fromNT(v),r),l=0,u=h.length;l<u;l++)a=h[l],f=a.toNT(),!(f in d)&&(f in p||(p[f]=p[v]));d[v]=p[v],delete p[v]}}},{key:"topTypeURIs",value:function(n){var r,s,a,l,u,f,h,v;h=[];for(a in n)if(n.hasOwnProperty(a)){for(v=n[a],u=0,f=this.each(this.rdfFactory.namedNode(a),this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf")),r=0,l=f.length;r<l;r++)if(s=f[r],s.uri!=="http://www.w3.org/2000/01/rdf-schema#Resource"){u++;break}u||(h[a]=v)}return h["http://www.w3.org/2000/01/rdf-schema#Resource"]&&delete h["http://www.w3.org/2000/01/rdf-schema#Resource"],h["http://www.w3.org/2002/07/owl#Thing"]&&delete h["http://www.w3.org/2002/07/owl#Thing"],h}},{key:"toString",value:function(){return"{"+this.statements.join(`
`)+"}"}},{key:"variable",value:function(n){return new ks(n)}},{key:"whether",value:function(n,r,s,a){return this.statementsMatching(n,r,s,a,!1).length}}])}(Fr);Fr.fromValue=e2;var al={xsd:Cn("http://www.w3.org/2001/XMLSchema#")};Fr.toJS=function(i){return ud(i)?i.elements.map(Fr.toJS):Y1(i)?i.datatype.equals(al.xsd("boolean"))?i.value==="1"||i.value==="true":i.datatype.equals(al.xsd("dateTime"))||i.datatype.equals(al.xsd("date"))?new Date(i.value):i.datatype.equals(al.xsd("integer"))||i.datatype.equals(al.xsd("float"))||i.datatype.equals(al.xsd("decimal"))?Number(i.value):i.value:i};var nS=Mr(function i(e,t){qr(this,i),this.pat=new Fo,this.vars=[],this.name=e,this.id=t});function C0(i,e,t,n){function r(y){var N="",T;for(T in y)y.hasOwnProperty(T)&&(N+="    "+T+" -> "+y[T]);return N}function s(y){var N="Bindings: ",T,j=y.length;for(T=0;T<j;T++)N+=r(y[T][0])+`;
	`;return N}function a(y,N,T,j){var F=T[y];if(F===void 0){if(y.isVar){var q=[];return q[y]=N,[[q,null]]}F=y}if(!F.complexType)return j.redirections[F]&&(F=j.redirections[F]),j.redirections[N]&&(N=j.redirections[N]),F.equals(N)||F.uri&&F.uri===yo?[[[],null]]:[];if(y instanceof Array)return N instanceof Array?l(y,N,T):[];throw new Error("query.js: oops - code not written yet")}function l(y,N,T,j){var F;if(y.length!==N.length)return[];if(!y.length)return[[[],null]];var q=a(y[0],N[0],T,j);if(q.length===0)return q;var k=[],L,A=q.length,R,Y,z,ue,re,ee;for(L=0;L<A;L++){R=q[L][0],ee=[];for(ue in R)R.hasOwnProperty(ue)&&(ee[ue]=R[ue]);for(ue in T)T.hasOwnProperty(ue)&&(ee[ue]=T[ue]);for(F=l(y.slice(1),N.slice(1),ee,j),z=F.length,Y=0;Y<z;Y++){re=F[Y][0];for(ue in R)R.hasOwnProperty(ue)&&(re[ue]=R[ue]);k.push([re,null])}}return k}function u(y,N){var T=N[y];return T===void 0?y:T}function f(y,N){var T={},j;for(j in y)y.hasOwnProperty(j)&&(T[j]=y[j]);for(j in N)N.hasOwnProperty(j)&&(T[j]=N[j]);return T}function h(y,N){return this.trunkBindings=N,this.originalCallback=y,this.branches=[],this}h.prototype.checkAllDone=function(){var y;for(y=0;y<this.branches.length;y++)if(!this.branches[y].done)return;this.doCallBacks(this.branches.length-1,this.trunkBindings)},h.prototype.doCallBacks=function(y,N){var T;if(y<0)return this.originalCallback(N);for(T=0;T<this.branches[y].results.length;T++)this.doCallBacks(y-1,f(N,this.branches[y].results[T]))};function v(y,N){return this.count=0,this.success=!1,this.done=!1,this.callback=y,this.onDone=N,this}v.prototype.reportMatch=function(y){this.callback(y),this.success=!0},v.prototype.reportDone=function(){this.done=!0,this.onDone!==void 0&&this.onDone()};var p=function(N){return this.count=0,this.done=!1,this.results=[],this.junction=N,N.branches.push(this),this};p.prototype.reportMatch=function(y){this.results.push(y)},p.prototype.reportDone=function(){Vi.debug("Optional branch finished - results.length = "+this.results.length),this.results.length===0&&this.results.push({}),this.done=!0,this.junction.checkAllDone()};function d(y,N,T){var j,F,q,k;for(N.nvars=0,N.index=null,j=[N.subject,N.predicate,N.object,N.why],k=[y.subjectIndex,y.predicateIndex,y.objectIndex,y.whyIndex],q=0;q<4;q++){var L=j[q];if(!(L.uri&&L.uri===yo))if(L.isVar&&T[L]===void 0)N.nvars++;else{if(L=u(j[q],T),y.redirections[y.id(L)]&&(L=y.redirections[y.id(L)]),F=k[q][y.id(L)],!F)return N.index=[],!1;(N.index===null||N.index.length>F.length)&&(N.index=F)}}return N.index===null&&(N.index=y.statements),!0}function _(y,N){return y.nvars!==N.nvars?y.nvars-N.nvars:y.index.length-N.index.length}var g=0,b=function y(N,T,j,F,q,k,L){Vi.debug("Match begins, Branch count now: "+L.count+" for "+L.pattern_debug);var A=T.statements;if(A.length===0){if(Vi.debug("FOUND MATCH WITH BINDINGS:"+r(j)),T.optional.length===0)L.reportMatch(j);else{Vi.debug("OPTIONAL: "+T.optional);var R=new h(e,j),Y=[],z;for(z=0;z<T.optional.length;z++)Y[z]=new p(R),Y[z].pattern_debug=T.optional[z];for(z=0;z<T.optional.length;z++)Y[z].count=Y[z].count+1,y(N,T.optional[z],j,"",q,e,Y[z])}L.count--,Vi.debug("Match ends -- success , Branch count now: "+L.count+" for "+L.pattern_debug);return}var ue,re,ee=A.length;if(q){var $="match"+g++,Q=function(J,de){var it=J.uri.split("#")[0];q.nowOrWhenFetched(it,void 0,function(nt,Fe,ze){nt||console.log("Error following link to <"+J.uri+"> in query: "+Fe),y(N,T,j,F,q,k,L)})};for(re=0;re<ee;re++){if(ue=A[re],j[ue.subject]!==void 0&&j[ue.subject].uri&&q&&q.getState(cl(j[ue.subject].uri))==="unrequested"){Q(j[ue.subject],$);return}if(j[ue.object]!==void 0&&j[ue.object].uri&&q&&q.getState(cl(j[ue.object].uri))==="unrequested"){Q(j[ue.object],$);return}}}B(N,T,j,F,q,k,L)},D=function(N,T){var j=!0,F,q;for(F in N)N.hasOwnProperty(F)&&T[F]&&(q=T[F].test,q&&!q(N[F])&&(j=!1));return j},B=function(N,T,j,F,q,k,L){var A=T.statements,R=A.length,Y,z,ue,re,ee,$,Q;for(Y=0;Y<R;Y++)Q=A[Y],d(N,Q,j);A.sort(_),Q=A[0];var pe=N.formula();pe.optional=T.optional,pe.constraints=T.constraints,pe.statements=A.slice(1),Vi.debug(F+"match2 searching "+Q.index.length+" for "+Q+"; bindings so far="+r(j));var J,de=Q.index.length,it,nt;for(J=0;J<de;J++)for(nt=Q.index[J],it=l([Q.subject,Q.predicate,Q.object,Q.why],[nt.subject,nt.predicate,nt.object,nt.why],j,N),Vi.info(F+" From first: "+it.length+": "+s(it)),ue=it.length,z=0;z<ue;z++)if(ee=[],$=it[z][0],!D($,T.constraints))Vi.debug("Branch count CS: "+L.count);else{for(re in $)$.hasOwnProperty(re)&&(ee[re]=$[re]);for(re in j)j.hasOwnProperty(re)&&(ee[re]=j[re]);L.count++,b(N,pe,ee,F+"  ",q,k,L)}L.count--,Vi.debug("Match2 ends, Branch count: "+L.count+" for "+L.pattern_debug),L.count===0&&L.reportDone()},S=this;Vi.debug("Query on "+this.statements.length);var O=new v(e,n);O.count++,i.sync?b(S,i.pat,i.pat.initBindings,"",t,e,O):setTimeout(function(){b(S,i.pat,i.pat.initBindings,"",t,e,O)},0)}function T0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function oo(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?T0(Object(t),!0).forEach(function(n){et(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):T0(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function iS(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=aS(i))||e){t&&(i=t);var n=0,r=function(){};return{s:r,n:function(){return n>=i.length?{done:!0}:{done:!1,value:i[n++]}},e:function(f){throw f},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,l;return{s:function(){t=t.call(i)},n:function(){var f=t.next();return s=f.done,f},e:function(f){a=!0,l=f},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(a)throw l}}}}function aS(i,e){if(i){if(typeof i=="string")return N0(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return N0(i,e)}}function N0(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=i[t];return n}function sS(i,e,t){return e=Kr(e),ba(i,x2()?Reflect.construct(e,t||[],Kr(i).constructor):e.apply(i,t))}function x2(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x2=function(){return!!i})()}var vh="http://www.w3.org/2002/07/owl#";function lS(i,e,t,n){var r=i.any(e,t,void 0);return r?(i.equate(r,n),!0):!1}function oS(i,e,t,n){var r=i.any(void 0,t,n);return r?(i.equate(r,e),!0):!1}function z2(i,e,t,n,r){i.typeCallback&&i.typeCallback(i,n,r);var s=i.classActions[i.id(n)],a=!1;if(s)for(var l=0;l<s.length;l++)a=a||s[l](i,e,t,n,r);return a}var Fo=function(i){function e(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return qr(this,e),n=sS(this,e,[void 0,void 0,void 0,void 0,r]),et(n,"updater",void 0),et(n,"namespaces",void 0),et(n,"classActions",void 0),et(n,"propertyActions",void 0),et(n,"redirections",void 0),et(n,"aliases",void 0),et(n,"HTTPRedirects",void 0),et(n,"subjectIndex",void 0),et(n,"predicateIndex",void 0),et(n,"objectIndex",void 0),et(n,"whyIndex",void 0),et(n,"index",void 0),et(n,"features",void 0),et(n,"_universalVariables",void 0),et(n,"_existentialVariables",void 0),et(n,"rdfArrayRemove",void 0),et(n,"dataCallbacks",void 0),n.propertyActions={},n.classActions={},n.redirections=[],n.aliases=[],n.HTTPRedirects=[],n.subjectIndex=[],n.predicateIndex=[],n.objectIndex=[],n.whyIndex=[],n.index=[n.subjectIndex,n.predicateIndex,n.objectIndex,n.whyIndex],n.namespaces={},n.features=t||[],n.rdfArrayRemove=r.rdfArrayRemove||$N,r.dataCallback&&(n.dataCallbacks=[r.dataCallback]),n.initPropertyActions(n.features),n}return Tn(e,i),Mr(e,[{key:"substitute",value:function(n){var r=this.statements.map(function(a){return a.substitute(n)}),s=new e;return s.add(r),s}},{key:"addDataCallback",value:function(n){this.dataCallbacks||(this.dataCallbacks=[]),this.dataCallbacks.push(n)}},{key:"applyPatch",value:function(n,r,s){var a=this,l,u=null;function f(p){if(n.delete){l=n.delete,u&&(l=l.substitute(u)),l=l.statements;var d=[],_=l.map(function(g){var b=a.statementsMatching(g.subject,g.predicate,g.object,r);return b.length===0?(d.push(g),null):b[0]});if(d.length)return s("Could not find to delete: "+d.join(`
 or `));_.map(function(g){a.remove(g)})}n.insert&&(l=n.insert,u&&(l=l.substitute(u)),l=l.statements,l.map(function(g){g.graph=r,a.add(g.subject,g.predicate,g.object,g.graph)})),p()}if(n.where){var h=new nS("patch");h.pat=n.where,h.pat.statements.map(function(p){p.graph=sb(r.value)}),h.sync=!0;var v=[];a.query(h,function(d){v.push(d)},a.fetcher,function(){if(v.length===0)return s("No match found to be patched:"+n.where);if(v.length>1)return s("Patch ambiguous. No patch done.");u=v[0],f(s)})}else f(s)}},{key:"declareExistential",value:function(n){return this._existentialVariables||(this._existentialVariables=[]),this._existentialVariables.push(n),n}},{key:"initPropertyActions",value:function(n){this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))]=[z2],vi(n,"sameAs")>=0&&(this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(vh,"sameAs")))]=[function(r,s,a,l,u){return r.equate(s,l),!0}]),vi(n,"InverseFunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(vh,"InverseFunctionalProperty")))]=[function(r,s,a,l,u){return r.newPropertyAction(s,oS)}]),vi(n,"FunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(vh,"FunctionalProperty")))]=[function(r,s,a,l,u){return r.newPropertyAction(s,lS)}])}},{key:"addStatement",value:function(n){return this.add(n.subject,n.predicate,n.object,n.graph),this.statements.length}},{key:"add",value:function(n,r,s,a){var l;if(arguments.length===1){if(n instanceof Array)for(l=0;l<n.length;l++)this.add(n[l]);else ul(n)?this.add(n.subject,n.predicate,n.object,n.graph):t0(n)&&this.add(n.statements);return this}var u,f;a||(a=this.fetcher?this.fetcher.appNode:this.rdfFactory.defaultGraph()),typeof n=="string"&&(n=this.rdfFactory.namedNode(n)),r=Fr.fromValue(r);var h=Fr.fromValue(s);if(a=Fr.fromValue(a),!eN(n))throw new Error("Subject is not a subject type");if(!tN(r))throw new Error("Predicate ".concat(r," is not a predicate type"));if(!ZT(h))throw new Error("Object ".concat(h," is not an object type"));if(!nN(a))throw new Error("Why is not a graph type");this.predicateCallback&&this.predicateCallback(this,r,a);var v=this.id(this.canon(r));u=this.propertyActions[v];var p=!1;if(u)for(l=0;l<u.length;l++)p=p||u[l](this,n,r,h,a);if(this.holds(n,r,h,a))return null;var d=[this.id(this.canon(n)),v,this.id(this.canon(h)),this.id(this.canon(a))];for(f=this.rdfFactory.quad(n,r,h,a),l=0;l<4;l++){var _=this.index[l],g=d[l];_[g]||(_[g]=[]),_[g].push(f)}if(this.statements.push(f),this.dataCallbacks){var b=iS(this.dataCallbacks),D;try{for(b.s();!(D=b.n()).done;){var B=D.value;B(f)}}catch(S){b.e(S)}finally{b.f()}}return f}},{key:"canon",value:function(n){if(!n)return n;var r=this.redirections[this.id(n)];if(r)return r;switch(n.termType){case Ss:return new Xi(n.value);case Qa:return n;case As:return new fd;case X1:return n;case No:return n;case wl:return new Hi(n.value,n.language,n.datatype);case Ns:return new cn(n.value);case Wa:return new ks(n.value);default:throw new Error("Term Type not recognized for canonization: ".concat(n.termType))}}},{key:"check",value:function(){this.checkStatementList(this.statements);for(var n=0;n<4;n++){var r=this.index[n];for(var s in r)r.hasOwnProperty(s)&&this.checkStatementList(r[s],n)}}},{key:"checkStatementList",value:function(n,r){r===void 0&&(r=0);for(var s=["subject","predicate","object","why"],a=" found in "+s[r]+" index.",l,u=0;u<n.length;u++){l=n[u];for(var f=[l.subject,l.predicate,l.object,l.graph],h=function(g,b){for(var D=0;D<g.length;D++)if(g[D].subject.equals(b.subject)&&g[D].predicate.equals(b.predicate)&&g[D].object.equals(b.object)&&g[D].why.equals(b.graph))return!0},v=0;v<4;v++){var p=this.canon(f[v]),d=this.id(p);this.index[v][d]&&h(this.index[v][d],l)}if(!h(this.statements,l))throw new Error("Statement list does not statement "+l+"@"+l.graph+a)}}},{key:"close",value:function(){return this}},{key:"compareTerms",value:function(n,r){return Object.prototype.hasOwnProperty.call(n,"compareTerm")?n.compareTerm(r):Gi[n.termType]<Gi[r.termType]?-1:Gi[n.termType]>Gi[r.termType]?1:n.value<r.value?-1:n.value>r.value?1:0}},{key:"copyTo",value:function(n,r,s){s||(s=[]);var a=this.statementsMatching(n);vi(s,"two-direction")!==-1&&a.concat(this.statementsMatching(void 0,void 0,n));for(var l=0;l<a.length;l++){var u=a[l];switch(u.object.termType){case"NamedNode":this.add(r,u.predicate,u.object);break;case"Literal":case"BlankNode":case"Collection":this.add(r,u.predicate,u.object.copy(this))}vi(s,"delete")!==-1&&this.remove(u)}}},{key:"equate",value:function(n,r){var s=this.canon(n),a=this.canon(r),l=this.compareTerms(s,a);return l?l<0?this.replaceWith(a,s):this.replaceWith(s,a):!0}},{key:"formula",value:function(n){return new e(n)}},{key:"length",get:function(){return this.statements.length}},{key:"match",value:function(n,r,s,a){return this.statementsMatching(Fr.fromValue(n),Fr.fromValue(r),Fr.fromValue(s),Fr.fromValue(a))}},{key:"mentionsURI",value:function(n){var r="<"+n+">";return!!this.subjectIndex[r]||!!this.objectIndex[r]||!!this.predicateIndex[r]}},{key:"newExistential",value:function(n){if(!n)return this.bnode();var r=this.sym(n);return this.declareExistential(r)}},{key:"newPropertyAction",value:function(n,r){var s=this.id(n);this.propertyActions[s]||(this.propertyActions[s]=[]),this.propertyActions[s].push(r);for(var a=this.statementsMatching(void 0,n,void 0),l=!1,u=0;u<a.length;u++)l=l||r(this,a[u].subject,n,a[u].object);return l}},{key:"newUniversal",value:function(n){var r=this.sym(n);return this._universalVariables||(this._universalVariables=[]),this._universalVariables.push(r),r}},{key:"variable",value:function(n){return new ks(n)}},{key:"nextSymbol",value:function(n){for(var r=0;;r++){var s=n.value+"#n"+r;if(!this.mentionsURI(s))return this.sym(s)}}},{key:"query",value:function(n,r,s,a){return C0.call(this,n,r,s,a)}},{key:"querySync",value:function(n){var r=[];function s(u){r.push(u)}function a(){l=!0}var l=!1;if(n.sync=!0,C0.call(this,n,s,null,a),!l)throw new Error("Sync query should have called done function");return r}},{key:"remove",value:function(n){if(n instanceof Array){for(var r=0;r<n.length;r++)this.remove(n[r]);return this}if(t0(n))return this.remove(n.statements);var s=this.statementsMatching(n.subject,n.predicate,n.object,n.graph);if(!s.length)throw new Error("Statement to be removed is not on store: "+n);return this.removeStatement(s[0]),this}},{key:"removeDocument",value:function(n){this.removeMetadata(n);for(var r=this.statementsMatching(void 0,void 0,void 0,n).slice(),s=0;s<r.length;s++)this.removeStatement(r[s]);return this.removeMatches(n,null,null),this}},{key:"removeMetadata",value:function(n){for(var r=this.sym("chrome://TheCurrentSession"),s="http://www.w3.org/2007/ont/link#",a=this.statementsMatching(void 0,this.sym("".concat(s,"requestedURI")),this.rdfFactory.literal(n.value),r).map(function(d){return d.subject}),l=0;l<a.length;l++){var u=a[l];if(u!=null){var f=void 0,h=this.any(u,this.sym("".concat(s,"status")),null,r);if(h!=null){f=this.statementsMatching(h,this.sym("".concat(s,"status")),null,r).slice();for(var v=0;v<f.length;v++)this.removeStatement(f[v])}var p=this.any(u,this.sym("".concat(s,"response")),null,r);if(p!=null){f=this.statementsMatching(p,null,null,r).slice();for(var v=0;v<f.length;v++)this.removeStatement(f[v])}f=this.statementsMatching(u,null,null,r).slice();for(var v=0;v<f.length;v++)this.removeStatement(f[v])}}return this.removeMatches(this.sym(n.value),null,null,r),this}},{key:"removeMany",value:function(n,r,s,a,l){for(var u=this.statementsMatching(n,r,s,a,!1),f=[],h=0;h<u.length;h++)f.push(u[h]);for(l&&(f=f.slice(0,l)),h=0;h<f.length;h++)this.remove(f[h])}},{key:"removeMatches",value:function(n,r,s,a){return this.removeMany(n,r,s,a),this}},{key:"removeStatement",value:function(n){for(var r=[n.subject,n.predicate,n.object,n.graph],s=0;s<4;s++){var a=this.canon(r[s]),l=this.id(a);this.index[s][l]&&this.rdfArrayRemove(this.index[s][l],n)}return this.rdfArrayRemove(this.statements,n),this}},{key:"removeStatements",value:function(n){for(var r=0;r<n.length;r++)this.remove(n[r]);return this}},{key:"replaceWith",value:function(n,r){for(var s=this.id(n),a=this.id(r),l=function(h){var v=h[s];if(v){var p=h[a];p?h[a]=v.concat(p):h[a]=v,delete h[s]}},u=0;u<4;u++)l(this.index[u]);if(this.redirections[s]=r,n.value){if(this.aliases[a]||(this.aliases[a]=[]),this.aliases[a].push(n),this.aliases[s])for(u=0;u<this.aliases[s].length;u++)this.redirections[this.id(this.aliases[s][u])]=r,this.aliases[a].push(this.aliases[s][u]);this.add(r,this.sym("http://www.w3.org/2007/ont/link#uri"),n),this.fetcher&&this.fetcher.nowKnownAs(n,r)}return l(this.classActions),l(this.propertyActions),!0}},{key:"allAliases",value:function(n){var r=this.aliases[this.id(this.canon(n))]||[];return r.push(this.canon(n)),r}},{key:"sameThings",value:function(n,r){if(n.equals(r))return!0;var s=this.canon(n);if(!s)return!1;var a=this.canon(r);return a?s.value===a.value:!1}},{key:"setPrefixForURI",value:function(n,r){if(!(n==="tab"&&this.namespaces.tab)&&!(n.slice(0,2)==="ns"||n.slice(0,7)==="default")){for(var s in this.namespaces)this.namespaces[s]==r&&delete this.namespaces[s];this.namespaces[n]=r}}},{key:"statementsMatching",value:function(n,r,s,a,l){var u=[n,r,s,a],f=[],h=[],v=[],p,d;for(p=0;p<4;p++)f[p]=this.canon(Fr.fromValue(u[p])),f[p]&&(v.push(p),h[p]=this.id(f[p]));if(v.length===0)return this.statements;if(v.length===1)return p=v[0],d=this.index[p][h[p]],d&&l&&d.length>1&&(d=d.slice(0,1)),d=d||[],d;var _=1e10,g,b;for(b=0;b<v.length;b++){if(p=v[b],d=this.index[p][h[p]],!d)return[];d.length<_&&(_=d.length,g=b)}for(var D=v[g],B=this.index[D][h[D]],S=v.slice(0,g).concat(v.slice(g+1)),O=[],y=["subject","predicate","object","why"],N=0;N<B.length;N++){var T=B[N];for(b=0;b<S.length;b++)if(p=S[b],!this.canon(T[y[p]]).equals(f[p])){T=null;break}if(T!=null&&(O.push(T),l))break}return O}},{key:"uris",value:function(n){var r=this.canon(n),s=this.aliases[this.id(r)];if(!r.value)return[];var a=[r.value];if(s)for(var l=0;l<s.length;l++)a.push(s[l].uri);return a}},{key:"serialize",value:function(n,r,s,a){var l,u=(l=a)!==null&&l!==void 0&&l.namespaces?oo(oo({},this.namespaces),a.namespaces):oo({},this.namespaces);return a=oo(oo({},a||{}),{},{namespaces:u}),ko(s,this,n,r,void 0,a)}}],[{key:"defaultGraphURI",get:function(){return yo}}])}(j2);et(Fo,"handleRDFType",void 0);Fo.handleRDFType=z2;function bo(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=uS(i))||e){t&&(i=t);var n=0,r=function(){};return{s:r,n:function(){return n>=i.length?{done:!0}:{done:!1,value:i[n++]}},e:function(f){throw f},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,l;return{s:function(){t=t.call(i)},n:function(){var f=t.next();return s=f.done,f},e:function(f){a=!0,l=f},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(a)throw l}}}}function uS(i,e){if(i){if(typeof i=="string")return S0(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return S0(i,e)}}function S0(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=i[t];return n}var gs=Cn("http://www.w3.org/1999/02/22-rdf-syntax-ns#");function fS(i,e,t,n){var r=bo(i.statementsMatching(t,null,null,n)),s;try{for(r.s();!(s=r.n()).done;){var a=s.value,l=new ws(e,a.predicate,a.object,n);i.remove(a),i.add(l)}}catch(_){r.e(_)}finally{r.f()}var u=bo(i.statementsMatching(null,t,null,n)),f;try{for(u.s();!(f=u.n()).done;){var h=f.value;i.remove(h),i.add(new ws(h.subject,e,h.object,n))}}catch(_){u.e(_)}finally{u.f()}var v=bo(i.statementsMatching(null,null,t,n)),p;try{for(v.s();!(p=v.n()).done;){var d=p.value;i.remove(d),i.add(new ws(d.subject,d.predicate,e,n))}}catch(_){v.e(_)}finally{v.f()}}function cS(i,e){var t=gs("nil"),n=bo(i.statementsMatching(t,null,null,e)),r;try{for(n.s();!(r=n.n()).done;){var s=r.value;i.remove(s);var a=new $a;i.add(new ws(a,s.predicate,s.object,e))}}catch(v){n.e(v)}finally{n.f()}var l=bo(i.statementsMatching(null,null,t,e)),u;try{for(l.s();!(u=l.n()).done;){var f=u.value;if(!f.predicate.sameTerm(gs("rest"))){i.remove(f);var h=new $a;i.add(new ws(f.subject,f.predicate,h,e))}}}catch(v){l.e(v)}finally{l.f()}}function hS(i,e){function t(r,s,a){var l=i.statementsMatching(r,gs("rest"),null,e);if(l.length!==1)throw new Error("Bad list structure: no rest at ".concat(r));var u=i.statementsMatching(r,gs("first"),null,e);if(u.length!==1)throw new Error("Bad list structure: rest but ".concat(u.length," firsts at ").concat(r));var f=u[0].object,h=[f].concat(s),v=a.concat(l).concat(u),p=i.statementsMatching(null,gs("rest"),r,e);if(p.length===0){var d=new $a(h);i.remove(v),fS(i,d,r,e);return}if(p.length!==1)throw new Error("Bad list structure: ".concat(p.length," pres at ").concat(r));var _=p[0].subject;if(_.termType!=="BlankNode")throw new Error("Bad list element node ".concat(_," type: ").concat(_.termType," "));t(_,h,v)}cS(i,e);var n=i.statementsMatching(null,gs("rest"),gs("nil"),e);n.forEach(function(r){if(r.subject.termType!=="BlankNode")throw new Error("Bad list element node ".concat(r.subject," type: ").concat(r.subject.termType," "));t(r.subject,[],[])})}function dS(i){return encodeURI(i)}var pS={encode:function(e){e=e.replace(/\r\n/g,`
`);for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(r&63|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(r&63|128))}return t},decode:function(e){for(var t="",n=0;n<e.length;){var r=e.charCodeAt(n);r<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(t+=String.fromCharCode((r&31)<<6|e.charCodeAt(n+1)&63),n+=2):(t+=String.fromCharCode((r&15)<<12|(e.charCodeAt(n+1)&63)<<6|e.charCodeAt(n+2)&63),n+=3)}return t}},gh="http://www.w3.org/2000/10/swap/log#",tn=function(e){return e},rn=function(e){return e},uo=function(e){if(e.length>0)throw"missing.js: oops nnonempty dict not imp";return[]},di=function(e){return e.length},mh=function(e,t,n){if(typeof e.slice>"u")throw"@@ mising.js: No .slice function for "+e+" of type "+Jn(e);return typeof n>"u"||n==null?e.slice(t):e.slice(t,n)},_o=Error("dummy error stop iteration"),Qu=function(e){return this.last=0,this.li=e,this.next=function(){if(this.last==this.li.length)throw _o;return this.li[this.last++]},this},bh=function(e,t){return e.indexOf(t)},_s=function(e,t){if(!e)throw t?"python Assertion failed: "+t:"(python) Assertion failed."},_S=function(e){return String.fromCharCode(e)};String.prototype.encode=function(i){if(i!="utf-8")throw"UTF8_converter: can only do utf-8";return pS.encode(this)};String.prototype.decode=function(i){if(i!="utf-8")throw"UTF8_converter: can only do utf-8";return this};var wh=function(e,t){return gi(t,e)},vS=null,gS="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",I0="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",R0="http://www.w3.org/2002/07/owl#sameAs",mS="#",bS="http://www.w3.org/2001/XMLSchema#integer",wS="http://www.w3.org/2001/XMLSchema#double",yS="http://www.w3.org/2001/XMLSchema#decimal",ES="http://www.w3.org/2001/XMLSchema#date",DS="http://www.w3.org/2001/XMLSchema#dateTime",V2=`	\r
 !"#$%&'()*.,+/;<=>?@[\\]^\`{|}~`,vs=V2+":",yh=new RegExp("^([-+]?[0-9]+)(\\.[0-9]+)?(e[-+]?[0-9]+)?","g"),P0=new RegExp("^[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9](T[0-9][0-9]:[0-9][0-9](:[0-9][0-9](\\.[0-9]*)?)?)?Z?"),Eh=new RegExp('[\\\\\\r\\n\\"]',"g"),Dh=new RegExp("^[a-zA-Z0-9]+(-[a-zA-Z0-9]+)*","g");function yd(i,e,t,n,r,s,a,l){return new AS(i,e,t,n,r,s,a,l)}var AS=function(){function i(e,t,n,r,s,a,l,u){qr(this,i),typeof t>"u"&&(t=null),typeof n>"u"&&(n=""),typeof r>"u"&&(r=null),typeof s>"u"&&(s=""),typeof l>"u"&&(l=""),typeof u>"u"&&(u=null),this._bindings=new uo([]),this._flags=l,n!=""&&(_s(n.indexOf(":")>=0,"Document URI not absolute: "+n),this._bindings[""]=n+"#"),this._store=e,s&&e.setGenPrefix(s),this._thisDoc=n,this.source=e.sym(n),this.lines=0,this.statementCount=0,this.hasNil=!1,this.startOfLine=0,this.previousLine=0,this._genPrefix=s,this.keywords=new rn(["a","this","bind","has","is","of","true","false"]),this.keywordsSet=0,this._anonymousNodes=new uo([]),this._variables=new uo([]),this._parentVariables=new uo([]),this._reason=u,this._reason2=null,r?this._baseURI=r:n?this._baseURI=n:this._baseURI=null,_s(!this._baseURI||this._baseURI.indexOf(":")>=0),this._genPrefix||(this._thisDoc?this._genPrefix=this._thisDoc+"#_g":this._genPrefix=RDFSink_uniqueURI()),t==null?this._thisDoc?this._formula=e.formula(n+"#_formula"):this._formula=e.formula():this._formula=t,this._context=this._formula,this._parentContext=null}return Mr(i,[{key:"here",value:function(t){return this._genPrefix+"_L"+this.lines+"C"+(t-this.startOfLine+1)}},{key:"formula",value:function(){return this._formula}},{key:"loadStream",value:function(t){return this.loadBuf(t.read())}},{key:"loadBuf",value:function(t){return this.startDoc(),this.feed(t),this.endDoc()}},{key:"feed",value:function(t){for(var n=t.decode("utf-8"),r=0;r>=0;){var s=this.skipSpace(n,r);if(s<0)return;var r=this.directiveOrStatement(n,s);if(r<0)throw Nt(this._thisDoc,this.lines,n,s,"expected directive or statement")}}},{key:"directiveOrStatement",value:function(t,n){var r=this.skipSpace(t,n);if(r<0)return r;var s=this.directive(t,r);if(s>=0)return this.checkDot(t,s);var s=this.statement(t,r);return s>=0?this.checkDot(t,s):s}},{key:"tok",value:function(t,n,r){if(n.slice(r,r+1)=="@")var r=r+1;else if(vi(this.keywords,t)<0)return-1;var s=r+di(t);return n.slice(r,s)==t&&V2.indexOf(n.charAt(s))>=0?s:-1}},{key:"directive",value:function(t,n){var f=this.skipSpace(t,n);if(f<0)return f;var r=new rn([]),f=this.tok("bind",t,n);if(f>0)throw Nt(this._thisDoc,this.lines,t,n,"keyword bind is obsolete: use @prefix");var f=this.tok("keywords",t,n);if(f>0){var n=this.commaSeparatedList(t,f,r,!1);if(n<0)throw Nt(this._thisDoc,this.lines,t,n,"'@keywords' needs comma separated list of words");return this.setKeywords(mh(r,null,null)),n}var f=this.tok("forAll",t,n);if(f>0){var n=this.commaSeparatedList(t,f,r,!0);if(n<0)throw Nt(this._thisDoc,this.lines,t,n,"Bad variable list after @forAll");var s=new Qu(r);try{for(;;){var a=s.next();(vi(this._variables,a)<0||vi(this._parentVariables,a)>=0)&&(this._variables[a]=this._context.newUniversal(a))}}catch(v){if(v!=_o)throw v}return n}var f=this.tok("forSome",t,n);if(f>0){var n=this.commaSeparatedList(t,f,r,this.uri_ref2);if(n<0)throw Nt(this._thisDoc,this.lines,t,n,"Bad variable list after @forSome");var s=new Qu(r);try{for(;;){var a=s.next();this._context.declareExistential(a)}}catch(p){if(p!=_o)throw p}return n}var f=this.tok("prefix",t,n);if(f>=0){var l=new rn([]),n=this.qname(t,f,l);if(n<0)throw Nt(this._thisDoc,this.lines,t,f,"expected qname after @prefix");var f=this.uri_ref2(t,n,l);if(f<0)throw Nt(this._thisDoc,this.lines,t,n,"expected <uriref> after @prefix _qname_");var u=l[1].uri;if(this._baseURI)var u=wh(this._baseURI,u);else _s(u.indexOf(":")>=0,"With no base URI, cannot handle relative URI for NS");return _s(u.indexOf(":")>=0),this._bindings[l[0][0]]=u,this.bind(l[0][0],dS(u)),f}var f=this.tok("base",t,n);if(f>=0){var l=new rn([]),n=this.uri_ref2(t,f,l);if(n<0)throw Nt(this._thisDoc,this.lines,t,f,"expected <uri> after @base ");var u=l[0].uri;if(this._baseURI)var u=wh(this._baseURI,u);else throw Nt(this._thisDoc,this.lines,t,f,"With no previous base URI, cannot use relative URI in @base  <"+u+">");return _s(u.indexOf(":")>=0),this._baseURI=u,n}return-1}},{key:"bind",value:function(t,n){t==""||this._store.setPrefixForURI(t,n)}},{key:"setKeywords",value:function(t){t==null?this.keywordsSet=0:(this.keywords=t,this.keywordsSet=1)}},{key:"startDoc",value:function(){}},{key:"endDoc",value:function(){return this.hasNil&&this._store.rdfFactory.supports.COLLECTIONS&&hS(this._store,this.source),this._formula}},{key:"makeStatement",value:function(t){t[0].add(t[2],t[1],t[3],this.source),(t[2].uri&&t[2].uri===I0||t[3].uri&&t[3].uri===I0)&&(this.hasNil=!0),this.statementCount+=1}},{key:"statement",value:function(t,s){var r=new rn([]),s=this.object(t,s,r);if(s<0)return s;var a=this.property_list(t,s,r[0]);if(a<0)throw Nt(this._thisDoc,this.lines,t,s,"expected propertylist");return a}},{key:"subject",value:function(t,n,r){return this.item(t,n,r)}},{key:"verb",value:function(t,n,r){var a=this.skipSpace(t,n);if(a<0)return a;var s=new rn([]),a=this.tok("has",t,n);if(a>=0){var n=this.prop(t,a,s);if(n<0)throw Nt(this._thisDoc,this.lines,t,a,"expected property after 'has'");return r.push(new tn(["->",s[0]])),n}var a=this.tok("is",t,n);if(a>=0){var n=this.prop(t,a,s);if(n<0)throw Nt(this._thisDoc,this.lines,t,a,"expected <property> after 'is'");var a=this.skipSpace(t,n);if(a<0)throw Nt(this._thisDoc,this.lines,t,n,"End of file found, expected property after 'is'");var n=a,a=this.tok("of",t,n);if(a<0)throw Nt(this._thisDoc,this.lines,t,n,"expected 'of' after 'is' <prop>");return r.push(new tn(["<-",s[0]])),a}var a=this.tok("a",t,n);if(a>=0)return r.push(new tn(["->",this._store.sym(gS)])),a;if(t.slice(n,n+2)=="<=")return r.push(new tn(["<-",this._store.sym(gh+"implies")])),n+2;if(t.slice(n,n+1)=="=")return t.slice(n+1,n+2)==">"?(r.push(new tn(["->",this._store.sym(gh+"implies")])),n+2):(r.push(new tn(["->",this._store.sym(R0)])),n+1);if(t.slice(n,n+2)==":=")return r.push(new tn(["->",gh+"becomes"])),n+2;var a=this.prop(t,n,s);if(a>=0)return r.push(new tn(["->",s[0]])),a;if(t.slice(n,n+2)==">-"||t.slice(n,n+2)=="<-")throw Nt(this._thisDoc,this.lines,t,a,">- ... -> syntax is obsolete.");return-1}},{key:"prop",value:function(t,n,r){return this.item(t,n,r)}},{key:"item",value:function(t,n,r){return this.path(t,n,r)}},{key:"blankNode",value:function(t){return this._context.bnode(t,this._reason2)}},{key:"path",value:function(t,n,r){var s=this.nodeOrLiteral(t,n,r);if(s<0)return s;for(;"!^.".indexOf(t.slice(s,s+1))>=0;){var a=t.slice(s,s+1);if(a=="."){var l=t.slice(s+1,s+2);if(!l||vs.indexOf(l)>=0&&":?<[{(".indexOf(l)<0)break}var u=r.pop(),f=this.blankNode(this.here(s)),s=this.node(t,s+1,r);if(s<0)throw Nt(this._thisDoc,this.lines,t,s,"EOF found in middle of path syntax");var h=r.pop();a=="^"?this.makeStatement(new tn([this._context,h,f,u])):this.makeStatement(new tn([this._context,h,u,f])),r.push(f)}return s}},{key:"anonymousNode",value:function(t){var n=this._anonymousNodes[t];if(n)return n;var n=this._store.bnode(t);return this._anonymousNodes[t]=n,n}},{key:"node",value:function(t,l,r,s){typeof s>"u"&&(s=null);var a=s,N=this.skipSpace(t,l);if(N<0)return N;var l=N,u=t.slice(l,l+1);if(u=="["){var f=this.here(l),N=this.skipSpace(t,l+1);if(N<0)throw Nt(this._thisDoc,this.lines,t,l,"EOF after '['");if(t.slice(N,N+1)=="="){var l=N+1,h=new rn([]),N=this.objectList(t,l,h);if(N>=0){var a=h[0];if(di(h)>1){var v=new Qu(h);try{for(;;){var p=v.next();this.makeStatement(new tn([this._context,this._store.sym(R0),a,p]))}}catch(A){if(A!=_o)throw A}}var N=this.skipSpace(t,N);if(N<0)throw Nt(this._thisDoc,this.lines,t,l,"EOF when objectList expected after [ = ");if(t.slice(N,N+1)==";")var N=N+1}else throw Nt(this._thisDoc,this.lines,t,l,"objectList expected after [= ")}if(a==null)var a=this.blankNode(f);var l=this.property_list(t,N,a);if(l<0)throw Nt(this._thisDoc,this.lines,t,N,"property_list expected");var N=this.skipSpace(t,l);if(N<0)throw Nt(this._thisDoc,this.lines,t,l,"EOF when ']' expected after [ <propertyList>");if(t.slice(N,N+1)!="]")throw Nt(this._thisDoc,this.lines,t,N,"']' expected");return r.push(a),N+1}if(u=="{"){var d=t.slice(l+1,l+2);if(d=="$"){l+=1;for(var N=l+1,_=new rn([]),g=!0;;){var l=this.skipSpace(t,N);if(l<0)throw Nt(this._thisDoc,this.lines,t,l,"needed '$}', found end.");if(t.slice(l,l+2)=="$}"){var N=l+2;break}if(g)var g=!1;else if(t.slice(l,l+1)==",")l+=1;else throw Nt(this._thisDoc,this.lines,t,l,"expected: ','");var b=new rn([]),N=this.item(t,l,b);if(N<0)throw Nt(this._thisDoc,this.lines,t,l,"expected item in set or '$}'");_.push(b[0])}return r.push(this._store.newSet(_,this._context)),N}else{var N=l+1,D=this._parentContext;this._parentContext=this._context;var B=this._anonymousNodes,S=this._parentVariables;this._parentVariables=this._variables,this._anonymousNodes=new uo([]),this._variables=this._variables.slice();var O=this._reason2;if(this._reason2=vS,a==null)var a=this._store.formula();for(this._context=a;;){var l=this.skipSpace(t,N);if(l<0)throw Nt(this._thisDoc,this.lines,t,l,"needed '}', found end.");if(t.slice(l,l+1)=="}"){var N=l+1;break}var N=this.directiveOrStatement(t,l);if(N<0)throw Nt(this._thisDoc,this.lines,t,l,"expected statement or '}'")}return this._anonymousNodes=B,this._variables=this._parentVariables,this._parentVariables=S,this._context=this._parentContext,this._reason2=O,this._parentContext=D,r.push(a.close()),N}}if(u=="("){var y=this._store.list,d=t.slice(l+1,l+2);if(d=="$"){var y=this._store.newSet;l+=1}for(var N=l+1,_=new rn([]);;){var l=this.skipSpace(t,N);if(l<0)throw Nt(this._thisDoc,this.lines,t,l,"needed ')', found end.");if(t.slice(l,l+1)==")"){var N=l+1;break}var b=new rn([]),N=this.item(t,l,b);if(N<0)throw Nt(this._thisDoc,this.lines,t,l,"expected item in list or ')'");_.push(b[0])}return r.push(y(_,this._context)),N}var N=this.tok("this",t,l);if(N>=0)throw Nt(this._thisDoc,this.lines,t,l,"Keyword 'this' was ancient N3. Now use @forSome and @forAll keywords.");var N=this.tok("true",t,l);if(N>=0)return r.push(!0),N;var N=this.tok("false",t,l);if(N>=0)return r.push(!1),N;if(a==null){var N=this.uri_ref2(t,l,r);if(N>=0)return N}return-1}},{key:"property_list",value:function(t,n,r){for(;;){var d=this.skipSpace(t,n);if(d<0)throw Nt(this._thisDoc,this.lines,t,n,"EOF found when expected verb in property list");if(t.slice(d,d+2)==":-"){var n=d+2,s=new rn([]),d=this.node(t,n,s,r);if(d<0)throw Nt(this._thisDoc,this.lines,t,n,"bad {} or () or [] node after :- ");var n=d;continue}var n=d,a=new rn([]),d=this.verb(t,n,a);if(d<=0)return n;var l=new rn([]),n=this.objectList(t,d,l);if(n<0)throw Nt(this._thisDoc,this.lines,t,d,"objectList expected");var u=new Qu(l);try{for(;;){var f=u.next(),h=a[0],v=h[0],p=h[1];v=="->"?this.makeStatement(new tn([this._context,p,r,f])):this.makeStatement(new tn([this._context,p,f,r]))}}catch(g){if(g!=_o)throw g}var d=this.skipSpace(t,n);if(d<0)throw Nt(this._thisDoc,this.lines,t,d,"EOF found in list of objects");if(t.slice(n,n+1)!=";")return n;var n=n+1}}},{key:"commaSeparatedList",value:function(t,n,r,s){var a=this.skipSpace(t,n);if(a<0)throw Nt(this._thisDoc,this.lines,t,a,"EOF found expecting comma sep list");if(t.charAt(a)==".")return n;if(s)var a=this.uri_ref2(t,a,r);else var a=this.bareWord(t,a,r);if(a<0)return-1;for(;;){var n=this.skipSpace(t,a);if(n<0)return n;var l=t.slice(n,n+1);if(l!=",")return l!="."?-1:n;if(s)var a=this.uri_ref2(t,n+1,r);else var a=this.bareWord(t,n+1,r);if(a<0)throw Nt(this._thisDoc,this.lines,t,a,"bad list content")}}},{key:"objectList",value:function(t,s,r){var s=this.object(t,s,r);if(s<0)return-1;for(;;){var a=this.skipSpace(t,s);if(a<0)throw Nt(this._thisDoc,this.lines,t,a,"EOF found after object");if(t.slice(a,a+1)!=",")return a;var s=this.object(t,a+1,r);if(s<0)return s}}},{key:"checkDot",value:function(t,n){var r=this.skipSpace(t,n);if(r<0)return r;if(t.slice(r,r+1)==".")return r+1;if(t.slice(r,r+1)=="}"||t.slice(r,r+1)=="]")return r;throw Nt(this._thisDoc,this.lines,t,r,"expected '.' or '}' or ']' at end of statement")}},{key:"uri_ref2",value:function(t,p,r){var s=new rn([]),a=this.qname(t,p,s);if(a>=0){var l=s[0],u=l[0],f=l[1];if(u==null){_s(0,"not used?");var h=this._baseURI+mS}else{var h=this._bindings[u];if(!h){if(u=="_")return r.push(this.anonymousNode(f)),a;throw Nt(this._thisDoc,this.lines,t,p,"Prefix "+u+" not bound.")}}var v=this._store.sym(h+f);return vi(this._variables,v)>=0?r.push(this._variables[v]):r.push(v),a}var p=this.skipSpace(t,p);if(p<0)return-1;if(t.charAt(p)=="?"){var d=new rn([]),a=this.variable(t,p,d);return a>0?(r.push(d[0]),a):-1}else if(t.charAt(p)=="<"){for(var p=p+1,_=p;p<di(t);){if(t.charAt(p)==">"){var g=t.slice(_,p);if(this._baseURI)var g=wh(this._baseURI,g);else _s(g.indexOf(":")>=0,"With no base URI, cannot deal with relative URIs");if(t.slice(p-1,p)=="#"&&mh(g,-1,null)!="#")var g=g+"#";var v=this._store.sym(g);return vi(this._variables,v)>=0?r.push(this._variables[v]):r.push(v),p+1}var p=p+1}throw Nt(this._thisDoc,this.lines,t,a,"unterminated URI reference")}else if(this.keywordsSet){var d=new rn([]),a=this.bareWord(t,p,d);if(a<0)return-1;if(vi(this.keywords,d[0])>=0)throw Nt(this._thisDoc,this.lines,t,p,'Keyword "'+d[0]+'" not allowed here.');return r.push(this._store.sym(this._bindings[""]+d[0])),a}else return-1}},{key:"skipSpace",value:function(t,n){for(var r=` 
\r	\f\v            ​\u2028\u2029　`,s=n||0;s<t.length;s++){var a=t.charAt(s);if(r.indexOf(a)<0)if(t.charAt(s)==="#")for(;;s++){if(s===t.length)return-1;if(t.charAt(s)===`
`){this.lines=this.lines+1;break}}else return s;else t.charAt(s)===`
`&&(this.lines=this.lines+1)}return-1}},{key:"variable",value:function(t,a,r){var s=this.skipSpace(t,a);if(s<0||t.slice(s,s+1)!="?")return-1;var s=s+1,a=s;if("0123456789-".indexOf(t.charAt(s))>=0)throw Nt(this._thisDoc,this.lines,t,s,"Varible name can't start with '"+t.charAt(s)+"s'");for(;a<di(t)&&vs.indexOf(t.charAt(a))<0;)var a=a+1;if(this._parentContext==null)throw Nt(this._thisDoc,this.lines,t,s,"Can't use ?xxx syntax for variable in outermost level: "+t.slice(s-1,a));return r.push(this._store.variable(t.slice(s,a))),a}},{key:"bareWord",value:function(t,l,r){var s=this.skipSpace(t,l);if(s<0)return-1;var a=t.charAt(s);if("0123456789-".indexOf(a)>=0||vs.indexOf(a)>=0)return-1;for(var l=s;l<di(t)&&vs.indexOf(t.charAt(l))<0;)var l=l+1;return r.push(t.slice(s,l)),l}},{key:"qname",value:function(t,s,r){var s=this.skipSpace(t,s);if(s<0)return-1;var a=t.charAt(s);if("0123456789-+".indexOf(a)>=0)return-1;if(vs.indexOf(a)<0)for(var l=a,s=s+1;s<di(t);){var a=t.charAt(s);if(vs.indexOf(a)<0)var l=l+a,s=s+1;else break}else var l="";if(s<di(t)&&t.charAt(s)==":"){for(var u=l,s=s+1,l="";s<di(t);){var a=t.charAt(s);if(vs.indexOf(a)<0)var l=l+a,s=s+1;else break}return r.push(new tn([u,l])),s}else return l&&this.keywordsSet&&vi(this.keywords,l)<0?(r.push(new tn(["",l])),s):-1}},{key:"object",value:function(t,n,r){var s=this.subject(t,n,r);if(s>=0)return s;var s=this.skipSpace(t,n);if(s<0)return-1;var n=s,a=null,l=t.charAt(n);if(l=='"'||l=="'"){t.slice(n,n+3==l+l)?a=l+l+l:a=l;var n=n+di(a),u=this.strconst(t,n,a),s=u[0],f=u[1];return r.push(this._store.literal(f)),s}else return-1}},{key:"nodeOrLiteral",value:function(t,n,r){var s=this.node(t,n,r);if(s>=0)return s;var s=this.skipSpace(t,n);if(s<0)return-1;var n=s,a=t.charAt(n);if("-+0987654321".indexOf(a)>=0){P0.lastIndex=0;var l=P0.exec(t.slice(n));if(l!=null){var u=l[0];s=n+u.length,u.indexOf("T")>=0?r.push(this._store.literal(u,this._store.sym(DS))):r.push(this._store.literal(u,this._store.sym(ES)))}else{yh.lastIndex=0;var l=yh.exec(t.slice(n));if(l==null)throw Nt(this._thisDoc,this.lines,t,n,"Bad number or date syntax");s=n+yh.lastIndex;var u=t.slice(n,s);u.indexOf("e")>=0?r.push(this._store.literal(parseFloat(u),this._store.sym(wS))):t.slice(n,s).indexOf(".")>=0?r.push(this._store.literal(parseFloat(u),this._store.sym(yS))):r.push(this._store.literal(parseInt(u),this._store.sym(bS)))}return s}if(t.charAt(n)=='"'){if(t.slice(n,n+3)=='"""')var f='"""';else var f='"';var n=n+di(f),h=null,v=this.strconst(t,n,f),s=v[0],p=v[1],d=null;if(t.slice(s,s+1)=="@"){Dh.lastIndex=0;var l=Dh.exec(t.slice(s+1));if(l==null)throw Nt(this._thisDoc,startline,t,n,"Bad language code syntax on string literal, after @");var n=Dh.lastIndex+s+1,d=t.slice(s+1,n),s=n}if(t.slice(s,s+2)=="^^")var _=new rn([]),s=this.uri_ref2(t,s+2,_),h=_[0];return r.push(this._store.literal(p,d||h)),s}else return-1}},{key:"strconst",value:function(t,n,r){for(var s=n,a="",l=this.lines;s<di(t);){var n=s+di(r);if(t.slice(s,n)==r)return new tn([n,a]);if(t.charAt(s)=='"'){var a=a+'"',s=s+1;continue}Eh.lastIndex=0;var u=Eh.exec(t.slice(s));if(!u)throw Nt(this._thisDoc,l,t,s,"Closing quote missing in string at ^ in "+t.slice(s-20,s)+"^"+t.slice(s,s+20));var n=s+Eh.lastIndex-1,a=a+t.slice(s,n),f=t.charAt(n);if(f=='"'){var s=n;continue}else if(f=="\r"){var s=n+1;continue}else if(f==`
`){if(r=='"')throw Nt(this._thisDoc,l,t,n,"newline found in string literal");this.lines=this.lines+1;var a=a+f,s=n+1;this.previousLine=this.startOfLine,this.startOfLine=s}else if(f=="\\"){var s=n+1,f=t.slice(s,s+1);if(!f)throw Nt(this._thisDoc,l,t,n,"unterminated string literal (2)");var h=bh('abfrtvn\\"',f);if(h>=0)var v=`a\b\f\r	\v
\\"`.charAt(h),a=a+v,s=s+1;else if(f=="u")var p=this.uEscape(t,s+1,l),s=p[0],f=p[1],a=a+f;else if(f=="U")var p=this.UEscape(t,s+1,l),s=p[0],f=p[1],a=a+f;else throw Nt(this._thisDoc,this.lines,t,n,"bad escape")}}throw Nt(this._thisDoc,this.lines,t,n,"unterminated string literal")}},{key:"uEscape",value:function(t,n,r){for(var s=n,a=0,l=0;a<4;){var u=t.slice(s,s+1),f=u.toLowerCase(),s=s+1;if(f=="")throw Nt(this._thisDoc,r,t,n,"unterminated string literal(3)");var h=bh("0123456789abcdef",f);if(h<0)throw Nt(this._thisDoc,r,t,n,"bad string literal hex escape");var l=l*16+h,a=a+1}var v=String.fromCharCode(l);return new tn([s,v])}},{key:"UEscape",value:function(t,n,r){for(var s=n,a=0,l="\\U";a<8;){var u=t.slice(s,s+1),f=u.toLowerCase(),s=s+1;if(f=="")throw Nt(this._thisDoc,r,t,n,"unterminated string literal(3)");var h=bh("0123456789abcdef",f);if(h<0)throw Nt(this._thisDoc,r,t,n,"bad string literal hex escape");var l=l+f,a=a+1}var v=_S("0x"+mh(l,2,10)-0);return new tn([s,v])}}])}();function Nt(i,e,t,n,r){var s=e+1,a="Line "+s+" of <"+i+">: Bad syntax: "+r+`
at: "`+t.slice(n,n+30)+'"',l=new SyntaxError(a,i,s);return l.lineNo=s,l.characterInFile=n,l.syntaxProblem=r,l}function F0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function O0(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?F0(Object(t),!0).forEach(function(n){et(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):F0(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}var $h=O0(O0({},Ti),{},{supports:et(et(et(et(et(et(et({},Un.collections,!0),Un.defaultGraphType,!1),Un.equalsMethod,!0),Un.identity,!1),Un.id,!0),Un.reversibleId,!1),Un.variableType,!0),collection:function(e){return new $a(e)},id:function(e){var t=this;return ud(e)?"( ".concat(e.elements.map(function(n){return t.id(n)}).join(", ")," )"):rN(e)?ks.toString(e):Ti.id(e)},termToNQ:function(e){return e.termType===Qa?$a.toNT(e):Ti.termToNQ(e)}});function Ed(i,e){return typeof e=="string"?i.rdfFactory.literal(e):Object.prototype.hasOwnProperty.call(e,"@list")?i.rdfFactory.supports.COLLECTIONS===!0?CS(i,e["@list"]):kS(i,e):Object.prototype.hasOwnProperty.call(e,"@id")?Dd(i,e):Object.prototype.hasOwnProperty.call(e,"@language")?i.rdfFactory.literal(e["@value"],e["@language"]):Object.prototype.hasOwnProperty.call(e,"@type")?i.rdfFactory.literal(e["@value"],i.rdfFactory.namedNode(e["@type"])):Object.prototype.hasOwnProperty.call(e,"@value")?i.rdfFactory.literal(e["@value"]):i.rdfFactory.literal(e)}function kS(i,e){var t=e["@id"]?Dd(i,e):i.rdfFactory.blankNode(),n=e["@list"].map(function(s){return Ed(i,s)}),r=M2(i.rdfFactory,t,n);return i.addAll(r),t}function CS(i,e){if(!Array.isArray(e))throw new TypeError("Object must be an array");return i.rdfFactory.collection(e.map(function(t){return Ed(i,t)}))}function H2(i,e,t,n){var r=t&&Object.prototype.hasOwnProperty.call(t,"termType")?t.value:t;return QA(()=>import("../chunks/jsonld.CYnguqZs.js").then(s=>s.j),__vite__mapDeps([0,1,2]),import.meta.url).then(function(s){return s.flatten(JSON.parse(i),null,{base:r})}).then(function(s){return s.reduce(function(a,l){return e=$2(e,t,l),e},e)}).then(n).catch(n)}function Dd(i,e){return e["@id"].startsWith("_:")?i.rdfFactory.blankNode(e["@id"].substring(2)):i.rdfFactory.namedNode(e["@id"])}function $2(i,e,t){for(var n=t["@id"]?Dd(i,t):i.rdfFactory.blankNode(),r=0,s=Object.keys(t);r<s.length;r++){var a=s[r];if(a!=="@id"){if(a=="@graph")for(var l=n,u=t[a],f=0;f<u.length;f++)i=$2(i,l,u[f]);var h=t[a];if(Array.isArray(h))for(var v=0;v<h.length;v++)i.addStatement(L0(i,n,a,h[v],e));else i.addStatement(L0(i,n,a,h,e))}}return i}function L0(i,e,t,n,r){var s,a;return t==="@type"?(s=i.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),a=i.rdfFactory.namedNode(n)):(s=i.rdfFactory.namedNode(t),a=Ed(i,n)),i.rdfFactory.quad(e,s,a,i.rdfFactory.namedNode(r))}var G2={},Bf={};Bf.byteLength=SS;Bf.toByteArray=RS;Bf.fromByteArray=OS;var $i=[],_i=[],TS=typeof Uint8Array<"u"?Uint8Array:Array,Ah="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var sl=0,NS=Ah.length;sl<NS;++sl)$i[sl]=Ah[sl],_i[Ah.charCodeAt(sl)]=sl;_i[45]=62;_i[95]=63;function X2(i){var e=i.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=i.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function SS(i){var e=X2(i),t=e[0],n=e[1];return(t+n)*3/4-n}function IS(i,e,t){return(e+t)*3/4-t}function RS(i){var e,t=X2(i),n=t[0],r=t[1],s=new TS(IS(i,n,r)),a=0,l=r>0?n-4:n,u;for(u=0;u<l;u+=4)e=_i[i.charCodeAt(u)]<<18|_i[i.charCodeAt(u+1)]<<12|_i[i.charCodeAt(u+2)]<<6|_i[i.charCodeAt(u+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return r===2&&(e=_i[i.charCodeAt(u)]<<2|_i[i.charCodeAt(u+1)]>>4,s[a++]=e&255),r===1&&(e=_i[i.charCodeAt(u)]<<10|_i[i.charCodeAt(u+1)]<<4|_i[i.charCodeAt(u+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function PS(i){return $i[i>>18&63]+$i[i>>12&63]+$i[i>>6&63]+$i[i&63]}function FS(i,e,t){for(var n,r=[],s=e;s<t;s+=3)n=(i[s]<<16&16711680)+(i[s+1]<<8&65280)+(i[s+2]&255),r.push(PS(n));return r.join("")}function OS(i){for(var e,t=i.length,n=t%3,r=[],s=16383,a=0,l=t-n;a<l;a+=s)r.push(FS(i,a,a+s>l?l:a+s));return n===1?(e=i[t-1],r.push($i[e>>2]+$i[e<<4&63]+"==")):n===2&&(e=(i[t-2]<<8)+i[t-1],r.push($i[e>>10]+$i[e>>4&63]+$i[e<<2&63]+"=")),r.join("")}var Ad={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Ad.read=function(i,e,t,n,r){var s,a,l=r*8-n-1,u=(1<<l)-1,f=u>>1,h=-7,v=t?r-1:0,p=t?-1:1,d=i[e+v];for(v+=p,s=d&(1<<-h)-1,d>>=-h,h+=l;h>0;s=s*256+i[e+v],v+=p,h-=8);for(a=s&(1<<-h)-1,s>>=-h,h+=n;h>0;a=a*256+i[e+v],v+=p,h-=8);if(s===0)s=1-f;else{if(s===u)return a?NaN:(d?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-f}return(d?-1:1)*a*Math.pow(2,s-n)};Ad.write=function(i,e,t,n,r,s){var a,l,u,f=s*8-r-1,h=(1<<f)-1,v=h>>1,p=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,_=n?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+v>=1?e+=p/u:e+=p*Math.pow(2,1-v),e*u>=2&&(a++,u/=2),a+v>=h?(l=0,a=h):a+v>=1?(l=(e*u-1)*Math.pow(2,r),a=a+v):(l=e*Math.pow(2,v-1)*Math.pow(2,r),a=0));r>=8;i[t+d]=l&255,d+=_,l/=256,r-=8);for(a=a<<r|l,f+=r;f>0;i[t+d]=a&255,d+=_,a/=256,f-=8);i[t+d-_]|=g*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(i){const e=Bf,t=Ad,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;i.Buffer=l,i.SlowBuffer=B,i.INSPECT_MAX_BYTES=50;const r=2147483647;i.kMaxLength=r,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const W=new Uint8Array(1),P={foo:function(){return 42}};return Object.setPrototypeOf(P,Uint8Array.prototype),Object.setPrototypeOf(W,P),W.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function a(W){if(W>r)throw new RangeError('The value "'+W+'" is invalid for option "size"');const P=new Uint8Array(W);return Object.setPrototypeOf(P,l.prototype),P}function l(W,P,M){if(typeof W=="number"){if(typeof P=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(W)}return u(W,P,M)}l.poolSize=8192;function u(W,P,M){if(typeof W=="string")return p(W,P);if(ArrayBuffer.isView(W))return _(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(mt(W,ArrayBuffer)||W&&mt(W.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(mt(W,SharedArrayBuffer)||W&&mt(W.buffer,SharedArrayBuffer)))return g(W,P,M);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const te=W.valueOf&&W.valueOf();if(te!=null&&te!==W)return l.from(te,P,M);const De=b(W);if(De)return De;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return l.from(W[Symbol.toPrimitive]("string"),P,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}l.from=function(W,P,M){return u(W,P,M)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function f(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function h(W,P,M){return f(W),W<=0?a(W):P!==void 0?typeof M=="string"?a(W).fill(P,M):a(W).fill(P):a(W)}l.alloc=function(W,P,M){return h(W,P,M)};function v(W){return f(W),a(W<0?0:D(W)|0)}l.allocUnsafe=function(W){return v(W)},l.allocUnsafeSlow=function(W){return v(W)};function p(W,P){if((typeof P!="string"||P==="")&&(P="utf8"),!l.isEncoding(P))throw new TypeError("Unknown encoding: "+P);const M=S(W,P)|0;let te=a(M);const De=te.write(W,P);return De!==M&&(te=te.slice(0,De)),te}function d(W){const P=W.length<0?0:D(W.length)|0,M=a(P);for(let te=0;te<P;te+=1)M[te]=W[te]&255;return M}function _(W){if(mt(W,Uint8Array)){const P=new Uint8Array(W);return g(P.buffer,P.byteOffset,P.byteLength)}return d(W)}function g(W,P,M){if(P<0||W.byteLength<P)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<P+(M||0))throw new RangeError('"length" is outside of buffer bounds');let te;return P===void 0&&M===void 0?te=new Uint8Array(W):M===void 0?te=new Uint8Array(W,P):te=new Uint8Array(W,P,M),Object.setPrototypeOf(te,l.prototype),te}function b(W){if(l.isBuffer(W)){const P=D(W.length)|0,M=a(P);return M.length===0||W.copy(M,0,0,P),M}if(W.length!==void 0)return typeof W.length!="number"||At(W.length)?a(0):d(W);if(W.type==="Buffer"&&Array.isArray(W.data))return d(W.data)}function D(W){if(W>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return W|0}function B(W){return+W!=W&&(W=0),l.alloc(+W)}l.isBuffer=function(P){return P!=null&&P._isBuffer===!0&&P!==l.prototype},l.compare=function(P,M){if(mt(P,Uint8Array)&&(P=l.from(P,P.offset,P.byteLength)),mt(M,Uint8Array)&&(M=l.from(M,M.offset,M.byteLength)),!l.isBuffer(P)||!l.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===M)return 0;let te=P.length,De=M.length;for(let Be=0,Ve=Math.min(te,De);Be<Ve;++Be)if(P[Be]!==M[Be]){te=P[Be],De=M[Be];break}return te<De?-1:De<te?1:0},l.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(P,M){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return l.alloc(0);let te;if(M===void 0)for(M=0,te=0;te<P.length;++te)M+=P[te].length;const De=l.allocUnsafe(M);let Be=0;for(te=0;te<P.length;++te){let Ve=P[te];if(mt(Ve,Uint8Array))Be+Ve.length>De.length?(l.isBuffer(Ve)||(Ve=l.from(Ve)),Ve.copy(De,Be)):Uint8Array.prototype.set.call(De,Ve,Be);else if(l.isBuffer(Ve))Ve.copy(De,Be);else throw new TypeError('"list" argument must be an Array of Buffers');Be+=Ve.length}return De};function S(W,P){if(l.isBuffer(W))return W.length;if(ArrayBuffer.isView(W)||mt(W,ArrayBuffer))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);const M=W.length,te=arguments.length>2&&arguments[2]===!0;if(!te&&M===0)return 0;let De=!1;for(;;)switch(P){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return sr(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M*2;case"hex":return M>>>1;case"base64":return Tr(W).length;default:if(De)return te?-1:sr(W).length;P=(""+P).toLowerCase(),De=!0}}l.byteLength=S;function O(W,P,M){let te=!1;if((P===void 0||P<0)&&(P=0),P>this.length||((M===void 0||M>this.length)&&(M=this.length),M<=0)||(M>>>=0,P>>>=0,M<=P))return"";for(W||(W="utf8");;)switch(W){case"hex":return ee(this,P,M);case"utf8":case"utf-8":return R(this,P,M);case"ascii":return ue(this,P,M);case"latin1":case"binary":return re(this,P,M);case"base64":return A(this,P,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,P,M);default:if(te)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),te=!0}}l.prototype._isBuffer=!0;function y(W,P,M){const te=W[P];W[P]=W[M],W[M]=te}l.prototype.swap16=function(){const P=this.length;if(P%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<P;M+=2)y(this,M,M+1);return this},l.prototype.swap32=function(){const P=this.length;if(P%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<P;M+=4)y(this,M,M+3),y(this,M+1,M+2);return this},l.prototype.swap64=function(){const P=this.length;if(P%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<P;M+=8)y(this,M,M+7),y(this,M+1,M+6),y(this,M+2,M+5),y(this,M+3,M+4);return this},l.prototype.toString=function(){const P=this.length;return P===0?"":arguments.length===0?R(this,0,P):O.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(P){if(!l.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P?!0:l.compare(this,P)===0},l.prototype.inspect=function(){let P="";const M=i.INSPECT_MAX_BYTES;return P=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(P+=" ... "),"<Buffer "+P+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(P,M,te,De,Be){if(mt(P,Uint8Array)&&(P=l.from(P,P.offset,P.byteLength)),!l.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(M===void 0&&(M=0),te===void 0&&(te=P?P.length:0),De===void 0&&(De=0),Be===void 0&&(Be=this.length),M<0||te>P.length||De<0||Be>this.length)throw new RangeError("out of range index");if(De>=Be&&M>=te)return 0;if(De>=Be)return-1;if(M>=te)return 1;if(M>>>=0,te>>>=0,De>>>=0,Be>>>=0,this===P)return 0;let Ve=Be-De,kt=te-M;const Mt=Math.min(Ve,kt),St=this.slice(De,Be),Ht=P.slice(M,te);for(let Zt=0;Zt<Mt;++Zt)if(St[Zt]!==Ht[Zt]){Ve=St[Zt],kt=Ht[Zt];break}return Ve<kt?-1:kt<Ve?1:0};function N(W,P,M,te,De){if(W.length===0)return-1;if(typeof M=="string"?(te=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),M=+M,At(M)&&(M=De?0:W.length-1),M<0&&(M=W.length+M),M>=W.length){if(De)return-1;M=W.length-1}else if(M<0)if(De)M=0;else return-1;if(typeof P=="string"&&(P=l.from(P,te)),l.isBuffer(P))return P.length===0?-1:T(W,P,M,te,De);if(typeof P=="number")return P=P&255,typeof Uint8Array.prototype.indexOf=="function"?De?Uint8Array.prototype.indexOf.call(W,P,M):Uint8Array.prototype.lastIndexOf.call(W,P,M):T(W,[P],M,te,De);throw new TypeError("val must be string, number or Buffer")}function T(W,P,M,te,De){let Be=1,Ve=W.length,kt=P.length;if(te!==void 0&&(te=String(te).toLowerCase(),te==="ucs2"||te==="ucs-2"||te==="utf16le"||te==="utf-16le")){if(W.length<2||P.length<2)return-1;Be=2,Ve/=2,kt/=2,M/=2}function Mt(Ht,Zt){return Be===1?Ht[Zt]:Ht.readUInt16BE(Zt*Be)}let St;if(De){let Ht=-1;for(St=M;St<Ve;St++)if(Mt(W,St)===Mt(P,Ht===-1?0:St-Ht)){if(Ht===-1&&(Ht=St),St-Ht+1===kt)return Ht*Be}else Ht!==-1&&(St-=St-Ht),Ht=-1}else for(M+kt>Ve&&(M=Ve-kt),St=M;St>=0;St--){let Ht=!0;for(let Zt=0;Zt<kt;Zt++)if(Mt(W,St+Zt)!==Mt(P,Zt)){Ht=!1;break}if(Ht)return St}return-1}l.prototype.includes=function(P,M,te){return this.indexOf(P,M,te)!==-1},l.prototype.indexOf=function(P,M,te){return N(this,P,M,te,!0)},l.prototype.lastIndexOf=function(P,M,te){return N(this,P,M,te,!1)};function j(W,P,M,te){M=Number(M)||0;const De=W.length-M;te?(te=Number(te),te>De&&(te=De)):te=De;const Be=P.length;te>Be/2&&(te=Be/2);let Ve;for(Ve=0;Ve<te;++Ve){const kt=parseInt(P.substr(Ve*2,2),16);if(At(kt))return Ve;W[M+Ve]=kt}return Ve}function F(W,P,M,te){return fr(sr(P,W.length-M),W,M,te)}function q(W,P,M,te){return fr(xr(P),W,M,te)}function k(W,P,M,te){return fr(Tr(P),W,M,te)}function L(W,P,M,te){return fr(ur(P,W.length-M),W,M,te)}l.prototype.write=function(P,M,te,De){if(M===void 0)De="utf8",te=this.length,M=0;else if(te===void 0&&typeof M=="string")De=M,te=this.length,M=0;else if(isFinite(M))M=M>>>0,isFinite(te)?(te=te>>>0,De===void 0&&(De="utf8")):(De=te,te=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Be=this.length-M;if((te===void 0||te>Be)&&(te=Be),P.length>0&&(te<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");De||(De="utf8");let Ve=!1;for(;;)switch(De){case"hex":return j(this,P,M,te);case"utf8":case"utf-8":return F(this,P,M,te);case"ascii":case"latin1":case"binary":return q(this,P,M,te);case"base64":return k(this,P,M,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,P,M,te);default:if(Ve)throw new TypeError("Unknown encoding: "+De);De=(""+De).toLowerCase(),Ve=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(W,P,M){return P===0&&M===W.length?e.fromByteArray(W):e.fromByteArray(W.slice(P,M))}function R(W,P,M){M=Math.min(W.length,M);const te=[];let De=P;for(;De<M;){const Be=W[De];let Ve=null,kt=Be>239?4:Be>223?3:Be>191?2:1;if(De+kt<=M){let Mt,St,Ht,Zt;switch(kt){case 1:Be<128&&(Ve=Be);break;case 2:Mt=W[De+1],(Mt&192)===128&&(Zt=(Be&31)<<6|Mt&63,Zt>127&&(Ve=Zt));break;case 3:Mt=W[De+1],St=W[De+2],(Mt&192)===128&&(St&192)===128&&(Zt=(Be&15)<<12|(Mt&63)<<6|St&63,Zt>2047&&(Zt<55296||Zt>57343)&&(Ve=Zt));break;case 4:Mt=W[De+1],St=W[De+2],Ht=W[De+3],(Mt&192)===128&&(St&192)===128&&(Ht&192)===128&&(Zt=(Be&15)<<18|(Mt&63)<<12|(St&63)<<6|Ht&63,Zt>65535&&Zt<1114112&&(Ve=Zt))}}Ve===null?(Ve=65533,kt=1):Ve>65535&&(Ve-=65536,te.push(Ve>>>10&1023|55296),Ve=56320|Ve&1023),te.push(Ve),De+=kt}return z(te)}const Y=4096;function z(W){const P=W.length;if(P<=Y)return String.fromCharCode.apply(String,W);let M="",te=0;for(;te<P;)M+=String.fromCharCode.apply(String,W.slice(te,te+=Y));return M}function ue(W,P,M){let te="";M=Math.min(W.length,M);for(let De=P;De<M;++De)te+=String.fromCharCode(W[De]&127);return te}function re(W,P,M){let te="";M=Math.min(W.length,M);for(let De=P;De<M;++De)te+=String.fromCharCode(W[De]);return te}function ee(W,P,M){const te=W.length;(!P||P<0)&&(P=0),(!M||M<0||M>te)&&(M=te);let De="";for(let Be=P;Be<M;++Be)De+=tt[W[Be]];return De}function $(W,P,M){const te=W.slice(P,M);let De="";for(let Be=0;Be<te.length-1;Be+=2)De+=String.fromCharCode(te[Be]+te[Be+1]*256);return De}l.prototype.slice=function(P,M){const te=this.length;P=~~P,M=M===void 0?te:~~M,P<0?(P+=te,P<0&&(P=0)):P>te&&(P=te),M<0?(M+=te,M<0&&(M=0)):M>te&&(M=te),M<P&&(M=P);const De=this.subarray(P,M);return Object.setPrototypeOf(De,l.prototype),De};function Q(W,P,M){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+P>M)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(P,M,te){P=P>>>0,M=M>>>0,te||Q(P,M,this.length);let De=this[P],Be=1,Ve=0;for(;++Ve<M&&(Be*=256);)De+=this[P+Ve]*Be;return De},l.prototype.readUintBE=l.prototype.readUIntBE=function(P,M,te){P=P>>>0,M=M>>>0,te||Q(P,M,this.length);let De=this[P+--M],Be=1;for(;M>0&&(Be*=256);)De+=this[P+--M]*Be;return De},l.prototype.readUint8=l.prototype.readUInt8=function(P,M){return P=P>>>0,M||Q(P,1,this.length),this[P]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(P,M){return P=P>>>0,M||Q(P,2,this.length),this[P]|this[P+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(P,M){return P=P>>>0,M||Q(P,2,this.length),this[P]<<8|this[P+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(P,M){return P=P>>>0,M||Q(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+this[P+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(P,M){return P=P>>>0,M||Q(P,4,this.length),this[P]*16777216+(this[P+1]<<16|this[P+2]<<8|this[P+3])},l.prototype.readBigUInt64LE=Le(function(P){P=P>>>0,lt(P,"offset");const M=this[P],te=this[P+7];(M===void 0||te===void 0)&&ge(P,this.length-8);const De=M+this[++P]*2**8+this[++P]*2**16+this[++P]*2**24,Be=this[++P]+this[++P]*2**8+this[++P]*2**16+te*2**24;return BigInt(De)+(BigInt(Be)<<BigInt(32))}),l.prototype.readBigUInt64BE=Le(function(P){P=P>>>0,lt(P,"offset");const M=this[P],te=this[P+7];(M===void 0||te===void 0)&&ge(P,this.length-8);const De=M*2**24+this[++P]*2**16+this[++P]*2**8+this[++P],Be=this[++P]*2**24+this[++P]*2**16+this[++P]*2**8+te;return(BigInt(De)<<BigInt(32))+BigInt(Be)}),l.prototype.readIntLE=function(P,M,te){P=P>>>0,M=M>>>0,te||Q(P,M,this.length);let De=this[P],Be=1,Ve=0;for(;++Ve<M&&(Be*=256);)De+=this[P+Ve]*Be;return Be*=128,De>=Be&&(De-=Math.pow(2,8*M)),De},l.prototype.readIntBE=function(P,M,te){P=P>>>0,M=M>>>0,te||Q(P,M,this.length);let De=M,Be=1,Ve=this[P+--De];for(;De>0&&(Be*=256);)Ve+=this[P+--De]*Be;return Be*=128,Ve>=Be&&(Ve-=Math.pow(2,8*M)),Ve},l.prototype.readInt8=function(P,M){return P=P>>>0,M||Q(P,1,this.length),this[P]&128?(255-this[P]+1)*-1:this[P]},l.prototype.readInt16LE=function(P,M){P=P>>>0,M||Q(P,2,this.length);const te=this[P]|this[P+1]<<8;return te&32768?te|4294901760:te},l.prototype.readInt16BE=function(P,M){P=P>>>0,M||Q(P,2,this.length);const te=this[P+1]|this[P]<<8;return te&32768?te|4294901760:te},l.prototype.readInt32LE=function(P,M){return P=P>>>0,M||Q(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},l.prototype.readInt32BE=function(P,M){return P=P>>>0,M||Q(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},l.prototype.readBigInt64LE=Le(function(P){P=P>>>0,lt(P,"offset");const M=this[P],te=this[P+7];(M===void 0||te===void 0)&&ge(P,this.length-8);const De=this[P+4]+this[P+5]*2**8+this[P+6]*2**16+(te<<24);return(BigInt(De)<<BigInt(32))+BigInt(M+this[++P]*2**8+this[++P]*2**16+this[++P]*2**24)}),l.prototype.readBigInt64BE=Le(function(P){P=P>>>0,lt(P,"offset");const M=this[P],te=this[P+7];(M===void 0||te===void 0)&&ge(P,this.length-8);const De=(M<<24)+this[++P]*2**16+this[++P]*2**8+this[++P];return(BigInt(De)<<BigInt(32))+BigInt(this[++P]*2**24+this[++P]*2**16+this[++P]*2**8+te)}),l.prototype.readFloatLE=function(P,M){return P=P>>>0,M||Q(P,4,this.length),t.read(this,P,!0,23,4)},l.prototype.readFloatBE=function(P,M){return P=P>>>0,M||Q(P,4,this.length),t.read(this,P,!1,23,4)},l.prototype.readDoubleLE=function(P,M){return P=P>>>0,M||Q(P,8,this.length),t.read(this,P,!0,52,8)},l.prototype.readDoubleBE=function(P,M){return P=P>>>0,M||Q(P,8,this.length),t.read(this,P,!1,52,8)};function pe(W,P,M,te,De,Be){if(!l.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(P>De||P<Be)throw new RangeError('"value" argument is out of bounds');if(M+te>W.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(P,M,te,De){if(P=+P,M=M>>>0,te=te>>>0,!De){const kt=Math.pow(2,8*te)-1;pe(this,P,M,te,kt,0)}let Be=1,Ve=0;for(this[M]=P&255;++Ve<te&&(Be*=256);)this[M+Ve]=P/Be&255;return M+te},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(P,M,te,De){if(P=+P,M=M>>>0,te=te>>>0,!De){const kt=Math.pow(2,8*te)-1;pe(this,P,M,te,kt,0)}let Be=te-1,Ve=1;for(this[M+Be]=P&255;--Be>=0&&(Ve*=256);)this[M+Be]=P/Ve&255;return M+te},l.prototype.writeUint8=l.prototype.writeUInt8=function(P,M,te){return P=+P,M=M>>>0,te||pe(this,P,M,1,255,0),this[M]=P&255,M+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(P,M,te){return P=+P,M=M>>>0,te||pe(this,P,M,2,65535,0),this[M]=P&255,this[M+1]=P>>>8,M+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(P,M,te){return P=+P,M=M>>>0,te||pe(this,P,M,2,65535,0),this[M]=P>>>8,this[M+1]=P&255,M+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(P,M,te){return P=+P,M=M>>>0,te||pe(this,P,M,4,4294967295,0),this[M+3]=P>>>24,this[M+2]=P>>>16,this[M+1]=P>>>8,this[M]=P&255,M+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(P,M,te){return P=+P,M=M>>>0,te||pe(this,P,M,4,4294967295,0),this[M]=P>>>24,this[M+1]=P>>>16,this[M+2]=P>>>8,this[M+3]=P&255,M+4};function J(W,P,M,te,De){Dt(P,te,De,W,M,7);let Be=Number(P&BigInt(4294967295));W[M++]=Be,Be=Be>>8,W[M++]=Be,Be=Be>>8,W[M++]=Be,Be=Be>>8,W[M++]=Be;let Ve=Number(P>>BigInt(32)&BigInt(4294967295));return W[M++]=Ve,Ve=Ve>>8,W[M++]=Ve,Ve=Ve>>8,W[M++]=Ve,Ve=Ve>>8,W[M++]=Ve,M}function de(W,P,M,te,De){Dt(P,te,De,W,M,7);let Be=Number(P&BigInt(4294967295));W[M+7]=Be,Be=Be>>8,W[M+6]=Be,Be=Be>>8,W[M+5]=Be,Be=Be>>8,W[M+4]=Be;let Ve=Number(P>>BigInt(32)&BigInt(4294967295));return W[M+3]=Ve,Ve=Ve>>8,W[M+2]=Ve,Ve=Ve>>8,W[M+1]=Ve,Ve=Ve>>8,W[M]=Ve,M+8}l.prototype.writeBigUInt64LE=Le(function(P,M=0){return J(this,P,M,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=Le(function(P,M=0){return de(this,P,M,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(P,M,te,De){if(P=+P,M=M>>>0,!De){const Mt=Math.pow(2,8*te-1);pe(this,P,M,te,Mt-1,-Mt)}let Be=0,Ve=1,kt=0;for(this[M]=P&255;++Be<te&&(Ve*=256);)P<0&&kt===0&&this[M+Be-1]!==0&&(kt=1),this[M+Be]=(P/Ve>>0)-kt&255;return M+te},l.prototype.writeIntBE=function(P,M,te,De){if(P=+P,M=M>>>0,!De){const Mt=Math.pow(2,8*te-1);pe(this,P,M,te,Mt-1,-Mt)}let Be=te-1,Ve=1,kt=0;for(this[M+Be]=P&255;--Be>=0&&(Ve*=256);)P<0&&kt===0&&this[M+Be+1]!==0&&(kt=1),this[M+Be]=(P/Ve>>0)-kt&255;return M+te},l.prototype.writeInt8=function(P,M,te){return P=+P,M=M>>>0,te||pe(this,P,M,1,127,-128),P<0&&(P=255+P+1),this[M]=P&255,M+1},l.prototype.writeInt16LE=function(P,M,te){return P=+P,M=M>>>0,te||pe(this,P,M,2,32767,-32768),this[M]=P&255,this[M+1]=P>>>8,M+2},l.prototype.writeInt16BE=function(P,M,te){return P=+P,M=M>>>0,te||pe(this,P,M,2,32767,-32768),this[M]=P>>>8,this[M+1]=P&255,M+2},l.prototype.writeInt32LE=function(P,M,te){return P=+P,M=M>>>0,te||pe(this,P,M,4,2147483647,-2147483648),this[M]=P&255,this[M+1]=P>>>8,this[M+2]=P>>>16,this[M+3]=P>>>24,M+4},l.prototype.writeInt32BE=function(P,M,te){return P=+P,M=M>>>0,te||pe(this,P,M,4,2147483647,-2147483648),P<0&&(P=4294967295+P+1),this[M]=P>>>24,this[M+1]=P>>>16,this[M+2]=P>>>8,this[M+3]=P&255,M+4},l.prototype.writeBigInt64LE=Le(function(P,M=0){return J(this,P,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=Le(function(P,M=0){return de(this,P,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function it(W,P,M,te,De,Be){if(M+te>W.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function nt(W,P,M,te,De){return P=+P,M=M>>>0,De||it(W,P,M,4),t.write(W,P,M,te,23,4),M+4}l.prototype.writeFloatLE=function(P,M,te){return nt(this,P,M,!0,te)},l.prototype.writeFloatBE=function(P,M,te){return nt(this,P,M,!1,te)};function Fe(W,P,M,te,De){return P=+P,M=M>>>0,De||it(W,P,M,8),t.write(W,P,M,te,52,8),M+8}l.prototype.writeDoubleLE=function(P,M,te){return Fe(this,P,M,!0,te)},l.prototype.writeDoubleBE=function(P,M,te){return Fe(this,P,M,!1,te)},l.prototype.copy=function(P,M,te,De){if(!l.isBuffer(P))throw new TypeError("argument should be a Buffer");if(te||(te=0),!De&&De!==0&&(De=this.length),M>=P.length&&(M=P.length),M||(M=0),De>0&&De<te&&(De=te),De===te||P.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(te<0||te>=this.length)throw new RangeError("Index out of range");if(De<0)throw new RangeError("sourceEnd out of bounds");De>this.length&&(De=this.length),P.length-M<De-te&&(De=P.length-M+te);const Be=De-te;return this===P&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(M,te,De):Uint8Array.prototype.set.call(P,this.subarray(te,De),M),Be},l.prototype.fill=function(P,M,te,De){if(typeof P=="string"){if(typeof M=="string"?(De=M,M=0,te=this.length):typeof te=="string"&&(De=te,te=this.length),De!==void 0&&typeof De!="string")throw new TypeError("encoding must be a string");if(typeof De=="string"&&!l.isEncoding(De))throw new TypeError("Unknown encoding: "+De);if(P.length===1){const Ve=P.charCodeAt(0);(De==="utf8"&&Ve<128||De==="latin1")&&(P=Ve)}}else typeof P=="number"?P=P&255:typeof P=="boolean"&&(P=Number(P));if(M<0||this.length<M||this.length<te)throw new RangeError("Out of range index");if(te<=M)return this;M=M>>>0,te=te===void 0?this.length:te>>>0,P||(P=0);let Be;if(typeof P=="number")for(Be=M;Be<te;++Be)this[Be]=P;else{const Ve=l.isBuffer(P)?P:l.from(P,De),kt=Ve.length;if(kt===0)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(Be=0;Be<te-M;++Be)this[Be+M]=Ve[Be%kt]}return this};const ze={};function Ce(W,P,M){ze[W]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:P.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${W}]`,this.stack,delete this.name}get code(){return W}set code(De){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:De,writable:!0})}toString(){return`${this.name} [${W}]: ${this.message}`}}}Ce("ERR_BUFFER_OUT_OF_BOUNDS",function(W){return W?`${W} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ce("ERR_INVALID_ARG_TYPE",function(W,P){return`The "${W}" argument must be of type number. Received type ${typeof P}`},TypeError),Ce("ERR_OUT_OF_RANGE",function(W,P,M){let te=`The value of "${W}" is out of range.`,De=M;return Number.isInteger(M)&&Math.abs(M)>2**32?De=Ee(String(M)):typeof M=="bigint"&&(De=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(De=Ee(De)),De+="n"),te+=` It must be ${P}. Received ${De}`,te},RangeError);function Ee(W){let P="",M=W.length;const te=W[0]==="-"?1:0;for(;M>=te+4;M-=3)P=`_${W.slice(M-3,M)}${P}`;return`${W.slice(0,M)}${P}`}function Ge(W,P,M){lt(P,"offset"),(W[P]===void 0||W[P+M]===void 0)&&ge(P,W.length-(M+1))}function Dt(W,P,M,te,De,Be){if(W>M||W<P){const Ve=typeof P=="bigint"?"n":"";let kt;throw P===0||P===BigInt(0)?kt=`>= 0${Ve} and < 2${Ve} ** ${(Be+1)*8}${Ve}`:kt=`>= -(2${Ve} ** ${(Be+1)*8-1}${Ve}) and < 2 ** ${(Be+1)*8-1}${Ve}`,new ze.ERR_OUT_OF_RANGE("value",kt,W)}Ge(te,De,Be)}function lt(W,P){if(typeof W!="number")throw new ze.ERR_INVALID_ARG_TYPE(P,"number",W)}function ge(W,P,M){throw Math.floor(W)!==W?(lt(W,M),new ze.ERR_OUT_OF_RANGE("offset","an integer",W)):P<0?new ze.ERR_BUFFER_OUT_OF_BOUNDS:new ze.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${P}`,W)}const Me=/[^+/0-9A-Za-z-_]/g;function nr(W){if(W=W.split("=")[0],W=W.trim().replace(Me,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function sr(W,P){P=P||1/0;let M;const te=W.length;let De=null;const Be=[];for(let Ve=0;Ve<te;++Ve){if(M=W.charCodeAt(Ve),M>55295&&M<57344){if(!De){if(M>56319){(P-=3)>-1&&Be.push(239,191,189);continue}else if(Ve+1===te){(P-=3)>-1&&Be.push(239,191,189);continue}De=M;continue}if(M<56320){(P-=3)>-1&&Be.push(239,191,189),De=M;continue}M=(De-55296<<10|M-56320)+65536}else De&&(P-=3)>-1&&Be.push(239,191,189);if(De=null,M<128){if((P-=1)<0)break;Be.push(M)}else if(M<2048){if((P-=2)<0)break;Be.push(M>>6|192,M&63|128)}else if(M<65536){if((P-=3)<0)break;Be.push(M>>12|224,M>>6&63|128,M&63|128)}else if(M<1114112){if((P-=4)<0)break;Be.push(M>>18|240,M>>12&63|128,M>>6&63|128,M&63|128)}else throw new Error("Invalid code point")}return Be}function xr(W){const P=[];for(let M=0;M<W.length;++M)P.push(W.charCodeAt(M)&255);return P}function ur(W,P){let M,te,De;const Be=[];for(let Ve=0;Ve<W.length&&!((P-=2)<0);++Ve)M=W.charCodeAt(Ve),te=M>>8,De=M%256,Be.push(De),Be.push(te);return Be}function Tr(W){return e.toByteArray(nr(W))}function fr(W,P,M,te){let De;for(De=0;De<te&&!(De+M>=P.length||De>=W.length);++De)P[De+M]=W[De];return De}function mt(W,P){return W instanceof P||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===P.name}function At(W){return W!==W}const tt=function(){const W="0123456789abcdef",P=new Array(256);for(let M=0;M<16;++M){const te=M*16;for(let De=0;De<16;++De)P[te+De]=W[M]+W[De]}return P}();function Le(W){return typeof BigInt>"u"?ot:W}function ot(){throw new Error("BigInt not supported")}})(G2);/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let B0;var LS=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:ua):i=>(B0||(B0=Promise.resolve())).then(i).catch(e=>setTimeout(()=>{throw e},0));const BS=Ts(LS),fo="http://www.w3.org/1999/02/22-rdf-syntax-ns#",co="http://www.w3.org/2001/XMLSchema#",kh="http://www.w3.org/2000/10/swap/",Ci={xsd:{decimal:`${co}decimal`,boolean:`${co}boolean`,double:`${co}double`,integer:`${co}integer`,string:`${co}string`},rdf:{type:`${fo}type`,nil:`${fo}nil`,first:`${fo}first`,rest:`${fo}rest`,langString:`${fo}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${kh}reify#forSome`,forAll:`${kh}reify#forAll`},log:{implies:`${kh}log#implies`}},{xsd:Yu}=Ci,US=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,U0={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},MS=/[\x00-\x20<>\\"\{\}\|\^\`]/,qS={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},jS=/$0^/;class xS{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const t in this)!(t in qS)&&this[t]instanceof RegExp&&(this[t]=jS)}else this._n3Mode=e.n3!==!1;this.comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,t){let n=this._input,r=n.length;for(;;){let l,u;for(;l=this._newline.exec(n);)this.comments&&(u=this._comment.exec(l[0]))&&s("comment",u[1],"",this._line,l[0].length),n=n.substr(l[0].length,n.length),r=n.length,this._line++;if(!l&&(l=this._whitespace.exec(n))&&(n=n.substr(l[0].length,n.length)),this._endOfFile.test(n))return t&&(this.comments&&(u=this._comment.exec(n))&&s("comment",u[1],"",this._line,n.length),n=null,s("eof","","",this._line,0)),this._input=n;const f=this._line,h=n[0];let v="",p="",d="",_=null,g=0,b=!1;switch(h){case"^":if(n.length<3)break;if(n[1]==="^"){if(this._previousMarker="^^",n=n.substr(2),n[0]!=="<"){b=!0;break}}else{this._n3Mode&&(g=1,v="^");break}case"<":if(_=this._unescapedIri.exec(n))v="IRI",p=_[1];else if(_=this._iri.exec(n)){if(p=this._unescape(_[1]),p===null||MS.test(p))return a(this);v="IRI"}else n.length>1&&n[1]==="<"?(v="<<",g=2):this._n3Mode&&n.length>1&&n[1]==="="&&(v="inverse",g=2,p=">");break;case">":n.length>1&&n[1]===">"&&(v=">>",g=2);break;case"_":((_=this._blank.exec(n))||t&&(_=this._blank.exec(`${n} `)))&&(v="blank",d="_",p=_[1]);break;case'"':if(_=this._simpleQuotedString.exec(n))p=_[1];else if({value:p,matchLength:g}=this._parseLiteral(n),p===null)return a(this);(_!==null||g!==0)&&(v="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(_=this._simpleApostropheString.exec(n))p=_[1];else if({value:p,matchLength:g}=this._parseLiteral(n),p===null)return a(this);(_!==null||g!==0)&&(v="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(_=this._variable.exec(n))&&(v="var",p=_[0]);break;case"@":this._previousMarker==="literal"&&(_=this._langcode.exec(n))?(v="langcode",p=_[1]):(_=this._keyword.exec(n))&&(v=_[0]);break;case".":if(n.length===1?t:n[1]<"0"||n[1]>"9"){v=".",g=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(_=this._number.exec(n)||t&&(_=this._number.exec(`${n} `)))&&(v="literal",p=_[0],d=typeof _[1]=="string"?Yu.double:typeof _[2]=="string"?Yu.decimal:Yu.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(_=this._sparqlKeyword.exec(n))?v=_[0].toUpperCase():b=!0;break;case"f":case"t":(_=this._boolean.exec(n))?(v="literal",p=_[0],d=Yu.boolean):b=!0;break;case"a":(_=this._shortPredicates.exec(n))?(v="abbreviation",p="a"):b=!0;break;case"=":this._n3Mode&&n.length>1&&(v="abbreviation",n[1]!==">"?(g=1,p="="):(g=2,p=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(g=1,v=h);break;case"{":!this._lineMode&&n.length>=2&&(n[1]==="|"?(v="{|",g=2):(v=h,g=1));break;case"|":n.length>=2&&n[1]==="}"&&(v="|}",g=2);break;default:b=!0}if(b&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(_=this._prefix.exec(n))?(v="prefix",p=_[1]||""):((_=this._prefixed.exec(n))||t&&(_=this._prefixed.exec(`${n} `)))&&(v="prefixed",d=_[1]||"",p=this._unescape(_[2]))),this._previousMarker==="^^")switch(v){case"prefixed":v="type";break;case"IRI":v="typeIRI";break;default:v=""}if(!v)return t||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?a(this):this._input=n;const D=g||_[0].length,B=s(v,p,d,f,D);this.previousToken=B,this._previousMarker=v,n=n.substr(D,n.length)}function s(l,u,f,h,v){const p=n?r-n.length:r,d=p+v,_={type:l,value:u,prefix:f,line:h,start:p,end:d};return e(null,_),_}function a(l){e(l._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(e){let t=!1;const n=e.replace(US,(r,s,a,l)=>{if(typeof s=="string")return String.fromCharCode(Number.parseInt(s,16));if(typeof a=="string"){let u=Number.parseInt(a,16);return u<=65535?String.fromCharCode(Number.parseInt(a,16)):String.fromCharCode(55296+((u-=65536)>>10),56320+(u&1023))}return l in U0?U0[l]:(t=!0,"")});return t?null:n}_parseLiteral(e){if(e.length>=3){const t=e.match(/^(?:"""|"|'''|'|)/)[0],n=t.length;let r=Math.max(this._literalClosingPos,n);for(;(r=e.indexOf(t,r))>0;){let s=0;for(;e[r-s-1]==="\\";)s++;if(s%2===0){const a=e.substring(n,r),l=a.split(/\r\n|\r|\n/).length-1,u=r+n;if(n===1&&l!==0||n===3&&this._lineMode)break;return this._line+=l,{value:this._unescape(a),matchLength:u}}r++}this._literalClosingPos=e.length-n+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const t=new Error(`Unexpected "${e}" on line ${this._line}.`);return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,t){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof t=="function")BS(()=>this._tokenizeToEnd(t,!0));else{const n=[];let r;if(this._tokenizeToEnd((s,a)=>s?r=s:n.push(a),!0),r)throw r;return n}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",n=>{this._input!==null&&n.length!==0&&(this._pendingBuffer&&(n=G2.Buffer.concat([this._pendingBuffer,n]),this._pendingBuffer=null),n[n.length-1]&128?this._pendingBuffer=n:(typeof this._input>"u"?this._input=this._readStartingBom(typeof n=="string"?n:n.toString()):this._input+=n,this._tokenizeToEnd(t,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(t,!0)}),e.on("error",t)}}const{rdf:zS,xsd:fl}=Ci;let Uf,VS=0;const kd={namedNode:WS,blankNode:QS,variable:KS,literal:YS,defaultGraph:JS,quad:M0,triple:M0};class ya{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof ya?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}let W2=class extends ya{get termType(){return"NamedNode"}},Ch=class Q2 extends ya{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let t=e.lastIndexOf('"')+1;return t<e.length&&e[t++]==="@"?e.substr(t).toLowerCase():""}get datatype(){return new W2(this.datatypeString)}get datatypeString(){const e=this.id,t=e.lastIndexOf('"')+1,n=t<e.length?e[t]:"";return n==="^"?e.substr(t+2):n!=="@"?fl.string:zS.langString}equals(e){return e instanceof Q2?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},HS=class extends ya{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},$S=class extends ya{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},GS=class extends ya{constructor(){return super(""),Uf||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};Uf=new GS;let XS=class extends ya{constructor(e,t,n,r){super(""),this._subject=e,this._predicate=t,this._object=n,this._graph=r||Uf}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}};function WS(i){return new W2(i)}function QS(i){return new HS(i||`n3-${VS++}`)}function YS(i,e){if(typeof e=="string")return new Ch(`"${i}"@${e.toLowerCase()}`);let t=e?e.value:"";return t===""&&(typeof i=="boolean"?t=fl.boolean:typeof i=="number"&&(Number.isFinite(i)?t=Number.isInteger(i)?fl.integer:fl.double:(t=fl.double,Number.isNaN(i)||(i=i>0?"INF":"-INF")))),t===""||t===fl.string?new Ch(`"${i}"`):new Ch(`"${i}"^^${t}`)}function KS(i){return new $S(i)}function JS(){return Uf}function M0(i,e,t,n){return new XS(i,e,t,n)}let q0=0;class Y2{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&K2(this,e.factory);const t=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(t),r=/trig/.test(t),s=/triple/.test(t),a=/quad/.test(t),l=this._n3Mode=/n3/.test(t),u=s||a;(this._supportsNamedGraphs=!(n||l))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||r||s||l),this._supportsRDFStar=t===""||/star|\*$/.test(t),u&&(this._resolveRelativeIRI=f=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new xS({lineMode:u,n3:l}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){q0=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,t,n,r,s){const a=this._n3Mode;this._contextStack.push({type:e,subject:n,predicate:r,object:s,graph:t,inverse:a?this._inversePredicate:!1,blankPrefix:a?this._prefixes._:"",quantified:a?this._quantified:null}),a&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,t){const n=this._contextStack.pop();if(!n||n.type!==e)return this._error(`Unexpected ${t.type}`,t);this._subject=n.subject,this._predicate=n.predicate,this._object=n.object,this._graph=n.graph,this._n3Mode&&(this._inversePredicate=n.inverse,this._prefixes._=n.blankPrefix,this._quantified=n.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,t){let n;switch(e.type){case"IRI":case"typeIRI":const r=this._resolveIRI(e.value);if(r===null)return this._error("Invalid IRI",e);n=this._namedNode(r);break;case"type":case"prefixed":const s=this._prefixes[e.prefix];if(s===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);n=this._namedNode(s+e.value);break;case"blank":n=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":n=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!t&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${t}`,e):(this._subject=null,t==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const t=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let t=null,n=null,r=this._readListItem;const s=this._subject,a=this._contextStack,l=a[a.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,n=this._blankNode(),this.RDF_FIRST,this._subject=t=this._blankNode()),r=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),a.length!==0&&a[a.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(r=this._readPredicate,this._subject===this.RDF_NIL)return r}else if(r=this._getContextEndReader(),this._object===this.RDF_NIL)return r;n=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,r=this._readListItemDataTypeOrLang):(t=this._literal(e.value,this._namedNode(e.prefix)),r=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((t=this._readEntity(e))===void 0)return}if(n===null&&(this._subject=n=this._blankNode()),s===null?l.predicate===null?l.subject=n:l.object=n:this._emit(s,this.RDF_REST,n,this._graph),t!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,n,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,t,this._graph)}return r}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let t=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const n=this._readEntity(e);if(n===void 0)return;t=this._literal(this._literalValue,n),e=null;break;case"langcode":t=this._literal(this._literalValue,e.value),e=null;break}return{token:e,literal:t}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,t){const n=this._completeLiteral(e);if(n)return this._object=n.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),n.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let t,n=this._graph;const r=this._subject,s=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,s&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",e);const a=this._predicate,l=this._object;this._subject=this._quad(r,a,l,this.DEFAULTGRAPH),t=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,t=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(n=this._readEntity(e))!==void 0){t=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(r!==null){const a=this._predicate,l=this._object;s?this._emit(l,a,r,n):this._emit(r,a,l,n)}return t}_readBlankNodePunctuation(e){let t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}_readBaseIRI(e){const t=e.type==="IRI"&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let t;switch(e.type){case"IRI":case"prefixed":if((t=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const t=this._contextStack,n=t.length&&t[t.length-1];if(n&&n.type==="item"){const r=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,r,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let t,n;const r=this._blankNode();if((n=this._readEntity(e))!==void 0)return this._predicate===null?(t=this._subject,this._subject=r):(t=this._object,this._object=r),this._emit(t,n,r,this._graph),this._readPath}_readBackwardPath(e){const t=this._blankNode();let n,r;if((n=this._readEntity(e))!==void 0)return this._predicate===null?(r=this._subject,this._subject=t):(r=this._object,this._object=t),this._emit(t,n,r,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const t=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=t,this._readPredicate):(this._object=t,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,t,n,r){this._callback(null,this._quad(e,t,n,r||this.DEFAULTGRAPH))}_error(e,t){const n=new Error(`${e} on line ${t.line}.`);n.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=Ku}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const t=e.length;let n="",r=-1,s=-1,a=0,l="/";for(;r<t;){switch(l){case":":if(s<0&&e[++r]==="/"&&e[++r]==="/")for(;(s=r+1)<t&&e[s]!=="/";)r=s;break;case"?":case"#":r=t;break;case"/":if(e[r+1]===".")switch(l=e[++r+1],l){case"/":n+=e.substring(a,r-1),a=r+1;break;case void 0:case"?":case"#":return n+e.substring(a,r)+e.substr(r+1);case".":if(l=e[++r+1],l===void 0||l==="/"||l==="?"||l==="#"){if(n+=e.substring(a,r-2),(a=n.lastIndexOf("/"))>=s&&(n=n.substr(0,a)),l!=="/")return`${n}/${e.substr(r+1)}`;a=r+1}}}l=e[++r]}return n+e.substring(a)}parse(e,t,n){let r,s,a;if(t&&(t.onQuad||t.onPrefix||t.onComment)?(r=t.onQuad,s=t.onPrefix,a=t.onComment):(r=t,s=n),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${q0++}_`,this._prefixCallback=s||Ku,this._inversePredicate=!1,this._quantified=Object.create(null),!r){const u=[];let f;if(this._callback=(h,v)=>{h?f=h:v&&u.push(v)},this._lexer.tokenize(e).every(h=>this._readCallback=this._readCallback(h)),f)throw f;return u}let l=(u,f)=>{u!==null?(this._callback(u),this._callback=Ku):this._readCallback&&(this._readCallback=this._readCallback(f))};a&&(this._lexer.comments=!0,l=(u,f)=>{u!==null?(this._callback(u),this._callback=Ku):this._readCallback&&(f.type==="comment"?a(f.value):this._readCallback=this._readCallback(f))}),this._callback=r,this._lexer.tokenize(e,l)}}function Ku(){}function K2(i,e){const t=e.namedNode;i._namedNode=t,i._blankNode=e.blankNode,i._literal=e.literal,i._variable=e.variable,i._quad=e.quad,i.DEFAULTGRAPH=e.defaultGraph(),i.RDF_FIRST=t(Ci.rdf.first),i.RDF_REST=t(Ci.rdf.rest),i.RDF_NIL=t(Ci.rdf.nil),i.N3_FORALL=t(Ci.r.forAll),i.N3_FORSOME=t(Ci.r.forSome),i.ABBREVIATIONS={a:t(Ci.rdf.type),"=":t(Ci.owl.sameAs),">":t(Ci.log.implies)},i.QUANTIFIERS_GRAPH=t("urn:n3:quantifiers")}K2(Y2.prototype,kd);function ZS(i){return!!i&&i.termType==="DefaultGraph"}const ho=kd.defaultGraph(),{rdf:eI,xsd:ll}=Ci,j0=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,x0=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,tI={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class po extends ya{equals(e){return e===this}}class rI{constructor(e,t){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(t=e,e=null),t=t||{},this._lists=t.lists,e)this._outputStream=e,this._endStream=t.end===void 0?!0:!!t.end;else{let n="";this._outputStream={write(r,s,a){n+=r,a&&a()},end:r=>{r&&r(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(t.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=ho,this._prefixIRIs=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes),t.baseIRI&&(this._baseMatcher=new RegExp(`^${V0(t.baseIRI)}${t.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=t.baseIRI.length))}get _inDefaultGraph(){return ho.equals(this._graph)}_write(e,t){this._outputStream.write(e,"utf8",t)}_writeQuad(e,t,n,r,s){try{r.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(ho.equals(r)?"":`${this._encodeIriOrBlank(r)} {
`)),this._graph=r,this._subject=null),e.equals(this._subject)?t.equals(this._predicate)?this._write(`, ${this._encodeObject(n)}`,s):this._write(`;
    ${this._encodePredicate(this._predicate=t)} ${this._encodeObject(n)}`,s):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=t)} ${this._encodeObject(n)}`,s)}catch(a){s&&s(a)}}_writeQuadLine(e,t,n,r,s){delete this._prefixMatch,this._write(this.quadToString(e,t,n,r),s)}quadToString(e,t,n,r){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(t)} ${this._encodeObject(n)}${r&&r.value?` ${this._encodeIriOrBlank(r)} .
`:` .
`}`}quadsToString(e){let t="";for(const n of e)t+=this.quadToString(n.subject,n.predicate,n.object,n.graph);return t}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let t=e.value;this._baseMatcher&&this._baseMatcher.test(t)&&(t=t.substr(this._baseLength)),j0.test(t)&&(t=t.replace(x0,z0));const n=this._prefixRegex.exec(t);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:t:`<${t}>`}_encodeLiteral(e){let t=e.value;if(j0.test(t)&&(t=t.replace(x0,z0)),e.language)return`"${t}"@${e.language}`;if(this._lineMode){if(e.datatype.value===ll.string)return`"${t}"`}else switch(e.datatype.value){case ll.string:return`"${t}"`;case ll.boolean:if(t==="true"||t==="false")return t;break;case ll.integer:if(/^[+-]?\d+$/.test(t))return t;break;case ll.decimal:if(/^[+-]?\d*\.\d+$/.test(t))return t;break;case ll.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(t))return t;break}return`"${t}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===eI.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:t,object:n,graph:r}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(t)} ${this._encodeObject(n)}${ZS(r)?"":` ${this._encodeIriOrBlank(r)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,t,n,r,s){n===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,t):typeof r=="function"?this._writeQuad(e,t,n,ho,r):this._writeQuad(e,t,n,r||ho,s)}addQuads(e){for(let t=0;t<e.length;t++)this.addQuad(e[t])}addPrefix(e,t,n){const r={};r[e]=t,this.addPrefixes(r,n)}addPrefixes(e,t){if(!this._prefixIRIs)return t&&t();let n=!1;for(let r in e){let s=e[r];typeof s!="string"&&(s=s.value),n=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[s]=r+=":",this._write(`@prefix ${r} <${s}>.
`)}if(n){let r="",s="";for(const a in this._prefixIRIs)r+=r?`|${a}`:a,s+=(s?"|":"")+this._prefixIRIs[a];r=V0(r),this._prefixRegex=new RegExp(`^(?:${s})[^/]*$|^(${r})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(n?`
`:"",t)}blank(e,t){let n=e,r,s;switch(e===void 0?n=[]:e.termType?n=[{predicate:e,object:t}]:"length"in e||(n=[e]),s=n.length){case 0:return new po("[]");case 1:if(r=n[0],!(r.object instanceof po))return new po(`[ ${this._encodePredicate(r.predicate)} ${this._encodeObject(r.object)} ]`);default:let a="[";for(let l=0;l<s;l++)r=n[l],r.predicate.equals(e)?a+=`, ${this._encodeObject(r.object)}`:(a+=`${(l?`;
  `:`
  `)+this._encodePredicate(r.predicate)} ${this._encodeObject(r.object)}`,e=r.predicate);return new po(`${a}
]`)}}list(e){const t=e&&e.length||0,n=new Array(t);for(let r=0;r<t;r++)n[r]=this._encodeObject(e[r]);return new po(`(${n.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let t=e&&((n,r)=>{t=null,e(n,r)});if(this._endStream)try{return this._outputStream.end(t)}catch{}t&&t()}}function z0(i){let e=tI[i];return e===void 0&&(i.length===1?(e=i.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function V0(i){return i.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}if(typeof ja>"u")var ja={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};var mi=function(){function i(e,t){qr(this,i),this.options=t||{},this.kb=e,this.target=t.target||{graph:{subjects:{},prefixes:{},terms:{}}},this.blankNodes=[],this.htmlOptions={selfClosing:"br img input area base basefont col colgroup source wbr isindex link meta param hr"},this.theOne="_:"+new Date().getTime(),this.language=null,this.vocabulary=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()}return Mr(i,[{key:"addTriple",value:function(t,n,r,s){var a,l,u,f;typeof n>"u"?a=Ti.namedNode(this.options.base):a=this.toRDFNodeObject(n),u=this.toRDFNodeObject(r),l=this.toRDFNodeObject(s),f=Ti.namedNode(this.options.base),this.kb.add(a,u,l,f)}},{key:"ancestorPath",value:function(t){for(var n="";t&&t.nodeType!==ja.DOCUMENT_NODE;)n="/"+t.localName+n,t=t.parentNode;return n}},{key:"copyMappings",value:function(t){var n={};for(var r in t)n[r]=t[r];return n}},{key:"copyProperties",value:function(){}},{key:"deriveDateTimeType",value:function(t){for(var n=0;n<i.dateTimeTypes.length;n++){var r=i.dateTimeTypes[n].pattern.exec(t);if(r&&r[0].length===t.length)return i.dateTimeTypes[n].type}return null}},{key:"init",value:function(){}},{key:"newBlankNode",value:function(){return this.blankCounter++,"_:"+this.blankCounter}},{key:"newSubjectOrigin",value:function(t,n){}},{key:"parseCURIE",value:function(t,n,r){var s=t.indexOf(":"),a;if(s>=0){var l=t.substring(0,s);if(l==="")return a=n[""],a?a+t.substring(s+1):null;if(l==="_")return"_:"+t.substring(s+1);if(i.NCNAME.test(l)&&(a=n[l],a))return a+t.substring(s+1)}return null}},{key:"parseCURIEOrURI",value:function(t,n,r){var s=this.parseCURIE(t,n,r);return s||this.resolveAndNormalize(r,t)}},{key:"parsePredicate",value:function(t,n,r,s,a,l){if(t==="")return null;var u=this.parseTermOrCURIEOrAbsURI(t,n,l?null:r,s,a);return u&&u.indexOf("_:")===0?null:u}},{key:"parsePrefixMappings",value:function(t,n){for(var r=this.tokenize(t),s=null,a=0;a<r.length;a++)r[a][r[a].length-1]===":"?s=r[a].substring(0,r[a].length-1):s&&(n[s]=this.options.base?gi(r[a],this.options.base):r[a],s=null)}},{key:"parseSafeCURIEOrCURIEOrURI",value:function(t,n,r){return t=this.trim(t),t.charAt(0)==="["&&t.charAt(t.length-1)==="]"?(t=t.substring(1,t.length-1),t=t.trim(t),t.length===0?null:t==="_:"?this.theOne:this.parseCURIE(t,n,r)):this.parseCURIEOrURI(t,n,r)}},{key:"parseTermOrCURIEOrAbsURI",value:function(t,n,r,s,a){t=this.trim(t);var l=this.parseCURIE(t,s,a);if(l)return l;if(r){if(n&&!this.absURIRE.exec(t))return n+t;var u=r[t];if(u)return u;var f=t.toLowerCase();if(u=r[f],u)return u}return this.absURIRE.exec(t)?this.resolveAndNormalize(a,t):null}},{key:"parseTermOrCURIEOrURI",value:function(t,n,r,s,a){t=this.trim(t);var l=this.parseCURIE(t,s,a);if(l)return l;var u=r[t];if(u)return u;var f=t.toLowerCase();return u=r[f],u||(n&&!this.absURIRE.exec(t)?n+t:this.resolveAndNormalize(a,t))}},{key:"parseURI",value:function(t){return t}},{key:"process",value:function(t,n){n=n||{};var r;t.nodeType===ja.DOCUMENT_NODE?(t.baseURI&&!n.baseURI&&(n.baseURI=t.baseURI),r=t.baseURI,t=t.documentElement,t.baseURI||(t.baseURI=r),this.setContext(t)):t.parentNode.nodeType===ja.DOCUMENT_NODE&&this.setContext(t);var s=[],a=function(Nn){if(!Nn&&n&&n.baseURI)return n.baseURI;var Fi=Nn.indexOf("#");return Fi>=0&&(Nn=Nn.substring(0,Fi)),n&&n.baseURIMap&&(Nn=n.baseURIMap(Nn)),Nn};for(s.push({current:t,context:this.push(null,a(t.baseURI))});s.length>0;){var l=s.shift();if(l.parent){if(l.context.parent&&l.context.parent.listMapping===l.listMapping)continue;for(var u in l.listMapping){var f=l.listMapping[u];if(f.length===0){this.addTriple(l.parent,l.subject,u,{type:i.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});continue}for(var h=[],v=0;v<f.length;v++)h.push(this.newBlankNode());for(var p=0;p<h.length;p++)this.addTriple(l.parent,h[p],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",f[p]),this.addTriple(l.parent,h[p],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:i.objectURI,value:p+1<h.length?h[p+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(l.parent,l.subject,u,{type:i.objectURI,value:h[0]})}continue}var d=l.current,_=l.context,g=!1,b=null,D=null,B=null,S=_.prefixes,O=!1,y=[],N=_.listMapping,T=!_.parent,j=_.language,F=_.vocabulary;r=this.parseURI(a(d.baseURI)),d.item=null;var q=d.getAttributeNode("vocab");if(q){var k=this.trim(q.value);if(k.length>0){F=k;var L=r.spec;this.addTriple(d,L,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:i.objectURI,value:F})}else F=this.vocabulary}for(var A=0;A<d.attributes.length;A++){var R=d.attributes[A];if(R.nodeName.charAt(0)==="x"&&R.nodeName.indexOf("xmlns:")===0){O||(S=this.copyMappings(S),O=!0);var Y=R.nodeName.substring(6),z=i.trim(R.value);S[Y]=this.options.base?gi(z,this.options.base):z}}var ue=d.getAttributeNode("prefix");ue&&(O||(S=this.copyMappings(S),O=!0),this.parsePrefixMappings(ue.value,S));for(var re=null,ee=0;!re&&ee<this.langAttributes.length;ee++)re=d.getAttributeNodeNS(this.langAttributes[ee].namespaceURI,this.langAttributes[ee].localName);if(re){var $=i.trim(re.value);$.length>0?j=$:j=null}var Q=d.getAttributeNode("rel"),pe=d.getAttributeNode("rev"),J=d.getAttributeNode("typeof"),de=d.getAttributeNode("property"),it=d.getAttributeNode("datatype"),nt=this.inHTMLMode?d.getAttributeNode("datetime"):null,Fe=d.getAttributeNode("content"),ze=d.getAttributeNode("about"),Ce=d.getAttributeNode("src"),Ee=d.getAttributeNode("resource"),Ge=d.getAttributeNode("href"),Dt=d.getAttributeNode("inlist"),lt=[],ge,Me;if(Q){Me=this.tokenize(Q.value);for(var nr=0;nr<Me.length;nr++)ge=this.parsePredicate(Me[nr],F,_.terms,S,r,this.inHTMLMode&&de!==null),ge&&lt.push(ge)}var sr=[];if(pe){Me=this.tokenize(pe.value);for(var xr=0;xr<Me.length;xr++)ge=this.parsePredicate(Me[xr],F,_.terms,S,r,this.inHTMLMode&&de),ge&&sr.push(ge)}if(this.inHTMLMode&&(Q||pe)&&de&&(lt.length===0&&(Q=null),sr.length===0&&(pe=null)),Q||pe?(ze&&(b=this.parseSafeCURIEOrCURIEOrURI(ze.value,S,r)),J&&(B=b),b||(d.parentNode.nodeType===ja.DOCUMENT_NODE?b=a(d.baseURI):_.parentObject&&(b=a(d.parentNode.baseURI)===_.parentObject?a(d.baseURI):_.parentObject)),Ee&&(D=this.parseSafeCURIEOrCURIEOrURI(Ee.value,S,r)),D||(Ge?D=this.resolveAndNormalize(r,encodeURI(Ge.value)):Ce?D=this.resolveAndNormalize(r,encodeURI(Ce.value)):J&&!ze&&!(this.inXHTMLMode&&(d.localName==="head"||d.localName==="body"))&&(D=this.newBlankNode())),J&&!ze&&this.inXHTMLMode&&(d.localName==="head"||d.localName==="body")?B=b:J&&!ze&&(B=D)):de&&!Fe&&!it?(ze&&(b=this.parseSafeCURIEOrCURIEOrURI(ze.value,S,r),J&&(B=b)),!b&&d.parentNode.nodeType===ja.DOCUMENT_NODE?(b=a(d.baseURI),J&&(B=b)):!b&&_.parentObject&&(b=a(d.parentNode.baseURI)===_.parentObject?a(d.baseURI):_.parentObject),J&&!B&&(Ee&&(B=this.parseSafeCURIEOrCURIEOrURI(Ee.value,S,r)),!B&&Ge&&(B=this.resolveAndNormalize(r,encodeURI(Ge.value))),!B&&Ce&&(B=this.resolveAndNormalize(r,encodeURI(Ce.value))),!B&&(this.inXHTMLMode||this.inHTMLMode)&&(d.localName==="head"||d.localName==="body")&&(B=b),B||(B=this.newBlankNode()),D=B)):(ze&&(b=this.parseSafeCURIEOrCURIEOrURI(ze.value,S,r)),!b&&Ee&&(b=this.parseSafeCURIEOrCURIEOrURI(Ee.value,S,r)),!b&&Ge&&(b=this.resolveAndNormalize(r,encodeURI(Ge.value))),!b&&Ce&&(b=this.resolveAndNormalize(r,encodeURI(Ce.value))),b||(d.parentNode.nodeType===ja.DOCUMENT_NODE?b=a(d.baseURI):(this.inXHTMLMode||this.inHTMLMode)&&(d.localName==="head"||d.localName==="body")?b=a(d.parentNode.baseURI)===_.parentObject?a(d.baseURI):_.parentObject:J?b=this.newBlankNode():_.parentObject&&(b=a(d.parentNode.baseURI)===_.parentObject?a(d.baseURI):_.parentObject,de||(g=!0))),J&&(B=b)),b&&(ze||Ee||B)){var ur=b;J&&!ze&&!Ee&&D&&(ur=D),this.newSubjectOrigin(d,ur)}if(B){Me=this.tokenize(J.value);for(var Tr=0;Tr<Me.length;Tr++){var fr=this.parseTermOrCURIEOrAbsURI(Me[Tr],F,_.terms,S,r);fr&&this.addTriple(d,B,i.typeURI,{type:i.objectURI,value:fr})}}if(b&&b!==_.parentObject&&(N={},T=!0),D){if(Q&&Dt)for(var mt=0;mt<lt.length;mt++){var At=N[lt[mt]];At||(At=[],N[lt[mt]]=At),At.push({type:i.objectURI,value:D})}else if(Q)for(var tt=0;tt<lt.length;tt++)this.addTriple(d,b,lt[tt],{type:i.objectURI,value:D});if(pe)for(var Le=0;Le<sr.length;Le++)this.addTriple(d,D,sr[Le],{type:i.objectURI,value:b})}else{if(b&&!D&&(Q||pe)&&(D=this.newBlankNode()),Q&&Dt)for(var ot=0;ot<lt.length;ot++){var W=N[lt[ot]];W||(W=[],N[ge]=W),y.push({predicate:lt[ot],list:W})}else if(Q)for(var P=0;P<lt.length;P++)y.push({predicate:lt[P],forward:!0});if(pe)for(var M=0;M<sr.length;M++)y.push({predicate:sr[M],forward:!1})}if(de){var te=null,De=null;it?(te=it.value===""?i.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(it.value,F,_.terms,S,r),nt&&!Fe?De=nt.value:De=te===i.XMLLiteralURI||te===i.HTMLLiteralURI?null:Fe?Fe.value:d.textContent):Fe?(te=i.PlainLiteralURI,De=Fe.value):nt?(De=nt.value,te=i.deriveDateTimeType(De),te||(te=i.PlainLiteralURI)):!Q&&!pe&&(Ee&&(De=this.parseSafeCURIEOrCURIEOrURI(Ee.value,S,r)),!De&&Ge?De=this.resolveAndNormalize(r,encodeURI(Ge.value)):!De&&Ce&&(De=this.resolveAndNormalize(r,encodeURI(Ce.value))),De&&(te=i.objectURI)),te||(J&&!ze?(te=i.objectURI,De=B):(De=d.textContent,this.inHTMLMode&&d.localName==="time"&&(te=i.deriveDateTimeType(De)),te||(te=i.PlainLiteralURI))),Me=this.tokenize(de.value);for(var Be=0;Be<Me.length;Be++){var Ve=this.parsePredicate(Me[Be],F,_.terms,S,r);if(Ve)if(Dt){var kt=N[Ve];kt||(kt=[],N[Ve]=kt),kt.push(te===i.XMLLiteralURI||te===i.HTMLLiteralURI?{type:te,value:d.childNodes}:{type:te||i.PlainLiteralURI,value:De,language:j})}else te===i.XMLLiteralURI||te===i.HTMLLiteralURI?this.addTriple(d,b,Ve,{type:te,value:d.childNodes}):this.addTriple(d,b,Ve,{type:te||i.PlainLiteralURI,value:De,language:j})}}if(b&&!g)for(var Mt=0;Mt<_.incomplete.length;Mt++)_.incomplete[Mt].list?_.incomplete[Mt].list.push({type:i.objectURI,value:b}):_.incomplete[Mt].forward?this.addTriple(d,_.subject,_.incomplete[Mt].predicate,{type:i.objectURI,value:b}):this.addTriple(d,b,_.incomplete[Mt].predicate,{type:i.objectURI,value:_.subject});var St=null,Ht=b;g?(St=this.push(_,_.subject),St.parentObject=a(d.parentNode.baseURI)===_.parentObject?a(d.baseURI):_.parentObject,St.incomplete=_.incomplete,St.language=j,St.prefixes=S,St.vocabulary=F):(St=this.push(_,b),St.parentObject=D||b||_.subject,St.prefixes=S,St.incomplete=y,D&&(Ht=D,N={},T=!0),St.listMapping=N,St.language=j,St.vocabulary=F),T&&s.unshift({parent:d,context:_,subject:Ht,listMapping:N});for(var Zt=d.lastChild;Zt;Zt=Zt.previousSibling)Zt.nodeType===ja.ELEMENT_NODE&&s.unshift({current:Zt,context:St})}this.inHTMLMode&&this.copyProperties();for(var Pi=0;Pi<this.finishedHandlers.length;Pi++)this.finishedHandlers[Pi](t)}},{key:"push",value:function(t,n){return{parent:t,subject:n||(t?t.subject:null),parentObject:null,incomplete:[],listMapping:t?t.listMapping:{},language:t?t.language:this.language,prefixes:t?t.prefixes:this.target.graph.prefixes,terms:t?t.terms:this.target.graph.terms,vocabulary:t?t.vocabulary:this.vocabulary}}},{key:"resolveAndNormalize",value:function(t,n){return gi(n,t)}},{key:"setContext",value:function(t){t.localName==="html"&&t.getAttribute("version")==="XHTML+RDFa 1.1"?this.setXHTMLContext():t.localName==="html"||t.namespaceURI==="http://www.w3.org/1999/xhtml"?typeof document<"u"&&document.doctype?document.doctype.publicId==="-//W3C//DTD XHTML+RDFa 1.0//EN"&&document.doctype.systemId==="http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"?(console.log("WARNING: RDF 1.0 is not supported.  Defaulting to HTML5 mode."),this.setHTMLContext()):document.doctype.publicId==="-//W3C//DTD XHTML+RDFa 1.1//EN"&&document.doctype.systemId==="http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"?this.setXHTMLContext():this.setHTMLContext():this.setHTMLContext():this.setXMLContext()}},{key:"setHTMLContext",value:function(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.inXHTMLMode=!1,this.inHTMLMode=!0}},{key:"setInitialContext",value:function(){this.vocabulary=null,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}]}},{key:"setXHTMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.target.graph.terms.alternate="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.graph.terms.appendix="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.graph.terms.bookmark="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.graph.terms.cite="http://www.w3.org/1999/xhtml/vocab#cite",this.target.graph.terms.chapter="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.graph.terms.contents="http://www.w3.org/1999/xhtml/vocab#contents",this.target.graph.terms.copyright="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.graph.terms.first="http://www.w3.org/1999/xhtml/vocab#first",this.target.graph.terms.glossary="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.graph.terms.help="http://www.w3.org/1999/xhtml/vocab#help",this.target.graph.terms.icon="http://www.w3.org/1999/xhtml/vocab#icon",this.target.graph.terms.index="http://www.w3.org/1999/xhtml/vocab#index",this.target.graph.terms.last="http://www.w3.org/1999/xhtml/vocab#last",this.target.graph.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms.meta="http://www.w3.org/1999/xhtml/vocab#meta",this.target.graph.terms.next="http://www.w3.org/1999/xhtml/vocab#next",this.target.graph.terms.prev="http://www.w3.org/1999/xhtml/vocab#prev",this.target.graph.terms.previous="http://www.w3.org/1999/xhtml/vocab#previous",this.target.graph.terms.section="http://www.w3.org/1999/xhtml/vocab#section",this.target.graph.terms.stylesheet="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.graph.terms.subsection="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.graph.terms.start="http://www.w3.org/1999/xhtml/vocab#start",this.target.graph.terms.top="http://www.w3.org/1999/xhtml/vocab#top",this.target.graph.terms.up="http://www.w3.org/1999/xhtml/vocab#up",this.target.graph.terms.p3pv1="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.graph.terms.related="http://www.w3.org/1999/xhtml/vocab#related",this.target.graph.terms.role="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.terms.transformation="http://www.w3.org/1999/xhtml/vocab#transformation"}},{key:"setXMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!1,this.inHTMLMode=!1}},{key:"tokenize",value:function(t){return this.trim(t).split(/\s+/)}},{key:"toRDFNodeObject",value:function(t){var n=this;if(!(typeof t>"u")){if(typeof t=="string")return t.substring(0,2)==="_:"?(typeof this.blankNodes[t.substring(2)]>"u"&&(this.blankNodes[t.substring(2)]=new Xi(t.substring(2))),this.blankNodes[t.substring(2)]):Ti.namedNode(t);switch(t.type){case i.objectURI:return t.value.substring(0,2)==="_:"?(typeof this.blankNodes[t.value.substring(2)]>"u"&&(this.blankNodes[t.value.substring(2)]=new Xi(t.value.substring(2))),this.blankNodes[t.value.substring(2)]):Ti.namedNode(t.value);case i.PlainLiteralURI:return new Hi(t.value,t.language||"");case i.XMLLiteralURI:case i.HTMLLiteralURI:var r="";return Object.keys(t.value).forEach(function(s){r+=VN(t.value[s],n.htmlOptions)}),new Hi(r,"",new cn(t.type));default:return new Hi(t.value,"",new cn(t.type))}}}},{key:"trim",value:function(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}],[{key:"parseRDFaDOM",value:function(t,n,r){var s=new i(n,{base:r});t.baseURI||(t.baseURI=r),s.process(t,{baseURI:r})}},{key:"tokenize",value:function(t){return this.trim(t).split(/\s+/)}},{key:"trim",value:function(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}])}();mi.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral";mi.HTMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML";mi.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral";mi.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object";mi.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type";mi.nameChar="[-A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F.0-9·̀-ͯ‿-⁀]";mi.nameStartChar="[A-Za-zÀ-ÖØ-öø-ÿĀ-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϖϚϜϞϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁҐ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙա-ֆא-תװ-ײء-غف-يٱ-ڷں-ھۀ-ێې-ۓەۥ-ۦअ-हऽक़-ॡঅ-ঌএ-ঐও-নপ-রলশ-হড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલ-ળવ-હઽૠଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହଽଡ଼-ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡก-ฮะา-ำเ-ๅກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ຮະາ-ຳຽເ-ໄཀ-ཇཉ-ཀྵႠ-Ⴥა-ჶᄀᄂ-ᄃᄅ-ᄇᄉᄋ-ᄌᄎ-ᄒᄼᄾᅀᅌᅎᅐᅔ-ᅕᅙᅟ-ᅡᅣᅥᅧᅩᅭ-ᅮᅲ-ᅳᅵᆞᆨᆫᆮ-ᆯᆷ-ᆸᆺᆼ-ᇂᇫᇰᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼΩK-Å℮ↀ-ↂぁ-ゔァ-ヺㄅ-ㄬ가-힣一-龥〇〡-〩_]";mi.NCNAME=new RegExp("^"+mi.nameStartChar+mi.nameChar+"*$");mi.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:"http://www.w3.org/2001/XMLSchema#duration"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#dateTime"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#date"},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#time"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:"http://www.w3.org/2001/XMLSchema#gYearMonth"},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:"http://www.w3.org/2001/XMLSchema#gYear"}];var bf=mi.parseRDFaDOM,Mf=function(){function i(e){qr(this,i),this.store=e,this.bnodes={},this.why=null,this.reify=!1}return Mr(i,[{key:"frameFactory",value:function(t,n,r){return{NODE:1,ARC:2,parent:n,parser:t,store:t.store,element:r,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:!1,terminateFrame:function(){this.collection&&this.node.close()},addSymbol:function(a,l){l=gi(l,this.base),this.node=this.store.sym(l),this.nodeType=a},loadTriple:function(){if(this.parent.parent.collection?this.parent.parent.node.append(this.node):this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why),this.parent.rdfid!=null){var a=this.store.sym(gi("#"+this.parent.rdfid,this.base));this.store.add(a,this.store.sym(i.ns.RDF+"type"),this.store.sym(i.ns.RDF+"Statement"),this.parser.why),this.store.add(a,this.store.sym(i.ns.RDF+"subject"),this.parent.parent.node,this.parser.why),this.store.add(a,this.store.sym(i.ns.RDF+"predicate"),this.parent.node,this.parser.why),this.store.add(a,this.store.sym(i.ns.RDF+"object"),this.node,this.parser.why)}},isTripleToLoad:function(){return this.parent!=null&&this.parent.parent!=null&&this.nodeType===this.NODE&&this.parent.nodeType===this.ARC&&this.parent.parent.nodeType===this.NODE},addNode:function(a){this.addSymbol(this.NODE,a),this.isTripleToLoad()&&this.loadTriple()},addCollection:function(){this.nodeType=this.NODE,this.node=this.store.collection(),this.collection=!0,this.isTripleToLoad()&&this.loadTriple()},addCollectionArc:function(){this.nodeType=this.ARC},addBNode:function(a){a!=null?this.parser.bnodes[a]!=null?this.node=this.parser.bnodes[a]:this.node=this.parser.bnodes[a]=this.store.bnode():this.node=this.store.bnode(),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()},addArc:function(a){a===i.ns.RDF+"li"&&(a=i.ns.RDF+"_"+this.parent.listIndex,this.parent.listIndex++),this.addSymbol(this.ARC,a)},addLiteral:function(a){this.parent.datatype&&this.parent.datatype!==i.ns.RDF+"langString"?this.node=this.store.literal(a,this.store.sym(this.parent.datatype)):this.node=this.store.literal(a,this.lang),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}}}},{key:"getAttributeNodeNS",value:function(t,n,r){var s=null;if(t.getAttributeNodeNS)s=t.getAttributeNodeNS(n,r);else for(var a=t.attributes,l,u,f=0;f<a.length;++f)if(l=a[f],l.namespaceURI===n&&(u=l.prefix?l.prefix+":"+r:r,u===l.nodeName)){s=l;break}return s}},{key:"parse",value:function(t,n,r){var s=t.childNodes;this.cleanParser();var a;if(t.nodeType===i.nodeType.DOCUMENT){for(var l=0;l<s.length;l++)if(s[l].nodeType===i.nodeType.ELEMENT){a=s[l];break}}else if(t.nodeType===i.nodeType.ELEMENT)a=t;else throw new Error("RDFParser: can't find root in "+n+". Halting. ");this.why=r;var u=this.frameFactory(this);return this.base=n,u.base=n,u.lang=null,this.parseDOM(this.buildFrame(u,a)),!0}},{key:"parseDOM",value:function(t){for(var n,r=(function(y){var N="";if(y.namespaceURI==null)throw new Error("RDF/XML syntax error: No namespace for "+y.localName+" in "+this.base);return y.namespaceURI&&(N=N+y.namespaceURI),y.localName?N=N+y.localName:y.nodeName&&(y.nodeName.indexOf(":")>=0?N=N+y.nodeName.split(":")[1]:N=N+y.nodeName),N}).bind(this),s=!0;t.parent;){var a=t.element,l=a.attributes;if(a.nodeType===i.nodeType.TEXT||a.nodeType===i.nodeType.CDATA_SECTION)t.parent.nodeType===t.NODE&&(t.addArc(i.ns.RDF+"value"),t=this.buildFrame(t)),t.addLiteral(a.nodeValue);else if(r(a)!==i.ns.RDF+"RDF")if(t.parent&&t.parent.collection&&(t.addCollectionArc(),t=this.buildFrame(t,t.element),t.parent.element=null),!t.parent||!t.parent.nodeType||t.parent.nodeType===t.ARC){var u=this.getAttributeNodeNS(a,i.ns.RDF,"about");if(n=this.getAttributeNodeNS(a,i.ns.RDF,"ID"),u&&n)throw new Error("RDFParser: "+a.nodeName+" has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.");if(!u&&n)t.addNode("#"+n.nodeValue),a.removeAttributeNode(n);else if(u==null&&n==null){var f=this.getAttributeNodeNS(a,i.ns.RDF,"nodeID");f?(t.addBNode(f.nodeValue),a.removeAttributeNode(f)):t.addBNode()}else t.addNode(u.nodeValue),a.removeAttributeNode(u);var h=this.getAttributeNodeNS(a,i.ns.RDF,"type");i.ns.RDF+"Description"!==r(a)&&(h={nodeValue:r(a)}),h!=null&&(this.store.add(t.node,this.store.sym(i.ns.RDF+"type"),this.store.sym(gi(h.nodeValue,t.base)),this.why),h.nodeName&&a.removeAttributeNode(h));for(var v=l.length-1;v>=0;v--)this.store.add(t.node,this.store.sym(r(l[v])),this.store.literal(l[v].nodeValue,t.lang),this.why)}else{t.addArc(r(a)),this.reify&&(n=this.getAttributeNodeNS(a,i.ns.RDF,"ID"),n&&(t.rdfid=n.nodeValue,a.removeAttributeNode(n)));var p=this.getAttributeNodeNS(a,i.ns.RDF,"parseType"),d=this.getAttributeNodeNS(a,i.ns.RDF,"datatype");if(d&&(t.datatype=d.nodeValue,a.removeAttributeNode(d)),p){var _=p.nodeValue;_==="Literal"?(t.datatype=i.ns.RDF+"XMLLiteral",t=this.buildFrame(t),t.addLiteral(a.innerHTML||a.childNodes),s=!1):_==="Resource"?(t=this.buildFrame(t,t.element),t.parent.element=null,t.addBNode()):_==="Collection"&&(t=this.buildFrame(t,t.element),t.parent.element=null,t.addCollection()),a.removeAttributeNode(p)}if(l.length!==0){var g=this.getAttributeNodeNS(a,i.ns.RDF,"resource"),b=this.getAttributeNodeNS(a,i.ns.RDF,"nodeID");t=this.buildFrame(t),g?(t.addNode(g.nodeValue),a.removeAttributeNode(g)):b?(t.addBNode(b.nodeValue),a.removeAttributeNode(b)):t.addBNode();for(var D=l.length-1;D>=0;D--){var B=this.buildFrame(t);B.addArc(r(l[D])),r(l[D])===i.ns.RDF+"type"?this.buildFrame(B).addNode(l[D].nodeValue):this.buildFrame(B).addLiteral(l[D].nodeValue)}}else a.childNodes.length===0&&this.buildFrame(t).addLiteral("")}for(a=t.element;t.parent;){for(var S=t;a==null;)t=t.parent,a=t.element;var O=a.childNodes&&a.childNodes[t.lastChild];if(!O||!s){if(t.terminateFrame(),!(t=t.parent))break;a=t.element,s=!0}else if(O.nodeType!==i.nodeType.ELEMENT&&O.nodeType!==i.nodeType.TEXT&&O.nodeType!==i.nodeType.CDATA_SECTION||(O.nodeType===i.nodeType.TEXT||O.nodeType===i.nodeType.CDATA_SECTION)&&a.childNodes.length!==1)t.lastChild++;else{t.lastChild++,t=this.buildFrame(S,a.childNodes[t.lastChild-1]);break}}}}},{key:"cleanParser",value:function(){this.bnodes={},this.why=null}},{key:"buildFrame",value:function(t,n){var r=this.frameFactory(this,t,n);if(t&&(r.base=t.base,r.lang=t.lang),!n||n.nodeType===i.nodeType.TEXT||n.nodeType===i.nodeType.CDATA_SECTION)return r;var s=n.attributes,a=n.getAttributeNode("xml:base");a!=null&&(r.base=a.nodeValue,n.removeAttribute("xml:base"));var l=n.getAttributeNode("xml:lang");l!=null&&(r.lang=l.nodeValue,n.removeAttribute("xml:lang"));for(var u=s.length-1;u>=0;u--)if(s[u].nodeName.substr(0,3)==="xml"){if(s[u].name.slice(0,6)==="xmlns:"){var f=s[u].nodeValue;this.base&&(f=gi(f,this.base)),this.store.setPrefixForURI(s[u].name.slice(6),f)}n.removeAttributeNode(s[u])}return r}}])}();et(Mf,"ns",{RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"});et(Mf,"nodeType",{ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12});function nI(i,e,t){var n,r,s,a=["INSERT","DELETE","WHERE"],l=Cn("http://www.w3.org/ns/pim/patch#"),u=yd(e,e,t,t,null,null,"",null),f={},h=function(b,D,B,S,O){return"Line "+(D+1)+" of <"+b+`>: Bad syntax:
   `+O+`
   at: "`+B.slice(S,S+30)+'"'};n=0;var v=e.sym(t+"#query");for(f.query=v;;){if(r=u.skipSpace(i,n),r<0)return f;if(i[r]===";"){if(n=u.skipSpace(i,r+1),n<0)return f;r=n}var p=!1;for(s=0;s<a.length;s++){var d=a[s];if(i.slice(r,r+d.length)===d){if(n=u.skipSpace(i,r+d.length),n<0)throw h(u._thisDoc,u.lines,i,r+d.length,"found EOF, needed {...} after "+d);if((d==="INSERT"||d==="DELETE")&&i.slice(n,n+4)==="DATA"){if(r=u.skipSpace(i,n+4),r<0)throw h(u._thisDoc,u.lines,i,n+4,"needed {...} after INSERT DATA "+d);n=r}var _=[];if(r=u.node(i,n,_),r<0)throw h(u._thisDoc,u.lines,i,n,"bad syntax or EOF in {...} after "+d);f[d.toLowerCase()]=_[0],e.add(v,l(d.toLowerCase()),_[0]),p=!0,n=r}}if(!p&&i.slice(r,r+7)==="@prefix"){if(n=u.directive(i,r),n<0)throw h(u._thisDoc,u.lines,i,n,"bad syntax or EOF after @prefix ");n=u.checkDot(i,n),p=!0}if(!p)throw h(u._thisDoc,u.lines,i,r,"Unknown syntax at start of statememt: '"+i.slice(r).slice(0,20)+"'")}}function Gh(i,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"text/turtle",r=arguments.length>4?arguments[4]:void 0;n=n||bs,n=n.split(";")[0];try{if(n===W1||n===bs){var s=yd(e,e,t,t,null,null,"",null);s.loadBuf(i),u()}else if(n===wo){var a=new Mf(e);a.parse(dl(i),t,e.sym(t)),u()}else if(n===xh)bf(dl(i,{contentType:xh}),e,t),u();else if(n===e0)bf(dl(i,{contentType:e0}),e,t),u();else if(n===WT||n===QT)nI(i,e,t),u();else if(n===Mh)H2(i,e,t,u);else if(n===jh||n===qh){var l=new Y2({factory:$h});h(null,i)}else throw n===void 0?new Error("contentType is undefined"):new Error("Don't know how to parse "+n+" yet")}catch(p){f(p)}Gh.handled={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/sparql-update":!0,"application/sparql-update-single-match":!0,"application/ld+json":!0,"application/nquads":!0,"application/n-quads":!0};function u(){if(r)r(null,e);else return}function f(p){if(n!==Mh||n!==jh||n!==qh)if(r)r(p,e);else{var d=new Error(""+p+" while trying to parse <"+t+"> as "+n);throw d.cause=p,d}}function h(p,d){try{l.parse(d,v)}catch(_){r(_,e)}}function v(p,d){d?e.add(d.subject,d.predicate,d.object,d.graph):r(p,e)}}var Xh={exports:{}};(function(i,e){var t=typeof self<"u"?self:ua,n=function(){function s(){this.fetch=!1,this.DOMException=t.DOMException}return s.prototype=t,new s}();(function(s){(function(a){var l={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function u(R){return R&&DataView.prototype.isPrototypeOf(R)}if(l.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(R){return R&&f.indexOf(Object.prototype.toString.call(R))>-1};function v(R){if(typeof R!="string"&&(R=String(R)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(R))throw new TypeError("Invalid character in header field name");return R.toLowerCase()}function p(R){return typeof R!="string"&&(R=String(R)),R}function d(R){var Y={next:function(){var z=R.shift();return{done:z===void 0,value:z}}};return l.iterable&&(Y[Symbol.iterator]=function(){return Y}),Y}function _(R){this.map={},R instanceof _?R.forEach(function(Y,z){this.append(z,Y)},this):Array.isArray(R)?R.forEach(function(Y){this.append(Y[0],Y[1])},this):R&&Object.getOwnPropertyNames(R).forEach(function(Y){this.append(Y,R[Y])},this)}_.prototype.append=function(R,Y){R=v(R),Y=p(Y);var z=this.map[R];this.map[R]=z?z+", "+Y:Y},_.prototype.delete=function(R){delete this.map[v(R)]},_.prototype.get=function(R){return R=v(R),this.has(R)?this.map[R]:null},_.prototype.has=function(R){return this.map.hasOwnProperty(v(R))},_.prototype.set=function(R,Y){this.map[v(R)]=p(Y)},_.prototype.forEach=function(R,Y){for(var z in this.map)this.map.hasOwnProperty(z)&&R.call(Y,this.map[z],z,this)},_.prototype.keys=function(){var R=[];return this.forEach(function(Y,z){R.push(z)}),d(R)},_.prototype.values=function(){var R=[];return this.forEach(function(Y){R.push(Y)}),d(R)},_.prototype.entries=function(){var R=[];return this.forEach(function(Y,z){R.push([z,Y])}),d(R)},l.iterable&&(_.prototype[Symbol.iterator]=_.prototype.entries);function g(R){if(R.bodyUsed)return Promise.reject(new TypeError("Already read"));R.bodyUsed=!0}function b(R){return new Promise(function(Y,z){R.onload=function(){Y(R.result)},R.onerror=function(){z(R.error)}})}function D(R){var Y=new FileReader,z=b(Y);return Y.readAsArrayBuffer(R),z}function B(R){var Y=new FileReader,z=b(Y);return Y.readAsText(R),z}function S(R){for(var Y=new Uint8Array(R),z=new Array(Y.length),ue=0;ue<Y.length;ue++)z[ue]=String.fromCharCode(Y[ue]);return z.join("")}function O(R){if(R.slice)return R.slice(0);var Y=new Uint8Array(R.byteLength);return Y.set(new Uint8Array(R)),Y.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(R){this._bodyInit=R,R?typeof R=="string"?this._bodyText=R:l.blob&&Blob.prototype.isPrototypeOf(R)?this._bodyBlob=R:l.formData&&FormData.prototype.isPrototypeOf(R)?this._bodyFormData=R:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(R)?this._bodyText=R.toString():l.arrayBuffer&&l.blob&&u(R)?(this._bodyArrayBuffer=O(R.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(R)||h(R))?this._bodyArrayBuffer=O(R):this._bodyText=R=Object.prototype.toString.call(R):this._bodyText="",this.headers.get("content-type")||(typeof R=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(R)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var R=g(this);if(R)return R;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?g(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(D)}),this.text=function(){var R=g(this);if(R)return R;if(this._bodyBlob)return B(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}var N=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function T(R){var Y=R.toUpperCase();return N.indexOf(Y)>-1?Y:R}function j(R,Y){Y=Y||{};var z=Y.body;if(R instanceof j){if(R.bodyUsed)throw new TypeError("Already read");this.url=R.url,this.credentials=R.credentials,Y.headers||(this.headers=new _(R.headers)),this.method=R.method,this.mode=R.mode,this.signal=R.signal,!z&&R._bodyInit!=null&&(z=R._bodyInit,R.bodyUsed=!0)}else this.url=String(R);if(this.credentials=Y.credentials||this.credentials||"same-origin",(Y.headers||!this.headers)&&(this.headers=new _(Y.headers)),this.method=T(Y.method||this.method||"GET"),this.mode=Y.mode||this.mode||null,this.signal=Y.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&z)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(z)}j.prototype.clone=function(){return new j(this,{body:this._bodyInit})};function F(R){var Y=new FormData;return R.trim().split("&").forEach(function(z){if(z){var ue=z.split("="),re=ue.shift().replace(/\+/g," "),ee=ue.join("=").replace(/\+/g," ");Y.append(decodeURIComponent(re),decodeURIComponent(ee))}}),Y}function q(R){var Y=new _,z=R.replace(/\r?\n[\t ]+/g," ");return z.split(/\r?\n/).forEach(function(ue){var re=ue.split(":"),ee=re.shift().trim();if(ee){var $=re.join(":").trim();Y.append(ee,$)}}),Y}y.call(j.prototype);function k(R,Y){Y||(Y={}),this.type="default",this.status=Y.status===void 0?200:Y.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Y?Y.statusText:"OK",this.headers=new _(Y.headers),this.url=Y.url||"",this._initBody(R)}y.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},k.error=function(){var R=new k(null,{status:0,statusText:""});return R.type="error",R};var L=[301,302,303,307,308];k.redirect=function(R,Y){if(L.indexOf(Y)===-1)throw new RangeError("Invalid status code");return new k(null,{status:Y,headers:{location:R}})},a.DOMException=s.DOMException;try{new a.DOMException}catch{a.DOMException=function(Y,z){this.message=Y,this.name=z;var ue=Error(Y);this.stack=ue.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function A(R,Y){return new Promise(function(z,ue){var re=new j(R,Y);if(re.signal&&re.signal.aborted)return ue(new a.DOMException("Aborted","AbortError"));var ee=new XMLHttpRequest;function $(){ee.abort()}ee.onload=function(){var Q={status:ee.status,statusText:ee.statusText,headers:q(ee.getAllResponseHeaders()||"")};Q.url="responseURL"in ee?ee.responseURL:Q.headers.get("X-Request-URL");var pe="response"in ee?ee.response:ee.responseText;z(new k(pe,Q))},ee.onerror=function(){ue(new TypeError("Network request failed"))},ee.ontimeout=function(){ue(new TypeError("Network request failed"))},ee.onabort=function(){ue(new a.DOMException("Aborted","AbortError"))},ee.open(re.method,re.url,!0),re.credentials==="include"?ee.withCredentials=!0:re.credentials==="omit"&&(ee.withCredentials=!1),"responseType"in ee&&l.blob&&(ee.responseType="blob"),re.headers.forEach(function(Q,pe){ee.setRequestHeader(pe,Q)}),re.signal&&(re.signal.addEventListener("abort",$),ee.onreadystatechange=function(){ee.readyState===4&&re.signal.removeEventListener("abort",$)}),ee.send(typeof re._bodyInit>"u"?null:re._bodyInit)})}return A.polyfill=!0,s.fetch||(s.fetch=A,s.Headers=_,s.Request=j,s.Response=k),a.Headers=_,a.Request=j,a.Response=k,a.fetch=A,Object.defineProperty(a,"__esModule",{value:!0}),a})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var r=n;e=r.fetch,e.default=r.fetch,e.fetch=r.fetch,e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response,i.exports=e})(Xh,Xh.exports);var rf=Xh.exports;const iI=Ts(rf);function aI(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=sI(i))||e){t&&(i=t);var n=0,r=function(){};return{s:r,n:function(){return n>=i.length?{done:!0}:{done:!1,value:i[n++]}},e:function(f){throw f},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,l;return{s:function(){t=t.call(i)},n:function(){var f=t.next();return s=f.done,f},e:function(f){a=!0,l=f},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(a)throw l}}}}function sI(i,e){if(i){if(typeof i=="string")return H0(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return H0(i,e)}}function H0(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=i[t];return n}function Is(i,e,t){return e=Kr(e),ba(i,J2()?Reflect.construct(e,t||[],Kr(i).constructor):e.apply(i,t))}function J2(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J2=function(){return!!i})()}var lI={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/ld+json":!0},Z2={rdf:wo,owl:wo,n3:"text/n3",ttl:"text/turtle",nt:"text/n3",acl:"text/n3",html:"text/html",xml:"text/xml"},eb=function(e){return{link:Cn("http://www.w3.org/2007/ont/link#",e),http:Cn("http://www.w3.org/2007/ont/http#",e),httph:Cn("http://www.w3.org/2007/ont/httph#",e),rdf:Cn("http://www.w3.org/1999/02/22-rdf-syntax-ns#",e),rdfs:Cn("http://www.w3.org/2000/01/rdf-schema#",e),dc:Cn("http://purl.org/dc/elements/1.1/",e),ldp:Cn("http://www.w3.org/ns/ldp#",e)}},Yi=eb(),Ka=Mr(function i(e,t){qr(this,i),et(this,"response",void 0),et(this,"dom",void 0),this.response=e,this.dom=t});et(Ka,"pattern",void 0);var Cd=function(i){function e(){return qr(this,e),Is(this,e,arguments)}return Tn(e,i),Mr(e,[{key:"parse",value:function(n,r,s){var a=n.store;this.dom||(this.dom=dl(r));var l=this.dom.documentElement;if(l.nodeName==="parsererror")return n.failFetch(s,"Badly formed XML in "+s.resource.value,"parse_error");var u=new Mf(a);try{u.parse(this.dom,s.original.value,s.original)}catch(f){return n.failFetch(s,"Syntax error parsing RDF/XML! "+f,"parse_error")}return s.noMeta||a.add(s.original,Yi.rdf("type"),Yi.link("RDFDocument"),n.appNode),n.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"RDFXMLHandler"}},{key:"register",value:function(n){n.mediatypes[wo]={q:.9}}}])}(Ka);Cd.pattern=new RegExp("application/rdf\\+xml");var ys=function(i){function e(){return qr(this,e),Is(this,e,arguments)}return Tn(e,i),Mr(e,[{key:"parse",value:function(n,r,s){var a,l;this.dom||(this.dom=dl(r));var u=n.store,f=this.dom.getElementsByTagName("title");f.length>0&&u.add(s.resource,Yi.dc("title"),u.rdfFactory.literal(f[0].textContent),s.resource);for(var h=this.dom.getElementsByTagName("link"),v=h.length-1;v>=0;v--)a=h[v].getAttribute("rel"),l=!1,a||(a=h[v].getAttribute("rev"),l=!0),a&&n.linkData(s.original,a,h[v].getAttribute("href"),s.resource,l);for(var p=this.dom.getElementsByTagName("script"),d=0;d<p.length;d++){var _=p[d].getAttribute("type");lI[_]&&(Gh(p[d].textContent,u,s.original.value,_),Gh(p[d].textContent,u,s.original.value,_))}if(s.noMeta||u.add(s.resource,Yi.rdf("type"),Yi.link("WebPage"),n.appNode),!s.noRDFa&&bf)try{bf(this.dom,u,s.original.value)}catch(b){var g="Error trying to parse "+s.resource+` as RDFa:
`+b+`:
`+b.stack;return n.failFetch(s,g,"parse_error")}return n.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"XHTMLHandler"}},{key:"register",value:function(n){n.mediatypes[xh]={}}}])}(Ka);ys.pattern=new RegExp("application/xhtml");var wf=function(i){function e(){return qr(this,e),Is(this,e,arguments)}return Tn(e,i),Mr(e,[{key:"parse",value:function(n,r,s){for(var a=dl(r),l=0;l<a.childNodes.length;l++){var u=a.childNodes[l];if(e.isElement(u)){var f=u.namespaceURI;if(f&&f===f.rdf){n.addStatus(s.req,"Has XML root element in the RDF namespace, so assume RDF/XML.");var h=new Cd(this.response,a);return h.parse(n,r,s)}break}}if(a.doctype&&a.doctype.name==="html"&&a.doctype.publicId.match(/^-\/\/W3C\/\/DTD XHTML/)&&a.doctype.systemId.match(/http:\/\/www.w3.org\/TR\/xhtml/)){n.addStatus(s.req,`Has XHTML DOCTYPE. Switching to XHTML Handler.
`);var v=new ys(this.response,a);return v.parse(n,r,s)}var p=a.getElementsByTagName("html")[0];if(p){var d=p.getAttribute("xmlns");if(d&&d.match(/^http:\/\/www.w3.org\/1999\/xhtml/)){n.addStatus(s.req,`Has a default namespace for XHTML. Switching to XHTMLHandler.
`);var _=new ys(this.response,a);return _.parse(n,r,s)}}return n.failFetch(s,`Unsupported dialect of XML: not RDF or XHTML namespace, etc.
`+r.slice(0,80),901)}}],[{key:"toString",value:function(){return"XMLHandler"}},{key:"register",value:function(n){n.mediatypes["text/xml"]={q:.5},n.mediatypes["application/xml"]={q:.5}}},{key:"isElement",value:function(n){return n.nodeType===Node.ELEMENT_NODE}}])}(Ka);wf.pattern=new RegExp("(text|application)/(.*)xml");var tb=function(i){function e(){return qr(this,e),Is(this,e,arguments)}return Tn(e,i),Mr(e,[{key:"parse",value:function(n,r,s){var a=n.store;if(ab(r)){n.addStatus(s.req,`Has an XML declaration. We'll assume it's XHTML as the content-type was text/html.
`);var l=new ys(this.response);return l.parse(n,r,s)}if(oI(r)){n.addStatus(s.req,`Has XHTML DOCTYPE. Switching to XHTMLHandler.
`);var u=new ys(this.response);return u.parse(n,r,s)}if(uI(r)){n.addStatus(s.req,`Has default namespace for XHTML, so switching to XHTMLHandler.
`);var f=new ys(this.response);return f.parse(n,r,s)}var h=new RegExp("<title>([\\s\\S]+?)</title>","im").exec(r);return h&&a.add(s.resource,Yi.dc("title"),a.rdfFactory.literal(h[1]),s.resource),a.add(s.resource,Yi.rdf("type"),Yi.link("WebPage"),n.appNode),n.addStatus(s.req,"non-XML HTML document, not parsed for data."),n.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"HTMLHandler"}},{key:"register",value:function(n){n.mediatypes["text/html"]={q:.9}}}])}(Ka);tb.pattern=new RegExp("text/html");var rb=function(i){function e(){return qr(this,e),Is(this,e,arguments)}return Tn(e,i),Mr(e,[{key:"parse",value:function(n,r,s,a){var l=n.store;return new Promise(function(u,f){try{H2(r,l,s.original.value,function(){u(n.doneFetch(s,a))})}catch(v){var h="Error trying to parse "+s.resource+` as JSON-LD:
`+v;u(n.failFetch(s,h,"parse_error",a))}})}}],[{key:"toString",value:function(){return"JsonLdHandler"}},{key:"register",value:function(n){n.mediatypes["application/ld+json"]={q:.9}}}])}(Ka);rb.pattern=/application\/ld\+json/;var nb=function(i){function e(){return qr(this,e),Is(this,e,arguments)}return Tn(e,i),Mr(e,[{key:"parse",value:function(n,r,s){if(ab(r)){n.addStatus(s.req,"Warning: "+s.resource+` has an XML declaration. We'll assume it's XML but its content-type wasn't XML.
`);var a=new wf(this.response);return a.parse(n,r,s)}if(r.slice(0,500).match(/xmlns:/)){n.addStatus(s.req,`May have an XML namespace. We'll assume it's XML but its content-type wasn't XML.
`);var l=new wf(this.response);return l.parse(n,r,s)}return n.addStatus(s.req,"Plain text document, no known RDF semantics."),n.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"TextHandler"}},{key:"register",value:function(n){n.mediatypes["text/plain"]={q:.5}}}])}(Ka);nb.pattern=new RegExp("text/plain");var ib=function(i){function e(){return qr(this,e),Is(this,e,arguments)}return Tn(e,i),Mr(e,[{key:"parse",value:function(n,r,s,a){var l=n.store,u=yd(l,l,s.original.value,s.original.value,null,null,"",null);try{u.loadBuf(r)}catch(h){var f="Error trying to parse "+s.resource+` as Notation3:
`+h;return n.failFetch(s,f,"parse_error",a)}return n.addStatus(s.req,"N3 parsed: "+u.statementCount+" triples in "+u.lines+" lines."),n.store.add(s.original,Yi.rdf("type"),Yi.link("RDFDocument"),n.appNode),n.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"N3Handler"}},{key:"register",value:function(n){n.mediatypes["text/n3"]={q:"1.0"},n.mediatypes["text/turtle"]={q:1}}}])}(Ka);ib.pattern=new RegExp("(application|text)/(x-)?(rdf\\+)?(n3|turtle)");var Wh={RDFXMLHandler:Cd,XHTMLHandler:ys,XMLHandler:wf,HTMLHandler:tb,TextHandler:nb,N3Handler:ib,JsonLdHandler:rb};function oI(i){var e=i.indexOf("<!DOCTYPE html"),t=i.indexOf(">");return e===-1||t===-1||e>t?!1:i.substr(e,t-e).indexOf("XHTML")!==-1}function ab(i){var e=i.match(/\s*<\?xml\s+version\s*=[^<>]+\?>/);return!!e}function uI(i){var e=i.match(/[^(<html)]*<html\s+[^<]*xmlns=['"]http:\/\/www.w3.org\/1999\/xhtml["'][^<]*>/);return!!e}var yl=function(){function i(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(qr(this,i),et(this,"store",void 0),et(this,"timeout",void 0),et(this,"_fetch",void 0),et(this,"mediatypes",void 0),et(this,"appNode",void 0),et(this,"requested",void 0),et(this,"timeouts",void 0),et(this,"redirectedTo",void 0),et(this,"fetchQueue",void 0),et(this,"fetchCallbacks",void 0),et(this,"nonexistent",void 0),et(this,"lookedUp",void 0),et(this,"handlers",void 0),et(this,"ns",void 0),et(this,"fireCallbacks",void 0),this.store=e||new Fo,this.ns=eb(this.store.rdfFactory),this.timeout=n.timeout||3e4,this._fetch=n.fetch||typeof global<"u"&&(global.solidFetcher||global.solidFetch)||typeof window<"u"&&(window.solidFetcher||window.solidFetch)||iI,!this._fetch)throw new Error("No _fetch function available for Fetcher");this.appNode=this.store.sym("chrome://TheCurrentSession"),this.store.fetcher=this,this.requested={},this.timeouts={},this.redirectedTo={},this.fetchQueue={},this.fetchCallbacks={},this.nonexistent={},this.lookedUp={},this.handlers=[],this.mediatypes={"image/*":{q:.9},"*/*":{q:.1}},zN(this,["request","fail","refresh","retract","done"]),Object.keys(n.handlers||Wh).map(function(r){return t.addHandler(Wh[r])})}return Mr(i,[{key:"load",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r=Object.assign({},r),t instanceof Array)return Promise.all(t.map(function(b){return n.load(b,Object.assign({},r))}));var s=t,a=ol(s);a=a.split("#")[0],r=this.initFetchOptions(a,r);var l=this.appNode,u=this.store,f=u.statementsMatching(void 0,this.ns.link("requestedURI"),u.sym(a),l).map(function(b){return b.subject}),h=aI(f),v;try{for(h.s();!(v=h.n()).done;){var p=v.value,d=u.any(p,this.ns.link("response"),null,l);if(d!=null){var _=u.statementsMatching(d,this.ns.link("outOfDate"),!0,l);u.remove(_),r.force=!0,r.clearPreviousData=!0}}}catch(b){h.e(b)}finally{h.f()}var g=this.initFetchOptions(a,r);return this.pendingFetchPromise(a,g.baseURI,g)}},{key:"pendingFetchPromise",value:function(){var e=i0($u.mark(function n(r,s,a){var l=this,u;return $u.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(h.t0=!a.force,!h.t0){h.next=5;break}return h.next=4,this.fetchQueue[s];case 4:h.t0=h.sent;case 5:if(!h.t0){h.next=9;break}u=this.fetchQueue[s],h.next=12;break;case 9:u=Promise.race([this.setRequestTimeout(r,a),this.fetchUri(r,a)]),this.fetchQueue[s]=u,this.cleanupFetchRequest(s,void 0,this.timeout);case 12:return h.abrupt("return",u.then(function(v){return r in l.timeouts&&(l.timeouts[r].forEach(clearTimeout),delete l.timeouts[r]),v}));case 13:case"end":return h.stop()}},n,this)}));function t(n,r,s){return e.apply(this,arguments)}return t}()},{key:"cleanupFetchRequest",value:function(t,n,r){var s=this;n!==void 0&&console.warn("_options is deprecated"),this.timeouts[t]=(this.timeouts[t]||[]).concat(setTimeout(function(){s.isPending(t)||delete s.fetchQueue[t]},r))}},{key:"initFetchOptions",value:function(t,n){var r=this.store,s=!n.method||n.method.toUpperCase()==="GET";s||(n.force=!0),n.resource=r.rdfFactory.namedNode(t),n.baseURI=n.baseURI||t,n.original=r.rdfFactory.namedNode(n.baseURI),n.req=r.bnode(),n.headers=n.headers||new rf.Headers,n.contentType&&(n.headers["content-type"]=n.contentType),n.force&&(n.cache="no-cache");var a=this.acceptString();n.headers.accept=a;var l=i.offlineOverride(t);n.requestedURI=l,i.setCredentials(l,n);var u=i.proxyIfNecessary(l);return l!==u&&(n.proxyUsed=!0),n.actualProxyURI=u,n}},{key:"fetchUri",value:function(t,n){var r=this;if(!t)return Promise.reject(new Error("Cannot fetch an empty uri"));if(i.unsupportedProtocol(t))return this.failFetch(n,"fetcher: Unsupported protocol","unsupported_protocol");var s=this.getState(t);if(n.force)delete this.nonexistent[t];else{if(s==="fetched")return Promise.resolve(this.doneFetch(n,{status:200,ok:!0,statusText:"Already loaded into quadstore."}));if(s==="failed"&&this.requested[t]===404){var a="Previously failed: "+this.requested[t],l={url:t,status:this.requested[t],statusText:a,responseText:a,headers:new rf.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return this.failFetch(n,a,this.requested[t],l)}}this.fireCallbacks("request",[t]),this.requested[t]=!0,n.noMeta||this.saveRequestMetadata(t,n);var u=n.actualProxyURI;return this._fetch(u,n).then(function(f){return r.handleResponse(f,t,n)},function(f){var h={url:u,status:999,statusText:(f.name||"network failure")+": "+(f.errno||f.code||f.type),responseText:f.message,headers:new rf.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return r.handleError(h,t,n)})}},{key:"nowOrWhenFetched",value:function(t,n,r){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=ol(t);typeof n=="function"?r=n:typeof n>"u"||(r0(n)?s.referringTerm=n:s=n),this.load(a,s).then(function(l){if(r)if(l)if(l.ok)r(!0,"OK",l);else{var u="HTTP error: Status "+l.status+" ("+l.statusText+")";l.responseText&&(u+=" "+l.responseText),r(!1,u,l)}else{var f="@@ nowOrWhenFetched:  no response object!";r(!1,f)}},function(l){var u=l.message||l.statusText;u="Failed to load  <"+a+"> "+u,l.response&&l.response.status&&(u+=" status: "+l.response.status),r(!1,u,l.response)})}},{key:"addStatus",value:function(t,n){var r=new Date;n="["+r.getHours()+":"+r.getMinutes()+":"+r.getSeconds()+"."+r.getMilliseconds()+"] "+n;var s=this.store,a=s.the(t,this.ns.link("status"));ud(a)&&a.append(s.rdfFactory.literal(n))}},{key:"failFetch",value:function(t,n,r,s){this.addStatus(t.req,n),t.noMeta||this.store.add(t.original,this.ns.link("error"),this.store.rdfFactory.literal(n));var a=(t.method||"GET").toUpperCase(),l=a==="GET"||a==="HEAD";l&&(t.resource.equals(t.original),this.requested[cl(t.original.value)]=r,this.fireCallbacks("fail",[t.original.value,n]));var u=new Error("Fetcher: "+n);return u.status=r,u.statusText=n,u.response=s,Promise.reject(u)}},{key:"linkData",value:function(t,n,r,s,a){if(r){var l=this.store,u,f=l.rdfFactory.namedNode(gi(r,t.value));if(n==="alternate"||n==="seeAlso"||n==="meta"||n==="describedby"){if(f.value===t.value)return;u=this.ns.rdfs("seeAlso")}else n==="type"?u=l.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):u=l.rdfFactory.namedNode(gi(encodeURIComponent(n),"http://www.iana.org/assignments/link-relations/"));a?l.add(f,u,t,s):l.add(t,u,f,s)}}},{key:"parseLinkHeader",value:function(t,n,r){if(t){var s=/<[^>]*>\s*(\s*;\s*[^()<>@,;:"/[\]?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*")))*(,|$)/g,a=/[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*"))/g,l=t.match(s);if(l!=null)for(var u=0;u<l.length;u++){var f=l[u].split(">"),h=f[0].substring(1),v=f[1],p=v.match(a);if(p==null)return;for(var d=0;d<p.length;d++){var _=p[d],g=_.split("="),b=g[1].replace(/["']/g,"");this.linkData(n,b,h,r)}}}}},{key:"doneFetch",value:function(t,n){return this.addStatus(t.req,"Done."),this.requested[t.original.value]="done",this.fireCallbacks("done",[t.original.value]),n.req=t.req,n}},{key:"nowKnownAs",value:function(t,n){this.lookedUp[t.value]?this.lookedUp[n.value]||this.lookUpThing(n,t):this.lookedUp[n.value]&&(this.lookedUp[t.value]||this.lookUpThing(t,n))}},{key:"putBack",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=ol(t),a=new cn(s).doc();return r.contentType=r["content-type"]||r["Content-Type"]||r.contentType||bs,r.contentType==="application/ld+json"?new Promise(function(l,u){ko(a,n.store,a.uri,r.contentType,function(f,h){f?u(f):(r.data=h,n.webOperation("PUT",t,r).then(function(v){return l(v)}).catch(function(v){return u(v)}))})}):(r.data=ko(a,this.store,a.value,r.contentType),this.webOperation("PUT",s,r))}},{key:"webCopy",value:function(t,n,r){var s=this;return this.webOperation("GET",t).then(function(a){return s.webOperation("PUT",n,{data:a.responseText,contentType:r})})}},{key:"delete",value:function(t,n){var r=this;return this.webOperation("DELETE",t,n).then(function(s){return r.requested[t]=404,r.nonexistent[t]=!0,r.unload(r.store.rdfFactory.namedNode(t)),s})}},{key:"createIfNotExists",value:function(){var e=i0($u.mark(function n(r){var s,a,l,u,f=arguments;return $u.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return s=f.length>1&&f[1]!==void 0?f[1]:bs,a=f.length>2&&f[2]!==void 0?f[2]:"",l=this,v.prev=3,v.next=6,l.load(r);case 6:u=v.sent,v.next=26;break;case 9:if(v.prev=9,v.t0=v.catch(3),v.t0.response.status!==404){v.next=25;break}return v.prev=12,v.next=15,l.webOperation("PUT",r.value,{data:a,contentType:s});case 15:u=v.sent,v.next=21;break;case 18:throw v.prev=18,v.t1=v.catch(12),v.t1;case 21:return delete l.requested[r.value],v.abrupt("return",u);case 25:throw v.t0;case 26:return v.abrupt("return",u);case 27:case"end":return v.stop()}},n,this,[[3,9],[12,18]])}));function t(n){return e.apply(this,arguments)}return t}()},{key:"createContainer",value:function(t,n,r){var s={"content-type":bs,link:this.ns.ldp("BasicContainer")+'; rel="type"'};n&&(s.slug=n);var a={headers:s};return r&&(a.body=r),this.webOperation("POST",t,a)}},{key:"invalidateCache",value:function(t){var n=ol(t),r=this;if(r.fetchQueue&&r.fetchQueue[n]){var s=r.fetchQueue[n];s.PromiseStatus,delete r.fetchQueue[n]}if(r.requested[n]&&r.requested[n]!=="done"&&r.requested[n]!=="failed"&&r.requested[n]!==404){var a="Rdflib: fetcher: Destructive operation on <".concat(r.requested[n],"> file being fetched! ")+n;console.error(a)}else delete r.requested[n],delete r.nonexistent[n]}},{key:"webOperation",value:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=ol(n);r.method=t,r.body=r.data||r.body,r.force=!0;var a=this;if(r.body&&!r.contentType)throw new Error("Web operation sending data must have a defined contentType.");return r.contentType&&(r.headers=r.headers||{},r.headers["content-type"]=r.contentType),i.setCredentials(s,r),new Promise(function(l,u){a._fetch(s,r).then(function(f){if(f.ok)(t==="PUT"||t==="PATCH"||t==="POST"||t==="DELETE")&&a.invalidateCache(s),f.text?f.text().then(function(p){f.responseText=p,l(f)}):l(f);else{var h="Web error: "+f.status;f.statusText&&(h+=" ("+f.statusText+")"),h+=" on "+t+" of <"+s+">",f.responseText&&(h+=": "+f.responseText);var v=new Error(h);v.response=f,u(v)}},function(f){var h="Fetch error for "+t+" of <"+s+">:"+f;u(new Error(h))})})}},{key:"lookUpThing",value:function(t,n){var r=this,s=this.store.uris(t);return s=s.map(function(a){return cl(a)}),s.forEach(function(a){r.lookedUp[a]=!0}),this.load(s,{referringTerm:n})}},{key:"getHeader",value:function(t,n){for(var r=this.store,s=t.value,a=r.each(void 0,this.ns.link("requestedURI"),r.rdfFactory.literal(s)),l=0;l<a.length;l++){var u=a[l];if(u!==void 0){var f=r.any(u,this.ns.link("response"));if(f!==void 0&&r.anyValue(f,this.ns.http("status"))&&r.anyValue(f,this.ns.http("status")).startsWith("2")){var h=r.each(f,this.ns.httph(n.toLowerCase()));return h.length?h.map(function(v){return v.value}):[]}}}}},{key:"saveRequestMetadata",value:function(t,n){var r=n.req,s=this.store,a=n.referringTerm;this.addStatus(n.req,"Accept: "+n.headers.accept),r0(a)&&s.add(s.rdfFactory.namedNode(t),this.ns.link("requestedBy"),a,this.appNode),n.original&&n.original.value!==t&&s.add(r,this.ns.link("orginalURI"),s.rdfFactory.literal(n.original.value),this.appNode);var l=new Date,u="["+l.getHours()+":"+l.getMinutes()+":"+l.getSeconds()+"] ";s.add(r,this.ns.rdfs("label"),s.rdfFactory.literal(u+" Request for "+t),this.appNode),s.add(r,this.ns.link("requestedURI"),s.rdfFactory.literal(t),this.appNode),s.add(r,this.ns.link("status"),s.collection(),this.appNode)}},{key:"saveResponseMetadata",value:function(t,n){var r=this,s=this.store,a=s.bnode();return s.add(n.req,this.ns.link("response"),a,this.appNode),s.add(a,this.ns.http("status"),s.rdfFactory.literal(t.status),this.appNode),s.add(a,this.ns.http("statusText"),s.rdfFactory.literal(t.statusText),this.appNode),t.headers.forEach(function(l,u){s.add(a,r.ns.httph(u),r.store.rdfFactory.literal(l),r.appNode),u==="content-type"&&s.add(n.resource,r.ns.rdf("type"),s.rdfFactory.namedNode(xN(l).value),r.appNode)}),a}},{key:"objectRefresh",value:function(t){var n=this.store.uris(t);if(typeof n<"u")for(var r=0;r<n.length;r++)this.refresh(this.store.rdfFactory.namedNode(cl(n[r])))}},{key:"refresh",value:function(t,n){this.fireCallbacks("refresh",arguments),this.nowOrWhenFetched(t,{force:!0,clearPreviousData:!0},n)}},{key:"refreshIfExpired",value:function(t,n){var r=this.getHeader(t,"Expires");!r||new Date(r[0]).getTime()<=new Date().getTime()?this.refresh(t,n):n(!0,"Not expired",{})}},{key:"retract",value:function(t){this.store.removeMany(void 0,void 0,void 0,t),t.value&&delete this.requested[cl(t.value)],this.fireCallbacks("retract",arguments)}},{key:"getState",value:function(t){return typeof this.requested[t]>"u"?"unrequested":this.requested[t]===!0?"requested":this.requested[t]==="done"?"fetched":this.requested[t]==="redirected"?this.getState(this.redirectedTo[t]):"failed"}},{key:"isPending",value:function(t){return this.requested[t]===!0}},{key:"unload",value:function(t){this.store.removeDocument(t),delete this.requested[t.value]}},{key:"addHandler",value:function(t){this.handlers.push(t),t.register(this)}},{key:"retryNoCredentials",value:function(t,n){n.retriedWithNoCredentials=!0,delete this.requested[t],delete this.fetchQueue[t];var r=Object.assign({},n,{credentials:"omit"});return this.addStatus(n.req,"Abort: Will retry with credentials SUPPRESSED to see if that helps"),this.load(t,r)}},{key:"isCrossSite",value:function(t){if(typeof document>"u"||!document.location)return!1;var n=hN,r=""+document.location;return(n(r)&&n(t)&&n(r))!==n(t)}},{key:"handleError",value:function(t,n,r){if(this.isCrossSite(n)){if(r.credentials&&r.credentials==="include"&&!r.retriedWithNoCredentials)return this.retryNoCredentials(n,r);var s=i.crossSiteProxy(n);if(s&&!r.proxyUsed)return this.redirectToProxy(s,r)}var a;return t instanceof Error?a="Fetch error: "+t.message:(a=t.statusText,t.responseText&&(a+=" ".concat(t.responseText))),this.failFetch(r,a,t.status||998,t)}},{key:"addType",value:function(t,n,r,s){var a=n;if(s){var l=r.any(a,this.ns.link("requestedURI"));l&&l.value!==s&&r.add(r.rdfFactory.namedNode(s),this.ns.rdf("type"),t,this.appNode)}for(;;){var u=r.any(a,this.ns.link("requestedURI"));if(u&&u.value&&r.add(r.rdfFactory.namedNode(u.value),this.ns.rdf("type"),t,this.appNode),a=r.any(void 0,r.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#redirectedRequest"),a),!a)break;var f=r.any(a,r.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#response"));if(!f)break;var h=r.any(f,r.rdfFactory.namedNode("http://www.w3.org/2007/ont/http#status"));if(!h||h!=="301"&&h!=="302")break}}},{key:"handleResponse",value:function(t,n,r){var s=this,a=this.store,l=t.headers,u=r.req,f=this.saveResponseMetadata(t,r),h=this.normalizedContentType(r,l)||"",v=l.get("content-location");if(t.status===0)return this.handleError(t,n,r);if(t.status>=400)return t.status===404&&(this.nonexistent[r.original.value]=!0,this.nonexistent[n]=!0),this.saveErrorResponse(t,f).then(function(){var B=r.resource+" "+t.statusText;return s.failFetch(r,B,t.status,t)});var p=null,d=null;if(v&&(d=gi(v,n),d!==n&&(p=d)),t.status===200){if(this.addType(this.ns.link("Document"),u,a,n),p&&this.addType(this.ns.link("Document"),u,a,p),r.clearPreviousData)for(var _=a.statementsMatching(void 0,void 0,void 0,r.resource).slice(),g=0;g<_.length;g++)a.removeStatement(_[g]);var b=h.includes("image/")||h.includes("application/pdf");h&&b&&(this.addType(a.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),u,a,n),p&&this.addType(a.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),u,a,p))}if(v){if(!r.force&&p&&this.requested[d]==="done")return this.doneFetch(r,t);this.requested[d]=!0}this.parseLinkHeader(l.get("link"),r.original,u);var D=this.handlerForContentType(h,t);return D?t.text().then(function(B){return t.responseText=B,D.parse(s,B,r,t)}):(this.addStatus(u,"Fetch over. No data handled."),this.doneFetch(r,t))}},{key:"saveErrorResponse",value:function(t,n){var r=this,s=this.store;return t.text().then(function(a){a.length>10&&s.add(n,r.ns.http("content"),s.rdfFactory.literal(a),n)})}},{key:"handlerForContentType",value:function(t,n){if(!t)return null;var r=this.handlers.find(function(s){return t.match(s.pattern)});return r?new r(n):null}},{key:"guessContentType",value:function(t){return Z2[t.split(".").pop()]}},{key:"normalizedContentType",value:function(t,n){if(t.forceContentType)return t.forceContentType;var r=n.get("content-type");if(!r||r.includes("application/octet-stream")){var s=this.guessContentType(t.resource.value);if(s)return s}var a=s0(t.resource.value);return!r&&["file","chrome"].includes(a)?"text/xml":r}},{key:"redirectToProxy",value:function(t,n){var r=this;this.addStatus(n.req,"BLOCKED -> Cross-site Proxy to <"+t+">"),n.proxyUsed=!0;var s=this.store,a=n.req;n.noMeta||(s.add(a,this.ns.link("redirectedTo"),s.rdfFactory.namedNode(t),a),this.addStatus(a,"redirected to new request")),this.requested[n.resource.value]="redirected",this.redirectedTo[n.resource.value]=t;var l=Object.assign({},n);return l.baseURI=n.resource.value,this.fetchUri(t,l).then(function(u){return l.noMeta||s.add(a,r.ns.link("redirectedRequest"),l.req,r.appNode),u})}},{key:"setRequestTimeout",value:function(t,n){var r=this;return new Promise(function(s){r.timeouts[t]=(r.timeouts[t]||[]).concat(setTimeout(function(){r.isPending(t)&&!n.retriedWithNoCredentials&&!n.proxyUsed&&s(r.failFetch(n,"Request to ".concat(t," timed out"),"timeout"))},r.timeout))})}},{key:"addFetchCallback",value:function(t,n){this.fetchCallbacks[t]?this.fetchCallbacks[t].push(n):this.fetchCallbacks[t]=[n]}},{key:"acceptString",value:function(){var t="";for(var n in this.mediatypes){t!==""&&(t+=", "),t+=n;for(var r in this.mediatypes[n])t+=";"+r+"="+this.mediatypes[n][r]}return t}}],[{key:"crossSiteProxy",value:function(t){if(i.crossSiteProxyTemplate)return i.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(t))}},{key:"offlineOverride",value:function(t){var n=t,r;return typeof window<"u"&&window.panes&&(r=window.panes.UI)&&r.preferences&&r.preferences.get("offlineModeUsingLocalhost")&&n.slice(0,7)==="http://"&&n.slice(7,17)!=="localhost/"&&(n="http://localhost/"+n.slice(7)),n}},{key:"proxyIfNecessary",value:function(t){var n;if(typeof window<"u"&&window.panes&&(n=window.panes.UI)&&n.isExtension)return t;if(typeof $SolidTestEnvironment<"u"&&$SolidTestEnvironment.localSiteMap){var r=t.split("/").slice(2),s=function l(u,f){var h=f[u.shift()];return h?typeof h=="string"?h+u.join("/"):u?l(u,h):null:null},a=s(r,$SolidTestEnvironment.localSiteMap);if(a)return a}return i.crossSiteProxyTemplate&&typeof document<"u"&&document.location&&(""+document.location).slice(0,6)==="https:"&&t.slice(0,5)==="http:"?i.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(t)):t}},{key:"unsupportedProtocol",value:function(t){var n=s0(t);return n==="tel"||n==="mailto"||n==="urn"}},{key:"setCredentials",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n.credentials===void 0&&(n.withCredentials!==void 0?n.credentials=n.withCredentials?"include":"omit":n.credentials="include")}}])}();et(yl,"HANDLERS",void 0);et(yl,"CONTENT_TYPE_BY_EXT",void 0);et(yl,"crossSiteProxyTemplate",void 0);yl.HANDLERS=Wh;yl.CONTENT_TYPE_BY_EXT=Z2;function $0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function G0(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$0(Object(t),!0).forEach(function(n){et(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):$0(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}var Ju=G0(G0({},$h),{},{fetcher:function(e,t){return new yl(e,t)},graph:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return new Fo(e,t||{rdfFactory:$h})},lit:function(e,t,n){return this.literal(""+e,t||n)},st:function(e,t,n,r){return this.quad(e,t,n,r)}}),qf={};for(var Th in Ju)typeof Ju[Th]=="function"&&(qf[Th]=Ju[Th].bind(Ju));var fI=qf.graph,sb=qf.namedNode,cI=qf.literal;new j2;Fr.fromValue;Xi.nextId;let Ne,Si=0,vo=null;function nf(){return(vo===null||vo.byteLength===0)&&(vo=new Uint8Array(Ne.memory.buffer)),vo}const af=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},hI=typeof af.encodeInto=="function"?function(i,e){return af.encodeInto(i,e)}:function(i,e){const t=af.encode(i);return e.set(t),{read:i.length,written:t.length}};function ca(i,e,t){if(t===void 0){const l=af.encode(i),u=e(l.length,1)>>>0;return nf().subarray(u,u+l.length).set(l),Si=l.length,u}let n=i.length,r=e(n,1)>>>0;const s=nf();let a=0;for(;a<n;a++){const l=i.charCodeAt(a);if(l>127)break;s[r+a]=l}if(a!==n){a!==0&&(i=i.slice(a)),r=t(r,n,n=a+i.length*3,1)>>>0;const l=nf().subarray(r+a,r+n),u=hI(i,l);a+=u.written,r=t(r,n,a,1)>>>0}return Si=a,r}function Td(i){return i==null}let go=null;function st(){return(go===null||go.byteLength===0)&&(go=new Int32Array(Ne.memory.buffer)),go}const lb=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&lb.decode();function Er(i,e){return i=i>>>0,lb.decode(nf().subarray(i,i+e))}function Wr(i){const e=Ne.__wbindgen_export_2.get(i);return Ne.__externref_table_dealloc(i),e}function dI(i){try{const r=Ne.__wbindgen_add_to_stack_pointer(-16),s=ca(i,Ne.__wbindgen_malloc,Ne.__wbindgen_realloc),a=Si;Ne.namedNode(r,s,a);var e=st()[r/4+0],t=st()[r/4+1],n=st()[r/4+2];if(n)throw Wr(t);return El.__wrap(e)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}function pI(i){try{const a=Ne.__wbindgen_add_to_stack_pointer(-16);var e=Td(i)?0:ca(i,Ne.__wbindgen_malloc,Ne.__wbindgen_realloc),t=Si;Ne.blankNode(a,e,t);var n=st()[a/4+0],r=st()[a/4+1],s=st()[a/4+2];if(s)throw Wr(r);return Oo.__wrap(n)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}function _I(i,e){try{const l=Ne.__wbindgen_add_to_stack_pointer(-16);var t=Td(i)?0:ca(i,Ne.__wbindgen_malloc,Ne.__wbindgen_realloc),n=Si;Ne.literal(l,t,n,e);var r=st()[l/4+0],s=st()[l/4+1],a=st()[l/4+2];if(a)throw Wr(s);return Bo.__wrap(r)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}function vI(){const i=Ne.defaultGraph();return Lo.__wrap(i)}function gI(i){try{const r=Ne.__wbindgen_add_to_stack_pointer(-16),s=ca(i,Ne.__wbindgen_malloc,Ne.__wbindgen_realloc),a=Si;Ne.variable(r,s,a);var e=st()[r/4+0],t=st()[r/4+1],n=st()[r/4+2];if(n)throw Wr(t);return Uo.__wrap(e)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}function mI(i,e,t){try{const a=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.triple(a,i,e,t);var n=st()[a/4+0],r=st()[a/4+1],s=st()[a/4+2];if(s)throw Wr(r);return Dl.__wrap(n)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}function bI(i,e,t,n){try{const l=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.quad(l,i,e,t,n);var r=st()[l/4+0],s=st()[l/4+1],a=st()[l/4+2];if(a)throw Wr(s);return Dl.__wrap(r)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}function wI(i){try{const r=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.fromTerm(r,i);var e=st()[r/4+0],t=st()[r/4+1],n=st()[r/4+2];if(n)throw Wr(t);return Wr(e)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}function yI(i){try{const r=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.fromQuad(r,i);var e=st()[r/4+0],t=st()[r/4+1],n=st()[r/4+2];if(n)throw Wr(t);return Wr(e)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}let mo=null;function EI(){return(mo===null||mo.byteLength===0)&&(mo=new Uint32Array(Ne.memory.buffer)),mo}function DI(i,e){i=i>>>0;const n=EI().subarray(i/4,i/4+e),r=[];for(let s=0;s<n.length;s++)r.push(Ne.__wbindgen_export_2.get(n[s]));return Ne.__externref_drop_slice(i,e),r}function AI(){Ne.main()}function kI(i){const e=Ne.__externref_table_alloc();return Ne.__wbindgen_export_2.set(e,i),e}function pi(i,e){try{return i.apply(this,e)}catch(t){const n=kI(t);Ne.__wbindgen_exn_store(n)}}const X0=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(i=>Ne.__wbg_blanknode_free(i>>>0));class Oo{static __wrap(e){e=e>>>0;const t=Object.create(Oo.prototype);return t.__wbg_ptr=e,X0.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,X0.unregister(this),e}free(){const e=this.__destroy_into_raw();Ne.__wbg_blanknode_free(e)}get termType(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.blanknode_term_type(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}get value(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.blanknode_value(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}toString(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.blanknode_toString(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}equals(e){return Ne.blanknode_equals(this.__wbg_ptr,e)!==0}}const W0=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(i=>Ne.__wbg_defaultgraph_free(i>>>0));class Lo{static __wrap(e){e=e>>>0;const t=Object.create(Lo.prototype);return t.__wbg_ptr=e,W0.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,W0.unregister(this),e}free(){const e=this.__destroy_into_raw();Ne.__wbg_defaultgraph_free(e)}get termType(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.defaultgraph_term_type(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}get value(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.defaultgraph_value(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}toString(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.defaultgraph_toString(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}equals(e){return Ne.defaultgraph_equals(this.__wbg_ptr,e)!==0}}const Q0=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(i=>Ne.__wbg_literal_free(i>>>0));class Bo{static __wrap(e){e=e>>>0;const t=Object.create(Bo.prototype);return t.__wbg_ptr=e,Q0.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Q0.unregister(this),e}free(){const e=this.__destroy_into_raw();Ne.__wbg_literal_free(e)}get termType(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.literal_term_type(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}get value(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.literal_value(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}get language(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.literal_language(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}get datatype(){const e=Ne.literal_datatype(this.__wbg_ptr);return El.__wrap(e)}toString(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.literal_toString(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}equals(e){return Ne.literal_equals(this.__wbg_ptr,e)!==0}}const Y0=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(i=>Ne.__wbg_namednode_free(i>>>0));class El{static __wrap(e){e=e>>>0;const t=Object.create(El.prototype);return t.__wbg_ptr=e,Y0.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Y0.unregister(this),e}free(){const e=this.__destroy_into_raw();Ne.__wbg_namednode_free(e)}get termType(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.namednode_term_type(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}get value(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.namednode_value(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}toString(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.namednode_toString(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}equals(e){return Ne.namednode_equals(this.__wbg_ptr,e)!==0}}const K0=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(i=>Ne.__wbg_quad_free(i>>>0));class Dl{static __wrap(e){e=e>>>0;const t=Object.create(Dl.prototype);return t.__wbg_ptr=e,K0.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,K0.unregister(this),e}free(){const e=this.__destroy_into_raw();Ne.__wbg_quad_free(e)}get termType(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.quad_term_type(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}get value(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.defaultgraph_value(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}get subject(){return Ne.quad_subject(this.__wbg_ptr)}get predicate(){return Ne.quad_predicate(this.__wbg_ptr)}get object(){return Ne.quad_object(this.__wbg_ptr)}get graph(){return Ne.quad_graph(this.__wbg_ptr)}toString(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.quad_toString(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}equals(e){return Ne.quad_equals(this.__wbg_ptr,e)!==0}}const CI=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(i=>Ne.__wbg_store_free(i>>>0));class ob{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,CI.unregister(this),e}free(){const e=this.__destroy_into_raw();Ne.__wbg_store_free(e)}constructor(e){try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.store_new(s,e);var t=st()[s/4+0],n=st()[s/4+1],r=st()[s/4+2];if(r)throw Wr(n);return this.__wbg_ptr=t>>>0,this}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}add(e){try{const r=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.store_add(r,this.__wbg_ptr,e);var t=st()[r/4+0],n=st()[r/4+1];if(n)throw Wr(t)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}delete(e){try{const r=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.store_delete(r,this.__wbg_ptr,e);var t=st()[r/4+0],n=st()[r/4+1];if(n)throw Wr(t)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}has(e){try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.store_has(s,this.__wbg_ptr,e);var t=st()[s/4+0],n=st()[s/4+1],r=st()[s/4+2];if(r)throw Wr(n);return t!==0}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}get size(){try{const r=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.store_size(r,this.__wbg_ptr);var e=st()[r/4+0],t=st()[r/4+1],n=st()[r/4+2];if(n)throw Wr(t);return e>>>0}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}match(e,t,n,r){try{const h=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.store_match(h,this.__wbg_ptr,e,t,n,r);var s=st()[h/4+0],a=st()[h/4+1],l=st()[h/4+2],u=st()[h/4+3];if(u)throw Wr(l);var f=DI(s,a).slice();return Ne.__wbindgen_free(s,a*4,4),f}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}query(e,t){try{const a=Ne.__wbindgen_add_to_stack_pointer(-16),l=ca(e,Ne.__wbindgen_malloc,Ne.__wbindgen_realloc),u=Si;Ne.store_query(a,this.__wbg_ptr,l,u,t);var n=st()[a/4+0],r=st()[a/4+1],s=st()[a/4+2];if(s)throw Wr(r);return Wr(n)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}update(e,t){try{const s=Ne.__wbindgen_add_to_stack_pointer(-16),a=ca(e,Ne.__wbindgen_malloc,Ne.__wbindgen_realloc),l=Si;Ne.store_update(s,this.__wbg_ptr,a,l,t);var n=st()[s/4+0],r=st()[s/4+1];if(r)throw Wr(n)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}load(e,t,n,r){try{const l=Ne.__wbindgen_add_to_stack_pointer(-16),u=ca(e,Ne.__wbindgen_malloc,Ne.__wbindgen_realloc),f=Si;Ne.store_load(l,this.__wbg_ptr,u,f,t,n,r);var s=st()[l/4+0],a=st()[l/4+1];if(a)throw Wr(s)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}dump(e,t){let n,r;try{const v=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.store_dump(v,this.__wbg_ptr,e,t);var s=st()[v/4+0],a=st()[v/4+1],l=st()[v/4+2],u=st()[v/4+3],f=s,h=a;if(u)throw f=0,h=0,Wr(l);return n=f,r=h,Er(f,h)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(n,r,1)}}}const J0=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(i=>Ne.__wbg_variable_free(i>>>0));class Uo{static __wrap(e){e=e>>>0;const t=Object.create(Uo.prototype);return t.__wbg_ptr=e,J0.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,J0.unregister(this),e}free(){const e=this.__destroy_into_raw();Ne.__wbg_variable_free(e)}get termType(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.variable_term_type(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}get value(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.variable_value(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}toString(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.variable_toString(s,this.__wbg_ptr);var n=st()[s/4+0],r=st()[s/4+1];return e=n,t=r,Er(n,r)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}equals(e){return Ne.variable_equals(this.__wbg_ptr,e)!==0}}async function TI(i,e){if(typeof Response=="function"&&i instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(i,e)}catch(n){if(i.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n);else throw n}const t=await i.arrayBuffer();return await WebAssembly.instantiate(t,e)}else{const t=await WebAssembly.instantiate(i,e);return t instanceof WebAssembly.Instance?{instance:t,module:i}:t}}function ub(){const i={};return i.wbg={},i.wbg.__wbindgen_is_undefined=function(e){return e===void 0},i.wbg.__wbindgen_is_null=function(e){return e===null},i.wbg.__wbindgen_string_get=function(e,t){const n=t,r=typeof n=="string"?n:void 0;var s=Td(r)?0:ca(r,Ne.__wbindgen_malloc,Ne.__wbindgen_realloc),a=Si;st()[e/4+1]=a,st()[e/4+0]=s},i.wbg.__wbindgen_is_falsy=function(e){return!e},i.wbg.__wbindgen_error_new=function(e,t){return new Error(Er(e,t))},i.wbg.__wbg_quad_new=function(e){return Dl.__wrap(e)},i.wbg.__wbg_namednode_new=function(e){return El.__wrap(e)},i.wbg.__wbg_blanknode_new=function(e){return Oo.__wrap(e)},i.wbg.__wbg_literal_new=function(e){return Bo.__wrap(e)},i.wbg.__wbg_defaultgraph_new=function(e){return Lo.__wrap(e)},i.wbg.__wbg_variable_new=function(e){return Uo.__wrap(e)},i.wbg.__wbg_new_28c511d9baebfa89=function(e,t){return new Error(Er(e,t))},i.wbg.__wbindgen_string_new=function(e,t){return Er(e,t)},i.wbg.__wbg_new_57421e8974065233=function(e,t){return new URIError(Er(e,t))},i.wbg.__wbindgen_is_string=function(e){return typeof e=="string"},i.wbg.__wbg_iterator_2cee6dadfd956dfa=function(){return Symbol.iterator},i.wbg.__wbg_get_e3c254076557e348=function(){return pi(function(e,t){return Reflect.get(e,t)},arguments)},i.wbg.__wbindgen_is_function=function(e){return typeof e=="function"},i.wbg.__wbg_call_27c0f87801dedf93=function(){return pi(function(e,t){return e.call(t)},arguments)},i.wbg.__wbindgen_is_object=function(e){const t=e;return typeof t=="object"&&t!==null},i.wbg.__wbg_next_40fc327bfc8770e6=function(e){return e.next},i.wbg.__wbg_next_196c84450b364254=function(){return pi(function(e){return e.next()},arguments)},i.wbg.__wbg_done_298b57d23c0fc80c=function(e){return e.done},i.wbg.__wbg_value_d93c65011f51a456=function(e){return e.value},i.wbg.__wbg_new_16b304a2cfa7ff4a=function(){return new Array},i.wbg.__wbg_new_d9bc3a0147634640=function(){return new Map},i.wbg.__wbg_push_a5b05aedc7234f9f=function(e,t){return e.push(t)},i.wbg.__wbg_set_8417257aaedc936b=function(e,t,n){return e.set(t,n)},i.wbg.__wbg_warn_e3cf7681777e295c=function(e,t){console.warn(Er(e,t))},i.wbg.__wbg_new_abda76e883ba8a5f=function(){return new Error},i.wbg.__wbg_stack_658279fe44541cf6=function(e,t){const n=t.stack,r=ca(n,Ne.__wbindgen_malloc,Ne.__wbindgen_realloc),s=Si;st()[e/4+1]=s,st()[e/4+0]=r},i.wbg.__wbg_error_f851667af71bcfc6=function(e,t){let n,r;try{n=e,r=t,console.error(Er(e,t))}finally{Ne.__wbindgen_free(n,r,1)}},i.wbg.__wbg_crypto_1d1f22824a6a080c=function(e){return e.crypto},i.wbg.__wbg_process_4a72847cc503995b=function(e){return e.process},i.wbg.__wbg_versions_f686565e586dd935=function(e){return e.versions},i.wbg.__wbg_node_104a2ff8d6ea03a2=function(e){return e.node},i.wbg.__wbg_require_cca90b1a94a0255b=function(){return pi(function(){return module.require},arguments)},i.wbg.__wbg_msCrypto_eb05e62b530a1508=function(e){return e.msCrypto},i.wbg.__wbg_newwithlength_e9b4878cebadb3d3=function(e){return new Uint8Array(e>>>0)},i.wbg.__wbg_self_ce0dbfc45cf2f5be=function(){return pi(function(){return self.self},arguments)},i.wbg.__wbg_window_c6fb939a7f436783=function(){return pi(function(){return window.window},arguments)},i.wbg.__wbg_globalThis_d1e6af4856ba331b=function(){return pi(function(){return globalThis.globalThis},arguments)},i.wbg.__wbg_global_207b558942527489=function(){return pi(function(){return global.global},arguments)},i.wbg.__wbg_newnoargs_e258087cd0daa0ea=function(e,t){return new Function(Er(e,t))},i.wbg.__wbg_call_b3ca7c6051f9bec1=function(){return pi(function(e,t,n){return e.call(t,n)},arguments)},i.wbg.__wbg_has_0af94d20077affa2=function(){return pi(function(e,t){return Reflect.has(e,t)},arguments)},i.wbg.__wbg_now_3014639a94423537=function(){return Date.now()},i.wbg.__wbindgen_memory=function(){return Ne.memory},i.wbg.__wbg_buffer_12d079cc21e14bdb=function(e){return e.buffer},i.wbg.__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb=function(e,t,n){return new Uint8Array(e,t>>>0,n>>>0)},i.wbg.__wbg_randomFillSync_5c9c955aa56b6049=function(){return pi(function(e,t){e.randomFillSync(t)},arguments)},i.wbg.__wbg_subarray_a1f73cd4b5b42fe1=function(e,t,n){return e.subarray(t>>>0,n>>>0)},i.wbg.__wbg_getRandomValues_3aa56aa6edec874c=function(){return pi(function(e,t){e.getRandomValues(t)},arguments)},i.wbg.__wbg_new_63b92bc8671ed464=function(e){return new Uint8Array(e)},i.wbg.__wbg_set_a47bac70306a19a7=function(e,t,n){e.set(t,n>>>0)},i.wbg.__wbindgen_throw=function(e,t){throw new Error(Er(e,t))},i.wbg.__wbindgen_init_externref_table=function(){const e=Ne.__wbindgen_export_2,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},i}function fb(i,e){return Ne=i.exports,yf.__wbindgen_wasm_module=e,go=null,mo=null,vo=null,Ne.__wbindgen_start(),Ne}function NI(i){if(Ne!==void 0)return Ne;const e=ub();i instanceof WebAssembly.Module||(i=new WebAssembly.Module(i));const t=new WebAssembly.Instance(i,e);return fb(t,i)}async function yf(i){if(Ne!==void 0)return Ne;typeof i>"u"&&(i=new URL(""+new URL("../assets/web_bg.gKr3Fjqn.wasm",import.meta.url).href,import.meta.url));const e=ub();(typeof i=="string"||typeof Request=="function"&&i instanceof Request||typeof URL=="function"&&i instanceof URL)&&(i=fetch(i));const{instance:t,module:n}=await TI(await i,e);return fb(t,n)}const SI=Object.freeze(Object.defineProperty({__proto__:null,BlankNode:Oo,DefaultGraph:Lo,Literal:Bo,NamedNode:El,Quad:Dl,Store:ob,Variable:Uo,blankNode:pI,default:yf,defaultGraph:vI,fromQuad:yI,fromTerm:wI,initSync:NI,literal:_I,main:AI,namedNode:dI,quad:bI,triple:mI,variable:gI},Symbol.toStringTag,{value:"Module"})),II="/ontologies/d3fend.ttl",cb="http://d3fend.mitre.org/ontologies/d3fend.owl#",RI="http://d3fend.mitre.org/ontologies/cad/instances#",PI="http://d3fend.mitre.org/ontologies/cad/",Mo="d3f",hb="dct",db="cad",ha="owl",Rs="rdf",Al="rdfs",pb="skos",_b="xsd",gl={[Mo]:cb,[db]:RI,[ha]:"http://www.w3.org/2002/07/owl#",[Rs]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",[Al]:"http://www.w3.org/2000/01/rdf-schema#",[_b]:"http://www.w3.org/2001/XMLSchema#",[hb]:"http://purl.org/dc/terms/",[pb]:"http://www.w3.org/2004/02/skos/core#"},Kn={[Mo]:cb,[ha]:"http://www.w3.org/2002/07/owl#",[Rs]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",[Al]:"http://www.w3.org/2000/01/rdf-schema#",[_b]:"http://www.w3.org/2001/XMLSchema#",[hb]:"http://purl.org/dc/terms/",[pb]:"http://www.w3.org/2004/02/skos/core#"};function FI(){const{subscribe:i,set:e,update:t}=nn({initalized:!1,store:null,erorr:null});async function n(){try{console.log("Starting Oxigraph initialization"),console.time("Initialize Oxigraph"),console.log("Oxigraph module:",SI),console.log("Init function:",yf),await yf(),console.log("WebAssembly initialized successfully");const s=new ob;console.log("Oxigraph store created"),e({initialized:!0,store:s,error:null}),await r(s),console.log(`Oxigraph store initialized with ${s.size} triples.`)}catch(s){e({initialized:!1,store:null,error:s.message}),console.error("Failed to initialize Oxigraph store:",s)}}async function r(s){try{console.time("Load D3FEND ontology");const l=await(await fetch(II)).text();s.load(l,{format:"ttl"}),console.timeEnd("Load D3FEND ontology"),console.log(`D3FEND ontology loaded, total triples: ${s.size}`)}catch(a){console.error("Failed to load D3FEND ontology:",a)}}return{subscribe:i,initialize:n,query:s=>new Promise((a,l)=>{t(u=>{if(!u.initialized)l(new Error("Oxigraph store not initialized"));else try{const f=u.store.query(s);a(f)}catch(f){l(f)}return u})})}}const jf=FI();async function vb(i){let e=null;return console.log("Calling lookup_valid_property..."),e=await BI(i),console.log(`Property from lookup IRI ${e}`),e==null&&(console.log("Calling lookup_valid_property_by_label..."),e=await LI(i)),e}async function OI(i){const e="lookup_valid_class_by_IRI("+i+")";console.info(e);const t=`PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX d3f: <http://d3fend.mitre.org/ontologies/d3fend.owl#>

SELECT ?class
WHERE
{
  VALUES ?class { ${i} }
  ?class rdfs:subClassOf* d3f:D3FENDThing .
}
LIMIT 1`;console.log({valid_value_query:t});let n=null;try{const r=await jf.query(t);r?(console.info(`Type of queryResult for class lookup by IRI ${i} is: `+Object.prototype.toString.call(r).slice(8,-1)),console.log({query_result:r}),Array.isArray(r)?r.length>0?n=r[0].get("class").value:console.warn(`Empty query results for valid class lookup by IRI ${i}.`):console.warn(`Query result not the expected Array type for class lookup by IRI of ${i}.`)):console.error(`Query results: ${r} for valid class lookup by IRI ${i}.`)}catch(r){console.warn(`Error executing oxigraph query for class lookup by IRI of: ${i}, error: ${r}`)}return console.info(n+" <- "+e),n}async function LI(i){const e="lookup_valid_property_by_label("+i+")";console.info(e);const t=`PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX d3f: <http://d3fend.mitre.org/ontologies/d3fend.owl#>

SELECT ?property
WHERE
{
  ?property rdfs:subPropertyOf* d3f:may-be-associated-with .
  ?property rdfs:label "${i}" .
}
LIMIT 1`;console.log({valid_value_query:t});let n=null;try{const r=await jf.query(t);r?(console.info(`Type of queryResult for property lookup by label ${i} is: `+Object.prototype.toString.call(r).slice(8,-1)),console.log({query_result:r}),Array.isArray(r)?r.length>0?n=r[0].get("property").value:console.warn(`Empty query results for valid property lookup by label ${i}.`):console.warn(`Query result not the expected Array type for property lookup by label of ${i}.`)):console.error(`Query results: ${r} for valid property lookup by label ${i}.`)}catch(r){console.warn(`Error executing oxigraph query for property lookup by label of: ${i}, error: ${r}`)}return console.info(n+" <- "+e),n}async function BI(i){const e="lookup_valid_property_by_IRI("+i+")";console.info(e);const t=`PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX d3f: <http://d3fend.mitre.org/ontologies/d3fend.owl#>

SELECT ?property
WHERE
{
  VALUES ?property { ${i} }
  ?property rdfs:subPropertyOf* d3f:may-be-associated-with .
}
LIMIT 1`;let n=null;if(i.includes(":"))try{const r=await jf.query(t);console.info({query_result:r}),r?Array.isArray(r)?r.length>0?n=r[0].get("property").value:console.warn(`Empty array returned for property lookup by iri of ${i}.`):console.warn(`Query result not the expected Array type for property lookup by iri of ${i}.`):console.warn(`Undefined query result returned for property lookup by iri of ${i}.`)}catch(r){console.warn(`Error executing oxigraph query for property lookup by iri of: ${i}, error: ${r}`)}else console.warn("Attempted lookup by iri of: "+i+" but iri has no ':' char");return console.info(n+" <- "+e),n}var Ef={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Ef.exports;(function(i,e){(function(){var t,n="4.17.21",r=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",l="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",f=500,h="__lodash_placeholder__",v=1,p=2,d=4,_=1,g=2,b=1,D=2,B=4,S=8,O=16,y=32,N=64,T=128,j=256,F=512,q=30,k="...",L=800,A=16,R=1,Y=2,z=3,ue=1/0,re=9007199254740991,ee=17976931348623157e292,$=NaN,Q=4294967295,pe=Q-1,J=Q>>>1,de=[["ary",T],["bind",b],["bindKey",D],["curry",S],["curryRight",O],["flip",F],["partial",y],["partialRight",N],["rearg",j]],it="[object Arguments]",nt="[object Array]",Fe="[object AsyncFunction]",ze="[object Boolean]",Ce="[object Date]",Ee="[object DOMException]",Ge="[object Error]",Dt="[object Function]",lt="[object GeneratorFunction]",ge="[object Map]",Me="[object Number]",nr="[object Null]",sr="[object Object]",xr="[object Promise]",ur="[object Proxy]",Tr="[object RegExp]",fr="[object Set]",mt="[object String]",At="[object Symbol]",tt="[object Undefined]",Le="[object WeakMap]",ot="[object WeakSet]",W="[object ArrayBuffer]",P="[object DataView]",M="[object Float32Array]",te="[object Float64Array]",De="[object Int8Array]",Be="[object Int16Array]",Ve="[object Int32Array]",kt="[object Uint8Array]",Mt="[object Uint8ClampedArray]",St="[object Uint16Array]",Ht="[object Uint32Array]",Zt=/\b__p \+= '';/g,Pi=/\b(__p \+=) '' \+/g,Fs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Nn=/&(?:amp|lt|gt|quot|#39);/g,Fi=/[&<>"']/g,kl=RegExp(Nn.source),Oi=RegExp(Fi.source),Cl=/<%-([\s\S]+?)%>/g,Os=/<%([\s\S]+?)%>/g,Ls=/<%=([\s\S]+?)%>/g,Da=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ja=/^\w*$/,Tl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Aa=/[\\^$.*+?()[\]{}|]/g,Nl=RegExp(Aa.source),hn=/^\s+/,ye=/\s/,he=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Te=/\{\n\/\* \[wrapped with (.+)\] \*/,xe=/,? & /,qe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,bt=/[()=,{}\[\]\/\s]/,ht=/\\(\\)?/g,Ct=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pr=/\w*$/,Lr=/^[-+]0x[0-9a-f]+$/i,Wt=/^0b[01]+$/i,cr=/^\[object .+?Constructor\]$/,Nr=/^0o[0-7]+$/i,Ot=/^(?:0|[1-9]\d*)$/,hr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_r=/($^)/,mr=/['\n\r\u2028\u2029\\]/g,bn="\\ud800-\\udfff",sn="\\u0300-\\u036f",ln="\\ufe20-\\ufe2f",Li="\\u20d0-\\u20ff",ei=sn+ln+Li,on="\\u2700-\\u27bf",wn="a-z\\xdf-\\xf6\\xf8-\\xff",wi="\\xac\\xb1\\xd7\\xf7",dn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ti="\\u2000-\\u206f",Za=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ka="A-Z\\xc0-\\xd6\\xd8-\\xde",ri="\\ufe0e\\ufe0f",ni=wi+dn+ti+Za,yi="['’]",es="["+bn+"]",Bi="["+ni+"]",Vn="["+ei+"]",Hn="\\d+",ii="["+on+"]",ts="["+wn+"]",Sl="[^"+bn+ni+Hn+on+wn+ka+"]",Bs="\\ud83c[\\udffb-\\udfff]",qo="(?:"+Vn+"|"+Bs+")",Il="[^"+bn+"]",Ca="(?:\\ud83c[\\udde6-\\uddff]){2}",Us="[\\ud800-\\udbff][\\udc00-\\udfff]",un="["+ka+"]",$n="\\u200d",rs="(?:"+ts+"|"+Sl+")",jo="(?:"+un+"|"+Sl+")",Rl="(?:"+yi+"(?:d|ll|m|re|s|t|ve))?",Pl="(?:"+yi+"(?:D|LL|M|RE|S|T|VE))?",Fl=qo+"?",xo="["+ri+"]?",zf="(?:"+$n+"(?:"+[Il,Ca,Us].join("|")+")"+xo+Fl+")*",zo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Vf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Vo=xo+Fl+zf,Ho="(?:"+[ii,Ca,Us].join("|")+")"+Vo,Hf="(?:"+[Il+Vn+"?",Vn,Ca,Us,es].join("|")+")",$f=RegExp(yi,"g"),$o=RegExp(Vn,"g"),Ol=RegExp(Bs+"(?="+Bs+")|"+Hf+Vo,"g"),Gf=RegExp([un+"?"+ts+"+"+Rl+"(?="+[Bi,un,"$"].join("|")+")",jo+"+"+Pl+"(?="+[Bi,un+rs,"$"].join("|")+")",un+"?"+rs+"+"+Rl,un+"+"+Pl,Vf,zo,Hn,Ho].join("|"),"g"),Go=RegExp("["+$n+bn+ei+ri+"]"),Xf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Wf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xo=-1,Sr={};Sr[M]=Sr[te]=Sr[De]=Sr[Be]=Sr[Ve]=Sr[kt]=Sr[Mt]=Sr[St]=Sr[Ht]=!0,Sr[it]=Sr[nt]=Sr[W]=Sr[ze]=Sr[P]=Sr[Ce]=Sr[Ge]=Sr[Dt]=Sr[ge]=Sr[Me]=Sr[sr]=Sr[Tr]=Sr[fr]=Sr[mt]=Sr[Le]=!1;var yr={};yr[it]=yr[nt]=yr[W]=yr[P]=yr[ze]=yr[Ce]=yr[M]=yr[te]=yr[De]=yr[Be]=yr[Ve]=yr[ge]=yr[Me]=yr[sr]=yr[Tr]=yr[fr]=yr[mt]=yr[At]=yr[kt]=yr[Mt]=yr[St]=yr[Ht]=!0,yr[Ge]=yr[Dt]=yr[Le]=!1;var Wo={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Qf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Yf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Qo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Kf=parseFloat,Jf=parseInt,Ll=typeof ua=="object"&&ua&&ua.Object===Object&&ua,Zf=typeof self=="object"&&self&&self.Object===Object&&self,Jr=Ll||Zf||Function("return this")(),Ms=e&&!e.nodeType&&e,Ji=Ms&&!0&&i&&!i.nodeType&&i,Yo=Ji&&Ji.exports===Ms,Bl=Yo&&Ll.process,Sn=function(){try{var Ie=Ji&&Ji.require&&Ji.require("util").types;return Ie||Bl&&Bl.binding&&Bl.binding("util")}catch{}}(),Ko=Sn&&Sn.isArrayBuffer,Jo=Sn&&Sn.isDate,Zo=Sn&&Sn.isMap,eu=Sn&&Sn.isRegExp,tu=Sn&&Sn.isSet,ru=Sn&&Sn.isTypedArray;function yn(Ie,$e,je){switch(je.length){case 0:return Ie.call($e);case 1:return Ie.call($e,je[0]);case 2:return Ie.call($e,je[0],je[1]);case 3:return Ie.call($e,je[0],je[1],je[2])}return Ie.apply($e,je)}function ec(Ie,$e,je,_t){for(var Ut=-1,or=Ie==null?0:Ie.length;++Ut<or;){var $r=Ie[Ut];$e(_t,$r,je($r),Ie)}return _t}function In(Ie,$e){for(var je=-1,_t=Ie==null?0:Ie.length;++je<_t&&$e(Ie[je],je,Ie)!==!1;);return Ie}function tc(Ie,$e){for(var je=Ie==null?0:Ie.length;je--&&$e(Ie[je],je,Ie)!==!1;);return Ie}function nu(Ie,$e){for(var je=-1,_t=Ie==null?0:Ie.length;++je<_t;)if(!$e(Ie[je],je,Ie))return!1;return!0}function Ui(Ie,$e){for(var je=-1,_t=Ie==null?0:Ie.length,Ut=0,or=[];++je<_t;){var $r=Ie[je];$e($r,je,Ie)&&(or[Ut++]=$r)}return or}function qs(Ie,$e){var je=Ie==null?0:Ie.length;return!!je&&Ta(Ie,$e,0)>-1}function Ul(Ie,$e,je){for(var _t=-1,Ut=Ie==null?0:Ie.length;++_t<Ut;)if(je($e,Ie[_t]))return!0;return!1}function Rr(Ie,$e){for(var je=-1,_t=Ie==null?0:Ie.length,Ut=Array(_t);++je<_t;)Ut[je]=$e(Ie[je],je,Ie);return Ut}function Mi(Ie,$e){for(var je=-1,_t=$e.length,Ut=Ie.length;++je<_t;)Ie[Ut+je]=$e[je];return Ie}function js(Ie,$e,je,_t){var Ut=-1,or=Ie==null?0:Ie.length;for(_t&&or&&(je=Ie[++Ut]);++Ut<or;)je=$e(je,Ie[Ut],Ut,Ie);return je}function rc(Ie,$e,je,_t){var Ut=Ie==null?0:Ie.length;for(_t&&Ut&&(je=Ie[--Ut]);Ut--;)je=$e(je,Ie[Ut],Ut,Ie);return je}function Ml(Ie,$e){for(var je=-1,_t=Ie==null?0:Ie.length;++je<_t;)if($e(Ie[je],je,Ie))return!0;return!1}var nc=Na("length");function ic(Ie){return Ie.split("")}function ac(Ie){return Ie.match(qe)||[]}function iu(Ie,$e,je){var _t;return je(Ie,function(Ut,or,$r){if($e(Ut,or,$r))return _t=or,!1}),_t}function xs(Ie,$e,je,_t){for(var Ut=Ie.length,or=je+(_t?1:-1);_t?or--:++or<Ut;)if($e(Ie[or],or,Ie))return or;return-1}function Ta(Ie,$e,je){return $e===$e?cc(Ie,$e,je):xs(Ie,C,je)}function sc(Ie,$e,je,_t){for(var Ut=je-1,or=Ie.length;++Ut<or;)if(_t(Ie[Ut],$e))return Ut;return-1}function C(Ie){return Ie!==Ie}function ft(Ie,$e){var je=Ie==null?0:Ie.length;return je?ns(Ie,$e)/je:$}function Na(Ie){return function($e){return $e==null?t:$e[Ie]}}function Rn(Ie){return function($e){return Ie==null?t:Ie[$e]}}function zs(Ie,$e,je,_t,Ut){return Ut(Ie,function(or,$r,br){je=_t?(_t=!1,or):$e(je,or,$r,br)}),je}function Vs(Ie,$e){var je=Ie.length;for(Ie.sort($e);je--;)Ie[je]=Ie[je].value;return Ie}function ns(Ie,$e){for(var je,_t=-1,Ut=Ie.length;++_t<Ut;){var or=$e(Ie[_t]);or!==t&&(je=je===t?or:je+or)}return je}function qt(Ie,$e){for(var je=-1,_t=Array(Ie);++je<Ie;)_t[je]=$e(je);return _t}function vr(Ie,$e){return Rr($e,function(je){return[je,Ie[je]]})}function au(Ie){return Ie&&Ie.slice(0,xl(Ie)+1).replace(hn,"")}function pn(Ie){return function($e){return Ie($e)}}function is(Ie,$e){return Rr($e,function(je){return Ie[je]})}function Oe(Ie,$e){return Ie.has($e)}function su(Ie,$e){for(var je=-1,_t=Ie.length;++je<_t&&Ta($e,Ie[je],0)>-1;);return je}function lu(Ie,$e){for(var je=Ie.length;je--&&Ta($e,Ie[je],0)>-1;);return je}function ou(Ie,$e){for(var je=Ie.length,_t=0;je--;)Ie[je]===$e&&++_t;return _t}var uu=Rn(Wo),lc=Rn(Qf);function ct(Ie){return"\\"+Qo[Ie]}function oc(Ie,$e){return Ie==null?t:Ie[$e]}function Sa(Ie){return Go.test(Ie)}function uc(Ie){return Xf.test(Ie)}function fc(Ie){for(var $e,je=[];!($e=Ie.next()).done;)je.push($e.value);return je}function ql(Ie){var $e=-1,je=Array(Ie.size);return Ie.forEach(function(_t,Ut){je[++$e]=[Ut,_t]}),je}function fu(Ie,$e){return function(je){return Ie($e(je))}}function ai(Ie,$e){for(var je=-1,_t=Ie.length,Ut=0,or=[];++je<_t;){var $r=Ie[je];($r===$e||$r===h)&&(Ie[je]=h,or[Ut++]=je)}return or}function Ia(Ie){var $e=-1,je=Array(Ie.size);return Ie.forEach(function(_t){je[++$e]=_t}),je}function jl(Ie){var $e=-1,je=Array(Ie.size);return Ie.forEach(function(_t){je[++$e]=[_t,_t]}),je}function cc(Ie,$e,je){for(var _t=je-1,Ut=Ie.length;++_t<Ut;)if(Ie[_t]===$e)return _t;return-1}function hc(Ie,$e,je){for(var _t=je+1;_t--;)if(Ie[_t]===$e)return _t;return _t}function si(Ie){return Sa(Ie)?dc(Ie):nc(Ie)}function Gn(Ie){return Sa(Ie)?pc(Ie):ic(Ie)}function xl(Ie){for(var $e=Ie.length;$e--&&ye.test(Ie.charAt($e)););return $e}var cu=Rn(Yf);function dc(Ie){for(var $e=Ol.lastIndex=0;Ol.test(Ie);)++$e;return $e}function pc(Ie){return Ie.match(Ol)||[]}function _c(Ie){return Ie.match(Gf)||[]}var zl=function Ie($e){$e=$e==null?Jr:Ei.defaults(Jr.Object(),$e,Ei.pick(Jr,Wf));var je=$e.Array,_t=$e.Date,Ut=$e.Error,or=$e.Function,$r=$e.Math,br=$e.Object,Vl=$e.RegExp,vc=$e.String,Pn=$e.TypeError,Ra=je.prototype,gc=or.prototype,Pa=br.prototype,Hs=$e["__core-js_shared__"],$s=gc.toString,Tt=Pa.hasOwnProperty,Pr=0,hu=function(){var o=/[^.]+$/.exec(Hs&&Hs.keys&&Hs.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),Gs=Pa.toString,du=$s.call(br),Hl=Jr._,Yr=Vl("^"+$s.call(Tt).replace(Aa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),as=Yo?$e.Buffer:t,qi=$e.Symbol,li=$e.Uint8Array,pu=as?as.allocUnsafe:t,Zr=fu(br.getPrototypeOf,br),_u=br.create,vu=Pa.propertyIsEnumerable,ss=Ra.splice,$l=qi?qi.isConcatSpreadable:t,ls=qi?qi.iterator:t,rr=qi?qi.toStringTag:t,Fa=function(){try{var o=hs(br,"defineProperty");return o({},"",{}),o}catch{}}(),E=$e.clearTimeout!==Jr.clearTimeout&&$e.clearTimeout,x=_t&&_t.now!==Jr.Date.now&&_t.now,X=$e.setTimeout!==Jr.setTimeout&&$e.setTimeout,ne=$r.ceil,le=$r.floor,we=br.getOwnPropertySymbols,Ae=as?as.isBuffer:t,fe=$e.isFinite,pt=Ra.join,dr=fu(br.keys,br),Ir=$r.max,Br=$r.min,kb=_t.now,Cb=$e.parseInt,Id=$r.random,Tb=Ra.reverse,mc=hs($e,"DataView"),Gl=hs($e,"Map"),bc=hs($e,"Promise"),Xs=hs($e,"Set"),Xl=hs($e,"WeakMap"),Wl=hs(br,"create"),gu=Xl&&new Xl,Ws={},Nb=ds(mc),Sb=ds(Gl),Ib=ds(bc),Rb=ds(Xs),Pb=ds(Xl),mu=qi?qi.prototype:t,Ql=mu?mu.valueOf:t,Rd=mu?mu.toString:t;function Z(o){if(zr(o)&&!xt(o)&&!(o instanceof ar)){if(o instanceof oi)return o;if(Tt.call(o,"__wrapped__"))return Pp(o)}return new oi(o)}var Qs=function(){function o(){}return function(c){if(!jr(c))return{};if(_u)return _u(c);o.prototype=c;var m=new o;return o.prototype=t,m}}();function bu(){}function oi(o,c){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=t}Z.templateSettings={escape:Cl,evaluate:Os,interpolate:Ls,variable:"",imports:{_:Z}},Z.prototype=bu.prototype,Z.prototype.constructor=Z,oi.prototype=Qs(bu.prototype),oi.prototype.constructor=oi;function ar(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Q,this.__views__=[]}function Fb(){var o=new ar(this.__wrapped__);return o.__actions__=Fn(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=Fn(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=Fn(this.__views__),o}function Ob(){if(this.__filtered__){var o=new ar(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function Lb(){var o=this.__wrapped__.value(),c=this.__dir__,m=xt(o),U=c<0,K=m?o.length:0,ie=Xw(0,K,this.__views__),be=ie.start,ke=ie.end,Pe=ke-be,Ke=U?ke:be-1,Je=this.__iteratees__,rt=Je.length,dt=0,wt=Br(Pe,this.__takeCount__);if(!m||!U&&K==Pe&&wt==Pe)return tp(o,this.__actions__);var Lt=[];e:for(;Pe--&&dt<wt;){Ke+=c;for(var Yt=-1,Bt=o[Ke];++Yt<rt;){var ir=Je[Yt],lr=ir.iteratee,Qn=ir.type,An=lr(Bt);if(Qn==Y)Bt=An;else if(!An){if(Qn==R)continue e;break e}}Lt[dt++]=Bt}return Lt}ar.prototype=Qs(bu.prototype),ar.prototype.constructor=ar;function os(o){var c=-1,m=o==null?0:o.length;for(this.clear();++c<m;){var U=o[c];this.set(U[0],U[1])}}function Bb(){this.__data__=Wl?Wl(null):{},this.size=0}function Ub(o){var c=this.has(o)&&delete this.__data__[o];return this.size-=c?1:0,c}function Mb(o){var c=this.__data__;if(Wl){var m=c[o];return m===u?t:m}return Tt.call(c,o)?c[o]:t}function qb(o){var c=this.__data__;return Wl?c[o]!==t:Tt.call(c,o)}function jb(o,c){var m=this.__data__;return this.size+=this.has(o)?0:1,m[o]=Wl&&c===t?u:c,this}os.prototype.clear=Bb,os.prototype.delete=Ub,os.prototype.get=Mb,os.prototype.has=qb,os.prototype.set=jb;function Zi(o){var c=-1,m=o==null?0:o.length;for(this.clear();++c<m;){var U=o[c];this.set(U[0],U[1])}}function xb(){this.__data__=[],this.size=0}function zb(o){var c=this.__data__,m=wu(c,o);if(m<0)return!1;var U=c.length-1;return m==U?c.pop():ss.call(c,m,1),--this.size,!0}function Vb(o){var c=this.__data__,m=wu(c,o);return m<0?t:c[m][1]}function Hb(o){return wu(this.__data__,o)>-1}function $b(o,c){var m=this.__data__,U=wu(m,o);return U<0?(++this.size,m.push([o,c])):m[U][1]=c,this}Zi.prototype.clear=xb,Zi.prototype.delete=zb,Zi.prototype.get=Vb,Zi.prototype.has=Hb,Zi.prototype.set=$b;function ea(o){var c=-1,m=o==null?0:o.length;for(this.clear();++c<m;){var U=o[c];this.set(U[0],U[1])}}function Gb(){this.size=0,this.__data__={hash:new os,map:new(Gl||Zi),string:new os}}function Xb(o){var c=Pu(this,o).delete(o);return this.size-=c?1:0,c}function Wb(o){return Pu(this,o).get(o)}function Qb(o){return Pu(this,o).has(o)}function Yb(o,c){var m=Pu(this,o),U=m.size;return m.set(o,c),this.size+=m.size==U?0:1,this}ea.prototype.clear=Gb,ea.prototype.delete=Xb,ea.prototype.get=Wb,ea.prototype.has=Qb,ea.prototype.set=Yb;function us(o){var c=-1,m=o==null?0:o.length;for(this.__data__=new ea;++c<m;)this.add(o[c])}function Kb(o){return this.__data__.set(o,u),this}function Jb(o){return this.__data__.has(o)}us.prototype.add=us.prototype.push=Kb,us.prototype.has=Jb;function Di(o){var c=this.__data__=new Zi(o);this.size=c.size}function Zb(){this.__data__=new Zi,this.size=0}function ew(o){var c=this.__data__,m=c.delete(o);return this.size=c.size,m}function tw(o){return this.__data__.get(o)}function rw(o){return this.__data__.has(o)}function nw(o,c){var m=this.__data__;if(m instanceof Zi){var U=m.__data__;if(!Gl||U.length<r-1)return U.push([o,c]),this.size=++m.size,this;m=this.__data__=new ea(U)}return m.set(o,c),this.size=m.size,this}Di.prototype.clear=Zb,Di.prototype.delete=ew,Di.prototype.get=tw,Di.prototype.has=rw,Di.prototype.set=nw;function Pd(o,c){var m=xt(o),U=!m&&ps(o),K=!m&&!U&&Ma(o),ie=!m&&!U&&!K&&Zs(o),be=m||U||K||ie,ke=be?qt(o.length,vc):[],Pe=ke.length;for(var Ke in o)(c||Tt.call(o,Ke))&&!(be&&(Ke=="length"||K&&(Ke=="offset"||Ke=="parent")||ie&&(Ke=="buffer"||Ke=="byteLength"||Ke=="byteOffset")||ia(Ke,Pe)))&&ke.push(Ke);return ke}function Fd(o){var c=o.length;return c?o[Ic(0,c-1)]:t}function iw(o,c){return Fu(Fn(o),fs(c,0,o.length))}function aw(o){return Fu(Fn(o))}function wc(o,c,m){(m!==t&&!Ai(o[c],m)||m===t&&!(c in o))&&ta(o,c,m)}function Yl(o,c,m){var U=o[c];(!(Tt.call(o,c)&&Ai(U,m))||m===t&&!(c in o))&&ta(o,c,m)}function wu(o,c){for(var m=o.length;m--;)if(Ai(o[m][0],c))return m;return-1}function sw(o,c,m,U){return Oa(o,function(K,ie,be){c(U,K,m(K),be)}),U}function Od(o,c){return o&&xi(c,en(c),o)}function lw(o,c){return o&&xi(c,Ln(c),o)}function ta(o,c,m){c=="__proto__"&&Fa?Fa(o,c,{configurable:!0,enumerable:!0,value:m,writable:!0}):o[c]=m}function yc(o,c){for(var m=-1,U=c.length,K=je(U),ie=o==null;++m<U;)K[m]=ie?t:th(o,c[m]);return K}function fs(o,c,m){return o===o&&(m!==t&&(o=o<=m?o:m),c!==t&&(o=o>=c?o:c)),o}function ui(o,c,m,U,K,ie){var be,ke=c&v,Pe=c&p,Ke=c&d;if(m&&(be=K?m(o,U,K,ie):m(o)),be!==t)return be;if(!jr(o))return o;var Je=xt(o);if(Je){if(be=Qw(o),!ke)return Fn(o,be)}else{var rt=_n(o),dt=rt==Dt||rt==lt;if(Ma(o))return ip(o,ke);if(rt==sr||rt==it||dt&&!K){if(be=Pe||dt?{}:Dp(o),!ke)return Pe?Mw(o,lw(be,o)):Uw(o,Od(be,o))}else{if(!yr[rt])return K?o:{};be=Yw(o,rt,ke)}}ie||(ie=new Di);var wt=ie.get(o);if(wt)return wt;ie.set(o,be),Jp(o)?o.forEach(function(Bt){be.add(ui(Bt,c,m,Bt,o,ie))}):Yp(o)&&o.forEach(function(Bt,ir){be.set(ir,ui(Bt,c,m,ir,o,ie))});var Lt=Ke?Pe?xc:jc:Pe?Ln:en,Yt=Je?t:Lt(o);return In(Yt||o,function(Bt,ir){Yt&&(ir=Bt,Bt=o[ir]),Yl(be,ir,ui(Bt,c,m,ir,o,ie))}),be}function ow(o){var c=en(o);return function(m){return Ld(m,o,c)}}function Ld(o,c,m){var U=m.length;if(o==null)return!U;for(o=br(o);U--;){var K=m[U],ie=c[K],be=o[K];if(be===t&&!(K in o)||!ie(be))return!1}return!0}function Bd(o,c,m){if(typeof o!="function")throw new Pn(a);return no(function(){o.apply(t,m)},c)}function Kl(o,c,m,U){var K=-1,ie=qs,be=!0,ke=o.length,Pe=[],Ke=c.length;if(!ke)return Pe;m&&(c=Rr(c,pn(m))),U?(ie=Ul,be=!1):c.length>=r&&(ie=Oe,be=!1,c=new us(c));e:for(;++K<ke;){var Je=o[K],rt=m==null?Je:m(Je);if(Je=U||Je!==0?Je:0,be&&rt===rt){for(var dt=Ke;dt--;)if(c[dt]===rt)continue e;Pe.push(Je)}else ie(c,rt,U)||Pe.push(Je)}return Pe}var Oa=up(ji),Ud=up(Dc,!0);function uw(o,c){var m=!0;return Oa(o,function(U,K,ie){return m=!!c(U,K,ie),m}),m}function yu(o,c,m){for(var U=-1,K=o.length;++U<K;){var ie=o[U],be=c(ie);if(be!=null&&(ke===t?be===be&&!Wn(be):m(be,ke)))var ke=be,Pe=ie}return Pe}function fw(o,c,m,U){var K=o.length;for(m=Qt(m),m<0&&(m=-m>K?0:K+m),U=U===t||U>K?K:Qt(U),U<0&&(U+=K),U=m>U?0:e_(U);m<U;)o[m++]=c;return o}function Md(o,c){var m=[];return Oa(o,function(U,K,ie){c(U,K,ie)&&m.push(U)}),m}function fn(o,c,m,U,K){var ie=-1,be=o.length;for(m||(m=Jw),K||(K=[]);++ie<be;){var ke=o[ie];c>0&&m(ke)?c>1?fn(ke,c-1,m,U,K):Mi(K,ke):U||(K[K.length]=ke)}return K}var Ec=fp(),qd=fp(!0);function ji(o,c){return o&&Ec(o,c,en)}function Dc(o,c){return o&&qd(o,c,en)}function Eu(o,c){return Ui(c,function(m){return aa(o[m])})}function cs(o,c){c=Ba(c,o);for(var m=0,U=c.length;o!=null&&m<U;)o=o[zi(c[m++])];return m&&m==U?o:t}function jd(o,c,m){var U=c(o);return xt(o)?U:Mi(U,m(o))}function En(o){return o==null?o===t?tt:nr:rr&&rr in br(o)?Gw(o):ay(o)}function Ac(o,c){return o>c}function cw(o,c){return o!=null&&Tt.call(o,c)}function hw(o,c){return o!=null&&c in br(o)}function dw(o,c,m){return o>=Br(c,m)&&o<Ir(c,m)}function kc(o,c,m){for(var U=m?Ul:qs,K=o[0].length,ie=o.length,be=ie,ke=je(ie),Pe=1/0,Ke=[];be--;){var Je=o[be];be&&c&&(Je=Rr(Je,pn(c))),Pe=Br(Je.length,Pe),ke[be]=!m&&(c||K>=120&&Je.length>=120)?new us(be&&Je):t}Je=o[0];var rt=-1,dt=ke[0];e:for(;++rt<K&&Ke.length<Pe;){var wt=Je[rt],Lt=c?c(wt):wt;if(wt=m||wt!==0?wt:0,!(dt?Oe(dt,Lt):U(Ke,Lt,m))){for(be=ie;--be;){var Yt=ke[be];if(!(Yt?Oe(Yt,Lt):U(o[be],Lt,m)))continue e}dt&&dt.push(Lt),Ke.push(wt)}}return Ke}function pw(o,c,m,U){return ji(o,function(K,ie,be){c(U,m(K),ie,be)}),U}function Jl(o,c,m){c=Ba(c,o),o=Tp(o,c);var U=o==null?o:o[zi(ci(c))];return U==null?t:yn(U,o,m)}function xd(o){return zr(o)&&En(o)==it}function _w(o){return zr(o)&&En(o)==W}function vw(o){return zr(o)&&En(o)==Ce}function Zl(o,c,m,U,K){return o===c?!0:o==null||c==null||!zr(o)&&!zr(c)?o!==o&&c!==c:gw(o,c,m,U,Zl,K)}function gw(o,c,m,U,K,ie){var be=xt(o),ke=xt(c),Pe=be?nt:_n(o),Ke=ke?nt:_n(c);Pe=Pe==it?sr:Pe,Ke=Ke==it?sr:Ke;var Je=Pe==sr,rt=Ke==sr,dt=Pe==Ke;if(dt&&Ma(o)){if(!Ma(c))return!1;be=!0,Je=!1}if(dt&&!Je)return ie||(ie=new Di),be||Zs(o)?wp(o,c,m,U,K,ie):Hw(o,c,Pe,m,U,K,ie);if(!(m&_)){var wt=Je&&Tt.call(o,"__wrapped__"),Lt=rt&&Tt.call(c,"__wrapped__");if(wt||Lt){var Yt=wt?o.value():o,Bt=Lt?c.value():c;return ie||(ie=new Di),K(Yt,Bt,m,U,ie)}}return dt?(ie||(ie=new Di),$w(o,c,m,U,K,ie)):!1}function mw(o){return zr(o)&&_n(o)==ge}function Cc(o,c,m,U){var K=m.length,ie=K,be=!U;if(o==null)return!ie;for(o=br(o);K--;){var ke=m[K];if(be&&ke[2]?ke[1]!==o[ke[0]]:!(ke[0]in o))return!1}for(;++K<ie;){ke=m[K];var Pe=ke[0],Ke=o[Pe],Je=ke[1];if(be&&ke[2]){if(Ke===t&&!(Pe in o))return!1}else{var rt=new Di;if(U)var dt=U(Ke,Je,Pe,o,c,rt);if(!(dt===t?Zl(Je,Ke,_|g,U,rt):dt))return!1}}return!0}function zd(o){if(!jr(o)||ey(o))return!1;var c=aa(o)?Yr:cr;return c.test(ds(o))}function bw(o){return zr(o)&&En(o)==Tr}function ww(o){return zr(o)&&_n(o)==fr}function yw(o){return zr(o)&&qu(o.length)&&!!Sr[En(o)]}function Vd(o){return typeof o=="function"?o:o==null?Bn:typeof o=="object"?xt(o)?Gd(o[0],o[1]):$d(o):c_(o)}function Tc(o){if(!ro(o))return dr(o);var c=[];for(var m in br(o))Tt.call(o,m)&&m!="constructor"&&c.push(m);return c}function Ew(o){if(!jr(o))return iy(o);var c=ro(o),m=[];for(var U in o)U=="constructor"&&(c||!Tt.call(o,U))||m.push(U);return m}function Nc(o,c){return o<c}function Hd(o,c){var m=-1,U=On(o)?je(o.length):[];return Oa(o,function(K,ie,be){U[++m]=c(K,ie,be)}),U}function $d(o){var c=Vc(o);return c.length==1&&c[0][2]?kp(c[0][0],c[0][1]):function(m){return m===o||Cc(m,o,c)}}function Gd(o,c){return $c(o)&&Ap(c)?kp(zi(o),c):function(m){var U=th(m,o);return U===t&&U===c?rh(m,o):Zl(c,U,_|g)}}function Du(o,c,m,U,K){o!==c&&Ec(c,function(ie,be){if(K||(K=new Di),jr(ie))Dw(o,c,be,m,Du,U,K);else{var ke=U?U(Xc(o,be),ie,be+"",o,c,K):t;ke===t&&(ke=ie),wc(o,be,ke)}},Ln)}function Dw(o,c,m,U,K,ie,be){var ke=Xc(o,m),Pe=Xc(c,m),Ke=be.get(Pe);if(Ke){wc(o,m,Ke);return}var Je=ie?ie(ke,Pe,m+"",o,c,be):t,rt=Je===t;if(rt){var dt=xt(Pe),wt=!dt&&Ma(Pe),Lt=!dt&&!wt&&Zs(Pe);Je=Pe,dt||wt||Lt?xt(ke)?Je=ke:Gr(ke)?Je=Fn(ke):wt?(rt=!1,Je=ip(Pe,!0)):Lt?(rt=!1,Je=ap(Pe,!0)):Je=[]:io(Pe)||ps(Pe)?(Je=ke,ps(ke)?Je=t_(ke):(!jr(ke)||aa(ke))&&(Je=Dp(Pe))):rt=!1}rt&&(be.set(Pe,Je),K(Je,Pe,U,ie,be),be.delete(Pe)),wc(o,m,Je)}function Xd(o,c){var m=o.length;if(m)return c+=c<0?m:0,ia(c,m)?o[c]:t}function Wd(o,c,m){c.length?c=Rr(c,function(ie){return xt(ie)?function(be){return cs(be,ie.length===1?ie[0]:ie)}:ie}):c=[Bn];var U=-1;c=Rr(c,pn(Ft()));var K=Hd(o,function(ie,be,ke){var Pe=Rr(c,function(Ke){return Ke(ie)});return{criteria:Pe,index:++U,value:ie}});return Vs(K,function(ie,be){return Bw(ie,be,m)})}function Aw(o,c){return Qd(o,c,function(m,U){return rh(o,U)})}function Qd(o,c,m){for(var U=-1,K=c.length,ie={};++U<K;){var be=c[U],ke=cs(o,be);m(ke,be)&&eo(ie,Ba(be,o),ke)}return ie}function kw(o){return function(c){return cs(c,o)}}function Sc(o,c,m,U){var K=U?sc:Ta,ie=-1,be=c.length,ke=o;for(o===c&&(c=Fn(c)),m&&(ke=Rr(o,pn(m)));++ie<be;)for(var Pe=0,Ke=c[ie],Je=m?m(Ke):Ke;(Pe=K(ke,Je,Pe,U))>-1;)ke!==o&&ss.call(ke,Pe,1),ss.call(o,Pe,1);return o}function Yd(o,c){for(var m=o?c.length:0,U=m-1;m--;){var K=c[m];if(m==U||K!==ie){var ie=K;ia(K)?ss.call(o,K,1):Fc(o,K)}}return o}function Ic(o,c){return o+le(Id()*(c-o+1))}function Cw(o,c,m,U){for(var K=-1,ie=Ir(ne((c-o)/(m||1)),0),be=je(ie);ie--;)be[U?ie:++K]=o,o+=m;return be}function Rc(o,c){var m="";if(!o||c<1||c>re)return m;do c%2&&(m+=o),c=le(c/2),c&&(o+=o);while(c);return m}function er(o,c){return Wc(Cp(o,c,Bn),o+"")}function Tw(o){return Fd(el(o))}function Nw(o,c){var m=el(o);return Fu(m,fs(c,0,m.length))}function eo(o,c,m,U){if(!jr(o))return o;c=Ba(c,o);for(var K=-1,ie=c.length,be=ie-1,ke=o;ke!=null&&++K<ie;){var Pe=zi(c[K]),Ke=m;if(Pe==="__proto__"||Pe==="constructor"||Pe==="prototype")return o;if(K!=be){var Je=ke[Pe];Ke=U?U(Je,Pe,ke):t,Ke===t&&(Ke=jr(Je)?Je:ia(c[K+1])?[]:{})}Yl(ke,Pe,Ke),ke=ke[Pe]}return o}var Kd=gu?function(o,c){return gu.set(o,c),o}:Bn,Sw=Fa?function(o,c){return Fa(o,"toString",{configurable:!0,enumerable:!1,value:ih(c),writable:!0})}:Bn;function Iw(o){return Fu(el(o))}function fi(o,c,m){var U=-1,K=o.length;c<0&&(c=-c>K?0:K+c),m=m>K?K:m,m<0&&(m+=K),K=c>m?0:m-c>>>0,c>>>=0;for(var ie=je(K);++U<K;)ie[U]=o[U+c];return ie}function Rw(o,c){var m;return Oa(o,function(U,K,ie){return m=c(U,K,ie),!m}),!!m}function Au(o,c,m){var U=0,K=o==null?U:o.length;if(typeof c=="number"&&c===c&&K<=J){for(;U<K;){var ie=U+K>>>1,be=o[ie];be!==null&&!Wn(be)&&(m?be<=c:be<c)?U=ie+1:K=ie}return K}return Pc(o,c,Bn,m)}function Pc(o,c,m,U){var K=0,ie=o==null?0:o.length;if(ie===0)return 0;c=m(c);for(var be=c!==c,ke=c===null,Pe=Wn(c),Ke=c===t;K<ie;){var Je=le((K+ie)/2),rt=m(o[Je]),dt=rt!==t,wt=rt===null,Lt=rt===rt,Yt=Wn(rt);if(be)var Bt=U||Lt;else Ke?Bt=Lt&&(U||dt):ke?Bt=Lt&&dt&&(U||!wt):Pe?Bt=Lt&&dt&&!wt&&(U||!Yt):wt||Yt?Bt=!1:Bt=U?rt<=c:rt<c;Bt?K=Je+1:ie=Je}return Br(ie,pe)}function Jd(o,c){for(var m=-1,U=o.length,K=0,ie=[];++m<U;){var be=o[m],ke=c?c(be):be;if(!m||!Ai(ke,Pe)){var Pe=ke;ie[K++]=be===0?0:be}}return ie}function Zd(o){return typeof o=="number"?o:Wn(o)?$:+o}function Xn(o){if(typeof o=="string")return o;if(xt(o))return Rr(o,Xn)+"";if(Wn(o))return Rd?Rd.call(o):"";var c=o+"";return c=="0"&&1/o==-ue?"-0":c}function La(o,c,m){var U=-1,K=qs,ie=o.length,be=!0,ke=[],Pe=ke;if(m)be=!1,K=Ul;else if(ie>=r){var Ke=c?null:zw(o);if(Ke)return Ia(Ke);be=!1,K=Oe,Pe=new us}else Pe=c?[]:ke;e:for(;++U<ie;){var Je=o[U],rt=c?c(Je):Je;if(Je=m||Je!==0?Je:0,be&&rt===rt){for(var dt=Pe.length;dt--;)if(Pe[dt]===rt)continue e;c&&Pe.push(rt),ke.push(Je)}else K(Pe,rt,m)||(Pe!==ke&&Pe.push(rt),ke.push(Je))}return ke}function Fc(o,c){return c=Ba(c,o),o=Tp(o,c),o==null||delete o[zi(ci(c))]}function ep(o,c,m,U){return eo(o,c,m(cs(o,c)),U)}function ku(o,c,m,U){for(var K=o.length,ie=U?K:-1;(U?ie--:++ie<K)&&c(o[ie],ie,o););return m?fi(o,U?0:ie,U?ie+1:K):fi(o,U?ie+1:0,U?K:ie)}function tp(o,c){var m=o;return m instanceof ar&&(m=m.value()),js(c,function(U,K){return K.func.apply(K.thisArg,Mi([U],K.args))},m)}function Oc(o,c,m){var U=o.length;if(U<2)return U?La(o[0]):[];for(var K=-1,ie=je(U);++K<U;)for(var be=o[K],ke=-1;++ke<U;)ke!=K&&(ie[K]=Kl(ie[K]||be,o[ke],c,m));return La(fn(ie,1),c,m)}function rp(o,c,m){for(var U=-1,K=o.length,ie=c.length,be={};++U<K;){var ke=U<ie?c[U]:t;m(be,o[U],ke)}return be}function Lc(o){return Gr(o)?o:[]}function Bc(o){return typeof o=="function"?o:Bn}function Ba(o,c){return xt(o)?o:$c(o,c)?[o]:Rp(gr(o))}var Pw=er;function Ua(o,c,m){var U=o.length;return m=m===t?U:m,!c&&m>=U?o:fi(o,c,m)}var np=E||function(o){return Jr.clearTimeout(o)};function ip(o,c){if(c)return o.slice();var m=o.length,U=pu?pu(m):new o.constructor(m);return o.copy(U),U}function Uc(o){var c=new o.constructor(o.byteLength);return new li(c).set(new li(o)),c}function Fw(o,c){var m=c?Uc(o.buffer):o.buffer;return new o.constructor(m,o.byteOffset,o.byteLength)}function Ow(o){var c=new o.constructor(o.source,pr.exec(o));return c.lastIndex=o.lastIndex,c}function Lw(o){return Ql?br(Ql.call(o)):{}}function ap(o,c){var m=c?Uc(o.buffer):o.buffer;return new o.constructor(m,o.byteOffset,o.length)}function sp(o,c){if(o!==c){var m=o!==t,U=o===null,K=o===o,ie=Wn(o),be=c!==t,ke=c===null,Pe=c===c,Ke=Wn(c);if(!ke&&!Ke&&!ie&&o>c||ie&&be&&Pe&&!ke&&!Ke||U&&be&&Pe||!m&&Pe||!K)return 1;if(!U&&!ie&&!Ke&&o<c||Ke&&m&&K&&!U&&!ie||ke&&m&&K||!be&&K||!Pe)return-1}return 0}function Bw(o,c,m){for(var U=-1,K=o.criteria,ie=c.criteria,be=K.length,ke=m.length;++U<be;){var Pe=sp(K[U],ie[U]);if(Pe){if(U>=ke)return Pe;var Ke=m[U];return Pe*(Ke=="desc"?-1:1)}}return o.index-c.index}function lp(o,c,m,U){for(var K=-1,ie=o.length,be=m.length,ke=-1,Pe=c.length,Ke=Ir(ie-be,0),Je=je(Pe+Ke),rt=!U;++ke<Pe;)Je[ke]=c[ke];for(;++K<be;)(rt||K<ie)&&(Je[m[K]]=o[K]);for(;Ke--;)Je[ke++]=o[K++];return Je}function op(o,c,m,U){for(var K=-1,ie=o.length,be=-1,ke=m.length,Pe=-1,Ke=c.length,Je=Ir(ie-ke,0),rt=je(Je+Ke),dt=!U;++K<Je;)rt[K]=o[K];for(var wt=K;++Pe<Ke;)rt[wt+Pe]=c[Pe];for(;++be<ke;)(dt||K<ie)&&(rt[wt+m[be]]=o[K++]);return rt}function Fn(o,c){var m=-1,U=o.length;for(c||(c=je(U));++m<U;)c[m]=o[m];return c}function xi(o,c,m,U){var K=!m;m||(m={});for(var ie=-1,be=c.length;++ie<be;){var ke=c[ie],Pe=U?U(m[ke],o[ke],ke,m,o):t;Pe===t&&(Pe=o[ke]),K?ta(m,ke,Pe):Yl(m,ke,Pe)}return m}function Uw(o,c){return xi(o,Hc(o),c)}function Mw(o,c){return xi(o,yp(o),c)}function Cu(o,c){return function(m,U){var K=xt(m)?ec:sw,ie=c?c():{};return K(m,o,Ft(U,2),ie)}}function Ys(o){return er(function(c,m){var U=-1,K=m.length,ie=K>1?m[K-1]:t,be=K>2?m[2]:t;for(ie=o.length>3&&typeof ie=="function"?(K--,ie):t,be&&Dn(m[0],m[1],be)&&(ie=K<3?t:ie,K=1),c=br(c);++U<K;){var ke=m[U];ke&&o(c,ke,U,ie)}return c})}function up(o,c){return function(m,U){if(m==null)return m;if(!On(m))return o(m,U);for(var K=m.length,ie=c?K:-1,be=br(m);(c?ie--:++ie<K)&&U(be[ie],ie,be)!==!1;);return m}}function fp(o){return function(c,m,U){for(var K=-1,ie=br(c),be=U(c),ke=be.length;ke--;){var Pe=be[o?ke:++K];if(m(ie[Pe],Pe,ie)===!1)break}return c}}function qw(o,c,m){var U=c&b,K=to(o);function ie(){var be=this&&this!==Jr&&this instanceof ie?K:o;return be.apply(U?m:this,arguments)}return ie}function cp(o){return function(c){c=gr(c);var m=Sa(c)?Gn(c):t,U=m?m[0]:c.charAt(0),K=m?Ua(m,1).join(""):c.slice(1);return U[o]()+K}}function Ks(o){return function(c){return js(u_(o_(c).replace($f,"")),o,"")}}function to(o){return function(){var c=arguments;switch(c.length){case 0:return new o;case 1:return new o(c[0]);case 2:return new o(c[0],c[1]);case 3:return new o(c[0],c[1],c[2]);case 4:return new o(c[0],c[1],c[2],c[3]);case 5:return new o(c[0],c[1],c[2],c[3],c[4]);case 6:return new o(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new o(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var m=Qs(o.prototype),U=o.apply(m,c);return jr(U)?U:m}}function jw(o,c,m){var U=to(o);function K(){for(var ie=arguments.length,be=je(ie),ke=ie,Pe=Js(K);ke--;)be[ke]=arguments[ke];var Ke=ie<3&&be[0]!==Pe&&be[ie-1]!==Pe?[]:ai(be,Pe);if(ie-=Ke.length,ie<m)return vp(o,c,Tu,K.placeholder,t,be,Ke,t,t,m-ie);var Je=this&&this!==Jr&&this instanceof K?U:o;return yn(Je,this,be)}return K}function hp(o){return function(c,m,U){var K=br(c);if(!On(c)){var ie=Ft(m,3);c=en(c),m=function(ke){return ie(K[ke],ke,K)}}var be=o(c,m,U);return be>-1?K[ie?c[be]:be]:t}}function dp(o){return na(function(c){var m=c.length,U=m,K=oi.prototype.thru;for(o&&c.reverse();U--;){var ie=c[U];if(typeof ie!="function")throw new Pn(a);if(K&&!be&&Ru(ie)=="wrapper")var be=new oi([],!0)}for(U=be?U:m;++U<m;){ie=c[U];var ke=Ru(ie),Pe=ke=="wrapper"?zc(ie):t;Pe&&Gc(Pe[0])&&Pe[1]==(T|S|y|j)&&!Pe[4].length&&Pe[9]==1?be=be[Ru(Pe[0])].apply(be,Pe[3]):be=ie.length==1&&Gc(ie)?be[ke]():be.thru(ie)}return function(){var Ke=arguments,Je=Ke[0];if(be&&Ke.length==1&&xt(Je))return be.plant(Je).value();for(var rt=0,dt=m?c[rt].apply(this,Ke):Je;++rt<m;)dt=c[rt].call(this,dt);return dt}})}function Tu(o,c,m,U,K,ie,be,ke,Pe,Ke){var Je=c&T,rt=c&b,dt=c&D,wt=c&(S|O),Lt=c&F,Yt=dt?t:to(o);function Bt(){for(var ir=arguments.length,lr=je(ir),Qn=ir;Qn--;)lr[Qn]=arguments[Qn];if(wt)var An=Js(Bt),Yn=ou(lr,An);if(U&&(lr=lp(lr,U,K,wt)),ie&&(lr=op(lr,ie,be,wt)),ir-=Yn,wt&&ir<Ke){var Xr=ai(lr,An);return vp(o,c,Tu,Bt.placeholder,m,lr,Xr,ke,Pe,Ke-ir)}var ki=rt?m:this,la=dt?ki[o]:o;return ir=lr.length,ke?lr=sy(lr,ke):Lt&&ir>1&&lr.reverse(),Je&&Pe<ir&&(lr.length=Pe),this&&this!==Jr&&this instanceof Bt&&(la=Yt||to(la)),la.apply(ki,lr)}return Bt}function pp(o,c){return function(m,U){return pw(m,o,c(U),{})}}function Nu(o,c){return function(m,U){var K;if(m===t&&U===t)return c;if(m!==t&&(K=m),U!==t){if(K===t)return U;typeof m=="string"||typeof U=="string"?(m=Xn(m),U=Xn(U)):(m=Zd(m),U=Zd(U)),K=o(m,U)}return K}}function Mc(o){return na(function(c){return c=Rr(c,pn(Ft())),er(function(m){var U=this;return o(c,function(K){return yn(K,U,m)})})})}function Su(o,c){c=c===t?" ":Xn(c);var m=c.length;if(m<2)return m?Rc(c,o):c;var U=Rc(c,ne(o/si(c)));return Sa(c)?Ua(Gn(U),0,o).join(""):U.slice(0,o)}function xw(o,c,m,U){var K=c&b,ie=to(o);function be(){for(var ke=-1,Pe=arguments.length,Ke=-1,Je=U.length,rt=je(Je+Pe),dt=this&&this!==Jr&&this instanceof be?ie:o;++Ke<Je;)rt[Ke]=U[Ke];for(;Pe--;)rt[Ke++]=arguments[++ke];return yn(dt,K?m:this,rt)}return be}function _p(o){return function(c,m,U){return U&&typeof U!="number"&&Dn(c,m,U)&&(m=U=t),c=sa(c),m===t?(m=c,c=0):m=sa(m),U=U===t?c<m?1:-1:sa(U),Cw(c,m,U,o)}}function Iu(o){return function(c,m){return typeof c=="string"&&typeof m=="string"||(c=hi(c),m=hi(m)),o(c,m)}}function vp(o,c,m,U,K,ie,be,ke,Pe,Ke){var Je=c&S,rt=Je?be:t,dt=Je?t:be,wt=Je?ie:t,Lt=Je?t:ie;c|=Je?y:N,c&=~(Je?N:y),c&B||(c&=~(b|D));var Yt=[o,c,K,wt,rt,Lt,dt,ke,Pe,Ke],Bt=m.apply(t,Yt);return Gc(o)&&Np(Bt,Yt),Bt.placeholder=U,Sp(Bt,o,c)}function qc(o){var c=$r[o];return function(m,U){if(m=hi(m),U=U==null?0:Br(Qt(U),292),U&&fe(m)){var K=(gr(m)+"e").split("e"),ie=c(K[0]+"e"+(+K[1]+U));return K=(gr(ie)+"e").split("e"),+(K[0]+"e"+(+K[1]-U))}return c(m)}}var zw=Xs&&1/Ia(new Xs([,-0]))[1]==ue?function(o){return new Xs(o)}:lh;function gp(o){return function(c){var m=_n(c);return m==ge?ql(c):m==fr?jl(c):vr(c,o(c))}}function ra(o,c,m,U,K,ie,be,ke){var Pe=c&D;if(!Pe&&typeof o!="function")throw new Pn(a);var Ke=U?U.length:0;if(Ke||(c&=~(y|N),U=K=t),be=be===t?be:Ir(Qt(be),0),ke=ke===t?ke:Qt(ke),Ke-=K?K.length:0,c&N){var Je=U,rt=K;U=K=t}var dt=Pe?t:zc(o),wt=[o,c,m,U,K,Je,rt,ie,be,ke];if(dt&&ny(wt,dt),o=wt[0],c=wt[1],m=wt[2],U=wt[3],K=wt[4],ke=wt[9]=wt[9]===t?Pe?0:o.length:Ir(wt[9]-Ke,0),!ke&&c&(S|O)&&(c&=~(S|O)),!c||c==b)var Lt=qw(o,c,m);else c==S||c==O?Lt=jw(o,c,ke):(c==y||c==(b|y))&&!K.length?Lt=xw(o,c,m,U):Lt=Tu.apply(t,wt);var Yt=dt?Kd:Np;return Sp(Yt(Lt,wt),o,c)}function mp(o,c,m,U){return o===t||Ai(o,Pa[m])&&!Tt.call(U,m)?c:o}function bp(o,c,m,U,K,ie){return jr(o)&&jr(c)&&(ie.set(c,o),Du(o,c,t,bp,ie),ie.delete(c)),o}function Vw(o){return io(o)?t:o}function wp(o,c,m,U,K,ie){var be=m&_,ke=o.length,Pe=c.length;if(ke!=Pe&&!(be&&Pe>ke))return!1;var Ke=ie.get(o),Je=ie.get(c);if(Ke&&Je)return Ke==c&&Je==o;var rt=-1,dt=!0,wt=m&g?new us:t;for(ie.set(o,c),ie.set(c,o);++rt<ke;){var Lt=o[rt],Yt=c[rt];if(U)var Bt=be?U(Yt,Lt,rt,c,o,ie):U(Lt,Yt,rt,o,c,ie);if(Bt!==t){if(Bt)continue;dt=!1;break}if(wt){if(!Ml(c,function(ir,lr){if(!Oe(wt,lr)&&(Lt===ir||K(Lt,ir,m,U,ie)))return wt.push(lr)})){dt=!1;break}}else if(!(Lt===Yt||K(Lt,Yt,m,U,ie))){dt=!1;break}}return ie.delete(o),ie.delete(c),dt}function Hw(o,c,m,U,K,ie,be){switch(m){case P:if(o.byteLength!=c.byteLength||o.byteOffset!=c.byteOffset)return!1;o=o.buffer,c=c.buffer;case W:return!(o.byteLength!=c.byteLength||!ie(new li(o),new li(c)));case ze:case Ce:case Me:return Ai(+o,+c);case Ge:return o.name==c.name&&o.message==c.message;case Tr:case mt:return o==c+"";case ge:var ke=ql;case fr:var Pe=U&_;if(ke||(ke=Ia),o.size!=c.size&&!Pe)return!1;var Ke=be.get(o);if(Ke)return Ke==c;U|=g,be.set(o,c);var Je=wp(ke(o),ke(c),U,K,ie,be);return be.delete(o),Je;case At:if(Ql)return Ql.call(o)==Ql.call(c)}return!1}function $w(o,c,m,U,K,ie){var be=m&_,ke=jc(o),Pe=ke.length,Ke=jc(c),Je=Ke.length;if(Pe!=Je&&!be)return!1;for(var rt=Pe;rt--;){var dt=ke[rt];if(!(be?dt in c:Tt.call(c,dt)))return!1}var wt=ie.get(o),Lt=ie.get(c);if(wt&&Lt)return wt==c&&Lt==o;var Yt=!0;ie.set(o,c),ie.set(c,o);for(var Bt=be;++rt<Pe;){dt=ke[rt];var ir=o[dt],lr=c[dt];if(U)var Qn=be?U(lr,ir,dt,c,o,ie):U(ir,lr,dt,o,c,ie);if(!(Qn===t?ir===lr||K(ir,lr,m,U,ie):Qn)){Yt=!1;break}Bt||(Bt=dt=="constructor")}if(Yt&&!Bt){var An=o.constructor,Yn=c.constructor;An!=Yn&&"constructor"in o&&"constructor"in c&&!(typeof An=="function"&&An instanceof An&&typeof Yn=="function"&&Yn instanceof Yn)&&(Yt=!1)}return ie.delete(o),ie.delete(c),Yt}function na(o){return Wc(Cp(o,t,Lp),o+"")}function jc(o){return jd(o,en,Hc)}function xc(o){return jd(o,Ln,yp)}var zc=gu?function(o){return gu.get(o)}:lh;function Ru(o){for(var c=o.name+"",m=Ws[c],U=Tt.call(Ws,c)?m.length:0;U--;){var K=m[U],ie=K.func;if(ie==null||ie==o)return K.name}return c}function Js(o){var c=Tt.call(Z,"placeholder")?Z:o;return c.placeholder}function Ft(){var o=Z.iteratee||ah;return o=o===ah?Vd:o,arguments.length?o(arguments[0],arguments[1]):o}function Pu(o,c){var m=o.__data__;return Zw(c)?m[typeof c=="string"?"string":"hash"]:m.map}function Vc(o){for(var c=en(o),m=c.length;m--;){var U=c[m],K=o[U];c[m]=[U,K,Ap(K)]}return c}function hs(o,c){var m=oc(o,c);return zd(m)?m:t}function Gw(o){var c=Tt.call(o,rr),m=o[rr];try{o[rr]=t;var U=!0}catch{}var K=Gs.call(o);return U&&(c?o[rr]=m:delete o[rr]),K}var Hc=we?function(o){return o==null?[]:(o=br(o),Ui(we(o),function(c){return vu.call(o,c)}))}:oh,yp=we?function(o){for(var c=[];o;)Mi(c,Hc(o)),o=Zr(o);return c}:oh,_n=En;(mc&&_n(new mc(new ArrayBuffer(1)))!=P||Gl&&_n(new Gl)!=ge||bc&&_n(bc.resolve())!=xr||Xs&&_n(new Xs)!=fr||Xl&&_n(new Xl)!=Le)&&(_n=function(o){var c=En(o),m=c==sr?o.constructor:t,U=m?ds(m):"";if(U)switch(U){case Nb:return P;case Sb:return ge;case Ib:return xr;case Rb:return fr;case Pb:return Le}return c});function Xw(o,c,m){for(var U=-1,K=m.length;++U<K;){var ie=m[U],be=ie.size;switch(ie.type){case"drop":o+=be;break;case"dropRight":c-=be;break;case"take":c=Br(c,o+be);break;case"takeRight":o=Ir(o,c-be);break}}return{start:o,end:c}}function Ww(o){var c=o.match(Te);return c?c[1].split(xe):[]}function Ep(o,c,m){c=Ba(c,o);for(var U=-1,K=c.length,ie=!1;++U<K;){var be=zi(c[U]);if(!(ie=o!=null&&m(o,be)))break;o=o[be]}return ie||++U!=K?ie:(K=o==null?0:o.length,!!K&&qu(K)&&ia(be,K)&&(xt(o)||ps(o)))}function Qw(o){var c=o.length,m=new o.constructor(c);return c&&typeof o[0]=="string"&&Tt.call(o,"index")&&(m.index=o.index,m.input=o.input),m}function Dp(o){return typeof o.constructor=="function"&&!ro(o)?Qs(Zr(o)):{}}function Yw(o,c,m){var U=o.constructor;switch(c){case W:return Uc(o);case ze:case Ce:return new U(+o);case P:return Fw(o,m);case M:case te:case De:case Be:case Ve:case kt:case Mt:case St:case Ht:return ap(o,m);case ge:return new U;case Me:case mt:return new U(o);case Tr:return Ow(o);case fr:return new U;case At:return Lw(o)}}function Kw(o,c){var m=c.length;if(!m)return o;var U=m-1;return c[U]=(m>1?"& ":"")+c[U],c=c.join(m>2?", ":" "),o.replace(he,`{
/* [wrapped with `+c+`] */
`)}function Jw(o){return xt(o)||ps(o)||!!($l&&o&&o[$l])}function ia(o,c){var m=typeof o;return c=c??re,!!c&&(m=="number"||m!="symbol"&&Ot.test(o))&&o>-1&&o%1==0&&o<c}function Dn(o,c,m){if(!jr(m))return!1;var U=typeof c;return(U=="number"?On(m)&&ia(c,m.length):U=="string"&&c in m)?Ai(m[c],o):!1}function $c(o,c){if(xt(o))return!1;var m=typeof o;return m=="number"||m=="symbol"||m=="boolean"||o==null||Wn(o)?!0:Ja.test(o)||!Da.test(o)||c!=null&&o in br(c)}function Zw(o){var c=typeof o;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?o!=="__proto__":o===null}function Gc(o){var c=Ru(o),m=Z[c];if(typeof m!="function"||!(c in ar.prototype))return!1;if(o===m)return!0;var U=zc(m);return!!U&&o===U[0]}function ey(o){return!!hu&&hu in o}var ty=Hs?aa:uh;function ro(o){var c=o&&o.constructor,m=typeof c=="function"&&c.prototype||Pa;return o===m}function Ap(o){return o===o&&!jr(o)}function kp(o,c){return function(m){return m==null?!1:m[o]===c&&(c!==t||o in br(m))}}function ry(o){var c=Uu(o,function(U){return m.size===f&&m.clear(),U}),m=c.cache;return c}function ny(o,c){var m=o[1],U=c[1],K=m|U,ie=K<(b|D|T),be=U==T&&m==S||U==T&&m==j&&o[7].length<=c[8]||U==(T|j)&&c[7].length<=c[8]&&m==S;if(!(ie||be))return o;U&b&&(o[2]=c[2],K|=m&b?0:B);var ke=c[3];if(ke){var Pe=o[3];o[3]=Pe?lp(Pe,ke,c[4]):ke,o[4]=Pe?ai(o[3],h):c[4]}return ke=c[5],ke&&(Pe=o[5],o[5]=Pe?op(Pe,ke,c[6]):ke,o[6]=Pe?ai(o[5],h):c[6]),ke=c[7],ke&&(o[7]=ke),U&T&&(o[8]=o[8]==null?c[8]:Br(o[8],c[8])),o[9]==null&&(o[9]=c[9]),o[0]=c[0],o[1]=K,o}function iy(o){var c=[];if(o!=null)for(var m in br(o))c.push(m);return c}function ay(o){return Gs.call(o)}function Cp(o,c,m){return c=Ir(c===t?o.length-1:c,0),function(){for(var U=arguments,K=-1,ie=Ir(U.length-c,0),be=je(ie);++K<ie;)be[K]=U[c+K];K=-1;for(var ke=je(c+1);++K<c;)ke[K]=U[K];return ke[c]=m(be),yn(o,this,ke)}}function Tp(o,c){return c.length<2?o:cs(o,fi(c,0,-1))}function sy(o,c){for(var m=o.length,U=Br(c.length,m),K=Fn(o);U--;){var ie=c[U];o[U]=ia(ie,m)?K[ie]:t}return o}function Xc(o,c){if(!(c==="constructor"&&typeof o[c]=="function")&&c!="__proto__")return o[c]}var Np=Ip(Kd),no=X||function(o,c){return Jr.setTimeout(o,c)},Wc=Ip(Sw);function Sp(o,c,m){var U=c+"";return Wc(o,Kw(U,ly(Ww(U),m)))}function Ip(o){var c=0,m=0;return function(){var U=kb(),K=A-(U-m);if(m=U,K>0){if(++c>=L)return arguments[0]}else c=0;return o.apply(t,arguments)}}function Fu(o,c){var m=-1,U=o.length,K=U-1;for(c=c===t?U:c;++m<c;){var ie=Ic(m,K),be=o[ie];o[ie]=o[m],o[m]=be}return o.length=c,o}var Rp=ry(function(o){var c=[];return o.charCodeAt(0)===46&&c.push(""),o.replace(Tl,function(m,U,K,ie){c.push(K?ie.replace(ht,"$1"):U||m)}),c});function zi(o){if(typeof o=="string"||Wn(o))return o;var c=o+"";return c=="0"&&1/o==-ue?"-0":c}function ds(o){if(o!=null){try{return $s.call(o)}catch{}try{return o+""}catch{}}return""}function ly(o,c){return In(de,function(m){var U="_."+m[0];c&m[1]&&!qs(o,U)&&o.push(U)}),o.sort()}function Pp(o){if(o instanceof ar)return o.clone();var c=new oi(o.__wrapped__,o.__chain__);return c.__actions__=Fn(o.__actions__),c.__index__=o.__index__,c.__values__=o.__values__,c}function oy(o,c,m){(m?Dn(o,c,m):c===t)?c=1:c=Ir(Qt(c),0);var U=o==null?0:o.length;if(!U||c<1)return[];for(var K=0,ie=0,be=je(ne(U/c));K<U;)be[ie++]=fi(o,K,K+=c);return be}function uy(o){for(var c=-1,m=o==null?0:o.length,U=0,K=[];++c<m;){var ie=o[c];ie&&(K[U++]=ie)}return K}function fy(){var o=arguments.length;if(!o)return[];for(var c=je(o-1),m=arguments[0],U=o;U--;)c[U-1]=arguments[U];return Mi(xt(m)?Fn(m):[m],fn(c,1))}var cy=er(function(o,c){return Gr(o)?Kl(o,fn(c,1,Gr,!0)):[]}),hy=er(function(o,c){var m=ci(c);return Gr(m)&&(m=t),Gr(o)?Kl(o,fn(c,1,Gr,!0),Ft(m,2)):[]}),dy=er(function(o,c){var m=ci(c);return Gr(m)&&(m=t),Gr(o)?Kl(o,fn(c,1,Gr,!0),t,m):[]});function py(o,c,m){var U=o==null?0:o.length;return U?(c=m||c===t?1:Qt(c),fi(o,c<0?0:c,U)):[]}function _y(o,c,m){var U=o==null?0:o.length;return U?(c=m||c===t?1:Qt(c),c=U-c,fi(o,0,c<0?0:c)):[]}function vy(o,c){return o&&o.length?ku(o,Ft(c,3),!0,!0):[]}function gy(o,c){return o&&o.length?ku(o,Ft(c,3),!0):[]}function my(o,c,m,U){var K=o==null?0:o.length;return K?(m&&typeof m!="number"&&Dn(o,c,m)&&(m=0,U=K),fw(o,c,m,U)):[]}function Fp(o,c,m){var U=o==null?0:o.length;if(!U)return-1;var K=m==null?0:Qt(m);return K<0&&(K=Ir(U+K,0)),xs(o,Ft(c,3),K)}function Op(o,c,m){var U=o==null?0:o.length;if(!U)return-1;var K=U-1;return m!==t&&(K=Qt(m),K=m<0?Ir(U+K,0):Br(K,U-1)),xs(o,Ft(c,3),K,!0)}function Lp(o){var c=o==null?0:o.length;return c?fn(o,1):[]}function by(o){var c=o==null?0:o.length;return c?fn(o,ue):[]}function wy(o,c){var m=o==null?0:o.length;return m?(c=c===t?1:Qt(c),fn(o,c)):[]}function yy(o){for(var c=-1,m=o==null?0:o.length,U={};++c<m;){var K=o[c];U[K[0]]=K[1]}return U}function Bp(o){return o&&o.length?o[0]:t}function Ey(o,c,m){var U=o==null?0:o.length;if(!U)return-1;var K=m==null?0:Qt(m);return K<0&&(K=Ir(U+K,0)),Ta(o,c,K)}function Dy(o){var c=o==null?0:o.length;return c?fi(o,0,-1):[]}var Ay=er(function(o){var c=Rr(o,Lc);return c.length&&c[0]===o[0]?kc(c):[]}),ky=er(function(o){var c=ci(o),m=Rr(o,Lc);return c===ci(m)?c=t:m.pop(),m.length&&m[0]===o[0]?kc(m,Ft(c,2)):[]}),Cy=er(function(o){var c=ci(o),m=Rr(o,Lc);return c=typeof c=="function"?c:t,c&&m.pop(),m.length&&m[0]===o[0]?kc(m,t,c):[]});function Ty(o,c){return o==null?"":pt.call(o,c)}function ci(o){var c=o==null?0:o.length;return c?o[c-1]:t}function Ny(o,c,m){var U=o==null?0:o.length;if(!U)return-1;var K=U;return m!==t&&(K=Qt(m),K=K<0?Ir(U+K,0):Br(K,U-1)),c===c?hc(o,c,K):xs(o,C,K,!0)}function Sy(o,c){return o&&o.length?Xd(o,Qt(c)):t}var Iy=er(Up);function Up(o,c){return o&&o.length&&c&&c.length?Sc(o,c):o}function Ry(o,c,m){return o&&o.length&&c&&c.length?Sc(o,c,Ft(m,2)):o}function Py(o,c,m){return o&&o.length&&c&&c.length?Sc(o,c,t,m):o}var Fy=na(function(o,c){var m=o==null?0:o.length,U=yc(o,c);return Yd(o,Rr(c,function(K){return ia(K,m)?+K:K}).sort(sp)),U});function Oy(o,c){var m=[];if(!(o&&o.length))return m;var U=-1,K=[],ie=o.length;for(c=Ft(c,3);++U<ie;){var be=o[U];c(be,U,o)&&(m.push(be),K.push(U))}return Yd(o,K),m}function Qc(o){return o==null?o:Tb.call(o)}function Ly(o,c,m){var U=o==null?0:o.length;return U?(m&&typeof m!="number"&&Dn(o,c,m)?(c=0,m=U):(c=c==null?0:Qt(c),m=m===t?U:Qt(m)),fi(o,c,m)):[]}function By(o,c){return Au(o,c)}function Uy(o,c,m){return Pc(o,c,Ft(m,2))}function My(o,c){var m=o==null?0:o.length;if(m){var U=Au(o,c);if(U<m&&Ai(o[U],c))return U}return-1}function qy(o,c){return Au(o,c,!0)}function jy(o,c,m){return Pc(o,c,Ft(m,2),!0)}function xy(o,c){var m=o==null?0:o.length;if(m){var U=Au(o,c,!0)-1;if(Ai(o[U],c))return U}return-1}function zy(o){return o&&o.length?Jd(o):[]}function Vy(o,c){return o&&o.length?Jd(o,Ft(c,2)):[]}function Hy(o){var c=o==null?0:o.length;return c?fi(o,1,c):[]}function $y(o,c,m){return o&&o.length?(c=m||c===t?1:Qt(c),fi(o,0,c<0?0:c)):[]}function Gy(o,c,m){var U=o==null?0:o.length;return U?(c=m||c===t?1:Qt(c),c=U-c,fi(o,c<0?0:c,U)):[]}function Xy(o,c){return o&&o.length?ku(o,Ft(c,3),!1,!0):[]}function Wy(o,c){return o&&o.length?ku(o,Ft(c,3)):[]}var Qy=er(function(o){return La(fn(o,1,Gr,!0))}),Yy=er(function(o){var c=ci(o);return Gr(c)&&(c=t),La(fn(o,1,Gr,!0),Ft(c,2))}),Ky=er(function(o){var c=ci(o);return c=typeof c=="function"?c:t,La(fn(o,1,Gr,!0),t,c)});function Jy(o){return o&&o.length?La(o):[]}function Zy(o,c){return o&&o.length?La(o,Ft(c,2)):[]}function e3(o,c){return c=typeof c=="function"?c:t,o&&o.length?La(o,t,c):[]}function Yc(o){if(!(o&&o.length))return[];var c=0;return o=Ui(o,function(m){if(Gr(m))return c=Ir(m.length,c),!0}),qt(c,function(m){return Rr(o,Na(m))})}function Mp(o,c){if(!(o&&o.length))return[];var m=Yc(o);return c==null?m:Rr(m,function(U){return yn(c,t,U)})}var t3=er(function(o,c){return Gr(o)?Kl(o,c):[]}),r3=er(function(o){return Oc(Ui(o,Gr))}),n3=er(function(o){var c=ci(o);return Gr(c)&&(c=t),Oc(Ui(o,Gr),Ft(c,2))}),i3=er(function(o){var c=ci(o);return c=typeof c=="function"?c:t,Oc(Ui(o,Gr),t,c)}),a3=er(Yc);function s3(o,c){return rp(o||[],c||[],Yl)}function l3(o,c){return rp(o||[],c||[],eo)}var o3=er(function(o){var c=o.length,m=c>1?o[c-1]:t;return m=typeof m=="function"?(o.pop(),m):t,Mp(o,m)});function qp(o){var c=Z(o);return c.__chain__=!0,c}function u3(o,c){return c(o),o}function Ou(o,c){return c(o)}var f3=na(function(o){var c=o.length,m=c?o[0]:0,U=this.__wrapped__,K=function(ie){return yc(ie,o)};return c>1||this.__actions__.length||!(U instanceof ar)||!ia(m)?this.thru(K):(U=U.slice(m,+m+(c?1:0)),U.__actions__.push({func:Ou,args:[K],thisArg:t}),new oi(U,this.__chain__).thru(function(ie){return c&&!ie.length&&ie.push(t),ie}))});function c3(){return qp(this)}function h3(){return new oi(this.value(),this.__chain__)}function d3(){this.__values__===t&&(this.__values__=Zp(this.value()));var o=this.__index__>=this.__values__.length,c=o?t:this.__values__[this.__index__++];return{done:o,value:c}}function p3(){return this}function _3(o){for(var c,m=this;m instanceof bu;){var U=Pp(m);U.__index__=0,U.__values__=t,c?K.__wrapped__=U:c=U;var K=U;m=m.__wrapped__}return K.__wrapped__=o,c}function v3(){var o=this.__wrapped__;if(o instanceof ar){var c=o;return this.__actions__.length&&(c=new ar(this)),c=c.reverse(),c.__actions__.push({func:Ou,args:[Qc],thisArg:t}),new oi(c,this.__chain__)}return this.thru(Qc)}function g3(){return tp(this.__wrapped__,this.__actions__)}var m3=Cu(function(o,c,m){Tt.call(o,m)?++o[m]:ta(o,m,1)});function b3(o,c,m){var U=xt(o)?nu:uw;return m&&Dn(o,c,m)&&(c=t),U(o,Ft(c,3))}function w3(o,c){var m=xt(o)?Ui:Md;return m(o,Ft(c,3))}var y3=hp(Fp),E3=hp(Op);function D3(o,c){return fn(Lu(o,c),1)}function A3(o,c){return fn(Lu(o,c),ue)}function k3(o,c,m){return m=m===t?1:Qt(m),fn(Lu(o,c),m)}function jp(o,c){var m=xt(o)?In:Oa;return m(o,Ft(c,3))}function xp(o,c){var m=xt(o)?tc:Ud;return m(o,Ft(c,3))}var C3=Cu(function(o,c,m){Tt.call(o,m)?o[m].push(c):ta(o,m,[c])});function T3(o,c,m,U){o=On(o)?o:el(o),m=m&&!U?Qt(m):0;var K=o.length;return m<0&&(m=Ir(K+m,0)),ju(o)?m<=K&&o.indexOf(c,m)>-1:!!K&&Ta(o,c,m)>-1}var N3=er(function(o,c,m){var U=-1,K=typeof c=="function",ie=On(o)?je(o.length):[];return Oa(o,function(be){ie[++U]=K?yn(c,be,m):Jl(be,c,m)}),ie}),S3=Cu(function(o,c,m){ta(o,m,c)});function Lu(o,c){var m=xt(o)?Rr:Hd;return m(o,Ft(c,3))}function I3(o,c,m,U){return o==null?[]:(xt(c)||(c=c==null?[]:[c]),m=U?t:m,xt(m)||(m=m==null?[]:[m]),Wd(o,c,m))}var R3=Cu(function(o,c,m){o[m?0:1].push(c)},function(){return[[],[]]});function P3(o,c,m){var U=xt(o)?js:zs,K=arguments.length<3;return U(o,Ft(c,4),m,K,Oa)}function F3(o,c,m){var U=xt(o)?rc:zs,K=arguments.length<3;return U(o,Ft(c,4),m,K,Ud)}function O3(o,c){var m=xt(o)?Ui:Md;return m(o,Mu(Ft(c,3)))}function L3(o){var c=xt(o)?Fd:Tw;return c(o)}function B3(o,c,m){(m?Dn(o,c,m):c===t)?c=1:c=Qt(c);var U=xt(o)?iw:Nw;return U(o,c)}function U3(o){var c=xt(o)?aw:Iw;return c(o)}function M3(o){if(o==null)return 0;if(On(o))return ju(o)?si(o):o.length;var c=_n(o);return c==ge||c==fr?o.size:Tc(o).length}function q3(o,c,m){var U=xt(o)?Ml:Rw;return m&&Dn(o,c,m)&&(c=t),U(o,Ft(c,3))}var j3=er(function(o,c){if(o==null)return[];var m=c.length;return m>1&&Dn(o,c[0],c[1])?c=[]:m>2&&Dn(c[0],c[1],c[2])&&(c=[c[0]]),Wd(o,fn(c,1),[])}),Bu=x||function(){return Jr.Date.now()};function x3(o,c){if(typeof c!="function")throw new Pn(a);return o=Qt(o),function(){if(--o<1)return c.apply(this,arguments)}}function zp(o,c,m){return c=m?t:c,c=o&&c==null?o.length:c,ra(o,T,t,t,t,t,c)}function Vp(o,c){var m;if(typeof c!="function")throw new Pn(a);return o=Qt(o),function(){return--o>0&&(m=c.apply(this,arguments)),o<=1&&(c=t),m}}var Kc=er(function(o,c,m){var U=b;if(m.length){var K=ai(m,Js(Kc));U|=y}return ra(o,U,c,m,K)}),Hp=er(function(o,c,m){var U=b|D;if(m.length){var K=ai(m,Js(Hp));U|=y}return ra(c,U,o,m,K)});function $p(o,c,m){c=m?t:c;var U=ra(o,S,t,t,t,t,t,c);return U.placeholder=$p.placeholder,U}function Gp(o,c,m){c=m?t:c;var U=ra(o,O,t,t,t,t,t,c);return U.placeholder=Gp.placeholder,U}function Xp(o,c,m){var U,K,ie,be,ke,Pe,Ke=0,Je=!1,rt=!1,dt=!0;if(typeof o!="function")throw new Pn(a);c=hi(c)||0,jr(m)&&(Je=!!m.leading,rt="maxWait"in m,ie=rt?Ir(hi(m.maxWait)||0,c):ie,dt="trailing"in m?!!m.trailing:dt);function wt(Xr){var ki=U,la=K;return U=K=t,Ke=Xr,be=o.apply(la,ki),be}function Lt(Xr){return Ke=Xr,ke=no(ir,c),Je?wt(Xr):be}function Yt(Xr){var ki=Xr-Pe,la=Xr-Ke,h_=c-ki;return rt?Br(h_,ie-la):h_}function Bt(Xr){var ki=Xr-Pe,la=Xr-Ke;return Pe===t||ki>=c||ki<0||rt&&la>=ie}function ir(){var Xr=Bu();if(Bt(Xr))return lr(Xr);ke=no(ir,Yt(Xr))}function lr(Xr){return ke=t,dt&&U?wt(Xr):(U=K=t,be)}function Qn(){ke!==t&&np(ke),Ke=0,U=Pe=K=ke=t}function An(){return ke===t?be:lr(Bu())}function Yn(){var Xr=Bu(),ki=Bt(Xr);if(U=arguments,K=this,Pe=Xr,ki){if(ke===t)return Lt(Pe);if(rt)return np(ke),ke=no(ir,c),wt(Pe)}return ke===t&&(ke=no(ir,c)),be}return Yn.cancel=Qn,Yn.flush=An,Yn}var z3=er(function(o,c){return Bd(o,1,c)}),V3=er(function(o,c,m){return Bd(o,hi(c)||0,m)});function H3(o){return ra(o,F)}function Uu(o,c){if(typeof o!="function"||c!=null&&typeof c!="function")throw new Pn(a);var m=function(){var U=arguments,K=c?c.apply(this,U):U[0],ie=m.cache;if(ie.has(K))return ie.get(K);var be=o.apply(this,U);return m.cache=ie.set(K,be)||ie,be};return m.cache=new(Uu.Cache||ea),m}Uu.Cache=ea;function Mu(o){if(typeof o!="function")throw new Pn(a);return function(){var c=arguments;switch(c.length){case 0:return!o.call(this);case 1:return!o.call(this,c[0]);case 2:return!o.call(this,c[0],c[1]);case 3:return!o.call(this,c[0],c[1],c[2])}return!o.apply(this,c)}}function $3(o){return Vp(2,o)}var G3=Pw(function(o,c){c=c.length==1&&xt(c[0])?Rr(c[0],pn(Ft())):Rr(fn(c,1),pn(Ft()));var m=c.length;return er(function(U){for(var K=-1,ie=Br(U.length,m);++K<ie;)U[K]=c[K].call(this,U[K]);return yn(o,this,U)})}),Jc=er(function(o,c){var m=ai(c,Js(Jc));return ra(o,y,t,c,m)}),Wp=er(function(o,c){var m=ai(c,Js(Wp));return ra(o,N,t,c,m)}),X3=na(function(o,c){return ra(o,j,t,t,t,c)});function W3(o,c){if(typeof o!="function")throw new Pn(a);return c=c===t?c:Qt(c),er(o,c)}function Q3(o,c){if(typeof o!="function")throw new Pn(a);return c=c==null?0:Ir(Qt(c),0),er(function(m){var U=m[c],K=Ua(m,0,c);return U&&Mi(K,U),yn(o,this,K)})}function Y3(o,c,m){var U=!0,K=!0;if(typeof o!="function")throw new Pn(a);return jr(m)&&(U="leading"in m?!!m.leading:U,K="trailing"in m?!!m.trailing:K),Xp(o,c,{leading:U,maxWait:c,trailing:K})}function K3(o){return zp(o,1)}function J3(o,c){return Jc(Bc(c),o)}function Z3(){if(!arguments.length)return[];var o=arguments[0];return xt(o)?o:[o]}function eE(o){return ui(o,d)}function tE(o,c){return c=typeof c=="function"?c:t,ui(o,d,c)}function rE(o){return ui(o,v|d)}function nE(o,c){return c=typeof c=="function"?c:t,ui(o,v|d,c)}function iE(o,c){return c==null||Ld(o,c,en(c))}function Ai(o,c){return o===c||o!==o&&c!==c}var aE=Iu(Ac),sE=Iu(function(o,c){return o>=c}),ps=xd(function(){return arguments}())?xd:function(o){return zr(o)&&Tt.call(o,"callee")&&!vu.call(o,"callee")},xt=je.isArray,lE=Ko?pn(Ko):_w;function On(o){return o!=null&&qu(o.length)&&!aa(o)}function Gr(o){return zr(o)&&On(o)}function oE(o){return o===!0||o===!1||zr(o)&&En(o)==ze}var Ma=Ae||uh,uE=Jo?pn(Jo):vw;function fE(o){return zr(o)&&o.nodeType===1&&!io(o)}function cE(o){if(o==null)return!0;if(On(o)&&(xt(o)||typeof o=="string"||typeof o.splice=="function"||Ma(o)||Zs(o)||ps(o)))return!o.length;var c=_n(o);if(c==ge||c==fr)return!o.size;if(ro(o))return!Tc(o).length;for(var m in o)if(Tt.call(o,m))return!1;return!0}function hE(o,c){return Zl(o,c)}function dE(o,c,m){m=typeof m=="function"?m:t;var U=m?m(o,c):t;return U===t?Zl(o,c,t,m):!!U}function Zc(o){if(!zr(o))return!1;var c=En(o);return c==Ge||c==Ee||typeof o.message=="string"&&typeof o.name=="string"&&!io(o)}function pE(o){return typeof o=="number"&&fe(o)}function aa(o){if(!jr(o))return!1;var c=En(o);return c==Dt||c==lt||c==Fe||c==ur}function Qp(o){return typeof o=="number"&&o==Qt(o)}function qu(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=re}function jr(o){var c=typeof o;return o!=null&&(c=="object"||c=="function")}function zr(o){return o!=null&&typeof o=="object"}var Yp=Zo?pn(Zo):mw;function _E(o,c){return o===c||Cc(o,c,Vc(c))}function vE(o,c,m){return m=typeof m=="function"?m:t,Cc(o,c,Vc(c),m)}function gE(o){return Kp(o)&&o!=+o}function mE(o){if(ty(o))throw new Ut(s);return zd(o)}function bE(o){return o===null}function wE(o){return o==null}function Kp(o){return typeof o=="number"||zr(o)&&En(o)==Me}function io(o){if(!zr(o)||En(o)!=sr)return!1;var c=Zr(o);if(c===null)return!0;var m=Tt.call(c,"constructor")&&c.constructor;return typeof m=="function"&&m instanceof m&&$s.call(m)==du}var eh=eu?pn(eu):bw;function yE(o){return Qp(o)&&o>=-re&&o<=re}var Jp=tu?pn(tu):ww;function ju(o){return typeof o=="string"||!xt(o)&&zr(o)&&En(o)==mt}function Wn(o){return typeof o=="symbol"||zr(o)&&En(o)==At}var Zs=ru?pn(ru):yw;function EE(o){return o===t}function DE(o){return zr(o)&&_n(o)==Le}function AE(o){return zr(o)&&En(o)==ot}var kE=Iu(Nc),CE=Iu(function(o,c){return o<=c});function Zp(o){if(!o)return[];if(On(o))return ju(o)?Gn(o):Fn(o);if(ls&&o[ls])return fc(o[ls]());var c=_n(o),m=c==ge?ql:c==fr?Ia:el;return m(o)}function sa(o){if(!o)return o===0?o:0;if(o=hi(o),o===ue||o===-ue){var c=o<0?-1:1;return c*ee}return o===o?o:0}function Qt(o){var c=sa(o),m=c%1;return c===c?m?c-m:c:0}function e_(o){return o?fs(Qt(o),0,Q):0}function hi(o){if(typeof o=="number")return o;if(Wn(o))return $;if(jr(o)){var c=typeof o.valueOf=="function"?o.valueOf():o;o=jr(c)?c+"":c}if(typeof o!="string")return o===0?o:+o;o=au(o);var m=Wt.test(o);return m||Nr.test(o)?Jf(o.slice(2),m?2:8):Lr.test(o)?$:+o}function t_(o){return xi(o,Ln(o))}function TE(o){return o?fs(Qt(o),-re,re):o===0?o:0}function gr(o){return o==null?"":Xn(o)}var NE=Ys(function(o,c){if(ro(c)||On(c)){xi(c,en(c),o);return}for(var m in c)Tt.call(c,m)&&Yl(o,m,c[m])}),r_=Ys(function(o,c){xi(c,Ln(c),o)}),xu=Ys(function(o,c,m,U){xi(c,Ln(c),o,U)}),SE=Ys(function(o,c,m,U){xi(c,en(c),o,U)}),IE=na(yc);function RE(o,c){var m=Qs(o);return c==null?m:Od(m,c)}var PE=er(function(o,c){o=br(o);var m=-1,U=c.length,K=U>2?c[2]:t;for(K&&Dn(c[0],c[1],K)&&(U=1);++m<U;)for(var ie=c[m],be=Ln(ie),ke=-1,Pe=be.length;++ke<Pe;){var Ke=be[ke],Je=o[Ke];(Je===t||Ai(Je,Pa[Ke])&&!Tt.call(o,Ke))&&(o[Ke]=ie[Ke])}return o}),FE=er(function(o){return o.push(t,bp),yn(n_,t,o)});function OE(o,c){return iu(o,Ft(c,3),ji)}function LE(o,c){return iu(o,Ft(c,3),Dc)}function BE(o,c){return o==null?o:Ec(o,Ft(c,3),Ln)}function UE(o,c){return o==null?o:qd(o,Ft(c,3),Ln)}function ME(o,c){return o&&ji(o,Ft(c,3))}function qE(o,c){return o&&Dc(o,Ft(c,3))}function jE(o){return o==null?[]:Eu(o,en(o))}function xE(o){return o==null?[]:Eu(o,Ln(o))}function th(o,c,m){var U=o==null?t:cs(o,c);return U===t?m:U}function zE(o,c){return o!=null&&Ep(o,c,cw)}function rh(o,c){return o!=null&&Ep(o,c,hw)}var VE=pp(function(o,c,m){c!=null&&typeof c.toString!="function"&&(c=Gs.call(c)),o[c]=m},ih(Bn)),HE=pp(function(o,c,m){c!=null&&typeof c.toString!="function"&&(c=Gs.call(c)),Tt.call(o,c)?o[c].push(m):o[c]=[m]},Ft),$E=er(Jl);function en(o){return On(o)?Pd(o):Tc(o)}function Ln(o){return On(o)?Pd(o,!0):Ew(o)}function GE(o,c){var m={};return c=Ft(c,3),ji(o,function(U,K,ie){ta(m,c(U,K,ie),U)}),m}function XE(o,c){var m={};return c=Ft(c,3),ji(o,function(U,K,ie){ta(m,K,c(U,K,ie))}),m}var WE=Ys(function(o,c,m){Du(o,c,m)}),n_=Ys(function(o,c,m,U){Du(o,c,m,U)}),QE=na(function(o,c){var m={};if(o==null)return m;var U=!1;c=Rr(c,function(ie){return ie=Ba(ie,o),U||(U=ie.length>1),ie}),xi(o,xc(o),m),U&&(m=ui(m,v|p|d,Vw));for(var K=c.length;K--;)Fc(m,c[K]);return m});function YE(o,c){return i_(o,Mu(Ft(c)))}var KE=na(function(o,c){return o==null?{}:Aw(o,c)});function i_(o,c){if(o==null)return{};var m=Rr(xc(o),function(U){return[U]});return c=Ft(c),Qd(o,m,function(U,K){return c(U,K[0])})}function JE(o,c,m){c=Ba(c,o);var U=-1,K=c.length;for(K||(K=1,o=t);++U<K;){var ie=o==null?t:o[zi(c[U])];ie===t&&(U=K,ie=m),o=aa(ie)?ie.call(o):ie}return o}function ZE(o,c,m){return o==null?o:eo(o,c,m)}function eD(o,c,m,U){return U=typeof U=="function"?U:t,o==null?o:eo(o,c,m,U)}var a_=gp(en),s_=gp(Ln);function tD(o,c,m){var U=xt(o),K=U||Ma(o)||Zs(o);if(c=Ft(c,4),m==null){var ie=o&&o.constructor;K?m=U?new ie:[]:jr(o)?m=aa(ie)?Qs(Zr(o)):{}:m={}}return(K?In:ji)(o,function(be,ke,Pe){return c(m,be,ke,Pe)}),m}function rD(o,c){return o==null?!0:Fc(o,c)}function nD(o,c,m){return o==null?o:ep(o,c,Bc(m))}function iD(o,c,m,U){return U=typeof U=="function"?U:t,o==null?o:ep(o,c,Bc(m),U)}function el(o){return o==null?[]:is(o,en(o))}function aD(o){return o==null?[]:is(o,Ln(o))}function sD(o,c,m){return m===t&&(m=c,c=t),m!==t&&(m=hi(m),m=m===m?m:0),c!==t&&(c=hi(c),c=c===c?c:0),fs(hi(o),c,m)}function lD(o,c,m){return c=sa(c),m===t?(m=c,c=0):m=sa(m),o=hi(o),dw(o,c,m)}function oD(o,c,m){if(m&&typeof m!="boolean"&&Dn(o,c,m)&&(c=m=t),m===t&&(typeof c=="boolean"?(m=c,c=t):typeof o=="boolean"&&(m=o,o=t)),o===t&&c===t?(o=0,c=1):(o=sa(o),c===t?(c=o,o=0):c=sa(c)),o>c){var U=o;o=c,c=U}if(m||o%1||c%1){var K=Id();return Br(o+K*(c-o+Kf("1e-"+((K+"").length-1))),c)}return Ic(o,c)}var uD=Ks(function(o,c,m){return c=c.toLowerCase(),o+(m?l_(c):c)});function l_(o){return nh(gr(o).toLowerCase())}function o_(o){return o=gr(o),o&&o.replace(hr,uu).replace($o,"")}function fD(o,c,m){o=gr(o),c=Xn(c);var U=o.length;m=m===t?U:fs(Qt(m),0,U);var K=m;return m-=c.length,m>=0&&o.slice(m,K)==c}function cD(o){return o=gr(o),o&&Oi.test(o)?o.replace(Fi,lc):o}function hD(o){return o=gr(o),o&&Nl.test(o)?o.replace(Aa,"\\$&"):o}var dD=Ks(function(o,c,m){return o+(m?"-":"")+c.toLowerCase()}),pD=Ks(function(o,c,m){return o+(m?" ":"")+c.toLowerCase()}),_D=cp("toLowerCase");function vD(o,c,m){o=gr(o),c=Qt(c);var U=c?si(o):0;if(!c||U>=c)return o;var K=(c-U)/2;return Su(le(K),m)+o+Su(ne(K),m)}function gD(o,c,m){o=gr(o),c=Qt(c);var U=c?si(o):0;return c&&U<c?o+Su(c-U,m):o}function mD(o,c,m){o=gr(o),c=Qt(c);var U=c?si(o):0;return c&&U<c?Su(c-U,m)+o:o}function bD(o,c,m){return m||c==null?c=0:c&&(c=+c),Cb(gr(o).replace(hn,""),c||0)}function wD(o,c,m){return(m?Dn(o,c,m):c===t)?c=1:c=Qt(c),Rc(gr(o),c)}function yD(){var o=arguments,c=gr(o[0]);return o.length<3?c:c.replace(o[1],o[2])}var ED=Ks(function(o,c,m){return o+(m?"_":"")+c.toLowerCase()});function DD(o,c,m){return m&&typeof m!="number"&&Dn(o,c,m)&&(c=m=t),m=m===t?Q:m>>>0,m?(o=gr(o),o&&(typeof c=="string"||c!=null&&!eh(c))&&(c=Xn(c),!c&&Sa(o))?Ua(Gn(o),0,m):o.split(c,m)):[]}var AD=Ks(function(o,c,m){return o+(m?" ":"")+nh(c)});function kD(o,c,m){return o=gr(o),m=m==null?0:fs(Qt(m),0,o.length),c=Xn(c),o.slice(m,m+c.length)==c}function CD(o,c,m){var U=Z.templateSettings;m&&Dn(o,c,m)&&(c=t),o=gr(o),c=xu({},c,U,mp);var K=xu({},c.imports,U.imports,mp),ie=en(K),be=is(K,ie),ke,Pe,Ke=0,Je=c.interpolate||_r,rt="__p += '",dt=Vl((c.escape||_r).source+"|"+Je.source+"|"+(Je===Ls?Ct:_r).source+"|"+(c.evaluate||_r).source+"|$","g"),wt="//# sourceURL="+(Tt.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xo+"]")+`
`;o.replace(dt,function(Bt,ir,lr,Qn,An,Yn){return lr||(lr=Qn),rt+=o.slice(Ke,Yn).replace(mr,ct),ir&&(ke=!0,rt+=`' +
__e(`+ir+`) +
'`),An&&(Pe=!0,rt+=`';
`+An+`;
__p += '`),lr&&(rt+=`' +
((__t = (`+lr+`)) == null ? '' : __t) +
'`),Ke=Yn+Bt.length,Bt}),rt+=`';
`;var Lt=Tt.call(c,"variable")&&c.variable;if(!Lt)rt=`with (obj) {
`+rt+`
}
`;else if(bt.test(Lt))throw new Ut(l);rt=(Pe?rt.replace(Zt,""):rt).replace(Pi,"$1").replace(Fs,"$1;"),rt="function("+(Lt||"obj")+`) {
`+(Lt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ke?", __e = _.escape":"")+(Pe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+rt+`return __p
}`;var Yt=f_(function(){return or(ie,wt+"return "+rt).apply(t,be)});if(Yt.source=rt,Zc(Yt))throw Yt;return Yt}function TD(o){return gr(o).toLowerCase()}function ND(o){return gr(o).toUpperCase()}function SD(o,c,m){if(o=gr(o),o&&(m||c===t))return au(o);if(!o||!(c=Xn(c)))return o;var U=Gn(o),K=Gn(c),ie=su(U,K),be=lu(U,K)+1;return Ua(U,ie,be).join("")}function ID(o,c,m){if(o=gr(o),o&&(m||c===t))return o.slice(0,xl(o)+1);if(!o||!(c=Xn(c)))return o;var U=Gn(o),K=lu(U,Gn(c))+1;return Ua(U,0,K).join("")}function RD(o,c,m){if(o=gr(o),o&&(m||c===t))return o.replace(hn,"");if(!o||!(c=Xn(c)))return o;var U=Gn(o),K=su(U,Gn(c));return Ua(U,K).join("")}function PD(o,c){var m=q,U=k;if(jr(c)){var K="separator"in c?c.separator:K;m="length"in c?Qt(c.length):m,U="omission"in c?Xn(c.omission):U}o=gr(o);var ie=o.length;if(Sa(o)){var be=Gn(o);ie=be.length}if(m>=ie)return o;var ke=m-si(U);if(ke<1)return U;var Pe=be?Ua(be,0,ke).join(""):o.slice(0,ke);if(K===t)return Pe+U;if(be&&(ke+=Pe.length-ke),eh(K)){if(o.slice(ke).search(K)){var Ke,Je=Pe;for(K.global||(K=Vl(K.source,gr(pr.exec(K))+"g")),K.lastIndex=0;Ke=K.exec(Je);)var rt=Ke.index;Pe=Pe.slice(0,rt===t?ke:rt)}}else if(o.indexOf(Xn(K),ke)!=ke){var dt=Pe.lastIndexOf(K);dt>-1&&(Pe=Pe.slice(0,dt))}return Pe+U}function FD(o){return o=gr(o),o&&kl.test(o)?o.replace(Nn,cu):o}var OD=Ks(function(o,c,m){return o+(m?" ":"")+c.toUpperCase()}),nh=cp("toUpperCase");function u_(o,c,m){return o=gr(o),c=m?t:c,c===t?uc(o)?_c(o):ac(o):o.match(c)||[]}var f_=er(function(o,c){try{return yn(o,t,c)}catch(m){return Zc(m)?m:new Ut(m)}}),LD=na(function(o,c){return In(c,function(m){m=zi(m),ta(o,m,Kc(o[m],o))}),o});function BD(o){var c=o==null?0:o.length,m=Ft();return o=c?Rr(o,function(U){if(typeof U[1]!="function")throw new Pn(a);return[m(U[0]),U[1]]}):[],er(function(U){for(var K=-1;++K<c;){var ie=o[K];if(yn(ie[0],this,U))return yn(ie[1],this,U)}})}function UD(o){return ow(ui(o,v))}function ih(o){return function(){return o}}function MD(o,c){return o==null||o!==o?c:o}var qD=dp(),jD=dp(!0);function Bn(o){return o}function ah(o){return Vd(typeof o=="function"?o:ui(o,v))}function xD(o){return $d(ui(o,v))}function zD(o,c){return Gd(o,ui(c,v))}var VD=er(function(o,c){return function(m){return Jl(m,o,c)}}),HD=er(function(o,c){return function(m){return Jl(o,m,c)}});function sh(o,c,m){var U=en(c),K=Eu(c,U);m==null&&!(jr(c)&&(K.length||!U.length))&&(m=c,c=o,o=this,K=Eu(c,en(c)));var ie=!(jr(m)&&"chain"in m)||!!m.chain,be=aa(o);return In(K,function(ke){var Pe=c[ke];o[ke]=Pe,be&&(o.prototype[ke]=function(){var Ke=this.__chain__;if(ie||Ke){var Je=o(this.__wrapped__),rt=Je.__actions__=Fn(this.__actions__);return rt.push({func:Pe,args:arguments,thisArg:o}),Je.__chain__=Ke,Je}return Pe.apply(o,Mi([this.value()],arguments))})}),o}function $D(){return Jr._===this&&(Jr._=Hl),this}function lh(){}function GD(o){return o=Qt(o),er(function(c){return Xd(c,o)})}var XD=Mc(Rr),WD=Mc(nu),QD=Mc(Ml);function c_(o){return $c(o)?Na(zi(o)):kw(o)}function YD(o){return function(c){return o==null?t:cs(o,c)}}var KD=_p(),JD=_p(!0);function oh(){return[]}function uh(){return!1}function ZD(){return{}}function eA(){return""}function tA(){return!0}function rA(o,c){if(o=Qt(o),o<1||o>re)return[];var m=Q,U=Br(o,Q);c=Ft(c),o-=Q;for(var K=qt(U,c);++m<o;)c(m);return K}function nA(o){return xt(o)?Rr(o,zi):Wn(o)?[o]:Fn(Rp(gr(o)))}function iA(o){var c=++Pr;return gr(o)+c}var aA=Nu(function(o,c){return o+c},0),sA=qc("ceil"),lA=Nu(function(o,c){return o/c},1),oA=qc("floor");function uA(o){return o&&o.length?yu(o,Bn,Ac):t}function fA(o,c){return o&&o.length?yu(o,Ft(c,2),Ac):t}function cA(o){return ft(o,Bn)}function hA(o,c){return ft(o,Ft(c,2))}function dA(o){return o&&o.length?yu(o,Bn,Nc):t}function pA(o,c){return o&&o.length?yu(o,Ft(c,2),Nc):t}var _A=Nu(function(o,c){return o*c},1),vA=qc("round"),gA=Nu(function(o,c){return o-c},0);function mA(o){return o&&o.length?ns(o,Bn):0}function bA(o,c){return o&&o.length?ns(o,Ft(c,2)):0}return Z.after=x3,Z.ary=zp,Z.assign=NE,Z.assignIn=r_,Z.assignInWith=xu,Z.assignWith=SE,Z.at=IE,Z.before=Vp,Z.bind=Kc,Z.bindAll=LD,Z.bindKey=Hp,Z.castArray=Z3,Z.chain=qp,Z.chunk=oy,Z.compact=uy,Z.concat=fy,Z.cond=BD,Z.conforms=UD,Z.constant=ih,Z.countBy=m3,Z.create=RE,Z.curry=$p,Z.curryRight=Gp,Z.debounce=Xp,Z.defaults=PE,Z.defaultsDeep=FE,Z.defer=z3,Z.delay=V3,Z.difference=cy,Z.differenceBy=hy,Z.differenceWith=dy,Z.drop=py,Z.dropRight=_y,Z.dropRightWhile=vy,Z.dropWhile=gy,Z.fill=my,Z.filter=w3,Z.flatMap=D3,Z.flatMapDeep=A3,Z.flatMapDepth=k3,Z.flatten=Lp,Z.flattenDeep=by,Z.flattenDepth=wy,Z.flip=H3,Z.flow=qD,Z.flowRight=jD,Z.fromPairs=yy,Z.functions=jE,Z.functionsIn=xE,Z.groupBy=C3,Z.initial=Dy,Z.intersection=Ay,Z.intersectionBy=ky,Z.intersectionWith=Cy,Z.invert=VE,Z.invertBy=HE,Z.invokeMap=N3,Z.iteratee=ah,Z.keyBy=S3,Z.keys=en,Z.keysIn=Ln,Z.map=Lu,Z.mapKeys=GE,Z.mapValues=XE,Z.matches=xD,Z.matchesProperty=zD,Z.memoize=Uu,Z.merge=WE,Z.mergeWith=n_,Z.method=VD,Z.methodOf=HD,Z.mixin=sh,Z.negate=Mu,Z.nthArg=GD,Z.omit=QE,Z.omitBy=YE,Z.once=$3,Z.orderBy=I3,Z.over=XD,Z.overArgs=G3,Z.overEvery=WD,Z.overSome=QD,Z.partial=Jc,Z.partialRight=Wp,Z.partition=R3,Z.pick=KE,Z.pickBy=i_,Z.property=c_,Z.propertyOf=YD,Z.pull=Iy,Z.pullAll=Up,Z.pullAllBy=Ry,Z.pullAllWith=Py,Z.pullAt=Fy,Z.range=KD,Z.rangeRight=JD,Z.rearg=X3,Z.reject=O3,Z.remove=Oy,Z.rest=W3,Z.reverse=Qc,Z.sampleSize=B3,Z.set=ZE,Z.setWith=eD,Z.shuffle=U3,Z.slice=Ly,Z.sortBy=j3,Z.sortedUniq=zy,Z.sortedUniqBy=Vy,Z.split=DD,Z.spread=Q3,Z.tail=Hy,Z.take=$y,Z.takeRight=Gy,Z.takeRightWhile=Xy,Z.takeWhile=Wy,Z.tap=u3,Z.throttle=Y3,Z.thru=Ou,Z.toArray=Zp,Z.toPairs=a_,Z.toPairsIn=s_,Z.toPath=nA,Z.toPlainObject=t_,Z.transform=tD,Z.unary=K3,Z.union=Qy,Z.unionBy=Yy,Z.unionWith=Ky,Z.uniq=Jy,Z.uniqBy=Zy,Z.uniqWith=e3,Z.unset=rD,Z.unzip=Yc,Z.unzipWith=Mp,Z.update=nD,Z.updateWith=iD,Z.values=el,Z.valuesIn=aD,Z.without=t3,Z.words=u_,Z.wrap=J3,Z.xor=r3,Z.xorBy=n3,Z.xorWith=i3,Z.zip=a3,Z.zipObject=s3,Z.zipObjectDeep=l3,Z.zipWith=o3,Z.entries=a_,Z.entriesIn=s_,Z.extend=r_,Z.extendWith=xu,sh(Z,Z),Z.add=aA,Z.attempt=f_,Z.camelCase=uD,Z.capitalize=l_,Z.ceil=sA,Z.clamp=sD,Z.clone=eE,Z.cloneDeep=rE,Z.cloneDeepWith=nE,Z.cloneWith=tE,Z.conformsTo=iE,Z.deburr=o_,Z.defaultTo=MD,Z.divide=lA,Z.endsWith=fD,Z.eq=Ai,Z.escape=cD,Z.escapeRegExp=hD,Z.every=b3,Z.find=y3,Z.findIndex=Fp,Z.findKey=OE,Z.findLast=E3,Z.findLastIndex=Op,Z.findLastKey=LE,Z.floor=oA,Z.forEach=jp,Z.forEachRight=xp,Z.forIn=BE,Z.forInRight=UE,Z.forOwn=ME,Z.forOwnRight=qE,Z.get=th,Z.gt=aE,Z.gte=sE,Z.has=zE,Z.hasIn=rh,Z.head=Bp,Z.identity=Bn,Z.includes=T3,Z.indexOf=Ey,Z.inRange=lD,Z.invoke=$E,Z.isArguments=ps,Z.isArray=xt,Z.isArrayBuffer=lE,Z.isArrayLike=On,Z.isArrayLikeObject=Gr,Z.isBoolean=oE,Z.isBuffer=Ma,Z.isDate=uE,Z.isElement=fE,Z.isEmpty=cE,Z.isEqual=hE,Z.isEqualWith=dE,Z.isError=Zc,Z.isFinite=pE,Z.isFunction=aa,Z.isInteger=Qp,Z.isLength=qu,Z.isMap=Yp,Z.isMatch=_E,Z.isMatchWith=vE,Z.isNaN=gE,Z.isNative=mE,Z.isNil=wE,Z.isNull=bE,Z.isNumber=Kp,Z.isObject=jr,Z.isObjectLike=zr,Z.isPlainObject=io,Z.isRegExp=eh,Z.isSafeInteger=yE,Z.isSet=Jp,Z.isString=ju,Z.isSymbol=Wn,Z.isTypedArray=Zs,Z.isUndefined=EE,Z.isWeakMap=DE,Z.isWeakSet=AE,Z.join=Ty,Z.kebabCase=dD,Z.last=ci,Z.lastIndexOf=Ny,Z.lowerCase=pD,Z.lowerFirst=_D,Z.lt=kE,Z.lte=CE,Z.max=uA,Z.maxBy=fA,Z.mean=cA,Z.meanBy=hA,Z.min=dA,Z.minBy=pA,Z.stubArray=oh,Z.stubFalse=uh,Z.stubObject=ZD,Z.stubString=eA,Z.stubTrue=tA,Z.multiply=_A,Z.nth=Sy,Z.noConflict=$D,Z.noop=lh,Z.now=Bu,Z.pad=vD,Z.padEnd=gD,Z.padStart=mD,Z.parseInt=bD,Z.random=oD,Z.reduce=P3,Z.reduceRight=F3,Z.repeat=wD,Z.replace=yD,Z.result=JE,Z.round=vA,Z.runInContext=Ie,Z.sample=L3,Z.size=M3,Z.snakeCase=ED,Z.some=q3,Z.sortedIndex=By,Z.sortedIndexBy=Uy,Z.sortedIndexOf=My,Z.sortedLastIndex=qy,Z.sortedLastIndexBy=jy,Z.sortedLastIndexOf=xy,Z.startCase=AD,Z.startsWith=kD,Z.subtract=gA,Z.sum=mA,Z.sumBy=bA,Z.template=CD,Z.times=rA,Z.toFinite=sa,Z.toInteger=Qt,Z.toLength=e_,Z.toLower=TD,Z.toNumber=hi,Z.toSafeInteger=TE,Z.toString=gr,Z.toUpper=ND,Z.trim=SD,Z.trimEnd=ID,Z.trimStart=RD,Z.truncate=PD,Z.unescape=FD,Z.uniqueId=iA,Z.upperCase=OD,Z.upperFirst=nh,Z.each=jp,Z.eachRight=xp,Z.first=Bp,sh(Z,function(){var o={};return ji(Z,function(c,m){Tt.call(Z.prototype,m)||(o[m]=c)}),o}(),{chain:!1}),Z.VERSION=n,In(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){Z[o].placeholder=Z}),In(["drop","take"],function(o,c){ar.prototype[o]=function(m){m=m===t?1:Ir(Qt(m),0);var U=this.__filtered__&&!c?new ar(this):this.clone();return U.__filtered__?U.__takeCount__=Br(m,U.__takeCount__):U.__views__.push({size:Br(m,Q),type:o+(U.__dir__<0?"Right":"")}),U},ar.prototype[o+"Right"]=function(m){return this.reverse()[o](m).reverse()}}),In(["filter","map","takeWhile"],function(o,c){var m=c+1,U=m==R||m==z;ar.prototype[o]=function(K){var ie=this.clone();return ie.__iteratees__.push({iteratee:Ft(K,3),type:m}),ie.__filtered__=ie.__filtered__||U,ie}}),In(["head","last"],function(o,c){var m="take"+(c?"Right":"");ar.prototype[o]=function(){return this[m](1).value()[0]}}),In(["initial","tail"],function(o,c){var m="drop"+(c?"":"Right");ar.prototype[o]=function(){return this.__filtered__?new ar(this):this[m](1)}}),ar.prototype.compact=function(){return this.filter(Bn)},ar.prototype.find=function(o){return this.filter(o).head()},ar.prototype.findLast=function(o){return this.reverse().find(o)},ar.prototype.invokeMap=er(function(o,c){return typeof o=="function"?new ar(this):this.map(function(m){return Jl(m,o,c)})}),ar.prototype.reject=function(o){return this.filter(Mu(Ft(o)))},ar.prototype.slice=function(o,c){o=Qt(o);var m=this;return m.__filtered__&&(o>0||c<0)?new ar(m):(o<0?m=m.takeRight(-o):o&&(m=m.drop(o)),c!==t&&(c=Qt(c),m=c<0?m.dropRight(-c):m.take(c-o)),m)},ar.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},ar.prototype.toArray=function(){return this.take(Q)},ji(ar.prototype,function(o,c){var m=/^(?:filter|find|map|reject)|While$/.test(c),U=/^(?:head|last)$/.test(c),K=Z[U?"take"+(c=="last"?"Right":""):c],ie=U||/^find/.test(c);K&&(Z.prototype[c]=function(){var be=this.__wrapped__,ke=U?[1]:arguments,Pe=be instanceof ar,Ke=ke[0],Je=Pe||xt(be),rt=function(ir){var lr=K.apply(Z,Mi([ir],ke));return U&&dt?lr[0]:lr};Je&&m&&typeof Ke=="function"&&Ke.length!=1&&(Pe=Je=!1);var dt=this.__chain__,wt=!!this.__actions__.length,Lt=ie&&!dt,Yt=Pe&&!wt;if(!ie&&Je){be=Yt?be:new ar(this);var Bt=o.apply(be,ke);return Bt.__actions__.push({func:Ou,args:[rt],thisArg:t}),new oi(Bt,dt)}return Lt&&Yt?o.apply(this,ke):(Bt=this.thru(rt),Lt?U?Bt.value()[0]:Bt.value():Bt)})}),In(["pop","push","shift","sort","splice","unshift"],function(o){var c=Ra[o],m=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",U=/^(?:pop|shift)$/.test(o);Z.prototype[o]=function(){var K=arguments;if(U&&!this.__chain__){var ie=this.value();return c.apply(xt(ie)?ie:[],K)}return this[m](function(be){return c.apply(xt(be)?be:[],K)})}}),ji(ar.prototype,function(o,c){var m=Z[c];if(m){var U=m.name+"";Tt.call(Ws,U)||(Ws[U]=[]),Ws[U].push({name:c,func:m})}}),Ws[Tu(t,D).name]=[{name:"wrapper",func:t}],ar.prototype.clone=Fb,ar.prototype.reverse=Ob,ar.prototype.value=Lb,Z.prototype.at=f3,Z.prototype.chain=c3,Z.prototype.commit=h3,Z.prototype.next=d3,Z.prototype.plant=_3,Z.prototype.reverse=v3,Z.prototype.toJSON=Z.prototype.valueOf=Z.prototype.value=g3,Z.prototype.first=Z.prototype.head,ls&&(Z.prototype[ls]=p3),Z},Ei=zl();Ji?((Ji.exports=Ei)._=Ei,Ms._=Ei):Jr._=Ei}).call(ua)})(Ef,Ef.exports);var UI=Ef.exports;const MI=Ts(UI);var gb={exports:{}},qI=["the","a","an","some"],jI=["a","abaft","aboard","about","above","absent","across","afore","after","against","along","alongside","amid","amidst","among","amongst","an","apropos","apud","around","as","aside","astride","at","athwart","atop","barring","before","behind","below","beneath","beside","besides","between","beyond","but","by","circa","concerning","despite","down","during","except","excluding","failing","following","for","forenenst","from","given","in","including","inside","into","like","mid","midst","minus","modulo","near","next","notwithstanding","o'","of","off","on","onto","opposite","out","outside","over","pace","past","per","plus","pro","qua","regarding","round","sans","save","since","than","through","throughout","thru","thruout","till","times","to","toward","towards","under","underneath","unlike","until","unto","up","upon","versus","via","vice","vis-à-vis","with","within","without","worth"],xI=["as","because","for","and","nor","but","or","yet","so"];(function(i){var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;i.exports=function(a){return r(a,e)},i.exports.toTitleCase=i.exports;var t=qI.concat(jI).concat(xI).concat(e.source.replace(/(^\^\(|\)\$$)/g,"").split("|")).concat(["is"]),n=new RegExp("^("+t.join("|")+")$","i");i.exports.toLaxTitleCase=function(a){return r(a,n)};function r(s,a){return s&&s.replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(l,u,f){return u>0&&u+l.length!==f.length&&l.search(a)>-1&&f.charAt(u-2)!==":"&&(f.charAt(u+l.length)!=="-"||f.charAt(u-1)==="-")&&f.charAt(u-1).search(/[^\s-]/)<0?l.toLowerCase():l.substr(1).search(/[A-Z]|\../)>-1?l:l.charAt(0).toUpperCase()+l.substr(1)})}})(gb);var zI=gb.exports;const mb=Ts(zI),{blankNode:VI,namedNode:Vr,literal:HI,quad:Ki}=kd,xa=Cn(gl[Mo]),Df=Cn(gl[db]),bb=Cn(gl[Rs]),wb=Cn(gl[Al]);function sf(i,e){jn.set(i),Co.set(e)}function $I(){sf([],[])}const jn=nn([]),Pt=nn(null),Co=nn([]);let xf=[],Nd=[];jn.subscribe(i=>{xf=i});Co.subscribe(i=>{Nd=i});function GI(i){const e=i.type;return{artifactSelectorNode:xa("Artifact"),vulnerabilitySelectorNode:xa("Vulnerability"),attackSelectorNode:xa("OffensiveTechnique"),countermeasureSelectorNode:xa("DefensiveTechnique"),informationSelectorNode:xa("DigitalInformation"),agentSelectorNode:xa("Agent"),eventNode:xa("Event")}[e]}async function XI(i){const e=Eb(i);console.log(`Called _map_node_to_default_class_IRI ${JSON.stringify(i)} for class_string: ${e}`);let t=null;if(e.startsWith("d3f:"))if(await Db(e)){const[r,s]=e.split(":");t=xa(s)}else console.error(`Class name ${e} is not valid d3fend class.`),t=null;else if(e.startsWith(":")){const n=e.substring(1);t=Df(n)}else if(e.includes(":"))console.error(`Failed to create class for node: ${JSON.stringify(i)}`),t=null;else{const n=yb(e);console.log(`pascal_cased_label: ${n}`);const r=Df(n);console.log(`pascal_cased_label as cad IRI ${n}`),t=r}return console.log(`Returning ${t} for_map_node_to_default_class_IRI ${JSON.stringify(i)}`),t}function yb(i){return mb(i).replace(/ /g,"")}function Eb(i){let e="";return i.data.hasOwnProperty("d3f_class")?e=i.data.d3f_class:i.data.hasOwnProperty("techniqueId")?e=i.data.techniqueId:e=i.data.label,e.toString()}function WI(i,e,t){const n=Vr(t);console.log(`extension_prefixes: ${JSON.stringify(e)}`),console.log(`cad_extension_node: ${n.value}`),i.addQuad(Ki(n,Vr(e[Rs]+"type"),Vr(e[ha]+"Ontology"))),i.addQuad(Ki(n,Vr(e[ha]+"imports"),Vr(e[Mo])))}async function Db(i){let e;try{e=await OI(i)}catch(t){console.warn(`Problem calling lookup_valid_class_by_IRI(${i}):`,t),e=null}return e}function Qh(i,e,t){const n=Vr(Kn[Al]+"subClassOf");i.addQuad(Ki(e,n,t))}function QI(i,e){i.addQuad(Ki(e,Vr(Kn[Rs]+"type"),Vr(Kn[ha]+"ObjectProperty"))),i.addQuad(Ki(e,Vr(Kn[Al]+"subPropertyOf"),Vr(Kn[Mo]+"d3fend-object-property")))}function Z0(i,e,t,n){const r=VI("");Qh(i,e,r),i.addQuad(Ki(r,Vr(Kn[Rs]+"type"),Vr(Kn[ha]+"Restriction"))),i.addQuad(Ki(r,Vr(Kn[ha]+"onProperty"),t)),i.addQuad(Ki(r,Vr(Kn[ha]+"someValuesFrom"),n))}function Ab(i){const e=i.replace(/\./g,"_");return Df(e)}function YI(i,e){const t=Object.prototype.toString.call(e).slice(8,-1);console.log(`${i} references ${e} of type ${t}`)}async function KI(){console.info("Calling serialize_graph_to_turtle...");const i=fI();Object.keys(gl).forEach(r=>{const s=gl[r];console.info("Adding prefix ",r," for ",s),i.setPrefixForURI(r,s)}),console.info("Echo store.namespaces: "+i.namespaces);const e=[],t=[];console.info("Starting node processing..."),await ZI(xf,i,e),console.info("Completed node processing."),console.info("Starting edge processing..."),await t9(Nd,i,t),console.info("Completed edge processing promise.");const n=await new Promise((r,s)=>{ko(null,i,null,"text/turtle",(a,l)=>{if(a)s(a);else{let u=l;e.length>0&&(u+=`
# Skipped nodes (no d3f_class):
`,e.forEach(f=>{u+=`# Node ID: ${f.id}
`,JSON.stringify(f.data,null,2).split(`
`).forEach(p=>{u+=`# ${p}
`})})),t.length>0&&(u+=`#
# Skipped edges (no label lookup found.):
`,t.forEach(f=>{u+=`# Edge ID: ${f.id}
`,JSON.stringify(f.data,null,2).split(`
`).forEach(p=>{u+=`# ${p}
`})}),u+=`
`),r(u)}})});return console.info("Completed serialize_graph_to_turtle"),n}async function JI(i){console.info("Calling serialize_graph_as_d3fend_extension_in_turtle()...");const e=PI+i+"#";let t={...Kn};t[""]=e;const n=new rI({prefixes:t}),r={},s={},a=[],l=[];WI(n,t,e),await e9(xf,n,e,a,r,s),await r9(Nd,n,l,r,s);let u=null;return n.end((f,h)=>{f?console.error(f):(u=h,a.length>0&&(u+=`
# Skipped nodes (no d3f_class):
`,a.forEach(v=>{u+=`# Node ID: ${v.id}
`,JSON.stringify(v.data,null,2).split(`
`).forEach(_=>{u+=`# ${_}
`})})),l.length>0&&(u+=`#
# Skipped edges (no label lookup found.):
`,l.forEach(v=>{u+=`# Edge ID: ${v.id}
`,JSON.stringify(v.data,null,2).split(`
`).forEach(_=>{u+=`# ${_}
`})}),u+=`
`),console.log(u))}),console.info("Completed serialize_graph_as_d3fend_extension_in_turtle()."),u}async function ZI(i,e,t){console.info("Processing nodes as instances...");for(const n of i){const r=n.id,s=n.type,a=n.data.label;try{const l=await XI(n);if(console.info("Processing node as instance:",{node:n,node_id:r,d3f_class_node:l,label:a}),l){const u=Ab(r),f=cI(a.toString());YI("Processing node and data properties and using rdflib node name: ",l),e.add(u,bb("type"),l),e.add(u,wb("label"),f)}else t.push({id:r,type:s,data:n.data})}catch{console.error(`Lookup error for node: ${r}`)}}console.info("Done processing nodes as instances."),t.length>1&&console.warn("Skipped nodes:",t)}async function e9(i,e,t,n,r,s){console.info("Processing nodes as D3FEND extension classes...");for(const a of i){const l=a.id,u=a.type,f=Eb(a);let h=a.data.label.toString();console.log(`Processing node as class node_id: ${l} class_name: ${f}, class_label: ${h}`);let v=null;if(f.includes(":")){if(f.startsWith(":")){console.log(`new class for class_name: ${f}`);const p=f.substring(1);v=Vr(t+p),r[l]=v}else if(f.startsWith("d3f:")){let p=await Db(f);p?(console.log(`Lookup of ${f} gives: ${p}`),console.log(`Use d3fend class for class_name: ${f}`),v=Vr(f),s[l]=v):console.warn(`d3fend class: ${f} is invalid (not found).`)}}else console.log(`Use class_label as basis for class_name: ${h}`),console.warn("Class only had class label, treating label as local class name."),v=Vr(t+yb(h)),r[l]=v;v?(console.log("Class node is defined: "+JSON.stringify(v)),r[l]!==void 0&&(console.log("Class is in extension nodes."),e.addQuad(Ki(v,Vr(Kn[Rs]+"type"),Vr(Kn[ha]+"Class"))),h.startsWith(":")&&(h=mb(MI.startCase(h))),e.addQuad(Ki(v,Vr(Kn[Al]+"label"),HI(h))))):n.push({id:l,type:u,data:a.data})}console.log("Extension nodes: ",JSON.stringify(r)),console.log("Valid d3fend nodes: ",JSON.stringify(s)),console.log("Done processing nodes as D3FEND extension classes."),n.length>1&&console.warn("Skipped nodes:",n)}async function t9(i,e,t){console.info("Processing edges now!"),t.length=0;for(const n of i){const r=n.id,s=n.data.label,a=n.source,l=n.target;console.log(`edgeLabel: ${s}`);try{let u=null;if(s==="rdfs:subClassOf"?u=wb("subClassOf"):s==="rdf:type"||s==="a"?u=bb("type"):u=await vb(s),u){console.log(`Found property ${u} for ${s}`),console.info(`Adding subject inst:${a} property ${u} object inst:${l}`);try{const f=Ab(a),h=Df(l.replace(/\./g,"_"));e.add(f,sb(u),h),console.info(e.length)}catch{console.error(`Error adding triple for edgeId = ${r}, edgeLabel = ${s}`)}}else console.warn(`Bad property ${u} found for ${s}`),t.push({id:r,data:n.data})}catch(u){console.error(`Lookup error for edgeId: ${r} with edgeLabel: ${s} - ${u}`),t.push({id:r,data:n.data})}}console.info("Done processing edges."),t.length>1&&console.warn("Skipped edges:",t)}async function r9(i,e,t,n,r){console.info("Processing edges as properties and restrictions..."),t.length=0,console.info("Edges being processed; current_edges: ",JSON.stringify(i)),console.log(`Extension node keys: ${Object.keys(n)}`);const s=new Set(Object.keys(n));console.log(`Extension classes with no parent class at before processing edges for subClassOf ${JSON.stringify(Array.from(s))}`);for(const a of i){const l=a.id,u=a.data.label;let f=null;a.data.d3f_property!==void 0?f=a.data.d3f_property:a.data.techniqueId!==void 0&&(f=a.data.techniqueId),f=u,console.log(`d3f_property: ${f}, edge_label: ${u}`);const h=a.source,v=a.target;console.log(`subject id: ${h}, object id: ${v}`);let p=n[h];p||(p=r[h]);let d=n[v];if(d||(d=r[v]),console.log(`subject_named_node ${p} object_named_node ${d}`),typeof p>"u"||typeof d>"u")console.warn(`Either subject IRI ${p==null?void 0:p.value} or object IRI ${d==null?void 0:d.value} is still undefined after lookups.`);else if(!p||!d)console.warn(`Either subject IRI ${p==null?void 0:p.value} or object IRI ${d==null?void 0:d.value} is null after lookups.`);else{let _=f;if(_==="rdfs:subClassOf")if(h in r)console.warn(`Attempted to subclass d3fend class ${p.value} to another class (${d.value}).  Disallowed.`),t.push({id:l,label:u,data:a.data}),_=null;else{Qh(e,p,d),console.log(`Subclassed non-d3f subject for rdfs:subClassOf edge: '${p.value} rdfs:subClassOf .' ${d.value}`);for(const g of s)console.log(`${g} is of type ${typeof g}.`);s.delete(h),console.log(`Deleted ${h} of type ${typeof h} from unsubclassed extension nodes, leaving ${JSON.stringify(Array.from(s))}`)}else if(f.startsWith("d3f:")||!f.includes(":")){console.log(`Checking to see d3fend property ${f} exists`);try{const g=await vb(_);if(g){console.log(`Resolved d3f_property ${_} as: ${f}`),console.info(`Adding subject inst: ${p.value} property ${g} object inst: ${d.value}`);const b=Vr(g);Z0(e,p,b,d)}else console.warn(`Bad property ${_} found for resolved d3f_property: ${f}`),t.push({id:l,label:u,data:a.data})}catch(g){console.error(`Lookup error for edge_id: ${l} with resolved d3f_property: ${f} - ${g}`),t.push({id:l,label:u,data:a.data})}}else if(console.log(`Checking to see if new property name makes sense: ${f}`),f.startsWith(":")?console.log(`${f} starts with a ':'!`):(console.warn(`${f} does not start with a ':'`),t.push({id:l,label:u,data:a.data}),f=null),f){console.log(`Writing restriction and property for ${f}`);const g=Vr(f);Z0(e,p,g,d),QI(e,g)}}}if(console.log(`Extension classes with no parent class after processing edges for subClassOf ${JSON.stringify(Array.from(s))}`),s.size>0){const a=xf.reduce((l,u)=>(l[u.id]=u,l),{});for(const l of s){const u=n[l],f=a[l];f.node_type;const h=GI(f);Qh(e,u,h)}}console.info("Done processing edges as properties and restrictions."),t.length>1&&console.warn("Skipped edges:",t)}function Ea(i,e,t,n,r,s,a,l,u,f,h,v,p){const d={id:`${Math.random()}`,type:n,position:{x:l,y:u},data:{label:r,sequence:a,d3f_class:s,user_properties:[]},measured:{width:f,height:h},origin:[.5,0],selected:!1,dragging:!1};let _,g;p?(_=d.id,g=t.id):(_=t.id,g=d.id);const b={type:"editableEdge",data:{label:v},source:g,sourceHandle:"source",target:_,targetHandle:"target",id:`xy-edge__${g}source-${_}target`,selected:!1};e.update(D=>[...D,b]),i.update(D=>[...D,d])}function ev(i,e,t){const n=i.slice();return n[18]=e[t],n}const n9=i=>({}),tv=i=>({});function i9(i){let e;return{c(){e=V("No related offensive techniques in this release.")},l(t){e=H(t,"No related offensive techniques in this release.")},m(t,n){I(t,e,n)},p:at,i:at,o:at,d(t){t&&w(e)}}}function a9(i){let e,t;return e=new ga({props:{$$slots:{default:[u9]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r&16394&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function s9(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(n){e=se(n,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(n,r){I(n,e,r)},p:at,i:at,o:at,d(n){n&&w(e)}}}function rv(i){let e=i[18].off_tech_id.value.replace(/ |\./g,"")+"",t,n,r=i[18].off_tech_label.value+"",s,a,l="-->",u,f,h=i[18].off_artifact_rel_label.value.replace(/ /g,"")+"",v,p,d=Ze(i[18].off_artifact.value)+"",_,g,b=i[18].off_artifact_label.value+"",D,B,S,O,y=Ze(i[18].off_artifact.value)+"",N,T,j=i[18].off_tech_id.value.replace(/ |\./g,"")+"",F,q,k=i[18].off_tech_id.value.replace(/ |\./g,"")+"",L,A,R=Ze(i[18].off_artifact.value)+"",Y,z,ue=Ze(i[18].off_artifact.value)+"",re,ee;function $(J,de){return de&10&&(S=null),S==null&&(S=!!J[3].includes(J[18].off_tech_id.value.replace(/ |\./g,""))),S?o9:l9}let Q=$(i,-1),pe=Q(i);return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(" |"),v=V(h),p=V("| "),_=V(d),g=V('["'),D=V(b),B=V(`"];
            `),pe.c(),O=V(`
            class `),N=V(y),T=V(" ArtifactNode; click "),F=V(j),q=V(` href "javascript:da_to_off_callback('`),L=V(k),A=V(`')"; click `),Y=V(R),z=V(' href "/dao/artifact/d3f:'),re=V(ue),ee=V('";')},l(J){t=H(J,e),n=H(J,'["'),s=H(J,r),a=H(J,'"] '),u=H(J,l),f=H(J," |"),v=H(J,h),p=H(J,"| "),_=H(J,d),g=H(J,'["'),D=H(J,b),B=H(J,`"];
            `),pe.l(J),O=H(J,`
            class `),N=H(J,y),T=H(J," ArtifactNode; click "),F=H(J,j),q=H(J,` href "javascript:da_to_off_callback('`),L=H(J,k),A=H(J,`')"; click `),Y=H(J,R),z=H(J,' href "/dao/artifact/d3f:'),re=H(J,ue),ee=H(J,'";')},m(J,de){I(J,t,de),I(J,n,de),I(J,s,de),I(J,a,de),I(J,u,de),I(J,f,de),I(J,v,de),I(J,p,de),I(J,_,de),I(J,g,de),I(J,D,de),I(J,B,de),pe.m(J,de),I(J,O,de),I(J,N,de),I(J,T,de),I(J,F,de),I(J,q,de),I(J,L,de),I(J,A,de),I(J,Y,de),I(J,z,de),I(J,re,de),I(J,ee,de)},p(J,de){de&2&&e!==(e=J[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(t,e),de&2&&r!==(r=J[18].off_tech_label.value+"")&&Se(s,r),de&2&&h!==(h=J[18].off_artifact_rel_label.value.replace(/ /g,"")+"")&&Se(v,h),de&2&&d!==(d=Ze(J[18].off_artifact.value)+"")&&Se(_,d),de&2&&b!==(b=J[18].off_artifact_label.value+"")&&Se(D,b),Q===(Q=$(J,de))&&pe?pe.p(J,de):(pe.d(1),pe=Q(J),pe&&(pe.c(),pe.m(O.parentNode,O))),de&2&&y!==(y=Ze(J[18].off_artifact.value)+"")&&Se(N,y),de&2&&j!==(j=J[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(F,j),de&2&&k!==(k=J[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(L,k),de&2&&R!==(R=Ze(J[18].off_artifact.value)+"")&&Se(Y,R),de&2&&ue!==(ue=Ze(J[18].off_artifact.value)+"")&&Se(re,ue)},d(J){J&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B),w(O),w(N),w(T),w(F),w(q),w(L),w(A),w(Y),w(z),w(re),w(ee)),pe.d(J)}}}function l9(i){let e,t=i[18].off_tech_id.value.replace(/ |\./g,"")+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" OffensiveTechniqueNode;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," OffensiveTechniqueNode;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a&2&&t!==(t=s[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function o9(i){let e,t=i[18].off_tech_id.value.replace(/ |\./g,"")+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" SelectedOffensiveTechniqueNode;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," SelectedOffensiveTechniqueNode;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a&2&&t!==(t=s[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function nv(i){let e=i[6].edge_is_unique(i[18].off_tech_label.value,i[18].off_artifact_rel_label.value,i[18].off_artifact_label.value),t,n=e&&rv(i);return{c(){n&&n.c(),t=He()},l(r){n&&n.l(r),t=He()},m(r,s){n&&n.m(r,s),I(r,t,s)},p(r,s){s&2&&(e=r[6].edge_is_unique(r[18].off_tech_label.value,r[18].off_artifact_rel_label.value,r[18].off_artifact_label.value)),e?n?n.p(r,s):(n=rv(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&w(t),n&&n.d(r)}}}function u9(i){let e,t,n=ut(i[1].da_to_off.results.bindings),r=[];for(let s=0;s<n.length;s+=1)r[s]=nv(ev(i,n,s));return{c(){e=V(`graph LR;
        `);for(let s=0;s<r.length;s+=1)r[s].c();t=He()},l(s){e=H(s,`graph LR;
        `);for(let a=0;a<r.length;a+=1)r[a].l(s);t=He()},m(s,a){I(s,e,a);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(s,a);I(s,t,a)},p(s,a){if(a&74){n=ut(s[1].da_to_off.results.bindings);let l;for(l=0;l<n.length;l+=1){const u=ev(s,n,l);r[l]?r[l].p(u,a):(r[l]=nv(u),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(s){s&&(w(e),w(t)),tr(r,s)}}}function f9(i){let e,t,n,r,s,a,l,u,f,h,v,p,d,_=i[3].length+"",g,b,D,B,S;const O=i[9].header,y=Dr(O,i,i[14],tv),N=i[9].default,T=Dr(N,i,i[14],null),j=[s9,a9,i9],F=[];function q(k,L){return k[1]?k[1].da_to_off.results.bindings.length>0?1:2:0}return l=q(i),u=F[l]=j[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),n=V(`
    Select Attack Techniques
    `),T&&T.c(),r=_e(),s=ae("hr"),a=_e(),u.c(),f=_e(),h=ae("hr"),v=_e(),p=ae("button"),d=V("Insert ("),g=V(_),b=V(")"),this.h()},l(k){e=se(k,"DIALOG",{class:!0});var L=Ue(e);t=se(L,"DIV",{class:!0});var A=Ue(t);y&&y.l(A),n=H(A,`
    Select Attack Techniques
    `),T&&T.l(A),r=ve(A),s=se(A,"HR",{}),a=ve(A),u.l(A),f=ve(A),h=se(A,"HR",{}),v=ve(A),p=se(A,"BUTTON",{class:!0});var R=Ue(p);d=H(R,"Insert ("),g=H(R,_),b=H(R,")"),R.forEach(w),A.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,oe(p,"class","svelte-1ai9hff"),oe(t,"class","svelte-1ai9hff"),oe(e,"class","svelte-1ai9hff")},m(k,L){I(k,e,L),G(e,t),y&&y.m(t,null),G(t,n),T&&T.m(t,null),G(t,r),G(t,s),G(t,a),F[l].m(t,null),G(t,f),G(t,h),G(t,v),G(t,p),G(p,d),G(p,g),G(p,b),i[11](e),D=!0,p.focus(),B||(S=[Re(p,"click",i[7]),Re(t,"click",Ur(i[10])),Re(e,"close",i[12]),Re(e,"click",va(i[13]))],B=!0)},p(k,[L]){y&&y.p&&(!D||L&16384)&&Ar(y,O,k,k[14],D?Cr(O,k[14],L,n9):kr(k[14]),tv),T&&T.p&&(!D||L&16384)&&Ar(T,N,k,k[14],D?Cr(N,k[14],L,null):kr(k[14]),null);let A=l;l=q(k),l===A?F[l].p(k,L):(It(),me(F[A],1,1,()=>{F[A]=null}),Rt(),u=F[l],u?u.p(k,L):(u=F[l]=j[l](k),u.c()),ce(u,1),u.m(t,f)),(!D||L&8)&&_!==(_=k[3].length+"")&&Se(g,_)},i(k){D||(ce(y,k),ce(T,k),ce(u),D=!0)},o(k){me(y,k),me(T,k),me(u),D=!1},d(k){k&&w(e),y&&y.d(k),T&&T.d(k),F[l].d(),i[11](null),B=!1,Vt(S)}}}function c9(i,e,t){let n,r,s,{$$slots:a={},$$scope:l}=e,{show_attack_modal:u}=e,{parent_node:f}=e,{data:h}=e,v;const p=Ii();yt(i,p,y=>t(16,s=y));const d=Ri();yt(i,d,y=>t(15,r=y));let _=new Ha;function g(y){n.includes(y)?t(3,n=n.filter(N=>N!==y)):n.push(y),t(3,n)}window.da_to_off_callback=function(y){g(y)};function b(){let y=0,N=200,T=100;for(const j of n){let F=h.da_to_off.results.bindings.find(q=>q.off_tech_id.value.replace(/ |\./g,"")==j);F&&(Ea(p,d,f,"attackSelectorNode",F.off_tech_label.value,"d3f:"+F.off_tech_id.value,f.data.sequence,f.position.x+y*N,f.position.y+T,182,63,F.off_artifact_rel_label.value,!1),y+=1)}p.set(s),d.set(r),v&&v.close(),t(3,n=[])}function D(y){Zn.call(this,i,y)}function B(y){Or[y?"unshift":"push"](()=>{v=y,t(2,v)})}const S=()=>t(0,u=!1),O=()=>{v.close(),t(3,n=[])};return i.$$set=y=>{"show_attack_modal"in y&&t(0,u=y.show_attack_modal),"parent_node"in y&&t(8,f=y.parent_node),"data"in y&&t(1,h=y.data),"$$scope"in y&&t(14,l=y.$$scope)},i.$$.update=()=>{i.$$.dirty&5&&u&&v&&(v.showModal(),_.reset()),i.$$.dirty&5&&!u&&v&&(v.close(),_.reset())},t(3,n=[]),[u,h,v,n,p,d,_,b,f,a,D,B,S,O,l]}class h9 extends Gt{constructor(e){super(),Xt(this,e,c9,f9,Et,{show_attack_modal:0,parent_node:8,data:1})}}function iv(i,e,t){const n=i.slice();return n[23]=e[t],n}const d9=i=>({}),av=i=>({});function p9(i){let e;return{c(){e=V("No related defensive techniques in this release.")},l(t){e=H(t,"No related defensive techniques in this release.")},m(t,n){I(t,e,n)},p:at,i:at,o:at,d(t){t&&w(e)}}}function _9(i){let e,t,n,r,s,a=i[4],l,u;function f(p){i[14](p)}let h={toggles:i[5]};i[4]!==void 0&&(h.selected=i[4]),n=new l1({props:h}),Or.push(()=>gn(n,"selected",f));let v=uv(i);return{c(){e=ae("br"),t=_e(),Xe(n.$$.fragment),s=_e(),v.c(),l=He()},l(p){e=se(p,"BR",{}),t=ve(p),We(n.$$.fragment,p),s=ve(p),v.l(p),l=He()},m(p,d){I(p,e,d),I(p,t,d),Qe(n,p,d),I(p,s,d),v.m(p,d),I(p,l,d),u=!0},p(p,d){const _={};d&32&&(_.toggles=p[5]),!r&&d&16&&(r=!0,_.selected=p[4],vn(()=>r=!1)),n.$set(_),d&16&&Et(a,a=p[4])?(It(),me(v,1,1,at),Rt(),v=uv(p),v.c(),ce(v,1),v.m(l.parentNode,l)):v.p(p,d)},i(p){u||(ce(n.$$.fragment,p),ce(v),u=!0)},o(p){me(n.$$.fragment,p),me(v),u=!1},d(p){p&&(w(e),w(t),w(s),w(l)),Ye(n,p),v.d(p)}}}function v9(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(n){e=se(n,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(n,r){I(n,e,r)},p:at,i:at,o:at,d(n){n&&w(e)}}}function sv(i){let e=!i[4].includes(i[23].def_tactic_label.value),t,n=e&&lv(i);return{c(){n&&n.c(),t=He()},l(r){n&&n.l(r),t=He()},m(r,s){n&&n.m(r,s),I(r,t,s)},p(r,s){s&18&&(e=!r[4].includes(r[23].def_tactic_label.value)),e?n?n.p(r,s):(n=lv(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&w(t),n&&n.d(r)}}}function lv(i){let e=Ze(i[23].def_tech.value)+"",t,n,r=i[23].def_tech_label.value+"",s,a,l="-->",u,f,h=i[23].def_artifact_rel_label.value.replace(/ /g,"")+"",v,p,d=Ze(i[23].def_artifact.value)+"",_,g,b=i[23].def_artifact_label.value+"",D,B,S,O,y=Ze(i[23].def_artifact.value)+"",N,T,j=Ze(i[23].def_tech.value)+"",F,q,k=Ze(i[23].def_tech.value)+"",L,A,R=Ze(i[23].def_artifact.value)+"",Y,z,ue=Ze(i[23].def_artifact.value)+"",re,ee;function $(J,de){return de&66&&(S=null),S==null&&(S=!!J[6].includes(Ze(J[23].def_tech.value))),S?m9:g9}let Q=$(i,-1),pe=Q(i);return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(`
                | `),v=V(h),p=V(" | "),_=V(d),g=V('["'),D=V(b),B=V(`"];
                `),pe.c(),O=V(` 
                class `),N=V(y),T=V(` ArtifactNode;
                click `),F=V(j),q=V(` href "javascript:da_to_def_callback('`),L=V(k),A=V(`')";
                click `),Y=V(R),z=V(' href "/dao/artifact/d3f:'),re=V(ue),ee=V('";')},l(J){t=H(J,e),n=H(J,'["'),s=H(J,r),a=H(J,'"] '),u=H(J,l),f=H(J,`
                | `),v=H(J,h),p=H(J," | "),_=H(J,d),g=H(J,'["'),D=H(J,b),B=H(J,`"];
                `),pe.l(J),O=H(J,` 
                class `),N=H(J,y),T=H(J,` ArtifactNode;
                click `),F=H(J,j),q=H(J,` href "javascript:da_to_def_callback('`),L=H(J,k),A=H(J,`')";
                click `),Y=H(J,R),z=H(J,' href "/dao/artifact/d3f:'),re=H(J,ue),ee=H(J,'";')},m(J,de){I(J,t,de),I(J,n,de),I(J,s,de),I(J,a,de),I(J,u,de),I(J,f,de),I(J,v,de),I(J,p,de),I(J,_,de),I(J,g,de),I(J,D,de),I(J,B,de),pe.m(J,de),I(J,O,de),I(J,N,de),I(J,T,de),I(J,F,de),I(J,q,de),I(J,L,de),I(J,A,de),I(J,Y,de),I(J,z,de),I(J,re,de),I(J,ee,de)},p(J,de){de&2&&e!==(e=Ze(J[23].def_tech.value)+"")&&Se(t,e),de&2&&r!==(r=J[23].def_tech_label.value+"")&&Se(s,r),de&2&&h!==(h=J[23].def_artifact_rel_label.value.replace(/ /g,"")+"")&&Se(v,h),de&2&&d!==(d=Ze(J[23].def_artifact.value)+"")&&Se(_,d),de&2&&b!==(b=J[23].def_artifact_label.value+"")&&Se(D,b),Q===(Q=$(J,de))&&pe?pe.p(J,de):(pe.d(1),pe=Q(J),pe&&(pe.c(),pe.m(O.parentNode,O))),de&2&&y!==(y=Ze(J[23].def_artifact.value)+"")&&Se(N,y),de&2&&j!==(j=Ze(J[23].def_tech.value)+"")&&Se(F,j),de&2&&k!==(k=Ze(J[23].def_tech.value)+"")&&Se(L,k),de&2&&R!==(R=Ze(J[23].def_artifact.value)+"")&&Se(Y,R),de&2&&ue!==(ue=Ze(J[23].def_artifact.value)+"")&&Se(re,ue)},d(J){J&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B),w(O),w(N),w(T),w(F),w(q),w(L),w(A),w(Y),w(z),w(re),w(ee)),pe.d(J)}}}function g9(i){let e,t=Ze(i[23].def_tech.value)+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" DefensiveTechniqueNode;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," DefensiveTechniqueNode;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a&2&&t!==(t=Ze(s[23].def_tech.value)+"")&&Se(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function m9(i){let e,t=Ze(i[23].def_tech.value)+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" SelectedDefensiveTechniqueNode;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," SelectedDefensiveTechniqueNode;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a&2&&t!==(t=Ze(s[23].def_tech.value)+"")&&Se(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function ov(i){let e=i[3].edge_is_unique(i[23].def_tech_label.value,i[23].def_artifact_rel_label.value,i[23].def_artifact_label.value),t,n=e&&sv(i);return{c(){n&&n.c(),t=He()},l(r){n&&n.l(r),t=He()},m(r,s){n&&n.m(r,s),I(r,t,s)},p(r,s){s&10&&(e=r[3].edge_is_unique(r[23].def_tech_label.value,r[23].def_artifact_rel_label.value,r[23].def_artifact_label.value)),e?n?n.p(r,s):(n=sv(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&w(t),n&&n.d(r)}}}function b9(i){let e,t,n=ut(i[1].da_to_def.results.bindings),r=[];for(let s=0;s<n.length;s+=1)r[s]=ov(iv(i,n,s));return{c(){e=V(`graph LR;
          `);for(let s=0;s<r.length;s+=1)r[s].c();t=He()},l(s){e=H(s,`graph LR;
          `);for(let a=0;a<r.length;a+=1)r[a].l(s);t=He()},m(s,a){I(s,e,a);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(s,a);I(s,t,a)},p(s,a){if(a&90){n=ut(s[1].da_to_def.results.bindings);let l;for(l=0;l<n.length;l+=1){const u=iv(s,n,l);r[l]?r[l].p(u,a):(r[l]=ov(u),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(s){s&&(w(e),w(t)),tr(r,s)}}}function uv(i){let e,t;return e=new ga({props:{$$slots:{default:[b9]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r&262234&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function w9(i){let e,t,n,r,s,a,l,u,f,h,v,p,d,_=i[6].length+"",g,b,D,B,S;const O=i[12].header,y=Dr(O,i,i[18],av),N=i[12].default,T=Dr(N,i,i[18],null),j=[v9,_9,p9],F=[];function q(k,L){return k[1]?k[1].da_to_def.results.bindings.length>0?1:2:0}return l=q(i),u=F[l]=j[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),n=V(`
    Select Countermeasure Techniques
    `),T&&T.c(),r=_e(),s=ae("hr"),a=_e(),u.c(),f=_e(),h=ae("hr"),v=_e(),p=ae("button"),d=V("Insert ("),g=V(_),b=V(")"),this.h()},l(k){e=se(k,"DIALOG",{class:!0});var L=Ue(e);t=se(L,"DIV",{class:!0});var A=Ue(t);y&&y.l(A),n=H(A,`
    Select Countermeasure Techniques
    `),T&&T.l(A),r=ve(A),s=se(A,"HR",{}),a=ve(A),u.l(A),f=ve(A),h=se(A,"HR",{}),v=ve(A),p=se(A,"BUTTON",{class:!0});var R=Ue(p);d=H(R,"Insert ("),g=H(R,_),b=H(R,")"),R.forEach(w),A.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,oe(p,"class","svelte-1yq7x1p"),oe(t,"class","svelte-1yq7x1p"),oe(e,"class","svelte-1yq7x1p")},m(k,L){I(k,e,L),G(e,t),y&&y.m(t,null),G(t,n),T&&T.m(t,null),G(t,r),G(t,s),G(t,a),F[l].m(t,null),G(t,f),G(t,h),G(t,v),G(t,p),G(p,d),G(p,g),G(p,b),i[15](e),D=!0,p.focus(),B||(S=[Re(p,"click",i[9]),Re(t,"click",Ur(i[13])),Re(e,"close",i[16]),Re(e,"click",va(i[17]))],B=!0)},p(k,[L]){y&&y.p&&(!D||L&262144)&&Ar(y,O,k,k[18],D?Cr(O,k[18],L,d9):kr(k[18]),av),T&&T.p&&(!D||L&262144)&&Ar(T,N,k,k[18],D?Cr(N,k[18],L,null):kr(k[18]),null);let A=l;l=q(k),l===A?F[l].p(k,L):(It(),me(F[A],1,1,()=>{F[A]=null}),Rt(),u=F[l],u?u.p(k,L):(u=F[l]=j[l](k),u.c()),ce(u,1),u.m(t,f)),(!D||L&64)&&_!==(_=k[6].length+"")&&Se(g,_)},i(k){D||(ce(y,k),ce(T,k),ce(u),D=!0)},o(k){me(y,k),me(T,k),me(u),D=!1},d(k){k&&w(e),y&&y.d(k),T&&T.d(k),F[l].d(),i[15](null),B=!1,Vt(S)}}}function y9(i,e,t){let n,r,s,{$$slots:a={},$$scope:l}=e,{show_defend_modal:u}=e,{parent_node:f}=e,{data:h}=e,v;const p=Ii();yt(i,p,q=>t(20,s=q));const d=Ri();yt(i,d,q=>t(19,r=q));let _=new Ha;function g(q){n.includes(q)?t(6,n=n.filter(k=>k!==q)):n.push(q),t(6,n)}window.da_to_def_callback=function(q){g(q)};function b(){let q=0,k=200,L=100;for(const A of n){let R=h.da_to_def.results.bindings.find(Y=>Ze(Y.def_tech.value)==A);R&&(Ea(p,d,f,"countermeasureSelectorNode",R.def_tech_label.value,"d3f:"+Ze(R.def_tech.value),f.data.sequence,f.position.x+q*k,f.position.y-L,182,63,R.def_artifact_rel_label.value,!1),q+=1)}p.set(s),d.set(r),v&&v.close(),t(6,n=[])}let D=new Set,B=[],S=[];a1(B,S)&&(S=[]);function O(q){for(const k of n){let L=h.da_to_def.results.bindings.find(A=>Ze(A.def_tech.value)==k);q.includes(L.def_tactic_label.value)&&t(6,n=n.filter(A=>A!==k))}t(6,n)}function y(q){Zn.call(this,i,q)}function N(q){S=q,t(4,S)}function T(q){Or[q?"unshift":"push"](()=>{v=q,t(2,v)})}const j=()=>t(0,u=!1),F=()=>{v.close(),t(6,n=[])};return i.$$set=q=>{"show_defend_modal"in q&&t(0,u=q.show_defend_modal),"parent_node"in q&&t(10,f=q.parent_node),"data"in q&&t(1,h=q.data),"$$scope"in q&&t(18,l=q.$$scope)},i.$$.update=()=>{i.$$.dirty&5&&u&&v&&(v.showModal(),t(3,_=new Ha)),i.$$.dirty&5&&!u&&v&&v.close(),i.$$.dirty&2050&&h&&(h.da_to_def.results.bindings.forEach(q=>{D.add(q.def_tactic_label.value)}),t(11,D),t(1,h)),i.$$.dirty&2048&&t(5,B=Array.from(D).sort(function(q,k){return uf[q]-uf[k]})),i.$$.dirty&16&&O(S),i.$$.dirty&24&&_.reset(S)},t(6,n=[]),[u,h,v,_,S,B,n,p,d,b,f,D,a,y,N,T,j,F,l]}class E9 extends Gt{constructor(e){super(),Xt(this,e,y9,w9,Et,{show_defend_modal:0,parent_node:10,data:1})}}function fv(i,e,t){const n=i.slice();return n[26]=e[t],n}function cv(i,e,t){const n=i.slice();return n[29]=e[t],n}function hv(i,e,t){const n=i.slice();return n[32]=e[t],n}function dv(i,e,t){const n=i.slice();return n[26]=e[t],n}function pv(i,e,t){const n=i.slice();return n[29]=e[t],n}const D9=i=>({}),_v=i=>({});function A9(i){let e;return{c(){e=V("No related weaknesses in this release.")},l(t){e=H(t,"No related weaknesses in this release.")},m(t,n){I(t,e,n)},p:at,i:at,o:at,d(t){t&&w(e)}}}function k9(i){let e,t;return e=new ga({props:{$$slots:{default:[T9]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[0]&4194750&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function C9(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(n){e=se(n,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(n,r){I(n,e,r)},p:at,i:at,o:at,d(n){n&&w(e)}}}function vv(i){let e,t=ut(i[32]["d3f:outbound"]),n=[];for(let r=0;r<t.length;r+=1)n[r]=bv(dv(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=He()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=He()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&430){t=ut(r[32]["d3f:outbound"]);let a;for(a=0;a<t.length;a+=1){const l=dv(r,t,a);n[a]?n[a].p(l,s):(n[a]=bv(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),tr(n,r)}}}function gv(i){let e,t=i[32]["@id"]+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" selected_inbound_node;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," selected_inbound_node;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a[0]&160&&t!==(t=s[32]["@id"]+"")&&Se(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function mv(i){let e=i[32]["@id"]+"",t,n,r=i[32]["rdfs:label"][0]+"",s,a,l="-->",u,f,h=Ze(i[26]["@id"])+"",v,p,d=i[29]["@id"]+"",_,g,b=i[7].i(i[29]["@id"])["rdfs:label"][0]+"",D,B,S=i[32]["@id"]+"",O,y,N=i[32]["@id"]+"",T,j,F,q,k=i[8].includes(i[32]["@id"]),L,A=i[29]["@id"]+"",R,Y,z=i[29]["@id"]+"",ue,re,ee,$,Q=i[32]["@id"]+"",pe,J,de=i[32]["@id"]+"",it,nt,Fe=i[29]["@id"]+"",ze,Ce,Ee=i[3](i[29])+"",Ge,Dt,lt=k&&gv(i);return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(" | "),v=V(h),p=V(" | "),_=V(d),g=V('["'),D=V(b),B=V(`"];
                class `),O=V(S),y=V(" inbound_node; style "),T=V(N),j=V(" fill:"),F=V(i[1]),q=V(`;
                `),lt&&lt.c(),L=V(`
                class `),R=V(A),Y=V(" RootArtifactNode; style "),ue=V(z),re=V(" fill:"),ee=V(i[2]),$=V(`;
                click `),pe=V(Q),J=V(` href "javascript:da_to_weak_callback('`),it=V(de),nt=V(`')"; click `),ze=V(Fe),Ce=V(' href "'),Ge=V(Ee),Dt=V('";')},l(ge){t=H(ge,e),n=H(ge,'["'),s=H(ge,r),a=H(ge,'"] '),u=H(ge,l),f=H(ge," | "),v=H(ge,h),p=H(ge," | "),_=H(ge,d),g=H(ge,'["'),D=H(ge,b),B=H(ge,`"];
                class `),O=H(ge,S),y=H(ge," inbound_node; style "),T=H(ge,N),j=H(ge," fill:"),F=H(ge,i[1]),q=H(ge,`;
                `),lt&&lt.l(ge),L=H(ge,`
                class `),R=H(ge,A),Y=H(ge," RootArtifactNode; style "),ue=H(ge,z),re=H(ge," fill:"),ee=H(ge,i[2]),$=H(ge,`;
                click `),pe=H(ge,Q),J=H(ge,` href "javascript:da_to_weak_callback('`),it=H(ge,de),nt=H(ge,`')"; click `),ze=H(ge,Fe),Ce=H(ge,' href "'),Ge=H(ge,Ee),Dt=H(ge,'";')},m(ge,Me){I(ge,t,Me),I(ge,n,Me),I(ge,s,Me),I(ge,a,Me),I(ge,u,Me),I(ge,f,Me),I(ge,v,Me),I(ge,p,Me),I(ge,_,Me),I(ge,g,Me),I(ge,D,Me),I(ge,B,Me),I(ge,O,Me),I(ge,y,Me),I(ge,T,Me),I(ge,j,Me),I(ge,F,Me),I(ge,q,Me),lt&&lt.m(ge,Me),I(ge,L,Me),I(ge,R,Me),I(ge,Y,Me),I(ge,ue,Me),I(ge,re,Me),I(ge,ee,Me),I(ge,$,Me),I(ge,pe,Me),I(ge,J,Me),I(ge,it,Me),I(ge,nt,Me),I(ge,ze,Me),I(ge,Ce,Me),I(ge,Ge,Me),I(ge,Dt,Me)},p(ge,Me){Me[0]&160&&e!==(e=ge[32]["@id"]+"")&&Se(t,e),Me[0]&160&&r!==(r=ge[32]["rdfs:label"][0]+"")&&Se(s,r),Me[0]&160&&h!==(h=Ze(ge[26]["@id"])+"")&&Se(v,h),Me[0]&160&&d!==(d=ge[29]["@id"]+"")&&Se(_,d),Me[0]&160&&b!==(b=ge[7].i(ge[29]["@id"])["rdfs:label"][0]+"")&&Se(D,b),Me[0]&160&&S!==(S=ge[32]["@id"]+"")&&Se(O,S),Me[0]&160&&N!==(N=ge[32]["@id"]+"")&&Se(T,N),Me[0]&2&&Se(F,ge[1]),Me[0]&416&&(k=ge[8].includes(ge[32]["@id"])),k?lt?lt.p(ge,Me):(lt=gv(ge),lt.c(),lt.m(L.parentNode,L)):lt&&(lt.d(1),lt=null),Me[0]&160&&A!==(A=ge[29]["@id"]+"")&&Se(R,A),Me[0]&160&&z!==(z=ge[29]["@id"]+"")&&Se(ue,z),Me[0]&4&&Se(ee,ge[2]),Me[0]&160&&Q!==(Q=ge[32]["@id"]+"")&&Se(pe,Q),Me[0]&160&&de!==(de=ge[32]["@id"]+"")&&Se(it,de),Me[0]&160&&Fe!==(Fe=ge[29]["@id"]+"")&&Se(ze,Fe),Me[0]&168&&Ee!==(Ee=ge[3](ge[29])+"")&&Se(Ge,Ee)},d(ge){ge&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B),w(O),w(y),w(T),w(j),w(F),w(q),w(L),w(R),w(Y),w(ue),w(re),w(ee),w($),w(pe),w(J),w(it),w(nt),w(ze),w(Ce),w(Ge),w(Dt)),lt&&lt.d(ge)}}}function bv(i){let e,t=ut(i[32][i[26]["@id"]]),n=[];for(let r=0;r<t.length;r+=1)n[r]=mv(pv(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=He()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=He()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&430){t=ut(r[32][r[26]["@id"]]);let a;for(a=0;a<t.length;a+=1){const l=pv(r,t,a);n[a]?n[a].p(l,s):(n[a]=mv(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),tr(n,r)}}}function wv(i){let e,t=i[32]["d3f:outbound"]&&vv(i);return{c(){t&&t.c(),e=He()},l(n){t&&t.l(n),e=He()},m(n,r){t&&t.m(n,r),I(n,e,r)},p(n,r){n[32]["d3f:outbound"]?t?t.p(n,r):(t=vv(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&w(e),t&&t.d(n)}}}function yv(i){let e,t=ut(i[7].i(i[5].description["@id"])["d3f:outbound"]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Dv(fv(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=He()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=He()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&184){t=ut(r[7].i(r[5].description["@id"])["d3f:outbound"]);let a;for(a=0;a<t.length;a+=1){const l=fv(r,t,a);n[a]?n[a].p(l,s):(n[a]=Dv(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),tr(n,r)}}}function Ev(i){let e=i[5].description["@id"]+"",t,n,r=i[7].i(i[5].description["@id"])["rdfs:label"][0]+"",s,a,l="-->",u,f,h=Ze(i[26]["@id"])+"",v,p,d=i[29]["@id"]+"",_,g,b=i[7].graph[i[7].index[i[29]["@id"]]]["rdfs:label"][0]+"",D,B,S=i[5].description["@id"]+"",O,y,N=i[29]["@id"]+"",T,j,F=i[5].description["@id"]+"",q,k,L=i[3](i[5].description["@id"])+"",A,R,Y=i[29]["@id"]+"",z,ue,re=i[4](i[29])+"",ee,$;return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(" | "),v=V(h),p=V(" | "),_=V(d),g=V('["'),D=V(b),B=V('"]; class '),O=V(S),y=V(" RootArtifactNode; class "),T=V(N),j=V(` ArtifactNode;
              click `),q=V(F),k=V(' href "'),A=V(L),R=V('"; click '),z=V(Y),ue=V(' href "'),ee=V(re),$=V('";')},l(Q){t=H(Q,e),n=H(Q,'["'),s=H(Q,r),a=H(Q,'"] '),u=H(Q,l),f=H(Q," | "),v=H(Q,h),p=H(Q," | "),_=H(Q,d),g=H(Q,'["'),D=H(Q,b),B=H(Q,'"]; class '),O=H(Q,S),y=H(Q," RootArtifactNode; class "),T=H(Q,N),j=H(Q,` ArtifactNode;
              click `),q=H(Q,F),k=H(Q,' href "'),A=H(Q,L),R=H(Q,'"; click '),z=H(Q,Y),ue=H(Q,' href "'),ee=H(Q,re),$=H(Q,'";')},m(Q,pe){I(Q,t,pe),I(Q,n,pe),I(Q,s,pe),I(Q,a,pe),I(Q,u,pe),I(Q,f,pe),I(Q,v,pe),I(Q,p,pe),I(Q,_,pe),I(Q,g,pe),I(Q,D,pe),I(Q,B,pe),I(Q,O,pe),I(Q,y,pe),I(Q,T,pe),I(Q,j,pe),I(Q,q,pe),I(Q,k,pe),I(Q,A,pe),I(Q,R,pe),I(Q,z,pe),I(Q,ue,pe),I(Q,ee,pe),I(Q,$,pe)},p(Q,pe){pe[0]&32&&e!==(e=Q[5].description["@id"]+"")&&Se(t,e),pe[0]&160&&r!==(r=Q[7].i(Q[5].description["@id"])["rdfs:label"][0]+"")&&Se(s,r),pe[0]&160&&h!==(h=Ze(Q[26]["@id"])+"")&&Se(v,h),pe[0]&160&&d!==(d=Q[29]["@id"]+"")&&Se(_,d),pe[0]&160&&b!==(b=Q[7].graph[Q[7].index[Q[29]["@id"]]]["rdfs:label"][0]+"")&&Se(D,b),pe[0]&32&&S!==(S=Q[5].description["@id"]+"")&&Se(O,S),pe[0]&160&&N!==(N=Q[29]["@id"]+"")&&Se(T,N),pe[0]&32&&F!==(F=Q[5].description["@id"]+"")&&Se(q,F),pe[0]&40&&L!==(L=Q[3](Q[5].description["@id"])+"")&&Se(A,L),pe[0]&160&&Y!==(Y=Q[29]["@id"]+"")&&Se(z,Y),pe[0]&176&&re!==(re=Q[4](Q[29])+"")&&Se(ee,re)},d(Q){Q&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B),w(O),w(y),w(T),w(j),w(q),w(k),w(A),w(R),w(z),w(ue),w(ee),w($))}}}function Dv(i){let e,t=ut(i[7].i(i[5].description["@id"])[i[26]["@id"]]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Ev(cv(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=He()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=He()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&184){t=ut(r[7].i(r[5].description["@id"])[r[26]["@id"]]);let a;for(a=0;a<t.length;a+=1){const l=cv(r,t,a);n[a]?n[a].p(l,s):(n[a]=Ev(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),tr(n,r)}}}function T9(i){let e,t,n=i[7].i(i[5].description["@id"])&&i[7].i(i[5].description["@id"])["d3f:outbound"],r,s=ut(i[7].graph.filter(i[18])),a=[];for(let u=0;u<s.length;u+=1)a[u]=wv(hv(i,s,u));let l=n&&yv(i);return{c(){e=V(`graph LR;
        `);for(let u=0;u<a.length;u+=1)a[u].c();t=_e(),l&&l.c(),r=He()},l(u){e=H(u,`graph LR;
        `);for(let f=0;f<a.length;f+=1)a[f].l(u);t=ve(u),l&&l.l(u),r=He()},m(u,f){I(u,e,f);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(u,f);I(u,t,f),l&&l.m(u,f),I(u,r,f)},p(u,f){if(f[0]&430){s=ut(u[7].graph.filter(u[18]));let h;for(h=0;h<s.length;h+=1){const v=hv(u,s,h);a[h]?a[h].p(v,f):(a[h]=wv(v),a[h].c(),a[h].m(t.parentNode,t))}for(;h<a.length;h+=1)a[h].d(1);a.length=s.length}f[0]&160&&(n=u[7].i(u[5].description["@id"])&&u[7].i(u[5].description["@id"])["d3f:outbound"]),n?l?l.p(u,f):(l=yv(u),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(u){u&&(w(e),w(t),w(r)),tr(a,u),l&&l.d(u)}}}function N9(i){let e,t,n,r,s,a,l,u,f,h,v,p,d,_=i[8].length+"",g,b,D,B,S;const O=i[16].header,y=Dr(O,i,i[22],_v),N=i[16].default,T=Dr(N,i,i[22],null),j=[C9,k9,A9],F=[];function q(k,L){return k[5]?k[7].graph.length>0?1:2:0}return l=q(i),u=F[l]=j[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),n=V(`
    Select Weaknesses
    `),T&&T.c(),r=_e(),s=ae("hr"),a=_e(),u.c(),f=_e(),h=ae("hr"),v=_e(),p=ae("button"),d=V("Insert ("),g=V(_),b=V(")"),this.h()},l(k){e=se(k,"DIALOG",{class:!0});var L=Ue(e);t=se(L,"DIV",{class:!0});var A=Ue(t);y&&y.l(A),n=H(A,`
    Select Weaknesses
    `),T&&T.l(A),r=ve(A),s=se(A,"HR",{}),a=ve(A),u.l(A),f=ve(A),h=se(A,"HR",{}),v=ve(A),p=se(A,"BUTTON",{class:!0});var R=Ue(p);d=H(R,"Insert ("),g=H(R,_),b=H(R,")"),R.forEach(w),A.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,oe(p,"class","svelte-1resfch"),oe(t,"class","svelte-1resfch"),oe(e,"class","svelte-1resfch")},m(k,L){I(k,e,L),G(e,t),y&&y.m(t,null),G(t,n),T&&T.m(t,null),G(t,r),G(t,s),G(t,a),F[l].m(t,null),G(t,f),G(t,h),G(t,v),G(t,p),G(p,d),G(p,g),G(p,b),i[19](e),D=!0,p.focus(),B||(S=[Re(p,"click",i[11]),Re(t,"click",Ur(i[17])),Re(e,"close",i[20]),Re(e,"click",va(i[21]))],B=!0)},p(k,L){y&&y.p&&(!D||L[0]&4194304)&&Ar(y,O,k,k[22],D?Cr(O,k[22],L,D9):kr(k[22]),_v),T&&T.p&&(!D||L[0]&4194304)&&Ar(T,N,k,k[22],D?Cr(N,k[22],L,null):kr(k[22]),null);let A=l;l=q(k),l===A?F[l].p(k,L):(It(),me(F[A],1,1,()=>{F[A]=null}),Rt(),u=F[l],u?u.p(k,L):(u=F[l]=j[l](k),u.c()),ce(u,1),u.m(t,f)),(!D||L[0]&256)&&_!==(_=k[8].length+"")&&Se(g,_)},i(k){D||(ce(y,k),ce(T,k),ce(u),D=!0)},o(k){me(y,k),me(T,k),me(u),D=!1},d(k){k&&w(e),y&&y.d(k),T&&T.d(k),F[l].d(),i[19](null),B=!1,Vt(S)}}}function S9(i,e,t){let n,r,s,{$$slots:a={},$$scope:l}=e,{outbound_color:u="#fff4dd"}=e,{inbound_color:f="#fff4dd"}=e,{root_color:h="#fff4dd"}=e,{link_function:v=A=>`/dao/artifact/${A["@id"]}`}=e,{inbound_link_function:p=v}=e,{root_link_function:d=A=>`/dao/artifact/${A["@id"]}`}=e,{outbound_link_function:_=v}=e,{show_weakness_modal:g}=e,{parent_node:b}=e,{data:D}=e,B;const S=Ii();yt(i,S,A=>t(24,s=A));const O=Ri();yt(i,O,A=>t(23,r=A));let y;function N(A){n.includes(A)?t(8,n=n.filter(R=>R!==A)):n.push(A),t(8,n),t(8,n)}window.da_to_weak_callback=function(A){N(A)};function T(){let A=0,R=200,Y=100;for(const z of n){let ue=D.da_to_weak["@graph"].find(re=>re["@id"]==z);ue&&(Ea(S,O,b,"vulnerabilitySelectorNode",ue["rdfs:label"],ue["d3f:cwe-id"],b.data.sequence,b.position.x+A*R,b.position.y+Y,182,63,ue["d3f:outbound"][0]["@id"].replace("d3f:",""),!1),A+=1)}S.set(s),O.set(r),B&&B.close(),t(8,n=[])}function j(A){Zn.call(this,i,A)}const F=A=>A["@id"]!=D.description["@id"];function q(A){Or[A?"unshift":"push"](()=>{B=A,t(6,B)})}const k=()=>t(0,g=!1),L=()=>{B.close(),t(8,n=[])};return i.$$set=A=>{"outbound_color"in A&&t(12,u=A.outbound_color),"inbound_color"in A&&t(1,f=A.inbound_color),"root_color"in A&&t(2,h=A.root_color),"link_function"in A&&t(13,v=A.link_function),"inbound_link_function"in A&&t(14,p=A.inbound_link_function),"root_link_function"in A&&t(3,d=A.root_link_function),"outbound_link_function"in A&&t(4,_=A.outbound_link_function),"show_weakness_modal"in A&&t(0,g=A.show_weakness_modal),"parent_node"in A&&t(15,b=A.parent_node),"data"in A&&t(5,D=A.data),"$$scope"in A&&t(22,l=A.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&65&&g&&B&&B.showModal(),i.$$.dirty[0]&65&&!g&&B&&B.close(),i.$$.dirty[0]&32&&D&&t(7,y=new Kh(D.da_to_weak,{index:!0}))},t(8,n=[]),[g,f,h,d,_,D,B,y,n,S,O,T,u,v,p,b,a,j,F,q,k,L,l]}class I9 extends Gt{constructor(e){super(),Xt(this,e,S9,N9,Et,{outbound_color:12,inbound_color:1,root_color:2,link_function:13,inbound_link_function:14,root_link_function:3,outbound_link_function:4,show_weakness_modal:0,parent_node:15,data:5},null,[-1,-1])}}function Av(i,e,t){const n=i.slice();return n[31]=e[t],n}function kv(i,e,t){const n=i.slice();return n[34]=e[t],n}function Cv(i,e,t){const n=i.slice();return n[37]=e[t],n}const R9=i=>({}),Tv=i=>({});function P9(i){let e;return{c(){e=V("No related parts/control in this release")},l(t){e=H(t,"No related parts/control in this release")},m(t,n){I(t,e,n)},p:at,i:at,o:at,d(t){t&&w(e)}}}function F9(i){let e,t;return e=new ga({props:{$$slots:{default:[L9]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[0]&134217934&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function O9(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(n){e=se(n,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(n,r){I(n,e,r)},p:at,i:at,o:at,d(n){n&&w(e)}}}function Nv(i){let e,t=ut(i[31]["d3f:outbound"].filter(i[23])),n=[];for(let r=0;r<t.length;r+=1)n[r]=Lv(kv(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=He()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=He()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&206){t=ut(r[31]["d3f:outbound"].filter(r[23]));let a;for(a=0;a<t.length;a+=1){const l=kv(r,t,a);n[a]?n[a].p(l,s):(n[a]=Lv(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),tr(n,r)}}}function Sv(i){let e,t,n=i[31]["@id"]!=i[2].data.d3f_class&&Iv(i),r=i[37]["@id"]!=i[2].data.d3f_class&&Rv(i);return{c(){n&&n.c(),e=_e(),r&&r.c(),t=He()},l(s){n&&n.l(s),e=ve(s),r&&r.l(s),t=He()},m(s,a){n&&n.m(s,a),I(s,e,a),r&&r.m(s,a),I(s,t,a)},p(s,a){s[31]["@id"]!=s[2].data.d3f_class?n?n.p(s,a):(n=Iv(s),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),s[37]["@id"]!=s[2].data.d3f_class?r?r.p(s,a):(r=Rv(s),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(s){s&&(w(e),w(t)),n&&n.d(s),r&&r.d(s)}}}function Iv(i){let e,t=i[31]["@id"]+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" selected_outbound_node;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," selected_outbound_node;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a[0]&72&&t!==(t=s[31]["@id"]+"")&&Se(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function Rv(i){let e,t=i[37]["@id"]+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" selected_outbound_node;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," selected_outbound_node;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a[0]&74&&t!==(t=s[37]["@id"]+"")&&Se(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function Pv(i){let e,t=i[31]["@id"]+"",n,r,s=i[31]["@id"]+"",a,l,u=Ze(i[34]["@id"])+"",f,h,v=i[37]["@id"]+"",p,d;return{c(){e=V("click "),n=V(t),r=V(` href "javascript:da_to_neighbors_callback('`),a=V(s),l=V("', '"),f=V(u),h=V("','"),p=V(v),d=V(`')";`)},l(_){e=H(_,"click "),n=H(_,t),r=H(_,` href "javascript:da_to_neighbors_callback('`),a=H(_,s),l=H(_,"', '"),f=H(_,u),h=H(_,"','"),p=H(_,v),d=H(_,`')";`)},m(_,g){I(_,e,g),I(_,n,g),I(_,r,g),I(_,a,g),I(_,l,g),I(_,f,g),I(_,h,g),I(_,p,g),I(_,d,g)},p(_,g){g[0]&72&&t!==(t=_[31]["@id"]+"")&&Se(n,t),g[0]&72&&s!==(s=_[31]["@id"]+"")&&Se(a,s),g[0]&74&&u!==(u=Ze(_[34]["@id"])+"")&&Se(f,u),g[0]&74&&v!==(v=_[37]["@id"]+"")&&Se(p,v)},d(_){_&&(w(e),w(n),w(r),w(a),w(l),w(f),w(h),w(p),w(d))}}}function Fv(i){let e,t=i[37]["@id"]+"",n,r,s=i[31]["@id"]+"",a,l,u=Ze(i[34]["@id"])+"",f,h,v=i[37]["@id"]+"",p,d;return{c(){e=V("click "),n=V(t),r=V(` href "javascript:da_to_neighbors_callback('`),a=V(s),l=V("', '"),f=V(u),h=V("','"),p=V(v),d=V(`')";`)},l(_){e=H(_,"click "),n=H(_,t),r=H(_,` href "javascript:da_to_neighbors_callback('`),a=H(_,s),l=H(_,"', '"),f=H(_,u),h=H(_,"','"),p=H(_,v),d=H(_,`')";`)},m(_,g){I(_,e,g),I(_,n,g),I(_,r,g),I(_,a,g),I(_,l,g),I(_,f,g),I(_,h,g),I(_,p,g),I(_,d,g)},p(_,g){g[0]&74&&t!==(t=_[37]["@id"]+"")&&Se(n,t),g[0]&72&&s!==(s=_[31]["@id"]+"")&&Se(a,s),g[0]&74&&u!==(u=Ze(_[34]["@id"])+"")&&Se(f,u),g[0]&74&&v!==(v=_[37]["@id"]+"")&&Se(p,v)},d(_){_&&(w(e),w(n),w(r),w(a),w(l),w(f),w(h),w(p),w(d))}}}function Ov(i){let e=i[31]["@id"]+"",t,n,r=i[31]["rdfs:label"][0]+"",s,a,l="-->",u,f,h=Ze(i[34]["@id"])+"",v,p,d=i[37]["@id"]+"",_,g,b=i[6].i(i[37]["@id"])["rdfs:label"][0]+"",D,B,S=i[37]["@id"]+"",O,y,N=i[7].some(q),T,j,F;function q(...R){return i[21](i[31],i[34],i[37],...R)}let k=N&&Sv(i),L=i[31]["@id"]!=i[2].data.d3f_class&&Pv(i),A=i[37]["@id"]!=i[2].data.d3f_class&&Fv(i);return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(" | "),v=V(h),p=V(" | "),_=V(d),g=V('["'),D=V(b),B=V(`"];
                class `),O=V(S),y=V(` outbound;
                `),k&&k.c(),T=_e(),L&&L.c(),j=_e(),A&&A.c(),F=He()},l(R){t=H(R,e),n=H(R,'["'),s=H(R,r),a=H(R,'"] '),u=H(R,l),f=H(R," | "),v=H(R,h),p=H(R," | "),_=H(R,d),g=H(R,'["'),D=H(R,b),B=H(R,`"];
                class `),O=H(R,S),y=H(R,` outbound;
                `),k&&k.l(R),T=ve(R),L&&L.l(R),j=ve(R),A&&A.l(R),F=He()},m(R,Y){I(R,t,Y),I(R,n,Y),I(R,s,Y),I(R,a,Y),I(R,u,Y),I(R,f,Y),I(R,v,Y),I(R,p,Y),I(R,_,Y),I(R,g,Y),I(R,D,Y),I(R,B,Y),I(R,O,Y),I(R,y,Y),k&&k.m(R,Y),I(R,T,Y),L&&L.m(R,Y),I(R,j,Y),A&&A.m(R,Y),I(R,F,Y)},p(R,Y){i=R,Y[0]&72&&e!==(e=i[31]["@id"]+"")&&Se(t,e),Y[0]&72&&r!==(r=i[31]["rdfs:label"][0]+"")&&Se(s,r),Y[0]&74&&h!==(h=Ze(i[34]["@id"])+"")&&Se(v,h),Y[0]&74&&d!==(d=i[37]["@id"]+"")&&Se(_,d),Y[0]&74&&b!==(b=i[6].i(i[37]["@id"])["rdfs:label"][0]+"")&&Se(D,b),Y[0]&74&&S!==(S=i[37]["@id"]+"")&&Se(O,S),Y[0]&202&&(N=i[7].some(q)),N?k?k.p(i,Y):(k=Sv(i),k.c(),k.m(T.parentNode,T)):k&&(k.d(1),k=null),i[31]["@id"]!=i[2].data.d3f_class?L?L.p(i,Y):(L=Pv(i),L.c(),L.m(j.parentNode,j)):L&&(L.d(1),L=null),i[37]["@id"]!=i[2].data.d3f_class?A?A.p(i,Y):(A=Fv(i),A.c(),A.m(F.parentNode,F)):A&&(A.d(1),A=null)},d(R){R&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B),w(O),w(y),w(T),w(j),w(F)),k&&k.d(R),L&&L.d(R),A&&A.d(R)}}}function Lv(i){let e,t=ut(i[31][i[34]["@id"]]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Ov(Cv(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=He()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=He()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&206){t=ut(r[31][r[34]["@id"]]);let a;for(a=0;a<t.length;a+=1){const l=Cv(r,t,a);n[a]?n[a].p(l,s):(n[a]=Ov(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),tr(n,r)}}}function Bv(i){let e,t=i[31]["d3f:outbound"]&&Nv(i);return{c(){t&&t.c(),e=He()},l(n){t&&t.l(n),e=He()},m(n,r){t&&t.m(n,r),I(n,e,r)},p(n,r){n[31]["d3f:outbound"]?t?t.p(n,r):(t=Nv(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&w(e),t&&t.d(n)}}}function L9(i){let e,t,n=ut(i[6].graph.filter(i[22])),r=[];for(let s=0;s<n.length;s+=1)r[s]=Bv(Av(i,n,s));return{c(){e=V(`graph LR;
        `);for(let s=0;s<r.length;s+=1)r[s].c();t=He()},l(s){e=H(s,`graph LR;
        `);for(let a=0;a<r.length;a+=1)r[a].l(s);t=He()},m(s,a){I(s,e,a);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(s,a);I(s,t,a)},p(s,a){if(a[0]&206){n=ut(s[6].graph.filter(s[22]));let l;for(l=0;l<n.length;l+=1){const u=Av(s,n,l);r[l]?r[l].p(u,a):(r[l]=Bv(u),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(s){s&&(w(e),w(t)),tr(r,s)}}}function B9(i){let e,t,n,r,s,a,l,u,f,h,v,p,d,_=i[7].length+"",g,b,D,B,S;const O=i[19].header,y=Dr(O,i,i[27],Tv),N=i[19].default,T=Dr(N,i,i[27],null),j=[O9,F9,P9],F=[];function q(k,L){return k[3]?k[5]&&k[6].graph.length>0?1:2:0}return l=q(i),u=F[l]=j[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),n=V(`
    Select Parts/Control Neighbors
    `),T&&T.c(),r=_e(),s=ae("hr"),a=_e(),u.c(),f=_e(),h=ae("hr"),v=_e(),p=ae("button"),d=V("Insert ("),g=V(_),b=V(")"),this.h()},l(k){e=se(k,"DIALOG",{class:!0});var L=Ue(e);t=se(L,"DIV",{class:!0});var A=Ue(t);y&&y.l(A),n=H(A,`
    Select Parts/Control Neighbors
    `),T&&T.l(A),r=ve(A),s=se(A,"HR",{}),a=ve(A),u.l(A),f=ve(A),h=se(A,"HR",{}),v=ve(A),p=se(A,"BUTTON",{class:!0});var R=Ue(p);d=H(R,"Insert ("),g=H(R,_),b=H(R,")"),R.forEach(w),A.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,oe(p,"class","svelte-x2no78"),oe(t,"class","svelte-x2no78"),oe(e,"class","svelte-x2no78")},m(k,L){I(k,e,L),G(e,t),y&&y.m(t,null),G(t,n),T&&T.m(t,null),G(t,r),G(t,s),G(t,a),F[l].m(t,null),G(t,f),G(t,h),G(t,v),G(t,p),G(p,d),G(p,g),G(p,b),i[24](e),D=!0,p.focus(),B||(S=[Re(p,"click",i[10]),Re(t,"click",Ur(i[20])),Re(e,"close",i[25]),Re(e,"click",va(i[26]))],B=!0)},p(k,L){y&&y.p&&(!D||L[0]&134217728)&&Ar(y,O,k,k[27],D?Cr(O,k[27],L,R9):kr(k[27]),Tv),T&&T.p&&(!D||L[0]&134217728)&&Ar(T,N,k,k[27],D?Cr(N,k[27],L,null):kr(k[27]),null);let A=l;l=q(k),l===A?F[l].p(k,L):(It(),me(F[A],1,1,()=>{F[A]=null}),Rt(),u=F[l],u?u.p(k,L):(u=F[l]=j[l](k),u.c()),ce(u,1),u.m(t,f)),(!D||L[0]&128)&&_!==(_=k[7].length+"")&&Se(g,_)},i(k){D||(ce(y,k),ce(T,k),ce(u),D=!0)},o(k){me(y,k),me(T,k),me(u),D=!1},d(k){k&&w(e),y&&y.d(k),T&&T.d(k),F[l].d(),i[24](null),B=!1,Vt(S)}}}function U9(i,e,t){let n,r,s,{$$slots:a={},$$scope:l}=e,{empty_message:u="has no direct neighbors in this release."}=e,{outbound_color:f="#fff4dd"}=e,{inbound_color:h="#fff4dd"}=e,{root_color:v="#fff4dd"}=e,{link_function:p=re=>`/dao/artifact/${re["@id"]}`}=e,{inbound_link_function:d=p}=e,{root_link_function:_=re=>`/dao/artifact/${re["@id"]}`}=e,{outbound_link_function:g=p}=e,{show_neighbors_modal:b}=e,{neighbor_filter_labels:D}=e,{parent_node:B}=e,{data:S}=e,O,y=!1;const N=Ii();yt(i,N,re=>t(29,s=re));const T=Ri();yt(i,T,re=>t(28,r=re));let j;function F(re){n.some(ee=>ee.source==re.source&&ee.relation==re.relation&&ee.target==re.target)?t(7,n=n.filter(ee=>ee.source!=re.source||ee.relation!=re.relation||ee.target!=re.target)):n.push(re),t(7,n),t(7,n)}window.da_to_neighbors_callback=function(re,ee,$){F({source:re,relation:ee,target:$})};function q(){let re=0,ee=200,$=100;for(const Q of n){let pe=S.neighbors["@graph"].find(de=>de["@id"]==Q.source),J=S.neighbors["@graph"].find(de=>de["@id"]==Q.target);if(pe&&J){let de=B.data.d3f_class==pe["@id"],it=de?J:pe;Ea(N,T,B,"artifactSelectorNode",it["rdfs:label"][0],it["@id"],B.data.sequence,B.position.x+re*ee,de?B.position.y+$:B.position.y-$,182,63,Q.relation,de),re+=1}}N.set(s),T.set(r),O&&(O.close(),t(5,y=!1)),t(7,n=[])}function k(re){Zn.call(this,i,re)}const L=(re,ee,$,Q)=>Q.source==re["@id"]&&Q.relation==Ze(ee["@id"])&&Q.target==$["@id"],A=re=>re["@id"]!=S.description["@id"],R=re=>D.includes(re["@id"]);function Y(re){Or[re?"unshift":"push"](()=>{O=re,t(4,O)})}const z=()=>t(0,b=!1),ue=()=>{O.close(),t(7,n=[])};return i.$$set=re=>{"empty_message"in re&&t(11,u=re.empty_message),"outbound_color"in re&&t(12,f=re.outbound_color),"inbound_color"in re&&t(13,h=re.inbound_color),"root_color"in re&&t(14,v=re.root_color),"link_function"in re&&t(15,p=re.link_function),"inbound_link_function"in re&&t(16,d=re.inbound_link_function),"root_link_function"in re&&t(17,_=re.root_link_function),"outbound_link_function"in re&&t(18,g=re.outbound_link_function),"show_neighbors_modal"in re&&t(0,b=re.show_neighbors_modal),"neighbor_filter_labels"in re&&t(1,D=re.neighbor_filter_labels),"parent_node"in re&&t(2,B=re.parent_node),"data"in re&&t(3,S=re.data),"$$scope"in re&&t(27,l=re.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&17&&b&&O&&O.showModal(),i.$$.dirty[0]&17&&!b&&O&&O.close(),i.$$.dirty[0]&14&&S&&(t(5,y=!1),S.neighbors["@graph"].find(re=>re["@id"]==B.data.d3f_class),S.neighbors["@graph"].some(re=>re["d3f:outbound"]&&D.some(ee=>re["d3f:outbound"].some($=>$["@id"]==ee)))&&(t(5,y=!0),t(6,j=new Kh(S.neighbors,{index:!0}))))},t(7,n=[]),[b,D,B,S,O,y,j,n,N,T,q,u,f,h,v,p,d,_,g,a,k,L,A,R,Y,z,ue,l]}class M9 extends Gt{constructor(e){super(),Xt(this,e,U9,B9,Et,{empty_message:11,outbound_color:12,inbound_color:13,root_color:14,link_function:15,inbound_link_function:16,root_link_function:17,outbound_link_function:18,show_neighbors_modal:0,neighbor_filter_labels:1,parent_node:2,data:3},null,[-1,-1])}}function Uv(i,e,t){const n=i.slice();return n[26]=e[t],n}function Mv(i,e,t){const n=i.slice();return n[29]=e[t],n}function qv(i,e,t){const n=i.slice();return n[32]=e[t],n}function jv(i,e,t){const n=i.slice();return n[26]=e[t],n}function xv(i,e,t){const n=i.slice();return n[29]=e[t],n}const q9=i=>({}),zv=i=>({});function j9(i){let e;return{c(){e=V("No related sensors in this release.")},l(t){e=H(t,"No related sensors in this release.")},m(t,n){I(t,e,n)},p:at,i:at,o:at,d(t){t&&w(e)}}}function x9(i){let e,t;return e=new ga({props:{$$slots:{default:[V9]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[0]&4194750&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function z9(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(n){e=se(n,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(n,r){I(n,e,r)},p:at,i:at,o:at,d(n){n&&w(e)}}}function Vv(i){let e,t=ut(i[32]["d3f:outbound"]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Gv(jv(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=He()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=He()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&430){t=ut(r[32]["d3f:outbound"]);let a;for(a=0;a<t.length;a+=1){const l=jv(r,t,a);n[a]?n[a].p(l,s):(n[a]=Gv(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),tr(n,r)}}}function Hv(i){let e,t=i[32]["@id"]+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" selected_inbound_node;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," selected_inbound_node;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a[0]&160&&t!==(t=s[32]["@id"]+"")&&Se(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function $v(i){let e=i[32]["@id"]+"",t,n,r=i[32]["rdfs:label"][0]+"",s,a,l="-->",u,f,h=Ze(i[26]["@id"])+"",v,p,d=i[29]["@id"]+"",_,g,b=i[7].i(i[29]["@id"])["rdfs:label"][0]+"",D,B,S=i[32]["@id"]+"",O,y,N=i[32]["@id"]+"",T,j,F,q,k=i[8].includes(i[32]["@id"]),L,A=i[29]["@id"]+"",R,Y,z=i[29]["@id"]+"",ue,re,ee,$,Q=i[32]["@id"]+"",pe,J,de=i[32]["@id"]+"",it,nt,Fe=i[29]["@id"]+"",ze,Ce,Ee=i[3](i[29])+"",Ge,Dt,lt=k&&Hv(i);return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(" | "),v=V(h),p=V(" | "),_=V(d),g=V('["'),D=V(b),B=V(`"];
                  class `),O=V(S),y=V(" inbound_node; style "),T=V(N),j=V(" fill:"),F=V(i[1]),q=V(`;
                  `),lt&&lt.c(),L=V(`
                  class `),R=V(A),Y=V(" RootArtifactNode; style "),ue=V(z),re=V(" fill:"),ee=V(i[2]),$=V(`;
                  click `),pe=V(Q),J=V(` href "javascript:da_to_sensor_callback('`),it=V(de),nt=V(`')"; click `),ze=V(Fe),Ce=V(' href "'),Ge=V(Ee),Dt=V('";')},l(ge){t=H(ge,e),n=H(ge,'["'),s=H(ge,r),a=H(ge,'"] '),u=H(ge,l),f=H(ge," | "),v=H(ge,h),p=H(ge," | "),_=H(ge,d),g=H(ge,'["'),D=H(ge,b),B=H(ge,`"];
                  class `),O=H(ge,S),y=H(ge," inbound_node; style "),T=H(ge,N),j=H(ge," fill:"),F=H(ge,i[1]),q=H(ge,`;
                  `),lt&&lt.l(ge),L=H(ge,`
                  class `),R=H(ge,A),Y=H(ge," RootArtifactNode; style "),ue=H(ge,z),re=H(ge," fill:"),ee=H(ge,i[2]),$=H(ge,`;
                  click `),pe=H(ge,Q),J=H(ge,` href "javascript:da_to_sensor_callback('`),it=H(ge,de),nt=H(ge,`')"; click `),ze=H(ge,Fe),Ce=H(ge,' href "'),Ge=H(ge,Ee),Dt=H(ge,'";')},m(ge,Me){I(ge,t,Me),I(ge,n,Me),I(ge,s,Me),I(ge,a,Me),I(ge,u,Me),I(ge,f,Me),I(ge,v,Me),I(ge,p,Me),I(ge,_,Me),I(ge,g,Me),I(ge,D,Me),I(ge,B,Me),I(ge,O,Me),I(ge,y,Me),I(ge,T,Me),I(ge,j,Me),I(ge,F,Me),I(ge,q,Me),lt&&lt.m(ge,Me),I(ge,L,Me),I(ge,R,Me),I(ge,Y,Me),I(ge,ue,Me),I(ge,re,Me),I(ge,ee,Me),I(ge,$,Me),I(ge,pe,Me),I(ge,J,Me),I(ge,it,Me),I(ge,nt,Me),I(ge,ze,Me),I(ge,Ce,Me),I(ge,Ge,Me),I(ge,Dt,Me)},p(ge,Me){Me[0]&160&&e!==(e=ge[32]["@id"]+"")&&Se(t,e),Me[0]&160&&r!==(r=ge[32]["rdfs:label"][0]+"")&&Se(s,r),Me[0]&160&&h!==(h=Ze(ge[26]["@id"])+"")&&Se(v,h),Me[0]&160&&d!==(d=ge[29]["@id"]+"")&&Se(_,d),Me[0]&160&&b!==(b=ge[7].i(ge[29]["@id"])["rdfs:label"][0]+"")&&Se(D,b),Me[0]&160&&S!==(S=ge[32]["@id"]+"")&&Se(O,S),Me[0]&160&&N!==(N=ge[32]["@id"]+"")&&Se(T,N),Me[0]&2&&Se(F,ge[1]),Me[0]&416&&(k=ge[8].includes(ge[32]["@id"])),k?lt?lt.p(ge,Me):(lt=Hv(ge),lt.c(),lt.m(L.parentNode,L)):lt&&(lt.d(1),lt=null),Me[0]&160&&A!==(A=ge[29]["@id"]+"")&&Se(R,A),Me[0]&160&&z!==(z=ge[29]["@id"]+"")&&Se(ue,z),Me[0]&4&&Se(ee,ge[2]),Me[0]&160&&Q!==(Q=ge[32]["@id"]+"")&&Se(pe,Q),Me[0]&160&&de!==(de=ge[32]["@id"]+"")&&Se(it,de),Me[0]&160&&Fe!==(Fe=ge[29]["@id"]+"")&&Se(ze,Fe),Me[0]&168&&Ee!==(Ee=ge[3](ge[29])+"")&&Se(Ge,Ee)},d(ge){ge&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B),w(O),w(y),w(T),w(j),w(F),w(q),w(L),w(R),w(Y),w(ue),w(re),w(ee),w($),w(pe),w(J),w(it),w(nt),w(ze),w(Ce),w(Ge),w(Dt)),lt&&lt.d(ge)}}}function Gv(i){let e,t=ut(i[32][i[26]["@id"]]),n=[];for(let r=0;r<t.length;r+=1)n[r]=$v(xv(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=He()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=He()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&430){t=ut(r[32][r[26]["@id"]]);let a;for(a=0;a<t.length;a+=1){const l=xv(r,t,a);n[a]?n[a].p(l,s):(n[a]=$v(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),tr(n,r)}}}function Xv(i){let e,t=i[32]["d3f:outbound"]&&Vv(i);return{c(){t&&t.c(),e=He()},l(n){t&&t.l(n),e=He()},m(n,r){t&&t.m(n,r),I(n,e,r)},p(n,r){n[32]["d3f:outbound"]?t?t.p(n,r):(t=Vv(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&w(e),t&&t.d(n)}}}function Wv(i){let e,t=ut(i[7].i(i[5].description["@id"])["d3f:outbound"]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Yv(Uv(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=He()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=He()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&184){t=ut(r[7].i(r[5].description["@id"])["d3f:outbound"]);let a;for(a=0;a<t.length;a+=1){const l=Uv(r,t,a);n[a]?n[a].p(l,s):(n[a]=Yv(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),tr(n,r)}}}function Qv(i){let e=i[5].description["@id"]+"",t,n,r=i[7].i(i[5].description["@id"])["rdfs:label"][0]+"",s,a,l="-->",u,f,h=Ze(i[26]["@id"])+"",v,p,d=i[29]["@id"]+"",_,g,b=i[7].graph[i[7].index[i[29]["@id"]]]["rdfs:label"][0]+"",D,B,S=i[5].description["@id"]+"",O,y,N=i[29]["@id"]+"",T,j,F=i[5].description["@id"]+"",q,k,L=i[3](i[5].description["@id"])+"",A,R,Y=i[29]["@id"]+"",z,ue,re=i[4](i[29])+"",ee,$;return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(" | "),v=V(h),p=V(" | "),_=V(d),g=V('["'),D=V(b),B=V('"]; class '),O=V(S),y=V(" RootArtifactNode; class "),T=V(N),j=V(` ArtifactNode;
                click `),q=V(F),k=V(' href "'),A=V(L),R=V('"; click '),z=V(Y),ue=V(' href "'),ee=V(re),$=V('";')},l(Q){t=H(Q,e),n=H(Q,'["'),s=H(Q,r),a=H(Q,'"] '),u=H(Q,l),f=H(Q," | "),v=H(Q,h),p=H(Q," | "),_=H(Q,d),g=H(Q,'["'),D=H(Q,b),B=H(Q,'"]; class '),O=H(Q,S),y=H(Q," RootArtifactNode; class "),T=H(Q,N),j=H(Q,` ArtifactNode;
                click `),q=H(Q,F),k=H(Q,' href "'),A=H(Q,L),R=H(Q,'"; click '),z=H(Q,Y),ue=H(Q,' href "'),ee=H(Q,re),$=H(Q,'";')},m(Q,pe){I(Q,t,pe),I(Q,n,pe),I(Q,s,pe),I(Q,a,pe),I(Q,u,pe),I(Q,f,pe),I(Q,v,pe),I(Q,p,pe),I(Q,_,pe),I(Q,g,pe),I(Q,D,pe),I(Q,B,pe),I(Q,O,pe),I(Q,y,pe),I(Q,T,pe),I(Q,j,pe),I(Q,q,pe),I(Q,k,pe),I(Q,A,pe),I(Q,R,pe),I(Q,z,pe),I(Q,ue,pe),I(Q,ee,pe),I(Q,$,pe)},p(Q,pe){pe[0]&32&&e!==(e=Q[5].description["@id"]+"")&&Se(t,e),pe[0]&160&&r!==(r=Q[7].i(Q[5].description["@id"])["rdfs:label"][0]+"")&&Se(s,r),pe[0]&160&&h!==(h=Ze(Q[26]["@id"])+"")&&Se(v,h),pe[0]&160&&d!==(d=Q[29]["@id"]+"")&&Se(_,d),pe[0]&160&&b!==(b=Q[7].graph[Q[7].index[Q[29]["@id"]]]["rdfs:label"][0]+"")&&Se(D,b),pe[0]&32&&S!==(S=Q[5].description["@id"]+"")&&Se(O,S),pe[0]&160&&N!==(N=Q[29]["@id"]+"")&&Se(T,N),pe[0]&32&&F!==(F=Q[5].description["@id"]+"")&&Se(q,F),pe[0]&40&&L!==(L=Q[3](Q[5].description["@id"])+"")&&Se(A,L),pe[0]&160&&Y!==(Y=Q[29]["@id"]+"")&&Se(z,Y),pe[0]&176&&re!==(re=Q[4](Q[29])+"")&&Se(ee,re)},d(Q){Q&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B),w(O),w(y),w(T),w(j),w(q),w(k),w(A),w(R),w(z),w(ue),w(ee),w($))}}}function Yv(i){let e,t=ut(i[7].i(i[5].description["@id"])[i[26]["@id"]]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Qv(Mv(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=He()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=He()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&184){t=ut(r[7].i(r[5].description["@id"])[r[26]["@id"]]);let a;for(a=0;a<t.length;a+=1){const l=Mv(r,t,a);n[a]?n[a].p(l,s):(n[a]=Qv(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),tr(n,r)}}}function V9(i){let e,t,n=i[7].i(i[5].description["@id"])&&i[7].i(i[5].description["@id"])["d3f:outbound"],r,s=ut(i[7].graph.filter(i[18])),a=[];for(let u=0;u<s.length;u+=1)a[u]=Xv(qv(i,s,u));let l=n&&Wv(i);return{c(){e=V(`graph LR;
          `);for(let u=0;u<a.length;u+=1)a[u].c();t=_e(),l&&l.c(),r=He()},l(u){e=H(u,`graph LR;
          `);for(let f=0;f<a.length;f+=1)a[f].l(u);t=ve(u),l&&l.l(u),r=He()},m(u,f){I(u,e,f);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(u,f);I(u,t,f),l&&l.m(u,f),I(u,r,f)},p(u,f){if(f[0]&430){s=ut(u[7].graph.filter(u[18]));let h;for(h=0;h<s.length;h+=1){const v=qv(u,s,h);a[h]?a[h].p(v,f):(a[h]=Xv(v),a[h].c(),a[h].m(t.parentNode,t))}for(;h<a.length;h+=1)a[h].d(1);a.length=s.length}f[0]&160&&(n=u[7].i(u[5].description["@id"])&&u[7].i(u[5].description["@id"])["d3f:outbound"]),n?l?l.p(u,f):(l=Wv(u),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(u){u&&(w(e),w(t),w(r)),tr(a,u),l&&l.d(u)}}}function H9(i){let e,t,n,r,s,a,l,u,f,h,v,p,d,_=i[8].length+"",g,b,D,B,S;const O=i[16].header,y=Dr(O,i,i[22],zv),N=i[16].default,T=Dr(N,i,i[22],null),j=[z9,x9,j9],F=[];function q(k,L){return k[5]?k[7].graph.length>0?1:2:0}return l=q(i),u=F[l]=j[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),n=V(`
      Select Sensors
      `),T&&T.c(),r=_e(),s=ae("hr"),a=_e(),u.c(),f=_e(),h=ae("hr"),v=_e(),p=ae("button"),d=V("Insert ("),g=V(_),b=V(")"),this.h()},l(k){e=se(k,"DIALOG",{class:!0});var L=Ue(e);t=se(L,"DIV",{class:!0});var A=Ue(t);y&&y.l(A),n=H(A,`
      Select Sensors
      `),T&&T.l(A),r=ve(A),s=se(A,"HR",{}),a=ve(A),u.l(A),f=ve(A),h=se(A,"HR",{}),v=ve(A),p=se(A,"BUTTON",{class:!0});var R=Ue(p);d=H(R,"Insert ("),g=H(R,_),b=H(R,")"),R.forEach(w),A.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,oe(p,"class","svelte-akhii9"),oe(t,"class","svelte-akhii9"),oe(e,"class","svelte-akhii9")},m(k,L){I(k,e,L),G(e,t),y&&y.m(t,null),G(t,n),T&&T.m(t,null),G(t,r),G(t,s),G(t,a),F[l].m(t,null),G(t,f),G(t,h),G(t,v),G(t,p),G(p,d),G(p,g),G(p,b),i[19](e),D=!0,p.focus(),B||(S=[Re(p,"click",i[11]),Re(t,"click",Ur(i[17])),Re(e,"close",i[20]),Re(e,"click",va(i[21]))],B=!0)},p(k,L){y&&y.p&&(!D||L[0]&4194304)&&Ar(y,O,k,k[22],D?Cr(O,k[22],L,q9):kr(k[22]),zv),T&&T.p&&(!D||L[0]&4194304)&&Ar(T,N,k,k[22],D?Cr(N,k[22],L,null):kr(k[22]),null);let A=l;l=q(k),l===A?F[l].p(k,L):(It(),me(F[A],1,1,()=>{F[A]=null}),Rt(),u=F[l],u?u.p(k,L):(u=F[l]=j[l](k),u.c()),ce(u,1),u.m(t,f)),(!D||L[0]&256)&&_!==(_=k[8].length+"")&&Se(g,_)},i(k){D||(ce(y,k),ce(T,k),ce(u),D=!0)},o(k){me(y,k),me(T,k),me(u),D=!1},d(k){k&&w(e),y&&y.d(k),T&&T.d(k),F[l].d(),i[19](null),B=!1,Vt(S)}}}function $9(i,e,t){let n,r,s,{$$slots:a={},$$scope:l}=e,{outbound_color:u="#fff4dd"}=e,{inbound_color:f="#fff4dd"}=e,{root_color:h="#fff4dd"}=e,{link_function:v=A=>`/dao/artifact/${A["@id"]}`}=e,{inbound_link_function:p=v}=e,{root_link_function:d=A=>`/dao/artifact/${A["@id"]}`}=e,{outbound_link_function:_=v}=e,{show_sensor_modal:g}=e,{parent_node:b}=e,{data:D}=e,B;const S=Ii();yt(i,S,A=>t(24,s=A));const O=Ri();yt(i,O,A=>t(23,r=A));let y;function N(A){n.includes(A)?t(8,n=n.filter(R=>R!==A)):n.push(A),t(8,n),t(8,n)}window.da_to_sensor_callback=function(A){N(A)};function T(){let A=0,R=200,Y=100;for(const z of n){let ue=D.sensors["@graph"].find(re=>re["@id"]==z);ue&&(Ea(S,O,b,"artifactSelectorNode",ue["rdfs:label"],ue["@id"],b.data.sequence,b.position.x+A*R,b.position.y+Y,182,63,ue["d3f:outbound"][0]["@id"].replace("d3f:",""),!1),A+=1)}S.set(s),O.set(r),B&&B.close(),t(8,n=[])}function j(A){Zn.call(this,i,A)}const F=A=>A["@id"]!=D.description["@id"];function q(A){Or[A?"unshift":"push"](()=>{B=A,t(6,B)})}const k=()=>t(0,g=!1),L=()=>{B.close(),t(8,n=[])};return i.$$set=A=>{"outbound_color"in A&&t(12,u=A.outbound_color),"inbound_color"in A&&t(1,f=A.inbound_color),"root_color"in A&&t(2,h=A.root_color),"link_function"in A&&t(13,v=A.link_function),"inbound_link_function"in A&&t(14,p=A.inbound_link_function),"root_link_function"in A&&t(3,d=A.root_link_function),"outbound_link_function"in A&&t(4,_=A.outbound_link_function),"show_sensor_modal"in A&&t(0,g=A.show_sensor_modal),"parent_node"in A&&t(15,b=A.parent_node),"data"in A&&t(5,D=A.data),"$$scope"in A&&t(22,l=A.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&65&&g&&B&&B.showModal(),i.$$.dirty[0]&65&&!g&&B&&B.close(),i.$$.dirty[0]&32&&D&&D.sensors&&t(7,y=new Kh(D.sensors,{index:!0}))},t(8,n=[]),[g,f,h,d,_,D,B,y,n,S,O,T,u,v,p,b,a,j,F,q,k,L,l]}class G9 extends Gt{constructor(e){super(),Xt(this,e,$9,H9,Et,{outbound_color:12,inbound_color:1,root_color:2,link_function:13,inbound_link_function:14,root_link_function:3,outbound_link_function:4,show_sensor_modal:0,parent_node:15,data:5},null,[-1,-1])}}function X9(i){let e,t="attack the node",n,r,s,a,l,u="defend the node",f,h,v,p,d,_="add weaknesses",g,b,D,B,S,O="add sensors",y,N,T,j,F,q="explode parts",k,L,A="explode control",R,Y,z,ue,re,ee;function $(Ee){i[11](Ee)}let Q={parent_node:i[0],data:i[1]};i[7]!==void 0&&(Q.show_attack_modal=i[7]),r=new h9({props:Q}),Or.push(()=>gn(r,"show_attack_modal",$));function pe(Ee){i[13](Ee)}let J={parent_node:i[0],data:i[1]};i[6]!==void 0&&(J.show_defend_modal=i[6]),h=new E9({props:J}),Or.push(()=>gn(h,"show_defend_modal",pe));function de(Ee){i[15](Ee)}let it={parent_node:i[0],inbound_color:"#f9d999",inbound_link_function:i[9],data:i[1]};i[5]!==void 0&&(it.show_weakness_modal=i[5]),b=new I9({props:it}),Or.push(()=>gn(b,"show_weakness_modal",de));function nt(Ee){i[17](Ee)}let Fe={parent_node:i[0],inbound_color:"#f9d999",data:i[1]};i[3]!==void 0&&(Fe.show_sensor_modal=i[3]),N=new G9({props:Fe}),Or.push(()=>gn(N,"show_sensor_modal",nt));function ze(Ee){i[20](Ee)}let Ce={neighbor_filter_labels:i[2],parent_node:i[0],empty_message:"has no related parts in this release.",inbound_color:"#f9d999",inbound_link_function:i[9],data:i[1]};return i[4]!==void 0&&(Ce.show_neighbors_modal=i[4]),Y=new M9({props:Ce}),Or.push(()=>gn(Y,"show_neighbors_modal",ze)),{c(){e=ae("button"),e.textContent=t,n=_e(),Xe(r.$$.fragment),a=_e(),l=ae("button"),l.textContent=u,f=_e(),Xe(h.$$.fragment),p=_e(),d=ae("button"),d.textContent=_,g=_e(),Xe(b.$$.fragment),B=_e(),S=ae("button"),S.textContent=O,y=_e(),Xe(N.$$.fragment),j=_e(),F=ae("button"),F.textContent=q,k=_e(),L=ae("button"),L.textContent=A,R=_e(),Xe(Y.$$.fragment),this.h()},l(Ee){e=se(Ee,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(e)!=="svelte-1dkmztx"&&(e.textContent=t),n=ve(Ee),We(r.$$.fragment,Ee),a=ve(Ee),l=se(Ee,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(l)!=="svelte-22hxkb"&&(l.textContent=u),f=ve(Ee),We(h.$$.fragment,Ee),p=ve(Ee),d=se(Ee,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(d)!=="svelte-urtcr7"&&(d.textContent=_),g=ve(Ee),We(b.$$.fragment,Ee),B=ve(Ee),S=se(Ee,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(S)!=="svelte-1xhii68"&&(S.textContent=O),y=ve(Ee),We(N.$$.fragment,Ee),j=ve(Ee),F=se(Ee,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(F)!=="svelte-1hluius"&&(F.textContent=q),k=ve(Ee),L=se(Ee,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(L)!=="svelte-183zqvn"&&(L.textContent=A),R=ve(Ee),We(Y.$$.fragment,Ee),this.h()},h(){oe(e,"class","svelte-5he3i1"),oe(l,"class","svelte-5he3i1"),oe(d,"class","svelte-5he3i1"),oe(S,"class","svelte-5he3i1"),oe(F,"class","svelte-5he3i1"),oe(L,"class","svelte-5he3i1")},m(Ee,Ge){I(Ee,e,Ge),I(Ee,n,Ge),Qe(r,Ee,Ge),I(Ee,a,Ge),I(Ee,l,Ge),I(Ee,f,Ge),Qe(h,Ee,Ge),I(Ee,p,Ge),I(Ee,d,Ge),I(Ee,g,Ge),Qe(b,Ee,Ge),I(Ee,B,Ge),I(Ee,S,Ge),I(Ee,y,Ge),Qe(N,Ee,Ge),I(Ee,j,Ge),I(Ee,F,Ge),I(Ee,k,Ge),I(Ee,L,Ge),I(Ee,R,Ge),Qe(Y,Ee,Ge),ue=!0,re||(ee=[Re(e,"click",i[10]),Re(l,"click",i[12]),Re(d,"click",i[14]),Re(S,"click",i[16]),Re(F,"click",i[18]),Re(L,"click",i[19])],re=!0)},p(Ee,[Ge]){const Dt={};Ge&1&&(Dt.parent_node=Ee[0]),Ge&2&&(Dt.data=Ee[1]),!s&&Ge&128&&(s=!0,Dt.show_attack_modal=Ee[7],vn(()=>s=!1)),r.$set(Dt);const lt={};Ge&1&&(lt.parent_node=Ee[0]),Ge&2&&(lt.data=Ee[1]),!v&&Ge&64&&(v=!0,lt.show_defend_modal=Ee[6],vn(()=>v=!1)),h.$set(lt);const ge={};Ge&1&&(ge.parent_node=Ee[0]),Ge&2&&(ge.data=Ee[1]),!D&&Ge&32&&(D=!0,ge.show_weakness_modal=Ee[5],vn(()=>D=!1)),b.$set(ge);const Me={};Ge&1&&(Me.parent_node=Ee[0]),Ge&2&&(Me.data=Ee[1]),!T&&Ge&8&&(T=!0,Me.show_sensor_modal=Ee[3],vn(()=>T=!1)),N.$set(Me);const nr={};Ge&4&&(nr.neighbor_filter_labels=Ee[2]),Ge&1&&(nr.parent_node=Ee[0]),Ge&2&&(nr.data=Ee[1]),!z&&Ge&16&&(z=!0,nr.show_neighbors_modal=Ee[4],vn(()=>z=!1)),Y.$set(nr)},i(Ee){ue||(ce(r.$$.fragment,Ee),ce(h.$$.fragment,Ee),ce(b.$$.fragment,Ee),ce(N.$$.fragment,Ee),ce(Y.$$.fragment,Ee),ue=!0)},o(Ee){me(r.$$.fragment,Ee),me(h.$$.fragment,Ee),me(b.$$.fragment,Ee),me(N.$$.fragment,Ee),me(Y.$$.fragment,Ee),ue=!1},d(Ee){Ee&&(w(e),w(n),w(a),w(l),w(f),w(p),w(d),w(g),w(B),w(S),w(y),w(j),w(F),w(k),w(L),w(R)),Ye(r,Ee),Ye(h,Ee),Ye(b,Ee),Ye(N,Ee),Ye(Y,Ee),re=!1,Vt(ee)}}}function W9(i,e,t){let n,r,s,a,l;var u=this&&this.__awaiter||function(q,k,L,A){function R(Y){return Y instanceof L?Y:new L(function(z){z(Y)})}return new(L||(L=Promise))(function(Y,z){function ue($){try{ee(A.next($))}catch(Q){z(Q)}}function re($){try{ee(A.throw($))}catch(Q){z(Q)}}function ee($){$.done?Y($.value):R($.value).then(ue,re)}ee((A=A.apply(q,k||[])).next())})};let{node:f}=e,h,v=[];function p(q){alert(q),t(7,n=!1),t(6,r=!1),t(5,s=!1),t(4,a=!1),t(3,l=!1)}function d(q){return u(this,void 0,void 0,function*(){if(q.data.d3f_class&&q.data.d3f_class.includes("d3f:")){const k=q.data.d3f_class,L=yield fetch(`/api/dao/artifact/${k}.json`),A=yield L.json();if(L.status!=200||A.description["@graph"].length==0)p(`D3FEND Artifact: "${k.replace("d3f:","")}" not found in ontology`);else return A}else p("Please specify a D3FEND Class for this node to enable inferential mapping")})}function _(q){return kA(q["d3f:cwe-id"][0])}const g=async()=>{t(1,h=null),t(7,n=!0),t(1,h=await d(f))};function b(q){n=q,t(7,n)}const D=async()=>{t(1,h=null),t(6,r=!0),t(1,h=await d(f))};function B(q){r=q,t(6,r)}const S=async()=>{t(1,h=null),t(5,s=!0),t(1,h=await d(f))};function O(q){s=q,t(5,s)}const y=async()=>{t(1,h=null),t(3,l=!0),t(1,h=await d(f))};function N(q){l=q,t(3,l)}const T=async()=>{t(1,h=null),t(4,a=!0),t(2,v=["d3f:contains","d3f:may-contains"]),t(1,h=await d(f))},j=async()=>{t(1,h=null),t(4,a=!0),t(2,v=["d3f:runs","d3f:loads","d3f:manages"]),t(1,h=await d(f))};function F(q){a=q,t(4,a)}return i.$$set=q=>{"node"in q&&t(0,f=q.node)},t(7,n=!1),t(6,r=!1),t(5,s=!1),t(4,a=!1),t(3,l=!1),[f,h,v,l,a,s,r,n,d,_,g,b,D,B,S,O,y,N,T,j,F]}class Q9 extends Gt{constructor(e){super(),Xt(this,e,W9,X9,Et,{node:0})}}function Kv(i,e,t){const n=i.slice();return n[18]=e[t],n[20]=t,n}const Y9=i=>({}),Jv=i=>({});function K9(i){let e;return{c(){e=V("No related defensive techniques in this release.")},l(t){e=H(t,"No related defensive techniques in this release.")},m(t,n){I(t,e,n)},p:at,i:at,o:at,d(t){t&&w(e)}}}function J9(i){let e,t;return e=new ga({props:{$$slots:{default:[r4]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r&16406&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function Z9(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(n){e=se(n,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(n,r){I(n,e,r)},p:at,i:at,o:at,d(n){n&&w(e)}}}function e4(i){let e,t=Ze(i[18].def_artifact.value)+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" ArtifactNode;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," ArtifactNode;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a&4&&t!==(t=Ze(s[18].def_artifact.value)+"")&&Se(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function t4(i){let e,t=Ze(i[18].def_artifact.value)+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" SelectedArtifactNode;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," SelectedArtifactNode;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a&4&&t!==(t=Ze(s[18].def_artifact.value)+"")&&Se(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function Zv(i){let e=i[1].data.d3f_class+"",t,n,r=i[2].description["@graph"][0]["rdfs:label"]+"",s,a,l="-->",u,f,h=i[18].def_artifact_rel_label.value+"",v,p,d=Ze(i[18].def_artifact.value)+"",_,g,b=i[18].def_artifact_label.value+"",D,B,S=i[1].data.d3f_class+"",O,y,N,T,j=Ze(i[18].def_artifact.value)+"",F,q,k=Ze(i[18].def_artifact.value)+"",L,A,R=`
`,Y;function z(ee,$){return $&20&&(N=null),N==null&&(N=!!ee[4].includes(Ze(ee[18].def_artifact.value))),N?t4:e4}let ue=z(i,-1),re=ue(i);return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(' |"'),v=V(h),p=V('" | '),_=V(d),g=V('["'),D=V(b),B=V(`"];
          class `),O=V(S),y=V(` DefensiveTechniqueNode;
          `),re.c(),T=V(`
          click `),F=V(j),q=V(` href "javascript:def_to_art_callback('`),L=V(k),A=V(`')";`),Y=V(R)},l(ee){t=H(ee,e),n=H(ee,'["'),s=H(ee,r),a=H(ee,'"] '),u=H(ee,l),f=H(ee,' |"'),v=H(ee,h),p=H(ee,'" | '),_=H(ee,d),g=H(ee,'["'),D=H(ee,b),B=H(ee,`"];
          class `),O=H(ee,S),y=H(ee,` DefensiveTechniqueNode;
          `),re.l(ee),T=H(ee,`
          click `),F=H(ee,j),q=H(ee,` href "javascript:def_to_art_callback('`),L=H(ee,k),A=H(ee,`')";`),Y=H(ee,R)},m(ee,$){I(ee,t,$),I(ee,n,$),I(ee,s,$),I(ee,a,$),I(ee,u,$),I(ee,f,$),I(ee,v,$),I(ee,p,$),I(ee,_,$),I(ee,g,$),I(ee,D,$),I(ee,B,$),I(ee,O,$),I(ee,y,$),re.m(ee,$),I(ee,T,$),I(ee,F,$),I(ee,q,$),I(ee,L,$),I(ee,A,$),I(ee,Y,$)},p(ee,$){$&2&&e!==(e=ee[1].data.d3f_class+"")&&Se(t,e),$&4&&r!==(r=ee[2].description["@graph"][0]["rdfs:label"]+"")&&Se(s,r),$&4&&h!==(h=ee[18].def_artifact_rel_label.value+"")&&Se(v,h),$&4&&d!==(d=Ze(ee[18].def_artifact.value)+"")&&Se(_,d),$&4&&b!==(b=ee[18].def_artifact_label.value+"")&&Se(D,b),$&2&&S!==(S=ee[1].data.d3f_class+"")&&Se(O,S),ue===(ue=z(ee,$))&&re?re.p(ee,$):(re.d(1),re=ue(ee),re&&(re.c(),re.m(T.parentNode,T))),$&4&&j!==(j=Ze(ee[18].def_artifact.value)+"")&&Se(F,j),$&4&&k!==(k=Ze(ee[18].def_artifact.value)+"")&&Se(L,k)},d(ee){ee&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B),w(O),w(y),w(T),w(F),w(q),w(L),w(A),w(Y)),re.d(ee)}}}function r4(i){let e,t,n=ut(i[2].digital_artifacts.results.bindings),r=[];for(let s=0;s<n.length;s+=1)r[s]=Zv(Kv(i,n,s));return{c(){e=V(`graph LR
        `);for(let s=0;s<r.length;s+=1)r[s].c();t=He()},l(s){e=H(s,`graph LR
        `);for(let a=0;a<r.length;a+=1)r[a].l(s);t=He()},m(s,a){I(s,e,a);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(s,a);I(s,t,a)},p(s,a){if(a&22){n=ut(s[2].digital_artifacts.results.bindings);let l;for(l=0;l<n.length;l+=1){const u=Kv(s,n,l);r[l]?r[l].p(u,a):(r[l]=Zv(u),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(s){s&&(w(e),w(t)),tr(r,s)}}}function n4(i){let e,t,n,r,s,a,l,u,f,h,v,p,d,_=i[4].length+"",g,b,D,B,S;const O=i[9].header,y=Dr(O,i,i[14],Jv),N=i[9].default,T=Dr(N,i,i[14],null),j=[Z9,J9,K9],F=[];function q(k,L){return k[2]?k[2].digital_artifacts.results.bindings.length>0?1:2:0}return l=q(i),u=F[l]=j[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),n=V(`
    Select Related Artifacts To Insert
    `),T&&T.c(),r=_e(),s=ae("hr"),a=_e(),u.c(),f=_e(),h=ae("hr"),v=_e(),p=ae("button"),d=V("Insert ("),g=V(_),b=V(")"),this.h()},l(k){e=se(k,"DIALOG",{class:!0});var L=Ue(e);t=se(L,"DIV",{class:!0});var A=Ue(t);y&&y.l(A),n=H(A,`
    Select Related Artifacts To Insert
    `),T&&T.l(A),r=ve(A),s=se(A,"HR",{}),a=ve(A),u.l(A),f=ve(A),h=se(A,"HR",{}),v=ve(A),p=se(A,"BUTTON",{class:!0});var R=Ue(p);d=H(R,"Insert ("),g=H(R,_),b=H(R,")"),R.forEach(w),A.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,oe(p,"class","svelte-x0618k"),oe(t,"class","svelte-x0618k"),oe(e,"class","svelte-x0618k")},m(k,L){I(k,e,L),G(e,t),y&&y.m(t,null),G(t,n),T&&T.m(t,null),G(t,r),G(t,s),G(t,a),F[l].m(t,null),G(t,f),G(t,h),G(t,v),G(t,p),G(p,d),G(p,g),G(p,b),i[11](e),D=!0,p.focus(),B||(S=[Re(p,"click",i[7]),Re(t,"click",Ur(i[10])),Re(e,"close",i[12]),Re(e,"click",va(i[13]))],B=!0)},p(k,[L]){y&&y.p&&(!D||L&16384)&&Ar(y,O,k,k[14],D?Cr(O,k[14],L,Y9):kr(k[14]),Jv),T&&T.p&&(!D||L&16384)&&Ar(T,N,k,k[14],D?Cr(N,k[14],L,null):kr(k[14]),null);let A=l;l=q(k),l===A?F[l].p(k,L):(It(),me(F[A],1,1,()=>{F[A]=null}),Rt(),u=F[l],u?u.p(k,L):(u=F[l]=j[l](k),u.c()),ce(u,1),u.m(t,f)),(!D||L&16)&&_!==(_=k[4].length+"")&&Se(g,_)},i(k){D||(ce(y,k),ce(T,k),ce(u),D=!0)},o(k){me(y,k),me(T,k),me(u),D=!1},d(k){k&&w(e),y&&y.d(k),T&&T.d(k),F[l].d(),i[11](null),B=!1,Vt(S)}}}function i4(i,e,t){let n,r,s,{$$slots:a={},$$scope:l}=e,{show_artifacts_modal:u}=e,{parent_node:f}=e,{data:h}=e,v;const p=Ii();yt(i,p,y=>t(16,s=y));const d=Ri();yt(i,d,y=>t(15,r=y));let _=new Ha;function g(y){n.includes(y)?t(4,n=n.filter(N=>N!==y)):n.push(y),t(4,n)}window.def_to_art_callback=function(y){g(y)};function b(){let y=0,N=200,T=100;for(const j of n){let F=h.digital_artifacts.results.bindings.find(q=>Ze(q.def_artifact.value)==j);F&&(Ea(p,d,f,"artifactSelectorNode",F.def_artifact_label.value,"d3f:"+Ze(F.def_artifact.value),f.data.sequence,f.position.x+y*N,f.position.y+T,182,82,F.def_artifact_rel_label.value,!0),y+=1)}p.set(s),d.set(r),v&&v.close(),t(4,n=[])}function D(y){Zn.call(this,i,y)}function B(y){Or[y?"unshift":"push"](()=>{v=y,t(3,v)})}const S=()=>t(0,u=!1),O=()=>{v.close(),t(4,n=[])};return i.$$set=y=>{"show_artifacts_modal"in y&&t(0,u=y.show_artifacts_modal),"parent_node"in y&&t(1,f=y.parent_node),"data"in y&&t(2,h=y.data),"$$scope"in y&&t(14,l=y.$$scope)},i.$$.update=()=>{i.$$.dirty&9&&u&&v&&(v.showModal(),t(8,_=new Ha)),i.$$.dirty&265&&!u&&v&&(v.close(),_.reset())},t(4,n=[]),[u,f,h,v,n,p,d,b,_,a,D,B,S,O,l]}class a4 extends Gt{constructor(e){super(),Xt(this,e,i4,n4,Et,{show_artifacts_modal:0,parent_node:1,data:2})}}function eg(i,e,t){const n=i.slice();return n[18]=e[t],n}const s4=i=>({}),tg=i=>({});function l4(i){let e;return{c(){e=V("No related offensive techniques in this release.")},l(t){e=H(t,"No related offensive techniques in this release.")},m(t,n){I(t,e,n)},p:at,i:at,o:at,d(t){t&&w(e)}}}function o4(i){let e,t;return e=new ga({props:{$$slots:{default:[h4]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r&16394&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function u4(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(n){e=se(n,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(n,r){I(n,e,r)},p:at,i:at,o:at,d(n){n&&w(e)}}}function rg(i){let e=Ze(i[18].def_tech.value).replace(/ |\./g,"")+"",t,n,r=i[18].def_tech_label.value+"",s,a,l="-->",u,f,h="May "+i[18].def_tactic_label.value.replace(/ /g,""),v,p,d=i[18].off_tech_id.value.replace(/ |\./g,"")+"",_,g,b=i[18].off_tech_label.value+"",D,B,S,O,y=Ze(i[18].def_tech.value)+"",N,T,j=i[18].off_tech_id.value.replace(/ |\./g,"")+"",F,q,k=i[18].off_tech_id.value.replace(/ |\./g,"")+"",L,A,R=Ze(i[18].def_tech.value)+"",Y,z,ue=Ze(i[18].def_tech.value)+"",re,ee;function $(J,de){return de&10&&(S=null),S==null&&(S=!!J[3].includes(J[18].off_tech_id.value.replace(/ |\./g,""))),S?c4:f4}let Q=$(i,-1),pe=Q(i);return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(" | "),v=V(h),p=V("| "),_=V(d),g=V('["'),D=V(b),B=V(`"];
            `),pe.c(),O=V(`
            class `),N=V(y),T=V(" CountermeasureNode; click "),F=V(j),q=V(` href "javascript:def_to_off_callback('`),L=V(k),A=V(`')"; click `),Y=V(R),z=V(' href "/technique/d3f:'),re=V(ue),ee=V('";')},l(J){t=H(J,e),n=H(J,'["'),s=H(J,r),a=H(J,'"] '),u=H(J,l),f=H(J," | "),v=H(J,h),p=H(J,"| "),_=H(J,d),g=H(J,'["'),D=H(J,b),B=H(J,`"];
            `),pe.l(J),O=H(J,`
            class `),N=H(J,y),T=H(J," CountermeasureNode; click "),F=H(J,j),q=H(J,` href "javascript:def_to_off_callback('`),L=H(J,k),A=H(J,`')"; click `),Y=H(J,R),z=H(J,' href "/technique/d3f:'),re=H(J,ue),ee=H(J,'";')},m(J,de){I(J,t,de),I(J,n,de),I(J,s,de),I(J,a,de),I(J,u,de),I(J,f,de),I(J,v,de),I(J,p,de),I(J,_,de),I(J,g,de),I(J,D,de),I(J,B,de),pe.m(J,de),I(J,O,de),I(J,N,de),I(J,T,de),I(J,F,de),I(J,q,de),I(J,L,de),I(J,A,de),I(J,Y,de),I(J,z,de),I(J,re,de),I(J,ee,de)},p(J,de){de&2&&e!==(e=Ze(J[18].def_tech.value).replace(/ |\./g,"")+"")&&Se(t,e),de&2&&r!==(r=J[18].def_tech_label.value+"")&&Se(s,r),de&2&&h!==(h="May "+J[18].def_tactic_label.value.replace(/ /g,""))&&Se(v,h),de&2&&d!==(d=J[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(_,d),de&2&&b!==(b=J[18].off_tech_label.value+"")&&Se(D,b),Q===(Q=$(J,de))&&pe?pe.p(J,de):(pe.d(1),pe=Q(J),pe&&(pe.c(),pe.m(O.parentNode,O))),de&2&&y!==(y=Ze(J[18].def_tech.value)+"")&&Se(N,y),de&2&&j!==(j=J[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(F,j),de&2&&k!==(k=J[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(L,k),de&2&&R!==(R=Ze(J[18].def_tech.value)+"")&&Se(Y,R),de&2&&ue!==(ue=Ze(J[18].def_tech.value)+"")&&Se(re,ue)},d(J){J&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B),w(O),w(N),w(T),w(F),w(q),w(L),w(A),w(Y),w(z),w(re),w(ee)),pe.d(J)}}}function f4(i){let e,t=i[18].off_tech_id.value.replace(/ |\./g,"")+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" OffensiveTechniqueNode;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," OffensiveTechniqueNode;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a&2&&t!==(t=s[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function c4(i){let e,t=i[18].off_tech_id.value.replace(/ |\./g,"")+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" SelectedOffensiveTechniqueNode;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," SelectedOffensiveTechniqueNode;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a&2&&t!==(t=s[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function ng(i){let e=i[6].edge_is_unique(i[18].def_tech_label.value,i[18].off_artifact_rel_label.value,i[18].off_artifact_label.value),t,n=e&&rg(i);return{c(){n&&n.c(),t=He()},l(r){n&&n.l(r),t=He()},m(r,s){n&&n.m(r,s),I(r,t,s)},p(r,s){s&2&&(e=r[6].edge_is_unique(r[18].def_tech_label.value,r[18].off_artifact_rel_label.value,r[18].off_artifact_label.value)),e?n?n.p(r,s):(n=rg(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&w(t),n&&n.d(r)}}}function h4(i){let e,t,n=ut(i[1].def_to_off.results.bindings),r=[];for(let s=0;s<n.length;s+=1)r[s]=ng(eg(i,n,s));return{c(){e=V(`graph LR;
        `);for(let s=0;s<r.length;s+=1)r[s].c();t=He()},l(s){e=H(s,`graph LR;
        `);for(let a=0;a<r.length;a+=1)r[a].l(s);t=He()},m(s,a){I(s,e,a);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(s,a);I(s,t,a)},p(s,a){if(a&74){n=ut(s[1].def_to_off.results.bindings);let l;for(l=0;l<n.length;l+=1){const u=eg(s,n,l);r[l]?r[l].p(u,a):(r[l]=ng(u),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(s){s&&(w(e),w(t)),tr(r,s)}}}function d4(i){let e,t,n,r,s,a,l,u,f,h,v,p,d,_=i[3].length+"",g,b,D,B,S;const O=i[9].header,y=Dr(O,i,i[14],tg),N=i[9].default,T=Dr(N,i,i[14],null),j=[u4,o4,l4],F=[];function q(k,L){return k[1]?k[1].def_to_off.results.bindings.length>0?1:2:0}return l=q(i),u=F[l]=j[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),n=V(`
    Select Attack Techniques
    `),T&&T.c(),r=_e(),s=ae("hr"),a=_e(),u.c(),f=_e(),h=ae("hr"),v=_e(),p=ae("button"),d=V("Insert ("),g=V(_),b=V(")"),this.h()},l(k){e=se(k,"DIALOG",{class:!0});var L=Ue(e);t=se(L,"DIV",{class:!0});var A=Ue(t);y&&y.l(A),n=H(A,`
    Select Attack Techniques
    `),T&&T.l(A),r=ve(A),s=se(A,"HR",{}),a=ve(A),u.l(A),f=ve(A),h=se(A,"HR",{}),v=ve(A),p=se(A,"BUTTON",{class:!0});var R=Ue(p);d=H(R,"Insert ("),g=H(R,_),b=H(R,")"),R.forEach(w),A.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,oe(p,"class","svelte-1ai9hff"),oe(t,"class","svelte-1ai9hff"),oe(e,"class","svelte-1ai9hff")},m(k,L){I(k,e,L),G(e,t),y&&y.m(t,null),G(t,n),T&&T.m(t,null),G(t,r),G(t,s),G(t,a),F[l].m(t,null),G(t,f),G(t,h),G(t,v),G(t,p),G(p,d),G(p,g),G(p,b),i[11](e),D=!0,p.focus(),B||(S=[Re(p,"click",i[7]),Re(t,"click",Ur(i[10])),Re(e,"close",i[12]),Re(e,"click",va(i[13]))],B=!0)},p(k,[L]){y&&y.p&&(!D||L&16384)&&Ar(y,O,k,k[14],D?Cr(O,k[14],L,s4):kr(k[14]),tg),T&&T.p&&(!D||L&16384)&&Ar(T,N,k,k[14],D?Cr(N,k[14],L,null):kr(k[14]),null);let A=l;l=q(k),l===A?F[l].p(k,L):(It(),me(F[A],1,1,()=>{F[A]=null}),Rt(),u=F[l],u?u.p(k,L):(u=F[l]=j[l](k),u.c()),ce(u,1),u.m(t,f)),(!D||L&8)&&_!==(_=k[3].length+"")&&Se(g,_)},i(k){D||(ce(y,k),ce(T,k),ce(u),D=!0)},o(k){me(y,k),me(T,k),me(u),D=!1},d(k){k&&w(e),y&&y.d(k),T&&T.d(k),F[l].d(),i[11](null),B=!1,Vt(S)}}}function p4(i,e,t){let n,r,s,{$$slots:a={},$$scope:l}=e,{show_attack_modal:u}=e,{parent_node:f}=e,{data:h}=e,v;const p=Ii();yt(i,p,y=>t(16,s=y));const d=Ri();yt(i,d,y=>t(15,r=y));let _=new Ha;function g(y){n.includes(y)?t(3,n=n.filter(N=>N!==y)):n.push(y),t(3,n)}window.def_to_off_callback=function(y){g(y)};function b(){let y=0,N=200,T=100;for(const j of n){let F=h.def_to_off.results.bindings.find(q=>q.off_tech_id.value.replace(/ |\./g,"")==j);F&&(Ea(p,d,f,"attackSelectorNode",F.off_tech_label.value,"d3f:"+F.off_tech_id.value,f.data.sequence,f.position.x+y*N,f.position.y+T,182,63,"May "+F.def_tactic_label.value,!0),y+=1)}p.set(s),d.set(r),v&&v.close(),t(3,n=[])}function D(y){Zn.call(this,i,y)}function B(y){Or[y?"unshift":"push"](()=>{v=y,t(2,v)})}const S=()=>t(0,u=!1),O=()=>{v.close(),t(3,n=[])};return i.$$set=y=>{"show_attack_modal"in y&&t(0,u=y.show_attack_modal),"parent_node"in y&&t(8,f=y.parent_node),"data"in y&&t(1,h=y.data),"$$scope"in y&&t(14,l=y.$$scope)},i.$$.update=()=>{i.$$.dirty&5&&u&&v&&(v.showModal(),_.reset()),i.$$.dirty&5&&!u&&v&&(v.close(),_.reset())},t(3,n=[]),[u,h,v,n,p,d,_,b,f,a,D,B,S,O,l]}class _4 extends Gt{constructor(e){super(),Xt(this,e,p4,d4,Et,{show_attack_modal:0,parent_node:8,data:1})}}function v4(i){let e,t="artifacts",n,r,s,a,l,u="offensive techniques",f,h,v,p,d,_="weaknesses (coming soon)",g,b,D;function B(N){i[6](N)}let S={parent_node:i[0],data:i[1]};i[3]!==void 0&&(S.show_artifacts_modal=i[3]),r=new a4({props:S}),Or.push(()=>gn(r,"show_artifacts_modal",B));function O(N){i[8](N)}let y={parent_node:i[0],data:i[1]};return i[2]!==void 0&&(y.show_attack_modal=i[2]),h=new _4({props:y}),Or.push(()=>gn(h,"show_attack_modal",O)),{c(){e=ae("button"),e.textContent=t,n=_e(),Xe(r.$$.fragment),a=_e(),l=ae("button"),l.textContent=u,f=_e(),Xe(h.$$.fragment),p=_e(),d=ae("button"),d.textContent=_,this.h()},l(N){e=se(N,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(e)!=="svelte-isgkpy"&&(e.textContent=t),n=ve(N),We(r.$$.fragment,N),a=ve(N),l=se(N,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(l)!=="svelte-17h5zge"&&(l.textContent=u),f=ve(N),We(h.$$.fragment,N),p=ve(N),d=se(N,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(d)!=="svelte-ivhbdc"&&(d.textContent=_),this.h()},h(){oe(e,"class","svelte-1x5dcdh"),oe(l,"class","svelte-1x5dcdh"),d.disabled=!0,oe(d,"class","svelte-1x5dcdh")},m(N,T){I(N,e,T),I(N,n,T),Qe(r,N,T),I(N,a,T),I(N,l,T),I(N,f,T),Qe(h,N,T),I(N,p,T),I(N,d,T),g=!0,b||(D=[Re(e,"click",i[5]),Re(l,"click",i[7])],b=!0)},p(N,[T]){const j={};T&1&&(j.parent_node=N[0]),T&2&&(j.data=N[1]),!s&&T&8&&(s=!0,j.show_artifacts_modal=N[3],vn(()=>s=!1)),r.$set(j);const F={};T&1&&(F.parent_node=N[0]),T&2&&(F.data=N[1]),!v&&T&4&&(v=!0,F.show_attack_modal=N[2],vn(()=>v=!1)),h.$set(F)},i(N){g||(ce(r.$$.fragment,N),ce(h.$$.fragment,N),g=!0)},o(N){me(r.$$.fragment,N),me(h.$$.fragment,N),g=!1},d(N){N&&(w(e),w(n),w(a),w(l),w(f),w(p),w(d)),Ye(r,N),Ye(h,N),b=!1,Vt(D)}}}function g4(i,e,t){let n,r;var s=this&&this.__awaiter||function(_,g,b,D){function B(S){return S instanceof b?S:new b(function(O){O(S)})}return new(b||(b=Promise))(function(S,O){function y(j){try{T(D.next(j))}catch(F){O(F)}}function N(j){try{T(D.throw(j))}catch(F){O(F)}}function T(j){j.done?S(j.value):B(j.value).then(y,N)}T((D=D.apply(_,g||[])).next())})};let{node:a}=e,l;function u(_){alert(_),t(3,n=!1),t(2,r=!1)}function f(_){return s(this,void 0,void 0,function*(){if(_.data.d3f_class&&_.data.d3f_class.includes("d3f:")){const g=_.data.d3f_class,b=yield fetch(`/api/technique/${g}.json`),D=yield b.json();if(b.status!=200||D.description["@graph"].length==0)u(`D3FEND Technique: "${g.replace("d3f:","")}" not found in ontology`);else return D}else u("Please specify a D3FEND Class for this node to enable inferential mapping")})}const h=async()=>{t(1,l=null),t(3,n=!0),t(1,l=await f(a))};function v(_){n=_,t(3,n)}const p=async()=>{t(1,l=null),t(2,r=!0),t(1,l=await f(a))};function d(_){r=_,t(2,r)}return i.$$set=_=>{"node"in _&&t(0,a=_.node)},t(3,n=!1),t(2,r=!1),[a,l,r,n,f,h,v,p,d]}class m4 extends Gt{constructor(e){super(),Xt(this,e,g4,v4,Et,{node:0})}}function ig(i,e,t){const n=i.slice();return n[18]=e[t],n}const b4=i=>({}),ag=i=>({});function w4(i){let e;return{c(){e=V("No related artifacts in this release.")},l(t){e=H(t,"No related artifacts in this release.")},m(t,n){I(t,e,n)},p:at,i:at,o:at,d(t){t&&w(e)}}}function y4(i){let e,t;return e=new ga({props:{$$slots:{default:[k4]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r&16394&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function E4(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(n){e=se(n,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(n,r){I(n,e,r)},p:at,i:at,o:at,d(n){n&&w(e)}}}function sg(i){let e=i[18].off_tech_id.value.replace(/ |\./g,"")+"",t,n,r=i[18].off_tech_label.value+"",s,a,l="-->",u,f,h=i[18].off_artifact_rel_label.value.replace(/ /g,"")+"",v,p,d=Ze(i[18].off_artifact.value)+"",_,g,b=i[18].off_artifact_label.value+"",D,B,S=i[18].off_tech_id.value.replace(/ |\./g,"")+"",O,y,N,T,j=Ze(i[18].off_artifact.value)+"",F,q,k=Ze(i[18].off_artifact.value)+"",L,A,R=i[18].off_tech_id.value.replace(/ |\./g,"")+"",Y,z,ue=of(i[18].off_tech_id.value)+"",re,ee,$=Ze(i[18].off_artifact.value)+"",Q,pe,J=Ze(i[18].off_artifact.value)+"",de,it;function nt(Ce,Ee){return Ee&10&&(N=null),N==null&&(N=!!Ce[3].includes(Ze(Ce[18].off_artifact.value))),N?A4:D4}let Fe=nt(i,-1),ze=Fe(i);return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(" |"),v=V(h),p=V("| "),_=V(d),g=V('["'),D=V(b),B=V('"]; class '),O=V(S),y=V(` OffensiveTechniqueNode;
            `),ze.c(),T=V(" ; click "),F=V(j),q=V(' href "/dao/artifact/d3f:'),L=V(k),A=V('"; click '),Y=V(R),z=V(' href "'),re=V(ue),ee=V('"; click '),Q=V($),pe=V(` href "javascript:off_to_art_callback('`),de=V(J),it=V(`')";`)},l(Ce){t=H(Ce,e),n=H(Ce,'["'),s=H(Ce,r),a=H(Ce,'"] '),u=H(Ce,l),f=H(Ce," |"),v=H(Ce,h),p=H(Ce,"| "),_=H(Ce,d),g=H(Ce,'["'),D=H(Ce,b),B=H(Ce,'"]; class '),O=H(Ce,S),y=H(Ce,` OffensiveTechniqueNode;
            `),ze.l(Ce),T=H(Ce," ; click "),F=H(Ce,j),q=H(Ce,' href "/dao/artifact/d3f:'),L=H(Ce,k),A=H(Ce,'"; click '),Y=H(Ce,R),z=H(Ce,' href "'),re=H(Ce,ue),ee=H(Ce,'"; click '),Q=H(Ce,$),pe=H(Ce,` href "javascript:off_to_art_callback('`),de=H(Ce,J),it=H(Ce,`')";`)},m(Ce,Ee){I(Ce,t,Ee),I(Ce,n,Ee),I(Ce,s,Ee),I(Ce,a,Ee),I(Ce,u,Ee),I(Ce,f,Ee),I(Ce,v,Ee),I(Ce,p,Ee),I(Ce,_,Ee),I(Ce,g,Ee),I(Ce,D,Ee),I(Ce,B,Ee),I(Ce,O,Ee),I(Ce,y,Ee),ze.m(Ce,Ee),I(Ce,T,Ee),I(Ce,F,Ee),I(Ce,q,Ee),I(Ce,L,Ee),I(Ce,A,Ee),I(Ce,Y,Ee),I(Ce,z,Ee),I(Ce,re,Ee),I(Ce,ee,Ee),I(Ce,Q,Ee),I(Ce,pe,Ee),I(Ce,de,Ee),I(Ce,it,Ee)},p(Ce,Ee){Ee&2&&e!==(e=Ce[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(t,e),Ee&2&&r!==(r=Ce[18].off_tech_label.value+"")&&Se(s,r),Ee&2&&h!==(h=Ce[18].off_artifact_rel_label.value.replace(/ /g,"")+"")&&Se(v,h),Ee&2&&d!==(d=Ze(Ce[18].off_artifact.value)+"")&&Se(_,d),Ee&2&&b!==(b=Ce[18].off_artifact_label.value+"")&&Se(D,b),Ee&2&&S!==(S=Ce[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(O,S),Fe===(Fe=nt(Ce,Ee))&&ze?ze.p(Ce,Ee):(ze.d(1),ze=Fe(Ce),ze&&(ze.c(),ze.m(T.parentNode,T))),Ee&2&&j!==(j=Ze(Ce[18].off_artifact.value)+"")&&Se(F,j),Ee&2&&k!==(k=Ze(Ce[18].off_artifact.value)+"")&&Se(L,k),Ee&2&&R!==(R=Ce[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(Y,R),Ee&2&&ue!==(ue=of(Ce[18].off_tech_id.value)+"")&&Se(re,ue),Ee&2&&$!==($=Ze(Ce[18].off_artifact.value)+"")&&Se(Q,$),Ee&2&&J!==(J=Ze(Ce[18].off_artifact.value)+"")&&Se(de,J)},d(Ce){Ce&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B),w(O),w(y),w(T),w(F),w(q),w(L),w(A),w(Y),w(z),w(re),w(ee),w(Q),w(pe),w(de),w(it)),ze.d(Ce)}}}function D4(i){let e,t=Ze(i[18].off_artifact.value)+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" ArtifactNode;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," ArtifactNode;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a&2&&t!==(t=Ze(s[18].off_artifact.value)+"")&&Se(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function A4(i){let e,t=Ze(i[18].off_artifact.value)+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" SelectedArtifactNode;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," SelectedArtifactNode;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a&2&&t!==(t=Ze(s[18].off_artifact.value)+"")&&Se(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function lg(i){let e=i[6].edge_is_unique(i[18].off_tech_label.value,i[18].off_artifact_rel_label.value,i[18].off_artifact_label.value),t,n=e&&sg(i);return{c(){n&&n.c(),t=He()},l(r){n&&n.l(r),t=He()},m(r,s){n&&n.m(r,s),I(r,t,s)},p(r,s){s&2&&(e=r[6].edge_is_unique(r[18].off_tech_label.value,r[18].off_artifact_rel_label.value,r[18].off_artifact_label.value)),e?n?n.p(r,s):(n=sg(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&w(t),n&&n.d(r)}}}function k4(i){let e,t,n=ut(i[1].off_to_def.results.bindings),r=[];for(let s=0;s<n.length;s+=1)r[s]=lg(ig(i,n,s));return{c(){e=V(`graph LR;
        `);for(let s=0;s<r.length;s+=1)r[s].c();t=He()},l(s){e=H(s,`graph LR;
        `);for(let a=0;a<r.length;a+=1)r[a].l(s);t=He()},m(s,a){I(s,e,a);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(s,a);I(s,t,a)},p(s,a){if(a&74){n=ut(s[1].off_to_def.results.bindings);let l;for(l=0;l<n.length;l+=1){const u=ig(s,n,l);r[l]?r[l].p(u,a):(r[l]=lg(u),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(s){s&&(w(e),w(t)),tr(r,s)}}}function C4(i){let e,t,n,r,s,a,l,u,f,h,v,p,d,_=i[3].length+"",g,b,D,B,S;const O=i[9].header,y=Dr(O,i,i[14],ag),N=i[9].default,T=Dr(N,i,i[14],null),j=[E4,y4,w4],F=[];function q(k,L){return k[1]?k[1].off_to_def.results.bindings.length>0?1:2:0}return l=q(i),u=F[l]=j[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),n=V(`
    Select Related Artifacts To Insert
    `),T&&T.c(),r=_e(),s=ae("hr"),a=_e(),u.c(),f=_e(),h=ae("hr"),v=_e(),p=ae("button"),d=V("Insert ("),g=V(_),b=V(")"),this.h()},l(k){e=se(k,"DIALOG",{class:!0});var L=Ue(e);t=se(L,"DIV",{class:!0});var A=Ue(t);y&&y.l(A),n=H(A,`
    Select Related Artifacts To Insert
    `),T&&T.l(A),r=ve(A),s=se(A,"HR",{}),a=ve(A),u.l(A),f=ve(A),h=se(A,"HR",{}),v=ve(A),p=se(A,"BUTTON",{class:!0});var R=Ue(p);d=H(R,"Insert ("),g=H(R,_),b=H(R,")"),R.forEach(w),A.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,oe(p,"class","svelte-x0618k"),oe(t,"class","svelte-x0618k"),oe(e,"class","svelte-x0618k")},m(k,L){I(k,e,L),G(e,t),y&&y.m(t,null),G(t,n),T&&T.m(t,null),G(t,r),G(t,s),G(t,a),F[l].m(t,null),G(t,f),G(t,h),G(t,v),G(t,p),G(p,d),G(p,g),G(p,b),i[11](e),D=!0,p.focus(),B||(S=[Re(p,"click",i[7]),Re(t,"click",Ur(i[10])),Re(e,"close",i[12]),Re(e,"click",va(i[13]))],B=!0)},p(k,[L]){y&&y.p&&(!D||L&16384)&&Ar(y,O,k,k[14],D?Cr(O,k[14],L,b4):kr(k[14]),ag),T&&T.p&&(!D||L&16384)&&Ar(T,N,k,k[14],D?Cr(N,k[14],L,null):kr(k[14]),null);let A=l;l=q(k),l===A?F[l].p(k,L):(It(),me(F[A],1,1,()=>{F[A]=null}),Rt(),u=F[l],u?u.p(k,L):(u=F[l]=j[l](k),u.c()),ce(u,1),u.m(t,f)),(!D||L&8)&&_!==(_=k[3].length+"")&&Se(g,_)},i(k){D||(ce(y,k),ce(T,k),ce(u),D=!0)},o(k){me(y,k),me(T,k),me(u),D=!1},d(k){k&&w(e),y&&y.d(k),T&&T.d(k),F[l].d(),i[11](null),B=!1,Vt(S)}}}function T4(i,e,t){let n,r,s,{$$slots:a={},$$scope:l}=e,{show_artifacts_modal:u}=e,{parent_node:f}=e,{data:h}=e,v;const p=Ii();yt(i,p,y=>t(16,s=y));const d=Ri();yt(i,d,y=>t(15,r=y));let _=new Ha;function g(y){n.includes(y)?t(3,n=n.filter(N=>N!==y)):n.push(y),t(3,n)}window.off_to_art_callback=function(y){g(y)};function b(){let y=0,N=200,T=100;for(const j of n){let F=h.off_to_def.results.bindings.find(q=>Ze(q.off_artifact.value)==j);F&&(Ea(p,d,f,"artifactSelectorNode",F.off_artifact_label.value,"d3f:"+Ze(F.off_artifact.value),f.data.sequence,f.position.x+y*N,f.position.y+T,182,63,F.off_artifact_rel_label.value,!0),y+=1)}p.set(s),d.set(r),v&&v.close(),t(3,n=[])}function D(y){Zn.call(this,i,y)}function B(y){Or[y?"unshift":"push"](()=>{v=y,t(2,v)})}const S=()=>t(0,u=!1),O=()=>{v.close(),t(3,n=[])};return i.$$set=y=>{"show_artifacts_modal"in y&&t(0,u=y.show_artifacts_modal),"parent_node"in y&&t(8,f=y.parent_node),"data"in y&&t(1,h=y.data),"$$scope"in y&&t(14,l=y.$$scope)},i.$$.update=()=>{i.$$.dirty&5&&u&&v&&(v.showModal(),_.reset()),i.$$.dirty&5&&!u&&v&&(v.close(),_.reset())},t(3,n=[]),[u,h,v,n,p,d,_,b,f,a,D,B,S,O,l]}class N4 extends Gt{constructor(e){super(),Xt(this,e,T4,C4,Et,{show_artifacts_modal:0,parent_node:8,data:1})}}function og(i,e,t){const n=i.slice();return n[23]=e[t],n}const S4=i=>({}),ug=i=>({});function I4(i){let e;return{c(){e=V("No related artifacts in this release.")},l(t){e=H(t,"No related artifacts in this release.")},m(t,n){I(t,e,n)},p:at,i:at,o:at,d(t){t&&w(e)}}}function R4(i){let e,t,n,r,s,a,l,u,f,h;function v(d){i[14](d)}let p={toggles:i[4]};return i[3]!==void 0&&(p.selected=i[3]),t=new l1({props:p}),Or.push(()=>gn(t,"selected",v)),f=new ga({props:{$$slots:{default:[L4]},$$scope:{ctx:i}}}),{c(){e=ae("div"),Xe(t.$$.fragment),r=_e(),s=ae("br"),a=_e(),l=ae("br"),u=_e(),Xe(f.$$.fragment),this.h()},l(d){e=se(d,"DIV",{class:!0});var _=Ue(e);We(t.$$.fragment,_),_.forEach(w),r=ve(d),s=se(d,"BR",{}),a=ve(d),l=se(d,"BR",{}),u=ve(d),We(f.$$.fragment,d),this.h()},h(){oe(e,"class","center shrink")},m(d,_){I(d,e,_),Qe(t,e,null),I(d,r,_),I(d,s,_),I(d,a,_),I(d,l,_),I(d,u,_),Qe(f,d,_),h=!0},p(d,_){const g={};_&16&&(g.toggles=d[4]),!n&&_&8&&(n=!0,g.selected=d[3],vn(()=>n=!1)),t.$set(g);const b={};_&262186&&(b.$$scope={dirty:_,ctx:d}),f.$set(b)},i(d){h||(ce(t.$$.fragment,d),ce(f.$$.fragment,d),h=!0)},o(d){me(t.$$.fragment,d),me(f.$$.fragment,d),h=!1},d(d){d&&(w(e),w(r),w(s),w(a),w(l),w(u)),Ye(t),Ye(f,d)}}}function P4(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(n){e=se(n,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(n,r){I(n,e,r)},p:at,i:at,o:at,d(n){n&&w(e)}}}function fg(i){let e=i[8].edge_is_unique(i[23].def_tech_label.value,i[23].def_artifact_rel_label.value,i[23].off_artifact_label.value),t,n=e&&cg(i);return{c(){n&&n.c(),t=He()},l(r){n&&n.l(r),t=He()},m(r,s){n&&n.m(r,s),I(r,t,s)},p(r,s){s&2&&(e=r[8].edge_is_unique(r[23].def_tech_label.value,r[23].def_artifact_rel_label.value,r[23].off_artifact_label.value)),e?n?n.p(r,s):(n=cg(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&w(t),n&&n.d(r)}}}function cg(i){let e=!i[3].includes(i[23].def_tactic_label.value),t,n=e&&hg(i);return{c(){n&&n.c(),t=He()},l(r){n&&n.l(r),t=He()},m(r,s){n&&n.m(r,s),I(r,t,s)},p(r,s){s&10&&(e=!r[3].includes(r[23].def_tactic_label.value)),e?n?n.p(r,s):(n=hg(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&w(t),n&&n.d(r)}}}function hg(i){let e=Ze(i[23].def_tech.value)+"",t,n,r=i[23].def_tech_label.value+"",s,a,l="-->",u,f,h=i[23].def_artifact_rel_label.value.replace(/ /g,"")+"",v,p,d=Ze(i[23].off_artifact.value)+"",_,g,b=i[23].off_artifact_label.value+"",D,B,S=i[8].edge_is_unique(i[23].def_tech.value,i[23].def_tactic_label.value,i[23].off_tech_id.value),O,y,N,T=i[23].off_artifact_label.value.replace(/ /g,"")+"",j,F,q=Ze(i[23].def_tech.value)+"",k,L,A=i[23].def_tech_label.value.replace(/ |\./g,"")+"",R,Y,z=S&&dg(i);function ue($,Q){return Q&34&&(y=null),y==null&&(y=!!$[5].includes(Ze($[23].def_tech.value))),y?O4:F4}let re=ue(i,-1),ee=re(i);return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(`
                | `),v=V(h),p=V(" | "),_=V(d),g=V('["'),D=V(b),B=V(`"];

                `),z&&z.c(),O=_e(),ee.c(),N=V(` 
                class `),j=V(T),F=V(` ArtifactNode;
                click `),k=V(q),L=V(` href "javascript:off_to_def_callback('`),R=V(A),Y=V(`')";`)},l($){t=H($,e),n=H($,'["'),s=H($,r),a=H($,'"] '),u=H($,l),f=H($,`
                | `),v=H($,h),p=H($," | "),_=H($,d),g=H($,'["'),D=H($,b),B=H($,`"];

                `),z&&z.l($),O=ve($),ee.l($),N=H($,` 
                class `),j=H($,T),F=H($,` ArtifactNode;
                click `),k=H($,q),L=H($,` href "javascript:off_to_def_callback('`),R=H($,A),Y=H($,`')";`)},m($,Q){I($,t,Q),I($,n,Q),I($,s,Q),I($,a,Q),I($,u,Q),I($,f,Q),I($,v,Q),I($,p,Q),I($,_,Q),I($,g,Q),I($,D,Q),I($,B,Q),z&&z.m($,Q),I($,O,Q),ee.m($,Q),I($,N,Q),I($,j,Q),I($,F,Q),I($,k,Q),I($,L,Q),I($,R,Q),I($,Y,Q)},p($,Q){Q&2&&e!==(e=Ze($[23].def_tech.value)+"")&&Se(t,e),Q&2&&r!==(r=$[23].def_tech_label.value+"")&&Se(s,r),Q&2&&h!==(h=$[23].def_artifact_rel_label.value.replace(/ /g,"")+"")&&Se(v,h),Q&2&&d!==(d=Ze($[23].off_artifact.value)+"")&&Se(_,d),Q&2&&b!==(b=$[23].off_artifact_label.value+"")&&Se(D,b),Q&2&&(S=$[8].edge_is_unique($[23].def_tech.value,$[23].def_tactic_label.value,$[23].off_tech_id.value)),S?z?z.p($,Q):(z=dg($),z.c(),z.m(O.parentNode,O)):z&&(z.d(1),z=null),re===(re=ue($,Q))&&ee?ee.p($,Q):(ee.d(1),ee=re($),ee&&(ee.c(),ee.m(N.parentNode,N))),Q&2&&T!==(T=$[23].off_artifact_label.value.replace(/ /g,"")+"")&&Se(j,T),Q&2&&q!==(q=Ze($[23].def_tech.value)+"")&&Se(k,q),Q&2&&A!==(A=$[23].def_tech_label.value.replace(/ |\./g,"")+"")&&Se(R,A)},d($){$&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B),w(O),w(N),w(j),w(F),w(k),w(L),w(R),w(Y)),z&&z.d($),ee.d($)}}}function dg(i){let e=Ze(i[23].def_tech.value)+"",t,n,r=i[23].def_tech_label.value+"",s,a,l="-.->",u,f,h="May "+i[23].def_tactic_label.value,v,p,d=i[23].off_tech_id.value.replace(/ |\./g,"")+"",_,g,b=i[23].off_tech_label.value+"",D,B;return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(`
                  | `),v=V(h),p=V(" | "),_=V(d),g=V('["'),D=V(b),B=V('"] ;')},l(S){t=H(S,e),n=H(S,'["'),s=H(S,r),a=H(S,'"] '),u=H(S,l),f=H(S,`
                  | `),v=H(S,h),p=H(S," | "),_=H(S,d),g=H(S,'["'),D=H(S,b),B=H(S,'"] ;')},m(S,O){I(S,t,O),I(S,n,O),I(S,s,O),I(S,a,O),I(S,u,O),I(S,f,O),I(S,v,O),I(S,p,O),I(S,_,O),I(S,g,O),I(S,D,O),I(S,B,O)},p(S,O){O&2&&e!==(e=Ze(S[23].def_tech.value)+"")&&Se(t,e),O&2&&r!==(r=S[23].def_tech_label.value+"")&&Se(s,r),O&2&&h!==(h="May "+S[23].def_tactic_label.value)&&Se(v,h),O&2&&d!==(d=S[23].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(_,d),O&2&&b!==(b=S[23].off_tech_label.value+"")&&Se(D,b)},d(S){S&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B))}}}function F4(i){let e,t=Ze(i[23].def_tech.value)+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" DefensiveTechniqueNode;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," DefensiveTechniqueNode;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a&2&&t!==(t=Ze(s[23].def_tech.value)+"")&&Se(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function O4(i){let e,t=Ze(i[23].def_tech.value)+"",n,r;return{c(){e=V("class "),n=V(t),r=V(" SelectedDefensiveTechniqueNode;")},l(s){e=H(s,"class "),n=H(s,t),r=H(s," SelectedDefensiveTechniqueNode;")},m(s,a){I(s,e,a),I(s,n,a),I(s,r,a)},p(s,a){a&2&&t!==(t=Ze(s[23].def_tech.value)+"")&&Se(n,t)},d(s){s&&(w(e),w(n),w(r))}}}function pg(i){let e=i[23].off_tech_id.value.replace(/ |\./g,"")+"",t,n,r=i[23].off_tech_label.value+"",s,a,l="-->",u,f,h=i[23].off_artifact_rel_label.value.replace(/ /g,"")+"",v,p,d=Ze(i[23].off_artifact.value)+"",_,g,b=i[23].off_artifact_label.value+"",D,B,S=i[23].off_tech_id.value.replace(/ |\./g,"")+"",O,y,N=Ze(i[23].off_artifact.value)+"",T,j,F=Ze(i[23].off_artifact.value)+"",q,k,L=Ze(i[23].off_artifact.value)+"",A,R,Y=i[23].off_tech_id.value.replace(/ |\./g,"")+"",z,ue,re=of(i[23].off_tech_id.value)+"",ee,$,Q=Ze(i[23].off_artifact.value)+"",pe,J,de=Ze(i[23].off_artifact.value)+"",it,nt;return{c(){t=V(e),n=V('["'),s=V(r),a=V('"] '),u=V(l),f=V(" |"),v=V(h),p=V("| "),_=V(d),g=V('["'),D=V(b),B=V('"]; class '),O=V(S),y=V(` OffensiveTechniqueNode;
            class `),T=V(N),j=V(" ArtifactNode; click "),q=V(F),k=V(' href "/dao/artifact/d3f:'),A=V(L),R=V(`";
            click `),z=V(Y),ue=V(' href "'),ee=V(re),$=V('"; click '),pe=V(Q),J=V(' href "/dao/artifact/d3f:'),it=V(de),nt=V('";')},l(Fe){t=H(Fe,e),n=H(Fe,'["'),s=H(Fe,r),a=H(Fe,'"] '),u=H(Fe,l),f=H(Fe," |"),v=H(Fe,h),p=H(Fe,"| "),_=H(Fe,d),g=H(Fe,'["'),D=H(Fe,b),B=H(Fe,'"]; class '),O=H(Fe,S),y=H(Fe,` OffensiveTechniqueNode;
            class `),T=H(Fe,N),j=H(Fe," ArtifactNode; click "),q=H(Fe,F),k=H(Fe,' href "/dao/artifact/d3f:'),A=H(Fe,L),R=H(Fe,`";
            click `),z=H(Fe,Y),ue=H(Fe,' href "'),ee=H(Fe,re),$=H(Fe,'"; click '),pe=H(Fe,Q),J=H(Fe,' href "/dao/artifact/d3f:'),it=H(Fe,de),nt=H(Fe,'";')},m(Fe,ze){I(Fe,t,ze),I(Fe,n,ze),I(Fe,s,ze),I(Fe,a,ze),I(Fe,u,ze),I(Fe,f,ze),I(Fe,v,ze),I(Fe,p,ze),I(Fe,_,ze),I(Fe,g,ze),I(Fe,D,ze),I(Fe,B,ze),I(Fe,O,ze),I(Fe,y,ze),I(Fe,T,ze),I(Fe,j,ze),I(Fe,q,ze),I(Fe,k,ze),I(Fe,A,ze),I(Fe,R,ze),I(Fe,z,ze),I(Fe,ue,ze),I(Fe,ee,ze),I(Fe,$,ze),I(Fe,pe,ze),I(Fe,J,ze),I(Fe,it,ze),I(Fe,nt,ze)},p(Fe,ze){ze&2&&e!==(e=Fe[23].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(t,e),ze&2&&r!==(r=Fe[23].off_tech_label.value+"")&&Se(s,r),ze&2&&h!==(h=Fe[23].off_artifact_rel_label.value.replace(/ /g,"")+"")&&Se(v,h),ze&2&&d!==(d=Ze(Fe[23].off_artifact.value)+"")&&Se(_,d),ze&2&&b!==(b=Fe[23].off_artifact_label.value+"")&&Se(D,b),ze&2&&S!==(S=Fe[23].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(O,S),ze&2&&N!==(N=Ze(Fe[23].off_artifact.value)+"")&&Se(T,N),ze&2&&F!==(F=Ze(Fe[23].off_artifact.value)+"")&&Se(q,F),ze&2&&L!==(L=Ze(Fe[23].off_artifact.value)+"")&&Se(A,L),ze&2&&Y!==(Y=Fe[23].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(z,Y),ze&2&&re!==(re=of(Fe[23].off_tech_id.value)+"")&&Se(ee,re),ze&2&&Q!==(Q=Ze(Fe[23].off_artifact.value)+"")&&Se(pe,Q),ze&2&&de!==(de=Ze(Fe[23].off_artifact.value)+"")&&Se(it,de)},d(Fe){Fe&&(w(t),w(n),w(s),w(a),w(u),w(f),w(v),w(p),w(_),w(g),w(D),w(B),w(O),w(y),w(T),w(j),w(q),w(k),w(A),w(R),w(z),w(ue),w(ee),w($),w(pe),w(J),w(it),w(nt))}}}function _g(i){let e,t=i[8].edge_is_unique(i[23].off_tech_label.value,i[23].off_artifact_rel_label.value,i[23].off_artifact_label.value),n,r="def_tech"in i[23]&&fg(i),s=t&&pg(i);return{c(){r&&r.c(),e=_e(),s&&s.c(),n=He()},l(a){r&&r.l(a),e=ve(a),s&&s.l(a),n=He()},m(a,l){r&&r.m(a,l),I(a,e,l),s&&s.m(a,l),I(a,n,l)},p(a,l){"def_tech"in a[23]?r?r.p(a,l):(r=fg(a),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),l&2&&(t=a[8].edge_is_unique(a[23].off_tech_label.value,a[23].off_artifact_rel_label.value,a[23].off_artifact_label.value)),t?s?s.p(a,l):(s=pg(a),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},d(a){a&&(w(e),w(n)),r&&r.d(a),s&&s.d(a)}}}function L4(i){let e,t,n=ut(i[1].off_to_def.results.bindings),r=[];for(let s=0;s<n.length;s+=1)r[s]=_g(og(i,n,s));return{c(){e=V(`graph LR;
        `);for(let s=0;s<r.length;s+=1)r[s].c();t=He()},l(s){e=H(s,`graph LR;
        `);for(let a=0;a<r.length;a+=1)r[a].l(s);t=He()},m(s,a){I(s,e,a);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(s,a);I(s,t,a)},p(s,a){if(a&298){n=ut(s[1].off_to_def.results.bindings);let l;for(l=0;l<n.length;l+=1){const u=og(s,n,l);r[l]?r[l].p(u,a):(r[l]=_g(u),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(s){s&&(w(e),w(t)),tr(r,s)}}}function B4(i){let e,t,n,r,s,a,l,u,f,h,v,p,d,_=i[5].length+"",g,b,D,B,S;const O=i[12].header,y=Dr(O,i,i[18],ug),N=i[12].default,T=Dr(N,i,i[18],null),j=[P4,R4,I4],F=[];function q(k,L){return k[1]?k[1].off_to_def.results.bindings.length>0?1:2:0}return l=q(i),u=F[l]=j[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),n=V(`
    Select Related Artifacts To Insert
    `),T&&T.c(),r=_e(),s=ae("hr"),a=_e(),u.c(),f=_e(),h=ae("hr"),v=_e(),p=ae("button"),d=V("Insert ("),g=V(_),b=V(")"),this.h()},l(k){e=se(k,"DIALOG",{class:!0});var L=Ue(e);t=se(L,"DIV",{class:!0});var A=Ue(t);y&&y.l(A),n=H(A,`
    Select Related Artifacts To Insert
    `),T&&T.l(A),r=ve(A),s=se(A,"HR",{}),a=ve(A),u.l(A),f=ve(A),h=se(A,"HR",{}),v=ve(A),p=se(A,"BUTTON",{class:!0});var R=Ue(p);d=H(R,"Insert ("),g=H(R,_),b=H(R,")"),R.forEach(w),A.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,oe(p,"class","svelte-x0618k"),oe(t,"class","svelte-x0618k"),oe(e,"class","svelte-x0618k")},m(k,L){I(k,e,L),G(e,t),y&&y.m(t,null),G(t,n),T&&T.m(t,null),G(t,r),G(t,s),G(t,a),F[l].m(t,null),G(t,f),G(t,h),G(t,v),G(t,p),G(p,d),G(p,g),G(p,b),i[15](e),D=!0,p.focus(),B||(S=[Re(p,"click",i[9]),Re(t,"click",Ur(i[13])),Re(e,"close",i[16]),Re(e,"click",va(i[17]))],B=!0)},p(k,[L]){y&&y.p&&(!D||L&262144)&&Ar(y,O,k,k[18],D?Cr(O,k[18],L,S4):kr(k[18]),ug),T&&T.p&&(!D||L&262144)&&Ar(T,N,k,k[18],D?Cr(N,k[18],L,null):kr(k[18]),null);let A=l;l=q(k),l===A?F[l].p(k,L):(It(),me(F[A],1,1,()=>{F[A]=null}),Rt(),u=F[l],u?u.p(k,L):(u=F[l]=j[l](k),u.c()),ce(u,1),u.m(t,f)),(!D||L&32)&&_!==(_=k[5].length+"")&&Se(g,_)},i(k){D||(ce(y,k),ce(T,k),ce(u),D=!0)},o(k){me(y,k),me(T,k),me(u),D=!1},d(k){k&&w(e),y&&y.d(k),T&&T.d(k),F[l].d(),i[15](null),B=!1,Vt(S)}}}function U4(i,e,t){let n,r,s,{$$slots:a={},$$scope:l}=e,{show_defend_modal:u}=e,{parent_node:f}=e,{data:h}=e,v;const p=Ii();yt(i,p,q=>t(20,s=q));const d=Ri();yt(i,d,q=>t(19,r=q));let _=new Ha;function g(q){n.includes(q)?t(5,n=n.filter(k=>k!==q)):n.push(q),t(5,n)}window.off_to_def_callback=function(q){g(q)};function b(){let q=0,k=200,L=100;for(const A of n){let R=h.off_to_def.results.bindings.find(Y=>"def_tech"in Y&&Ze(Y.def_tech.value)==A);R&&(Ea(p,d,f,"countermeasureSelectorNode",R.def_tech_label.value,"d3f:"+Ze(R.def_tech.value),f.data.sequence,f.position.x+q*k,f.position.y+L,182,63,"May "+R.def_tactic_label.value,!1),q+=1)}p.set(s),d.set(r),v&&v.close(),t(5,n=[])}let D=new Set,B=[],S=[];a1(B,S)&&(S=[]);function O(q){for(const k of n){let L=h.off_to_def.results.bindings.find(A=>"def_tech"in A&&Ze(A.def_tech.value)==k);q.includes(L.def_tactic_label.value)&&t(5,n=n.filter(A=>A!==k))}t(5,n)}function y(q){Zn.call(this,i,q)}function N(q){S=q,t(3,S)}function T(q){Or[q?"unshift":"push"](()=>{v=q,t(2,v)})}const j=()=>t(0,u=!1),F=()=>{v.close(),t(5,n=[])};return i.$$set=q=>{"show_defend_modal"in q&&t(0,u=q.show_defend_modal),"parent_node"in q&&t(10,f=q.parent_node),"data"in q&&t(1,h=q.data),"$$scope"in q&&t(18,l=q.$$scope)},i.$$.update=()=>{i.$$.dirty&5&&u&&v&&(v.showModal(),_.reset()),i.$$.dirty&5&&!u&&v&&(v.close(),_.reset()),i.$$.dirty&2050&&h&&(h.off_to_def.results.bindings.forEach(q=>{"def_tactic_label"in q&&D.add(q.def_tactic_label.value)}),t(11,D),t(1,h)),i.$$.dirty&2048&&t(4,B=Array.from(D).sort(function(q,k){return uf[q]-uf[k]})),i.$$.dirty&8&&O(S),i.$$.dirty&8&&_.reset(S)},t(5,n=[]),[u,h,v,S,B,n,p,d,_,b,f,D,a,y,N,T,j,F,l]}class M4 extends Gt{constructor(e){super(),Xt(this,e,U4,B4,Et,{show_defend_modal:0,parent_node:10,data:1})}}function q4(i){let e,t="artifacts",n,r,s,a,l,u="defensive techniques",f,h,v,p,d,_;function g(S){i[6](S)}let b={parent_node:i[0],data:i[1]};i[3]!==void 0&&(b.show_artifacts_modal=i[3]),r=new N4({props:b}),Or.push(()=>gn(r,"show_artifacts_modal",g));function D(S){i[8](S)}let B={parent_node:i[0],data:i[1]};return i[2]!==void 0&&(B.show_defend_modal=i[2]),h=new M4({props:B}),Or.push(()=>gn(h,"show_defend_modal",D)),{c(){e=ae("button"),e.textContent=t,n=_e(),Xe(r.$$.fragment),a=_e(),l=ae("button"),l.textContent=u,f=_e(),Xe(h.$$.fragment),this.h()},l(S){e=se(S,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(e)!=="svelte-1t14z6m"&&(e.textContent=t),n=ve(S),We(r.$$.fragment,S),a=ve(S),l=se(S,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(l)!=="svelte-o3we0s"&&(l.textContent=u),f=ve(S),We(h.$$.fragment,S),this.h()},h(){oe(e,"class","svelte-1x5dcdh"),oe(l,"class","svelte-1x5dcdh")},m(S,O){I(S,e,O),I(S,n,O),Qe(r,S,O),I(S,a,O),I(S,l,O),I(S,f,O),Qe(h,S,O),p=!0,d||(_=[Re(e,"click",i[5]),Re(l,"click",i[7])],d=!0)},p(S,[O]){const y={};O&1&&(y.parent_node=S[0]),O&2&&(y.data=S[1]),!s&&O&8&&(s=!0,y.show_artifacts_modal=S[3],vn(()=>s=!1)),r.$set(y);const N={};O&1&&(N.parent_node=S[0]),O&2&&(N.data=S[1]),!v&&O&4&&(v=!0,N.show_defend_modal=S[2],vn(()=>v=!1)),h.$set(N)},i(S){p||(ce(r.$$.fragment,S),ce(h.$$.fragment,S),p=!0)},o(S){me(r.$$.fragment,S),me(h.$$.fragment,S),p=!1},d(S){S&&(w(e),w(n),w(a),w(l),w(f)),Ye(r,S),Ye(h,S),d=!1,Vt(_)}}}function j4(i,e,t){let n,r;var s=this&&this.__awaiter||function(_,g,b,D){function B(S){return S instanceof b?S:new b(function(O){O(S)})}return new(b||(b=Promise))(function(S,O){function y(j){try{T(D.next(j))}catch(F){O(F)}}function N(j){try{T(D.throw(j))}catch(F){O(F)}}function T(j){j.done?S(j.value):B(j.value).then(y,N)}T((D=D.apply(_,g||[])).next())})};let{node:a}=e,l;function u(_){alert(_),t(3,n=!1),t(2,r=!1)}function f(_){return s(this,void 0,void 0,function*(){if(_.data.d3f_class&&_.data.d3f_class.includes("d3f:")){const g=_.data.d3f_class,b=yield fetch(`/api/offensive-technique/attack/${g.replace("d3f:","")}.json`),D=yield b.json();if(b.status!=200||D.description["@graph"].length==0)u(`Offensive Technique: "${g.replace("d3f:","")}" not found in ontology`);else return D}else u("Please specify a D3FEND Class for this node to enable inferential mapping")})}const h=async()=>{t(1,l=null),t(3,n=!0),t(1,l=await f(a))};function v(_){n=_,t(3,n)}const p=async()=>{t(1,l=null),t(2,r=!0),t(1,l=await f(a))};function d(_){r=_,t(2,r)}return i.$$set=_=>{"node"in _&&t(0,a=_.node)},t(3,n=!1),t(2,r=!1),[a,l,r,n,f,h,v,p,d]}class x4 extends Gt{constructor(e){super(),Xt(this,e,j4,q4,Et,{node:0})}}function vg(i){let e,t;return e=new x4({props:{node:i[1]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.node=n[1]),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function gg(i){let e,t;return e=new m4({props:{node:i[1]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.node=n[1]),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function mg(i){let e,t;return e=new Q9({props:{node:i[1]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.node=n[1]),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function z4(i){let e,t,n,r,s,a,l,u,f,h,v="duplicate",p,d,_="delete",g,b,D,B,S=i[1]&&i[1].type=="attackSelectorNode"&&vg(i),O=i[1]&&i[1].type=="countermeasureSelectorNode"&&gg(i),y=i[1]&&i[1].type=="artifactSelectorNode"&&mg(i);return{c(){e=ae("div"),t=ae("p"),n=ae("small"),r=V("node: "),s=V(i[0]),a=_e(),S&&S.c(),l=_e(),O&&O.c(),u=_e(),y&&y.c(),f=_e(),h=ae("button"),h.textContent=v,p=_e(),d=ae("button"),d.textContent=_,this.h()},l(N){e=se(N,"DIV",{style:!0,class:!0});var T=Ue(e);t=se(T,"P",{style:!0});var j=Ue(t);n=se(j,"SMALL",{});var F=Ue(n);r=H(F,"node: "),s=H(F,i[0]),F.forEach(w),j.forEach(w),a=ve(T),S&&S.l(T),l=ve(T),O&&O.l(T),u=ve(T),y&&y.l(T),f=ve(T),h=se(T,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(h)!=="svelte-1spbqw1"&&(h.textContent=v),p=ve(T),d=se(T,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(d)!=="svelte-1pyou7z"&&(d.textContent=_),T.forEach(w),this.h()},h(){$t(t,"margin","0.5em"),oe(h,"class","svelte-1o17oqa"),oe(d,"class","svelte-1o17oqa"),oe(e,"style",g=i[2]()),oe(e,"class","context-menu svelte-1o17oqa")},m(N,T){I(N,e,T),G(e,t),G(t,n),G(n,r),G(n,s),G(e,a),S&&S.m(e,null),G(e,l),O&&O.m(e,null),G(e,u),y&&y.m(e,null),G(e,f),G(e,h),G(e,p),G(e,d),b=!0,D||(B=[Re(h,"click",i[5]),Re(d,"click",i[6])],D=!0)},p(N,[T]){(!b||T&1)&&Se(s,N[0]),N[1]&&N[1].type=="attackSelectorNode"?S?(S.p(N,T),T&2&&ce(S,1)):(S=vg(N),S.c(),ce(S,1),S.m(e,l)):S&&(It(),me(S,1,1,()=>{S=null}),Rt()),N[1]&&N[1].type=="countermeasureSelectorNode"?O?(O.p(N,T),T&2&&ce(O,1)):(O=gg(N),O.c(),ce(O,1),O.m(e,u)):O&&(It(),me(O,1,1,()=>{O=null}),Rt()),N[1]&&N[1].type=="artifactSelectorNode"?y?(y.p(N,T),T&2&&ce(y,1)):(y=mg(N),y.c(),ce(y,1),y.m(e,f)):y&&(It(),me(y,1,1,()=>{y=null}),Rt()),(!b||T&4&&g!==(g=N[2]()))&&oe(e,"style",g)},i(N){b||(ce(S),ce(O),ce(y),b=!0)},o(N){me(S),me(O),me(y),b=!1},d(N){N&&w(e),S&&S.d(),O&&O.d(),y&&y.d(),D=!1,Vt(B)}}}function V4(i,e,t){let n,r,s,a,{id:l}=e,{top:u}=e,{left:f}=e,{right:h}=e,{bottom:v}=e;const p=Ii();yt(i,p,b=>t(11,a=b));const d=Ri();yt(i,d,b=>t(12,s=b));function _(){const b=a.find(D=>D.id===l);b&&(console.log(b),a.push(Object.assign(Object.assign({},b),{id:`${l}-copy${Math.random()}`.slice(-24),position:{x:b.position.x,y:b.position.y+50}}))),p.set(a)}function g(){zt(p,a=a.filter(b=>b.id!==l),a),zt(d,s=s.filter(b=>b.source!==l&&b.target!==l),s),p.set(a),d.set(s)}return i.$$set=b=>{"id"in b&&t(0,l=b.id),"top"in b&&t(7,u=b.top),"left"in b&&t(8,f=b.left),"right"in b&&t(9,h=b.right),"bottom"in b&&t(10,v=b.bottom)},i.$$.update=()=>{i.$$.dirty&2049&&t(1,n=a.find(b=>b.id===l)),i.$$.dirty&1920&&t(2,r=()=>{let b="";return u&&(b+=`top:${u}px;`),v&&(b+=`bottom:${v}px;`),f&&(b+=`left:${f}px;`),h&&(b+=`right:${h}px;`),b})},[l,n,r,p,d,_,g,u,f,h,v,a]}class H4 extends Gt{constructor(e){super(),Xt(this,e,V4,z4,Et,{id:0,top:7,left:8,right:9,bottom:10})}}function bg(i,e,t){const n=i.slice();return n[12]=e[t],n}function wg(i){let e,t,n,r,s,a,l,u,f,h,v,p,d;const _=i[8].default,g=Dr(_,i,i[7],null);let b=ut(i[3]),D=[];for(let B=0;B<b.length;B+=1)D[B]=yg(bg(i,b,B));return{c(){e=ae("div"),t=ae("div"),n=ae("h2"),r=V(i[1]),s=_e(),a=ae("p"),l=V(i[2]),u=_e(),g&&g.c(),f=_e(),h=ae("div");for(let B=0;B<D.length;B+=1)D[B].c();this.h()},l(B){e=se(B,"DIV",{class:!0});var S=Ue(e);t=se(S,"DIV",{class:!0});var O=Ue(t);n=se(O,"H2",{});var y=Ue(n);r=H(y,i[1]),y.forEach(w),s=ve(O),a=se(O,"P",{});var N=Ue(a);l=H(N,i[2]),N.forEach(w),u=ve(O),g&&g.l(O),f=ve(O),h=se(O,"DIV",{class:!0});var T=Ue(h);for(let j=0;j<D.length;j+=1)D[j].l(T);T.forEach(w),O.forEach(w),S.forEach(w),this.h()},h(){oe(h,"class","options svelte-zbcx3u"),oe(t,"class","modal-content center text-center svelte-zbcx3u"),oe(e,"class","modal-overlay svelte-zbcx3u")},m(B,S){I(B,e,S),G(e,t),G(t,n),G(n,r),G(t,s),G(t,a),G(a,l),G(t,u),g&&g.m(t,null),G(t,f),G(t,h);for(let O=0;O<D.length;O+=1)D[O]&&D[O].m(h,null);v=!0,p||(d=[Re(t,"click",Ur(i[9])),Re(e,"click",i[4])],p=!0)},p(B,S){if((!v||S&2)&&Se(r,B[1]),(!v||S&4)&&Se(l,B[2]),g&&g.p&&(!v||S&128)&&Ar(g,_,B,B[7],v?Cr(_,B[7],S,null):kr(B[7]),null),S&40){b=ut(B[3]);let O;for(O=0;O<b.length;O+=1){const y=bg(B,b,O);D[O]?D[O].p(y,S):(D[O]=yg(y),D[O].c(),D[O].m(h,null))}for(;O<D.length;O+=1)D[O].d(1);D.length=b.length}},i(B){v||(ce(g,B),v=!0)},o(B){me(g,B),v=!1},d(B){B&&w(e),g&&g.d(B),tr(D,B),p=!1,Vt(d)}}}function yg(i){let e,t=i[12].label+"",n,r,s,a;function l(){return i[10](i[12])}return{c(){e=ae("button"),n=V(t),r=_e(),this.h()},l(u){e=se(u,"BUTTON",{class:!0});var f=Ue(e);n=H(f,t),r=ve(f),f.forEach(w),this.h()},h(){oe(e,"class","svelte-zbcx3u")},m(u,f){I(u,e,f),G(e,n),G(e,r),s||(a=Re(e,"click",l),s=!0)},p(u,f){i=u,f&8&&t!==(t=i[12].label+"")&&Se(n,t)},d(u){u&&w(e),s=!1,a()}}}function $4(i){let e,t,n=i[0]&&wg(i);return{c(){n&&n.c(),e=He()},l(r){n&&n.l(r),e=He()},m(r,s){n&&n.m(r,s),I(r,e,s),t=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&ce(n,1)):(n=wg(r),n.c(),ce(n,1),n.m(e.parentNode,e)):n&&(It(),me(n,1,1,()=>{n=null}),Rt())},i(r){t||(ce(n),t=!0)},o(r){me(n),t=!1},d(r){r&&w(e),n&&n.d(r)}}}function G4(i,e,t){let{$$slots:n={},$$scope:r}=e,{is_open:s=!1}=e,{title:a=""}=e,{content:l=""}=e,{imageSrc:u=""}=e,{options:f=[]}=e;const h=Cf();function v(){t(0,s=!1)}function p(g){h("optionSelected",g),v()}function d(g){Zn.call(this,i,g)}const _=g=>p(g);return i.$$set=g=>{"is_open"in g&&t(0,s=g.is_open),"title"in g&&t(1,a=g.title),"content"in g&&t(2,l=g.content),"imageSrc"in g&&t(6,u=g.imageSrc),"options"in g&&t(3,f=g.options),"$$scope"in g&&t(7,r=g.$$scope)},[s,a,l,f,v,p,u,r,n,d,_]}class Eg extends Gt{constructor(e){super(),Xt(this,e,G4,$4,Et,{is_open:0,title:1,content:2,imageSrc:6,options:3})}}function Dg(i,e,t){const n=i.slice();return n[11]=e[t],n}function Ag(i){let e,t,n,r,s,a,l,u,f,h,v,p,d;const _=i[7].default,g=Dr(_,i,i[6],null);let b=ut(i[3]),D=[];for(let B=0;B<b.length;B+=1)D[B]=kg(Dg(i,b,B));return{c(){e=ae("div"),t=ae("div"),n=ae("h2"),r=V(i[1]),s=_e(),a=ae("p"),l=V(i[2]),u=_e(),g&&g.c(),f=_e(),h=ae("div");for(let B=0;B<D.length;B+=1)D[B].c();this.h()},l(B){e=se(B,"DIV",{class:!0});var S=Ue(e);t=se(S,"DIV",{class:!0});var O=Ue(t);n=se(O,"H2",{});var y=Ue(n);r=H(y,i[1]),y.forEach(w),s=ve(O),a=se(O,"P",{});var N=Ue(a);l=H(N,i[2]),N.forEach(w),u=ve(O),g&&g.l(O),f=ve(O),h=se(O,"DIV",{class:!0});var T=Ue(h);for(let j=0;j<D.length;j+=1)D[j].l(T);T.forEach(w),O.forEach(w),S.forEach(w),this.h()},h(){oe(h,"class","options svelte-2iwk9m"),oe(t,"class","modal-content center text-center svelte-2iwk9m"),oe(e,"class","modal-overlay svelte-2iwk9m")},m(B,S){I(B,e,S),G(e,t),G(t,n),G(n,r),G(t,s),G(t,a),G(a,l),G(t,u),g&&g.m(t,null),G(t,f),G(t,h);for(let O=0;O<D.length;O+=1)D[O]&&D[O].m(h,null);v=!0,p||(d=[Re(t,"click",Ur(i[8])),Re(e,"click",i[4])],p=!0)},p(B,S){if((!v||S&2)&&Se(r,B[1]),(!v||S&4)&&Se(l,B[2]),g&&g.p&&(!v||S&64)&&Ar(g,_,B,B[6],v?Cr(_,B[6],S,null):kr(B[6]),null),S&40){b=ut(B[3]);let O;for(O=0;O<b.length;O+=1){const y=Dg(B,b,O);D[O]?D[O].p(y,S):(D[O]=kg(y),D[O].c(),D[O].m(h,null))}for(;O<D.length;O+=1)D[O].d(1);D.length=b.length}},i(B){v||(ce(g,B),v=!0)},o(B){me(g,B),v=!1},d(B){B&&w(e),g&&g.d(B),tr(D,B),p=!1,Vt(d)}}}function kg(i){let e,t=i[11].label+"",n,r,s,a;function l(){return i[9](i[11])}return{c(){e=ae("button"),n=V(t),r=_e(),this.h()},l(u){e=se(u,"BUTTON",{class:!0});var f=Ue(e);n=H(f,t),r=ve(f),f.forEach(w),this.h()},h(){oe(e,"class","svelte-2iwk9m")},m(u,f){I(u,e,f),G(e,n),G(e,r),s||(a=Re(e,"click",l),s=!0)},p(u,f){i=u,f&8&&t!==(t=i[11].label+"")&&Se(n,t)},d(u){u&&w(e),s=!1,a()}}}function X4(i){let e,t,n=i[0]&&Ag(i);return{c(){n&&n.c(),e=He()},l(r){n&&n.l(r),e=He()},m(r,s){n&&n.m(r,s),I(r,e,s),t=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&ce(n,1)):(n=Ag(r),n.c(),ce(n,1),n.m(e.parentNode,e)):n&&(It(),me(n,1,1,()=>{n=null}),Rt())},i(r){t||(ce(n),t=!0)},o(r){me(n),t=!1},d(r){r&&w(e),n&&n.d(r)}}}function W4(i,e,t){let{$$slots:n={},$$scope:r}=e,{is_open:s=!1}=e,{title:a=""}=e,{content:l=""}=e,{options:u=[{label:"Cancel",value:"cancel"}]}=e;const f=Cf();function h(){t(0,s=!1)}function v(_){f("model_shared",_),h()}function p(_){Zn.call(this,i,_)}const d=_=>v(_);return i.$$set=_=>{"is_open"in _&&t(0,s=_.is_open),"title"in _&&t(1,a=_.title),"content"in _&&t(2,l=_.content),"options"in _&&t(3,u=_.options),"$$scope"in _&&t(6,r=_.$$scope)},[s,a,l,u,h,v,r,n,p,d]}class Q4 extends Gt{constructor(e){super(),Xt(this,e,W4,X4,Et,{is_open:0,title:1,content:2,options:3})}}function Y4(i){let e,t="❐";return{c(){e=ae("icon"),e.textContent=t,this.h()},l(n){e=se(n,"ICON",{title:!0,"data-svelte-h":!0}),vt(e)!=="svelte-10dwkvf"&&(e.textContent=t),this.h()},h(){oe(e,"title","Full Screen Mode")},m(n,r){I(n,e,r)},d(n){n&&w(e)}}}function K4(i){let e,t="⧉ Exit Fullscreen";return{c(){e=ae("icon"),e.textContent=t,this.h()},l(n){e=se(n,"ICON",{title:!0,"data-svelte-h":!0}),vt(e)!=="svelte-2wnxo3"&&(e.textContent=t),this.h()},h(){oe(e,"title","Exit Full Screen Mode")},m(n,r){I(n,e,r)},d(n){n&&w(e)}}}function J4(i){let e,t,n,r,s,a;function l(p,d){return p[1]?K4:Y4}let u=l(i),f=u(i);const h=i[4].default,v=Dr(h,i,i[3],null);return{c(){e=ae("div"),t=ae("button"),f.c(),n=_e(),v&&v.c(),this.h()},l(p){e=se(p,"DIV",{id:!0,class:!0});var d=Ue(e);t=se(d,"BUTTON",{class:!0});var _=Ue(t);f.l(_),_.forEach(w),n=ve(d),v&&v.l(d),d.forEach(w),this.h()},h(){oe(t,"class","fullscreen-toggle svelte-1jzyezl"),qn(t,"left",i[0]==="left"),qn(t,"right",i[0]==="right"),oe(e,"id","fullscreen-parent"),oe(e,"class","svelte-1jzyezl")},m(p,d){I(p,e,d),G(e,t),f.m(t,null),G(e,n),v&&v.m(e,null),r=!0,s||(a=Re(t,"click",i[2]),s=!0)},p(p,[d]){u!==(u=l(p))&&(f.d(1),f=u(p),f&&(f.c(),f.m(t,null))),(!r||d&1)&&qn(t,"left",p[0]==="left"),(!r||d&1)&&qn(t,"right",p[0]==="right"),v&&v.p&&(!r||d&8)&&Ar(v,h,p,p[3],r?Cr(h,p[3],d,null):kr(p[3]),null)},i(p){r||(ce(v,p),r=!0)},o(p){me(v,p),r=!1},d(p){p&&w(e),f.d(),v&&v.d(p),s=!1,a()}}}function Z4(i,e,t){let{$$slots:n={},$$scope:r}=e,{position:s="right"}=e,a=!1,l;kf(()=>(l=document.getElementById("fullscreen-parent"),document.addEventListener("fullscreenchange",u),()=>{document.removeEventListener("fullscreenchange",u)}));function u(){t(1,a=!!document.fullscreenElement)}async function f(){if(a)try{await document.exitFullscreen()}catch(h){console.error("Error attempting to exit fullscreen:",h)}else try{await l.requestFullscreen()}catch(h){console.error("Error attempting to enable fullscreen:",h)}}return i.$$set=h=>{"position"in h&&t(0,s=h.position),"$$scope"in h&&t(3,r=h.$$scope)},[s,a,f,r,n]}class eR extends Gt{constructor(e){super(),Xt(this,e,Z4,J4,Et,{position:0})}}function tR(i){let e,t,n="drag these nodes to the canvas below",r,s,a,l,u="Action",f,h,v="Event",p,d,_="Attack",g,b,D="Countermeasure",B,S,O,y="Endurant",N,T,j="Artifact",F,q,k="Information",L,A,R="Agent",Y,z,ue,re="State",ee,$,Q="Vulnerability",pe,J,de="Condition",it,nt;return{c(){e=ae("aside"),t=ae("div"),t.textContent=n,r=_e(),s=ae("div"),a=ae("div"),l=ae("div"),l.textContent=u,f=_e(),h=ae("div"),h.textContent=v,p=_e(),d=ae("div"),d.textContent=_,g=_e(),b=ae("div"),b.textContent=D,B=_e(),S=ae("div"),O=ae("div"),O.textContent=y,N=_e(),T=ae("div"),T.textContent=j,F=_e(),q=ae("div"),q.textContent=k,L=_e(),A=ae("div"),A.textContent=R,Y=_e(),z=ae("div"),ue=ae("div"),ue.textContent=re,ee=_e(),$=ae("div"),$.textContent=Q,pe=_e(),J=ae("div"),J.textContent=de,this.h()},l(Fe){e=se(Fe,"ASIDE",{class:!0});var ze=Ue(e);t=se(ze,"DIV",{class:!0,"data-svelte-h":!0}),vt(t)!=="svelte-1gs57dm"&&(t.textContent=n),r=ve(ze),s=se(ze,"DIV",{class:!0});var Ce=Ue(s);a=se(Ce,"DIV",{class:!0});var Ee=Ue(a);l=se(Ee,"DIV",{class:!0,"data-svelte-h":!0}),vt(l)!=="svelte-1yk6dej"&&(l.textContent=u),f=ve(Ee),h=se(Ee,"DIV",{class:!0,draggable:!0,style:!0,title:!0,"data-svelte-h":!0}),vt(h)!=="svelte-1hxo6k5"&&(h.textContent=v),p=ve(Ee),d=se(Ee,"DIV",{class:!0,draggable:!0,style:!0,title:!0,"data-svelte-h":!0}),vt(d)!=="svelte-1m30nhf"&&(d.textContent=_),g=ve(Ee),b=se(Ee,"DIV",{class:!0,draggable:!0,style:!0,title:!0,"data-svelte-h":!0}),vt(b)!=="svelte-xvztkt"&&(b.textContent=D),Ee.forEach(w),B=ve(Ce),S=se(Ce,"DIV",{class:!0});var Ge=Ue(S);O=se(Ge,"DIV",{class:!0,"data-svelte-h":!0}),vt(O)!=="svelte-13fxc4g"&&(O.textContent=y),N=ve(Ge),T=se(Ge,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),vt(T)!=="svelte-p6iki9"&&(T.textContent=j),F=ve(Ge),q=se(Ge,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),vt(q)!=="svelte-gfucir"&&(q.textContent=k),L=ve(Ge),A=se(Ge,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),vt(A)!=="svelte-1k1k96h"&&(A.textContent=R),Ge.forEach(w),Y=ve(Ce),z=se(Ce,"DIV",{class:!0});var Dt=Ue(z);ue=se(Dt,"DIV",{class:!0,"data-svelte-h":!0}),vt(ue)!=="svelte-82roym"&&(ue.textContent=re),ee=ve(Dt),$=se(Dt,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),vt($)!=="svelte-tj9qj"&&($.textContent=Q),pe=ve(Dt),J=se(Dt,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),vt(J)!=="svelte-1mwlumu"&&(J.textContent=de),Dt.forEach(w),Ce.forEach(w),ze.forEach(w),this.h()},h(){oe(t,"class","label svelte-1ubw31k"),oe(l,"class","text-center font-medium"),oe(h,"class","actionNode example-node svelte-1ubw31k"),oe(h,"draggable",!0),$t(h,"text-align","center"),$t(h,"background","white"),oe(h,"title","d3f:Event"),oe(d,"class","attackSelectorNode example-node svelte-1ubw31k"),oe(d,"draggable",!0),$t(d,"text-align","center"),$t(d,"background","#FFD0D0"),oe(d,"title","d3f:OffensiveTechnique"),oe(b,"class","countermeasureSelectorNode example-node svelte-1ubw31k"),oe(b,"draggable",!0),$t(b,"text-align","center"),$t(b,"background","#d6eaff"),oe(b,"title","d3f:DefensiveTechnique"),oe(a,"class","nodes-column svelte-1ubw31k"),oe(O,"class","text-center font-medium"),oe(T,"class","artifactSelectorNode art-node example-node svelte-1ubw31k"),oe(T,"draggable",!0),$t(T,"text-align","center"),$t(T,"background","#fff4dd"),oe(q,"class","informationSelectorNode example-node svelte-1ubw31k"),oe(q,"draggable",!0),$t(q,"text-align","center"),$t(q,"background","#e8f4ea"),oe(A,"class","agentSelectorNode example-node svelte-1ubw31k"),oe(A,"draggable",!0),$t(A,"text-align","center"),$t(A,"background","#f0e6e6"),oe(S,"class","nodes-column svelte-1ubw31k"),oe(ue,"class","text-center font-medium"),oe($,"class","vulnerabilitySelectorNode example-node svelte-1ubw31k"),oe($,"draggable",!0),$t($,"text-align","center"),$t($,"background","#f9d999"),oe(J,"class","conditionDefinitionNode example-node svelte-1ubw31k"),oe(J,"draggable",!0),$t(J,"text-align","center"),$t(J,"background","#ece6ff"),oe(z,"class","nodes-column svelte-1ubw31k"),oe(s,"class","nodes-container svelte-1ubw31k"),oe(e,"class","svelte-1ubw31k")},m(Fe,ze){I(Fe,e,ze),G(e,t),G(e,r),G(e,s),G(s,a),G(a,l),G(a,f),G(a,h),G(a,p),G(a,d),G(a,g),G(a,b),G(s,B),G(s,S),G(S,O),G(S,N),G(S,T),G(S,F),G(S,q),G(S,L),G(S,A),G(s,Y),G(s,z),G(z,ue),G(z,ee),G(z,$),G(z,pe),G(z,J),it||(nt=[Re(h,"dragstart",i[1]),Re(d,"dragstart",i[2]),Re(b,"dragstart",i[3]),Re(T,"dragstart",i[4]),Re(q,"dragstart",i[5]),Re(A,"dragstart",i[6]),Re($,"dragstart",i[7]),Re(J,"dragstart",i[8])],it=!0)},p:at,i:at,o:at,d(Fe){Fe&&w(e),it=!1,Vt(nt)}}}function rR(i){const e=(h,v)=>{if(!h.dataTransfer)return null;h.dataTransfer.setData("application/svelteflow",v),h.dataTransfer.effectAllowed="move"};return[e,h=>e(h,"eventNode"),h=>e(h,"attackSelectorNode"),h=>e(h,"countermeasureSelectorNode"),h=>e(h,"artifactSelectorNode"),h=>e(h,"informationSelectorNode"),h=>e(h,"agentSelectorNode"),h=>e(h,"vulnerabilitySelectorNode"),h=>e(h,"conditionDefinitionNode")]}class nR extends Gt{constructor(e){super(),Xt(this,e,rR,tR,Et,{})}}function Cg(i,e,t){const n=i.slice();return n[11]=e[t],n[12]=e,n[13]=t,n}function Tg(i){let e,t,n=i[0].id+"",r,s,a,l,u,f,h,v,p,d,_,g,b,D,B,S="+",O,y,N=(i[0].type=="attackSelectorNode"||i[0].type=="countermeasureSelectorNode")&&Ng(i),T=i[0].type=="vulnerabilitySelectorNode"&&Sg(i),j=ut(i[0].data.user_properties),F=[];for(let q=0;q<j.length;q+=1)F[q]=Rg(Cg(i,j,q));return{c(){e=ae("p"),t=V("id: "),r=V(n),s=_e(),a=ae("div"),N&&N.c(),l=_e(),T&&T.c(),u=_e(),f=ae("br"),h=V(`
                label:`),v=ae("br"),p=ae("input"),d=ae("br"),_=_e(),g=ae("br"),b=_e();for(let q=0;q<F.length;q+=1)F[q].c();D=_e(),B=ae("button"),B.textContent=S,this.h()},l(q){e=se(q,"P",{class:!0});var k=Ue(e);t=H(k,"id: "),r=H(k,n),k.forEach(w),s=ve(q),a=se(q,"DIV",{class:!0});var L=Ue(a);N&&N.l(L),l=ve(L),T&&T.l(L),u=ve(L),f=se(L,"BR",{}),h=H(L,`
                label:`),v=se(L,"BR",{}),p=se(L,"INPUT",{type:!0,name:!0}),d=se(L,"BR",{}),_=ve(L),g=se(L,"BR",{}),b=ve(L);for(let A=0;A<F.length;A+=1)F[A].l(L);D=ve(L),B=se(L,"BUTTON",{"data-svelte-h":!0}),vt(B)!=="svelte-y9choq"&&(B.textContent=S),L.forEach(w),this.h()},h(){oe(e,"class",""),oe(p,"type","text"),oe(p,"name","editableInput"),oe(a,"class","")},m(q,k){I(q,e,k),G(e,t),G(e,r),I(q,s,k),I(q,a,k),N&&N.m(a,null),G(a,l),T&&T.m(a,null),G(a,u),G(a,f),G(a,h),G(a,v),G(a,p),gt(p,i[0].data.label),G(a,d),G(a,_),G(a,g),G(a,b);for(let L=0;L<F.length;L+=1)F[L]&&F[L].m(a,null);G(a,D),G(a,B),O||(y=[Re(p,"input",i[7]),Re(B,"click",i[1])],O=!0)},p(q,k){if(k&1&&n!==(n=q[0].id+"")&&Se(r,n),q[0].type=="attackSelectorNode"||q[0].type=="countermeasureSelectorNode"?N?N.p(q,k):(N=Ng(q),N.c(),N.m(a,l)):N&&(N.d(1),N=null),q[0].type=="vulnerabilitySelectorNode"?T?T.p(q,k):(T=Sg(q),T.c(),T.m(a,u)):T&&(T.d(1),T=null),k&1&&p.value!==q[0].data.label&&gt(p,q[0].data.label),k&5){j=ut(q[0].data.user_properties);let L;for(L=0;L<j.length;L+=1){const A=Cg(q,j,L);F[L]?F[L].p(A,k):(F[L]=Rg(A),F[L].c(),F[L].m(a,D))}for(;L<F.length;L+=1)F[L].d(1);F.length=j.length}},d(q){q&&(w(e),w(s),w(a)),N&&N.d(),T&&T.d(),tr(F,q),O=!1,Vt(y)}}}function Ng(i){let e,t,n,r,s,a,l;return{c(){e=V("sequence: "),t=ae("br"),n=ae("input"),r=_e(),s=ae("br"),this.h()},l(u){e=H(u,"sequence: "),t=se(u,"BR",{}),n=se(u,"INPUT",{placeholder:!0,type:!0,name:!0}),r=ve(u),s=se(u,"BR",{}),this.h()},h(){oe(n,"placeholder","property"),oe(n,"type","text"),oe(n,"name","editableInput")},m(u,f){I(u,e,f),I(u,t,f),I(u,n,f),gt(n,i[0].data.sequence),I(u,r,f),I(u,s,f),a||(l=Re(n,"input",i[5]),a=!0)},p(u,f){f&1&&n.value!==u[0].data.sequence&&gt(n,u[0].data.sequence)},d(u){u&&(w(e),w(t),w(n),w(r),w(s)),a=!1,l()}}}function Sg(i){let e,t,n,r,s,a,l,u;return{c(){e=V("weakness: "),t=ae("br"),n=ae("input"),r=ae("br"),s=_e(),a=ae("br"),this.h()},l(f){e=H(f,"weakness: "),t=se(f,"BR",{}),n=se(f,"INPUT",{placeholder:!0,type:!0,name:!0}),r=se(f,"BR",{}),s=ve(f),a=se(f,"BR",{}),this.h()},h(){oe(n,"placeholder","weakness"),oe(n,"type","text"),oe(n,"name","editableInput")},m(f,h){I(f,e,h),I(f,t,h),I(f,n,h),gt(n,i[0].data.weakness),I(f,r,h),I(f,s,h),I(f,a,h),l||(u=Re(n,"input",i[6]),l=!0)},p(f,h){h&1&&n.value!==f[0].data.weakness&&gt(n,f[0].data.weakness)},d(f){f&&(w(e),w(t),w(n),w(r),w(s),w(a)),l=!1,u()}}}function Ig(i){let e,t,n,r,s,a,l,u,f="X",h,v,p,d,_;function g(){i[8].call(n,i[13])}function b(){i[9].call(a,i[13])}function D(){return i[10](i[13])}return{c(){e=ae("div"),t=ae("div"),n=ae("input"),r=_e(),s=ae("br"),a=ae("input"),l=_e(),u=ae("button"),u.textContent=f,h=_e(),v=ae("br"),p=ae("br"),this.h()},l(B){e=se(B,"DIV",{class:!0});var S=Ue(e);t=se(S,"DIV",{});var O=Ue(t);n=se(O,"INPUT",{placeholder:!0,type:!0,name:!0}),r=ve(O),s=se(O,"BR",{}),a=se(O,"INPUT",{placeholder:!0,type:!0,name:!0}),O.forEach(w),l=ve(S),u=se(S,"BUTTON",{"data-svelte-h":!0}),vt(u)!=="svelte-1nu8yn8"&&(u.textContent=f),S.forEach(w),h=ve(B),v=se(B,"BR",{}),p=se(B,"BR",{}),this.h()},h(){oe(n,"placeholder","property"),oe(n,"type","text"),oe(n,"name","editableInput"),oe(a,"placeholder","value"),oe(a,"type","text"),oe(a,"name","editableInput"),oe(e,"class","container svelte-no7kai")},m(B,S){I(B,e,S),G(e,t),G(t,n),gt(n,i[0].data.user_properties[i[13]][0]),G(t,r),G(t,s),G(t,a),gt(a,i[0].data.user_properties[i[13]][1]),G(e,l),G(e,u),I(B,h,S),I(B,v,S),I(B,p,S),d||(_=[Re(n,"input",g),Re(a,"input",b),Re(u,"click",D)],d=!0)},p(B,S){i=B,S&1&&n.value!==i[0].data.user_properties[i[13]][0]&&gt(n,i[0].data.user_properties[i[13]][0]),S&1&&a.value!==i[0].data.user_properties[i[13]][1]&&gt(a,i[0].data.user_properties[i[13]][1])},d(B){B&&(w(e),w(h),w(v),w(p)),d=!1,Vt(_)}}}function Rg(i){let e,t=i[0].data.user_properties[i[13]].length==2&&Ig(i);return{c(){t&&t.c(),e=He()},l(n){t&&t.l(n),e=He()},m(n,r){t&&t.m(n,r),I(n,e,r)},p(n,r){n[0].data.user_properties[n[13]].length==2?t?t.p(n,r):(t=Ig(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&w(e),t&&t.d(n)}}}function iR(i){let e,t,n,r,s=i[0]&&i[0].data.user_properties&&Tg(i);const a=i[4].default,l=Dr(a,i,i[3],null);return{c(){e=ae("div"),t=ae("div"),s&&s.c(),n=_e(),l&&l.c(),this.h()},l(u){e=se(u,"DIV",{class:!0});var f=Ue(e);t=se(f,"DIV",{class:!0});var h=Ue(t);s&&s.l(h),n=ve(h),l&&l.l(h),h.forEach(w),f.forEach(w),this.h()},h(){oe(t,"class","side-panel svelte-no7kai"),oe(e,"class","side-panel-wrapper")},m(u,f){I(u,e,f),G(e,t),s&&s.m(t,null),G(t,n),l&&l.m(t,null),r=!0},p(u,[f]){u[0]&&u[0].data.user_properties?s?s.p(u,f):(s=Tg(u),s.c(),s.m(t,n)):s&&(s.d(1),s=null),l&&l.p&&(!r||f&8)&&Ar(l,a,u,u[3],r?Cr(a,u[3],f,null):kr(u[3]),null)},i(u){r||(ce(l,u),r=!0)},o(u){me(l,u),r=!1},d(u){u&&w(e),s&&s.d(),l&&l.d(u)}}}function aR(i,e,t){let n;yt(i,Pt,_=>t(0,n=_));let{$$slots:r={},$$scope:s}=e;function a(){n.data.user_properties||zt(Pt,n.data.user_properties=[],n),n.data.user_properties.push(["",""]),Pt.set(n)}function l(_){n.data.user_properties.splice(_.index,1),Pt.set(n)}function u(){n.data.sequence=this.value,Pt.set(n)}function f(){n.data.weakness=this.value,Pt.set(n)}function h(){n.data.label=this.value,Pt.set(n)}function v(_){n.data.user_properties[_][0]=this.value,Pt.set(n)}function p(_){n.data.user_properties[_][1]=this.value,Pt.set(n)}const d=_=>l({index:_});return i.$$set=_=>{"$$scope"in _&&t(3,s=_.$$scope)},[n,a,l,s,r,u,f,h,v,p,d]}class sR extends Gt{constructor(e){super(),Xt(this,e,aR,iR,Et,{})}}function Pg(i,e,t){const n=i.slice();return n[9]=e[t],n}function Fg(i){let e,t=i[9]["rdfs:label"]+"",n,r,s,a,l;function u(...h){return i[7](i[9],...h)}function f(...h){return i[8](i[9],...h)}return{c(){e=ae("div"),n=V(t),r=_e(),this.h()},l(h){e=se(h,"DIV",{class:!0,title:!0,tabindex:!0,role:!0});var v=Ue(e);n=H(v,t),r=ve(v),v.forEach(w),this.h()},h(){oe(e,"class","select-technique"),oe(e,"title",s=i[9]["d3f:definition"]),oe(e,"tabindex","0"),oe(e,"role","button")},m(h,v){I(h,e,v),G(e,n),G(e,r),a||(l=[Re(e,"click",Ur(Es(u))),Re(e,"keydown",Ur(f))],a=!0)},p(h,v){i=h,v&8&&t!==(t=i[9]["rdfs:label"]+"")&&Se(n,t),v&8&&s!==(s=i[9]["d3f:definition"])&&oe(e,"title",s)},d(h){h&&w(e),a=!1,Vt(l)}}}function lR(i){let e,t=ut(i[3]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Fg(Pg(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=He()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=He()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,[s]){if(s&12){t=ut(r[3]);let a;for(a=0;a<t.length;a+=1){const l=Pg(r,t,a);n[a]?n[a].p(l,s):(n[a]=Fg(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},i:at,o:at,d(r){r&&w(e),tr(n,r)}}}function oR(i,e,t){let n,r=at,s=()=>(r(),r=bi(h,b=>t(5,n=b)),h),a,l=at,u=()=>(l(),l=bi(f,b=>t(6,a=b)),f);i.$$.on_destroy.push(()=>r()),i.$$.on_destroy.push(()=>l());let{list:f}=e;u();let{filter_value_store:h}=e;s();let{select_item:v}=e,{regex_search_keys:p=["rdfs:label","@id"]}=e,d=[];const _=(b,D)=>v(D,b),g=(b,D)=>Ds(D,v,b);return i.$$set=b=>{"list"in b&&u(t(0,f=b.list)),"filter_value_store"in b&&s(t(1,h=b.filter_value_store)),"select_item"in b&&t(2,v=b.select_item),"regex_search_keys"in b&&t(4,p=b.regex_search_keys)},i.$$.update=()=>{i.$$.dirty&112&&t(3,d=KA(a,n,p))},[f,h,v,d,p,n,a,_,g]}class uR extends Gt{constructor(e){super(),Xt(this,e,oR,lR,Et,{list:0,filter_value_store:1,select_item:2,regex_search_keys:4})}}function Og(i,e,t){const n=i.slice();return n[12]=e[t],n}function Lg(i,e,t){const n=i.slice();return n[15]=e[t],n}function Bg(i){let e,t=ut(i[12].children),n=[];for(let r=0;r<t.length;r+=1)n[r]=Ug(Lg(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=He()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=He()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s&20){t=ut(r[12].children);let a;for(a=0;a<t.length;a+=1){const l=Lg(r,t,a);n[a]?n[a].p(l,s):(n[a]=Ug(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),tr(n,r)}}}function Ug(i){let e,t=i[15]["rdfs:label"]+"",n,r,s,a,l;function u(...h){return i[10](i[15],...h)}function f(...h){return i[11](i[15],...h)}return{c(){e=ae("div"),n=V(t),r=_e(),this.h()},l(h){e=se(h,"DIV",{class:!0,title:!0,tabindex:!0,role:!0});var v=Ue(e);n=H(v,t),r=ve(v),v.forEach(w),this.h()},h(){oe(e,"class","select-technique"),oe(e,"title",s=i[15]["d3f:definition"]),oe(e,"tabindex","0"),oe(e,"role","button")},m(h,v){I(h,e,v),G(e,n),G(e,r),a||(l=[Re(e,"click",Ur(Es(u))),Re(e,"keydown",Ur(f))],a=!0)},p(h,v){i=h,v&16&&t!==(t=i[15]["rdfs:label"]+"")&&Se(n,t),v&16&&s!==(s=i[15]["d3f:definition"])&&oe(e,"title",s)},d(h){h&&w(e),a=!1,Vt(l)}}}function Mg(i){let e,t,n=i[12]["rdfs:label"]+"",r,s,a,l,u,f,h,v=(i[3]===i[12]["@id"]||i[5])&&Bg(i);return{c(){e=ae("details"),t=ae("summary"),r=V(n),a=_e(),v&&v.c(),l=_e(),this.h()},l(p){e=se(p,"DETAILS",{});var d=Ue(e);t=se(d,"SUMMARY",{id:!0});var _=Ue(t);r=H(_,n),_.forEach(w),a=ve(d),v&&v.l(d),l=ve(d),d.forEach(w),this.h()},h(){oe(t,"id",s=i[12]["@id"]),e.open=u=i[3]===i[12]["@id"]||i[5]},m(p,d){I(p,e,d),G(e,t),G(t,r),G(e,a),v&&v.m(e,null),G(e,l),f||(h=Re(t,"click",Ur(Es(i[6]))),f=!0)},p(p,d){d&16&&n!==(n=p[12]["rdfs:label"]+"")&&Se(r,n),d&16&&s!==(s=p[12]["@id"])&&oe(t,"id",s),p[3]===p[12]["@id"]||p[5]?v?v.p(p,d):(v=Bg(p),v.c(),v.m(e,l)):v&&(v.d(1),v=null),d&56&&u!==(u=p[3]===p[12]["@id"]||p[5])&&(e.open=u)},d(p){p&&w(e),v&&v.d(),f=!1,h()}}}function fR(i){let e,t=ut(i[4]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Mg(Og(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=He()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=He()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,[s]){if(s&124){t=ut(r[4]);let a;for(a=0;a<t.length;a+=1){const l=Og(r,t,a);n[a]?n[a].p(l,s):(n[a]=Mg(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},i:at,o:at,d(r){r&&w(e),tr(n,r)}}}function cR(i,e,t){let n,r,s=at,a=()=>(s(),s=bi(v,S=>t(8,r=S)),v),l,u=at,f=()=>(u(),u=bi(h,S=>t(9,l=S)),h);i.$$.on_destroy.push(()=>s()),i.$$.on_destroy.push(()=>u());let{list:h}=e;f();let{filter_value_store:v}=e;a();let{select_item:p}=e,{regex_search_keys:d=["d3f:definition","rdfs:label","@id","d3f:d3fend-id"]}=e,_=null,g=[];function b(S){const{id:O}=S.target;_===O?t(3,_=null):t(3,_=O)}const D=(S,O)=>p(O,S),B=(S,O)=>Ds(O,p,S);return i.$$set=S=>{"list"in S&&f(t(0,h=S.list)),"filter_value_store"in S&&a(t(1,v=S.filter_value_store)),"select_item"in S&&t(2,p=S.select_item),"regex_search_keys"in S&&t(7,d=S.regex_search_keys)},i.$$.update=()=>{i.$$.dirty&896&&t(4,g=JA(l,r,d)),i.$$.dirty&256&&t(5,n=!!r)},[h,v,p,_,g,n,b,d,r,l,D,B]}class hR extends Gt{constructor(e){super(),Xt(this,e,cR,fR,Et,{list:0,filter_value_store:1,select_item:2,regex_search_keys:7})}}function qg(i,e,t){const n=i.slice();return n[17]=e[t],n}function dR(i){let e,t,n,r;return{c(){e=ae("div"),t=V(i[7]),this.h()},l(s){e=se(s,"DIV",{id:!0,class:!0,role:!0,tabindex:!0});var a=Ue(e);t=H(a,i[7]),a.forEach(w),this.h()},h(){var s;oe(e,"id","selectable-technique"),oe(e,"class","no-arrow svelte-1t0ebq3"),oe(e,"role","tree"),oe(e,"tabindex","0"),qn(e,"current-selected",((s=i[9])==null?void 0:s["@id"])===i[0]["@id"])},m(s,a){I(s,e,a),G(e,t),n||(r=[Re(e,"click",Ur(Es(i[14]))),Re(e,"keydown",Ur(Es(i[15])))],n=!0)},p(s,a){var l;a&128&&Se(t,s[7]),a&513&&qn(e,"current-selected",((l=s[9])==null?void 0:l["@id"])===s[0]["@id"])},i:at,o:at,d(s){s&&w(e),n=!1,Vt(r)}}}function pR(i){let e,t,n="▶",r,s,a,l,u,f,h,v,p=i[5]&&jg(i);return{c(){e=ae("span"),t=ae("span"),t.textContent=n,r=_e(),s=ae("span"),a=V(i[7]),l=_e(),p&&p.c(),u=He(),this.h()},l(d){e=se(d,"SPAN",{class:!0,role:!0,tabindex:!0});var _=Ue(e);t=se(_,"SPAN",{class:!0,"data-svelte-h":!0}),vt(t)!=="svelte-1xn7s3"&&(t.textContent=n),r=ve(_),s=se(_,"SPAN",{id:!0,class:!0});var g=Ue(s);a=H(g,i[7]),g.forEach(w),_.forEach(w),l=ve(d),p&&p.l(d),u=He(),this.h()},h(){var d;oe(t,"class","arrow svelte-1t0ebq3"),qn(t,"arrowDown",i[6]),oe(s,"id","parent-selectable-technique"),oe(s,"class","label svelte-1t0ebq3"),oe(e,"class","parent-technique svelte-1t0ebq3"),oe(e,"role","tree"),oe(e,"tabindex","0"),qn(e,"current-selected",((d=i[9])==null?void 0:d["@id"])===i[0]["@id"])},m(d,_){I(d,e,_),G(e,t),G(e,r),G(e,s),G(s,a),I(d,l,_),p&&p.m(d,_),I(d,u,_),f=!0,h||(v=[Re(e,"click",Ur(Es(i[12]))),Re(e,"keydown",Ur(Es(i[13])))],h=!0)},p(d,_){var g;(!f||_&64)&&qn(t,"arrowDown",d[6]),(!f||_&128)&&Se(a,d[7]),(!f||_&513)&&qn(e,"current-selected",((g=d[9])==null?void 0:g["@id"])===d[0]["@id"]),d[5]?p?(p.p(d,_),_&32&&ce(p,1)):(p=jg(d),p.c(),ce(p,1),p.m(u.parentNode,u)):p&&(It(),me(p,1,1,()=>{p=null}),Rt())},i(d){f||(ce(p),f=!0)},o(d){me(p),f=!1},d(d){d&&(w(e),w(l),w(u)),p&&p.d(d),h=!1,Vt(v)}}}function jg(i){let e,t,n=ut(i[8]),r=[];for(let a=0;a<n.length;a+=1)r[a]=xg(qg(i,n,a));const s=a=>me(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=He()},l(a){for(let l=0;l<r.length;l+=1)r[l].l(a);e=He()},m(a,l){for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(a,l);I(a,e,l),t=!0},p(a,l){if(l&278){n=ut(a[8]);let u;for(u=0;u<n.length;u+=1){const f=qg(a,n,u);r[u]?(r[u].p(f,l),ce(r[u],1)):(r[u]=xg(f),r[u].c(),ce(r[u],1),r[u].m(e.parentNode,e))}for(It(),u=n.length;u<r.length;u+=1)s(u);Rt()}},i(a){if(!t){for(let l=0;l<n.length;l+=1)ce(r[l]);t=!0}},o(a){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)me(r[l]);t=!1},d(a){a&&w(e),tr(r,a)}}}function xg(i){let e,t;return e=new Sd({props:{tree:i[17],expanded_nodes:i[1],selected_node:i[2],first_node:!1,label_func:i[4]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.tree=n[17]),r&2&&(s.expanded_nodes=n[1]),r&4&&(s.selected_node=n[2]),r&16&&(s.label_func=n[4]),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function _R(i){let e,t,n,r,s;const a=[pR,dR],l=[];function u(f,h){return f[8]?0:1}return n=u(i),r=l[n]=a[n](i),{c(){e=ae("ul"),t=ae("li"),r.c(),this.h()},l(f){e=se(f,"UL",{style:!0,class:!0});var h=Ue(e);t=se(h,"LI",{});var v=Ue(t);r.l(v),v.forEach(w),h.forEach(w),this.h()},h(){$t(e,"--first-node",i[3]?"0rem":"0.6rem"),oe(e,"class","svelte-1t0ebq3")},m(f,h){I(f,e,h),G(e,t),l[n].m(t,null),s=!0},p(f,[h]){let v=n;n=u(f),n===v?l[n].p(f,h):(It(),me(l[v],1,1,()=>{l[v]=null}),Rt(),r=l[n],r?r.p(f,h):(r=l[n]=a[n](f),r.c()),ce(r,1),r.m(t,null)),(!s||h&8)&&$t(e,"--first-node",f[3]?"0rem":"0.6rem")},i(f){s||(ce(r),s=!0)},o(f){me(r),s=!1},d(f){f&&w(e),l[n].d()}}}function vR(i,e,t){let n,r,s,a,l=at,u=()=>(l(),l=bi(_,j=>t(9,a=j)),_),f,h=at,v=()=>(h(),h=bi(d,j=>t(16,f=j)),d);i.$$.on_destroy.push(()=>l()),i.$$.on_destroy.push(()=>h());let{tree:p}=e,{expanded_nodes:d}=e;v();let{selected_node:_}=e;u();let{first_node:g=!0}=e,{label_func:b}=e,D=f[n]||!1;function B(j,F){t(5,D=!D),zt(_,a=F,a)}function S(j,F){zt(_,a=F,a)}const O=j=>B(j,p),y=j=>Ds(j,B,p),N=j=>S(j,p),T=j=>Ds(j,S,p);return i.$$set=j=>{"tree"in j&&t(0,p=j.tree),"expanded_nodes"in j&&v(t(1,d=j.expanded_nodes)),"selected_node"in j&&u(t(2,_=j.selected_node)),"first_node"in j&&t(3,g=j.first_node),"label_func"in j&&t(4,b=j.label_func)},i.$$.update=()=>{i.$$.dirty&17&&t(7,n=b(p)),i.$$.dirty&1&&t(8,r=p.children),i.$$.dirty&32&&t(6,s=D)},[p,d,_,g,b,D,s,n,r,a,B,S,O,y,N,T]}class Sd extends Gt{constructor(e){super(),Xt(this,e,vR,_R,Et,{tree:0,expanded_nodes:1,selected_node:2,first_node:3,label_func:4})}}function zg(i,e,t){const n=i.slice();return n[10]=e[t],n}function Vg(i){let e,t;return e=new Sd({props:{tree:i[10],expanded_nodes:i[4],selected_node:i[5],select_item:i[2],label_func:mR}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r&8&&(s.tree=n[10]),r&4&&(s.select_item=n[2]),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function gR(i){let e,t,n=ut(i[3]),r=[];for(let a=0;a<n.length;a+=1)r[a]=Vg(zg(i,n,a));const s=a=>me(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=He()},l(a){for(let l=0;l<r.length;l+=1)r[l].l(a);e=He()},m(a,l){for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(a,l);I(a,e,l),t=!0},p(a,[l]){if(l&60){n=ut(a[3]);let u;for(u=0;u<n.length;u+=1){const f=zg(a,n,u);r[u]?(r[u].p(f,l),ce(r[u],1)):(r[u]=Vg(f),r[u].c(),ce(r[u],1),r[u].m(e.parentNode,e))}for(It(),u=n.length;u<r.length;u+=1)s(u);Rt()}},i(a){if(!t){for(let l=0;l<n.length;l+=1)ce(r[l]);t=!0}},o(a){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)me(r[l]);t=!1},d(a){a&&w(e),tr(r,a)}}}function mR(i){var e;return((e=i==null?void 0:i["rdfs:label"])==null?void 0:e[0])??i["@id"]}function bR(i,e,t){let n,r,s=at,a=()=>(s(),s=bi(v,D=>t(7,r=D)),v),l,u=at,f=()=>(u(),u=bi(h,D=>t(8,l=D)),h);i.$$.on_destroy.push(()=>s()),i.$$.on_destroy.push(()=>u());let{list:h}=e;f();let{filter_value_store:v}=e;a();let{select_item:p}=e,{regex_search_keys:d=["rdfs:label","@id"]}=e,_=[];const g=nn({}),b=nn(null);return yt(i,b,D=>t(9,n=D)),Af(()=>{n&&p(null,n,"d3f_property")}),i.$$set=D=>{"list"in D&&f(t(0,h=D.list)),"filter_value_store"in D&&a(t(1,v=D.filter_value_store)),"select_item"in D&&t(2,p=D.select_item),"regex_search_keys"in D&&t(6,d=D.regex_search_keys)},i.$$.update=()=>{i.$$.dirty&448&&t(3,_=o1(l.associated,r,d))},[h,v,p,_,g,b,d,r,l]}class wR extends Gt{constructor(e){super(),Xt(this,e,bR,gR,Et,{list:0,filter_value_store:1,select_item:2,regex_search_keys:6})}}function Hg(i,e,t){const n=i.slice();return n[10]=e[t],n}function $g(i){let e,t;return e=new Sd({props:{tree:i[10],expanded_nodes:i[4],selected_node:i[5],select_item:i[2],label_func:ER}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r&8&&(s.tree=n[10]),r&4&&(s.select_item=n[2]),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function yR(i){let e,t,n=ut(i[3]),r=[];for(let a=0;a<n.length;a+=1)r[a]=$g(Hg(i,n,a));const s=a=>me(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=He()},l(a){for(let l=0;l<r.length;l+=1)r[l].l(a);e=He()},m(a,l){for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(a,l);I(a,e,l),t=!0},p(a,[l]){if(l&60){n=ut(a[3]);let u;for(u=0;u<n.length;u+=1){const f=Hg(a,n,u);r[u]?(r[u].p(f,l),ce(r[u],1)):(r[u]=$g(f),r[u].c(),ce(r[u],1),r[u].m(e.parentNode,e))}for(It(),u=n.length;u<r.length;u+=1)s(u);Rt()}},i(a){if(!t){for(let l=0;l<n.length;l+=1)ce(r[l]);t=!0}},o(a){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)me(r[l]);t=!1},d(a){a&&w(e),tr(r,a)}}}function ER(i){return(i==null?void 0:i["rdfs:label"])??i["@id"]}function DR(i,e,t){let n,r,s=at,a=()=>(s(),s=bi(v,D=>t(7,r=D)),v),l,u=at,f=()=>(u(),u=bi(h,D=>t(8,l=D)),h);i.$$.on_destroy.push(()=>s()),i.$$.on_destroy.push(()=>u());let{list:h}=e;f();let{filter_value_store:v}=e;a();let{select_item:p}=e,{regex_search_keys:d=["rdfs:label","@id"]}=e,_=[];const g=nn({}),b=nn(null);return yt(i,b,D=>t(9,n=D)),Af(()=>{n&&p(null,n)}),i.$$set=D=>{"list"in D&&f(t(0,h=D.list)),"filter_value_store"in D&&a(t(1,v=D.filter_value_store)),"select_item"in D&&t(2,p=D.select_item),"regex_search_keys"in D&&t(6,d=D.regex_search_keys)},i.$$.update=()=>{i.$$.dirty&448&&t(3,_=o1(l,r,d))},[h,v,p,_,g,b,d,r,l]}class AR extends Gt{constructor(e){super(),Xt(this,e,DR,yR,Et,{list:0,filter_value_store:1,select_item:2,regex_search_keys:6})}}const kR=i=>({}),Gg=i=>({R:i[6],filter_value_store:i[4],select_item:i[9]});function Xg(i){let e,t,n,r,s,a,l;const u=i[18].default,f=Dr(u,i,i[17],Gg);return{c(){e=ae("ul"),t=ae("input"),n=_e(),f&&f.c(),this.h()},l(h){e=se(h,"UL",{id:!0,class:!0});var v=Ue(e);t=se(v,"INPUT",{type:!0,id:!0,name:!0,placeholder:!0,class:!0}),n=ve(v),f&&f.l(v),v.forEach(w),this.h()},h(){oe(t,"type","text"),oe(t,"id","filter"),oe(t,"name","filter"),oe(t,"placeholder","Filter / Save"),oe(t,"class","svelte-155p9qt"),oe(e,"id","d3fend-container"),oe(e,"class","dropdown-menu svelte-155p9qt")},m(h,v){I(h,e,v),G(e,t),G(e,n),f&&f.m(e,null),s=!0,a||(l=[d_($A.call(null,t)),Re(t,"click",Ur(i[19])),Re(t,"keyup",Ur(i[20])),Re(t,"keydown",Ur(i[21])),d_(GA.call(null,e)),Re(e,"outsideclick",i[7])],a=!0)},p(h,v){f&&f.p&&(!s||v&131072)&&Ar(f,u,h,h[17],s?Cr(u,h[17],v,kR):kr(h[17]),Gg)},i(h){s||(ce(f,h),h&&i1(()=>{s&&(r||(r=g_(e,T_,{delay:50,duration:200,axis:"y"},!0)),r.run(1))}),s=!0)},o(h){me(f,h),h&&(r||(r=g_(e,T_,{delay:50,duration:200,axis:"y"},!1)),r.run(0)),s=!1},d(h){h&&w(e),f&&f.d(h),h&&r&&r.end(),a=!1,Vt(l)}}}function CR(i){let e,t,n,r,s,a,l,u,f,h,v=i[2]&&Xg(i);return{c(){e=ae("div"),t=ae("div"),n=ae("div"),r=ae("span"),s=V(i[1]),a=_e(),v&&v.c(),this.h()},l(p){e=se(p,"DIV",{class:!0,style:!0});var d=Ue(e);t=se(d,"DIV",{class:!0,role:!0,tabindex:!0});var _=Ue(t);n=se(_,"DIV",{class:!0});var g=Ue(n);r=se(g,"SPAN",{class:!0});var b=Ue(r);s=H(b,i[1]),b.forEach(w),g.forEach(w),a=ve(_),v&&v.l(_),_.forEach(w),d.forEach(w),this.h()},h(){oe(r,"class","selected svelte-155p9qt"),oe(n,"class","select autocomplete-dropdown svelte-155p9qt"),oe(t,"class",l="dropdown "+(i[2]?"active":"")+" svelte-155p9qt"),oe(t,"role","button"),oe(t,"tabindex","0"),oe(e,"class","container svelte-155p9qt"),$t(e,"--input-color",i[0])},m(p,d){I(p,e,d),G(e,t),G(t,n),G(n,r),G(r,s),G(t,a),v&&v.m(t,null),u=!0,f||(h=[Re(t,"click",i[8]),Re(t,"keydown",i[22])],f=!0)},p(p,[d]){(!u||d&2)&&Se(s,p[1]),p[2]?v?(v.p(p,d),d&4&&ce(v,1)):(v=Xg(p),v.c(),ce(v,1),v.m(t,null)):v&&(It(),me(v,1,1,()=>{v=null}),Rt()),(!u||d&4&&l!==(l="dropdown "+(p[2]?"active":"")+" svelte-155p9qt"))&&oe(t,"class",l),(!u||d&1)&&$t(e,"--input-color",p[0])},i(p){u||(ce(v),u=!0)},o(p){me(v),u=!1},d(p){p&&w(e),v&&v.d(),f=!1,Vt(h)}}}function TR(i,e,t){let n,r,s,a,{$$slots:l={},$$scope:u}=e,{node_id:f}=e,{element_id:h}=e,{input_color:v="white"}=e,{place_holder:p="< d3fend class >"}=e,{flow_store_hook:d=Ii}=e,{data_save_key:_="d3f_class"}=e;const g=nn(!1);yt(i,g,A=>t(2,a=A));const b=nn(null);yt(i,b,A=>t(24,r=A));const D=d();yt(i,D,A=>t(25,s=A));const B={ItemTactic:hR,ItemList:uR,ItemProperty:wR,ItemInformation:AR};let S;Af(()=>{zt(b,r="",r)});function O(){zt(g,a=!1,a),zt(b,r="",r)}function y(A){a?O():zt(g,a=!0,a)}function N(A,R,Y="d3f_class"){let z=R["rdfs:label"];Array.isArray(R["rdfs:label"])&&(z=R["rdfs:label"][0]),s.forEach(ue=>{ue.id===f&&(ue.data=Object.assign(Object.assign({},ue.data),{[Y]:R["@id"],label:z}))}),D.set(s),O()}function T(A){clearTimeout(S),S=setTimeout(()=>{zt(b,r=A.target.value,r)},400)}function j(A){const R=A.target.value;N(A,{"rdfs:label":R,"@id":R},_)}function F(A){Zn.call(this,i,A)}const q=A=>T(A),k=A=>Ds(A,j),L=A=>Ds(A,y);return i.$$set=A=>{"node_id"in A&&t(12,f=A.node_id),"element_id"in A&&t(13,h=A.element_id),"input_color"in A&&t(0,v=A.input_color),"place_holder"in A&&t(14,p=A.place_holder),"flow_store_hook"in A&&t(15,d=A.flow_store_hook),"data_save_key"in A&&t(16,_=A.data_save_key),"$$scope"in A&&t(17,u=A.$$scope)},i.$$.update=()=>{i.$$.dirty&24576&&t(1,n=h||p)},[v,n,a,g,b,D,B,O,y,N,T,j,f,h,p,d,_,u,l,F,q,k,L]}class Ps extends Gt{constructor(e){super(),Xt(this,e,TR,CR,Et,{node_id:12,element_id:13,input_color:0,place_holder:14,flow_store_hook:15,data_save_key:16})}}function Wg(i,e,t){const n=i.slice();return n[33]=e[t],n[34]=e,n[35]=t,n}function Qg(i){let e,t;return e=new Jt({props:{type:"target",class:"customHandle",position:jt.Left,id:"target",style:i[17](),isConnectableStart:!1,isConnectable:i[2]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[0]&4&&(s.isConnectable=n[2]),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function Yg(i){let e=i[7],t,n,r=Kg(i);return{c(){r.c(),t=He()},l(s){r.l(s),t=He()},m(s,a){r.m(s,a),I(s,t,a),n=!0},p(s,a){a[0]&128&&Et(e,e=s[7])?(It(),me(r,1,1,at),Rt(),r=Kg(s),r.c(),ce(r,1),r.m(t.parentNode,t)):r.p(s,a)},i(s){n||(ce(r),n=!0)},o(s){me(r),n=!1},d(s){s&&w(t),r.d(s)}}}function Kg(i){let e,t,n,r,s,a,l,u;return e=new Jt({props:{type:"source",position:jt.Top,id:"source",style:i[18](),isConnectable:i[2]}}),n=new Jt({props:{type:"source",position:jt.Left,id:"source",style:i[18](),isConnectable:i[2]}}),s=new Jt({props:{type:"source",position:jt.Right,id:"source",style:i[18](),isConnectable:i[2]}}),l=new Jt({props:{type:"source",position:jt.Bottom,id:"source",style:i[18](),isConnectable:i[2]}}),{c(){Xe(e.$$.fragment),t=_e(),Xe(n.$$.fragment),r=_e(),Xe(s.$$.fragment),a=_e(),Xe(l.$$.fragment)},l(f){We(e.$$.fragment,f),t=ve(f),We(n.$$.fragment,f),r=ve(f),We(s.$$.fragment,f),a=ve(f),We(l.$$.fragment,f)},m(f,h){Qe(e,f,h),I(f,t,h),Qe(n,f,h),I(f,r,h),Qe(s,f,h),I(f,a,h),Qe(l,f,h),u=!0},p(f,h){const v={};h[0]&4&&(v.isConnectable=f[2]),e.$set(v);const p={};h[0]&4&&(p.isConnectable=f[2]),n.$set(p);const d={};h[0]&4&&(d.isConnectable=f[2]),s.$set(d);const _={};h[0]&4&&(_.isConnectable=f[2]),l.$set(_)},i(f){u||(ce(e.$$.fragment,f),ce(n.$$.fragment,f),ce(s.$$.fragment,f),ce(l.$$.fragment,f),u=!0)},o(f){me(e.$$.fragment,f),me(n.$$.fragment,f),me(s.$$.fragment,f),me(l.$$.fragment,f),u=!1},d(f){f&&(w(t),w(r),w(a)),Ye(e,f),Ye(n,f),Ye(s,f),Ye(l,f)}}}function NR(i){let e,t;return e=new i[36].ItemList({props:{list:h1,filter_value_store:i[37],select_item:i[38]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[1]&64&&(s.filter_value_store=n[37]),r[1]&128&&(s.select_item=n[38]),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function Jg(i){let e,t=ut(i[0].user_properties),n=[];for(let r=0;r<t.length;r+=1)n[r]=Zg(Wg(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=He()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=He()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&801){t=ut(r[0].user_properties);let a;for(a=0;a<t.length;a+=1){const l=Wg(r,t,a);n[a]?n[a].p(l,s):(n[a]=Zg(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),tr(n,r)}}}function Zg(i){let e,t,n,r,s,a,l,u,f;function h(..._){return i[28](i[35],..._)}function v(){i[29].call(n,i[35])}function p(..._){return i[30](i[35],..._)}function d(){i[31].call(a,i[35])}return{c(){e=ae("div"),t=ae("div"),n=ae("input"),r=_e(),s=ae("div"),a=ae("input"),l=_e(),this.h()},l(_){e=se(_,"DIV",{class:!0});var g=Ue(e);t=se(g,"DIV",{class:!0});var b=Ue(t);n=se(b,"INPUT",{placeholder:!0}),b.forEach(w),r=ve(g),s=se(g,"DIV",{class:!0});var D=Ue(s);a=se(D,"INPUT",{placeholder:!0}),D.forEach(w),l=ve(g),g.forEach(w),this.h()},h(){oe(n,"placeholder","property"),oe(t,"class","user-property flex-column"),oe(a,"placeholder","value"),oe(s,"class","user-value flex-column flex-grow-3"),oe(e,"class","user-properties flex")},m(_,g){I(_,e,g),G(e,t),G(t,n),gt(n,i[9][i[35]][0]),G(e,r),G(e,s),G(s,a),gt(a,i[8][i[35]][1]),G(e,l),u||(f=[Re(n,"input",h),Re(n,"input",v),Re(a,"input",p),Re(a,"input",d)],u=!0)},p(_,g){i=_,g[0]&512&&n.value!==i[9][i[35]][0]&&gt(n,i[9][i[35]][0]),g[0]&256&&a.value!==i[8][i[35]][1]&&gt(a,i[8][i[35]][1])},d(_){_&&w(e),u=!1,Vt(f)}}}function SR(i){let e=i[4].inProgress,t,n,r,s,a,l,u,f,h,v,p,d,_,g,b,D,B,S,O,y,N,T="+",j,F,q,k=Qg(i),L=!i[6]&&Yg(i);a=new Ga({props:{isVisible:i[3]}}),_=new Ps({props:{node_id:i[1],element_id:i[0].d3f_class,input_color:"#ffc3c7",$$slots:{default:[NR,({R,filter_value_store:Y,select_item:z})=>({36:R,37:Y,38:z}),({R,filter_value_store:Y,select_item:z})=>[0,(R?32:0)|(Y?64:0)|(z?128:0)]]},$$scope:{ctx:i}}});let A=i[0].user_properties&&Jg(i);return{c(){k.c(),t=_e(),n=ae("div"),L&&L.c(),r=_e(),s=ae("div"),Xe(a.$$.fragment),l=_e(),u=ae("i"),f=V(`Attack Action
        `),h=ae("input"),v=_e(),p=ae("br"),d=_e(),Xe(_.$$.fragment),g=_e(),b=ae("div"),D=ae("input"),B=_e(),S=ae("br"),O=_e(),A&&A.c(),y=_e(),N=ae("button"),N.textContent=T,this.h()},l(R){k.l(R),t=ve(R),n=se(R,"DIV",{class:!0});var Y=Ue(n);L&&L.l(Y),r=ve(Y),s=se(Y,"DIV",{class:!0});var z=Ue(s);We(a.$$.fragment,z),l=ve(z),u=se(z,"I",{});var ue=Ue(u);f=H(ue,`Attack Action
        `),h=se(ue,"INPUT",{class:!0,type:!0,style:!0}),ue.forEach(w),v=ve(z),p=se(z,"BR",{}),d=ve(z),We(_.$$.fragment,z),g=ve(z),b=se(z,"DIV",{});var re=Ue(b);D=se(re,"INPUT",{class:!0,type:!0,style:!0}),re.forEach(w),B=ve(z),S=se(z,"BR",{}),O=ve(z),A&&A.l(z),y=ve(z),N=se(z,"BUTTON",{"data-svelte-h":!0}),vt(N)!=="svelte-y9choq"&&(N.textContent=T),z.forEach(w),Y.forEach(w),this.h()},h(){oe(h,"class","nodrag sequence"),oe(h,"type","text"),$t(h,"background","#ffc3c7"),oe(D,"class","nodrag"),oe(D,"type","text"),$t(D,"text-align","center"),$t(D,"background","#ffc3c7"),$t(D,"font-weight","bold"),oe(s,"class","attack-node node-inner svelte-pkj1to"),oe(n,"class","attack-node node svelte-pkj1to")},m(R,Y){k.m(R,Y),I(R,t,Y),I(R,n,Y),L&&L.m(n,null),G(n,r),G(n,s),Qe(a,s,null),G(s,l),G(s,u),G(u,f),G(u,h),gt(h,i[10]),G(s,v),G(s,p),G(s,d),Qe(_,s,null),G(s,g),G(s,b),G(b,D),gt(D,i[11]),G(s,B),G(s,S),G(s,O),A&&A.m(s,null),G(s,y),G(s,N),j=!0,F||(q=[Re(h,"input",i[24]),Re(h,"input",i[25]),Re(D,"input",i[26]),Re(D,"input",i[27]),Re(N,"click",i[12]),Re(n,"click",i[13]),Re(n,"mouseenter",i[15]),Re(n,"mouseleave",i[16])],F=!0)},p(R,Y){Y[0]&16&&Et(e,e=R[4].inProgress)?(It(),me(k,1,1,at),Rt(),k=Qg(R),k.c(),ce(k,1),k.m(t.parentNode,t)):k.p(R,Y),R[6]?L&&(It(),me(L,1,1,()=>{L=null}),Rt()):L?(L.p(R,Y),Y[0]&64&&ce(L,1)):(L=Yg(R),L.c(),ce(L,1),L.m(n,r));const z={};Y[0]&8&&(z.isVisible=R[3]),a.$set(z),Y[0]&1024&&h.value!==R[10]&&gt(h,R[10]);const ue={};Y[0]&2&&(ue.node_id=R[1]),Y[0]&1&&(ue.element_id=R[0].d3f_class),Y[1]&448&&(ue.$$scope={dirty:Y,ctx:R}),_.$set(ue),Y[0]&2048&&D.value!==R[11]&&gt(D,R[11]),R[0].user_properties?A?A.p(R,Y):(A=Jg(R),A.c(),A.m(s,y)):A&&(A.d(1),A=null)},i(R){j||(ce(k),ce(L),ce(a.$$.fragment,R),ce(_.$$.fragment,R),j=!0)},o(R){me(k),me(L),me(a.$$.fragment,R),me(_.$$.fragment,R),j=!1},d(R){R&&(w(t),w(n)),k.d(R),L&&L.d(),Ye(a),Ye(_),A&&A.d(),F=!1,Vt(q)}}}function IR(i,e,t){let n,r,s,a,l,u,f;yt(i,jn,$=>t(32,u=$)),yt(i,Pt,$=>t(5,f=$));var h,v,p,d,_;let{id:g}=e,{data:b}=e,{isConnectable:D}=e,{selected:B=void 0}=e;function S(){O(),b.user_properties.push(["",""])}function O(){for(let $=0;$<u.length;$++)u[$].data==b&&zt(Pt,f=u[$],f)}const y=ma();yt(i,y,$=>t(4,l=$));let N=!1,T=!1;function j(){t(7,T=!0)}function F(){t(7,T=!1)}function q(){return l.inProgress?"z-index: 999;":"z-index: -2; pointer-events: none;"}function k(){return T?"z-index: 2;":"visibility:hidden; pointer-events: none;"}const L=$=>{t(0,b.sequence=$.currentTarget.value,b),zt(Pt,f.data.sequence=b.sequence,f)};function A(){r=this.value,t(10,r),t(0,b),t(5,f),t(1,g),t(20,v)}const R=$=>{t(0,b.label=$.currentTarget.value,b),zt(Pt,f.data.label=b.label,f)};function Y(){n=this.value,t(11,n),t(0,b),t(5,f),t(1,g),t(19,h)}const z=($,Q)=>{t(0,b.user_properties[$][0]=Q.currentTarget.value,b),zt(Pt,f.data.user_properties[$][0]=Q.currentTarget.value,f)};function ue($){s[$][0]=this.value,t(9,s),t(0,b),t(5,f),t(1,g),t(21,p)}const re=($,Q)=>{t(0,b.user_properties[$][1]=Q.currentTarget.value,b),zt(Pt,f.data.user_properties[$][1]=Q.currentTarget.value,f)};function ee($){a[$][1]=this.value,t(8,a),t(0,b),t(5,f),t(1,g),t(22,d)}return i.$$set=$=>{"id"in $&&t(1,g=$.id),"data"in $&&t(0,b=$.data),"isConnectable"in $&&t(2,D=$.isConnectable),"selected"in $&&t(3,B=$.selected)},i.$$.update=()=>{i.$$.dirty[0]&524323&&t(11,n=(b==null?void 0:b.label)||((f==null?void 0:f.id)==g?t(19,h=f==null?void 0:f.data)===null||h===void 0?void 0:h.label:"")||"< label >"),i.$$.dirty[0]&1048611&&t(10,r=(b==null?void 0:b.sequence)||((f==null?void 0:f.id)==g?t(20,v=f==null?void 0:f.data)===null||v===void 0?void 0:v.sequence:"")||"#"),i.$$.dirty[0]&2097187&&t(9,s=(b==null?void 0:b.user_properties)||((f==null?void 0:f.id)==g?t(21,p=f==null?void 0:f.data)===null||p===void 0?void 0:p.user_properties:"")||"< Property >"),i.$$.dirty[0]&4194339&&t(8,a=(b==null?void 0:b.user_properties)||((f==null?void 0:f.id)==g?t(22,d=f==null?void 0:f.data)===null||d===void 0?void 0:d.user_properties:"")||"< Value >"),i.$$.dirty[0]&8388626&&t(6,N=(t(23,_=l.toHandle)===null||_===void 0?void 0:_.nodeId)==g)},[b,g,D,B,l,f,N,T,a,s,r,n,S,O,y,j,F,q,k,h,v,p,d,_,L,A,R,Y,z,ue,re,ee]}class RR extends Gt{constructor(e){super(),Xt(this,e,IR,SR,Et,{id:1,data:0,isConnectable:2,selected:3},null,[-1,-1])}}function em(i,e,t){const n=i.slice();return n[29]=e[t],n[30]=e,n[31]=t,n}function tm(i){let e,t;return e=new Jt({props:{type:"target",class:"customHandle",position:jt.Left,id:"target",style:i[16](),isConnectableStart:!1,isConnectable:i[1]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[0]&2&&(s.isConnectable=n[1]),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function rm(i){let e=i[7],t,n,r=nm(i);return{c(){r.c(),t=He()},l(s){r.l(s),t=He()},m(s,a){r.m(s,a),I(s,t,a),n=!0},p(s,a){a[0]&128&&Et(e,e=s[7])?(It(),me(r,1,1,at),Rt(),r=nm(s),r.c(),ce(r,1),r.m(t.parentNode,t)):r.p(s,a)},i(s){n||(ce(r),n=!0)},o(s){me(r),n=!1},d(s){s&&w(t),r.d(s)}}}function nm(i){let e,t,n,r,s,a,l,u;return e=new Jt({props:{type:"source",position:jt.Top,id:"source",style:i[17](),isConnectable:i[1]}}),n=new Jt({props:{type:"source",position:jt.Left,id:"source",style:i[17](),isConnectable:i[1]}}),s=new Jt({props:{type:"source",position:jt.Right,id:"source",style:i[17](),isConnectable:i[1]}}),l=new Jt({props:{type:"source",position:jt.Bottom,id:"source",style:i[17](),isConnectable:i[1]}}),{c(){Xe(e.$$.fragment),t=_e(),Xe(n.$$.fragment),r=_e(),Xe(s.$$.fragment),a=_e(),Xe(l.$$.fragment)},l(f){We(e.$$.fragment,f),t=ve(f),We(n.$$.fragment,f),r=ve(f),We(s.$$.fragment,f),a=ve(f),We(l.$$.fragment,f)},m(f,h){Qe(e,f,h),I(f,t,h),Qe(n,f,h),I(f,r,h),Qe(s,f,h),I(f,a,h),Qe(l,f,h),u=!0},p(f,h){const v={};h[0]&2&&(v.isConnectable=f[1]),e.$set(v);const p={};h[0]&2&&(p.isConnectable=f[1]),n.$set(p);const d={};h[0]&2&&(d.isConnectable=f[1]),s.$set(d);const _={};h[0]&2&&(_.isConnectable=f[1]),l.$set(_)},i(f){u||(ce(e.$$.fragment,f),ce(n.$$.fragment,f),ce(s.$$.fragment,f),ce(l.$$.fragment,f),u=!0)},o(f){me(e.$$.fragment,f),me(n.$$.fragment,f),me(s.$$.fragment,f),me(l.$$.fragment,f),u=!1},d(f){f&&(w(t),w(r),w(a)),Ye(e,f),Ye(n,f),Ye(s,f),Ye(l,f)}}}function PR(i){let e,t;return e=new i[32].ItemList({props:{list:p1,filter_value_store:i[33],select_item:i[34]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[1]&4&&(s.filter_value_store=n[33]),r[1]&8&&(s.select_item=n[34]),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function im(i){let e,t=ut(i[0].user_properties),n=[];for(let r=0;r<t.length;r+=1)n[r]=am(em(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=He()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=He()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&801){t=ut(r[0].user_properties);let a;for(a=0;a<t.length;a+=1){const l=em(r,t,a);n[a]?n[a].p(l,s):(n[a]=am(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),tr(n,r)}}}function am(i){let e,t,n,r,s,a,l,u,f;function h(..._){return i[24](i[31],..._)}function v(){i[25].call(n,i[31])}function p(..._){return i[26](i[31],..._)}function d(){i[27].call(a,i[31])}return{c(){e=ae("div"),t=ae("div"),n=ae("input"),r=_e(),s=ae("div"),a=ae("input"),l=_e(),this.h()},l(_){e=se(_,"DIV",{class:!0});var g=Ue(e);t=se(g,"DIV",{class:!0});var b=Ue(t);n=se(b,"INPUT",{placeholder:!0}),b.forEach(w),r=ve(g),s=se(g,"DIV",{class:!0});var D=Ue(s);a=se(D,"INPUT",{placeholder:!0}),D.forEach(w),l=ve(g),g.forEach(w),this.h()},h(){oe(n,"placeholder","property"),oe(t,"class","user-property flex-column"),oe(a,"placeholder","value"),oe(s,"class","user-value flex-column flex-grow-3"),oe(e,"class","user-properties flex")},m(_,g){I(_,e,g),G(e,t),G(t,n),gt(n,i[9][i[31]][0]),G(e,r),G(e,s),G(s,a),gt(a,i[8][i[31]][1]),G(e,l),u||(f=[Re(n,"input",h),Re(n,"input",v),Re(a,"input",p),Re(a,"input",d)],u=!0)},p(_,g){i=_,g[0]&512&&n.value!==i[9][i[31]][0]&&gt(n,i[9][i[31]][0]),g[0]&256&&a.value!==i[8][i[31]][1]&&gt(a,i[8][i[31]][1])},d(_){_&&w(e),u=!1,Vt(f)}}}function FR(i){let e=i[4].inProgress,t,n,r,s,a,l,u,f="Vulnerability",h,v,p,d,_,g,b,D,B,S,O,y="+",N,T,j,F=tm(i),q=!i[6]&&rm(i);a=new Ga({props:{isVisible:i[2]}}),_=new Ps({props:{node_id:i[3],element_id:i[0].d3f_class,input_color:"#f9d999",place_holder:"< weakness >",$$slots:{default:[PR,({R:L,filter_value_store:A,select_item:R})=>({32:L,33:A,34:R}),({R:L,filter_value_store:A,select_item:R})=>[0,(L?2:0)|(A?4:0)|(R?8:0)]]},$$scope:{ctx:i}}});let k=i[0].user_properties&&im(i);return{c(){F.c(),t=_e(),n=ae("div"),q&&q.c(),r=_e(),s=ae("div"),Xe(a.$$.fragment),l=_e(),u=ae("i"),u.textContent=f,h=_e(),v=ae("br"),p=_e(),d=ae("div"),Xe(_.$$.fragment),g=_e(),b=ae("div"),D=ae("input"),B=_e(),k&&k.c(),S=_e(),O=ae("button"),O.textContent=y,this.h()},l(L){F.l(L),t=ve(L),n=se(L,"DIV",{class:!0});var A=Ue(n);q&&q.l(A),r=ve(A),s=se(A,"DIV",{class:!0});var R=Ue(s);We(a.$$.fragment,R),l=ve(R),u=se(R,"I",{"data-svelte-h":!0}),vt(u)!=="svelte-qgxj0w"&&(u.textContent=f),h=ve(R),v=se(R,"BR",{}),p=ve(R),d=se(R,"DIV",{});var Y=Ue(d);We(_.$$.fragment,Y),Y.forEach(w),g=ve(R),b=se(R,"DIV",{});var z=Ue(b);D=se(z,"INPUT",{class:!0,type:!0,style:!0}),B=ve(z),k&&k.l(z),S=ve(z),O=se(z,"BUTTON",{"data-svelte-h":!0}),vt(O)!=="svelte-y9choq"&&(O.textContent=y),z.forEach(w),R.forEach(w),A.forEach(w),this.h()},h(){oe(D,"class","nodrag label"),oe(D,"type","text"),$t(D,"background","#f9d999"),oe(s,"class","vulnerability node-inner svelte-17a4qd7"),oe(n,"class","vulnerability node svelte-17a4qd7")},m(L,A){F.m(L,A),I(L,t,A),I(L,n,A),q&&q.m(n,null),G(n,r),G(n,s),Qe(a,s,null),G(s,l),G(s,u),G(s,h),G(s,v),G(s,p),G(s,d),Qe(_,d,null),G(s,g),G(s,b),G(b,D),gt(D,i[10]),G(b,B),k&&k.m(b,null),G(b,S),G(b,O),N=!0,T||(j=[Re(D,"input",i[22]),Re(D,"input",i[23]),Re(O,"click",i[11]),Re(n,"click",i[12]),Re(n,"mouseenter",i[14]),Re(n,"mouseleave",i[15])],T=!0)},p(L,A){A[0]&16&&Et(e,e=L[4].inProgress)?(It(),me(F,1,1,at),Rt(),F=tm(L),F.c(),ce(F,1),F.m(t.parentNode,t)):F.p(L,A),L[6]?q&&(It(),me(q,1,1,()=>{q=null}),Rt()):q?(q.p(L,A),A[0]&64&&ce(q,1)):(q=rm(L),q.c(),ce(q,1),q.m(n,r));const R={};A[0]&4&&(R.isVisible=L[2]),a.$set(R);const Y={};A[0]&8&&(Y.node_id=L[3]),A[0]&1&&(Y.element_id=L[0].d3f_class),A[1]&28&&(Y.$$scope={dirty:A,ctx:L}),_.$set(Y),A[0]&1024&&D.value!==L[10]&&gt(D,L[10]),L[0].user_properties?k?k.p(L,A):(k=im(L),k.c(),k.m(b,S)):k&&(k.d(1),k=null)},i(L){N||(ce(F),ce(q),ce(a.$$.fragment,L),ce(_.$$.fragment,L),N=!0)},o(L){me(F),me(q),me(a.$$.fragment,L),me(_.$$.fragment,L),N=!1},d(L){L&&(w(t),w(n)),F.d(L),q&&q.d(),Ye(a),Ye(_),k&&k.d(),T=!1,Vt(j)}}}function OR(i,e,t){let n,r,s,a,l,u;yt(i,jn,z=>t(28,l=z)),yt(i,Pt,z=>t(5,u=z));var f,h,v,p;let{data:d}=e,{isConnectable:_}=e,{selected:g=void 0}=e,{id:b}=e;function D(){B(),d.user_properties.push(["",""])}function B(){for(let z=0;z<l.length;z++)l[z].data==d&&zt(Pt,u=l[z],u)}const S=ma();yt(i,S,z=>t(4,a=z));let O=!1,y=!1;function N(){t(7,y=!0)}function T(){t(7,y=!1)}function j(){return a.inProgress?"z-index: 999;":"z-index: -2; pointer-events: none;"}function F(){return y?"z-index: 2;":"visibility:hidden; pointer-events: none;"}const q=z=>{t(0,d.label=z.currentTarget.value,d),zt(Pt,u.data.label=d.label,u)};function k(){n=this.value,t(10,n),t(0,d),t(5,u),t(3,b),t(18,f)}const L=(z,ue)=>{t(0,d.user_properties[z][0]=ue.currentTarget.value,d),zt(Pt,u.data.user_properties[z][0]=ue.currentTarget.value,u)};function A(z){r[z][0]=this.value,t(9,r),t(0,d),t(5,u),t(3,b),t(19,h)}const R=(z,ue)=>{t(0,d.user_properties[z][1]=ue.currentTarget.value,d),zt(Pt,u.data.user_properties[z][1]=ue.currentTarget.value,u)};function Y(z){s[z][1]=this.value,t(8,s),t(0,d),t(5,u),t(3,b),t(20,v)}return i.$$set=z=>{"data"in z&&t(0,d=z.data),"isConnectable"in z&&t(1,_=z.isConnectable),"selected"in z&&t(2,g=z.selected),"id"in z&&t(3,b=z.id)},i.$$.update=()=>{i.$$.dirty[0]&262185&&t(10,n=(d==null?void 0:d.label)||((u==null?void 0:u.id)==b?t(18,f=u==null?void 0:u.data)===null||f===void 0?void 0:f.label:"")||"< label >"),i.$$.dirty[0]&524329&&t(9,r=(d==null?void 0:d.user_properties)||((u==null?void 0:u.id)==b?t(19,h=u==null?void 0:u.data)===null||h===void 0?void 0:h.user_properties:"")||"< Property >"),i.$$.dirty[0]&1048617&&t(8,s=(d==null?void 0:d.user_properties)||((u==null?void 0:u.id)==b?t(20,v=u==null?void 0:u.data)===null||v===void 0?void 0:v.user_properties:"")||"< Value >"),i.$$.dirty[0]&2097176&&t(6,O=(t(21,p=a.toHandle)===null||p===void 0?void 0:p.nodeId)==b)},[d,_,g,b,a,u,O,y,s,r,n,D,B,S,N,T,j,F,f,h,v,p,q,k,L,A,R,Y]}class LR extends Gt{constructor(e){super(),Xt(this,e,OR,FR,Et,{data:0,isConnectable:1,selected:2,id:3},null,[-1,-1])}}function sm(i,e,t){const n=i.slice();return n[29]=e[t],n[30]=e,n[31]=t,n}function lm(i){let e,t;return e=new Jt({props:{type:"target",class:"customHandle",position:jt.Left,id:"target",style:i[16](),isConnectableStart:!1,isConnectable:i[1]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[0]&2&&(s.isConnectable=n[1]),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function om(i){let e=i[7],t,n,r=um(i);return{c(){r.c(),t=He()},l(s){r.l(s),t=He()},m(s,a){r.m(s,a),I(s,t,a),n=!0},p(s,a){a[0]&128&&Et(e,e=s[7])?(It(),me(r,1,1,at),Rt(),r=um(s),r.c(),ce(r,1),r.m(t.parentNode,t)):r.p(s,a)},i(s){n||(ce(r),n=!0)},o(s){me(r),n=!1},d(s){s&&w(t),r.d(s)}}}function um(i){let e,t,n,r,s,a,l,u;return e=new Jt({props:{type:"source",position:jt.Top,id:"source",style:i[17](),isConnectable:i[1]}}),n=new Jt({props:{type:"source",position:jt.Left,id:"source",style:i[17](),isConnectable:i[1]}}),s=new Jt({props:{type:"source",position:jt.Right,id:"source",style:i[17](),isConnectable:i[1]}}),l=new Jt({props:{type:"source",position:jt.Bottom,id:"source",style:i[17](),isConnectable:i[1]}}),{c(){Xe(e.$$.fragment),t=_e(),Xe(n.$$.fragment),r=_e(),Xe(s.$$.fragment),a=_e(),Xe(l.$$.fragment)},l(f){We(e.$$.fragment,f),t=ve(f),We(n.$$.fragment,f),r=ve(f),We(s.$$.fragment,f),a=ve(f),We(l.$$.fragment,f)},m(f,h){Qe(e,f,h),I(f,t,h),Qe(n,f,h),I(f,r,h),Qe(s,f,h),I(f,a,h),Qe(l,f,h),u=!0},p(f,h){const v={};h[0]&2&&(v.isConnectable=f[1]),e.$set(v);const p={};h[0]&2&&(p.isConnectable=f[1]),n.$set(p);const d={};h[0]&2&&(d.isConnectable=f[1]),s.$set(d);const _={};h[0]&2&&(_.isConnectable=f[1]),l.$set(_)},i(f){u||(ce(e.$$.fragment,f),ce(n.$$.fragment,f),ce(s.$$.fragment,f),ce(l.$$.fragment,f),u=!0)},o(f){me(e.$$.fragment,f),me(n.$$.fragment,f),me(s.$$.fragment,f),me(l.$$.fragment,f),u=!1},d(f){f&&(w(t),w(r),w(a)),Ye(e,f),Ye(n,f),Ye(s,f),Ye(l,f)}}}function BR(i){let e,t;return e=new i[32].ItemList({props:{list:c1,filter_value_store:i[33],select_item:i[34]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[1]&4&&(s.filter_value_store=n[33]),r[1]&8&&(s.select_item=n[34]),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function fm(i){let e,t=ut(i[0].user_properties),n=[];for(let r=0;r<t.length;r+=1)n[r]=cm(sm(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=He()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=He()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&801){t=ut(r[0].user_properties);let a;for(a=0;a<t.length;a+=1){const l=sm(r,t,a);n[a]?n[a].p(l,s):(n[a]=cm(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),tr(n,r)}}}function cm(i){let e,t,n,r,s,a,l,u,f;function h(..._){return i[24](i[31],..._)}function v(){i[25].call(n,i[31])}function p(..._){return i[26](i[31],..._)}function d(){i[27].call(a,i[31])}return{c(){e=ae("div"),t=ae("div"),n=ae("input"),r=_e(),s=ae("div"),a=ae("input"),l=_e(),this.h()},l(_){e=se(_,"DIV",{class:!0});var g=Ue(e);t=se(g,"DIV",{class:!0});var b=Ue(t);n=se(b,"INPUT",{placeholder:!0}),b.forEach(w),r=ve(g),s=se(g,"DIV",{class:!0});var D=Ue(s);a=se(D,"INPUT",{placeholder:!0}),D.forEach(w),l=ve(g),g.forEach(w),this.h()},h(){oe(n,"placeholder","property"),oe(t,"class","user-property flex-column"),oe(a,"placeholder","value"),oe(s,"class","user-value flex-column flex-grow-3"),oe(e,"class","user-properties flex")},m(_,g){I(_,e,g),G(e,t),G(t,n),gt(n,i[9][i[31]][0]),G(e,r),G(e,s),G(s,a),gt(a,i[8][i[31]][1]),G(e,l),u||(f=[Re(n,"input",h),Re(n,"input",v),Re(a,"input",p),Re(a,"input",d)],u=!0)},p(_,g){i=_,g[0]&512&&n.value!==i[9][i[31]][0]&&gt(n,i[9][i[31]][0]),g[0]&256&&a.value!==i[8][i[31]][1]&&gt(a,i[8][i[31]][1])},d(_){_&&w(e),u=!1,Vt(f)}}}function UR(i){let e=i[4].inProgress,t,n,r,s,a,l="Artifact",u,f,h,v,p,d,_,g,b,D,B="+",S,O,y,N=lm(i),T=!i[6]&&om(i);h=new Ga({props:{isVisible:i[2]}}),p=new Ps({props:{node_id:i[3],element_id:i[0].d3f_class,input_color:"#fff4dd",$$slots:{default:[BR,({R:F,filter_value_store:q,select_item:k})=>({32:F,33:q,34:k}),({R:F,filter_value_store:q,select_item:k})=>[0,(F?2:0)|(q?4:0)|(k?8:0)]]},$$scope:{ctx:i}}});let j=i[0].user_properties&&fm(i);return{c(){N.c(),t=_e(),n=ae("div"),T&&T.c(),r=_e(),s=ae("div"),a=ae("i"),a.textContent=l,u=ae("br"),f=_e(),Xe(h.$$.fragment),v=_e(),Xe(p.$$.fragment),d=_e(),_=ae("input"),g=_e(),j&&j.c(),b=_e(),D=ae("button"),D.textContent=B,this.h()},l(F){N.l(F),t=ve(F),n=se(F,"DIV",{class:!0});var q=Ue(n);T&&T.l(q),r=ve(q),s=se(q,"DIV",{class:!0});var k=Ue(s);a=se(k,"I",{"data-svelte-h":!0}),vt(a)!=="svelte-148na2y"&&(a.textContent=l),u=se(k,"BR",{}),f=ve(k),We(h.$$.fragment,k),v=ve(k),We(p.$$.fragment,k),d=ve(k),_=se(k,"INPUT",{class:!0,type:!0,style:!0}),g=ve(k),j&&j.l(k),b=ve(k),D=se(k,"BUTTON",{"data-svelte-h":!0}),vt(D)!=="svelte-y9choq"&&(D.textContent=B),k.forEach(w),q.forEach(w),this.h()},h(){oe(_,"class","nodrag label"),oe(_,"type","text"),$t(_,"background","#fff4dd"),oe(s,"class","node-inner"),oe(n,"class","artifact node svelte-1q2d78v")},m(F,q){N.m(F,q),I(F,t,q),I(F,n,q),T&&T.m(n,null),G(n,r),G(n,s),G(s,a),G(s,u),G(s,f),Qe(h,s,null),G(s,v),Qe(p,s,null),G(s,d),G(s,_),gt(_,i[10]),G(s,g),j&&j.m(s,null),G(s,b),G(s,D),S=!0,O||(y=[Re(_,"input",i[22]),Re(_,"input",i[23]),Re(D,"click",i[11]),Re(n,"click",i[12]),Re(n,"mouseenter",i[14]),Re(n,"mouseleave",i[15])],O=!0)},p(F,q){q[0]&16&&Et(e,e=F[4].inProgress)?(It(),me(N,1,1,at),Rt(),N=lm(F),N.c(),ce(N,1),N.m(t.parentNode,t)):N.p(F,q),F[6]?T&&(It(),me(T,1,1,()=>{T=null}),Rt()):T?(T.p(F,q),q[0]&64&&ce(T,1)):(T=om(F),T.c(),ce(T,1),T.m(n,r));const k={};q[0]&4&&(k.isVisible=F[2]),h.$set(k);const L={};q[0]&8&&(L.node_id=F[3]),q[0]&1&&(L.element_id=F[0].d3f_class),q[1]&28&&(L.$$scope={dirty:q,ctx:F}),p.$set(L),q[0]&1024&&_.value!==F[10]&&gt(_,F[10]),F[0].user_properties?j?j.p(F,q):(j=fm(F),j.c(),j.m(s,b)):j&&(j.d(1),j=null)},i(F){S||(ce(N),ce(T),ce(h.$$.fragment,F),ce(p.$$.fragment,F),S=!0)},o(F){me(N),me(T),me(h.$$.fragment,F),me(p.$$.fragment,F),S=!1},d(F){F&&(w(t),w(n)),N.d(F),T&&T.d(),Ye(h),Ye(p),j&&j.d(),O=!1,Vt(y)}}}function MR(i,e,t){let n,r,s,a,l,u;yt(i,jn,z=>t(28,l=z)),yt(i,Pt,z=>t(5,u=z));var f,h,v,p;let{data:d}=e,{isConnectable:_}=e,{selected:g=void 0}=e,{id:b}=e;function D(){B(),d.user_properties.push(["",""])}function B(){for(let z=0;z<l.length;z++)l[z].data==d&&zt(Pt,u=l[z],u)}const S=ma();yt(i,S,z=>t(4,a=z));let O=!1,y=!1;function N(){t(7,y=!0)}function T(){t(7,y=!1)}function j(){return a.inProgress?"z-index: 999;":"z-index: -2; pointer-events: none;"}function F(){return y?"z-index: 2;":"visibility:hidden; pointer-events: none;"}const q=z=>{t(0,d.label=z.currentTarget.value,d),zt(Pt,u.data.label=d.label,u)};function k(){n=this.value,t(10,n),t(0,d),t(5,u),t(3,b),t(18,f)}const L=(z,ue)=>{t(0,d.user_properties[z][0]=ue.currentTarget.value,d),zt(Pt,u.data.user_properties[z][0]=ue.currentTarget.value,u)};function A(z){r[z][0]=this.value,t(9,r),t(0,d),t(5,u),t(3,b),t(19,h)}const R=(z,ue)=>{t(0,d.user_properties[z][1]=ue.currentTarget.value,d),zt(Pt,u.data.user_properties[z][1]=ue.currentTarget.value,u)};function Y(z){s[z][1]=this.value,t(8,s),t(0,d),t(5,u),t(3,b),t(20,v)}return i.$$set=z=>{"data"in z&&t(0,d=z.data),"isConnectable"in z&&t(1,_=z.isConnectable),"selected"in z&&t(2,g=z.selected),"id"in z&&t(3,b=z.id)},i.$$.update=()=>{i.$$.dirty[0]&262185&&t(10,n=(d==null?void 0:d.label)||((u==null?void 0:u.id)==b?t(18,f=u==null?void 0:u.data)===null||f===void 0?void 0:f.label:"")||"< label >"),i.$$.dirty[0]&524329&&t(9,r=(d==null?void 0:d.user_properties)||((u==null?void 0:u.id)==b?t(19,h=u==null?void 0:u.data)===null||h===void 0?void 0:h.user_properties:"")||"< Property >"),i.$$.dirty[0]&1048617&&t(8,s=(d==null?void 0:d.user_properties)||((u==null?void 0:u.id)==b?t(20,v=u==null?void 0:u.data)===null||v===void 0?void 0:v.user_properties:"")||"< Value >"),i.$$.dirty[0]&2097176&&t(6,O=(t(21,p=a.toHandle)===null||p===void 0?void 0:p.nodeId)==b)},[d,_,g,b,a,u,O,y,s,r,n,D,B,S,N,T,j,F,f,h,v,p,q,k,L,A,R,Y]}class qR extends Gt{constructor(e){super(),Xt(this,e,MR,UR,Et,{data:0,isConnectable:1,selected:2,id:3},null,[-1,-1])}}function hm(i,e,t){const n=i.slice();return n[34]=e[t],n[35]=e,n[36]=t,n}function dm(i){let e,t;return e=new Jt({props:{type:"target",class:"customHandle",position:jt.Left,id:"target",style:i[17](),isConnectableStart:!1,isConnectable:i[1]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[0]&2&&(s.isConnectable=n[1]),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function pm(i){let e=i[7],t,n,r=_m(i);return{c(){r.c(),t=He()},l(s){r.l(s),t=He()},m(s,a){r.m(s,a),I(s,t,a),n=!0},p(s,a){a[0]&128&&Et(e,e=s[7])?(It(),me(r,1,1,at),Rt(),r=_m(s),r.c(),ce(r,1),r.m(t.parentNode,t)):r.p(s,a)},i(s){n||(ce(r),n=!0)},o(s){me(r),n=!1},d(s){s&&w(t),r.d(s)}}}function _m(i){let e,t,n,r,s,a,l,u;return e=new Jt({props:{type:"source",position:jt.Top,id:"source",style:i[18](),isConnectable:i[1]}}),n=new Jt({props:{type:"source",position:jt.Left,id:"source",style:i[18](),isConnectable:i[1]}}),s=new Jt({props:{type:"source",position:jt.Right,id:"source",style:i[18](),isConnectable:i[1]}}),l=new Jt({props:{type:"source",position:jt.Bottom,id:"source",style:i[18](),isConnectable:i[1]}}),{c(){Xe(e.$$.fragment),t=_e(),Xe(n.$$.fragment),r=_e(),Xe(s.$$.fragment),a=_e(),Xe(l.$$.fragment)},l(f){We(e.$$.fragment,f),t=ve(f),We(n.$$.fragment,f),r=ve(f),We(s.$$.fragment,f),a=ve(f),We(l.$$.fragment,f)},m(f,h){Qe(e,f,h),I(f,t,h),Qe(n,f,h),I(f,r,h),Qe(s,f,h),I(f,a,h),Qe(l,f,h),u=!0},p(f,h){const v={};h[0]&2&&(v.isConnectable=f[1]),e.$set(v);const p={};h[0]&2&&(p.isConnectable=f[1]),n.$set(p);const d={};h[0]&2&&(d.isConnectable=f[1]),s.$set(d);const _={};h[0]&2&&(_.isConnectable=f[1]),l.$set(_)},i(f){u||(ce(e.$$.fragment,f),ce(n.$$.fragment,f),ce(s.$$.fragment,f),ce(l.$$.fragment,f),u=!0)},o(f){me(e.$$.fragment,f),me(n.$$.fragment,f),me(s.$$.fragment,f),me(l.$$.fragment,f),u=!1},d(f){f&&(w(t),w(r),w(a)),Ye(e,f),Ye(n,f),Ye(s,f),Ye(l,f)}}}function jR(i){let e,t;return e=new i[37].ItemTactic({props:{list:f1,filter_value_store:i[38],select_item:i[39]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[1]&128&&(s.filter_value_store=n[38]),r[1]&256&&(s.select_item=n[39]),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function vm(i){let e,t=ut(i[0].user_properties),n=[];for(let r=0;r<t.length;r+=1)n[r]=gm(hm(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=He()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=He()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&801){t=ut(r[0].user_properties);let a;for(a=0;a<t.length;a+=1){const l=hm(r,t,a);n[a]?n[a].p(l,s):(n[a]=gm(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),tr(n,r)}}}function gm(i){let e,t,n,r,s,a,l,u,f;function h(..._){return i[28](i[36],..._)}function v(){i[29].call(n,i[36])}function p(..._){return i[30](i[36],..._)}function d(){i[31].call(a,i[36])}return{c(){e=ae("div"),t=ae("div"),n=ae("input"),r=_e(),s=ae("div"),a=ae("input"),l=_e(),this.h()},l(_){e=se(_,"DIV",{class:!0});var g=Ue(e);t=se(g,"DIV",{class:!0});var b=Ue(t);n=se(b,"INPUT",{placeholder:!0}),b.forEach(w),r=ve(g),s=se(g,"DIV",{class:!0});var D=Ue(s);a=se(D,"INPUT",{placeholder:!0}),D.forEach(w),l=ve(g),g.forEach(w),this.h()},h(){oe(n,"placeholder","property"),oe(t,"class","user-property flex-column"),oe(a,"placeholder","value"),oe(s,"class","user-value flex-column flex-grow-3"),oe(e,"class","user-properties flex")},m(_,g){I(_,e,g),G(e,t),G(t,n),gt(n,i[9][i[36]][0]),G(e,r),G(e,s),G(s,a),gt(a,i[8][i[36]][1]),G(e,l),u||(f=[Re(n,"input",h),Re(n,"input",v),Re(a,"input",p),Re(a,"input",d)],u=!0)},p(_,g){i=_,g[0]&512&&n.value!==i[9][i[36]][0]&&gt(n,i[9][i[36]][0]),g[0]&256&&a.value!==i[8][i[36]][1]&&gt(a,i[8][i[36]][1])},d(_){_&&w(e),u=!1,Vt(f)}}}function xR(i){let e=i[4].inProgress,t,n,r,s,a,l,u,f="Defense Action",h,v,p,d,_,g,b,D,B,S,O,y,N,T="+",j,F,q,k=dm(i),L=!i[6]&&pm(i);a=new Ga({props:{isVisible:i[2]}}),b=new Ps({props:{node_id:i[3],element_id:i[0].d3f_class,input_color:"#d6eaff",$$slots:{default:[jR,({R,filter_value_store:Y,select_item:z})=>({37:R,38:Y,39:z}),({R,filter_value_store:Y,select_item:z})=>[0,(R?64:0)|(Y?128:0)|(z?256:0)]]},$$scope:{ctx:i}}});let A=i[0].user_properties&&vm(i);return{c(){k.c(),t=_e(),n=ae("div"),L&&L.c(),r=_e(),s=ae("div"),Xe(a.$$.fragment),l=_e(),u=ae("i"),u.textContent=f,h=_e(),v=ae("input"),p=_e(),d=ae("br"),_=_e(),g=ae("div"),Xe(b.$$.fragment),D=_e(),B=ae("div"),S=ae("input"),O=_e(),A&&A.c(),y=_e(),N=ae("button"),N.textContent=T,this.h()},l(R){k.l(R),t=ve(R),n=se(R,"DIV",{class:!0});var Y=Ue(n);L&&L.l(Y),r=ve(Y),s=se(Y,"DIV",{class:!0});var z=Ue(s);We(a.$$.fragment,z),l=ve(z),u=se(z,"I",{"data-svelte-h":!0}),vt(u)!=="svelte-1x9m2lq"&&(u.textContent=f),h=ve(z),v=se(z,"INPUT",{class:!0,type:!0,style:!0}),p=ve(z),d=se(z,"BR",{}),_=ve(z),g=se(z,"DIV",{});var ue=Ue(g);We(b.$$.fragment,ue),ue.forEach(w),D=ve(z),B=se(z,"DIV",{});var re=Ue(B);S=se(re,"INPUT",{class:!0,type:!0,style:!0}),O=ve(re),A&&A.l(re),y=ve(re),N=se(re,"BUTTON",{"data-svelte-h":!0}),vt(N)!=="svelte-y9choq"&&(N.textContent=T),re.forEach(w),z.forEach(w),Y.forEach(w),this.h()},h(){oe(v,"class","nodrag sequence"),oe(v,"type","text"),$t(v,"background","#d6eaff"),oe(S,"class","nodrag label"),oe(S,"type","text"),$t(S,"background","#d6eaff"),oe(s,"class","node-inner"),oe(n,"class","countermeasure node svelte-cdgs6j")},m(R,Y){k.m(R,Y),I(R,t,Y),I(R,n,Y),L&&L.m(n,null),G(n,r),G(n,s),Qe(a,s,null),G(s,l),G(s,u),G(s,h),G(s,v),gt(v,i[10]),G(s,p),G(s,d),G(s,_),G(s,g),Qe(b,g,null),G(s,D),G(s,B),G(B,S),gt(S,i[11]),G(B,O),A&&A.m(B,null),G(B,y),G(B,N),j=!0,F||(q=[Re(v,"input",i[24]),Re(v,"input",i[25]),Re(S,"input",i[26]),Re(S,"input",i[27]),Re(N,"click",i[12]),Re(n,"click",i[13]),Re(n,"mouseenter",i[15]),Re(n,"mouseleave",i[16])],F=!0)},p(R,Y){Y[0]&16&&Et(e,e=R[4].inProgress)?(It(),me(k,1,1,at),Rt(),k=dm(R),k.c(),ce(k,1),k.m(t.parentNode,t)):k.p(R,Y),R[6]?L&&(It(),me(L,1,1,()=>{L=null}),Rt()):L?(L.p(R,Y),Y[0]&64&&ce(L,1)):(L=pm(R),L.c(),ce(L,1),L.m(n,r));const z={};Y[0]&4&&(z.isVisible=R[2]),a.$set(z),Y[0]&1024&&v.value!==R[10]&&gt(v,R[10]);const ue={};Y[0]&8&&(ue.node_id=R[3]),Y[0]&1&&(ue.element_id=R[0].d3f_class),Y[1]&896&&(ue.$$scope={dirty:Y,ctx:R}),b.$set(ue),Y[0]&2048&&S.value!==R[11]&&gt(S,R[11]),R[0].user_properties?A?A.p(R,Y):(A=vm(R),A.c(),A.m(B,y)):A&&(A.d(1),A=null)},i(R){j||(ce(k),ce(L),ce(a.$$.fragment,R),ce(b.$$.fragment,R),j=!0)},o(R){me(k),me(L),me(a.$$.fragment,R),me(b.$$.fragment,R),j=!1},d(R){R&&(w(t),w(n)),k.d(R),L&&L.d(),Ye(a),Ye(b),A&&A.d(),F=!1,Vt(q)}}}function zR(i,e,t){let n,r,s,a,l,u,f;yt(i,jn,$=>t(32,u=$)),yt(i,Pt,$=>t(5,f=$));var h,v,p,d,_;let{data:g}=e,{isConnectable:b}=e,{selected:D=void 0}=e,{id:B}=e;function S(){O(),g.user_properties.push(["",""])}function O(){for(let $=0;$<u.length;$++)u[$].data==g&&zt(Pt,f=u[$],f)}const y=ma();yt(i,y,$=>t(4,l=$));let N=!1,T=!1;function j(){t(7,T=!0)}function F(){t(7,T=!1)}function q(){return l.inProgress?"z-index: 999;":"z-index: -2; pointer-events: none;"}function k(){return T?"z-index: 2;":"visibility:hidden; pointer-events: none;"}const L=$=>{t(0,g.sequence=$.currentTarget.value,g),zt(Pt,f.data.sequence=g.sequence,f)};function A(){r=this.value,t(10,r),t(0,g),t(5,f),t(3,B),t(20,v)}const R=$=>{t(0,g.label=$.currentTarget.value,g),zt(Pt,f.data.label=g.label,f)};function Y(){n=this.value,t(11,n),t(0,g),t(5,f),t(3,B),t(19,h)}const z=($,Q)=>{t(0,g.user_properties[$][0]=Q.currentTarget.value,g),zt(Pt,f.data.user_properties[$][0]=Q.currentTarget.value,f)};function ue($){s[$][0]=this.value,t(9,s),t(0,g),t(5,f),t(3,B),t(21,p)}const re=($,Q)=>{t(0,g.user_properties[$][1]=Q.currentTarget.value,g),zt(Pt,f.data.user_properties[$][1]=Q.currentTarget.value,f)};function ee($){a[$][1]=this.value,t(8,a),t(0,g),t(5,f),t(3,B),t(22,d)}return i.$$set=$=>{"data"in $&&t(0,g=$.data),"isConnectable"in $&&t(1,b=$.isConnectable),"selected"in $&&t(2,D=$.selected),"id"in $&&t(3,B=$.id)},i.$$.update=()=>{i.$$.dirty[0]&524329&&t(11,n=(g==null?void 0:g.label)||((f==null?void 0:f.id)==B?t(19,h=f==null?void 0:f.data)===null||h===void 0?void 0:h.label:"")||"< label >"),i.$$.dirty[0]&1048617&&t(10,r=(g==null?void 0:g.sequence)||((f==null?void 0:f.id)==B?t(20,v=f==null?void 0:f.data)===null||v===void 0?void 0:v.sequence:"")||"#"),i.$$.dirty[0]&2097193&&t(9,s=(g==null?void 0:g.user_properties)||((f==null?void 0:f.id)==B?t(21,p=f==null?void 0:f.data)===null||p===void 0?void 0:p.user_properties:"")||"< Property >"),i.$$.dirty[0]&4194345&&t(8,a=(g==null?void 0:g.user_properties)||((f==null?void 0:f.id)==B?t(22,d=f==null?void 0:f.data)===null||d===void 0?void 0:d.user_properties:"")||"< Value >"),i.$$.dirty[0]&8388632&&t(6,N=(t(23,_=l.toHandle)===null||_===void 0?void 0:_.nodeId)==B)},[g,b,D,B,l,f,N,T,a,s,r,n,S,O,y,j,F,q,k,h,v,p,d,_,L,A,R,Y,z,ue,re,ee]}class VR extends Gt{constructor(e){super(),Xt(this,e,zR,xR,Et,{data:0,isConnectable:1,selected:2,id:3},null,[-1,-1])}}function mm(i,e,t){const n=i.slice();return n[28]=e[t],n[29]=e,n[30]=t,n}function bm(i){let e,t;return e=new Jt({props:{type:"target",class:"customHandle",position:jt.Left,id:"target",style:i[15](),isConnectableStart:!1,isConnectable:i[1]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[0]&2&&(s.isConnectable=n[1]),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function wm(i){let e=i[7],t,n,r=ym(i);return{c(){r.c(),t=He()},l(s){r.l(s),t=He()},m(s,a){r.m(s,a),I(s,t,a),n=!0},p(s,a){a[0]&128&&Et(e,e=s[7])?(It(),me(r,1,1,at),Rt(),r=ym(s),r.c(),ce(r,1),r.m(t.parentNode,t)):r.p(s,a)},i(s){n||(ce(r),n=!0)},o(s){me(r),n=!1},d(s){s&&w(t),r.d(s)}}}function ym(i){let e,t,n,r,s,a,l,u;return e=new Jt({props:{type:"source",position:jt.Top,id:"source",style:i[16](),isConnectable:i[1]}}),n=new Jt({props:{type:"source",position:jt.Left,id:"source",style:i[16](),isConnectable:i[1]}}),s=new Jt({props:{type:"source",position:jt.Right,id:"source",style:i[16](),isConnectable:i[1]}}),l=new Jt({props:{type:"source",position:jt.Bottom,id:"source",style:i[16](),isConnectable:i[1]}}),{c(){Xe(e.$$.fragment),t=_e(),Xe(n.$$.fragment),r=_e(),Xe(s.$$.fragment),a=_e(),Xe(l.$$.fragment)},l(f){We(e.$$.fragment,f),t=ve(f),We(n.$$.fragment,f),r=ve(f),We(s.$$.fragment,f),a=ve(f),We(l.$$.fragment,f)},m(f,h){Qe(e,f,h),I(f,t,h),Qe(n,f,h),I(f,r,h),Qe(s,f,h),I(f,a,h),Qe(l,f,h),u=!0},p(f,h){const v={};h[0]&2&&(v.isConnectable=f[1]),e.$set(v);const p={};h[0]&2&&(p.isConnectable=f[1]),n.$set(p);const d={};h[0]&2&&(d.isConnectable=f[1]),s.$set(d);const _={};h[0]&2&&(_.isConnectable=f[1]),l.$set(_)},i(f){u||(ce(e.$$.fragment,f),ce(n.$$.fragment,f),ce(s.$$.fragment,f),ce(l.$$.fragment,f),u=!0)},o(f){me(e.$$.fragment,f),me(n.$$.fragment,f),me(s.$$.fragment,f),me(l.$$.fragment,f),u=!1},d(f){f&&(w(t),w(r),w(a)),Ye(e,f),Ye(n,f),Ye(s,f),Ye(l,f)}}}function HR(i){let e,t;return e=new i[31].ItemInformation({props:{list:v1,filter_value_store:i[32],select_item:i[33]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[1]&2&&(s.filter_value_store=n[32]),r[1]&4&&(s.select_item=n[33]),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function Em(i){let e,t=ut(i[0].user_properties),n=[];for(let r=0;r<t.length;r+=1)n[r]=Dm(mm(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=He()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=He()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&801){t=ut(r[0].user_properties);let a;for(a=0;a<t.length;a+=1){const l=mm(r,t,a);n[a]?n[a].p(l,s):(n[a]=Dm(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),tr(n,r)}}}function Dm(i){let e,t,n,r,s,a,l,u,f;function h(..._){return i[21](i[30],..._)}function v(){i[22].call(n,i[30])}function p(..._){return i[23](i[30],..._)}function d(){i[24].call(a,i[30])}return{c(){e=ae("div"),t=ae("div"),n=ae("input"),r=_e(),s=ae("div"),a=ae("input"),l=_e(),this.h()},l(_){e=se(_,"DIV",{class:!0});var g=Ue(e);t=se(g,"DIV",{class:!0});var b=Ue(t);n=se(b,"INPUT",{placeholder:!0}),b.forEach(w),r=ve(g),s=se(g,"DIV",{class:!0});var D=Ue(s);a=se(D,"INPUT",{placeholder:!0}),D.forEach(w),l=ve(g),g.forEach(w),this.h()},h(){oe(n,"placeholder","property"),oe(t,"class","user-property flex-column"),oe(a,"placeholder","value"),oe(s,"class","user-value flex-column flex-grow-3"),oe(e,"class","user-properties flex")},m(_,g){I(_,e,g),G(e,t),G(t,n),gt(n,i[9][i[30]][0]),G(e,r),G(e,s),G(s,a),gt(a,i[8][i[30]][1]),G(e,l),u||(f=[Re(n,"input",h),Re(n,"input",v),Re(a,"input",p),Re(a,"input",d)],u=!0)},p(_,g){i=_,g[0]&512&&n.value!==i[9][i[30]][0]&&gt(n,i[9][i[30]][0]),g[0]&256&&a.value!==i[8][i[30]][1]&&gt(a,i[8][i[30]][1])},d(_){_&&w(e),u=!1,Vt(f)}}}function $R(i){let e=i[4].inProgress,t,n,r,s,a,l="Information",u,f,h,v,p,d,_,g,b="+",D,B,S,O=bm(i),y=!i[6]&&wm(i);h=new Ga({props:{isVisible:i[2]}}),p=new Ps({props:{node_id:i[3],element_id:i[0].d3f_class,input_color:"#e8f4ea",$$slots:{default:[HR,({R:T,filter_value_store:j,select_item:F})=>({31:T,32:j,33:F}),({R:T,filter_value_store:j,select_item:F})=>[0,(T?1:0)|(j?2:0)|(F?4:0)]]},$$scope:{ctx:i}}});let N=i[0].user_properties&&Em(i);return{c(){O.c(),t=_e(),n=ae("div"),y&&y.c(),r=_e(),s=ae("div"),a=ae("i"),a.textContent=l,u=ae("br"),f=_e(),Xe(h.$$.fragment),v=_e(),Xe(p.$$.fragment),d=_e(),N&&N.c(),_=_e(),g=ae("button"),g.textContent=b,this.h()},l(T){O.l(T),t=ve(T),n=se(T,"DIV",{class:!0});var j=Ue(n);y&&y.l(j),r=ve(j),s=se(j,"DIV",{class:!0});var F=Ue(s);a=se(F,"I",{"data-svelte-h":!0}),vt(a)!=="svelte-1ocpiyk"&&(a.textContent=l),u=se(F,"BR",{}),f=ve(F),We(h.$$.fragment,F),v=ve(F),We(p.$$.fragment,F),d=ve(F),N&&N.l(F),_=ve(F),g=se(F,"BUTTON",{"data-svelte-h":!0}),vt(g)!=="svelte-y9choq"&&(g.textContent=b),F.forEach(w),j.forEach(w),this.h()},h(){oe(s,"class","information node-inner svelte-1wgy9qw"),oe(n,"class","information node svelte-1wgy9qw")},m(T,j){O.m(T,j),I(T,t,j),I(T,n,j),y&&y.m(n,null),G(n,r),G(n,s),G(s,a),G(s,u),G(s,f),Qe(h,s,null),G(s,v),Qe(p,s,null),G(s,d),N&&N.m(s,null),G(s,_),G(s,g),D=!0,B||(S=[Re(g,"click",i[10]),Re(n,"click",i[11]),Re(n,"mouseenter",i[13]),Re(n,"mouseleave",i[14])],B=!0)},p(T,j){j[0]&16&&Et(e,e=T[4].inProgress)?(It(),me(O,1,1,at),Rt(),O=bm(T),O.c(),ce(O,1),O.m(t.parentNode,t)):O.p(T,j),T[6]?y&&(It(),me(y,1,1,()=>{y=null}),Rt()):y?(y.p(T,j),j[0]&64&&ce(y,1)):(y=wm(T),y.c(),ce(y,1),y.m(n,r));const F={};j[0]&4&&(F.isVisible=T[2]),h.$set(F);const q={};j[0]&8&&(q.node_id=T[3]),j[0]&1&&(q.element_id=T[0].d3f_class),j[1]&14&&(q.$$scope={dirty:j,ctx:T}),p.$set(q),T[0].user_properties?N?N.p(T,j):(N=Em(T),N.c(),N.m(s,_)):N&&(N.d(1),N=null)},i(T){D||(ce(O),ce(y),ce(h.$$.fragment,T),ce(p.$$.fragment,T),D=!0)},o(T){me(O),me(y),me(h.$$.fragment,T),me(p.$$.fragment,T),D=!1},d(T){T&&(w(t),w(n)),O.d(T),y&&y.d(),Ye(h),Ye(p),N&&N.d(),B=!1,Vt(S)}}}function GR(i,e,t){let n,r,s,a,l;yt(i,jn,A=>t(26,a=A)),yt(i,Pt,A=>t(5,l=A));var u,f,h,v;let{data:p}=e,{isConnectable:d}=e,{selected:_=void 0}=e;function g(){b(),p.user_properties.push(["",""])}function b(){for(let A=0;A<a.length;A++)a[A].data==p&&zt(Pt,l=a[A],l)}let{id:D}=e;const B=ma();yt(i,B,A=>t(4,s=A));let S=!1,O=!1;function y(){t(7,O=!0)}function N(){t(7,O=!1)}function T(){return s.inProgress?"z-index: 999;":"z-index: -2; pointer-events: none;"}function j(){return O?"z-index: 2;":"visibility:hidden; pointer-events: none;"}const F=(A,R)=>{t(0,p.user_properties[A][0]=R.currentTarget.value,p),zt(Pt,l.data.user_properties[A][0]=R.currentTarget.value,l)};function q(A){n[A][0]=this.value,t(9,n),t(0,p),t(5,l),t(3,D),t(18,f)}const k=(A,R)=>{t(0,p.user_properties[A][1]=R.currentTarget.value,p),zt(Pt,l.data.user_properties[A][1]=R.currentTarget.value,l)};function L(A){r[A][1]=this.value,t(8,r),t(0,p),t(5,l),t(3,D),t(19,h)}return i.$$set=A=>{"data"in A&&t(0,p=A.data),"isConnectable"in A&&t(1,d=A.isConnectable),"selected"in A&&t(2,_=A.selected),"id"in A&&t(3,D=A.id)},i.$$.update=()=>{i.$$.dirty[0]&131113&&(p!=null&&p.label||(l==null?void 0:l.id)==D&&!(t(17,u=l==null?void 0:l.data)===null||u===void 0)&&u.label),i.$$.dirty[0]&262185&&t(9,n=(p==null?void 0:p.user_properties)||((l==null?void 0:l.id)==D?t(18,f=l==null?void 0:l.data)===null||f===void 0?void 0:f.user_properties:"")||"< Property >"),i.$$.dirty[0]&524329&&t(8,r=(p==null?void 0:p.user_properties)||((l==null?void 0:l.id)==D?t(19,h=l==null?void 0:l.data)===null||h===void 0?void 0:h.user_properties:"")||"< Value >"),i.$$.dirty[0]&1048600&&t(6,S=(t(20,v=s.toHandle)===null||v===void 0?void 0:v.nodeId)==D)},[p,d,_,D,s,l,S,O,r,n,g,b,B,y,N,T,j,u,f,h,v,F,q,k,L]}class XR extends Gt{constructor(e){super(),Xt(this,e,GR,$R,Et,{data:0,isConnectable:1,selected:2,id:3},null,[-1,-1])}}function Am(i,e,t){const n=i.slice();return n[30]=e[t],n[31]=e,n[32]=t,n}function km(i){let e,t;return e=new Jt({props:{type:"target",class:"customHandle",position:jt.Left,id:"target",style:i[13](),isConnectableStart:!1,isConnectable:i[1]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[0]&2&&(s.isConnectable=n[1]),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function Cm(i){let e=i[6],t,n,r=Tm(i);return{c(){r.c(),t=He()},l(s){r.l(s),t=He()},m(s,a){r.m(s,a),I(s,t,a),n=!0},p(s,a){a[0]&64&&Et(e,e=s[6])?(It(),me(r,1,1,at),Rt(),r=Tm(s),r.c(),ce(r,1),r.m(t.parentNode,t)):r.p(s,a)},i(s){n||(ce(r),n=!0)},o(s){me(r),n=!1},d(s){s&&w(t),r.d(s)}}}function Tm(i){let e,t,n,r,s,a,l,u;return e=new Jt({props:{type:"source",position:jt.Top,id:"source",style:i[14](),isConnectable:i[1]}}),n=new Jt({props:{type:"source",position:jt.Left,id:"source",style:i[14](),isConnectable:i[1]}}),s=new Jt({props:{type:"source",position:jt.Right,id:"source",style:i[14](),isConnectable:i[1]}}),l=new Jt({props:{type:"source",position:jt.Bottom,id:"source",style:i[14](),isConnectable:i[1]}}),{c(){Xe(e.$$.fragment),t=_e(),Xe(n.$$.fragment),r=_e(),Xe(s.$$.fragment),a=_e(),Xe(l.$$.fragment)},l(f){We(e.$$.fragment,f),t=ve(f),We(n.$$.fragment,f),r=ve(f),We(s.$$.fragment,f),a=ve(f),We(l.$$.fragment,f)},m(f,h){Qe(e,f,h),I(f,t,h),Qe(n,f,h),I(f,r,h),Qe(s,f,h),I(f,a,h),Qe(l,f,h),u=!0},p(f,h){const v={};h[0]&2&&(v.isConnectable=f[1]),e.$set(v);const p={};h[0]&2&&(p.isConnectable=f[1]),n.$set(p);const d={};h[0]&2&&(d.isConnectable=f[1]),s.$set(d);const _={};h[0]&2&&(_.isConnectable=f[1]),l.$set(_)},i(f){u||(ce(e.$$.fragment,f),ce(n.$$.fragment,f),ce(s.$$.fragment,f),ce(l.$$.fragment,f),u=!0)},o(f){me(e.$$.fragment,f),me(n.$$.fragment,f),me(s.$$.fragment,f),me(l.$$.fragment,f),u=!1},d(f){f&&(w(t),w(r),w(a)),Ye(e,f),Ye(n,f),Ye(s,f),Ye(l,f)}}}function Nm(i){let e,t=ut(i[0].user_properties),n=[];for(let r=0;r<t.length;r+=1)n[r]=Sm(Am(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=He()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=He()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&393){t=ut(r[0].user_properties);let a;for(a=0;a<t.length;a+=1){const l=Am(r,t,a);n[a]?n[a].p(l,s):(n[a]=Sm(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),tr(n,r)}}}function Sm(i){let e,t,n,r,s,a,l,u,f;function h(..._){return i[24](i[32],..._)}function v(){i[25].call(n,i[32])}function p(..._){return i[26](i[32],..._)}function d(){i[27].call(a,i[32])}return{c(){e=ae("div"),t=ae("div"),n=ae("input"),r=_e(),s=ae("div"),a=ae("input"),l=_e(),this.h()},l(_){e=se(_,"DIV",{class:!0});var g=Ue(e);t=se(g,"DIV",{class:!0});var b=Ue(t);n=se(b,"INPUT",{placeholder:!0}),b.forEach(w),r=ve(g),s=se(g,"DIV",{class:!0});var D=Ue(s);a=se(D,"INPUT",{placeholder:!0}),D.forEach(w),l=ve(g),g.forEach(w),this.h()},h(){oe(n,"placeholder","property"),oe(t,"class","user-property flex-column"),oe(a,"placeholder","value"),oe(s,"class","user-value flex-column flex-grow-3"),oe(e,"class","user-properties flex")},m(_,g){I(_,e,g),G(e,t),G(t,n),gt(n,i[8][i[32]][0]),G(e,r),G(e,s),G(s,a),gt(a,i[7][i[32]][1]),G(e,l),u||(f=[Re(n,"input",h),Re(n,"input",v),Re(a,"input",p),Re(a,"input",d)],u=!0)},p(_,g){i=_,g[0]&256&&n.value!==i[8][i[32]][0]&&gt(n,i[8][i[32]][0]),g[0]&128&&a.value!==i[7][i[32]][1]&&gt(a,i[7][i[32]][1])},d(_){_&&w(e),u=!1,Vt(f)}}}function WR(i){let e=i[4].inProgress,t,n,r,s,a,l,u,f="Condition",h,v,p,d,_,g,b="+",D,B,S,O=km(i),y=!i[5]&&Cm(i);a=new Ga({props:{isVisible:i[2]}});let N=i[0].user_properties&&Nm(i);return{c(){O.c(),t=_e(),n=ae("div"),y&&y.c(),r=_e(),s=ae("div"),Xe(a.$$.fragment),l=_e(),u=ae("i"),u.textContent=f,h=ae("br"),v=_e(),p=ae("input"),d=_e(),N&&N.c(),_=_e(),g=ae("button"),g.textContent=b,this.h()},l(T){O.l(T),t=ve(T),n=se(T,"DIV",{class:!0});var j=Ue(n);y&&y.l(j),r=ve(j),s=se(j,"DIV",{class:!0});var F=Ue(s);We(a.$$.fragment,F),l=ve(F),u=se(F,"I",{"data-svelte-h":!0}),vt(u)!=="svelte-26somz"&&(u.textContent=f),h=se(F,"BR",{}),v=ve(F),p=se(F,"INPUT",{class:!0,type:!0,style:!0}),d=ve(F),N&&N.l(F),_=ve(F),g=se(F,"BUTTON",{"data-svelte-h":!0}),vt(g)!=="svelte-y9choq"&&(g.textContent=b),F.forEach(w),j.forEach(w),this.h()},h(){oe(p,"class","nodrag label"),oe(p,"type","text"),$t(p,"background","#ece6ff"),oe(s,"class","condition node-inner svelte-d75hej"),oe(n,"class","condition node svelte-d75hej")},m(T,j){O.m(T,j),I(T,t,j),I(T,n,j),y&&y.m(n,null),G(n,r),G(n,s),Qe(a,s,null),G(s,l),G(s,u),G(s,h),G(s,v),G(s,p),gt(p,i[9]),G(s,d),N&&N.m(s,null),G(s,_),G(s,g),D=!0,B||(S=[Re(p,"input",i[22]),Re(p,"input",i[23]),Re(g,"click",i[15]),Re(n,"click",i[16]),Re(n,"mouseenter",i[11]),Re(n,"mouseleave",i[12])],B=!0)},p(T,j){j[0]&16&&Et(e,e=T[4].inProgress)?(It(),me(O,1,1,at),Rt(),O=km(T),O.c(),ce(O,1),O.m(t.parentNode,t)):O.p(T,j),T[5]?y&&(It(),me(y,1,1,()=>{y=null}),Rt()):y?(y.p(T,j),j[0]&32&&ce(y,1)):(y=Cm(T),y.c(),ce(y,1),y.m(n,r));const F={};j[0]&4&&(F.isVisible=T[2]),a.$set(F),j[0]&512&&p.value!==T[9]&&gt(p,T[9]),T[0].user_properties?N?N.p(T,j):(N=Nm(T),N.c(),N.m(s,_)):N&&(N.d(1),N=null)},i(T){D||(ce(O),ce(y),ce(a.$$.fragment,T),D=!0)},o(T){me(O),me(y),me(a.$$.fragment,T),D=!1},d(T){T&&(w(t),w(n)),O.d(T),y&&y.d(),Ye(a),N&&N.d(),B=!1,Vt(S)}}}function QR(i,e,t){let n,r,s,a,l,u;yt(i,jn,z=>t(28,a=z)),yt(i,Pt,z=>t(3,l=z));var f,h,v,p;let{data:d}=e,{isConnectable:_}=e,{selected:g=void 0}=e,{id:b}=e;const D=ma();yt(i,D,z=>t(4,u=z));let B=!1,S=!1;function O(){t(6,S=!0)}function y(){t(6,S=!1)}function N(){return u.inProgress?"z-index: 999;":"z-index: -2; pointer-events: none;"}function T(){return S?"z-index: 2;":"visibility:hidden; pointer-events: none;"}function j(){F(),d.user_properties.push(["",""])}function F(){for(let z=0;z<a.length;z++)a[z].data==d&&zt(Pt,l=a[z],l)}const q=z=>{t(0,d.label=z.currentTarget.value,d),zt(Pt,l.data.label=d.label,l)};function k(){n=this.value,t(9,n),t(0,d),t(3,l),t(17,b),t(19,h)}const L=(z,ue)=>{t(0,d.user_properties[z][0]=ue.currentTarget.value,d),zt(Pt,l.data.user_properties[z][0]=ue.currentTarget.value,l)};function A(z){r[z][0]=this.value,t(8,r),t(0,d),t(3,l),t(17,b),t(20,v)}const R=(z,ue)=>{t(0,d.user_properties[z][1]=ue.currentTarget.value,d),zt(Pt,l.data.user_properties[z][1]=ue.currentTarget.value,l)};function Y(z){s[z][1]=this.value,t(7,s),t(0,d),t(3,l),t(17,b),t(21,p)}return i.$$set=z=>{"data"in z&&t(0,d=z.data),"isConnectable"in z&&t(1,_=z.isConnectable),"selected"in z&&t(2,g=z.selected),"id"in z&&t(17,b=z.id)},i.$$.update=()=>{i.$$.dirty[0]&393232&&t(5,B=(t(18,f=u.toHandle)===null||f===void 0?void 0:f.nodeId)==b),i.$$.dirty[0]&655369&&t(9,n=(d==null?void 0:d.label)||((l==null?void 0:l.id)==b?t(19,h=l==null?void 0:l.data)===null||h===void 0?void 0:h.label:"")||"< label >"),i.$$.dirty[0]&1179657&&t(8,r=(d==null?void 0:d.user_properties)||((l==null?void 0:l.id)==b?t(20,v=l==null?void 0:l.data)===null||v===void 0?void 0:v.user_properties:"")||"< Property >"),i.$$.dirty[0]&2228233&&t(7,s=(d==null?void 0:d.user_properties)||((l==null?void 0:l.id)==b?t(21,p=l==null?void 0:l.data)===null||p===void 0?void 0:p.user_properties:"")||"< Value >")},[d,_,g,l,u,B,S,s,r,n,D,O,y,N,T,j,F,b,f,h,v,p,q,k,L,A,R,Y]}class YR extends Gt{constructor(e){super(),Xt(this,e,QR,WR,Et,{data:0,isConnectable:1,selected:2,id:17},null,[-1,-1])}}function Im(i,e,t){const n=i.slice();return n[30]=e[t],n[31]=e,n[32]=t,n}function Rm(i){let e,t;return e=new Jt({props:{type:"target",class:"customHandle",position:jt.Left,id:"target",style:i[15](),isConnectableStart:!1,isConnectable:i[1]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[0]&2&&(s.isConnectable=n[1]),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function Pm(i){let e=i[6],t,n,r=Fm(i);return{c(){r.c(),t=He()},l(s){r.l(s),t=He()},m(s,a){r.m(s,a),I(s,t,a),n=!0},p(s,a){a[0]&64&&Et(e,e=s[6])?(It(),me(r,1,1,at),Rt(),r=Fm(s),r.c(),ce(r,1),r.m(t.parentNode,t)):r.p(s,a)},i(s){n||(ce(r),n=!0)},o(s){me(r),n=!1},d(s){s&&w(t),r.d(s)}}}function Fm(i){let e,t,n,r,s,a,l,u;return e=new Jt({props:{type:"source",position:jt.Top,id:"source",style:i[16](),isConnectable:i[1]}}),n=new Jt({props:{type:"source",position:jt.Left,id:"source",style:i[16](),isConnectable:i[1]}}),s=new Jt({props:{type:"source",position:jt.Right,id:"source",style:i[16](),isConnectable:i[1]}}),l=new Jt({props:{type:"source",position:jt.Bottom,id:"source",style:i[16](),isConnectable:i[1]}}),{c(){Xe(e.$$.fragment),t=_e(),Xe(n.$$.fragment),r=_e(),Xe(s.$$.fragment),a=_e(),Xe(l.$$.fragment)},l(f){We(e.$$.fragment,f),t=ve(f),We(n.$$.fragment,f),r=ve(f),We(s.$$.fragment,f),a=ve(f),We(l.$$.fragment,f)},m(f,h){Qe(e,f,h),I(f,t,h),Qe(n,f,h),I(f,r,h),Qe(s,f,h),I(f,a,h),Qe(l,f,h),u=!0},p(f,h){const v={};h[0]&2&&(v.isConnectable=f[1]),e.$set(v);const p={};h[0]&2&&(p.isConnectable=f[1]),n.$set(p);const d={};h[0]&2&&(d.isConnectable=f[1]),s.$set(d);const _={};h[0]&2&&(_.isConnectable=f[1]),l.$set(_)},i(f){u||(ce(e.$$.fragment,f),ce(n.$$.fragment,f),ce(s.$$.fragment,f),ce(l.$$.fragment,f),u=!0)},o(f){me(e.$$.fragment,f),me(n.$$.fragment,f),me(s.$$.fragment,f),me(l.$$.fragment,f),u=!1},d(f){f&&(w(t),w(r),w(a)),Ye(e,f),Ye(n,f),Ye(s,f),Ye(l,f)}}}function Om(i){let e,t=ut(i[0].user_properties),n=[];for(let r=0;r<t.length;r+=1)n[r]=Lm(Im(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=He()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=He()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&401){t=ut(r[0].user_properties);let a;for(a=0;a<t.length;a+=1){const l=Im(r,t,a);n[a]?n[a].p(l,s):(n[a]=Lm(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),tr(n,r)}}}function Lm(i){let e,t,n,r,s,a,l,u,f;function h(..._){return i[24](i[32],..._)}function v(){i[25].call(n,i[32])}function p(..._){return i[26](i[32],..._)}function d(){i[27].call(a,i[32])}return{c(){e=ae("div"),t=ae("div"),n=ae("input"),r=_e(),s=ae("div"),a=ae("input"),l=_e(),this.h()},l(_){e=se(_,"DIV",{class:!0});var g=Ue(e);t=se(g,"DIV",{class:!0});var b=Ue(t);n=se(b,"INPUT",{placeholder:!0}),b.forEach(w),r=ve(g),s=se(g,"DIV",{class:!0});var D=Ue(s);a=se(D,"INPUT",{placeholder:!0}),D.forEach(w),l=ve(g),g.forEach(w),this.h()},h(){oe(n,"placeholder","property"),oe(t,"class","user-property flex-column"),oe(a,"placeholder","value"),oe(s,"class","user-value flex-column flex-grow-3"),oe(e,"class","user-properties flex")},m(_,g){I(_,e,g),G(e,t),G(t,n),gt(n,i[8][i[32]][0]),G(e,r),G(e,s),G(s,a),gt(a,i[7][i[32]][1]),G(e,l),u||(f=[Re(n,"input",h),Re(n,"input",v),Re(a,"input",p),Re(a,"input",d)],u=!0)},p(_,g){i=_,g[0]&256&&n.value!==i[8][i[32]][0]&&gt(n,i[8][i[32]][0]),g[0]&128&&a.value!==i[7][i[32]][1]&&gt(a,i[7][i[32]][1])},d(_){_&&w(e),u=!1,Vt(f)}}}function KR(i){let e=i[3].inProgress,t,n,r,s,a,l="Agent",u,f,h,v,p,d,_,g,b,D="+",B,S,O,y=Rm(i),N=!i[5]&&Pm(i);h=new Ga({props:{isVisible:i[2]}});let T=i[0].user_properties&&Om(i);return{c(){y.c(),t=_e(),n=ae("div"),N&&N.c(),r=_e(),s=ae("div"),a=ae("i"),a.textContent=l,u=ae("br"),f=_e(),Xe(h.$$.fragment),v=_e(),p=ae("input"),d=ae("br"),_=_e(),T&&T.c(),g=_e(),b=ae("button"),b.textContent=D,this.h()},l(j){y.l(j),t=ve(j),n=se(j,"DIV",{class:!0});var F=Ue(n);N&&N.l(F),r=ve(F),s=se(F,"DIV",{class:!0});var q=Ue(s);a=se(q,"I",{"data-svelte-h":!0}),vt(a)!=="svelte-13s1fb"&&(a.textContent=l),u=se(q,"BR",{}),f=ve(q),We(h.$$.fragment,q),v=ve(q),p=se(q,"INPUT",{class:!0,type:!0,style:!0}),d=se(q,"BR",{}),_=ve(q),T&&T.l(q),g=ve(q),b=se(q,"BUTTON",{"data-svelte-h":!0}),vt(b)!=="svelte-y9choq"&&(b.textContent=D),q.forEach(w),F.forEach(w),this.h()},h(){oe(p,"class","nodrag label"),oe(p,"type","text"),$t(p,"background","#f0e6e6"),oe(s,"class","agent-inner node-inner"),oe(n,"class","agent node svelte-n06ybh")},m(j,F){y.m(j,F),I(j,t,F),I(j,n,F),N&&N.m(n,null),G(n,r),G(n,s),G(s,a),G(s,u),G(s,f),Qe(h,s,null),G(s,v),G(s,p),gt(p,i[9]),G(s,d),G(s,_),T&&T.m(s,null),G(s,g),G(s,b),B=!0,S||(O=[Re(p,"input",i[22]),Re(p,"input",i[23]),Re(b,"click",i[10]),Re(n,"click",i[11]),Re(n,"mouseenter",i[13]),Re(n,"mouseleave",i[14])],S=!0)},p(j,F){F[0]&8&&Et(e,e=j[3].inProgress)?(It(),me(y,1,1,at),Rt(),y=Rm(j),y.c(),ce(y,1),y.m(t.parentNode,t)):y.p(j,F),j[5]?N&&(It(),me(N,1,1,()=>{N=null}),Rt()):N?(N.p(j,F),F[0]&32&&ce(N,1)):(N=Pm(j),N.c(),ce(N,1),N.m(n,r));const q={};F[0]&4&&(q.isVisible=j[2]),h.$set(q),F[0]&512&&p.value!==j[9]&&gt(p,j[9]),j[0].user_properties?T?T.p(j,F):(T=Om(j),T.c(),T.m(s,g)):T&&(T.d(1),T=null)},i(j){B||(ce(y),ce(N),ce(h.$$.fragment,j),B=!0)},o(j){me(y),me(N),me(h.$$.fragment,j),B=!1},d(j){j&&(w(t),w(n)),y.d(j),N&&N.d(),Ye(h),T&&T.d(),S=!1,Vt(O)}}}function JR(i,e,t){let n,r,s,a,l,u;yt(i,jn,z=>t(28,l=z)),yt(i,Pt,z=>t(4,u=z));var f,h,v,p;let{data:d}=e,{isConnectable:_}=e,{selected:g=void 0}=e,{id:b}=e;function D(){B(),d.user_properties.push(["",""])}function B(){for(let z=0;z<l.length;z++)l[z].data==d&&zt(Pt,u=l[z],u)}const S=ma();yt(i,S,z=>t(3,a=z));let O=!1,y=!1;function N(){t(6,y=!0)}function T(){t(6,y=!1)}function j(){return a.inProgress?"z-index: 999;":"z-index: -2; pointer-events: none;"}function F(){return y?"z-index: 2;":"visibility:hidden; pointer-events: none;"}const q=z=>{t(0,d.label=z.currentTarget.value,d),zt(Pt,u.data.label=d.label,u)};function k(){n=this.value,t(9,n),t(0,d),t(4,u),t(17,b),t(18,f)}const L=(z,ue)=>{t(0,d.user_properties[z][0]=ue.currentTarget.value,d),zt(Pt,u.data.user_properties[z][0]=ue.currentTarget.value,u)};function A(z){r[z][0]=this.value,t(8,r),t(0,d),t(4,u),t(17,b),t(19,h)}const R=(z,ue)=>{t(0,d.user_properties[z][1]=ue.currentTarget.value,d),zt(Pt,u.data.user_properties[z][1]=ue.currentTarget.value,u)};function Y(z){s[z][1]=this.value,t(7,s),t(0,d),t(4,u),t(17,b),t(20,v)}return i.$$set=z=>{"data"in z&&t(0,d=z.data),"isConnectable"in z&&t(1,_=z.isConnectable),"selected"in z&&t(2,g=z.selected),"id"in z&&t(17,b=z.id)},i.$$.update=()=>{i.$$.dirty[0]&393233&&t(9,n=(d==null?void 0:d.label)||((u==null?void 0:u.id)==b?t(18,f=u==null?void 0:u.data)===null||f===void 0?void 0:f.label:"")||"< label >"),i.$$.dirty[0]&655377&&t(8,r=(d==null?void 0:d.user_properties)||((u==null?void 0:u.id)==b?t(19,h=u==null?void 0:u.data)===null||h===void 0?void 0:h.user_properties:"")||"< Property >"),i.$$.dirty[0]&1179665&&t(7,s=(d==null?void 0:d.user_properties)||((u==null?void 0:u.id)==b?t(20,v=u==null?void 0:u.data)===null||v===void 0?void 0:v.user_properties:"")||"< Value >"),i.$$.dirty[0]&2228232&&t(5,O=(t(21,p=a.toHandle)===null||p===void 0?void 0:p.nodeId)==b)},[d,_,g,a,u,O,y,s,r,n,D,B,S,N,T,j,F,b,f,h,v,p,q,k,L,A,R,Y]}class ZR extends Gt{constructor(e){super(),Xt(this,e,JR,KR,Et,{data:0,isConnectable:1,selected:2,id:17},null,[-1,-1])}}function Bm(i,e,t){const n=i.slice();return n[31]=e[t],n[32]=e,n[33]=t,n}function Um(i){let e,t;return e=new Jt({props:{type:"target",class:"customHandle",position:jt.Left,id:"target",style:i[17](),isConnectableStart:!1,isConnectable:i[1]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[0]&2&&(s.isConnectable=n[1]),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function Mm(i){let e=i[8],t,n,r=qm(i);return{c(){r.c(),t=He()},l(s){r.l(s),t=He()},m(s,a){r.m(s,a),I(s,t,a),n=!0},p(s,a){a[0]&256&&Et(e,e=s[8])?(It(),me(r,1,1,at),Rt(),r=qm(s),r.c(),ce(r,1),r.m(t.parentNode,t)):r.p(s,a)},i(s){n||(ce(r),n=!0)},o(s){me(r),n=!1},d(s){s&&w(t),r.d(s)}}}function qm(i){let e,t,n,r,s,a,l,u;return e=new Jt({props:{type:"source",position:jt.Top,id:"source",style:i[18](),isConnectable:i[1]}}),n=new Jt({props:{type:"source",position:jt.Left,id:"source",style:i[18](),isConnectable:i[1]}}),s=new Jt({props:{type:"source",position:jt.Right,id:"source",style:i[18](),isConnectable:i[1]}}),l=new Jt({props:{type:"source",position:jt.Bottom,id:"source",style:i[18](),isConnectable:i[1]}}),{c(){Xe(e.$$.fragment),t=_e(),Xe(n.$$.fragment),r=_e(),Xe(s.$$.fragment),a=_e(),Xe(l.$$.fragment)},l(f){We(e.$$.fragment,f),t=ve(f),We(n.$$.fragment,f),r=ve(f),We(s.$$.fragment,f),a=ve(f),We(l.$$.fragment,f)},m(f,h){Qe(e,f,h),I(f,t,h),Qe(n,f,h),I(f,r,h),Qe(s,f,h),I(f,a,h),Qe(l,f,h),u=!0},p(f,h){const v={};h[0]&2&&(v.isConnectable=f[1]),e.$set(v);const p={};h[0]&2&&(p.isConnectable=f[1]),n.$set(p);const d={};h[0]&2&&(d.isConnectable=f[1]),s.$set(d);const _={};h[0]&2&&(_.isConnectable=f[1]),l.$set(_)},i(f){u||(ce(e.$$.fragment,f),ce(n.$$.fragment,f),ce(s.$$.fragment,f),ce(l.$$.fragment,f),u=!0)},o(f){me(e.$$.fragment,f),me(n.$$.fragment,f),me(s.$$.fragment,f),me(l.$$.fragment,f),u=!1},d(f){f&&(w(t),w(r),w(a)),Ye(e,f),Ye(n,f),Ye(s,f),Ye(l,f)}}}function eP(i){let e,t;return e=new i[34].ItemTactic({props:{list:d1,filter_value_store:i[35],select_item:i[36]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[1]&16&&(s.filter_value_store=n[35]),r[1]&32&&(s.select_item=n[36]),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function jm(i){let e,t=ut(i[0].user_properties),n=[];for(let r=0;r<t.length;r+=1)n[r]=xm(Bm(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=He()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=He()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);I(r,e,s)},p(r,s){if(s[0]&1601){t=ut(r[0].user_properties);let a;for(a=0;a<t.length;a+=1){const l=Bm(r,t,a);n[a]?n[a].p(l,s):(n[a]=xm(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),tr(n,r)}}}function xm(i){let e,t,n,r,s,a,l,u,f;function h(..._){return i[26](i[33],..._)}function v(){i[27].call(n,i[33])}function p(..._){return i[28](i[33],..._)}function d(){i[29].call(a,i[33])}return{c(){e=ae("div"),t=ae("div"),n=ae("input"),r=_e(),s=ae("div"),a=ae("input"),l=_e(),this.h()},l(_){e=se(_,"DIV",{class:!0});var g=Ue(e);t=se(g,"DIV",{class:!0});var b=Ue(t);n=se(b,"INPUT",{placeholder:!0}),b.forEach(w),r=ve(g),s=se(g,"DIV",{class:!0});var D=Ue(s);a=se(D,"INPUT",{placeholder:!0}),D.forEach(w),l=ve(g),g.forEach(w),this.h()},h(){oe(n,"placeholder","property"),oe(t,"class","user-property flex-column"),oe(a,"placeholder","value"),oe(s,"class","user-value flex-column flex-grow-3"),oe(e,"class","user-properties flex")},m(_,g){I(_,e,g),G(e,t),G(t,n),gt(n,i[10][i[33]][0]),G(e,r),G(e,s),G(s,a),gt(a,i[9][i[33]][1]),G(e,l),u||(f=[Re(n,"input",h),Re(n,"input",v),Re(a,"input",p),Re(a,"input",d)],u=!0)},p(_,g){i=_,g[0]&1024&&n.value!==i[10][i[33]][0]&&gt(n,i[10][i[33]][0]),g[0]&512&&a.value!==i[9][i[33]][1]&&gt(a,i[9][i[33]][1])},d(_){_&&w(e),u=!1,Vt(f)}}}function tP(i){let e=i[5].inProgress,t,n,r,s,a,l,u,f,h,v,p,d,_,g,b,D,B,S,O="+",y,N,T,j=Um(i),F=!i[7]&&Mm(i);a=new Ga({props:{isVisible:i[4]}}),_=new Ps({props:{node_id:i[2],element_id:i[0].d3f_class,input_color:"white",$$slots:{default:[eP,({R:k,filter_value_store:L,select_item:A})=>({34:k,35:L,36:A}),({R:k,filter_value_store:L,select_item:A})=>[0,(k?8:0)|(L?16:0)|(A?32:0)]]},$$scope:{ctx:i}}});let q=i[0].user_properties&&jm(i);return{c(){j.c(),t=_e(),n=ae("div"),F&&F.c(),r=_e(),s=ae("div"),Xe(a.$$.fragment),l=_e(),u=ae("i"),f=V(i[3]),h=ae("br"),v=_e(),p=ae("br"),d=_e(),Xe(_.$$.fragment),g=_e(),b=ae("input"),D=_e(),q&&q.c(),B=_e(),S=ae("button"),S.textContent=O,this.h()},l(k){j.l(k),t=ve(k),n=se(k,"DIV",{class:!0});var L=Ue(n);F&&F.l(L),r=ve(L),s=se(L,"DIV",{class:!0});var A=Ue(s);We(a.$$.fragment,A),l=ve(A),u=se(A,"I",{});var R=Ue(u);f=H(R,i[3]),R.forEach(w),h=se(A,"BR",{}),v=ve(A),p=se(A,"BR",{}),d=ve(A),We(_.$$.fragment,A),g=ve(A),b=se(A,"INPUT",{class:!0,type:!0,style:!0}),D=ve(A),q&&q.l(A),B=ve(A),S=se(A,"BUTTON",{"data-svelte-h":!0}),vt(S)!=="svelte-y9choq"&&(S.textContent=O),A.forEach(w),L.forEach(w),this.h()},h(){oe(b,"class","nodrag label"),oe(b,"type","text"),$t(b,"background","white"),oe(s,"class","event node-inner svelte-r7gabh"),oe(n,"class","event node svelte-r7gabh")},m(k,L){j.m(k,L),I(k,t,L),I(k,n,L),F&&F.m(n,null),G(n,r),G(n,s),Qe(a,s,null),G(s,l),G(s,u),G(u,f),G(s,h),G(s,v),G(s,p),G(s,d),Qe(_,s,null),G(s,g),G(s,b),gt(b,i[11]),G(s,D),q&&q.m(s,null),G(s,B),G(s,S),y=!0,N||(T=[Re(b,"input",i[24]),Re(b,"input",i[25]),Re(S,"click",i[12]),Re(n,"click",i[13]),Re(n,"mouseenter",i[15]),Re(n,"mouseleave",i[16])],N=!0)},p(k,L){L[0]&32&&Et(e,e=k[5].inProgress)?(It(),me(j,1,1,at),Rt(),j=Um(k),j.c(),ce(j,1),j.m(t.parentNode,t)):j.p(k,L),k[7]?F&&(It(),me(F,1,1,()=>{F=null}),Rt()):F?(F.p(k,L),L[0]&128&&ce(F,1)):(F=Mm(k),F.c(),ce(F,1),F.m(n,r));const A={};L[0]&16&&(A.isVisible=k[4]),a.$set(A),(!y||L[0]&8)&&Se(f,k[3]);const R={};L[0]&4&&(R.node_id=k[2]),L[0]&1&&(R.element_id=k[0].d3f_class),L[1]&112&&(R.$$scope={dirty:L,ctx:k}),_.$set(R),L[0]&2048&&b.value!==k[11]&&gt(b,k[11]),k[0].user_properties?q?q.p(k,L):(q=jm(k),q.c(),q.m(s,B)):q&&(q.d(1),q=null)},i(k){y||(ce(j),ce(F),ce(a.$$.fragment,k),ce(_.$$.fragment,k),y=!0)},o(k){me(j),me(F),me(a.$$.fragment,k),me(_.$$.fragment,k),y=!1},d(k){k&&(w(t),w(n)),j.d(k),F&&F.d(),Ye(a),Ye(_),q&&q.d(),N=!1,Vt(T)}}}function rP(i,e,t){let n,r,s,a,l,u;yt(i,jn,re=>t(30,l=re)),yt(i,Pt,re=>t(6,u=re));var f,h,v,p;let{data:d}=e,{isConnectable:_}=e,{id:g}=e,{nodeType:b="EventNode"}=e,{nodeTypeLabel:D="Event"}=e,{selected:B=void 0}=e;function S(){O(),d.user_properties.push(["",""])}function O(){for(let re=0;re<l.length;re++)l[re].data==d&&zt(Pt,u=l[re],u)}const y=ma();yt(i,y,re=>t(5,a=re));let N=!1,T=!1;function j(){t(8,T=!0)}function F(){t(8,T=!1)}function q(){return a.inProgress?"z-index: 999;":"z-index: -2; pointer-events: none;"}function k(){return T?"z-index: 2;":"visibility:hidden; pointer-events: none;"}const L=re=>{t(0,d.label=re.currentTarget.value,d),zt(Pt,u.data.label=d.label,u)};function A(){n=this.value,t(11,n),t(0,d),t(6,u),t(2,g),t(20,f)}const R=(re,ee)=>{t(0,d.user_properties[re][0]=ee.currentTarget.value,d),zt(Pt,u.data.user_properties[re][0]=ee.currentTarget.value,u)};function Y(re){r[re][0]=this.value,t(10,r),t(0,d),t(6,u),t(2,g),t(21,h)}const z=(re,ee)=>{t(0,d.user_properties[re][1]=ee.currentTarget.value,d),zt(Pt,u.data.user_properties[re][1]=ee.currentTarget.value,u)};function ue(re){s[re][1]=this.value,t(9,s),t(0,d),t(6,u),t(2,g),t(22,v)}return i.$$set=re=>{"data"in re&&t(0,d=re.data),"isConnectable"in re&&t(1,_=re.isConnectable),"id"in re&&t(2,g=re.id),"nodeType"in re&&t(19,b=re.nodeType),"nodeTypeLabel"in re&&t(3,D=re.nodeTypeLabel),"selected"in re&&t(4,B=re.selected)},i.$$.update=()=>{i.$$.dirty[0]&1048645&&t(11,n=(d==null?void 0:d.label)||((u==null?void 0:u.id)==g?t(20,f=u==null?void 0:u.data)===null||f===void 0?void 0:f.label:"")||"< label >"),i.$$.dirty[0]&2097221&&t(10,r=(d==null?void 0:d.user_properties)||((u==null?void 0:u.id)==g?t(21,h=u==null?void 0:u.data)===null||h===void 0?void 0:h.user_properties:"")||"< Property >"),i.$$.dirty[0]&4194373&&t(9,s=(d==null?void 0:d.user_properties)||((u==null?void 0:u.id)==g?t(22,v=u==null?void 0:u.data)===null||v===void 0?void 0:v.user_properties:"")||"< Value >"),i.$$.dirty[0]&8388644&&t(7,N=(t(23,p=a.toHandle)===null||p===void 0?void 0:p.nodeId)==g)},[d,_,g,D,B,a,u,N,T,s,r,n,S,O,y,j,F,q,k,b,f,h,v,p,L,A,R,Y,z,ue]}class nP extends Gt{constructor(e){super(),Xt(this,e,rP,tP,Et,{data:0,isConnectable:1,id:2,nodeType:19,nodeTypeLabel:3,selected:4},null,[-1,-1])}}function zm(i,e){const t=i.internals.positionAbsolute||{x:0,y:0},n=e.internals.positionAbsolute||{x:0,y:0},r=(i.measured.width??0)/2,s=(i.measured.height??0)/2,a=t.x+r,l=t.y+s,u=n.x+(e.measured.width??0)/2,f=n.y+(e.measured.height??0)/2,h=(u-a)/(2*r)-(f-l)/(2*s),v=(u-a)/(2*r)+(f-l)/(2*s),p=1/(Math.abs(h)+Math.abs(v)),d=p*h,_=p*v,g=r*(d+_)+a,b=s*(-d+_)+l;return{x:g,y:b}}function Vm(i,e){var a,l;if(!i.measured.width||!i.measured.height)return null;const t=Math.round(((a=i.internals.positionAbsolute)==null?void 0:a.x)??0),n=Math.round(((l=i.internals.positionAbsolute)==null?void 0:l.y)??0),r=Math.round(e.x),s=Math.round(e.y);return r<=t+1?jt.Left:r>=t+i.measured.width-1?jt.Right:s<=n+1?jt.Top:s>=n+i.measured.height-1?jt.Bottom:jt.Top}function Yh(i,e){const t=zm(i,e),n=zm(e,i),r=Vm(i,t),s=Vm(e,n);return{sx:t.x,sy:t.y,tx:n.x,ty:n.y,sourcePos:r,targetPos:s}}function iP(i){let e,t;return e=new i[19].ItemProperty({props:{list:_1,filter_value_store:i[20],select_item:i[21]}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r&1048576&&(s.filter_value_store=n[20]),r&2097152&&(s.select_item=n[21]),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function aP(i){let e,t,n=`translate(-50%, -50%) translate(${i[5]}px,${i[6]}px)`,r;return t=new Ps({props:{node_id:i[0],element_id:i[1].label,input_color:"#ffffff00",place_holder:String(i[1].label),flow_store_hook:Ri,data_save_key:"d3f_property",$$slots:{default:[iP,({R:s,filter_value_store:a,select_item:l})=>({19:s,20:a,21:l}),({R:s,filter_value_store:a,select_item:l})=>(s?524288:0)|(a?1048576:0)|(l?2097152:0)]},$$scope:{ctx:i}}}),{c(){e=ae("div"),Xe(t.$$.fragment),this.h()},l(s){e=se(s,"DIV",{class:!0});var a=Ue(e);We(t.$$.fragment,a),a.forEach(w),this.h()},h(){oe(e,"class","edge-label-container svelte-566npr"),$t(e,"transform",n)},m(s,a){I(s,e,a),Qe(t,e,null),r=!0},p(s,a){const l={};a&1&&(l.node_id=s[0]),a&2&&(l.element_id=s[1].label),a&2&&(l.place_holder=String(s[1].label)),a&7340032&&(l.$$scope={dirty:a,ctx:s}),t.$set(l),a&96&&n!==(n=`translate(-50%, -50%) translate(${s[5]}px,${s[6]}px)`)&&$t(e,"transform",n)},i(s){r||(ce(t.$$.fragment,s),r=!0)},o(s){me(t.$$.fragment,s),r=!1},d(s){s&&w(e),Ye(t)}}}function sP(i){let e,t,n,r;return e=new UA({props:{path:i[4],markerEnd:i[2],style:i[3]}}),n=new MA({props:{$$slots:{default:[aP]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment),t=_e(),Xe(n.$$.fragment)},l(s){We(e.$$.fragment,s),t=ve(s),We(n.$$.fragment,s)},m(s,a){Qe(e,s,a),I(s,t,a),Qe(n,s,a),r=!0},p(s,[a]){const l={};a&16&&(l.path=s[4]),a&4&&(l.markerEnd=s[2]),a&8&&(l.style=s[3]),e.$set(l);const u={};a&4194403&&(u.$$scope={dirty:a,ctx:s}),n.$set(u)},i(s){r||(ce(e.$$.fragment,s),ce(n.$$.fragment,s),r=!0)},o(s){me(e.$$.fragment,s),me(n.$$.fragment,s),r=!1},d(s){s&&w(t),Ye(e,s),Ye(n,s)}}}function lP(i,e,t){let n,r,s,a=at,l=()=>(a(),a=bi(r,q=>t(17,s=q)),r),u,f=at,h=()=>(f(),f=bi(n,q=>t(18,u=q)),n);i.$$.on_destroy.push(()=>a()),i.$$.on_destroy.push(()=>f());let{id:v}=e,{data:p}=e,{sourceX:d}=e,{sourceY:_}=e,{source:g}=e,{sourcePosition:b}=e,{targetX:D}=e,{targetY:B}=e,{target:S}=e,{targetPosition:O}=e,{markerEnd:y=s1.ArrowClosed}=e,{style:N="stroke-width: 2px"}=e,T,j,F;return i.$$set=q=>{"id"in q&&t(0,v=q.id),"data"in q&&t(1,p=q.data),"sourceX"in q&&t(9,d=q.sourceX),"sourceY"in q&&t(10,_=q.sourceY),"source"in q&&t(11,g=q.source),"sourcePosition"in q&&t(12,b=q.sourcePosition),"targetX"in q&&t(13,D=q.targetX),"targetY"in q&&t(14,B=q.targetY),"target"in q&&t(15,S=q.target),"targetPosition"in q&&t(16,O=q.targetPosition),"markerEnd"in q&&t(2,y=q.markerEnd),"style"in q&&t(3,N=q.style)},i.$$.update=()=>{if(i.$$.dirty&2048&&h(t(8,n=U_(g))),i.$$.dirty&32768&&l(t(7,r=U_(S))),i.$$.dirty&393216)if(u&&s){const q=Yh(u,s);t(4,[T,j,F]=Nh({sourceX:q.sx,sourceY:q.sy,sourcePosition:q.sourcePos,targetX:q.tx,targetY:q.ty,targetPosition:q.targetPos}),T,(t(5,j),t(18,u),t(17,s)),(t(6,F),t(18,u),t(17,s)))}else t(4,T=void 0)},[v,p,y,N,T,j,F,r,n,d,_,g,b,D,B,S,O,s,u]}class oP extends Gt{constructor(e){super(),Xt(this,e,lP,sP,Et,{id:0,data:1,sourceX:9,sourceY:10,source:11,sourcePosition:12,targetX:13,targetY:14,target:15,targetPosition:16,markerEnd:2,style:3})}}function Hm(i,e,t){const n=i.slice();return n[7]=e[t],n}function $m(i){let e,t=ut(i[2]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Gm(Hm(i,t,r));return{c(){e=ae("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=se(r,"DIV",{class:!0});var s=Ue(e);for(let a=0;a<n.length;a+=1)n[a].l(s);s.forEach(w),this.h()},h(){oe(e,"class","file-list svelte-9u10j")},m(r,s){I(r,e,s);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null)},p(r,s){if(s&20){t=ut(r[2]);let a;for(a=0;a<t.length;a+=1){const l=Hm(r,t,a);n[a]?n[a].p(l,s):(n[a]=Gm(l),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&w(e),tr(n,r)}}}function Gm(i){let e,t=i[7].name+"",n,r,s=i[7].nodeCount+"",a,l,u=i[7].edgeCount+"",f,h,v,p;function d(){return i[5](i[7])}return{c(){e=ae("div"),n=V(t),r=V(" ("),a=V(s),l=V(" nodes, "),f=V(u),h=V(` edges)
          `),this.h()},l(_){e=se(_,"DIV",{class:!0});var g=Ue(e);n=H(g,t),r=H(g," ("),a=H(g,s),l=H(g," nodes, "),f=H(g,u),h=H(g,` edges)
          `),g.forEach(w),this.h()},h(){oe(e,"class","file-item svelte-9u10j")},m(_,g){I(_,e,g),G(e,n),G(e,r),G(e,a),G(e,l),G(e,f),G(e,h),v||(p=Re(e,"click",d),v=!0)},p(_,g){i=_,g&4&&t!==(t=i[7].name+"")&&Se(n,t),g&4&&s!==(s=i[7].nodeCount+"")&&Se(a,s),g&4&&u!==(u=i[7].edgeCount+"")&&Se(f,u)},d(_){_&&w(e),v=!1,p()}}}function uP(i){let e,t,n,r,s,a,l=i[1]&&$m(i);return{c(){e=ae("div"),t=ae("button"),n=V(i[0]),r=_e(),l&&l.c(),this.h()},l(u){e=se(u,"DIV",{class:!0});var f=Ue(e);t=se(f,"BUTTON",{class:!0});var h=Ue(t);n=H(h,i[0]),h.forEach(w),r=ve(f),l&&l.l(f),f.forEach(w),this.h()},h(){oe(t,"class","svelte-9u10j"),oe(e,"class","pick-list-container svelte-9u10j")},m(u,f){I(u,e,f),G(e,t),G(t,n),G(e,r),l&&l.m(e,null),s||(a=Re(t,"click",i[3]),s=!0)},p(u,[f]){f&1&&Se(n,u[0]),u[1]?l?l.p(u,f):(l=$m(u),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:at,o:at,d(u){u&&w(e),l&&l.d(),s=!1,a()}}}async function fP(){return await(await fetch("/cad/examples.json")).json()}function cP(i,e,t){const n=Cf();let r=!1,{selectedFile:s="Example Graphs"}=e,a=[];function l(){t(1,r=!r)}function u(h){t(0,s=h),t(1,r=!1),n("fileSelected",h)}kf(async()=>{t(2,a=await fP())});const f=h=>u(h.name);return i.$$set=h=>{"selectedFile"in h&&t(0,s=h.selectedFile)},[s,r,a,l,u,f]}class hP extends Gt{constructor(e){super(),Xt(this,e,cP,uP,Et,{selectedFile:0})}}function Xm(i){let e,t,n,r,s;return{c(){e=p_("path"),t=_e(),n=p_("circle"),this.h()},l(a){e=__(a,"path",{fill:!0,"stroke-width":!0,class:!0,stroke:!0,d:!0}),Ue(e).forEach(w),t=ve(a),n=__(a,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0}),Ue(n).forEach(w),this.h()},h(){oe(e,"fill","transparent"),oe(e,"stroke-width",2.5),oe(e,"class","animated"),oe(e,"stroke","black"),oe(e,"d",i[2]),oe(n,"cx",r=i[0].tx),oe(n,"cy",s=i[0].ty),oe(n,"r",3),oe(n,"stroke","black"),oe(n,"stroke-width",1.5)},m(a,l){I(a,e,l),I(a,t,l),I(a,n,l)},p(a,l){l&4&&oe(e,"d",a[2]),l&1&&r!==(r=a[0].tx)&&oe(n,"cx",r),l&1&&s!==(s=a[0].ty)&&oe(n,"cy",s)},d(a){a&&(w(e),w(t),w(n))}}}function dP(i){let e,t=i[1].inProgress&&Xm(i);return{c(){t&&t.c(),e=He()},l(n){t&&t.l(n),e=He()},m(n,r){t&&t.m(n,r),I(n,e,r)},p(n,[r]){n[1].inProgress?t?t.p(n,r):(t=Xm(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:at,o:at,d(n){n&&w(e),t&&t.d(n)}}}function pP(i,e,t){let n;const r=ma();yt(i,r,l=>t(1,n=l));let s,a;return i.$$.update=()=>{if(i.$$.dirty&3){const l=structuredClone(n.fromNode);n.isValid?(t(0,a=Yh(n.fromNode,n.toNode)),t(2,s=Nh({sourceX:a.sx,sourceY:a.sy,sourcePosition:a.sourcePos,targetX:a.tx,targetY:a.ty,targetPosition:a.targetPos})[0])):(l.id="-1",l.measured={width:1,height:1},l.position={x:n.to.x,y:n.to.y},l.internals.positionAbsolute={x:n.to.x,y:n.to.y},t(0,a=Yh(n.fromNode,l)),t(2,s=Nh({sourceX:a.sx,sourceY:a.sy,sourcePosition:a.sourcePos,targetX:a.tx,targetY:a.ty,targetPosition:a.targetPos})[0]))}},[a,n,s,r]}class _P extends Gt{constructor(e){super(),Xt(this,e,pP,dP,Et,{})}}function Wm(i,e,t){const n=i.slice();return n[11]=e[t],n}function Qm(i){let e,t,n,r,s,a,l,u,f,h,v,p,d;const _=i[7].default,g=Dr(_,i,i[6],null);let b=ut(i[3]),D=[];for(let B=0;B<b.length;B+=1)D[B]=Ym(Wm(i,b,B));return{c(){e=ae("div"),t=ae("div"),n=ae("h2"),r=V(i[1]),s=_e(),a=ae("p"),l=V(i[2]),u=_e(),g&&g.c(),f=_e(),h=ae("div");for(let B=0;B<D.length;B+=1)D[B].c();this.h()},l(B){e=se(B,"DIV",{class:!0});var S=Ue(e);t=se(S,"DIV",{class:!0});var O=Ue(t);n=se(O,"H2",{});var y=Ue(n);r=H(y,i[1]),y.forEach(w),s=ve(O),a=se(O,"P",{});var N=Ue(a);l=H(N,i[2]),N.forEach(w),u=ve(O),g&&g.l(O),f=ve(O),h=se(O,"DIV",{class:!0});var T=Ue(h);for(let j=0;j<D.length;j+=1)D[j].l(T);T.forEach(w),O.forEach(w),S.forEach(w),this.h()},h(){oe(h,"class","options svelte-zbcx3u"),oe(t,"class","modal-content center text-center svelte-zbcx3u"),oe(e,"class","modal-overlay svelte-zbcx3u")},m(B,S){I(B,e,S),G(e,t),G(t,n),G(n,r),G(t,s),G(t,a),G(a,l),G(t,u),g&&g.m(t,null),G(t,f),G(t,h);for(let O=0;O<D.length;O+=1)D[O]&&D[O].m(h,null);v=!0,p||(d=[Re(t,"click",Ur(i[8])),Re(e,"click",i[4])],p=!0)},p(B,S){if((!v||S&2)&&Se(r,B[1]),(!v||S&4)&&Se(l,B[2]),g&&g.p&&(!v||S&64)&&Ar(g,_,B,B[6],v?Cr(_,B[6],S,null):kr(B[6]),null),S&40){b=ut(B[3]);let O;for(O=0;O<b.length;O+=1){const y=Wm(B,b,O);D[O]?D[O].p(y,S):(D[O]=Ym(y),D[O].c(),D[O].m(h,null))}for(;O<D.length;O+=1)D[O].d(1);D.length=b.length}},i(B){v||(ce(g,B),v=!0)},o(B){me(g,B),v=!1},d(B){B&&w(e),g&&g.d(B),tr(D,B),p=!1,Vt(d)}}}function Ym(i){let e,t=i[11].label+"",n,r,s,a;function l(){return i[9](i[11])}return{c(){e=ae("button"),n=V(t),r=_e(),this.h()},l(u){e=se(u,"BUTTON",{class:!0});var f=Ue(e);n=H(f,t),r=ve(f),f.forEach(w),this.h()},h(){oe(e,"class","svelte-zbcx3u")},m(u,f){I(u,e,f),G(e,n),G(e,r),s||(a=Re(e,"click",l),s=!0)},p(u,f){i=u,f&8&&t!==(t=i[11].label+"")&&Se(n,t)},d(u){u&&w(e),s=!1,a()}}}function vP(i){let e,t,n=i[0]&&Qm(i);return{c(){n&&n.c(),e=He()},l(r){n&&n.l(r),e=He()},m(r,s){n&&n.m(r,s),I(r,e,s),t=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&ce(n,1)):(n=Qm(r),n.c(),ce(n,1),n.m(e.parentNode,e)):n&&(It(),me(n,1,1,()=>{n=null}),Rt())},i(r){t||(ce(n),t=!0)},o(r){me(n),t=!1},d(r){r&&w(e),n&&n.d(r)}}}function gP(i,e,t){let{$$slots:n={},$$scope:r}=e,{is_open:s=!1}=e,{title:a=""}=e,{content:l=""}=e,{options:u=[{label:"Cancel",value:"cancel"}]}=e;const f=Cf();function h(){t(0,s=!1)}function v(_){f("close_button_modal",_),h()}function p(_){Zn.call(this,i,_)}const d=_=>v(_);return i.$$set=_=>{"is_open"in _&&t(0,s=_.is_open),"title"in _&&t(1,a=_.title),"content"in _&&t(2,l=_.content),"options"in _&&t(3,u=_.options),"$$scope"in _&&t(6,r=_.$$scope)},[s,a,l,u,h,v,r,n,p,d]}class mP extends Gt{constructor(e){super(),Xt(this,e,gP,vP,Et,{is_open:0,title:1,content:2,options:3})}}function Km(i,e,t){const n=i.slice();return n[61]=e[t],n[63]=t,n}function bP(i){let e,t='This is an (very) alpha-level preview release. Please review and file bugs <a href="https://github.com/d3fend/d3fend/issues/14">here. </a>Early stage <a href="./docs">docs.</a>';return{c(){e=ae("div"),e.innerHTML=t,this.h()},l(n){e=se(n,"DIV",{class:!0,"data-svelte-h":!0}),vt(e)!=="svelte-x19ykg"&&(e.innerHTML=t),this.h()},h(){oe(e,"class","font-small")},m(n,r){I(n,e,r)},p:at,d(n){n&&w(e)}}}function Jm(i){let e=i[61].message+"",t,n;return{c(){t=V(e),n=ae("br")},l(r){t=H(r,e),n=se(r,"BR",{})},m(r,s){I(r,t,s),I(r,n,s)},p(r,s){s[0]&32&&e!==(e=r[61].message+"")&&Se(t,e)},d(r){r&&(w(t),w(n))}}}function wP(i){let e,t="<code>The tool fixed the errors needed to run but here is list of all import errors and warnings.</code>",n,r,s,a,l,u,f,h,v,p=ut(i[5]),d=[];for(let _=0;_<p.length;_+=1)d[_]=Jm(Km(i,p,_));return{c(){e=ae("div"),e.innerHTML=t,n=_e(),r=ae("br"),s=_e(),a=ae("br"),l=_e();for(let _=0;_<d.length;_+=1)d[_].c();u=_e(),f=ae("br"),h=_e(),v=ae("br")},l(_){e=se(_,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-7el432"&&(e.innerHTML=t),n=ve(_),r=se(_,"BR",{}),s=ve(_),a=se(_,"BR",{}),l=ve(_);for(let g=0;g<d.length;g+=1)d[g].l(_);u=ve(_),f=se(_,"BR",{}),h=ve(_),v=se(_,"BR",{})},m(_,g){I(_,e,g),I(_,n,g),I(_,r,g),I(_,s,g),I(_,a,g),I(_,l,g);for(let b=0;b<d.length;b+=1)d[b]&&d[b].m(_,g);I(_,u,g),I(_,f,g),I(_,h,g),I(_,v,g)},p(_,g){if(g[0]&32){p=ut(_[5]);let b;for(b=0;b<p.length;b+=1){const D=Km(_,p,b);d[b]?d[b].p(D,g):(d[b]=Jm(D),d[b].c(),d[b].m(u.parentNode,u))}for(;b<d.length;b+=1)d[b].d(1);d.length=p.length}},d(_){_&&(w(e),w(n),w(r),w(s),w(a),w(l),w(u),w(f),w(h),w(v)),tr(d,_)}}}function yP(i){let e;return{c(){e=V("Please only load models from URLs you trust!")},l(t){e=H(t,"Please only load models from URLs you trust!")},m(t,n){I(t,e,n)},d(t){t&&w(e)}}}function EP(i){let e,t,n,r,s,a,l,u,f,h,v;return h=new Tf({props:{$$slots:{default:[yP]},$$scope:{ctx:i}}}),{c(){e=ae("br"),t=_e(),n=ae("code"),r=V(i[4]),s=_e(),a=ae("br"),l=_e(),u=ae("br"),f=_e(),Xe(h.$$.fragment),this.h()},l(p){e=se(p,"BR",{}),t=ve(p),n=se(p,"CODE",{class:!0});var d=Ue(n);r=H(d,i[4]),d.forEach(w),s=ve(p),a=se(p,"BR",{}),l=ve(p),u=se(p,"BR",{}),f=ve(p),We(h.$$.fragment,p),this.h()},h(){oe(n,"class","center text-center")},m(p,d){I(p,e,d),I(p,t,d),I(p,n,d),G(n,r),I(p,s,d),I(p,a,d),I(p,l,d),I(p,u,d),I(p,f,d),Qe(h,p,d),v=!0},p(p,d){(!v||d[0]&16)&&Se(r,p[4]);const _={};d[2]&4&&(_.$$scope={dirty:d,ctx:p}),h.$set(_)},i(p){v||(ce(h.$$.fragment,p),v=!0)},o(p){me(h.$$.fragment,p),v=!1},d(p){p&&(w(e),w(t),w(n),w(s),w(a),w(l),w(u),w(f)),Ye(h,p)}}}function DP(i){let e;return{c(){e=V("Please only load models from URLs you trust!")},l(t){e=H(t,"Please only load models from URLs you trust!")},m(t,n){I(t,e,n)},d(t){t&&w(e)}}}function AP(i){let e,t,n,r,s,a;return s=new Tf({props:{$$slots:{default:[DP]},$$scope:{ctx:i}}}),{c(){e=ae("br"),t=_e(),n=ae("br"),r=_e(),Xe(s.$$.fragment)},l(l){e=se(l,"BR",{}),t=ve(l),n=se(l,"BR",{}),r=ve(l),We(s.$$.fragment,l)},m(l,u){I(l,e,u),I(l,t,u),I(l,n,u),I(l,r,u),Qe(s,l,u),a=!0},p(l,u){const f={};u[2]&4&&(f.$$scope={dirty:u,ctx:l}),s.$set(f)},i(l){a||(ce(s.$$.fragment,l),a=!0)},o(l){me(s.$$.fragment,l),a=!1},d(l){l&&(w(e),w(t),w(n),w(r)),Ye(s,l)}}}function Zm(i){let e,t,n,r;return e=new Tf({props:{alert_type:"warning",$$slots:{default:[kP]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment),t=_e(),n=ae("br")},l(s){We(e.$$.fragment,s),t=ve(s),n=se(s,"BR",{})},m(s,a){Qe(e,s,a),I(s,t,a),I(s,n,a),r=!0},i(s){r||(ce(e.$$.fragment,s),r=!0)},o(s){me(e.$$.fragment,s),r=!1},d(s){s&&(w(t),w(n)),Ye(e,s)}}}function kP(i){let e;return{c(){e=V("Please note this is a limited sharing capability for very small CAD models. Large models may exceed URL length limitations in browsers and messaging apps.")},l(t){e=H(t,"Please note this is a limited sharing capability for very small CAD models. Large models may exceed URL length limitations in browsers and messaging apps.")},m(t,n){I(t,e,n)},d(t){t&&w(e)}}}function CP(i){let e,t,n,r,s=i[13].length+"",a,l,u,f,h,v,p,d,_,g,b="copy",D,B,S,O=i[13].length>2048&&Zm(i);return{c(){O&&O.c(),e=_e(),t=ae("div"),n=ae("code"),r=V("The encoded model has a string length of "),a=V(s),l=V(" characters."),u=_e(),f=ae("p"),h=ae("button"),v=ae("a"),p=V("Share URL"),d=_e(),_=ae("span"),g=ae("button"),g.textContent=b,this.h()},l(y){O&&O.l(y),e=ve(y),t=se(y,"DIV",{});var N=Ue(t);n=se(N,"CODE",{});var T=Ue(n);r=H(T,"The encoded model has a string length of "),a=H(T,s),l=H(T," characters."),T.forEach(w),N.forEach(w),u=ve(y),f=se(y,"P",{});var j=Ue(f);h=se(j,"BUTTON",{class:!0});var F=Ue(h);v=se(F,"A",{href:!0});var q=Ue(v);p=H(q,"Share URL"),q.forEach(w),F.forEach(w),d=ve(j),_=se(j,"SPAN",{});var k=Ue(_);g=se(k,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(g)!=="svelte-1uua65l"&&(g.textContent=b),k.forEach(w),j.forEach(w),this.h()},h(){oe(v,"href",i[14]),oe(h,"class","svelte-1o3ehjz"),oe(g,"class","svelte-1o3ehjz")},m(y,N){O&&O.m(y,N),I(y,e,N),I(y,t,N),G(t,n),G(n,r),G(n,a),G(n,l),I(y,u,N),I(y,f,N),G(f,h),G(h,v),G(v,p),G(f,d),G(f,_),G(_,g),D=!0,B||(S=Re(g,"click",i[35]),B=!0)},p(y,N){y[13].length>2048?O?N[0]&8192&&ce(O,1):(O=Zm(y),O.c(),ce(O,1),O.m(e.parentNode,e)):O&&(It(),me(O,1,1,()=>{O=null}),Rt()),(!D||N[0]&8192)&&s!==(s=y[13].length+"")&&Se(a,s),(!D||N[0]&16384)&&oe(v,"href",y[14])},i(y){D||(ce(O),D=!0)},o(y){me(O),D=!1},d(y){y&&(w(e),w(t),w(u),w(f)),O&&O.d(y),B=!1,S()}}}function e1(i){let e,t,n,r,s,a=i[6]>1&&t1();return{c(){e=ae("button"),t=V(i[6]),n=V(" import alert"),a&&a.c(),this.h()},l(l){e=se(l,"BUTTON",{class:!0});var u=Ue(e);t=H(u,i[6]),n=H(u," import alert"),a&&a.l(u),u.forEach(w),this.h()},h(){oe(e,"class","svelte-1o3ehjz")},m(l,u){I(l,e,u),G(e,t),G(e,n),a&&a.m(e,null),r||(s=Re(e,"click",i[21]),r=!0)},p(l,u){u[0]&64&&Se(t,l[6]),l[6]>1?a||(a=t1(),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(l){l&&w(e),a&&a.d(),r=!1,s()}}}function t1(i){let e;return{c(){e=V("s")},l(t){e=H(t,"s")},m(t,n){I(t,e,n)},d(t){t&&w(e)}}}function r1(i){let e,t,n,r,s,a,l;return n=new XA({props:{display:"inline"}}),{c(){e=ae("span"),t=ae("span"),Xe(n.$$.fragment),r=_e(),s=ae("span"),a=V(i[15]),this.h()},l(u){e=se(u,"SPAN",{class:!0});var f=Ue(e);t=se(f,"SPAN",{});var h=Ue(t);We(n.$$.fragment,h),h.forEach(w),r=ve(f),s=se(f,"SPAN",{});var v=Ue(s);a=H(v,i[15]),v.forEach(w),f.forEach(w),this.h()},h(){oe(e,"class","right")},m(u,f){I(u,e,f),G(e,t),Qe(n,t,null),G(e,r),G(e,s),G(s,a),l=!0},p(u,f){(!l||f[0]&32768)&&Se(a,u[15])},i(u){l||(ce(n.$$.fragment,u),l=!0)},o(u){me(n.$$.fragment,u),l=!1},d(u){u&&w(e),Ye(n)}}}function n1(i){let e,t;return e=new H4({props:{onClick:i[30],id:i[10].id,top:i[10].top,left:i[10].left,right:i[10].right,bottom:i[10].bottom}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,r){const s={};r[0]&1024&&(s.id=n[10].id),r[0]&1024&&(s.top=n[10].top),r[0]&1024&&(s.left=n[10].left),r[0]&1024&&(s.right=n[10].right),r[0]&1024&&(s.bottom=n[10].bottom),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function TP(i){let e,t,n,r,s,a,l;e=new jA({props:{position:"top-left"}}),n=new xA({props:{variant:zA.Dots}});let u=i[10]&&n1(i);return a=new VA({props:{position:"top-right"}}),{c(){Xe(e.$$.fragment),t=_e(),Xe(n.$$.fragment),r=_e(),u&&u.c(),s=_e(),Xe(a.$$.fragment)},l(f){We(e.$$.fragment,f),t=ve(f),We(n.$$.fragment,f),r=ve(f),u&&u.l(f),s=ve(f),We(a.$$.fragment,f)},m(f,h){Qe(e,f,h),I(f,t,h),Qe(n,f,h),I(f,r,h),u&&u.m(f,h),I(f,s,h),Qe(a,f,h),l=!0},p(f,h){f[10]?u?(u.p(f,h),h[0]&1024&&ce(u,1)):(u=n1(f),u.c(),ce(u,1),u.m(s.parentNode,s)):u&&(It(),me(u,1,1,()=>{u=null}),Rt())},i(f){l||(ce(e.$$.fragment,f),ce(n.$$.fragment,f),ce(u),ce(a.$$.fragment,f),l=!0)},o(f){me(e.$$.fragment,f),me(n.$$.fragment,f),me(u),me(a.$$.fragment,f),l=!1},d(f){f&&(w(t),w(r),w(s)),Ye(e,f),Ye(n,f),u&&u.d(f),Ye(a,f)}}}function NP(i){let e,t;return e=new _P({props:{slot:"connectionLine"}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p:at,i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function SP(i){let e,t,n,r,s;return t=new nR({}),r=new qA({props:{nodes:jn,nodeTypes:i[0],edges:Co,edgeTypes:i[1],fitView:!0,defaultEdgeOptions:i[18],maxZoom:2,minZoom:.3,$$slots:{connectionLine:[NP],default:[TP]},$$scope:{ctx:i}}}),r.$on("dragover",i[24]),r.$on("drop",i[26]),r.$on("connect",i[25]),r.$on("nodecontextmenu",i[29]),r.$on("paneclick",i[30]),r.$on("onedgecreate",FP),{c(){e=ae("div"),Xe(t.$$.fragment),n=_e(),Xe(r.$$.fragment),this.h()},l(a){e=se(a,"DIV",{slot:!0,id:!0,class:!0});var l=Ue(e);We(t.$$.fragment,l),n=ve(l),We(r.$$.fragment,l),l.forEach(w),this.h()},h(){oe(e,"slot","flow"),oe(e,"id","slotted-flow"),oe(e,"class","svelte-1o3ehjz")},m(a,l){I(a,e,l),Qe(t,e,null),G(e,n),Qe(r,e,null),s=!0},p(a,l){const u={};l[0]&1024|l[2]&4&&(u.$$scope={dirty:l,ctx:a}),r.$set(u)},i(a){s||(ce(t.$$.fragment,a),ce(r.$$.fragment,a),s=!0)},o(a){me(t.$$.fragment,a),me(r.$$.fragment,a),s=!1},d(a){a&&w(e),Ye(t),Ye(r)}}}function IP(i){let e,t,n;return t=new sR({}),{c(){e=ae("div"),Xe(t.$$.fragment),this.h()},l(r){e=se(r,"DIV",{slot:!0,class:!0});var s=Ue(e);We(t.$$.fragment,s),s.forEach(w),this.h()},h(){oe(e,"slot","drawer"),oe(e,"class","side-panel close svelte-1o3ehjz")},m(r,s){I(r,e,s),Qe(t,e,null),n=!0},p:at,i(r){n||(ce(t.$$.fragment,r),n=!0)},o(r){me(t.$$.fragment,r),n=!1},d(r){r&&w(e),Ye(t)}}}function RP(i){let e,t,n,r,s,a,l,u,f,h,v,p,d,_,g,b,D,B="Load",S,O,y="Merge",N,T,j="Clear",F,q,k="Save",L,A,R,Y="Save As...",z,ue="Save As JSON...",re,ee="Save As Turtle...",$,Q="Save As D3FEND Extension...",pe,J,de="Share",it,nt,Fe,ze,Ce,Ee,Ge,Dt,lt;function ge(tt){i[33](tt)}let Me={title:i[2].title,content:i[2].content,options:i[2].options,$$slots:{default:[EP]},$$scope:{ctx:i}};i[2].is_open!==void 0&&(Me.is_open=i[2].is_open),e=new Eg({props:Me}),Or.push(()=>gn(e,"is_open",ge)),e.$on("optionSelected",i[16]);function nr(tt){i[34](tt)}let sr={title:i[3].title,content:i[3].content,options:i[3].options,$$slots:{default:[AP]},$$scope:{ctx:i}};i[3].is_open!==void 0&&(sr.is_open=i[3].is_open),r=new Eg({props:sr}),Or.push(()=>gn(r,"is_open",nr)),r.$on("optionSelected",i[17]);function xr(tt){i[36](tt)}let ur={title:"Share this model with a URL",$$slots:{default:[CP]},$$scope:{ctx:i}};i[12]!==void 0&&(ur.is_open=i[12]),l=new Q4({props:ur}),Or.push(()=>gn(l,"is_open",xr));function Tr(tt){i[37](tt)}let fr={};i[9]!==void 0&&(fr.selectedFile=i[9]),v=new hP({props:fr}),Or.push(()=>gn(v,"selectedFile",Tr)),v.$on("fileSelected",i[27]);let mt=i[6]&&e1(i),At=i[15]&&r1(i);return Ee=new VT({props:{$$slots:{drawer:[IP],flow:[SP]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment),n=_e(),Xe(r.$$.fragment),a=_e(),Xe(l.$$.fragment),f=_e(),h=ae("div"),Xe(v.$$.fragment),d=_e(),_=ae("br"),g=_e(),b=ae("div"),D=ae("button"),D.textContent=B,S=_e(),O=ae("button"),O.textContent=y,N=_e(),T=ae("button"),T.textContent=j,F=_e(),q=ae("button"),q.textContent=k,L=_e(),A=ae("select"),R=ae("option"),R.textContent=Y,z=ae("option"),z.textContent=ue,re=ae("option"),re.textContent=ee,$=ae("option"),$.textContent=Q,pe=_e(),J=ae("button"),J.textContent=de,it=V(`
        filename:    `),nt=ae("input"),Fe=_e(),mt&&mt.c(),ze=_e(),At&&At.c(),Ce=_e(),Xe(Ee.$$.fragment),this.h()},l(tt){We(e.$$.fragment,tt),n=ve(tt),We(r.$$.fragment,tt),a=ve(tt),We(l.$$.fragment,tt),f=ve(tt),h=se(tt,"DIV",{class:!0});var Le=Ue(h);We(v.$$.fragment,Le),Le.forEach(w),d=ve(tt),_=se(tt,"BR",{}),g=ve(tt),b=se(tt,"DIV",{id:!0,class:!0});var ot=Ue(b);D=se(ot,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(D)!=="svelte-r4end6"&&(D.textContent=B),S=ve(ot),O=se(ot,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(O)!=="svelte-1s1l97g"&&(O.textContent=y),N=ve(ot),T=se(ot,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(T)!=="svelte-1o4uly3"&&(T.textContent=j),F=ve(ot),q=se(ot,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(q)!=="svelte-qm8vdx"&&(q.textContent=k),L=ve(ot),A=se(ot,"SELECT",{class:!0});var W=Ue(A);R=se(W,"OPTION",{"data-svelte-h":!0}),vt(R)!=="svelte-hmrlsb"&&(R.textContent=Y),z=se(W,"OPTION",{"data-svelte-h":!0}),vt(z)!=="svelte-1q30tr1"&&(z.textContent=ue),re=se(W,"OPTION",{"data-svelte-h":!0}),vt(re)!=="svelte-pf55hp"&&(re.textContent=ee),$=se(W,"OPTION",{"data-svelte-h":!0}),vt($)!=="svelte-43fn33"&&($.textContent=Q),W.forEach(w),pe=ve(ot),J=se(ot,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(J)!=="svelte-mqt2ui"&&(J.textContent=de),it=H(ot,`
        filename:    `),nt=se(ot,"INPUT",{style:!0,type:!0}),Fe=ve(ot),mt&&mt.l(ot),ze=ve(ot),At&&At.l(ot),ot.forEach(w),Ce=ve(tt),We(Ee.$$.fragment,tt),this.h()},h(){oe(h,"class","toolbar-examples"),oe(D,"class","svelte-1o3ehjz"),oe(O,"class","svelte-1o3ehjz"),oe(T,"class","svelte-1o3ehjz"),oe(q,"class","svelte-1o3ehjz"),R.__value="",gt(R,R.__value),z.__value="json",gt(z,z.__value),re.__value="turtle",gt(re,re.__value),$.__value="extension",gt($,$.__value),oe(A,"class","save-as-dropdown svelte-1o3ehjz"),i[8]===void 0&&i1(()=>i[38].call(A)),oe(J,"class"," svelte-1o3ehjz"),$t(nt,"width","275px"),oe(nt,"type","text"),oe(b,"id","toolbar"),oe(b,"class","svelte-1o3ehjz")},m(tt,Le){Qe(e,tt,Le),I(tt,n,Le),Qe(r,tt,Le),I(tt,a,Le),Qe(l,tt,Le),I(tt,f,Le),I(tt,h,Le),Qe(v,h,null),I(tt,d,Le),I(tt,_,Le),I(tt,g,Le),I(tt,b,Le),G(b,D),G(b,S),G(b,O),G(b,N),G(b,T),G(b,F),G(b,q),G(b,L),G(b,A),G(A,R),G(A,z),G(A,re),G(A,$),v_(A,i[8],!0),G(b,pe),G(b,J),G(b,it),G(b,nt),gt(nt,i[7]),G(b,Fe),mt&&mt.m(b,null),G(b,ze),At&&At.m(b,null),I(tt,Ce,Le),Qe(Ee,tt,Le),Ge=!0,Dt||(lt=[Re(D,"click",i[22]),Re(O,"click",i[23]),Re(T,"click",i[28]),Re(q,"click",i[19]),Re(A,"change",i[38]),Re(A,"change",i[20]),Re(J,"click",i[31]),Re(nt,"input",i[39])],Dt=!0)},p(tt,Le){const ot={};Le[0]&4&&(ot.title=tt[2].title),Le[0]&4&&(ot.content=tt[2].content),Le[0]&4&&(ot.options=tt[2].options),Le[0]&16|Le[2]&4&&(ot.$$scope={dirty:Le,ctx:tt}),!t&&Le[0]&4&&(t=!0,ot.is_open=tt[2].is_open,vn(()=>t=!1)),e.$set(ot);const W={};Le[0]&8&&(W.title=tt[3].title),Le[0]&8&&(W.content=tt[3].content),Le[0]&8&&(W.options=tt[3].options),Le[2]&4&&(W.$$scope={dirty:Le,ctx:tt}),!s&&Le[0]&8&&(s=!0,W.is_open=tt[3].is_open,vn(()=>s=!1)),r.$set(W);const P={};Le[0]&24576|Le[2]&4&&(P.$$scope={dirty:Le,ctx:tt}),!u&&Le[0]&4096&&(u=!0,P.is_open=tt[12],vn(()=>u=!1)),l.$set(P);const M={};!p&&Le[0]&512&&(p=!0,M.selectedFile=tt[9],vn(()=>p=!1)),v.$set(M),Le[0]&256&&v_(A,tt[8]),Le[0]&128&&nt.value!==tt[7]&&gt(nt,tt[7]),tt[6]?mt?mt.p(tt,Le):(mt=e1(tt),mt.c(),mt.m(b,ze)):mt&&(mt.d(1),mt=null),tt[15]?At?(At.p(tt,Le),Le[0]&32768&&ce(At,1)):(At=r1(tt),At.c(),ce(At,1),At.m(b,null)):At&&(It(),me(At,1,1,()=>{At=null}),Rt());const te={};Le[0]&1024|Le[2]&4&&(te.$$scope={dirty:Le,ctx:tt}),Ee.$set(te)},i(tt){Ge||(ce(e.$$.fragment,tt),ce(r.$$.fragment,tt),ce(l.$$.fragment,tt),ce(v.$$.fragment,tt),ce(At),ce(Ee.$$.fragment,tt),Ge=!0)},o(tt){me(e.$$.fragment,tt),me(r.$$.fragment,tt),me(l.$$.fragment,tt),me(v.$$.fragment,tt),me(At),me(Ee.$$.fragment,tt),Ge=!1},d(tt){tt&&(w(n),w(a),w(f),w(h),w(d),w(_),w(g),w(b),w(Ce)),Ye(e,tt),Ye(r,tt),Ye(l,tt),Ye(v),mt&&mt.d(),At&&At.d(),Ye(Ee,tt),Dt=!1,Vt(lt)}}}function PP(i){let e,t,n,r,s,a,l='D3FEND <span class="snakes">☤</span> <span class="CAD"><span style="color:#e62929;">C</span><span class="A svelte-1o3ehjz" style="color:white;text-border:1px;">A</span><span style="color:blue;">D</span></span>',u,f,h,v,p,d,_,g;e=new YA({props:{title:"D3FEND CAD Tool",og_title:"D3FEND CAD Tool",og_description:"Cyber Attack-Defense Utility for Capturing Engagements and Understandable Scenarios",og_type:"app",og_url:"",og_image:""}}),f=new Tf({props:{alert_type:"warning",$$slots:{default:[bP]},$$scope:{ctx:i}}});function b(B){i[32](B)}let D={title:i[6]+" import alerts",$$slots:{default:[wP]},$$scope:{ctx:i}};return i[11]!==void 0&&(D.is_open=i[11]),v=new mP({props:D}),Or.push(()=>gn(v,"is_open",b)),_=new eR({props:{position:"right",$$slots:{default:[RP]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment),t=_e(),n=ae("div"),r=ae("div"),s=ae("div"),a=ae("h1"),a.innerHTML=l,u=_e(),Xe(f.$$.fragment),h=_e(),Xe(v.$$.fragment),d=_e(),Xe(_.$$.fragment),this.h()},l(B){We(e.$$.fragment,B),t=ve(B),n=se(B,"DIV",{class:!0});var S=Ue(n);r=se(S,"DIV",{style:!0});var O=Ue(r);s=se(O,"DIV",{style:!0});var y=Ue(s);a=se(y,"H1",{class:!0,title:!0,"data-svelte-h":!0}),vt(a)!=="svelte-xxt2o6"&&(a.innerHTML=l),u=ve(y),We(f.$$.fragment,y),y.forEach(w),O.forEach(w),S.forEach(w),h=ve(B),We(v.$$.fragment,B),d=ve(B),We(_.$$.fragment,B),this.h()},h(){oe(a,"class","fancy-font svelte-1o3ehjz"),oe(a,"title","Cyber Attack-Defense Utility for Capturing Engagements and Understandable Scenarios"),$t(s,"text-align","center"),$t(s,"flex-grow","1"),$t(r,"display","flex"),$t(r,"just-content","space-between"),$t(r,"align-items","center"),oe(n,"class","title-egg svelte-1o3ehjz")},m(B,S){Qe(e,B,S),I(B,t,S),I(B,n,S),G(n,r),G(r,s),G(s,a),G(s,u),Qe(f,s,null),I(B,h,S),Qe(v,B,S),I(B,d,S),Qe(_,B,S),g=!0},p(B,S){const O={};S[2]&4&&(O.$$scope={dirty:S,ctx:B}),f.$set(O);const y={};S[0]&64&&(y.title=B[6]+" import alerts"),S[0]&32|S[2]&4&&(y.$$scope={dirty:S,ctx:B}),!p&&S[0]&2048&&(p=!0,y.is_open=B[11],vn(()=>p=!1)),v.$set(y);const N={};S[0]&63452|S[2]&4&&(N.$$scope={dirty:S,ctx:B}),_.$set(N)},i(B){g||(ce(e.$$.fragment,B),ce(f.$$.fragment,B),ce(v.$$.fragment,B),ce(_.$$.fragment,B),g=!0)},o(B){me(e.$$.fragment,B),me(f.$$.fragment,B),me(v.$$.fragment,B),me(_.$$.fragment,B),g=!1},d(B){B&&(w(t),w(n),w(h),w(d)),Ye(e,B),Ye(f),Ye(v,B),Ye(_,B)}}}function FP(i){console.log(i),console.log(i)}function OP(i,e,t){let n,r,s,a;yt(i,AA,Le=>t(41,n=Le)),yt(i,Co,Le=>t(42,r=Le)),yt(i,jn,Le=>t(43,s=Le)),yt(i,kn,Le=>t(15,a=Le));var l=this&&this.__awaiter||function(Le,ot,W,P){function M(te){return te instanceof W?te:new W(function(De){De(te)})}return new(W||(W=Promise))(function(te,De){function Be(Mt){try{kt(P.next(Mt))}catch(St){De(St)}}function Ve(Mt){try{kt(P.throw(Mt))}catch(St){De(St)}}function kt(Mt){Mt.done?te(Mt.value):M(Mt.value).then(Be,Ve)}kt((P=P.apply(Le,ot||[])).next())})};const u=new BT({useDefaults:!0,allErrors:!0});let f={is_open:!1,title:"Confirmation to load remote model from URL",content:"This page is instructing D3FEND to remotely load a CAD model from this URL:",options:[{label:"Cancel",value:"cancel"},{label:"Load Model",value:"load"}]},h={is_open:!1,title:"Confirmation to load remote model from compressed URL",content:"This page is instructing D3FEND to load a CAD model from this URL",options:[{label:"Cancel",value:"cancel"},{label:"Load Model",value:"load"}]},v;n.url.searchParams.get("load")&&(v=n.url.searchParams.get("load"),f.is_open=!0),n.url.searchParams.get("loadg")&&(h.is_open=!0);function p(Le){const ot=Le.detail;ot.value==="load"?(kn.add("loading remote URL"),ue(v),kn.clear()):ot.value}function d(Le){const ot=Le.detail;if(ot.value==="load"){kn.add("loading graph from URL");const W=n.url.searchParams.get("loadg"),P=N_.uncrush(W);let M=JSON.parse(P);q(M),kn.clear()}else ot.value}kf(()=>{kn.add("Mounting app...");try{jf.initialize(),kn.clear()}catch(Le){console.error("Failed to initialize Oxigraph in +layout.svelte",Le),Le.message}});const _={artifactSelectorNode:qR,vulnerabilitySelectorNode:LR,attackSelectorNode:RR,countermeasureSelectorNode:VR,informationSelectorNode:XR,conditionDefinitionNode:YR,agentSelectorNode:ZR,eventNode:nP},g={editableEdge:oP};let b={type:"editableEdge",data:{label:void 0},markerEnd:{type:s1.ArrowClosed}},D,B,S="d3fend-cad.json",O="";function y(){const Le=JSON.stringify({nodes:s,edges:r},null,4),ot=new Blob([Le],{type:"application/json"}),W=window.URL.createObjectURL(ot),P=document.createElement("a");P.href=W,P.download=S,t(6,B=0),document.body.appendChild(P),P.click(),document.body.removeChild(P),window.URL.revokeObjectURL(W)}function N(){console.log("Saving As D3FEND Ontology Extension..."),kn.add("Generating D3FEND Ontology Extension in Turtle file");let Le=prompt("Enter extension name to save as D3FEND Ontology Extension Turtle file as d3fend-cad-ext-<extension-name-here>.ttl","my-extension");const ot="d3fend-cad-ext-"+Le+".ttl";JI(Le).then(W=>{kn.clear();const P=new Blob([W],{type:"text/turtle"}),M=window.URL.createObjectURL(P),te=document.createElement("a");te.href=M,ot&&(te.download=ot,document.body.appendChild(te),te.click(),document.body.removeChild(te)),window.URL.revokeObjectURL(M)}).catch(W=>{console.error("Error generating D3FEND Ontology Extension in Turtle: ",W)})}function T(){O==="json"?F():O==="turtle"?j():O==="extension"&&N(),t(8,O="")}function j(){kn.add("generating ttl file"),console.log("!!! Turtle export engaged !!!"),KI().then(Le=>{kn.clear();const ot=new Blob([Le],{type:"text/turtle"}),W=window.URL.createObjectURL(ot),P=document.createElement("a");P.href=W;let M=prompt("Enter filename to save as Turtle file",S.replace("json","ttl"));t(6,B=0),M&&(P.download=M,document.body.appendChild(P),P.click(),document.body.removeChild(P)),window.URL.revokeObjectURL(W)}).catch(Le=>{console.error("Error serializing graph to Turtle: ",Le)})}function F(){const Le=JSON.stringify({nodes:s,edges:r},null,4),ot=new Blob([Le],{type:"application/json"}),W=window.URL.createObjectURL(ot),P=document.createElement("a");P.href=W;let M=prompt("Enter filename to save as JSON file",S);t(6,B=0),t(7,S=M),M&&(P.download=M,document.body.appendChild(P),P.click(),document.body.removeChild(P)),window.URL.revokeObjectURL(W)}function q(Le){try{const ot=u.compile(w_),W=ot(Le);t(5,D=ot.errors),W||(Le=k(ot.errors,Le));const P=Le.nodes,M=Le.edges;kn.add("loading graph from data..."),sf(P,M),R(),window.addEventListener("beforeunload",te=>{console.log("User is leaving the page"),te.preventDefault(),te.returnValue=""}),kn.clear()}catch(ot){console.error("Error parsing JSON:",ot)}}function k(Le,ot){t(6,B=Le.length);for(const W of Le)if(W.params.missingProperty=="user_properties"){let P=W.dataPath.replace(/\D/g,"");P=parseInt(P),ot.nodes[P].data.user_properties=[]}return ot}function L(){t(11,Dt=!0)}const{screenToFlowPosition:A,fitView:R}=lk();function Y(Le){const ot=Le.target.files[0];if(ot){const W=new FileReader;W.onload=P=>{if(typeof P.target.result=="string"){console.log(P.target.result),t(7,S=ot.name),t(7,S=ot.name);try{let M=JSON.parse(P.target.result);const te=u.compile(w_),De=te(M);t(5,D=te.errors),De||(M=k(te.errors,M));const Be=M.nodes,Ve=M.edges;sf(Be,Ve),R(),window.addEventListener("beforeunload",kt=>{console.log("User is leaving the page"),kt.preventDefault(),kt.returnValue=""})}catch(M){console.error("Error parsing JSON:",M)}}else console.error("File content is not a string.")},W.onerror=()=>{console.error("Error reading file:",W.error)},W.readAsText(ot)}}function z(Le){const ot=Le.target.files[0];if(ot){const W=new FileReader;W.onload=P=>{if(typeof P.target.result=="string"){console.log(P.target.result);try{const M=JSON.parse(P.target.result);jn.set([...s,...M.nodes]),Co.set([...r,...M.edges]),alert(` added ${M.nodes.length} nodes and ${M.edges.length} edges to the current graph `)}catch(M){console.error("Error parsing JSON:",M),alert(`Error parsing JSON:", ${M}`)}}else console.error("File content is not a string."),alert("File content is not a string.")},W.onerror=()=>{console.error("Error reading file:",W.error),alert(`Error reading file: ${W.error}`)},W.readAsText(ot)}}function ue(Le){return l(this,void 0,void 0,function*(){if(Le)try{const W=yield(yield fetch(Le)).json(),P=W.nodes,M=W.edges;sf(P,M),R()}catch(ot){console.error("Error parsing JSON:",ot)}})}function re(){const Le=document.createElement("input");Le.type="file",Le.accept=".json",Le.onchange=ot=>{Y(ot)},Le.click()}function ee(){const Le=document.createElement("input");Le.type="file",Le.accept=".json",Le.onchange=ot=>{z(ot)},Le.click()}const $=Le=>{Le.preventDefault(),Le.dataTransfer&&(Le.dataTransfer.dropEffect="move")},Q=Le=>console.log("handle onConnect",Le),pe=Le=>{if(Le.preventDefault(),!Le.dataTransfer)return null;const ot=Le.dataTransfer.getData("application/svelteflow"),W=A({x:Le.clientX,y:Le.clientY}),P={id:`${Math.random()}`,type:ot,position:W,data:{label:null,sequence:"0",user_properties:[]},origin:[.5,0]};s.push(P),jn.set(s)};function J(Le){return l(this,void 0,void 0,function*(){const ot=Le.detail;t(7,S=ot);try{const W=yield fetch(`/resources/cad/examples/${ot}`);if(!W.ok)throw new Error(`HTTP error! status: ${W.status}`);const P=yield W.json();console.log("Selected file contents:",P),q(P)}catch(W){console.error("Error fetching JSON file:",W)}})}let de;function it(){$I(),t(6,B=0),t(9,de="Example Graphs"),t(7,S="d3fend-cad.json")}let nt,Fe,ze;function Ce({detail:{event:Le,node:ot}}){Le.preventDefault();let W=50;t(10,nt={id:ot.id,top:Le.clientY<ze-W?Le.clientY:void 0,left:Le.clientX<Fe-W?Le.clientX:void 0,right:Le.clientX>=Fe-W?Fe-Le.clientX:void 0,bottom:Le.clientY>=ze-W?ze-Le.clientY:void 0}),Ge({detail:{event:Le,node:ot}})}function Ee(){t(10,nt=null),Pt.set(null)}function Ge({detail:{event:Le,node:ot}}){Pt.set(ot)}let Dt=!1,lt=!1,ge,Me;function nr(){kn.add("compressing graph to string..."),t(12,lt=!0);const Le=N_.crush(JSON.stringify({nodes:s,edges:r}));t(13,ge=encodeURIComponent(Le)),t(14,Me=n.url.origin+`/cad/?loadg=${ge}`),kn.clear()}function sr(Le){Dt=Le,t(11,Dt)}function xr(Le){i.$$.not_equal(f.is_open,Le)&&(f.is_open=Le,t(2,f))}function ur(Le){i.$$.not_equal(h.is_open,Le)&&(h.is_open=Le,t(3,h))}const Tr=()=>CA(Me);function fr(Le){lt=Le,t(12,lt)}function mt(Le){de=Le,t(9,de)}function At(){O=EA(this),t(8,O)}function tt(){S=this.value,t(7,S)}return[_,g,f,h,v,D,B,S,O,de,nt,Dt,lt,ge,Me,a,p,d,b,y,T,L,re,ee,$,Q,pe,J,it,Ce,Ee,nr,sr,xr,ur,Tr,fr,mt,At,tt]}class LP extends Gt{constructor(e){super(),Xt(this,e,OP,PP,Et,{nodeTypes:0,edgeTypes:1},null,[-1,-1,-1])}get nodeTypes(){return this.$$.ctx[0]}get edgeTypes(){return this.$$.ctx[1]}}function BP(i){let e,t;return e=new LP({}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function UP(i){let e,t;return e=new sk({props:{$$slots:{default:[BP]},$$scope:{ctx:i}}}),{c(){Xe(e.$$.fragment)},l(n){We(e.$$.fragment,n)},m(n,r){Qe(e,n,r),t=!0},p(n,[r]){const s={};r&4&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(ce(e.$$.fragment,n),t=!0)},o(n){me(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function MP(i,e,t){let n,{data:r}=e;return i.$$set=s=>{"data"in s&&t(0,r=s.data)},i.$$.update=()=>{i.$$.dirty&1&&t(1,n=r.remote_d3fend_tree?r.remote_d3fend_tree.map(s=>({...s,children:Jh(s.children,s["rdfs:label"])})):[]),i.$$.dirty&3&&(f1.set(n),h1.set(r.attack),c1.set(r.dao),d1.set(r.events),p1.set(r.weaknesses),_1.set(r.properties),v1.set(r.digital_information))},[r,n]}class h8 extends Gt{constructor(e){super(),Xt(this,e,MP,UP,Et,{data:0})}}export{h8 as component,a8 as universal};
