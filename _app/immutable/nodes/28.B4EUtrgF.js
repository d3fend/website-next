import{s as fe,c as Ge,u as Ze,g as Je,a as We,am as Ke,E as Qe,an as K,e as D,b as S,d as I,f as W,p as re,j as V,i as w,q as L,B as x,k as B,l as v,O as te,n as we,v as ye,t as ce,h as ge,m as ke,Y as et,C as He,I as tt,w as nt,o as De,N as Re,F as lt,a0 as rt,ak as at,V as st}from"../chunks/scheduler.XFNaxh87.js";import{S as de,i as ue,t as O,a as z,c as Y,b as q,m as H,d as M,f as ot,g as it,e as ft}from"../chunks/index.CZJgJfrq.js";import{c as dt,k as ut,i as ct,u as Le,g as gt,b as xe,n as Be,d as je,e as mt,p as bt,f as pt,r as ht,H as G,P as Z,h as vt,E as _t,j as Me,l as $t,S as Ct,C as wt,B as yt,a as kt,M as Tt}from"../chunks/style.B-eQvBBP.js";import{w as Xe}from"../chunks/index.BQBQGMgF.js";import{e as Ae}from"../chunks/each.BM1lhngx.js";import{A as Nt}from"../chunks/Alert.lZf8a_9Q.js";function Et(n){let e;const l=n[7].default,t=Ge(l,n,n[6],null);return{c(){t&&t.c()},l(o){t&&t.l(o)},m(o,r){t&&t.m(o,r),e=!0},p(o,[r]){t&&t.p&&(!e||r&64)&&Ze(t,l,o,o[6],e?We(l,o[6],r,null):Je(o[6]),null)},i(o){e||(O(t,o),e=!0)},o(o){z(t,o),e=!1},d(o){t&&t.d(o)}}}function Dt(n,e,l){let{$$slots:t={},$$scope:o}=e,{initialNodes:r=void 0}=e,{initialEdges:f=void 0}=e,{initialWidth:a=void 0}=e,{initialHeight:h=void 0}=e,{fitView:u=void 0}=e,{nodeOrigin:p=void 0}=e;const $=dt({nodes:r,edges:f,width:a,height:h,nodeOrigin:p,fitView:u});return Ke(ut,{getStore:()=>$}),Qe(()=>{$.reset()}),n.$$set=T=>{"initialNodes"in T&&l(0,r=T.initialNodes),"initialEdges"in T&&l(1,f=T.initialEdges),"initialWidth"in T&&l(2,a=T.initialWidth),"initialHeight"in T&&l(3,h=T.initialHeight),"fitView"in T&&l(4,u=T.fitView),"nodeOrigin"in T&&l(5,p=T.nodeOrigin),"$$scope"in T&&l(6,o=T.$$scope)},[r,f,a,h,u,p,o,t]}class It extends de{constructor(e){super(),ue(this,e,Dt,Et,fe,{initialNodes:0,initialEdges:1,initialWidth:2,initialHeight:3,fitView:4,nodeOrigin:5})}}const Fe=n=>ct(n);function St(){const{zoomIn:n,zoomOut:e,fitView:l,onbeforedelete:t,snapGrid:o,viewport:r,width:f,height:a,minZoom:h,maxZoom:u,panZoom:p,nodes:$,edges:T,domNode:E,nodeLookup:R,edgeLookup:g}=Le(),y=C=>{const d=Fe(C)&&pt(C)?C:K(R).get(C.id);return d?Be(d):null},F=(C,d,c={replace:!1})=>{var N;const k=(N=K(R).get(C))==null?void 0:N.internals.userNode;if(!k)return;const m=typeof d=="function"?d(k):d;c.replace?$.update(s=>s.map(b=>b.id===C?Fe(m)?m:{...b,...m}:b)):(Object.assign(k,m),$.update(s=>s))},A=C=>K(R).get(C);return{zoomIn:n,zoomOut:e,getInternalNode:A,getNode:C=>{var d;return(d=A(C))==null?void 0:d.internals.userNode},getNodes:C=>C===void 0?K($):Ue(K(R),C),getEdge:C=>K(g).get(C),getEdges:C=>C===void 0?K(T):Ue(K(g),C),setZoom:(C,d)=>{const c=K(p);return c?c.scaleTo(C,{duration:d==null?void 0:d.duration}):Promise.resolve(!1)},getZoom:()=>K(r).zoom,setViewport:async(C,d)=>{const c=K(r),k=K(p);return k?(await k.setViewport({x:C.x??c.x,y:C.y??c.y,zoom:C.zoom??c.zoom},{duration:d==null?void 0:d.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>K(r),setCenter:async(C,d,c)=>{const k=typeof(c==null?void 0:c.zoom)<"u"?c.zoom:K(u),m=K(p);return m?(await m.setViewport({x:K(f)/2-C*k,y:K(a)/2-d*k,zoom:k},{duration:c==null?void 0:c.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitView:l,fitBounds:async(C,d)=>{const c=K(p);if(!c)return Promise.resolve(!1);const k=gt(C,K(f),K(a),K(h),K(u),(d==null?void 0:d.padding)??.1);return await c.setViewport(k,{duration:d==null?void 0:d.duration}),Promise.resolve(!0)},getIntersectingNodes:(C,d=!0,c)=>{const k=xe(C),m=k?C:y(C);return m?(c||K($)).filter(N=>{const s=K(R).get(N.id);if(!s||!k&&N.id===C.id)return!1;const b=Be(s),j=je(b,m);return d&&j>0||j>=m.width*m.height}):[]},isNodeIntersecting:(C,d,c=!0)=>{const m=xe(C)?C:y(C);if(!m)return!1;const N=je(m,d);return c&&N>0||N>=m.width*m.height},deleteElements:async({nodes:C=[],edges:d=[]})=>{const{nodes:c,edges:k}=await mt({nodesToRemove:C,edgesToRemove:d,nodes:K($),edges:K(T),onBeforeDelete:K(t)});return c&&$.update(m=>m.filter(N=>!c.some(({id:s})=>s===N.id))),k&&T.update(m=>m.filter(N=>!k.some(({id:s})=>s===N.id))),{deletedNodes:c,deletedEdges:k}},screenToFlowPosition:(C,d={snapToGrid:!0})=>{const c=K(E);if(!c)return C;const k=d.snapToGrid?K(o):!1,{x:m,y:N,zoom:s}=K(r),{x:b,y:j}=c.getBoundingClientRect(),Q={x:C.x-b,y:C.y-j};return bt(Q,[m,N,s],k!==null,k||[1,1])},flowToScreenPosition:C=>{const d=K(E);if(!d)return C;const{x:c,y:k,zoom:m}=K(r),{x:N,y:s}=d.getBoundingClientRect(),b=ht(C,[c,k,m]);return{x:b.x+N,y:b.y+s}},toObject:()=>({nodes:K($).map(C=>({...C,position:{...C.position},data:{...C.data}})),edges:K(T).map(C=>({...C})),viewport:{...K(r)}}),updateNode:F,updateNodeData:(C,d,c)=>{var N;const k=(N=K(R).get(C))==null?void 0:N.internals.userNode;if(!k)return;const m=typeof d=="function"?d(k):d;k.data=c!=null&&c.replace?m:{...k.data,...m},$.update(s=>s)},viewport:r}}function Ue(n,e){var t;const l=[];for(const o of e){const r=n.get(o);if(r){const f="internals"in r?(t=r.internals)==null?void 0:t.userNode:r;l.push(f)}}return l}function Vt(){const{nodes:n}=Le();return n}function Lt(){const{edges:n}=Le();return n}function Ve(n,e){Ie.set(n),Se.set(e)}function Pt(){Ve([],[])}const Ie=Xe([]),Se=Xe([]);function Rt(n){let e,l,t="You can drag these nodes to the pane below.",o,r,f,a,h="Action",u,p,$="Event",T,E,R="Attack",g,y,F="Countermeasure",A,C,d,c="Endurant",k,m,N="Artifact",s,b,j="Information",Q,P,i="Agent",_,U,J,se="State",oe,ee,ae="Vulnerability",ie,le,he="Condition",ve,Te;return{c(){e=D("aside"),l=D("div"),l.textContent=t,o=S(),r=D("div"),f=D("div"),a=D("div"),a.textContent=h,u=S(),p=D("div"),p.textContent=$,T=S(),E=D("div"),E.textContent=R,g=S(),y=D("div"),y.textContent=F,A=S(),C=D("div"),d=D("div"),d.textContent=c,k=S(),m=D("div"),m.textContent=N,s=S(),b=D("div"),b.textContent=j,Q=S(),P=D("div"),P.textContent=i,_=S(),U=D("div"),J=D("div"),J.textContent=se,oe=S(),ee=D("div"),ee.textContent=ae,ie=S(),le=D("div"),le.textContent=he,this.h()},l($e){e=I($e,"ASIDE",{class:!0});var Ce=W(e);l=I(Ce,"DIV",{class:!0,"data-svelte-h":!0}),re(l)!=="svelte-1go4e39"&&(l.textContent=t),o=V(Ce),r=I(Ce,"DIV",{class:!0});var _e=W(r);f=I(_e,"DIV",{class:!0});var X=W(f);a=I(X,"DIV",{class:!0,"data-svelte-h":!0}),re(a)!=="svelte-1yk6dej"&&(a.textContent=h),u=V(X),p=I(X,"DIV",{class:!0,draggable:!0,style:!0,title:!0,"data-svelte-h":!0}),re(p)!=="svelte-suc6ue"&&(p.textContent=$),T=V(X),E=I(X,"DIV",{class:!0,draggable:!0,style:!0,title:!0,"data-svelte-h":!0}),re(E)!=="svelte-ja08us"&&(E.textContent=R),g=V(X),y=I(X,"DIV",{class:!0,draggable:!0,style:!0,title:!0,"data-svelte-h":!0}),re(y)!=="svelte-xqlqxu"&&(y.textContent=F),X.forEach(w),A=V(_e),C=I(_e,"DIV",{class:!0});var ne=W(C);d=I(ne,"DIV",{class:!0,"data-svelte-h":!0}),re(d)!=="svelte-13fxc4g"&&(d.textContent=c),k=V(ne),m=I(ne,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),re(m)!=="svelte-tcu1ri"&&(m.textContent=N),s=V(ne),b=I(ne,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),re(b)!=="svelte-gfryma"&&(b.textContent=j),Q=V(ne),P=I(ne,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),re(P)!=="svelte-tpnlmk"&&(P.textContent=i),ne.forEach(w),_=V(_e),U=I(_e,"DIV",{class:!0});var me=W(U);J=I(me,"DIV",{class:!0,"data-svelte-h":!0}),re(J)!=="svelte-82roym"&&(J.textContent=se),oe=V(me),ee=I(me,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),re(ee)!=="svelte-1y60nhe"&&(ee.textContent=ae),ie=V(me),le=I(me,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),re(le)!=="svelte-lecgfj"&&(le.textContent=he),me.forEach(w),_e.forEach(w),Ce.forEach(w),this.h()},h(){L(l,"class","label svelte-1e5g38t"),L(a,"class","text-center font-medium"),L(p,"class","actionNode node svelte-1e5g38t"),L(p,"draggable",!0),x(p,"text-align","center"),x(p,"background","white"),L(p,"title","d3f:Event"),L(E,"class","attackSelectorNode node svelte-1e5g38t"),L(E,"draggable",!0),x(E,"text-align","center"),x(E,"background","#FFD0D0"),L(E,"title","d3f:OffensiveTechnique"),L(y,"class","countermeasureSelectorNode node svelte-1e5g38t"),L(y,"draggable",!0),x(y,"text-align","center"),x(y,"background","#d6eaff"),L(y,"title","d3f:DefensiveTechnique"),L(f,"class","nodes-column svelte-1e5g38t"),L(d,"class","text-center font-medium"),L(m,"class","artifactSelectorNode art-node svelte-1e5g38t"),L(m,"draggable",!0),x(m,"text-align","center"),x(m,"background","#fff4dd"),L(b,"class","informationSelectorNode node svelte-1e5g38t"),L(b,"draggable",!0),x(b,"text-align","center"),x(b,"background","#e8f4ea"),L(P,"class","agentSelectorNode node svelte-1e5g38t"),L(P,"draggable",!0),x(P,"text-align","center"),x(P,"background","#f0e6e6"),L(C,"class","nodes-column svelte-1e5g38t"),L(J,"class","text-center font-medium"),L(ee,"class","vulnerabilitySelectorNode node svelte-1e5g38t"),L(ee,"draggable",!0),x(ee,"text-align","center"),x(ee,"background","#f9d999"),L(le,"class","conditionDefinitionNode node svelte-1e5g38t"),L(le,"draggable",!0),x(le,"text-align","center"),x(le,"background","#ece6ff"),L(U,"class","nodes-column svelte-1e5g38t"),L(r,"class","nodes-container svelte-1e5g38t"),L(e,"class","svelte-1e5g38t")},m($e,Ce){B($e,e,Ce),v(e,l),v(e,o),v(e,r),v(r,f),v(f,a),v(f,u),v(f,p),v(f,T),v(f,E),v(f,g),v(f,y),v(r,A),v(r,C),v(C,d),v(C,k),v(C,m),v(C,s),v(C,b),v(C,Q),v(C,P),v(r,_),v(r,U),v(U,J),v(U,oe),v(U,ee),v(U,ie),v(U,le),ve||(Te=[te(p,"dragstart",n[1]),te(E,"dragstart",n[2]),te(y,"dragstart",n[3]),te(m,"dragstart",n[4]),te(b,"dragstart",n[5]),te(P,"dragstart",n[6]),te(ee,"dragstart",n[7]),te(le,"dragstart",n[8])],ve=!0)},p:we,i:we,o:we,d($e){$e&&w(e),ve=!1,ye(Te)}}}function xt(n){const e=(p,$)=>{if(!p.dataTransfer)return null;p.dataTransfer.setData("application/svelteflow",$),p.dataTransfer.effectAllowed="move"};return[e,p=>e(p,"eventNode"),p=>e(p,"attackSelectorNode"),p=>e(p,"countermeasureSelectorNode"),p=>e(p,"artifactSelectorNode"),p=>e(p,"informationSelectorNode"),p=>e(p,"agentSelectorNode"),p=>e(p,"vulnerabilitySelectorNode"),p=>e(p,"conditionDefinitionNode")]}class Bt extends de{constructor(e){super(),ue(this,e,xt,Rt,fe,{})}}function jt(n){let e,l,t,o,r,f,a,h,u,p,$,T,E,R,g,y,F,A,C;return e=new G({props:{type:"target",position:Z.Top,id:"attackTopTarget",style:"background: #ffc3c7; border-width: 2px; border-color: red;",isConnectable:n[1]}}),t=new G({props:{type:"source",position:Z.Bottom,id:"attackBottomSource",style:"background: red; border-width: 2px; border-color: #ffc3c7;",isConnectable:n[1]}}),r=new G({props:{type:"source",position:Z.Right,id:"attackRightSource",style:"background: red; border-width: 2px; border-color:  #ffc3c7;",isConnectable:n[1]}}),{c(){Y(e.$$.fragment),l=S(),Y(t.$$.fragment),o=S(),Y(r.$$.fragment),f=S(),a=D("div"),h=D("i"),u=ce(`Attack Action
      `),p=D("input"),T=S(),E=D("br"),R=S(),g=D("input"),this.h()},l(d){q(e.$$.fragment,d),l=V(d),q(t.$$.fragment,d),o=V(d),q(r.$$.fragment,d),f=V(d),a=I(d,"DIV",{class:!0});var c=W(a);h=I(c,"I",{});var k=W(h);u=ge(k,`Attack Action
      `),p=I(k,"INPUT",{class:!0,type:!0,style:!0}),k.forEach(w),T=V(c),E=I(c,"BR",{}),R=V(c),g=I(c,"INPUT",{class:!0,type:!0,style:!0}),c.forEach(w),this.h()},h(){L(p,"class","nodrag svelte-599j17"),L(p,"type","text"),x(p,"text-align","left"),x(p,"background","#ffc3c7"),x(p,"width","30px"),x(p,"font-style","italic"),p.value=$=n[0].sequence,L(g,"class","nodrag svelte-599j17"),L(g,"type","text"),x(g,"text-align","center"),x(g,"background","#ffc3c7"),x(g,"font-weight","bold"),g.value=y=n[0].label,L(a,"class","attack svelte-599j17")},m(d,c){H(e,d,c),B(d,l,c),H(t,d,c),B(d,o,c),H(r,d,c),B(d,f,c),B(d,a,c),v(a,h),v(h,u),v(h,p),v(a,T),v(a,E),v(a,R),v(a,g),F=!0,A||(C=[te(p,"input",n[2]),te(g,"input",n[3])],A=!0)},p(d,[c]){const k={};c&2&&(k.isConnectable=d[1]),e.$set(k);const m={};c&2&&(m.isConnectable=d[1]),t.$set(m);const N={};c&2&&(N.isConnectable=d[1]),r.$set(N),(!F||c&1&&$!==($=d[0].sequence)&&p.value!==$)&&(p.value=$),(!F||c&1&&y!==(y=d[0].label)&&g.value!==y)&&(g.value=y)},i(d){F||(O(e.$$.fragment,d),O(t.$$.fragment,d),O(r.$$.fragment,d),F=!0)},o(d){z(e.$$.fragment,d),z(t.$$.fragment,d),z(r.$$.fragment,d),F=!1},d(d){d&&(w(l),w(o),w(f),w(a)),M(e,d),M(t,d),M(r,d),A=!1,ye(C)}}}function At(n,e,l){let{data:t}=e,{isConnectable:o}=e;const r=a=>{l(0,t.sequence=a.currentTarget.value,t)},f=a=>{l(0,t.label=a.currentTarget.value,t)};return n.$$set=a=>{"data"in a&&l(0,t=a.data),"isConnectable"in a&&l(1,o=a.isConnectable)},[t,o,r,f]}class Ft extends de{constructor(e){super(),ue(this,e,At,jt,fe,{data:0,isConnectable:1})}}function Ut(n){let e,l,t,o,r,f,a="Vulnerability",h,u,p,$,T,E,R,g,y,F,A,C,d;return e=new G({props:{type:"target",position:Z.Left,id:"attackLeftTarget",style:"top: 50%; background: #ffc3c7; border-color: red;",isConnectable:n[1]}}),t=new G({props:{type:"source",position:Z.Right,id:"vulnerabilityRightSource",style:"top: 50%; background: orange; border-width: 2px; border-color: #f9d999;",isConnectable:n[1]}}),{c(){Y(e.$$.fragment),l=S(),Y(t.$$.fragment),o=S(),r=D("div"),f=D("i"),f.textContent=a,h=S(),u=D("br"),p=S(),$=D("div"),T=D("input"),R=S(),g=D("div"),y=D("input"),this.h()},l(c){q(e.$$.fragment,c),l=V(c),q(t.$$.fragment,c),o=V(c),r=I(c,"DIV",{class:!0});var k=W(r);f=I(k,"I",{"data-svelte-h":!0}),re(f)!=="svelte-qgxj0w"&&(f.textContent=a),h=V(k),u=I(k,"BR",{}),p=V(k),$=I(k,"DIV",{});var m=W($);T=I(m,"INPUT",{class:!0,type:!0,style:!0}),m.forEach(w),R=V(k),g=I(k,"DIV",{});var N=W(g);y=I(N,"INPUT",{class:!0,type:!0,style:!0}),N.forEach(w),k.forEach(w),this.h()},h(){L(T,"class","nodrag svelte-kzp26p"),L(T,"type","text"),x(T,"text-align","center"),x(T,"background","#f9d999"),x(T,"font-weight","bold"),T.value=E=n[0].weakness||"weakness",L(y,"class","nodrag svelte-kzp26p"),L(y,"type","text"),x(y,"text-align","center"),x(y,"background","#f9d999"),x(y,"font-weight","bold"),y.value=F=n[0].label,L(r,"class","vulnerability svelte-kzp26p")},m(c,k){H(e,c,k),B(c,l,k),H(t,c,k),B(c,o,k),B(c,r,k),v(r,f),v(r,h),v(r,u),v(r,p),v(r,$),v($,T),v(r,R),v(r,g),v(g,y),A=!0,C||(d=[te(T,"input",n[2]),te(y,"input",n[3])],C=!0)},p(c,[k]){const m={};k&2&&(m.isConnectable=c[1]),e.$set(m);const N={};k&2&&(N.isConnectable=c[1]),t.$set(N),(!A||k&1&&E!==(E=c[0].weakness||"weakness")&&T.value!==E)&&(T.value=E),(!A||k&1&&F!==(F=c[0].label)&&y.value!==F)&&(y.value=F)},i(c){A||(O(e.$$.fragment,c),O(t.$$.fragment,c),A=!0)},o(c){z(e.$$.fragment,c),z(t.$$.fragment,c),A=!1},d(c){c&&(w(l),w(o),w(r)),M(e,c),M(t,c),C=!1,ye(d)}}}function Ot(n,e,l){let{data:t}=e,{isConnectable:o}=e;const r=a=>{l(0,t.weakness=a.currentTarget.value,t)},f=a=>{l(0,t.label=a.currentTarget.value,t)};return n.$$set=a=>{"data"in a&&l(0,t=a.data),"isConnectable"in a&&l(1,o=a.isConnectable)},[t,o,r,f]}class zt extends de{constructor(e){super(),ue(this,e,Ot,Ut,fe,{data:0,isConnectable:1})}}function Yt(n){let e,l,t,o,r,f,a,h,u,p,$,T,E,R,g,y,F="Artifact",A,C,d,c,k,m,N,s,b,j,Q,P;return e=new G({props:{type:"target",position:Z.Left,id:"attackLeftTarget",style:"top: 20%; background: #ffc3c7; border-width: 2px; border-color: red;",isConnectable:n[1]}}),t=new G({props:{type:"target",position:Z.Right,id:"defenseRightTarget",style:"top: 20%; background: #8ac3ff; border-width: 2px; border-color: #062f4f;",isConnectable:n[1]}}),r=new G({props:{type:"target",position:Z.Left,id:"vulnerabilityLeftTarget",style:"top: 50%; border-color: orange; border-width: 2px; background: #f9d999;",isConnectable:n[1]}}),a=new G({props:{type:"target",position:Z.Top,id:"artTopTarget",style:"background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:n[1]}}),u=new G({props:{type:"target",position:Z.Left,id:"artLeftTarget",style:"top: 80%; background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:n[1]}}),$=new G({props:{type:"source",position:Z.Bottom,id:"artBottomSource",style:"border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:n[1]}}),E=new G({props:{type:"source",position:Z.Right,id:"artRightSource",style:"top: 80%; border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:n[1]}}),{c(){Y(e.$$.fragment),l=S(),Y(t.$$.fragment),o=S(),Y(r.$$.fragment),f=S(),Y(a.$$.fragment),h=S(),Y(u.$$.fragment),p=S(),Y($.$$.fragment),T=S(),Y(E.$$.fragment),R=S(),g=D("div"),y=D("i"),y.textContent=F,A=D("br"),C=S(),d=D("div"),c=D("input"),m=S(),N=D("div"),s=D("input"),this.h()},l(i){q(e.$$.fragment,i),l=V(i),q(t.$$.fragment,i),o=V(i),q(r.$$.fragment,i),f=V(i),q(a.$$.fragment,i),h=V(i),q(u.$$.fragment,i),p=V(i),q($.$$.fragment,i),T=V(i),q(E.$$.fragment,i),R=V(i),g=I(i,"DIV",{class:!0});var _=W(g);y=I(_,"I",{"data-svelte-h":!0}),re(y)!=="svelte-148na2y"&&(y.textContent=F),A=I(_,"BR",{}),C=V(_),d=I(_,"DIV",{});var U=W(d);c=I(U,"INPUT",{class:!0,type:!0,style:!0}),U.forEach(w),m=V(_),N=I(_,"DIV",{});var J=W(N);s=I(J,"INPUT",{class:!0,type:!0,style:!0}),J.forEach(w),_.forEach(w),this.h()},h(){L(c,"class","nodrag svelte-6owcwy"),L(c,"type","text"),x(c,"text-align","center"),x(c,"background","#fff4dd"),x(c,"margin-bottom","3px"),c.value=k=n[0].d3f_class||"< d3fend class >",L(s,"class","nodrag svelte-6owcwy"),L(s,"type","text"),x(s,"text-align","center"),x(s,"background","#fff4dd"),x(s,"font-weight","bold"),s.value=b=n[0].label,L(g,"class","artifact svelte-6owcwy")},m(i,_){H(e,i,_),B(i,l,_),H(t,i,_),B(i,o,_),H(r,i,_),B(i,f,_),H(a,i,_),B(i,h,_),H(u,i,_),B(i,p,_),H($,i,_),B(i,T,_),H(E,i,_),B(i,R,_),B(i,g,_),v(g,y),v(g,A),v(g,C),v(g,d),v(d,c),v(g,m),v(g,N),v(N,s),j=!0,Q||(P=[te(c,"input",n[2]),te(s,"input",n[3])],Q=!0)},p(i,[_]){const U={};_&2&&(U.isConnectable=i[1]),e.$set(U);const J={};_&2&&(J.isConnectable=i[1]),t.$set(J);const se={};_&2&&(se.isConnectable=i[1]),r.$set(se);const oe={};_&2&&(oe.isConnectable=i[1]),a.$set(oe);const ee={};_&2&&(ee.isConnectable=i[1]),u.$set(ee);const ae={};_&2&&(ae.isConnectable=i[1]),$.$set(ae);const ie={};_&2&&(ie.isConnectable=i[1]),E.$set(ie),(!j||_&1&&k!==(k=i[0].d3f_class||"< d3fend class >")&&c.value!==k)&&(c.value=k),(!j||_&1&&b!==(b=i[0].label)&&s.value!==b)&&(s.value=b)},i(i){j||(O(e.$$.fragment,i),O(t.$$.fragment,i),O(r.$$.fragment,i),O(a.$$.fragment,i),O(u.$$.fragment,i),O($.$$.fragment,i),O(E.$$.fragment,i),j=!0)},o(i){z(e.$$.fragment,i),z(t.$$.fragment,i),z(r.$$.fragment,i),z(a.$$.fragment,i),z(u.$$.fragment,i),z($.$$.fragment,i),z(E.$$.fragment,i),j=!1},d(i){i&&(w(l),w(o),w(f),w(h),w(p),w(T),w(R),w(g)),M(e,i),M(t,i),M(r,i),M(a,i),M(u,i),M($,i),M(E,i),Q=!1,ye(P)}}}function qt(n,e,l){let{data:t}=e,{isConnectable:o}=e;const r=a=>{l(0,t.d3f_class=a.currentTarget.value,t)},f=a=>{l(0,t.label=a.currentTarget.value,t)};return n.$$set=a=>{"data"in a&&l(0,t=a.data),"isConnectable"in a&&l(1,o=a.isConnectable)},[t,o,r,f]}class Ht extends de{constructor(e){super(),ue(this,e,qt,Yt,fe,{data:0,isConnectable:1})}}function Mt(n){let e,l,t,o,r,f,a,h,u="Defense Action",p,$,T,E,R,g,y,F,A,C,d,c,k,m,N,s;return e=new G({props:{type:"target",position:Z.Top,id:"defenseTopTarget",style:"border-color: blue; background: #d6eaff; border-width: 2px",isConnectable:n[1]}}),t=new G({props:{type:"source",position:Z.Left,id:"defenseLeftSource",style:"background: blue; border-color: #d6eaff; border-width: 2px",isConnectable:n[1]}}),r=new G({props:{type:"source",position:Z.Bottom,id:"defenseBottomSource",style:"background: blue; border-color: #d6eaff; border-width: 2px",isConnectable:n[1]}}),{c(){Y(e.$$.fragment),l=S(),Y(t.$$.fragment),o=S(),Y(r.$$.fragment),f=S(),a=D("div"),h=D("i"),h.textContent=u,p=S(),$=D("input"),E=S(),R=D("br"),g=S(),y=D("div"),F=D("input"),C=S(),d=D("div"),c=D("input"),this.h()},l(b){q(e.$$.fragment,b),l=V(b),q(t.$$.fragment,b),o=V(b),q(r.$$.fragment,b),f=V(b),a=I(b,"DIV",{class:!0});var j=W(a);h=I(j,"I",{"data-svelte-h":!0}),re(h)!=="svelte-1x9m2lq"&&(h.textContent=u),p=V(j),$=I(j,"INPUT",{class:!0,type:!0,style:!0}),E=V(j),R=I(j,"BR",{}),g=V(j),y=I(j,"DIV",{});var Q=W(y);F=I(Q,"INPUT",{class:!0,type:!0,style:!0}),Q.forEach(w),C=V(j),d=I(j,"DIV",{});var P=W(d);c=I(P,"INPUT",{class:!0,type:!0,style:!0}),P.forEach(w),j.forEach(w),this.h()},h(){L($,"class","nodrag svelte-f15ye7"),L($,"type","text"),x($,"text-align","left"),x($,"background","#d6eaff"),x($,"width","30px"),x($,"font-style","italic"),$.value=T=n[0].sequence,L(F,"class","nodrag svelte-f15ye7"),L(F,"type","text"),x(F,"text-align","center"),x(F,"background","#d6eaff"),F.value=A=n[0].d3f_class||"< d3fend class >",L(c,"class","nodrag svelte-f15ye7"),L(c,"type","text"),x(c,"text-align","center"),x(c,"background","#d6eaff"),x(c,"font-weight","bold"),c.value=k=n[0].label,L(a,"class","countermeasure svelte-f15ye7")},m(b,j){H(e,b,j),B(b,l,j),H(t,b,j),B(b,o,j),H(r,b,j),B(b,f,j),B(b,a,j),v(a,h),v(a,p),v(a,$),v(a,E),v(a,R),v(a,g),v(a,y),v(y,F),v(a,C),v(a,d),v(d,c),m=!0,N||(s=[te($,"input",n[2]),te(F,"input",n[3]),te(c,"input",n[4])],N=!0)},p(b,[j]){const Q={};j&2&&(Q.isConnectable=b[1]),e.$set(Q);const P={};j&2&&(P.isConnectable=b[1]),t.$set(P);const i={};j&2&&(i.isConnectable=b[1]),r.$set(i),(!m||j&1&&T!==(T=b[0].sequence)&&$.value!==T)&&($.value=T),(!m||j&1&&A!==(A=b[0].d3f_class||"< d3fend class >")&&F.value!==A)&&(F.value=A),(!m||j&1&&k!==(k=b[0].label)&&c.value!==k)&&(c.value=k)},i(b){m||(O(e.$$.fragment,b),O(t.$$.fragment,b),O(r.$$.fragment,b),m=!0)},o(b){z(e.$$.fragment,b),z(t.$$.fragment,b),z(r.$$.fragment,b),m=!1},d(b){b&&(w(l),w(o),w(f),w(a)),M(e,b),M(t,b),M(r,b),N=!1,ye(s)}}}function Xt(n,e,l){let{data:t}=e,{isConnectable:o}=e;const r=h=>{l(0,t.sequence=h.currentTarget.value,t)},f=h=>{l(0,t.label=h.currentTarget.value,t)},a=h=>{l(0,t.label=h.currentTarget.value,t)};return n.$$set=h=>{"data"in h&&l(0,t=h.data),"isConnectable"in h&&l(1,o=h.isConnectable)},[t,o,r,f,a]}class Gt extends de{constructor(e){super(),ue(this,e,Xt,Mt,fe,{data:0,isConnectable:1})}}function Zt(n){let e,l,t,o,r,f,a,h,u,p,$,T,E,R,g,y,F="Information",A,C,d,c,k,m,N;return e=new G({props:{type:"target",position:Z.Left,id:"attackLeftTarget",style:"top: 20%; background: #ffc3c7; border-width: 2px; border-color: red;",isConnectable:n[1]}}),t=new G({props:{type:"target",position:Z.Right,id:"defenseRightTarget",style:"top: 20%; background: #8ac3ff; border-width: 2px; border-color: #062f4f;",isConnectable:n[1]}}),r=new G({props:{type:"target",position:Z.Left,id:"vulnerabilityLeftTarget",style:"top: 50%; border-color: orange; border-width: 2px; background: #f9d999;",isConnectable:n[1]}}),a=new G({props:{type:"target",position:Z.Top,id:"artTopTarget",style:"background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:n[1]}}),u=new G({props:{type:"target",position:Z.Left,id:"artLeftTarget",style:"top: 80%; background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:n[1]}}),$=new G({props:{type:"source",position:Z.Bottom,id:"artBottomSource",style:"border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:n[1]}}),E=new G({props:{type:"source",position:Z.Right,id:"artRightSource",style:"top: 80%; border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:n[1]}}),{c(){Y(e.$$.fragment),l=S(),Y(t.$$.fragment),o=S(),Y(r.$$.fragment),f=S(),Y(a.$$.fragment),h=S(),Y(u.$$.fragment),p=S(),Y($.$$.fragment),T=S(),Y(E.$$.fragment),R=S(),g=D("div"),y=D("i"),y.textContent=F,A=D("br"),C=S(),d=D("input"),this.h()},l(s){q(e.$$.fragment,s),l=V(s),q(t.$$.fragment,s),o=V(s),q(r.$$.fragment,s),f=V(s),q(a.$$.fragment,s),h=V(s),q(u.$$.fragment,s),p=V(s),q($.$$.fragment,s),T=V(s),q(E.$$.fragment,s),R=V(s),g=I(s,"DIV",{class:!0});var b=W(g);y=I(b,"I",{"data-svelte-h":!0}),re(y)!=="svelte-1ocpiyk"&&(y.textContent=F),A=I(b,"BR",{}),C=V(b),d=I(b,"INPUT",{class:!0,type:!0,style:!0}),b.forEach(w),this.h()},h(){L(d,"class","nodrag svelte-1co8z3c"),L(d,"type","text"),x(d,"text-align","center"),x(d,"background","#e8f4ea"),x(d,"border-color","#b8d8be"),x(d,"font-weight","bold"),d.value=c=n[0].label,L(g,"class","information svelte-1co8z3c")},m(s,b){H(e,s,b),B(s,l,b),H(t,s,b),B(s,o,b),H(r,s,b),B(s,f,b),H(a,s,b),B(s,h,b),H(u,s,b),B(s,p,b),H($,s,b),B(s,T,b),H(E,s,b),B(s,R,b),B(s,g,b),v(g,y),v(g,A),v(g,C),v(g,d),k=!0,m||(N=te(d,"input",n[2]),m=!0)},p(s,[b]){const j={};b&2&&(j.isConnectable=s[1]),e.$set(j);const Q={};b&2&&(Q.isConnectable=s[1]),t.$set(Q);const P={};b&2&&(P.isConnectable=s[1]),r.$set(P);const i={};b&2&&(i.isConnectable=s[1]),a.$set(i);const _={};b&2&&(_.isConnectable=s[1]),u.$set(_);const U={};b&2&&(U.isConnectable=s[1]),$.$set(U);const J={};b&2&&(J.isConnectable=s[1]),E.$set(J),(!k||b&1&&c!==(c=s[0].label)&&d.value!==c)&&(d.value=c)},i(s){k||(O(e.$$.fragment,s),O(t.$$.fragment,s),O(r.$$.fragment,s),O(a.$$.fragment,s),O(u.$$.fragment,s),O($.$$.fragment,s),O(E.$$.fragment,s),k=!0)},o(s){z(e.$$.fragment,s),z(t.$$.fragment,s),z(r.$$.fragment,s),z(a.$$.fragment,s),z(u.$$.fragment,s),z($.$$.fragment,s),z(E.$$.fragment,s),k=!1},d(s){s&&(w(l),w(o),w(f),w(h),w(p),w(T),w(R),w(g)),M(e,s),M(t,s),M(r,s),M(a,s),M(u,s),M($,s),M(E,s),m=!1,N()}}}function Jt(n,e,l){let{data:t}=e,{isConnectable:o}=e;const r=f=>{l(0,t.label=f.currentTarget.value,t)};return n.$$set=f=>{"data"in f&&l(0,t=f.data),"isConnectable"in f&&l(1,o=f.isConnectable)},[t,o,r]}class Wt extends de{constructor(e){super(),ue(this,e,Jt,Zt,fe,{data:0,isConnectable:1})}}function Kt(n){let e,l,t,o,r,f,a,h,u,p,$,T,E,R,g="Condition",y,F,A,C,d,c,k;return e=new G({props:{type:"target",position:Z.Left,id:"attackLeftTarget",style:"top: 20%; background: #ffc3c7; border-width: 2px; border-color: red;",isConnectable:n[1]}}),t=new G({props:{type:"target",position:Z.Right,id:"defenseRightTarget",style:"top: 20%; background: #8ac3ff; border-width: 2px; border-color: #062f4f;",isConnectable:n[1]}}),r=new G({props:{type:"target",position:Z.Top,id:"artTopTarget",style:"background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:n[1]}}),a=new G({props:{type:"target",position:Z.Left,id:"artLeftTarget",style:"top: 80%; background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:n[1]}}),u=new G({props:{type:"source",position:Z.Bottom,id:"artBottomSource",style:"border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:n[1]}}),$=new G({props:{type:"source",position:Z.Right,id:"artRightSource",style:"top: 80%; border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:n[1]}}),{c(){Y(e.$$.fragment),l=S(),Y(t.$$.fragment),o=S(),Y(r.$$.fragment),f=S(),Y(a.$$.fragment),h=S(),Y(u.$$.fragment),p=S(),Y($.$$.fragment),T=S(),E=D("div"),R=D("i"),R.textContent=g,y=D("br"),F=S(),A=D("input"),this.h()},l(m){q(e.$$.fragment,m),l=V(m),q(t.$$.fragment,m),o=V(m),q(r.$$.fragment,m),f=V(m),q(a.$$.fragment,m),h=V(m),q(u.$$.fragment,m),p=V(m),q($.$$.fragment,m),T=V(m),E=I(m,"DIV",{class:!0});var N=W(E);R=I(N,"I",{"data-svelte-h":!0}),re(R)!=="svelte-26somz"&&(R.textContent=g),y=I(N,"BR",{}),F=V(N),A=I(N,"INPUT",{class:!0,type:!0,style:!0}),N.forEach(w),this.h()},h(){L(A,"class","nodrag svelte-hsam31"),L(A,"type","text"),x(A,"text-align","center"),x(A,"background","#ece6ff"),x(A,"font-weight","bold"),A.value=C=n[0].label,L(E,"class","artifact svelte-hsam31")},m(m,N){H(e,m,N),B(m,l,N),H(t,m,N),B(m,o,N),H(r,m,N),B(m,f,N),H(a,m,N),B(m,h,N),H(u,m,N),B(m,p,N),H($,m,N),B(m,T,N),B(m,E,N),v(E,R),v(E,y),v(E,F),v(E,A),d=!0,c||(k=te(A,"input",n[2]),c=!0)},p(m,[N]){const s={};N&2&&(s.isConnectable=m[1]),e.$set(s);const b={};N&2&&(b.isConnectable=m[1]),t.$set(b);const j={};N&2&&(j.isConnectable=m[1]),r.$set(j);const Q={};N&2&&(Q.isConnectable=m[1]),a.$set(Q);const P={};N&2&&(P.isConnectable=m[1]),u.$set(P);const i={};N&2&&(i.isConnectable=m[1]),$.$set(i),(!d||N&1&&C!==(C=m[0].label)&&A.value!==C)&&(A.value=C)},i(m){d||(O(e.$$.fragment,m),O(t.$$.fragment,m),O(r.$$.fragment,m),O(a.$$.fragment,m),O(u.$$.fragment,m),O($.$$.fragment,m),d=!0)},o(m){z(e.$$.fragment,m),z(t.$$.fragment,m),z(r.$$.fragment,m),z(a.$$.fragment,m),z(u.$$.fragment,m),z($.$$.fragment,m),d=!1},d(m){m&&(w(l),w(o),w(f),w(h),w(p),w(T),w(E)),M(e,m),M(t,m),M(r,m),M(a,m),M(u,m),M($,m),c=!1,k()}}}function Qt(n,e,l){let{data:t}=e,{isConnectable:o}=e;const r=f=>{l(0,t.label=f.currentTarget.value,t)};return n.$$set=f=>{"data"in f&&l(0,t=f.data),"isConnectable"in f&&l(1,o=f.isConnectable)},[t,o,r]}class en extends de{constructor(e){super(),ue(this,e,Qt,Kt,fe,{data:0,isConnectable:1})}}function tn(n){let e,l,t,o,r,f,a,h,u,p,$,T,E,R,g,y,F="Agent",A,C,d,c,k,m,N;return e=new G({props:{type:"target",position:Z.Left,id:"attackLeftTarget",style:"top: 20%; background: #ffc3c7; border-width: 2px; border-color: red;",isConnectable:n[1]}}),t=new G({props:{type:"target",position:Z.Right,id:"defenseRightTarget",style:"top: 20%; background: #8ac3ff; border-width: 2px; border-color: #062f4f;",isConnectable:n[1]}}),r=new G({props:{type:"target",position:Z.Left,id:"vulnerabilityLeftTarget",style:"top: 50%; border-color: orange; border-width: 2px; background: #f9d999;",isConnectable:n[1]}}),a=new G({props:{type:"target",position:Z.Top,id:"artTopTarget",style:"background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:n[1]}}),u=new G({props:{type:"target",position:Z.Left,id:"artLeftTarget",style:"top: 80%; background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:n[1]}}),$=new G({props:{type:"source",position:Z.Bottom,id:"artBottomSource",style:"border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:n[1]}}),E=new G({props:{type:"source",position:Z.Right,id:"artRightSource",style:"top: 80%; border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:n[1]}}),{c(){Y(e.$$.fragment),l=S(),Y(t.$$.fragment),o=S(),Y(r.$$.fragment),f=S(),Y(a.$$.fragment),h=S(),Y(u.$$.fragment),p=S(),Y($.$$.fragment),T=S(),Y(E.$$.fragment),R=S(),g=D("div"),y=D("i"),y.textContent=F,A=D("br"),C=S(),d=D("input"),this.h()},l(s){q(e.$$.fragment,s),l=V(s),q(t.$$.fragment,s),o=V(s),q(r.$$.fragment,s),f=V(s),q(a.$$.fragment,s),h=V(s),q(u.$$.fragment,s),p=V(s),q($.$$.fragment,s),T=V(s),q(E.$$.fragment,s),R=V(s),g=I(s,"DIV",{class:!0});var b=W(g);y=I(b,"I",{"data-svelte-h":!0}),re(y)!=="svelte-13s1fb"&&(y.textContent=F),A=I(b,"BR",{}),C=V(b),d=I(b,"INPUT",{class:!0,type:!0,style:!0}),b.forEach(w),this.h()},h(){L(d,"class","nodrag svelte-cj6vld"),L(d,"type","text"),x(d,"text-align","center"),x(d,"background","#f0e6e6"),x(d,"font-weight","bold"),d.value=c=n[0].label,L(g,"class","agent svelte-cj6vld")},m(s,b){H(e,s,b),B(s,l,b),H(t,s,b),B(s,o,b),H(r,s,b),B(s,f,b),H(a,s,b),B(s,h,b),H(u,s,b),B(s,p,b),H($,s,b),B(s,T,b),H(E,s,b),B(s,R,b),B(s,g,b),v(g,y),v(g,A),v(g,C),v(g,d),k=!0,m||(N=te(d,"input",n[2]),m=!0)},p(s,[b]){const j={};b&2&&(j.isConnectable=s[1]),e.$set(j);const Q={};b&2&&(Q.isConnectable=s[1]),t.$set(Q);const P={};b&2&&(P.isConnectable=s[1]),r.$set(P);const i={};b&2&&(i.isConnectable=s[1]),a.$set(i);const _={};b&2&&(_.isConnectable=s[1]),u.$set(_);const U={};b&2&&(U.isConnectable=s[1]),$.$set(U);const J={};b&2&&(J.isConnectable=s[1]),E.$set(J),(!k||b&1&&c!==(c=s[0].label)&&d.value!==c)&&(d.value=c)},i(s){k||(O(e.$$.fragment,s),O(t.$$.fragment,s),O(r.$$.fragment,s),O(a.$$.fragment,s),O(u.$$.fragment,s),O($.$$.fragment,s),O(E.$$.fragment,s),k=!0)},o(s){z(e.$$.fragment,s),z(t.$$.fragment,s),z(r.$$.fragment,s),z(a.$$.fragment,s),z(u.$$.fragment,s),z($.$$.fragment,s),z(E.$$.fragment,s),k=!1},d(s){s&&(w(l),w(o),w(f),w(h),w(p),w(T),w(R),w(g)),M(e,s),M(t,s),M(r,s),M(a,s),M(u,s),M($,s),M(E,s),m=!1,N()}}}function nn(n,e,l){let{data:t}=e,{isConnectable:o}=e;const r=f=>{l(0,t.label=f.currentTarget.value,t)};return n.$$set=f=>{"data"in f&&l(0,t=f.data),"isConnectable"in f&&l(1,o=f.isConnectable)},[t,o,r]}class ln extends de{constructor(e){super(),ue(this,e,nn,tn,fe,{data:0,isConnectable:1})}}function rn(n){let e,l,t,o,r,f,a,h,u,p,$,T,E,R,g,y,F,A,C,d,c,k,m,N,s,b,j,Q,P;return e=new G({props:{type:"target",position:Z.Left,id:"attackLeftTarget",style:"top: 20%; background: #ffc3c7; border-width: 2px; border-color: red;",isConnectable:n[1]}}),t=new G({props:{type:"target",position:Z.Right,id:"defenseRightTarget",style:"top: 20%; background: #8ac3ff; border-width: 2px; border-color: #062f4f;",isConnectable:n[1]}}),r=new G({props:{type:"target",position:Z.Left,id:"vulnerabilityLeftTarget",style:"top: 50%; border-color: orange; border-width: 2px; background: #f9d999;",isConnectable:n[1]}}),a=new G({props:{type:"target",position:Z.Top,id:"artTopTarget",style:"background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:n[1]}}),u=new G({props:{type:"target",position:Z.Left,id:"artLeftTarget",style:"top: 80%; background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:n[1]}}),$=new G({props:{type:"source",position:Z.Bottom,id:"artBottomSource",style:"border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:n[1]}}),E=new G({props:{type:"source",position:Z.Right,id:"artRightSource",style:"top: 80%; border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:n[1]}}),{c(){Y(e.$$.fragment),l=S(),Y(t.$$.fragment),o=S(),Y(r.$$.fragment),f=S(),Y(a.$$.fragment),h=S(),Y(u.$$.fragment),p=S(),Y($.$$.fragment),T=S(),Y(E.$$.fragment),R=S(),g=D("div"),y=D("i"),F=ce(n[2]),A=D("br"),C=S(),d=D("div"),c=D("input"),m=S(),N=D("div"),s=D("input"),this.h()},l(i){q(e.$$.fragment,i),l=V(i),q(t.$$.fragment,i),o=V(i),q(r.$$.fragment,i),f=V(i),q(a.$$.fragment,i),h=V(i),q(u.$$.fragment,i),p=V(i),q($.$$.fragment,i),T=V(i),q(E.$$.fragment,i),R=V(i),g=I(i,"DIV",{class:!0});var _=W(g);y=I(_,"I",{});var U=W(y);F=ge(U,n[2]),U.forEach(w),A=I(_,"BR",{}),C=V(_),d=I(_,"DIV",{});var J=W(d);c=I(J,"INPUT",{class:!0,type:!0,style:!0}),J.forEach(w),m=V(_),N=I(_,"DIV",{});var se=W(N);s=I(se,"INPUT",{class:!0,type:!0,style:!0}),se.forEach(w),_.forEach(w),this.h()},h(){L(c,"class","nodrag svelte-10ekf4r"),L(c,"type","text"),x(c,"text-align","center"),x(c,"background","white"),c.value=k=n[0].d3f_class||"< d3fend class >",L(s,"class","nodrag svelte-10ekf4r"),L(s,"type","text"),x(s,"text-align","center"),x(s,"background","white"),x(s,"font-weight","bold"),s.value=b=n[0].label,L(g,"class","agent svelte-10ekf4r")},m(i,_){H(e,i,_),B(i,l,_),H(t,i,_),B(i,o,_),H(r,i,_),B(i,f,_),H(a,i,_),B(i,h,_),H(u,i,_),B(i,p,_),H($,i,_),B(i,T,_),H(E,i,_),B(i,R,_),B(i,g,_),v(g,y),v(y,F),v(g,A),v(g,C),v(g,d),v(d,c),v(g,m),v(g,N),v(N,s),j=!0,Q||(P=[te(c,"input",n[4]),te(s,"input",n[5])],Q=!0)},p(i,[_]){const U={};_&2&&(U.isConnectable=i[1]),e.$set(U);const J={};_&2&&(J.isConnectable=i[1]),t.$set(J);const se={};_&2&&(se.isConnectable=i[1]),r.$set(se);const oe={};_&2&&(oe.isConnectable=i[1]),a.$set(oe);const ee={};_&2&&(ee.isConnectable=i[1]),u.$set(ee);const ae={};_&2&&(ae.isConnectable=i[1]),$.$set(ae);const ie={};_&2&&(ie.isConnectable=i[1]),E.$set(ie),(!j||_&4)&&ke(F,i[2]),(!j||_&1&&k!==(k=i[0].d3f_class||"< d3fend class >")&&c.value!==k)&&(c.value=k),(!j||_&1&&b!==(b=i[0].label)&&s.value!==b)&&(s.value=b)},i(i){j||(O(e.$$.fragment,i),O(t.$$.fragment,i),O(r.$$.fragment,i),O(a.$$.fragment,i),O(u.$$.fragment,i),O($.$$.fragment,i),O(E.$$.fragment,i),j=!0)},o(i){z(e.$$.fragment,i),z(t.$$.fragment,i),z(r.$$.fragment,i),z(a.$$.fragment,i),z(u.$$.fragment,i),z($.$$.fragment,i),z(E.$$.fragment,i),j=!1},d(i){i&&(w(l),w(o),w(f),w(h),w(p),w(T),w(R),w(g)),M(e,i),M(t,i),M(r,i),M(a,i),M(u,i),M($,i),M(E,i),Q=!1,ye(P)}}}function an(n,e,l){let{data:t}=e,{isConnectable:o}=e,{nodeType:r="EventNode"}=e,{nodeTypeLabel:f="Event"}=e;const a=u=>{l(0,t.label=u.currentTarget.value,t)},h=u=>{l(0,t.label=u.currentTarget.value,t)};return n.$$set=u=>{"data"in u&&l(0,t=u.data),"isConnectable"in u&&l(1,o=u.isConnectable),"nodeType"in u&&l(3,r=u.nodeType),"nodeTypeLabel"in u&&l(2,f=u.nodeTypeLabel)},[t,o,f,r,a,h]}class sn extends de{constructor(e){super(),ue(this,e,an,rn,fe,{data:0,isConnectable:1,nodeType:3,nodeTypeLabel:2})}}function on(n){let e,l,t,o=`translate(-50%, -50%) translate(${n[4]}px,${n[3]}px)`,r,f;return{c(){e=D("div"),l=D("input"),this.h()},l(a){e=I(a,"DIV",{class:!0});var h=W(e);l=I(h,"INPUT",{class:!0,type:!0,style:!0}),h.forEach(w),this.h()},h(){L(l,"class","nodrag nopan edge-label-text svelte-770c5k"),L(l,"type","text"),x(l,"text-align","center"),x(l,"font-weight","bold"),l.value=t=n[0].label,L(e,"class","edge-label-container svelte-770c5k"),x(e,"transform",o)},m(a,h){B(a,e,h),v(e,l),r||(f=te(l,"input",n[12]),r=!0)},p(a,h){h&1&&t!==(t=a[0].label)&&l.value!==t&&(l.value=t),h&24&&o!==(o=`translate(-50%, -50%) translate(${a[4]}px,${a[3]}px)`)&&x(e,"transform",o)},d(a){a&&w(e),r=!1,f()}}}function fn(n){let e,l,t,o;return e=new vt({props:{path:n[5],markerEnd:n[1],style:n[2]}}),t=new _t({props:{$$slots:{default:[on]},$$scope:{ctx:n}}}),{c(){Y(e.$$.fragment),l=S(),Y(t.$$.fragment)},l(r){q(e.$$.fragment,r),l=V(r),q(t.$$.fragment,r)},m(r,f){H(e,r,f),B(r,l,f),H(t,r,f),o=!0},p(r,[f]){const a={};f&32&&(a.path=r[5]),f&2&&(a.markerEnd=r[1]),f&4&&(a.style=r[2]),e.$set(a);const h={};f&8217&&(h.$$scope={dirty:f,ctx:r}),t.$set(h)},i(r){o||(O(e.$$.fragment,r),O(t.$$.fragment,r),o=!0)},o(r){z(e.$$.fragment,r),z(t.$$.fragment,r),o=!1},d(r){r&&w(l),M(e,r),M(t,r)}}}function dn(n,e,l){let t,o,r,{data:f}=e,{sourceX:a}=e,{sourceY:h}=e,{sourcePosition:u}=e,{targetX:p}=e,{targetY:$}=e,{targetPosition:T}=e,{markerEnd:E=Me.ArrowClosed}=e,{style:R=void 0}=e;const g=y=>{l(0,f.label=y.currentTarget.value,f)};return n.$$set=y=>{"data"in y&&l(0,f=y.data),"sourceX"in y&&l(6,a=y.sourceX),"sourceY"in y&&l(7,h=y.sourceY),"sourcePosition"in y&&l(8,u=y.sourcePosition),"targetX"in y&&l(9,p=y.targetX),"targetY"in y&&l(10,$=y.targetY),"targetPosition"in y&&l(11,T=y.targetPosition),"markerEnd"in y&&l(1,E=y.markerEnd),"style"in y&&l(2,R=y.style)},n.$$.update=()=>{n.$$.dirty&4032&&l(5,[t,o,r]=$t({sourceX:a,sourceY:h,sourcePosition:u,targetX:p,targetY:$,targetPosition:T}),t,(l(4,o),l(6,a),l(7,h),l(8,u),l(9,p),l(10,$),l(11,T)),(l(3,r),l(6,a),l(7,h),l(8,u),l(9,p),l(10,$),l(11,T)))},[f,E,R,r,o,t,a,h,u,p,$,T,g]}class un extends de{constructor(e){super(),ue(this,e,dn,fn,fe,{data:0,sourceX:6,sourceY:7,sourcePosition:8,targetX:9,targetY:10,targetPosition:11,markerEnd:1,style:2})}}function Oe(n,e,l){const t=n.slice();return t[7]=e[l],t}function ze(n){let e,l=Ae(n[2]),t=[];for(let o=0;o<l.length;o+=1)t[o]=Ye(Oe(n,l,o));return{c(){e=D("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=I(o,"DIV",{class:!0});var r=W(e);for(let f=0;f<t.length;f+=1)t[f].l(r);r.forEach(w),this.h()},h(){L(e,"class","file-list svelte-9u10j")},m(o,r){B(o,e,r);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null)},p(o,r){if(r&20){l=Ae(o[2]);let f;for(f=0;f<l.length;f+=1){const a=Oe(o,l,f);t[f]?t[f].p(a,r):(t[f]=Ye(a),t[f].c(),t[f].m(e,null))}for(;f<t.length;f+=1)t[f].d(1);t.length=l.length}},d(o){o&&w(e),tt(t,o)}}}function Ye(n){let e,l=n[7].name+"",t,o,r=n[7].nodeCount+"",f,a,h=n[7].edgeCount+"",u,p,$,T;function E(){return n[5](n[7])}return{c(){e=D("div"),t=ce(l),o=ce(" ("),f=ce(r),a=ce(" nodes, "),u=ce(h),p=ce(` edges)
          `),this.h()},l(R){e=I(R,"DIV",{class:!0});var g=W(e);t=ge(g,l),o=ge(g," ("),f=ge(g,r),a=ge(g," nodes, "),u=ge(g,h),p=ge(g,` edges)
          `),g.forEach(w),this.h()},h(){L(e,"class","file-item svelte-9u10j")},m(R,g){B(R,e,g),v(e,t),v(e,o),v(e,f),v(e,a),v(e,u),v(e,p),$||(T=te(e,"click",E),$=!0)},p(R,g){n=R,g&4&&l!==(l=n[7].name+"")&&ke(t,l),g&4&&r!==(r=n[7].nodeCount+"")&&ke(f,r),g&4&&h!==(h=n[7].edgeCount+"")&&ke(u,h)},d(R){R&&w(e),$=!1,T()}}}function cn(n){let e,l,t,o,r,f,a=n[1]&&ze(n);return{c(){e=D("div"),l=D("button"),t=ce(n[0]),o=S(),a&&a.c(),this.h()},l(h){e=I(h,"DIV",{class:!0});var u=W(e);l=I(u,"BUTTON",{class:!0});var p=W(l);t=ge(p,n[0]),p.forEach(w),o=V(u),a&&a.l(u),u.forEach(w),this.h()},h(){L(l,"class","svelte-9u10j"),L(e,"class","pick-list-container svelte-9u10j")},m(h,u){B(h,e,u),v(e,l),v(l,t),v(e,o),a&&a.m(e,null),r||(f=te(l,"click",n[3]),r=!0)},p(h,[u]){u&1&&ke(t,h[0]),h[1]?a?a.p(h,u):(a=ze(h),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i:we,o:we,d(h){h&&w(e),a&&a.d(),r=!1,f()}}}async function gn(){return await(await fetch("/graph-studio/examples.json")).json()}function mn(n,e,l){const t=et();let o=!1,{selectedFile:r="Example Graphs"}=e,f=[];function a(){l(1,o=!o)}function h(p){l(0,r=p),l(1,o=!1),t("fileSelected",p)}He(async()=>{l(2,f=await gn())});const u=p=>h(p.name);return n.$$set=p=>{"selectedFile"in p&&l(0,r=p.selectedFile)},[r,o,f,a,h,u]}class bn extends de{constructor(e){super(),ue(this,e,mn,cn,fe,{selectedFile:0})}}function pn(n){let e,l,t,o,r,f,a,h="duplicate",u,p,$="delete",T,E;return{c(){e=D("div"),l=D("p"),t=D("small"),o=ce("node: "),r=ce(n[1]),f=S(),a=D("button"),a.textContent=h,u=S(),p=D("button"),p.textContent=$,this.h()},l(R){e=I(R,"DIV",{style:!0,class:!0});var g=W(e);l=I(g,"P",{style:!0});var y=W(l);t=I(y,"SMALL",{});var F=W(t);o=ge(F,"node: "),r=ge(F,n[1]),F.forEach(w),y.forEach(w),f=V(g),a=I(g,"BUTTON",{class:!0,"data-svelte-h":!0}),re(a)!=="svelte-57yxf4"&&(a.textContent=h),u=V(g),p=I(g,"BUTTON",{class:!0,"data-svelte-h":!0}),re(p)!=="svelte-18fgvow"&&(p.textContent=$),g.forEach(w),this.h()},h(){x(l,"margin","0.5em"),L(a,"class","svelte-n5mog5"),L(p,"class","svelte-n5mog5"),x(e,"top",n[2]+"px"),x(e,"left",n[3]+"px"),x(e,"right",n[4]+"px"),x(e,"bottom",n[5]+"px"),L(e,"class","context-menu svelte-n5mog5")},m(R,g){B(R,e,g),v(e,l),v(l,t),v(t,o),v(t,r),v(e,f),v(e,a),v(e,u),v(e,p),T||(E=[te(a,"click",n[8]),te(p,"click",n[9]),te(e,"click",function(){nt(n[0])&&n[0].apply(this,arguments)})],T=!0)},p(R,[g]){n=R,g&2&&ke(r,n[1]),g&4&&x(e,"top",n[2]+"px"),g&8&&x(e,"left",n[3]+"px"),g&16&&x(e,"right",n[4]+"px"),g&32&&x(e,"bottom",n[5]+"px")},i:we,o:we,d(R){R&&w(e),T=!1,ye(E)}}}function hn(n,e,l){let t,o,{onClick:r}=e,{id:f}=e,{top:a}=e,{left:h}=e,{right:u}=e,{bottom:p}=e;const $=Vt();De(n,$,g=>l(11,o=g));const T=Lt();De(n,T,g=>l(10,t=g));function E(){const g=o.find(y=>y.id===f);g&&o.push(Object.assign(Object.assign({},g),{id:`${f}-copy${Math.random()}`,position:{x:g.position.x,y:g.position.y+50}})),$.set(o)}function R(){Re($,o=o.filter(g=>g.id!==f),o),Re(T,t=t.filter(g=>g.source!==f&&g.target!==f),t)}return n.$$set=g=>{"onClick"in g&&l(0,r=g.onClick),"id"in g&&l(1,f=g.id),"top"in g&&l(2,a=g.top),"left"in g&&l(3,h=g.left),"right"in g&&l(4,u=g.right),"bottom"in g&&l(5,p=g.bottom)},[r,f,a,h,u,p,$,T,E,R]}class vn extends de{constructor(e){super(),ue(this,e,hn,pn,fe,{onClick:0,id:1,top:2,left:3,right:4,bottom:5})}}function _n(n){let e,l='This is an (very) alpha-level preview release. Please review and file bugs <a href="https://github.com/d3fend/d3fend/issues/14">here.</a>';return{c(){e=D("div"),e.innerHTML=l,this.h()},l(t){e=I(t,"DIV",{class:!0,"data-svelte-h":!0}),re(e)!=="svelte-p14f9f"&&(e.innerHTML=l),this.h()},h(){L(e,"class","font-medium")},m(t,o){B(t,e,o)},p:we,d(t){t&&w(e)}}}function qe(n){let e,l;return e=new vn({props:{onClick:n[17],id:n[4].id,top:n[4].top,left:n[4].left,right:n[4].right,bottom:n[4].bottom}}),{c(){Y(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,o){H(e,t,o),l=!0},p(t,o){const r={};o&16&&(r.id=t[4].id),o&16&&(r.top=t[4].top),o&16&&(r.left=t[4].left),o&16&&(r.right=t[4].right),o&16&&(r.bottom=t[4].bottom),e.$set(r)},i(t){l||(O(e.$$.fragment,t),l=!0)},o(t){z(e.$$.fragment,t),l=!1},d(t){M(e,t)}}}function $n(n){let e,l,t,o,r,f,a;e=new wt({}),t=new yt({props:{variant:kt.Dots}});let h=n[4]&&qe(n);return f=new Tt({}),{c(){Y(e.$$.fragment),l=S(),Y(t.$$.fragment),o=S(),h&&h.c(),r=S(),Y(f.$$.fragment)},l(u){q(e.$$.fragment,u),l=V(u),q(t.$$.fragment,u),o=V(u),h&&h.l(u),r=V(u),q(f.$$.fragment,u)},m(u,p){H(e,u,p),B(u,l,p),H(t,u,p),B(u,o,p),h&&h.m(u,p),B(u,r,p),H(f,u,p),a=!0},p(u,p){u[4]?h?(h.p(u,p),p&16&&O(h,1)):(h=qe(u),h.c(),O(h,1),h.m(r.parentNode,r)):h&&(it(),z(h,1,1,()=>{h=null}),ft())},i(u){a||(O(e.$$.fragment,u),O(t.$$.fragment,u),O(h),O(f.$$.fragment,u),a=!0)},o(u){z(e.$$.fragment,u),z(t.$$.fragment,u),z(h),z(f.$$.fragment,u),a=!1},d(u){u&&(w(l),w(o),w(r)),M(e,u),M(t,u),h&&h.d(u),M(f,u)}}}function Cn(n){let e,l,t,o,r='<span style="font-weight: normal;">☤</span> D3FEND CAD<span style="color:gray;">UCEUS </span><span style="font-weight: normal;">☤</span>',f,a,h="<i>Cyber Attack-Defense Utility for Capturing Engagements and Understandable Scenarios</i>",u,p,$,T,E,R,g,y,F,A,C,d,c,k="Load",m,N,s="Clear",b,j,Q="Save",P,i,_="Save As",U,J,se,oe,ee,ae,ie,le,he,ve,Te,$e;T=new Nt({props:{$$slots:{default:[_n]},$$scope:{ctx:n}}});function Ce(X){n[18](X)}let _e={};return n[3]!==void 0&&(_e.selectedFile=n[3]),g=new bn({props:_e}),lt.push(()=>ot(g,"selectedFile",Ce)),g.$on("fileSelected",n[14]),ae=new Ct({props:{nodes:Ie,nodeTypes:n[0],edges:Se,edgeTypes:n[1],fitView:!0,defaultEdgeOptions:n[7],$$slots:{default:[$n]},$$scope:{ctx:n}}}),ae.$on("dragover",n[11]),ae.$on("drop",n[13]),ae.$on("connect",n[12]),ae.$on("nodecontextmenu",n[16]),ae.$on("paneclick",n[17]),ae.$on("onedgecreate",wn),le=new Bt({}),{c(){e=D("div"),l=D("div"),t=D("div"),o=D("h1"),o.innerHTML=r,f=S(),a=D("div"),a.innerHTML=h,u=S(),p=D("br"),$=S(),Y(T.$$.fragment),E=S(),R=D("div"),Y(g.$$.fragment),F=S(),A=D("br"),C=S(),d=D("div"),c=D("button"),c.textContent=k,m=S(),N=D("button"),N.textContent=s,b=S(),j=D("button"),j.textContent=Q,P=S(),i=D("button"),i.textContent=_,U=ce(`
        current filename: `),J=ce(n[2]),se=S(),oe=D("main"),ee=D("div"),Y(ae.$$.fragment),ie=S(),Y(le.$$.fragment),this.h()},l(X){e=I(X,"DIV",{class:!0});var ne=W(e);l=I(ne,"DIV",{style:!0});var me=W(l);t=I(me,"DIV",{style:!0});var be=W(t);o=I(be,"H1",{class:!0,"data-svelte-h":!0}),re(o)!=="svelte-1r71l0l"&&(o.innerHTML=r),f=V(be),a=I(be,"DIV",{style:!0,"data-svelte-h":!0}),re(a)!=="svelte-1adqejh"&&(a.innerHTML=h),u=V(be),p=I(be,"BR",{}),$=V(be),q(T.$$.fragment,be),be.forEach(w),me.forEach(w),ne.forEach(w),E=V(X),R=I(X,"DIV",{class:!0});var Ne=W(R);q(g.$$.fragment,Ne),Ne.forEach(w),F=V(X),A=I(X,"BR",{}),C=V(X),d=I(X,"DIV",{class:!0});var pe=W(d);c=I(pe,"BUTTON",{class:!0,"data-svelte-h":!0}),re(c)!=="svelte-r4end6"&&(c.textContent=k),m=V(pe),N=I(pe,"BUTTON",{class:!0,"data-svelte-h":!0}),re(N)!=="svelte-1o4uly3"&&(N.textContent=s),b=V(pe),j=I(pe,"BUTTON",{class:!0,"data-svelte-h":!0}),re(j)!=="svelte-qm8vdx"&&(j.textContent=Q),P=V(pe),i=I(pe,"BUTTON",{class:!0,"data-svelte-h":!0}),re(i)!=="svelte-zj2wld"&&(i.textContent=_),U=ge(pe,`
        current filename: `),J=ge(pe,n[2]),pe.forEach(w),se=V(X),oe=I(X,"MAIN",{});var Pe=W(oe);ee=I(Pe,"DIV",{id:!0,class:!0});var Ee=W(ee);q(ae.$$.fragment,Ee),ie=V(Ee),q(le.$$.fragment,Ee),Ee.forEach(w),Pe.forEach(w),this.h()},h(){L(o,"class","fancy-font svelte-1ewolee"),x(a,"text-align","center"),x(a,"padding","0 px"),x(t,"text-align","center"),x(t,"flex-grow","1"),x(l,"display","flex"),x(l,"just-content","space-between"),x(l,"align-items","center"),L(e,"class","title-egg"),L(R,"class","toolbar-examples"),L(c,"class","svelte-1ewolee"),L(N,"class","svelte-1ewolee"),L(j,"class","svelte-1ewolee"),L(i,"class","svelte-1ewolee"),L(d,"class","toolbar"),L(ee,"id","flow"),L(ee,"class","svelte-1ewolee"),rt(()=>n[19].call(ee))},m(X,ne){B(X,e,ne),v(e,l),v(l,t),v(t,o),v(t,f),v(t,a),v(t,u),v(t,p),v(t,$),H(T,t,null),B(X,E,ne),B(X,R,ne),H(g,R,null),B(X,F,ne),B(X,A,ne),B(X,C,ne),B(X,d,ne),v(d,c),v(d,m),v(d,N),v(d,b),v(d,j),v(d,P),v(d,i),v(d,U),v(d,J),B(X,se,ne),B(X,oe,ne),v(oe,ee),H(ae,ee,null),v(ee,ie),H(le,ee,null),he=at(ee,n[19].bind(ee)),ve=!0,Te||($e=[te(c,"click",n[10]),te(N,"click",n[15]),te(j,"click",n[8]),te(i,"click",n[9])],Te=!0)},p(X,[ne]){const me={};ne&134217728&&(me.$$scope={dirty:ne,ctx:X}),T.$set(me);const be={};!y&&ne&8&&(y=!0,be.selectedFile=X[3],st(()=>y=!1)),g.$set(be),(!ve||ne&4)&&ke(J,X[2]);const Ne={};ne&134217744&&(Ne.$$scope={dirty:ne,ctx:X}),ae.$set(Ne)},i(X){ve||(O(T.$$.fragment,X),O(g.$$.fragment,X),O(ae.$$.fragment,X),O(le.$$.fragment,X),ve=!0)},o(X){z(T.$$.fragment,X),z(g.$$.fragment,X),z(ae.$$.fragment,X),z(le.$$.fragment,X),ve=!1},d(X){X&&(w(e),w(E),w(R),w(F),w(A),w(C),w(d),w(se),w(oe)),M(T),M(g),M(ae),M(le),he(),Te=!1,ye($e)}}}function wn(n){console.log(n),console.log(n)}function yn(n,e,l){let t,o;De(n,Ie,P=>l(20,t=P)),De(n,Se,P=>l(21,o=P));var r=this&&this.__awaiter||function(P,i,_,U){function J(se){return se instanceof _?se:new _(function(oe){oe(se)})}return new(_||(_=Promise))(function(se,oe){function ee(le){try{ie(U.next(le))}catch(he){oe(he)}}function ae(le){try{ie(U.throw(le))}catch(he){oe(he)}}function ie(le){le.done?se(le.value):J(le.value).then(ee,ae)}ie((U=U.apply(P,i||[])).next())})};Se.subscribe(P=>{}),He(()=>{});const f={artifactSelectorNode:Ht,vulnerabilitySelectorNode:zt,attackSelectorNode:Ft,countermeasureSelectorNode:Gt,informationSelectorNode:Wt,conditionDefinitionNode:en,agentSelectorNode:ln,eventNode:sn},a={editableEdge:un};let h={type:"editableEdge",data:{label:void 0},markerEnd:{type:Me.ArrowClosed}},u="d3fend-cad.json";function p(){const P=JSON.stringify({nodes:t,edges:o},null,4),i=new Blob([P],{type:"application/json"}),_=window.URL.createObjectURL(i),U=document.createElement("a");U.href=_,U.download=u,document.body.appendChild(U),U.click(),document.body.removeChild(U),window.URL.revokeObjectURL(_)}function $(){const P=JSON.stringify({nodes:t,edges:o},null,4),i=new Blob([P],{type:"application/json"}),_=window.URL.createObjectURL(i),U=document.createElement("a");U.href=_;let J=prompt("Enter filename to save",u);l(2,u=J),J&&(U.download=J,document.body.appendChild(U),U.click(),document.body.removeChild(U)),window.URL.revokeObjectURL(_)}function T(P){try{const i=P.nodes,_=P.edges;Ve(i,_)}catch(i){console.error("Error parsing JSON:",i)}}function E(P){const i=P.target.files[0];if(i){const _=new FileReader;_.onload=U=>{if(typeof U.target.result=="string"){console.log(U.target.result);try{const J=JSON.parse(U.target.result),se=J.nodes,oe=J.edges;Ve(se,oe)}catch(J){console.error("Error parsing JSON:",J)}}else console.error("File content is not a string.")},_.onerror=()=>{console.error("Error reading file:",_.error)},_.readAsText(i)}}function R(){const P=document.createElement("input");P.type="file",P.accept=".json",P.onchange=i=>{E(i)},P.click()}const{screenToFlowPosition:g}=St(),y=P=>{P.preventDefault(),P.dataTransfer&&(P.dataTransfer.dropEffect="move")},F=P=>console.log("handle onConnect",P),A=P=>{if(P.preventDefault(),!P.dataTransfer)return null;const i=P.dataTransfer.getData("application/svelteflow"),_=g({x:P.clientX,y:P.clientY}),U={id:`${Math.random()}`,type:i,position:_,data:{label:"",sequence:"0"},origin:[.5,0]};t.push(U),Ie.set(t)};function C(P){return r(this,void 0,void 0,function*(){const i=P.detail;try{const _=yield fetch(`/resources/cad/examples/${i}`);if(!_.ok)throw new Error(`HTTP error! status: ${_.status}`);const U=yield _.json();console.log("Selected file contents:",U),T(U)}catch(_){console.error("Error fetching JSON file:",_)}})}let d;function c(){Pt(),l(3,d="Example Graphs")}let k,m,N;function s({detail:{event:P,node:i}}){P.preventDefault();let _=50;l(4,k={id:i.id,top:P.clientY<N-_?P.clientY:void 0,left:P.clientX<m-_?P.clientX:void 0,right:P.clientX>=m-_?m-P.clientX:void 0,bottom:P.clientY>=N-_?N-P.clientY:void 0})}function b(){l(4,k=null)}function j(P){d=P,l(3,d)}function Q(){m=this.clientWidth,N=this.clientHeight,l(5,m),l(6,N)}return[f,a,u,d,k,m,N,h,p,$,R,y,F,A,C,c,s,b,j,Q]}class kn extends de{constructor(e){super(),ue(this,e,yn,Cn,fe,{nodeTypes:0,edgeTypes:1})}get nodeTypes(){return this.$$.ctx[0]}get edgeTypes(){return this.$$.ctx[1]}}function Tn(n){let e,l;return e=new kn({}),{c(){Y(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,o){H(e,t,o),l=!0},i(t){l||(O(e.$$.fragment,t),l=!0)},o(t){z(e.$$.fragment,t),l=!1},d(t){M(e,t)}}}function Nn(n){let e,l;return e=new It({props:{$$slots:{default:[Tn]},$$scope:{ctx:n}}}),{c(){Y(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,o){H(e,t,o),l=!0},p(t,[o]){const r={};o&1&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){l||(O(e.$$.fragment,t),l=!0)},o(t){z(e.$$.fragment,t),l=!1},d(t){M(e,t)}}}class Pn extends de{constructor(e){super(),ue(this,e,null,Nn,fe,{})}}export{Pn as component};
