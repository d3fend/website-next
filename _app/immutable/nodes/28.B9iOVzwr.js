import{m as jt}from"../chunks/matrix.Da5s4cAc.js";import{t as Ft}from"../chunks/offensive-technique.BunsVZrz.js";import{s as ue,c as Ye,u as He,g as Xe,a as Ge,am as Ut,E as qt,an as le,e as D,b as L,d as V,f as G,p as oe,j as R,i as C,q as E,B as A,k as B,l as v,O as Q,n as pe,v as ke,t as fe,h as de,G as Ve,I as ze,a4 as Le,a3 as Ze,m as ve,r as Ue,al as Et,o as De,a0 as St,N as Re,W as Nt,Y as Dt,C as Vt,w as Mt,F as tt,ak as Yt,V as nt}from"../chunks/scheduler.XFNaxh87.js";import{S as ce,i as ge,t as z,a as F,c as U,b as q,m as M,d as Y,g as Je,e as We,p as lt,f as rt}from"../chunks/index.CZJgJfrq.js";import{w as Pe}from"../chunks/index.BQBQGMgF.js";import{p as Ht}from"../chunks/stores.Dm656rTj.js";import{c as Xt,k as Gt,i as Zt,u as Ke,g as Jt,b as st,n as it,d as ot,e as Wt,p as Kt,f as Qt,r as xt,H as x,P as ee,h as en,E as tn,j as Lt,l as nn,S as ln,C as rn,B as sn,a as on,M as an}from"../chunks/style.BfKmVrdw.js";import{s as at}from"../chunks/index.C12qWex4.js";import{e as Ee}from"../chunks/each.BM1lhngx.js";import{f as Qe}from"../chunks/utils.xEKteSAW.js";import{c as fn,f as dn}from"../chunks/actions.Db2EBVbi.js";import{A as Rt}from"../chunks/Alert.lZf8a_9Q.js";import{s as un}from"../chunks/sortBy.ChsTRid8.js";async function cn(l){const e=await jt(l),n=await Ft(l);return{matrix:e,techniques:n}}const Ul=Object.freeze(Object.defineProperty({__proto__:null,load:cn},Symbol.toStringTag,{value:"Module"}));function gn(l){let e;const n=l[7].default,t=Ye(n,l,l[6],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,s){t&&t.m(r,s),e=!0},p(r,[s]){t&&t.p&&(!e||s&64)&&He(t,n,r,r[6],e?Ge(n,r[6],s,null):Xe(r[6]),null)},i(r){e||(z(t,r),e=!0)},o(r){F(t,r),e=!1},d(r){t&&t.d(r)}}}function mn(l,e,n){let{$$slots:t={},$$scope:r}=e,{initialNodes:s=void 0}=e,{initialEdges:i=void 0}=e,{initialWidth:o=void 0}=e,{initialHeight:g=void 0}=e,{fitView:d=void 0}=e,{nodeOrigin:f=void 0}=e;const c=Xt({nodes:s,edges:i,width:o,height:g,nodeOrigin:f,fitView:d});return Ut(Gt,{getStore:()=>c}),qt(()=>{c.reset()}),l.$$set=h=>{"initialNodes"in h&&n(0,s=h.initialNodes),"initialEdges"in h&&n(1,i=h.initialEdges),"initialWidth"in h&&n(2,o=h.initialWidth),"initialHeight"in h&&n(3,g=h.initialHeight),"fitView"in h&&n(4,d=h.fitView),"nodeOrigin"in h&&n(5,f=h.nodeOrigin),"$$scope"in h&&n(6,r=h.$$scope)},[s,i,o,g,d,f,r,t]}class hn extends ce{constructor(e){super(),ge(this,e,mn,gn,ue,{initialNodes:0,initialEdges:1,initialWidth:2,initialHeight:3,fitView:4,nodeOrigin:5})}}const ft=l=>Zt(l);function bn(){const{zoomIn:l,zoomOut:e,fitView:n,onbeforedelete:t,snapGrid:r,viewport:s,width:i,height:o,minZoom:g,maxZoom:d,panZoom:f,nodes:c,edges:h,domNode:p,nodeLookup:P,edgeLookup:m}=Ke(),T=k=>{const u=ft(k)&&Qt(k)?k:le(P).get(k.id);return u?it(u):null},O=(k,u,b={replace:!1})=>{var y;const S=(y=le(P).get(k))==null?void 0:y.internals.userNode;if(!S)return;const _=typeof u=="function"?u(S):u;b.replace?c.update(a=>a.map($=>$.id===k?ft(_)?_:{...$,..._}:$)):(Object.assign(S,_),c.update(a=>a))},I=k=>le(P).get(k);return{zoomIn:l,zoomOut:e,getInternalNode:I,getNode:k=>{var u;return(u=I(k))==null?void 0:u.internals.userNode},getNodes:k=>k===void 0?le(c):dt(le(P),k),getEdge:k=>le(m).get(k),getEdges:k=>k===void 0?le(h):dt(le(m),k),setZoom:(k,u)=>{const b=le(f);return b?b.scaleTo(k,{duration:u==null?void 0:u.duration}):Promise.resolve(!1)},getZoom:()=>le(s).zoom,setViewport:async(k,u)=>{const b=le(s),S=le(f);return S?(await S.setViewport({x:k.x??b.x,y:k.y??b.y,zoom:k.zoom??b.zoom},{duration:u==null?void 0:u.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>le(s),setCenter:async(k,u,b)=>{const S=typeof(b==null?void 0:b.zoom)<"u"?b.zoom:le(d),_=le(f);return _?(await _.setViewport({x:le(i)/2-k*S,y:le(o)/2-u*S,zoom:S},{duration:b==null?void 0:b.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitView:n,fitBounds:async(k,u)=>{const b=le(f);if(!b)return Promise.resolve(!1);const S=Jt(k,le(i),le(o),le(g),le(d),(u==null?void 0:u.padding)??.1);return await b.setViewport(S,{duration:u==null?void 0:u.duration}),Promise.resolve(!0)},getIntersectingNodes:(k,u=!0,b)=>{const S=st(k),_=S?k:T(k);return _?(b||le(c)).filter(y=>{const a=le(P).get(y.id);if(!a||!S&&y.id===k.id)return!1;const $=it(a),X=ot($,_);return u&&X>0||X>=_.width*_.height}):[]},isNodeIntersecting:(k,u,b=!0)=>{const _=st(k)?k:T(k);if(!_)return!1;const y=ot(_,u);return b&&y>0||y>=_.width*_.height},deleteElements:async({nodes:k=[],edges:u=[]})=>{const{nodes:b,edges:S}=await Wt({nodesToRemove:k,edgesToRemove:u,nodes:le(c),edges:le(h),onBeforeDelete:le(t)});return b&&c.update(_=>_.filter(y=>!b.some(({id:a})=>a===y.id))),S&&h.update(_=>_.filter(y=>!S.some(({id:a})=>a===y.id))),{deletedNodes:b,deletedEdges:S}},screenToFlowPosition:(k,u={snapToGrid:!0})=>{const b=le(p);if(!b)return k;const S=u.snapToGrid?le(r):!1,{x:_,y,zoom:a}=le(s),{x:$,y:X}=b.getBoundingClientRect(),te={x:k.x-$,y:k.y-X};return Kt(te,[_,y,a],S!==null,S||[1,1])},flowToScreenPosition:k=>{const u=le(p);if(!u)return k;const{x:b,y:S,zoom:_}=le(s),{x:y,y:a}=u.getBoundingClientRect(),$=xt(k,[b,S,_]);return{x:$.x+y,y:$.y+a}},toObject:()=>({nodes:le(c).map(k=>({...k,position:{...k.position},data:{...k.data}})),edges:le(h).map(k=>({...k})),viewport:{...le(s)}}),updateNode:O,updateNodeData:(k,u,b)=>{var y;const S=(y=le(P).get(k))==null?void 0:y.internals.userNode;if(!S)return;const _=typeof u=="function"?u(S):u;S.data=b!=null&&b.replace?_:{...S.data,..._},c.update(a=>a)},viewport:s}}function dt(l,e){var t;const n=[];for(const r of e){const s=l.get(r);if(s){const i="internals"in s?(t=s.internals)==null?void 0:t.userNode:s;n.push(i)}}return n}function Pt(){const{nodes:l}=Ke();return l}function pn(){const{edges:l}=Ke();return l}let Bt=Pe([]),Ot=Pe([]);function Fe(l,e){qe.set(l),Me.set(e)}function _n(){Fe([],[])}const qe=Pe([]),Me=Pe([]);function vn(l){let e,n,t="You can drag these nodes to the pane below.",r,s,i,o,g="Action",d,f,c="Event",h,p,P="Attack",m,T,O="Countermeasure",I,k,u,b="Endurant",S,_,y="Artifact",a,$,X="Information",te,N,w="Agent",H,re,se,he="State",j,J,W="Vulnerability",K,ne,ae="Condition",Ce,we;return{c(){e=D("aside"),n=D("div"),n.textContent=t,r=L(),s=D("div"),i=D("div"),o=D("div"),o.textContent=g,d=L(),f=D("div"),f.textContent=c,h=L(),p=D("div"),p.textContent=P,m=L(),T=D("div"),T.textContent=O,I=L(),k=D("div"),u=D("div"),u.textContent=b,S=L(),_=D("div"),_.textContent=y,a=L(),$=D("div"),$.textContent=X,te=L(),N=D("div"),N.textContent=w,H=L(),re=D("div"),se=D("div"),se.textContent=he,j=L(),J=D("div"),J.textContent=W,K=L(),ne=D("div"),ne.textContent=ae,this.h()},l(Te){e=V(Te,"ASIDE",{class:!0});var be=G(e);n=V(be,"DIV",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-1go4e39"&&(n.textContent=t),r=R(be),s=V(be,"DIV",{class:!0});var me=G(s);i=V(me,"DIV",{class:!0});var _e=G(i);o=V(_e,"DIV",{class:!0,"data-svelte-h":!0}),oe(o)!=="svelte-1yk6dej"&&(o.textContent=g),d=R(_e),f=V(_e,"DIV",{class:!0,draggable:!0,style:!0,title:!0,"data-svelte-h":!0}),oe(f)!=="svelte-suc6ue"&&(f.textContent=c),h=R(_e),p=V(_e,"DIV",{class:!0,draggable:!0,style:!0,title:!0,"data-svelte-h":!0}),oe(p)!=="svelte-ja08us"&&(p.textContent=P),m=R(_e),T=V(_e,"DIV",{class:!0,draggable:!0,style:!0,title:!0,"data-svelte-h":!0}),oe(T)!=="svelte-xqlqxu"&&(T.textContent=O),_e.forEach(C),I=R(me),k=V(me,"DIV",{class:!0});var Ie=G(k);u=V(Ie,"DIV",{class:!0,"data-svelte-h":!0}),oe(u)!=="svelte-13fxc4g"&&(u.textContent=b),S=R(Ie),_=V(Ie,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),oe(_)!=="svelte-tcu1ri"&&(_.textContent=y),a=R(Ie),$=V(Ie,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),oe($)!=="svelte-gfryma"&&($.textContent=X),te=R(Ie),N=V(Ie,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),oe(N)!=="svelte-tpnlmk"&&(N.textContent=w),Ie.forEach(C),H=R(me),re=V(me,"DIV",{class:!0});var Se=G(re);se=V(Se,"DIV",{class:!0,"data-svelte-h":!0}),oe(se)!=="svelte-82roym"&&(se.textContent=he),j=R(Se),J=V(Se,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),oe(J)!=="svelte-1y60nhe"&&(J.textContent=W),K=R(Se),ne=V(Se,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),oe(ne)!=="svelte-lecgfj"&&(ne.textContent=ae),Se.forEach(C),me.forEach(C),be.forEach(C),this.h()},h(){E(n,"class","label svelte-1e5g38t"),E(o,"class","text-center font-medium"),E(f,"class","actionNode node svelte-1e5g38t"),E(f,"draggable",!0),A(f,"text-align","center"),A(f,"background","white"),E(f,"title","d3f:Event"),E(p,"class","attackSelectorNode node svelte-1e5g38t"),E(p,"draggable",!0),A(p,"text-align","center"),A(p,"background","#FFD0D0"),E(p,"title","d3f:OffensiveTechnique"),E(T,"class","countermeasureSelectorNode node svelte-1e5g38t"),E(T,"draggable",!0),A(T,"text-align","center"),A(T,"background","#d6eaff"),E(T,"title","d3f:DefensiveTechnique"),E(i,"class","nodes-column svelte-1e5g38t"),E(u,"class","text-center font-medium"),E(_,"class","artifactSelectorNode art-node svelte-1e5g38t"),E(_,"draggable",!0),A(_,"text-align","center"),A(_,"background","#fff4dd"),E($,"class","informationSelectorNode node svelte-1e5g38t"),E($,"draggable",!0),A($,"text-align","center"),A($,"background","#e8f4ea"),E(N,"class","agentSelectorNode node svelte-1e5g38t"),E(N,"draggable",!0),A(N,"text-align","center"),A(N,"background","#f0e6e6"),E(k,"class","nodes-column svelte-1e5g38t"),E(se,"class","text-center font-medium"),E(J,"class","vulnerabilitySelectorNode node svelte-1e5g38t"),E(J,"draggable",!0),A(J,"text-align","center"),A(J,"background","#f9d999"),E(ne,"class","conditionDefinitionNode node svelte-1e5g38t"),E(ne,"draggable",!0),A(ne,"text-align","center"),A(ne,"background","#ece6ff"),E(re,"class","nodes-column svelte-1e5g38t"),E(s,"class","nodes-container svelte-1e5g38t"),E(e,"class","svelte-1e5g38t")},m(Te,be){B(Te,e,be),v(e,n),v(e,r),v(e,s),v(s,i),v(i,o),v(i,d),v(i,f),v(i,h),v(i,p),v(i,m),v(i,T),v(s,I),v(s,k),v(k,u),v(k,S),v(k,_),v(k,a),v(k,$),v(k,te),v(k,N),v(s,H),v(s,re),v(re,se),v(re,j),v(re,J),v(re,K),v(re,ne),Ce||(we=[Q(f,"dragstart",l[1]),Q(p,"dragstart",l[2]),Q(T,"dragstart",l[3]),Q(_,"dragstart",l[4]),Q($,"dragstart",l[5]),Q(N,"dragstart",l[6]),Q(J,"dragstart",l[7]),Q(ne,"dragstart",l[8])],Ce=!0)},p:pe,i:pe,o:pe,d(Te){Te&&C(e),Ce=!1,ke(we)}}}function Cn(l){const e=(f,c)=>{if(!f.dataTransfer)return null;f.dataTransfer.setData("application/svelteflow",c),f.dataTransfer.effectAllowed="move"};return[e,f=>e(f,"eventNode"),f=>e(f,"attackSelectorNode"),f=>e(f,"countermeasureSelectorNode"),f=>e(f,"artifactSelectorNode"),f=>e(f,"informationSelectorNode"),f=>e(f,"agentSelectorNode"),f=>e(f,"vulnerabilitySelectorNode"),f=>e(f,"conditionDefinitionNode")]}class $n extends ce{constructor(e){super(),ge(this,e,Cn,vn,ue,{})}}function wn(l){let e,n,t,r,s,i,o,g,d,f,c,h,p,P,m,T,O,I,k;return e=new x({props:{type:"target",position:ee.Top,id:"attackTopTarget",style:"background: #ffc3c7; border-width: 2px; border-color: red;",isConnectable:l[1]}}),t=new x({props:{type:"source",position:ee.Bottom,id:"attackBottomSource",style:"background: red; border-width: 2px; border-color: #ffc3c7;",isConnectable:l[1]}}),s=new x({props:{type:"source",position:ee.Right,id:"attackRightSource",style:"background: red; border-width: 2px; border-color:  #ffc3c7;",isConnectable:l[1]}}),{c(){U(e.$$.fragment),n=L(),U(t.$$.fragment),r=L(),U(s.$$.fragment),i=L(),o=D("div"),g=D("i"),d=fe(`Attack Action
      `),f=D("input"),h=L(),p=D("br"),P=L(),m=D("input"),this.h()},l(u){q(e.$$.fragment,u),n=R(u),q(t.$$.fragment,u),r=R(u),q(s.$$.fragment,u),i=R(u),o=V(u,"DIV",{class:!0});var b=G(o);g=V(b,"I",{});var S=G(g);d=de(S,`Attack Action
      `),f=V(S,"INPUT",{class:!0,type:!0,style:!0}),S.forEach(C),h=R(b),p=V(b,"BR",{}),P=R(b),m=V(b,"INPUT",{class:!0,type:!0,style:!0}),b.forEach(C),this.h()},h(){E(f,"class","nodrag svelte-599j17"),E(f,"type","text"),A(f,"text-align","left"),A(f,"background","#ffc3c7"),A(f,"width","30px"),A(f,"font-style","italic"),f.value=c=l[0].sequence,E(m,"class","nodrag svelte-599j17"),E(m,"type","text"),A(m,"text-align","center"),A(m,"background","#ffc3c7"),A(m,"font-weight","bold"),m.value=T=l[0].label,E(o,"class","attack svelte-599j17")},m(u,b){M(e,u,b),B(u,n,b),M(t,u,b),B(u,r,b),M(s,u,b),B(u,i,b),B(u,o,b),v(o,g),v(g,d),v(g,f),v(o,h),v(o,p),v(o,P),v(o,m),O=!0,I||(k=[Q(f,"input",l[2]),Q(m,"input",l[3])],I=!0)},p(u,[b]){const S={};b&2&&(S.isConnectable=u[1]),e.$set(S);const _={};b&2&&(_.isConnectable=u[1]),t.$set(_);const y={};b&2&&(y.isConnectable=u[1]),s.$set(y),(!O||b&1&&c!==(c=u[0].sequence)&&f.value!==c)&&(f.value=c),(!O||b&1&&T!==(T=u[0].label)&&m.value!==T)&&(m.value=T)},i(u){O||(z(e.$$.fragment,u),z(t.$$.fragment,u),z(s.$$.fragment,u),O=!0)},o(u){F(e.$$.fragment,u),F(t.$$.fragment,u),F(s.$$.fragment,u),O=!1},d(u){u&&(C(n),C(r),C(i),C(o)),Y(e,u),Y(t,u),Y(s,u),I=!1,ke(k)}}}function kn(l,e,n){let{data:t}=e,{isConnectable:r}=e;const s=o=>{n(0,t.sequence=o.currentTarget.value,t)},i=o=>{n(0,t.label=o.currentTarget.value,t)};return l.$$set=o=>{"data"in o&&n(0,t=o.data),"isConnectable"in o&&n(1,r=o.isConnectable)},[t,r,s,i]}class yn extends ce{constructor(e){super(),ge(this,e,kn,wn,ue,{data:0,isConnectable:1})}}function Tn(l){let e,n,t,r,s,i,o="Vulnerability",g,d,f,c,h,p,P,m,T,O,I,k,u;return e=new x({props:{type:"target",position:ee.Left,id:"attackLeftTarget",style:"top: 50%; background: #ffc3c7; border-color: red;",isConnectable:l[1]}}),t=new x({props:{type:"source",position:ee.Right,id:"vulnerabilityRightSource",style:"top: 50%; background: orange; border-width: 2px; border-color: #f9d999;",isConnectable:l[1]}}),{c(){U(e.$$.fragment),n=L(),U(t.$$.fragment),r=L(),s=D("div"),i=D("i"),i.textContent=o,g=L(),d=D("br"),f=L(),c=D("div"),h=D("input"),P=L(),m=D("div"),T=D("input"),this.h()},l(b){q(e.$$.fragment,b),n=R(b),q(t.$$.fragment,b),r=R(b),s=V(b,"DIV",{class:!0});var S=G(s);i=V(S,"I",{"data-svelte-h":!0}),oe(i)!=="svelte-qgxj0w"&&(i.textContent=o),g=R(S),d=V(S,"BR",{}),f=R(S),c=V(S,"DIV",{});var _=G(c);h=V(_,"INPUT",{class:!0,type:!0,style:!0}),_.forEach(C),P=R(S),m=V(S,"DIV",{});var y=G(m);T=V(y,"INPUT",{class:!0,type:!0,style:!0}),y.forEach(C),S.forEach(C),this.h()},h(){E(h,"class","nodrag svelte-kzp26p"),E(h,"type","text"),A(h,"text-align","center"),A(h,"background","#f9d999"),A(h,"font-weight","bold"),h.value=p=l[0].weakness||"weakness",E(T,"class","nodrag svelte-kzp26p"),E(T,"type","text"),A(T,"text-align","center"),A(T,"background","#f9d999"),A(T,"font-weight","bold"),T.value=O=l[0].label,E(s,"class","vulnerability svelte-kzp26p")},m(b,S){M(e,b,S),B(b,n,S),M(t,b,S),B(b,r,S),B(b,s,S),v(s,i),v(s,g),v(s,d),v(s,f),v(s,c),v(c,h),v(s,P),v(s,m),v(m,T),I=!0,k||(u=[Q(h,"input",l[2]),Q(T,"input",l[3])],k=!0)},p(b,[S]){const _={};S&2&&(_.isConnectable=b[1]),e.$set(_);const y={};S&2&&(y.isConnectable=b[1]),t.$set(y),(!I||S&1&&p!==(p=b[0].weakness||"weakness")&&h.value!==p)&&(h.value=p),(!I||S&1&&O!==(O=b[0].label)&&T.value!==O)&&(T.value=O)},i(b){I||(z(e.$$.fragment,b),z(t.$$.fragment,b),I=!0)},o(b){F(e.$$.fragment,b),F(t.$$.fragment,b),I=!1},d(b){b&&(C(n),C(r),C(s)),Y(e,b),Y(t,b),k=!1,ke(u)}}}function In(l,e,n){let{data:t}=e,{isConnectable:r}=e;const s=o=>{n(0,t.weakness=o.currentTarget.value,t)},i=o=>{n(0,t.label=o.currentTarget.value,t)};return l.$$set=o=>{"data"in o&&n(0,t=o.data),"isConnectable"in o&&n(1,r=o.isConnectable)},[t,r,s,i]}class En extends ce{constructor(e){super(),ge(this,e,In,Tn,ue,{data:0,isConnectable:1})}}function ut(l,e,n){const t=l.slice();return t[13]=e[n],t}function ct(l,e,n){const t=l.slice();return t[16]=e[n],t}function gt(l){let e,n=Ee(l[13].children),t=[];for(let r=0;r<n.length;r+=1)t[r]=mt(ct(l,n,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=Ve()},l(r){for(let s=0;s<t.length;s+=1)t[s].l(r);e=Ve()},m(r,s){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(r,s);B(r,e,s)},p(r,s){if(s&20){n=Ee(r[13].children);let i;for(i=0;i<n.length;i+=1){const o=ct(r,n,i);t[i]?t[i].p(o,s):(t[i]=mt(o),t[i].c(),t[i].m(e.parentNode,e))}for(;i<t.length;i+=1)t[i].d(1);t.length=n.length}},d(r){r&&C(e),ze(t,r)}}}function mt(l){let e,n=l[16]["rdfs:label"]+"",t,r,s,i,o;function g(...f){return l[8](l[16],...f)}function d(...f){return l[9](l[16],...f)}return{c(){e=D("div"),t=fe(n),r=L(),this.h()},l(f){e=V(f,"DIV",{class:!0,title:!0,tabindex:!0,role:!0});var c=G(e);t=de(c,n),r=R(c),c.forEach(C),this.h()},h(){E(e,"class","select--technique svelte-1bc2i9a"),E(e,"title",s=l[16]["d3f:definition"]),E(e,"tabindex","0"),E(e,"role","button")},m(f,c){B(f,e,c),v(e,t),v(e,r),i||(o=[Q(e,"click",Le(Ze(g))),Q(e,"keydown",Le(d))],i=!0)},p(f,c){l=f,c&16&&n!==(n=l[16]["rdfs:label"]+"")&&ve(t,n),c&16&&s!==(s=l[16]["d3f:definition"])&&E(e,"title",s)},d(f){f&&C(e),i=!1,ke(o)}}}function ht(l){let e,n,t=l[13]["rdfs:label"]+"",r,s,i,o,g,d,f,c=l[3]===l[13]["@id"]&&gt(l);return{c(){e=D("details"),n=D("summary"),r=fe(t),i=L(),c&&c.c(),o=L(),this.h()},l(h){e=V(h,"DETAILS",{class:!0});var p=G(e);n=V(p,"SUMMARY",{id:!0,class:!0});var P=G(n);r=de(P,t),P.forEach(C),i=R(p),c&&c.l(p),o=R(p),p.forEach(C),this.h()},h(){E(n,"id",s=l[13]["@id"]),E(n,"class","svelte-1bc2i9a"),e.open=g=l[3]===l[13]["@id"],E(e,"class","svelte-1bc2i9a")},m(h,p){B(h,e,p),v(e,n),v(n,r),v(e,i),c&&c.m(e,null),v(e,o),d||(f=Q(n,"click",Le(Ze(l[5]))),d=!0)},p(h,p){p&16&&t!==(t=h[13]["rdfs:label"]+"")&&ve(r,t),p&16&&s!==(s=h[13]["@id"])&&E(n,"id",s),h[3]===h[13]["@id"]?c?c.p(h,p):(c=gt(h),c.c(),c.m(e,o)):c&&(c.d(1),c=null),p&24&&g!==(g=h[3]===h[13]["@id"])&&(e.open=g)},d(h){h&&C(e),c&&c.d(),d=!1,f()}}}function Sn(l){let e,n=Ee(l[4]),t=[];for(let r=0;r<n.length;r+=1)t[r]=ht(ut(l,n,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=Ve()},l(r){for(let s=0;s<t.length;s+=1)t[s].l(r);e=Ve()},m(r,s){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(r,s);B(r,e,s)},p(r,[s]){if(s&60){n=Ee(r[4]);let i;for(i=0;i<n.length;i+=1){const o=ut(r,n,i);t[i]?t[i].p(o,s):(t[i]=ht(o),t[i].c(),t[i].m(e.parentNode,e))}for(;i<t.length;i+=1)t[i].d(1);t.length=n.length}},i:pe,o:pe,d(r){r&&C(e),ze(t,r)}}}function Nn(l,e,n){let t,r=pe,s=()=>(r(),r=Ue(f,u=>n(6,t=u)),f),i,o=pe,g=()=>(o(),o=Ue(d,u=>n(7,i=u)),d);l.$$.on_destroy.push(()=>r()),l.$$.on_destroy.push(()=>o());let{list:d}=e;g();let{filterValueStore:f}=e;s();let{selectItem:c}=e;const h=["d3f:definition","rdfs:label","@id","d3f:d3fend-id"];let p=null,P=[];function m(u,b){for(const S of h)if(b.test(u[S]))return!0;return!1}function T(u,b){if(!b)return u;const S=b?new RegExp(b,"i"):null,_=a=>S?m(a,S):!0;return u.reduce((a,$)=>(a.push({...$,children:$.children.filter(_)}),a),[]).filter(a=>a.children.length>0)}function O(u){const{id:b}=u.target;p===b?n(3,p=null):n(3,p=b)}const I=(u,b)=>c(b,u),k=(u,b)=>Qe(b,c,u);return l.$$set=u=>{"list"in u&&g(n(0,d=u.list)),"filterValueStore"in u&&s(n(1,f=u.filterValueStore)),"selectItem"in u&&n(2,c=u.selectItem)},l.$$.update=()=>{l.$$.dirty&192&&n(4,P=T(i,t))},[d,f,c,p,P,O,t,i,I,k]}class Dn extends ce{constructor(e){super(),ge(this,e,Nn,Sn,ue,{list:0,filterValueStore:1,selectItem:2})}}function bt(l,e,n){const t=l.slice();return t[11]=e[n],t}function pt(l){let e,n=l[11]["rdfs:label"][0]+"",t,r,s,i,o;function g(...f){return l[6](l[11],...f)}function d(...f){return l[7](l[11],...f)}return{c(){e=D("div"),t=fe(n),r=L(),this.h()},l(f){e=V(f,"DIV",{class:!0,title:!0,tabindex:!0,role:!0});var c=G(e);t=de(c,n),r=R(c),c.forEach(C),this.h()},h(){E(e,"class","select--technique svelte-x4shrn"),E(e,"title",s=l[11]["d3f:definition"]),E(e,"tabindex","0"),E(e,"role","button")},m(f,c){B(f,e,c),v(e,t),v(e,r),i||(o=[Q(e,"click",Le(Ze(g))),Q(e,"keydown",Le(d))],i=!0)},p(f,c){l=f,c&8&&n!==(n=l[11]["rdfs:label"][0]+"")&&ve(t,n),c&8&&s!==(s=l[11]["d3f:definition"])&&E(e,"title",s)},d(f){f&&C(e),i=!1,ke(o)}}}function Vn(l){let e,n=Ee(l[3]),t=[];for(let r=0;r<n.length;r+=1)t[r]=pt(bt(l,n,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=Ve()},l(r){for(let s=0;s<t.length;s+=1)t[s].l(r);e=Ve()},m(r,s){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(r,s);B(r,e,s)},p(r,[s]){if(s&12){n=Ee(r[3]);let i;for(i=0;i<n.length;i+=1){const o=bt(r,n,i);t[i]?t[i].p(o,s):(t[i]=pt(o),t[i].c(),t[i].m(e.parentNode,e))}for(;i<t.length;i+=1)t[i].d(1);t.length=n.length}},i:pe,o:pe,d(r){r&&C(e),ze(t,r)}}}function Ln(l,e,n){let t,r=pe,s=()=>(r(),r=Ue(f,I=>n(4,t=I)),f),i,o=pe,g=()=>(o(),o=Ue(d,I=>n(5,i=I)),d);l.$$.on_destroy.push(()=>r()),l.$$.on_destroy.push(()=>o());let{list:d}=e;g();let{filterValueStore:f}=e;s();let{selectItem:c}=e;const h=["d3f:definition","rdfs:label","@id","d3f:d3fend-id"];let p=[];function P(I,k){for(const u of h)if(k.test(I[u]))return!0;return!1}function m(I,k){if(!k)return I;const u=k?new RegExp(k,"i"):null,b=S=>u?P(S,u):!0;return I.filter(b)}const T=(I,k)=>c(k,I),O=(I,k)=>Qe(k,c,I);return l.$$set=I=>{"list"in I&&g(n(0,d=I.list)),"filterValueStore"in I&&s(n(1,f=I.filterValueStore)),"selectItem"in I&&n(2,c=I.selectItem)},l.$$.update=()=>{l.$$.dirty&48&&n(3,p=m(i["@graph"],t)),l.$$.dirty&9&&console.log({list:d,filteredList:p})},[d,f,c,p,t,i,T,O]}class Rn extends ce{constructor(e){super(),ge(this,e,Ln,Vn,ue,{list:0,filterValueStore:1,selectItem:2})}}const Pn=l=>({}),_t=l=>({R:l[6],filterValueStore:l[4],selectItem:l[9]});function vt(l){let e,n,t,r,s,i,o;const g=l[14].default,d=Ye(g,l,l[13],_t);return{c(){e=D("ul"),n=D("input"),t=L(),d&&d.c(),this.h()},l(f){e=V(f,"UL",{class:!0});var c=G(e);n=V(c,"INPUT",{type:!0,id:!0,name:!0,placeholder:!0,class:!0}),t=R(c),d&&d.l(c),c.forEach(C),this.h()},h(){E(n,"type","text"),E(n,"id","filter"),E(n,"name","filter"),E(n,"placeholder","Filter"),E(n,"class","svelte-1k6dlbz"),E(e,"class","dropdown-menu svelte-1k6dlbz")},m(f,c){B(f,e,c),v(e,n),v(e,t),d&&d.m(e,null),s=!0,i||(o=[Et(dn.call(null,n)),Q(n,"click",Le(l[15])),Q(n,"keyup",l[16])],i=!0)},p(f,c){d&&d.p&&(!s||c&8192)&&He(d,g,f,f[13],s?Ge(g,f[13],c,Pn):Xe(f[13]),_t)},i(f){s||(z(d,f),f&&St(()=>{s&&(r||(r=lt(e,at,{delay:100,duration:300,axis:"y"},!0)),r.run(1))}),s=!0)},o(f){F(d,f),f&&(r||(r=lt(e,at,{delay:100,duration:300,axis:"y"},!1)),r.run(0)),s=!1},d(f){f&&C(e),d&&d.d(f),f&&r&&r.end(),i=!1,ke(o)}}}function Bn(l){let e,n,t,r,s,i,o,g,d,f,c=l[2]&&vt(l);return{c(){e=D("div"),n=D("div"),t=D("div"),r=D("span"),s=fe(l[1]),i=L(),c&&c.c(),this.h()},l(h){e=V(h,"DIV",{class:!0,style:!0});var p=G(e);n=V(p,"DIV",{class:!0,role:!0,tabindex:!0});var P=G(n);t=V(P,"DIV",{class:!0});var m=G(t);r=V(m,"SPAN",{class:!0});var T=G(r);s=de(T,l[1]),T.forEach(C),m.forEach(C),i=R(P),c&&c.l(P),P.forEach(C),p.forEach(C),this.h()},h(){E(r,"class","selected svelte-1k6dlbz"),E(t,"class","select svelte-1k6dlbz"),E(n,"class",o="dropdown "+(l[2]?"active":"")+" svelte-1k6dlbz"),E(n,"role","button"),E(n,"tabindex","0"),E(e,"class","container svelte-1k6dlbz"),A(e,"--input-color",l[0])},m(h,p){B(h,e,p),v(e,n),v(n,t),v(t,r),v(r,s),v(n,i),c&&c.m(n,null),g=!0,d||(f=[Q(n,"click",l[8]),Q(n,"keydown",l[17]),Et(fn.call(null,e)),Q(e,"outsideclick",l[7])],d=!0)},p(h,[p]){(!g||p&2)&&ve(s,h[1]),h[2]?c?(c.p(h,p),p&4&&z(c,1)):(c=vt(h),c.c(),z(c,1),c.m(n,null)):c&&(Je(),F(c,1,1,()=>{c=null}),We()),(!g||p&4&&o!==(o="dropdown "+(h[2]?"active":"")+" svelte-1k6dlbz"))&&E(n,"class",o),(!g||p&1)&&A(e,"--input-color",h[0])},i(h){g||(z(c),g=!0)},o(h){F(c),g=!1},d(h){h&&C(e),c&&c.d(),d=!1,ke(f)}}}function On(l,e,n){let t,r,s,i,{$$slots:o={},$$scope:g}=e,{nodeId:d}=e,{elementId:f}=e,{inputColor:c}=e;const h=Pe(!1);De(l,h,y=>n(2,i=y));const p=Pe(null);De(l,p,y=>n(19,r=y));const P=Pt();De(l,P,y=>n(20,s=y));const m={ItemD3fend:Dn,ItemArtifact:Rn};let T;function O(){Re(h,i=!1,i),Re(p,r=null,r)}function I(y){i?O():Re(h,i=!0,i)}function k(y,a){let $=a["rdfs:label"];Array.isArray(a["rdfs:label"])&&($=a["rdfs:label"][0]),s.forEach(X=>{X.id===d&&(X.data={...X.data,techniqueId:a["@id"],label:$})}),P.set(s),O()}function u(y){clearTimeout(T),T=setTimeout(()=>{Re(p,r=y.target.value,r)},1e3)}function b(y){Nt.call(this,l,y)}const S=y=>u(y),_=y=>Qe(y,I);return l.$$set=y=>{"nodeId"in y&&n(11,d=y.nodeId),"elementId"in y&&n(12,f=y.elementId),"inputColor"in y&&n(0,c=y.inputColor),"$$scope"in y&&n(13,g=y.$$scope)},l.$$.update=()=>{l.$$.dirty&4096&&n(1,t=f||"< d3fend class >")},[c,t,i,h,p,P,m,O,I,k,u,d,f,g,o,b,S,_]}class At extends ce{constructor(e){super(),ge(this,e,On,Bn,ue,{nodeId:11,elementId:12,inputColor:0})}}function An(l){let e,n;return e=new l[5].ItemArtifact({props:{list:Ot,filterValueStore:l[6],selectItem:l[7]}}),{c(){U(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,r){M(e,t,r),n=!0},p(t,r){const s={};r&64&&(s.filterValueStore=t[6]),r&128&&(s.selectItem=t[7]),e.$set(s)},i(t){n||(z(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function zn(l){let e,n,t,r,s,i,o,g,d,f,c,h,p,P,m,T,O="Artifact",I,k,u,b,S,_,y,a,$,X,te;return e=new x({props:{type:"target",position:ee.Left,id:"attackLeftTarget",style:"top: 20%; background: #ffc3c7; border-width: 2px; border-color: red;",isConnectable:l[1]}}),t=new x({props:{type:"target",position:ee.Right,id:"defenseRightTarget",style:"top: 20%; background: #8ac3ff; border-width: 2px; border-color: #062f4f;",isConnectable:l[1]}}),s=new x({props:{type:"target",position:ee.Left,id:"vulnerabilityLeftTarget",style:"top: 50%; border-color: orange; border-width: 2px; background: #f9d999;",isConnectable:l[1]}}),o=new x({props:{type:"target",position:ee.Top,id:"artTopTarget",style:"background: "+Oe+"; border-width: 2px; border-color: #ffdb91;",isConnectable:l[1]}}),d=new x({props:{type:"target",position:ee.Left,id:"artLeftTarget",style:"top: 80%; background: "+Oe+"; border-width: 2px; border-color: #ffdb91;",isConnectable:l[1]}}),c=new x({props:{type:"source",position:ee.Bottom,id:"artBottomSource",style:"border-color: "+Oe+"; border-width: 2px; background: #ffdb91;",isConnectable:l[1]}}),p=new x({props:{type:"source",position:ee.Right,id:"artRightSource",style:"top: 80%; border-color: "+Oe+"; border-width: 2px; background: #ffdb91;",isConnectable:l[1]}}),b=new At({props:{nodeId:l[2],elementId:l[0].techniqueId,inputColor:Oe,$$slots:{default:[An,({R:N,filterValueStore:w,selectItem:H})=>({5:N,6:w,7:H}),({R:N,filterValueStore:w,selectItem:H})=>(N?32:0)|(w?64:0)|(H?128:0)]},$$scope:{ctx:l}}}),{c(){U(e.$$.fragment),n=L(),U(t.$$.fragment),r=L(),U(s.$$.fragment),i=L(),U(o.$$.fragment),g=L(),U(d.$$.fragment),f=L(),U(c.$$.fragment),h=L(),U(p.$$.fragment),P=L(),m=D("div"),T=D("i"),T.textContent=O,I=D("br"),k=L(),u=D("div"),U(b.$$.fragment),S=L(),_=D("div"),y=D("input"),this.h()},l(N){q(e.$$.fragment,N),n=R(N),q(t.$$.fragment,N),r=R(N),q(s.$$.fragment,N),i=R(N),q(o.$$.fragment,N),g=R(N),q(d.$$.fragment,N),f=R(N),q(c.$$.fragment,N),h=R(N),q(p.$$.fragment,N),P=R(N),m=V(N,"DIV",{class:!0});var w=G(m);T=V(w,"I",{"data-svelte-h":!0}),oe(T)!=="svelte-148na2y"&&(T.textContent=O),I=V(w,"BR",{}),k=R(w),u=V(w,"DIV",{});var H=G(u);q(b.$$.fragment,H),H.forEach(C),S=R(w),_=V(w,"DIV",{});var re=G(_);y=V(re,"INPUT",{class:!0,type:!0,style:!0}),re.forEach(C),w.forEach(C),this.h()},h(){E(y,"class","nodrag svelte-1mkawlx"),E(y,"type","text"),A(y,"text-align","center"),A(y,"background","#fff4dd"),A(y,"font-weight","bold"),A(y,"font-size","10px"),y.value=a=l[0].label,E(m,"class","artifact svelte-1mkawlx")},m(N,w){M(e,N,w),B(N,n,w),M(t,N,w),B(N,r,w),M(s,N,w),B(N,i,w),M(o,N,w),B(N,g,w),M(d,N,w),B(N,f,w),M(c,N,w),B(N,h,w),M(p,N,w),B(N,P,w),B(N,m,w),v(m,T),v(m,I),v(m,k),v(m,u),M(b,u,null),v(m,S),v(m,_),v(_,y),$=!0,X||(te=Q(y,"input",l[3]),X=!0)},p(N,[w]){const H={};w&2&&(H.isConnectable=N[1]),e.$set(H);const re={};w&2&&(re.isConnectable=N[1]),t.$set(re);const se={};w&2&&(se.isConnectable=N[1]),s.$set(se);const he={};w&2&&(he.isConnectable=N[1]),o.$set(he);const j={};w&2&&(j.isConnectable=N[1]),d.$set(j);const J={};w&2&&(J.isConnectable=N[1]),c.$set(J);const W={};w&2&&(W.isConnectable=N[1]),p.$set(W);const K={};w&4&&(K.nodeId=N[2]),w&1&&(K.elementId=N[0].techniqueId),w&448&&(K.$$scope={dirty:w,ctx:N}),b.$set(K),(!$||w&1&&a!==(a=N[0].label)&&y.value!==a)&&(y.value=a)},i(N){$||(z(e.$$.fragment,N),z(t.$$.fragment,N),z(s.$$.fragment,N),z(o.$$.fragment,N),z(d.$$.fragment,N),z(c.$$.fragment,N),z(p.$$.fragment,N),z(b.$$.fragment,N),$=!0)},o(N){F(e.$$.fragment,N),F(t.$$.fragment,N),F(s.$$.fragment,N),F(o.$$.fragment,N),F(d.$$.fragment,N),F(c.$$.fragment,N),F(p.$$.fragment,N),F(b.$$.fragment,N),$=!1},d(N){N&&(C(n),C(r),C(i),C(g),C(f),C(h),C(P),C(m)),Y(e,N),Y(t,N),Y(s,N),Y(o,N),Y(d,N),Y(c,N),Y(p,N),Y(b),X=!1,te()}}}const Oe="#fff4dd";function jn(l,e,n){let{data:t}=e,{isConnectable:r}=e,{id:s}=e;const i=o=>{n(0,t.label=o.currentTarget.value,t)};return l.$$set=o=>{"data"in o&&n(0,t=o.data),"isConnectable"in o&&n(1,r=o.isConnectable),"id"in o&&n(2,s=o.id)},[t,r,s,i]}class Fn extends ce{constructor(e){super(),ge(this,e,jn,zn,ue,{data:0,isConnectable:1,id:2})}}function Un(l){let e,n;return e=new l[7].ItemD3fend({props:{list:Bt,filterValueStore:l[8],selectItem:l[9]}}),{c(){U(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,r){M(e,t,r),n=!0},p(t,r){const s={};r&256&&(s.filterValueStore=t[8]),r&512&&(s.selectItem=t[9]),e.$set(s)},i(t){n||(z(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function qn(l){let e,n,t,r,s,i,o,g,d="Defense Action",f,c,h,p,P,m,T,O,I,k,u,b,S,_,y;return e=new x({props:{type:"target",position:ee.Top,id:"defenseTopTarget",style:"border-color: blue; background: "+Ae+"; border-width: 2px",isConnectable:l[1]}}),t=new x({props:{type:"source",position:ee.Left,id:"defenseLeftSource",style:"background: blue; border-color: "+Ae+"; border-width: 2px",isConnectable:l[1]}}),s=new x({props:{type:"source",position:ee.Bottom,id:"defenseBottomSource",style:"background: blue; border-color: "+Ae+"; border-width: 2px",isConnectable:l[1]}}),O=new At({props:{nodeId:l[2],elementId:l[0].techniqueId,inputColor:Ae,$$slots:{default:[Un,({R:a,filterValueStore:$,selectItem:X})=>({7:a,8:$,9:X}),({R:a,filterValueStore:$,selectItem:X})=>(a?128:0)|($?256:0)|(X?512:0)]},$$scope:{ctx:l}}}),{c(){U(e.$$.fragment),n=L(),U(t.$$.fragment),r=L(),U(s.$$.fragment),i=L(),o=D("div"),g=D("i"),g.textContent=d,f=L(),c=D("input"),p=L(),P=D("br"),m=L(),T=D("div"),U(O.$$.fragment),I=L(),k=D("div"),u=D("input"),this.h()},l(a){q(e.$$.fragment,a),n=R(a),q(t.$$.fragment,a),r=R(a),q(s.$$.fragment,a),i=R(a),o=V(a,"DIV",{class:!0});var $=G(o);g=V($,"I",{"data-svelte-h":!0}),oe(g)!=="svelte-1x9m2lq"&&(g.textContent=d),f=R($),c=V($,"INPUT",{class:!0,type:!0,style:!0}),p=R($),P=V($,"BR",{}),m=R($),T=V($,"DIV",{});var X=G(T);q(O.$$.fragment,X),X.forEach(C),I=R($),k=V($,"DIV",{});var te=G(k);u=V(te,"INPUT",{class:!0,type:!0,style:!0}),te.forEach(C),$.forEach(C),this.h()},h(){E(c,"class","nodrag svelte-1d6axsp"),E(c,"type","text"),A(c,"text-align","left"),A(c,"background",Ae),A(c,"width","30px"),A(c,"font-style","italic"),c.value=h=l[0].sequence,E(u,"class","nodrag technique--id svelte-1d6axsp"),E(u,"type","text"),A(u,"text-align","center"),A(u,"background","#d6eaff"),A(u,"font-weight","bold"),A(u,"font-size","10px"),u.value=b=l[0].label||"",E(o,"class","countermeasure svelte-1d6axsp")},m(a,$){M(e,a,$),B(a,n,$),M(t,a,$),B(a,r,$),M(s,a,$),B(a,i,$),B(a,o,$),v(o,g),v(o,f),v(o,c),v(o,p),v(o,P),v(o,m),v(o,T),M(O,T,null),v(o,I),v(o,k),v(k,u),S=!0,_||(y=[Q(c,"input",l[3]),Q(u,"input",l[4])],_=!0)},p(a,[$]){const X={};$&2&&(X.isConnectable=a[1]),e.$set(X);const te={};$&2&&(te.isConnectable=a[1]),t.$set(te);const N={};$&2&&(N.isConnectable=a[1]),s.$set(N),(!S||$&1&&h!==(h=a[0].sequence)&&c.value!==h)&&(c.value=h);const w={};$&4&&(w.nodeId=a[2]),$&1&&(w.elementId=a[0].techniqueId),$&1792&&(w.$$scope={dirty:$,ctx:a}),O.$set(w),(!S||$&1&&b!==(b=a[0].label||"")&&u.value!==b)&&(u.value=b)},i(a){S||(z(e.$$.fragment,a),z(t.$$.fragment,a),z(s.$$.fragment,a),z(O.$$.fragment,a),S=!0)},o(a){F(e.$$.fragment,a),F(t.$$.fragment,a),F(s.$$.fragment,a),F(O.$$.fragment,a),S=!1},d(a){a&&(C(n),C(r),C(i),C(o)),Y(e,a),Y(t,a),Y(s,a),Y(O),_=!1,ke(y)}}}const Ae="#d6eaff";function Mn(l,e,n){let{data:t}=e,{isConnectable:r}=e,{id:s}=e;const i=g=>{n(0,t.sequence=g.currentTarget.value,t)},o=g=>{n(0,t.label=g.currentTarget.value,t)};return l.$$set=g=>{"data"in g&&n(0,t=g.data),"isConnectable"in g&&n(1,r=g.isConnectable),"id"in g&&n(2,s=g.id)},[t,r,s,i,o]}class Yn extends ce{constructor(e){super(),ge(this,e,Mn,qn,ue,{data:0,isConnectable:1,id:2})}}function Hn(l){let e,n,t,r,s,i,o,g,d,f,c,h,p,P,m,T,O="Information",I,k,u,b,S,_,y;return e=new x({props:{type:"target",position:ee.Left,id:"attackLeftTarget",style:"top: 20%; background: #ffc3c7; border-width: 2px; border-color: red;",isConnectable:l[1]}}),t=new x({props:{type:"target",position:ee.Right,id:"defenseRightTarget",style:"top: 20%; background: #8ac3ff; border-width: 2px; border-color: #062f4f;",isConnectable:l[1]}}),s=new x({props:{type:"target",position:ee.Left,id:"vulnerabilityLeftTarget",style:"top: 50%; border-color: orange; border-width: 2px; background: #f9d999;",isConnectable:l[1]}}),o=new x({props:{type:"target",position:ee.Top,id:"artTopTarget",style:"background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:l[1]}}),d=new x({props:{type:"target",position:ee.Left,id:"artLeftTarget",style:"top: 80%; background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:l[1]}}),c=new x({props:{type:"source",position:ee.Bottom,id:"artBottomSource",style:"border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:l[1]}}),p=new x({props:{type:"source",position:ee.Right,id:"artRightSource",style:"top: 80%; border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:l[1]}}),{c(){U(e.$$.fragment),n=L(),U(t.$$.fragment),r=L(),U(s.$$.fragment),i=L(),U(o.$$.fragment),g=L(),U(d.$$.fragment),f=L(),U(c.$$.fragment),h=L(),U(p.$$.fragment),P=L(),m=D("div"),T=D("i"),T.textContent=O,I=D("br"),k=L(),u=D("input"),this.h()},l(a){q(e.$$.fragment,a),n=R(a),q(t.$$.fragment,a),r=R(a),q(s.$$.fragment,a),i=R(a),q(o.$$.fragment,a),g=R(a),q(d.$$.fragment,a),f=R(a),q(c.$$.fragment,a),h=R(a),q(p.$$.fragment,a),P=R(a),m=V(a,"DIV",{class:!0});var $=G(m);T=V($,"I",{"data-svelte-h":!0}),oe(T)!=="svelte-1ocpiyk"&&(T.textContent=O),I=V($,"BR",{}),k=R($),u=V($,"INPUT",{class:!0,type:!0,style:!0}),$.forEach(C),this.h()},h(){E(u,"class","nodrag svelte-1co8z3c"),E(u,"type","text"),A(u,"text-align","center"),A(u,"background","#e8f4ea"),A(u,"border-color","#b8d8be"),A(u,"font-weight","bold"),u.value=b=l[0].label,E(m,"class","information svelte-1co8z3c")},m(a,$){M(e,a,$),B(a,n,$),M(t,a,$),B(a,r,$),M(s,a,$),B(a,i,$),M(o,a,$),B(a,g,$),M(d,a,$),B(a,f,$),M(c,a,$),B(a,h,$),M(p,a,$),B(a,P,$),B(a,m,$),v(m,T),v(m,I),v(m,k),v(m,u),S=!0,_||(y=Q(u,"input",l[2]),_=!0)},p(a,[$]){const X={};$&2&&(X.isConnectable=a[1]),e.$set(X);const te={};$&2&&(te.isConnectable=a[1]),t.$set(te);const N={};$&2&&(N.isConnectable=a[1]),s.$set(N);const w={};$&2&&(w.isConnectable=a[1]),o.$set(w);const H={};$&2&&(H.isConnectable=a[1]),d.$set(H);const re={};$&2&&(re.isConnectable=a[1]),c.$set(re);const se={};$&2&&(se.isConnectable=a[1]),p.$set(se),(!S||$&1&&b!==(b=a[0].label)&&u.value!==b)&&(u.value=b)},i(a){S||(z(e.$$.fragment,a),z(t.$$.fragment,a),z(s.$$.fragment,a),z(o.$$.fragment,a),z(d.$$.fragment,a),z(c.$$.fragment,a),z(p.$$.fragment,a),S=!0)},o(a){F(e.$$.fragment,a),F(t.$$.fragment,a),F(s.$$.fragment,a),F(o.$$.fragment,a),F(d.$$.fragment,a),F(c.$$.fragment,a),F(p.$$.fragment,a),S=!1},d(a){a&&(C(n),C(r),C(i),C(g),C(f),C(h),C(P),C(m)),Y(e,a),Y(t,a),Y(s,a),Y(o,a),Y(d,a),Y(c,a),Y(p,a),_=!1,y()}}}function Xn(l,e,n){let{data:t}=e,{isConnectable:r}=e;const s=i=>{n(0,t.label=i.currentTarget.value,t)};return l.$$set=i=>{"data"in i&&n(0,t=i.data),"isConnectable"in i&&n(1,r=i.isConnectable)},[t,r,s]}class Gn extends ce{constructor(e){super(),ge(this,e,Xn,Hn,ue,{data:0,isConnectable:1})}}function Zn(l){let e,n,t,r,s,i,o,g,d,f,c,h,p,P,m="Condition",T,O,I,k,u,b,S;return e=new x({props:{type:"target",position:ee.Left,id:"attackLeftTarget",style:"top: 20%; background: #ffc3c7; border-width: 2px; border-color: red;",isConnectable:l[1]}}),t=new x({props:{type:"target",position:ee.Right,id:"defenseRightTarget",style:"top: 20%; background: #8ac3ff; border-width: 2px; border-color: #062f4f;",isConnectable:l[1]}}),s=new x({props:{type:"target",position:ee.Top,id:"artTopTarget",style:"background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:l[1]}}),o=new x({props:{type:"target",position:ee.Left,id:"artLeftTarget",style:"top: 80%; background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:l[1]}}),d=new x({props:{type:"source",position:ee.Bottom,id:"artBottomSource",style:"border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:l[1]}}),c=new x({props:{type:"source",position:ee.Right,id:"artRightSource",style:"top: 80%; border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:l[1]}}),{c(){U(e.$$.fragment),n=L(),U(t.$$.fragment),r=L(),U(s.$$.fragment),i=L(),U(o.$$.fragment),g=L(),U(d.$$.fragment),f=L(),U(c.$$.fragment),h=L(),p=D("div"),P=D("i"),P.textContent=m,T=D("br"),O=L(),I=D("input"),this.h()},l(_){q(e.$$.fragment,_),n=R(_),q(t.$$.fragment,_),r=R(_),q(s.$$.fragment,_),i=R(_),q(o.$$.fragment,_),g=R(_),q(d.$$.fragment,_),f=R(_),q(c.$$.fragment,_),h=R(_),p=V(_,"DIV",{class:!0});var y=G(p);P=V(y,"I",{"data-svelte-h":!0}),oe(P)!=="svelte-26somz"&&(P.textContent=m),T=V(y,"BR",{}),O=R(y),I=V(y,"INPUT",{class:!0,type:!0,style:!0}),y.forEach(C),this.h()},h(){E(I,"class","nodrag svelte-hsam31"),E(I,"type","text"),A(I,"text-align","center"),A(I,"background","#ece6ff"),A(I,"font-weight","bold"),I.value=k=l[0].label,E(p,"class","artifact svelte-hsam31")},m(_,y){M(e,_,y),B(_,n,y),M(t,_,y),B(_,r,y),M(s,_,y),B(_,i,y),M(o,_,y),B(_,g,y),M(d,_,y),B(_,f,y),M(c,_,y),B(_,h,y),B(_,p,y),v(p,P),v(p,T),v(p,O),v(p,I),u=!0,b||(S=Q(I,"input",l[2]),b=!0)},p(_,[y]){const a={};y&2&&(a.isConnectable=_[1]),e.$set(a);const $={};y&2&&($.isConnectable=_[1]),t.$set($);const X={};y&2&&(X.isConnectable=_[1]),s.$set(X);const te={};y&2&&(te.isConnectable=_[1]),o.$set(te);const N={};y&2&&(N.isConnectable=_[1]),d.$set(N);const w={};y&2&&(w.isConnectable=_[1]),c.$set(w),(!u||y&1&&k!==(k=_[0].label)&&I.value!==k)&&(I.value=k)},i(_){u||(z(e.$$.fragment,_),z(t.$$.fragment,_),z(s.$$.fragment,_),z(o.$$.fragment,_),z(d.$$.fragment,_),z(c.$$.fragment,_),u=!0)},o(_){F(e.$$.fragment,_),F(t.$$.fragment,_),F(s.$$.fragment,_),F(o.$$.fragment,_),F(d.$$.fragment,_),F(c.$$.fragment,_),u=!1},d(_){_&&(C(n),C(r),C(i),C(g),C(f),C(h),C(p)),Y(e,_),Y(t,_),Y(s,_),Y(o,_),Y(d,_),Y(c,_),b=!1,S()}}}function Jn(l,e,n){let{data:t}=e,{isConnectable:r}=e;const s=i=>{n(0,t.label=i.currentTarget.value,t)};return l.$$set=i=>{"data"in i&&n(0,t=i.data),"isConnectable"in i&&n(1,r=i.isConnectable)},[t,r,s]}class Wn extends ce{constructor(e){super(),ge(this,e,Jn,Zn,ue,{data:0,isConnectable:1})}}function Kn(l){let e,n,t,r,s,i,o,g,d,f,c,h,p,P,m,T,O="Agent",I,k,u,b,S,_,y;return e=new x({props:{type:"target",position:ee.Left,id:"attackLeftTarget",style:"top: 20%; background: #ffc3c7; border-width: 2px; border-color: red;",isConnectable:l[1]}}),t=new x({props:{type:"target",position:ee.Right,id:"defenseRightTarget",style:"top: 20%; background: #8ac3ff; border-width: 2px; border-color: #062f4f;",isConnectable:l[1]}}),s=new x({props:{type:"target",position:ee.Left,id:"vulnerabilityLeftTarget",style:"top: 50%; border-color: orange; border-width: 2px; background: #f9d999;",isConnectable:l[1]}}),o=new x({props:{type:"target",position:ee.Top,id:"artTopTarget",style:"background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:l[1]}}),d=new x({props:{type:"target",position:ee.Left,id:"artLeftTarget",style:"top: 80%; background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:l[1]}}),c=new x({props:{type:"source",position:ee.Bottom,id:"artBottomSource",style:"border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:l[1]}}),p=new x({props:{type:"source",position:ee.Right,id:"artRightSource",style:"top: 80%; border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:l[1]}}),{c(){U(e.$$.fragment),n=L(),U(t.$$.fragment),r=L(),U(s.$$.fragment),i=L(),U(o.$$.fragment),g=L(),U(d.$$.fragment),f=L(),U(c.$$.fragment),h=L(),U(p.$$.fragment),P=L(),m=D("div"),T=D("i"),T.textContent=O,I=D("br"),k=L(),u=D("input"),this.h()},l(a){q(e.$$.fragment,a),n=R(a),q(t.$$.fragment,a),r=R(a),q(s.$$.fragment,a),i=R(a),q(o.$$.fragment,a),g=R(a),q(d.$$.fragment,a),f=R(a),q(c.$$.fragment,a),h=R(a),q(p.$$.fragment,a),P=R(a),m=V(a,"DIV",{class:!0});var $=G(m);T=V($,"I",{"data-svelte-h":!0}),oe(T)!=="svelte-13s1fb"&&(T.textContent=O),I=V($,"BR",{}),k=R($),u=V($,"INPUT",{class:!0,type:!0,style:!0}),$.forEach(C),this.h()},h(){E(u,"class","nodrag svelte-cj6vld"),E(u,"type","text"),A(u,"text-align","center"),A(u,"background","#f0e6e6"),A(u,"font-weight","bold"),u.value=b=l[0].label,E(m,"class","agent svelte-cj6vld")},m(a,$){M(e,a,$),B(a,n,$),M(t,a,$),B(a,r,$),M(s,a,$),B(a,i,$),M(o,a,$),B(a,g,$),M(d,a,$),B(a,f,$),M(c,a,$),B(a,h,$),M(p,a,$),B(a,P,$),B(a,m,$),v(m,T),v(m,I),v(m,k),v(m,u),S=!0,_||(y=Q(u,"input",l[2]),_=!0)},p(a,[$]){const X={};$&2&&(X.isConnectable=a[1]),e.$set(X);const te={};$&2&&(te.isConnectable=a[1]),t.$set(te);const N={};$&2&&(N.isConnectable=a[1]),s.$set(N);const w={};$&2&&(w.isConnectable=a[1]),o.$set(w);const H={};$&2&&(H.isConnectable=a[1]),d.$set(H);const re={};$&2&&(re.isConnectable=a[1]),c.$set(re);const se={};$&2&&(se.isConnectable=a[1]),p.$set(se),(!S||$&1&&b!==(b=a[0].label)&&u.value!==b)&&(u.value=b)},i(a){S||(z(e.$$.fragment,a),z(t.$$.fragment,a),z(s.$$.fragment,a),z(o.$$.fragment,a),z(d.$$.fragment,a),z(c.$$.fragment,a),z(p.$$.fragment,a),S=!0)},o(a){F(e.$$.fragment,a),F(t.$$.fragment,a),F(s.$$.fragment,a),F(o.$$.fragment,a),F(d.$$.fragment,a),F(c.$$.fragment,a),F(p.$$.fragment,a),S=!1},d(a){a&&(C(n),C(r),C(i),C(g),C(f),C(h),C(P),C(m)),Y(e,a),Y(t,a),Y(s,a),Y(o,a),Y(d,a),Y(c,a),Y(p,a),_=!1,y()}}}function Qn(l,e,n){let{data:t}=e,{isConnectable:r}=e;const s=i=>{n(0,t.label=i.currentTarget.value,t)};return l.$$set=i=>{"data"in i&&n(0,t=i.data),"isConnectable"in i&&n(1,r=i.isConnectable)},[t,r,s]}class xn extends ce{constructor(e){super(),ge(this,e,Qn,Kn,ue,{data:0,isConnectable:1})}}function el(l){let e,n,t,r,s,i,o,g,d,f,c,h,p,P,m,T,O,I,k,u,b,S,_,y,a,$,X,te,N;return e=new x({props:{type:"target",position:ee.Left,id:"attackLeftTarget",style:"top: 20%; background: #ffc3c7; border-width: 2px; border-color: red;",isConnectable:l[1]}}),t=new x({props:{type:"target",position:ee.Right,id:"defenseRightTarget",style:"top: 20%; background: #8ac3ff; border-width: 2px; border-color: #062f4f;",isConnectable:l[1]}}),s=new x({props:{type:"target",position:ee.Left,id:"vulnerabilityLeftTarget",style:"top: 50%; border-color: orange; border-width: 2px; background: #f9d999;",isConnectable:l[1]}}),o=new x({props:{type:"target",position:ee.Top,id:"artTopTarget",style:"background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:l[1]}}),d=new x({props:{type:"target",position:ee.Left,id:"artLeftTarget",style:"top: 80%; background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:l[1]}}),c=new x({props:{type:"source",position:ee.Bottom,id:"artBottomSource",style:"border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:l[1]}}),p=new x({props:{type:"source",position:ee.Right,id:"artRightSource",style:"top: 80%; border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:l[1]}}),{c(){U(e.$$.fragment),n=L(),U(t.$$.fragment),r=L(),U(s.$$.fragment),i=L(),U(o.$$.fragment),g=L(),U(d.$$.fragment),f=L(),U(c.$$.fragment),h=L(),U(p.$$.fragment),P=L(),m=D("div"),T=D("i"),O=fe(l[2]),I=D("br"),k=L(),u=D("div"),b=D("input"),_=L(),y=D("div"),a=D("input"),this.h()},l(w){q(e.$$.fragment,w),n=R(w),q(t.$$.fragment,w),r=R(w),q(s.$$.fragment,w),i=R(w),q(o.$$.fragment,w),g=R(w),q(d.$$.fragment,w),f=R(w),q(c.$$.fragment,w),h=R(w),q(p.$$.fragment,w),P=R(w),m=V(w,"DIV",{class:!0});var H=G(m);T=V(H,"I",{});var re=G(T);O=de(re,l[2]),re.forEach(C),I=V(H,"BR",{}),k=R(H),u=V(H,"DIV",{});var se=G(u);b=V(se,"INPUT",{class:!0,type:!0,style:!0}),se.forEach(C),_=R(H),y=V(H,"DIV",{});var he=G(y);a=V(he,"INPUT",{class:!0,type:!0,style:!0}),he.forEach(C),H.forEach(C),this.h()},h(){E(b,"class","nodrag svelte-10ekf4r"),E(b,"type","text"),A(b,"text-align","center"),A(b,"background","white"),b.value=S=l[0].d3f_class||"< d3fend class >",E(a,"class","nodrag svelte-10ekf4r"),E(a,"type","text"),A(a,"text-align","center"),A(a,"background","white"),A(a,"font-weight","bold"),a.value=$=l[0].label,E(m,"class","agent svelte-10ekf4r")},m(w,H){M(e,w,H),B(w,n,H),M(t,w,H),B(w,r,H),M(s,w,H),B(w,i,H),M(o,w,H),B(w,g,H),M(d,w,H),B(w,f,H),M(c,w,H),B(w,h,H),M(p,w,H),B(w,P,H),B(w,m,H),v(m,T),v(T,O),v(m,I),v(m,k),v(m,u),v(u,b),v(m,_),v(m,y),v(y,a),X=!0,te||(N=[Q(b,"input",l[4]),Q(a,"input",l[5])],te=!0)},p(w,[H]){const re={};H&2&&(re.isConnectable=w[1]),e.$set(re);const se={};H&2&&(se.isConnectable=w[1]),t.$set(se);const he={};H&2&&(he.isConnectable=w[1]),s.$set(he);const j={};H&2&&(j.isConnectable=w[1]),o.$set(j);const J={};H&2&&(J.isConnectable=w[1]),d.$set(J);const W={};H&2&&(W.isConnectable=w[1]),c.$set(W);const K={};H&2&&(K.isConnectable=w[1]),p.$set(K),(!X||H&4)&&ve(O,w[2]),(!X||H&1&&S!==(S=w[0].d3f_class||"< d3fend class >")&&b.value!==S)&&(b.value=S),(!X||H&1&&$!==($=w[0].label)&&a.value!==$)&&(a.value=$)},i(w){X||(z(e.$$.fragment,w),z(t.$$.fragment,w),z(s.$$.fragment,w),z(o.$$.fragment,w),z(d.$$.fragment,w),z(c.$$.fragment,w),z(p.$$.fragment,w),X=!0)},o(w){F(e.$$.fragment,w),F(t.$$.fragment,w),F(s.$$.fragment,w),F(o.$$.fragment,w),F(d.$$.fragment,w),F(c.$$.fragment,w),F(p.$$.fragment,w),X=!1},d(w){w&&(C(n),C(r),C(i),C(g),C(f),C(h),C(P),C(m)),Y(e,w),Y(t,w),Y(s,w),Y(o,w),Y(d,w),Y(c,w),Y(p,w),te=!1,ke(N)}}}function tl(l,e,n){let{data:t}=e,{isConnectable:r}=e,{nodeType:s="EventNode"}=e,{nodeTypeLabel:i="Event"}=e;const o=d=>{n(0,t.label=d.currentTarget.value,t)},g=d=>{n(0,t.label=d.currentTarget.value,t)};return l.$$set=d=>{"data"in d&&n(0,t=d.data),"isConnectable"in d&&n(1,r=d.isConnectable),"nodeType"in d&&n(3,s=d.nodeType),"nodeTypeLabel"in d&&n(2,i=d.nodeTypeLabel)},[t,r,i,s,o,g]}class nl extends ce{constructor(e){super(),ge(this,e,tl,el,ue,{data:0,isConnectable:1,nodeType:3,nodeTypeLabel:2})}}function ll(l){let e,n,t,r=`translate(-50%, -50%) translate(${l[4]}px,${l[3]}px)`,s,i;return{c(){e=D("div"),n=D("input"),this.h()},l(o){e=V(o,"DIV",{class:!0});var g=G(e);n=V(g,"INPUT",{class:!0,type:!0,style:!0}),g.forEach(C),this.h()},h(){E(n,"class","nodrag nopan edge-label-text svelte-770c5k"),E(n,"type","text"),A(n,"text-align","center"),A(n,"font-weight","bold"),n.value=t=l[0].label,E(e,"class","edge-label-container svelte-770c5k"),A(e,"transform",r)},m(o,g){B(o,e,g),v(e,n),s||(i=Q(n,"input",l[12]),s=!0)},p(o,g){g&1&&t!==(t=o[0].label)&&n.value!==t&&(n.value=t),g&24&&r!==(r=`translate(-50%, -50%) translate(${o[4]}px,${o[3]}px)`)&&A(e,"transform",r)},d(o){o&&C(e),s=!1,i()}}}function rl(l){let e,n,t,r;return e=new en({props:{path:l[5],markerEnd:l[1],style:l[2]}}),t=new tn({props:{$$slots:{default:[ll]},$$scope:{ctx:l}}}),{c(){U(e.$$.fragment),n=L(),U(t.$$.fragment)},l(s){q(e.$$.fragment,s),n=R(s),q(t.$$.fragment,s)},m(s,i){M(e,s,i),B(s,n,i),M(t,s,i),r=!0},p(s,[i]){const o={};i&32&&(o.path=s[5]),i&2&&(o.markerEnd=s[1]),i&4&&(o.style=s[2]),e.$set(o);const g={};i&8217&&(g.$$scope={dirty:i,ctx:s}),t.$set(g)},i(s){r||(z(e.$$.fragment,s),z(t.$$.fragment,s),r=!0)},o(s){F(e.$$.fragment,s),F(t.$$.fragment,s),r=!1},d(s){s&&C(n),Y(e,s),Y(t,s)}}}function sl(l,e,n){let t,r,s,{data:i}=e,{sourceX:o}=e,{sourceY:g}=e,{sourcePosition:d}=e,{targetX:f}=e,{targetY:c}=e,{targetPosition:h}=e,{markerEnd:p=Lt.ArrowClosed}=e,{style:P=void 0}=e;const m=T=>{n(0,i.label=T.currentTarget.value,i)};return l.$$set=T=>{"data"in T&&n(0,i=T.data),"sourceX"in T&&n(6,o=T.sourceX),"sourceY"in T&&n(7,g=T.sourceY),"sourcePosition"in T&&n(8,d=T.sourcePosition),"targetX"in T&&n(9,f=T.targetX),"targetY"in T&&n(10,c=T.targetY),"targetPosition"in T&&n(11,h=T.targetPosition),"markerEnd"in T&&n(1,p=T.markerEnd),"style"in T&&n(2,P=T.style)},l.$$.update=()=>{l.$$.dirty&4032&&n(5,[t,r,s]=nn({sourceX:o,sourceY:g,sourcePosition:d,targetX:f,targetY:c,targetPosition:h}),t,(n(4,r),n(6,o),n(7,g),n(8,d),n(9,f),n(10,c),n(11,h)),(n(3,s),n(6,o),n(7,g),n(8,d),n(9,f),n(10,c),n(11,h)))},[i,p,P,s,r,t,o,g,d,f,c,h,m]}class il extends ce{constructor(e){super(),ge(this,e,sl,rl,ue,{data:0,sourceX:6,sourceY:7,sourcePosition:8,targetX:9,targetY:10,targetPosition:11,markerEnd:1,style:2})}}function Ct(l,e,n){const t=l.slice();return t[7]=e[n],t}function $t(l){let e,n=Ee(l[2]),t=[];for(let r=0;r<n.length;r+=1)t[r]=wt(Ct(l,n,r));return{c(){e=D("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=V(r,"DIV",{class:!0});var s=G(e);for(let i=0;i<t.length;i+=1)t[i].l(s);s.forEach(C),this.h()},h(){E(e,"class","file-list svelte-9u10j")},m(r,s){B(r,e,s);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(e,null)},p(r,s){if(s&20){n=Ee(r[2]);let i;for(i=0;i<n.length;i+=1){const o=Ct(r,n,i);t[i]?t[i].p(o,s):(t[i]=wt(o),t[i].c(),t[i].m(e,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=n.length}},d(r){r&&C(e),ze(t,r)}}}function wt(l){let e,n=l[7].name+"",t,r,s=l[7].nodeCount+"",i,o,g=l[7].edgeCount+"",d,f,c,h;function p(){return l[5](l[7])}return{c(){e=D("div"),t=fe(n),r=fe(" ("),i=fe(s),o=fe(" nodes, "),d=fe(g),f=fe(` edges)
          `),this.h()},l(P){e=V(P,"DIV",{class:!0});var m=G(e);t=de(m,n),r=de(m," ("),i=de(m,s),o=de(m," nodes, "),d=de(m,g),f=de(m,` edges)
          `),m.forEach(C),this.h()},h(){E(e,"class","file-item svelte-9u10j")},m(P,m){B(P,e,m),v(e,t),v(e,r),v(e,i),v(e,o),v(e,d),v(e,f),c||(h=Q(e,"click",p),c=!0)},p(P,m){l=P,m&4&&n!==(n=l[7].name+"")&&ve(t,n),m&4&&s!==(s=l[7].nodeCount+"")&&ve(i,s),m&4&&g!==(g=l[7].edgeCount+"")&&ve(d,g)},d(P){P&&C(e),c=!1,h()}}}function ol(l){let e,n,t,r,s,i,o=l[1]&&$t(l);return{c(){e=D("div"),n=D("button"),t=fe(l[0]),r=L(),o&&o.c(),this.h()},l(g){e=V(g,"DIV",{class:!0});var d=G(e);n=V(d,"BUTTON",{class:!0});var f=G(n);t=de(f,l[0]),f.forEach(C),r=R(d),o&&o.l(d),d.forEach(C),this.h()},h(){E(n,"class","svelte-9u10j"),E(e,"class","pick-list-container svelte-9u10j")},m(g,d){B(g,e,d),v(e,n),v(n,t),v(e,r),o&&o.m(e,null),s||(i=Q(n,"click",l[3]),s=!0)},p(g,[d]){d&1&&ve(t,g[0]),g[1]?o?o.p(g,d):(o=$t(g),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i:pe,o:pe,d(g){g&&C(e),o&&o.d(),s=!1,i()}}}async function al(){return await(await fetch("/graph-studio/examples.json")).json()}function fl(l,e,n){const t=Dt();let r=!1,{selectedFile:s="Example Graphs"}=e,i=[];function o(){n(1,r=!r)}function g(f){n(0,s=f),n(1,r=!1),t("fileSelected",f)}Vt(async()=>{n(2,i=await al())});const d=f=>g(f.name);return l.$$set=f=>{"selectedFile"in f&&n(0,s=f.selectedFile)},[s,r,i,o,g,d]}class dl extends ce{constructor(e){super(),ge(this,e,fl,ol,ue,{selectedFile:0})}}function ul(l){let e,n,t,r,s,i,o,g="duplicate",d,f,c="delete",h,p;return{c(){e=D("div"),n=D("p"),t=D("small"),r=fe("node: "),s=fe(l[1]),i=L(),o=D("button"),o.textContent=g,d=L(),f=D("button"),f.textContent=c,this.h()},l(P){e=V(P,"DIV",{style:!0,class:!0});var m=G(e);n=V(m,"P",{style:!0});var T=G(n);t=V(T,"SMALL",{});var O=G(t);r=de(O,"node: "),s=de(O,l[1]),O.forEach(C),T.forEach(C),i=R(m),o=V(m,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(o)!=="svelte-57yxf4"&&(o.textContent=g),d=R(m),f=V(m,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(f)!=="svelte-18fgvow"&&(f.textContent=c),m.forEach(C),this.h()},h(){A(n,"margin","0.5em"),E(o,"class","svelte-n5mog5"),E(f,"class","svelte-n5mog5"),A(e,"top",l[2]+"px"),A(e,"left",l[3]+"px"),A(e,"right",l[4]+"px"),A(e,"bottom",l[5]+"px"),E(e,"class","context-menu svelte-n5mog5")},m(P,m){B(P,e,m),v(e,n),v(n,t),v(t,r),v(t,s),v(e,i),v(e,o),v(e,d),v(e,f),h||(p=[Q(o,"click",l[8]),Q(f,"click",l[9]),Q(e,"click",function(){Mt(l[0])&&l[0].apply(this,arguments)})],h=!0)},p(P,[m]){l=P,m&2&&ve(s,l[1]),m&4&&A(e,"top",l[2]+"px"),m&8&&A(e,"left",l[3]+"px"),m&16&&A(e,"right",l[4]+"px"),m&32&&A(e,"bottom",l[5]+"px")},i:pe,o:pe,d(P){P&&C(e),h=!1,ke(p)}}}function cl(l,e,n){let t,r,{onClick:s}=e,{id:i}=e,{top:o}=e,{left:g}=e,{right:d}=e,{bottom:f}=e;const c=Pt();De(l,c,m=>n(11,r=m));const h=pn();De(l,h,m=>n(10,t=m));function p(){const m=r.find(T=>T.id===i);m&&r.push(Object.assign(Object.assign({},m),{id:`${i}-copy${Math.random()}`,position:{x:m.position.x,y:m.position.y+50}})),c.set(r)}function P(){Re(c,r=r.filter(m=>m.id!==i),r),Re(h,t=t.filter(m=>m.source!==i&&m.target!==i),t)}return l.$$set=m=>{"onClick"in m&&n(0,s=m.onClick),"id"in m&&n(1,i=m.id),"top"in m&&n(2,o=m.top),"left"in m&&n(3,g=m.left),"right"in m&&n(4,d=m.right),"bottom"in m&&n(5,f=m.bottom)},[s,i,o,g,d,f,c,h,p,P]}class gl extends ce{constructor(e){super(),ge(this,e,cl,ul,ue,{onClick:0,id:1,top:2,left:3,right:4,bottom:5})}}function kt(l,e,n){const t=l.slice();return t[12]=e[n],t}function yt(l){let e,n,t,r,s,i,o,g,d,f,c,h,p;const P=l[8].default,m=Ye(P,l,l[7],null);let T=Ee(l[3]),O=[];for(let I=0;I<T.length;I+=1)O[I]=Tt(kt(l,T,I));return{c(){e=D("div"),n=D("div"),t=D("h2"),r=fe(l[1]),s=L(),i=D("p"),o=fe(l[2]),g=L(),m&&m.c(),d=L(),f=D("div");for(let I=0;I<O.length;I+=1)O[I].c();this.h()},l(I){e=V(I,"DIV",{class:!0});var k=G(e);n=V(k,"DIV",{class:!0});var u=G(n);t=V(u,"H2",{});var b=G(t);r=de(b,l[1]),b.forEach(C),s=R(u),i=V(u,"P",{});var S=G(i);o=de(S,l[2]),S.forEach(C),g=R(u),m&&m.l(u),d=R(u),f=V(u,"DIV",{class:!0});var _=G(f);for(let y=0;y<O.length;y+=1)O[y].l(_);_.forEach(C),u.forEach(C),k.forEach(C),this.h()},h(){E(f,"class","options svelte-zbcx3u"),E(n,"class","modal-content center text-center svelte-zbcx3u"),E(e,"class","modal-overlay svelte-zbcx3u")},m(I,k){B(I,e,k),v(e,n),v(n,t),v(t,r),v(n,s),v(n,i),v(i,o),v(n,g),m&&m.m(n,null),v(n,d),v(n,f);for(let u=0;u<O.length;u+=1)O[u]&&O[u].m(f,null);c=!0,h||(p=[Q(n,"click",Le(l[9])),Q(e,"click",l[4])],h=!0)},p(I,k){if((!c||k&2)&&ve(r,I[1]),(!c||k&4)&&ve(o,I[2]),m&&m.p&&(!c||k&128)&&He(m,P,I,I[7],c?Ge(P,I[7],k,null):Xe(I[7]),null),k&40){T=Ee(I[3]);let u;for(u=0;u<T.length;u+=1){const b=kt(I,T,u);O[u]?O[u].p(b,k):(O[u]=Tt(b),O[u].c(),O[u].m(f,null))}for(;u<O.length;u+=1)O[u].d(1);O.length=T.length}},i(I){c||(z(m,I),c=!0)},o(I){F(m,I),c=!1},d(I){I&&C(e),m&&m.d(I),ze(O,I),h=!1,ke(p)}}}function Tt(l){let e,n=l[12].label+"",t,r,s,i;function o(){return l[10](l[12])}return{c(){e=D("button"),t=fe(n),r=L(),this.h()},l(g){e=V(g,"BUTTON",{class:!0});var d=G(e);t=de(d,n),r=R(d),d.forEach(C),this.h()},h(){E(e,"class","svelte-zbcx3u")},m(g,d){B(g,e,d),v(e,t),v(e,r),s||(i=Q(e,"click",o),s=!0)},p(g,d){l=g,d&8&&n!==(n=l[12].label+"")&&ve(t,n)},d(g){g&&C(e),s=!1,i()}}}function ml(l){let e,n,t=l[0]&&yt(l);return{c(){t&&t.c(),e=Ve()},l(r){t&&t.l(r),e=Ve()},m(r,s){t&&t.m(r,s),B(r,e,s),n=!0},p(r,[s]){r[0]?t?(t.p(r,s),s&1&&z(t,1)):(t=yt(r),t.c(),z(t,1),t.m(e.parentNode,e)):t&&(Je(),F(t,1,1,()=>{t=null}),We())},i(r){n||(z(t),n=!0)},o(r){F(t),n=!1},d(r){r&&C(e),t&&t.d(r)}}}function hl(l,e,n){let{$$slots:t={},$$scope:r}=e,{isOpen:s=!1}=e,{title:i=""}=e,{content:o=""}=e,{imageSrc:g=""}=e,{options:d=[]}=e;const f=Dt();function c(){n(0,s=!1)}function h(m){f("optionSelected",m),c()}function p(m){Nt.call(this,l,m)}const P=m=>h(m);return l.$$set=m=>{"isOpen"in m&&n(0,s=m.isOpen),"title"in m&&n(1,i=m.title),"content"in m&&n(2,o=m.content),"imageSrc"in m&&n(6,g=m.imageSrc),"options"in m&&n(3,d=m.options),"$$scope"in m&&n(7,r=m.$$scope)},[s,i,o,d,c,h,g,r,t,p,P]}class bl extends ce{constructor(e){super(),ge(this,e,hl,ml,ue,{isOpen:0,title:1,content:2,imageSrc:6,options:3})}}function pl(l){let e;return{c(){e=fe("Please only load models from URLs you trust!")},l(n){e=de(n,"Please only load models from URLs you trust!")},m(n,t){B(n,e,t)},d(n){n&&C(e)}}}function _l(l){let e,n,t,r,s,i,o,g,d,f,c;return f=new Rt({props:{$$slots:{default:[pl]},$$scope:{ctx:l}}}),{c(){e=D("br"),n=L(),t=D("code"),r=fe(l[2]),s=L(),i=D("br"),o=L(),g=D("br"),d=L(),U(f.$$.fragment),this.h()},l(h){e=V(h,"BR",{}),n=R(h),t=V(h,"CODE",{class:!0});var p=G(t);r=de(p,l[2]),p.forEach(C),s=R(h),i=V(h,"BR",{}),o=R(h),g=V(h,"BR",{}),d=R(h),q(f.$$.fragment,h),this.h()},h(){E(t,"class","center text-center")},m(h,p){B(h,e,p),B(h,n,p),B(h,t,p),v(t,r),B(h,s,p),B(h,i,p),B(h,o,p),B(h,g,p),B(h,d,p),M(f,h,p),c=!0},p(h,p){(!c||p[0]&4)&&ve(r,h[2]);const P={};p[1]&8&&(P.$$scope={dirty:p,ctx:h}),f.$set(P)},i(h){c||(z(f.$$.fragment,h),c=!0)},o(h){F(f.$$.fragment,h),c=!1},d(h){h&&(C(e),C(n),C(t),C(s),C(i),C(o),C(g),C(d)),Y(f,h)}}}function vl(l){let e,n='This is an (very) alpha-level preview release. Please review and file bugs <a href="https://github.com/d3fend/d3fend/issues/14">here.</a>';return{c(){e=D("div"),e.innerHTML=n,this.h()},l(t){e=V(t,"DIV",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-p14f9f"&&(e.innerHTML=n),this.h()},h(){E(e,"class","font-medium")},m(t,r){B(t,e,r)},p:pe,d(t){t&&C(e)}}}function It(l){let e,n;return e=new gl({props:{onClick:l[20],id:l[6].id,top:l[6].top,left:l[6].left,right:l[6].right,bottom:l[6].bottom}}),{c(){U(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,r){M(e,t,r),n=!0},p(t,r){const s={};r[0]&64&&(s.id=t[6].id),r[0]&64&&(s.top=t[6].top),r[0]&64&&(s.left=t[6].left),r[0]&64&&(s.right=t[6].right),r[0]&64&&(s.bottom=t[6].bottom),e.$set(s)},i(t){n||(z(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function Cl(l){let e,n,t,r,s,i,o;e=new rn({}),t=new sn({props:{variant:on.Dots}});let g=l[6]&&It(l);return i=new an({}),{c(){U(e.$$.fragment),n=L(),U(t.$$.fragment),r=L(),g&&g.c(),s=L(),U(i.$$.fragment)},l(d){q(e.$$.fragment,d),n=R(d),q(t.$$.fragment,d),r=R(d),g&&g.l(d),s=R(d),q(i.$$.fragment,d)},m(d,f){M(e,d,f),B(d,n,f),M(t,d,f),B(d,r,f),g&&g.m(d,f),B(d,s,f),M(i,d,f),o=!0},p(d,f){d[6]?g?(g.p(d,f),f[0]&64&&z(g,1)):(g=It(d),g.c(),z(g,1),g.m(s.parentNode,s)):g&&(Je(),F(g,1,1,()=>{g=null}),We())},i(d){o||(z(e.$$.fragment,d),z(t.$$.fragment,d),z(g),z(i.$$.fragment,d),o=!0)},o(d){F(e.$$.fragment,d),F(t.$$.fragment,d),F(g),F(i.$$.fragment,d),o=!1},d(d){d&&(C(n),C(r),C(s)),Y(e,d),Y(t,d),g&&g.d(d),Y(i,d)}}}function $l(l){let e,n,t,r,s,i,o,g='D3FEND <span class="snakes svelte-17rnnxd">☤</span> <span class="CAD svelte-17rnnxd"><span style="color:#e62929;">C</span><span class="A svelte-17rnnxd" style="color:white;text-border:1px;">A</span><span style="color:blue;">D</span></span>',d,f,c="<i>Cyber Attack-Defense Utility for Capturing Engagements and Understandable Scenarios</i>",h,p,P,m,T,O,I,k,u,b,S,_,y,a="Load",$,X,te="Clear",N,w,H="Save",re,se,he="Save As",j,J,W,K,ne,ae,Ce,we,Te,be,me,_e;function Ie(Z){l[21](Z)}let Se={title:l[3].title,content:l[3].content,options:l[3].options,$$slots:{default:[_l]},$$scope:{ctx:l}};l[3].isOpen!==void 0&&(Se.isOpen=l[3].isOpen),e=new bl({props:Se}),tt.push(()=>rt(e,"isOpen",Ie)),e.$on("optionSelected",l[9]),m=new Rt({props:{$$slots:{default:[vl]},$$scope:{ctx:l}}});function zt(Z){l[22](Z)}let xe={};return l[5]!==void 0&&(xe.selectedFile=l[5]),I=new dl({props:xe}),tt.push(()=>rt(I,"selectedFile",zt)),I.$on("fileSelected",l[17]),ae=new ln({props:{nodes:qe,nodeTypes:l[0],edges:Me,edgeTypes:l[1],fitView:!0,defaultEdgeOptions:l[10],$$slots:{default:[Cl]},$$scope:{ctx:l}}}),ae.$on("dragover",l[14]),ae.$on("drop",l[16]),ae.$on("connect",l[15]),ae.$on("nodecontextmenu",l[19]),ae.$on("paneclick",l[20]),ae.$on("onedgecreate",wl),we=new $n({}),{c(){U(e.$$.fragment),t=L(),r=D("div"),s=D("div"),i=D("div"),o=D("h1"),o.innerHTML=g,d=L(),f=D("div"),f.innerHTML=c,h=L(),p=D("br"),P=L(),U(m.$$.fragment),T=L(),O=D("div"),U(I.$$.fragment),u=L(),b=D("br"),S=L(),_=D("div"),y=D("button"),y.textContent=a,$=L(),X=D("button"),X.textContent=te,N=L(),w=D("button"),w.textContent=H,re=L(),se=D("button"),se.textContent=he,j=fe(`
        current filename: `),J=fe(l[4]),W=L(),K=D("main"),ne=D("div"),U(ae.$$.fragment),Ce=L(),U(we.$$.fragment),this.h()},l(Z){q(e.$$.fragment,Z),t=R(Z),r=V(Z,"DIV",{class:!0});var ie=G(r);s=V(ie,"DIV",{style:!0});var Ne=G(s);i=V(Ne,"DIV",{style:!0});var ye=G(i);o=V(ye,"H1",{class:!0,"data-svelte-h":!0}),oe(o)!=="svelte-1hfeq8z"&&(o.innerHTML=g),d=R(ye),f=V(ye,"DIV",{style:!0,"data-svelte-h":!0}),oe(f)!=="svelte-1adqejh"&&(f.innerHTML=c),h=R(ye),p=V(ye,"BR",{}),P=R(ye),q(m.$$.fragment,ye),ye.forEach(C),Ne.forEach(C),ie.forEach(C),T=R(Z),O=V(Z,"DIV",{class:!0});var Be=G(O);q(I.$$.fragment,Be),Be.forEach(C),u=R(Z),b=V(Z,"BR",{}),S=R(Z),_=V(Z,"DIV",{class:!0});var $e=G(_);y=V($e,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(y)!=="svelte-r4end6"&&(y.textContent=a),$=R($e),X=V($e,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(X)!=="svelte-1o4uly3"&&(X.textContent=te),N=R($e),w=V($e,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(w)!=="svelte-qm8vdx"&&(w.textContent=H),re=R($e),se=V($e,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(se)!=="svelte-zj2wld"&&(se.textContent=he),j=de($e,`
        current filename: `),J=de($e,l[4]),$e.forEach(C),W=R(Z),K=V(Z,"MAIN",{});var et=G(K);ne=V(et,"DIV",{id:!0,class:!0});var je=G(ne);q(ae.$$.fragment,je),Ce=R(je),q(we.$$.fragment,je),je.forEach(C),et.forEach(C),this.h()},h(){E(o,"class","fancy-font svelte-17rnnxd"),A(f,"text-align","center"),A(f,"padding","0 px"),A(i,"text-align","center"),A(i,"flex-grow","1"),A(s,"display","flex"),A(s,"just-content","space-between"),A(s,"align-items","center"),E(r,"class","title-egg"),E(O,"class","toolbar-examples"),E(y,"class","svelte-17rnnxd"),E(X,"class","svelte-17rnnxd"),E(w,"class","svelte-17rnnxd"),E(se,"class","svelte-17rnnxd"),E(_,"class","toolbar"),E(ne,"id","flow"),E(ne,"class","svelte-17rnnxd"),St(()=>l[23].call(ne))},m(Z,ie){M(e,Z,ie),B(Z,t,ie),B(Z,r,ie),v(r,s),v(s,i),v(i,o),v(i,d),v(i,f),v(i,h),v(i,p),v(i,P),M(m,i,null),B(Z,T,ie),B(Z,O,ie),M(I,O,null),B(Z,u,ie),B(Z,b,ie),B(Z,S,ie),B(Z,_,ie),v(_,y),v(_,$),v(_,X),v(_,N),v(_,w),v(_,re),v(_,se),v(_,j),v(_,J),B(Z,W,ie),B(Z,K,ie),v(K,ne),M(ae,ne,null),v(ne,Ce),M(we,ne,null),Te=Yt(ne,l[23].bind(ne)),be=!0,me||(_e=[Q(y,"click",l[13]),Q(X,"click",l[18]),Q(w,"click",l[11]),Q(se,"click",l[12])],me=!0)},p(Z,ie){const Ne={};ie[0]&8&&(Ne.title=Z[3].title),ie[0]&8&&(Ne.content=Z[3].content),ie[0]&8&&(Ne.options=Z[3].options),ie[0]&4|ie[1]&8&&(Ne.$$scope={dirty:ie,ctx:Z}),!n&&ie[0]&8&&(n=!0,Ne.isOpen=Z[3].isOpen,nt(()=>n=!1)),e.$set(Ne);const ye={};ie[1]&8&&(ye.$$scope={dirty:ie,ctx:Z}),m.$set(ye);const Be={};!k&&ie[0]&32&&(k=!0,Be.selectedFile=Z[5],nt(()=>k=!1)),I.$set(Be),(!be||ie[0]&16)&&ve(J,Z[4]);const $e={};ie[0]&64|ie[1]&8&&($e.$$scope={dirty:ie,ctx:Z}),ae.$set($e)},i(Z){be||(z(e.$$.fragment,Z),z(m.$$.fragment,Z),z(I.$$.fragment,Z),z(ae.$$.fragment,Z),z(we.$$.fragment,Z),be=!0)},o(Z){F(e.$$.fragment,Z),F(m.$$.fragment,Z),F(I.$$.fragment,Z),F(ae.$$.fragment,Z),F(we.$$.fragment,Z),be=!1},d(Z){Z&&(C(t),C(r),C(T),C(O),C(u),C(b),C(S),C(_),C(W),C(K)),Y(e,Z),Y(m),Y(I),Y(ae),Y(we),Te(),me=!1,ke(_e)}}}function wl(l){console.log(l),console.log(l)}function kl(l,e,n){let t,r,s;De(l,qe,j=>n(24,t=j)),De(l,Me,j=>n(25,r=j)),De(l,Ht,j=>n(26,s=j));var i=this&&this.__awaiter||function(j,J,W,K){function ne(ae){return ae instanceof W?ae:new W(function(Ce){Ce(ae)})}return new(W||(W=Promise))(function(ae,Ce){function we(me){try{be(K.next(me))}catch(_e){Ce(_e)}}function Te(me){try{be(K.throw(me))}catch(_e){Ce(_e)}}function be(me){me.done?ae(me.value):ne(me.value).then(we,Te)}be((K=K.apply(j,J||[])).next())})};let o;o=s.url.searchParams.get("load");let g={isOpen:!!o,title:"Confirmation to load remote model from URL",content:"This page is instructing D3FEND to remotely load a CAD model from this URL:",options:[{label:"Cancel",value:"cancel"},{label:"Load Model",value:"load"}]};function d(j){const J=j.detail;J.value==="load"?I(o):J.value}Me.subscribe(j=>{}),Vt(()=>{});const f={artifactSelectorNode:Fn,vulnerabilitySelectorNode:En,attackSelectorNode:yn,countermeasureSelectorNode:Yn,informationSelectorNode:Gn,conditionDefinitionNode:Wn,agentSelectorNode:xn,eventNode:nl},c={editableEdge:il};let h={type:"editableEdge",data:{label:void 0},markerEnd:{type:Lt.ArrowClosed}},p="d3fend-cad.json";function P(){const j=JSON.stringify({nodes:t,edges:r},null,4),J=new Blob([j],{type:"application/json"}),W=window.URL.createObjectURL(J),K=document.createElement("a");K.href=W,K.download=p,document.body.appendChild(K),K.click(),document.body.removeChild(K),window.URL.revokeObjectURL(W)}function m(){const j=JSON.stringify({nodes:t,edges:r},null,4),J=new Blob([j],{type:"application/json"}),W=window.URL.createObjectURL(J),K=document.createElement("a");K.href=W;let ne=prompt("Enter filename to save",p);n(4,p=ne),ne&&(K.download=ne,document.body.appendChild(K),K.click(),document.body.removeChild(K)),window.URL.revokeObjectURL(W)}function T(j){try{const J=j.nodes,W=j.edges;Fe(J,W)}catch(J){console.error("Error parsing JSON:",J)}}function O(j){const J=j.target.files[0];if(J){const W=new FileReader;W.onload=K=>{if(typeof K.target.result=="string"){console.log(K.target.result);try{const ne=JSON.parse(K.target.result),ae=ne.nodes,Ce=ne.edges;Fe(ae,Ce)}catch(ne){console.error("Error parsing JSON:",ne)}}else console.error("File content is not a string.")},W.onerror=()=>{console.error("Error reading file:",W.error)},W.readAsText(J)}}function I(j){return i(this,void 0,void 0,function*(){if(j)try{const W=yield(yield fetch(j)).json(),K=W.nodes,ne=W.edges;Fe(K,ne)}catch(J){console.error("Error parsing JSON:",J)}})}function k(){const j=document.createElement("input");j.type="file",j.accept=".json",j.onchange=J=>{O(J)},j.click()}const{screenToFlowPosition:u}=bn(),b=j=>{j.preventDefault(),j.dataTransfer&&(j.dataTransfer.dropEffect="move")},S=j=>console.log("handle onConnect",j),_=j=>{if(j.preventDefault(),!j.dataTransfer)return null;const J=j.dataTransfer.getData("application/svelteflow"),W=u({x:j.clientX,y:j.clientY}),K={id:`${Math.random()}`,type:J,position:W,data:{label:"",sequence:"0"},origin:[.5,0]};t.push(K),qe.set(t)};function y(j){return i(this,void 0,void 0,function*(){const J=j.detail;try{const W=yield fetch(`/resources/cad/examples/${J}`);if(!W.ok)throw new Error(`HTTP error! status: ${W.status}`);const K=yield W.json();console.log("Selected file contents:",K),T(K)}catch(W){console.error("Error fetching JSON file:",W)}})}let a;function $(){_n(),n(5,a="Example Graphs")}let X,te,N;function w({detail:{event:j,node:J}}){j.preventDefault();let W=50;n(6,X={id:J.id,top:j.clientY<N-W?j.clientY:void 0,left:j.clientX<te-W?j.clientX:void 0,right:j.clientX>=te-W?te-j.clientX:void 0,bottom:j.clientY>=N-W?N-j.clientY:void 0})}function H(){n(6,X=null)}function re(j){l.$$.not_equal(g.isOpen,j)&&(g.isOpen=j,n(3,g))}function se(j){a=j,n(5,a)}function he(){te=this.clientWidth,N=this.clientHeight,n(7,te),n(8,N)}return[f,c,o,g,p,a,X,te,N,d,h,P,m,k,b,S,_,y,$,w,H,re,se,he]}class yl extends ce{constructor(e){super(),ge(this,e,kl,$l,ue,{nodeTypes:0,edgeTypes:1},null,[-1,-1])}get nodeTypes(){return this.$$.ctx[0]}get edgeTypes(){return this.$$.ctx[1]}}function Tl(l){let e,n;return e=new yl({}),{c(){U(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,r){M(e,t,r),n=!0},i(t){n||(z(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function Il(l){let e,n;return e=new hn({props:{$$slots:{default:[Tl]},$$scope:{ctx:l}}}),{c(){U(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,r){M(e,t,r),n=!0},p(t,[r]){const s={};r&8&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(z(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function El(l,e,n){let t,{data:r}=e;function s(i,o,g=[]){const d=un(i,f=>f["rdfs:label"]);for(const f of d)g.push({...f,tacticLabel:o}),f.children&&s(f.children,o,g);return g}return l.$$set=i=>{"data"in i&&n(0,r=i.data)},l.$$.update=()=>{l.$$.dirty&1&&n(1,t=r.matrix.remote_d3fend_tree?r.matrix.remote_d3fend_tree.map(i=>({...i,children:s(i.children,i["rdfs:label"])})):[]),l.$$.dirty&3&&(Bt.set(t),Ot.set(r.techniques.dao_remote_autocomplete_list))},[r,t]}class ql extends ce{constructor(e){super(),ge(this,e,El,Il,ue,{data:0})}}export{ql as component,Ul as universal};
