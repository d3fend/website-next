const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/jsonld.OPIS_L8g.js","../chunks/_commonjsHelpers.BosuxZz1.js","../chunks/index.HGyOB-Dh.js"])))=>i.map(i=>d[i]);
import{s as ja}from"../chunks/sortBy.ChsTRid8.js";import{s as Xe,c as Ct,u as kt,g as Nt,a as St,am as sh,F as lh,e as re,d as ne,f as Ce,i as D,q as ue,k as S,o as nt,ao as uh,C as Ka,G as Dt,H as Le,b as ie,j as ae,as as He,t as U,h as $,l as G,P as Se,a4 as Ot,ar as Nn,m as pe,v as bt,X as Lr,n as Be,p as qe,J as Lt,W as ur,B as xe,O as bn,Z as Ro,a3 as es,r as zi,al as fl,a0 as Pa,N as Aa,ap as cl,ak as oh,aq as fh}from"../chunks/scheduler.CpyzObLs.js";import{S as We,i as Qe,t as oe,a as de,g as Et,e as Tt,c as we,b as ye,m as De,d as Ae,f as or,p as dl}from"../chunks/index.CTZRj-VU.js";import{w as pr}from"../chunks/index.tqekIUNw.js";import{p as ch}from"../chunks/stores.CT9xJHfr.js";import{A as Io}from"../chunks/Alert.Cic_FqY9.js";import{c as dh,k as hh,b as hl,R as ji,u as ra,X as ph,d as pl,e as _l,i as _h,g as gh,f as gl,n as vl,h as ml,j as vh,p as mh,l as bh,r as wh,m as ts,H as Me,P as je,o as yh,E as Dh,q as Ah,S as Eh,C as Th,B as Ch,a as kh,M as Nh}from"../chunks/style.Bss-mwyr.js";import{g as na,c as rs}from"../chunks/_commonjsHelpers.BosuxZz1.js";import{r as Sh,b as Rh}from"../chunks/index.HGyOB-Dh.js";import{_ as Ih}from"../chunks/preload-helper.D6kgxu3v.js";import{T as Jn,b as Ee,a as Fo,G as Fh,m as Oh,d as Xi}from"../chunks/lib.DCwHEN4o.js";import{e as ze,u as bl,o as wl}from"../chunks/each.9QANBvbJ.js";import{G as Sn}from"../chunks/_Graph.CEP-c7_b.js";import{t as Gi,T as Oo}from"../chunks/ToggleBar.Dc6Ybkgj.js";import{s as yl}from"../chunks/index.CNpb2BhY.js";import{f as Wi}from"../chunks/utils.xEKteSAW.js";import{f as Lh,c as Bh}from"../chunks/actions.Db2EBVbi.js";function ns(n,r,e=[]){const t=ja(n,i=>i["rdfs:label"]);for(const i of t)e.push({...i,rootLabel:r}),i.children&&ns(i.children,r,e);return e}function Lo(n,r,e){for(const t of e)if(r.test(n[t]))return!0;return!1}function xh(n,r,e){if(!r)return n||[];const t=r?new RegExp(r,"i"):null,i=s=>t?Lo(s,t,e):!0;return n.filter(i)}function qh(n,r,e){if(!r)return n||[];const t=r?new RegExp(r,"i"):null,i=a=>t?Lo(a,t,e):!0;return n.reduce((a,l)=>(a.push({...l,children:l.children.filter(i)}),a),[]).filter(a=>a.children.length>0)}async function Mh({fetch:n}){const r=["/api/offensive-technique/all.json","/api/dao/artifacts.json","/api/taxonomies/d3f:DigitalEvent.json","/api/weakness/all.json"];function e(h,_){return[...new Map(h.map(g=>[g[_],g])).values()]}function t(h){const _=h.reduce((y,N)=>(y[N["@id"]]=N,y),{});return h.reduce((y,N)=>(N.hasOwnProperty("rdfs:hasSubClass")&&(N.children=N["rdfs:hasSubClass"].map(B=>_[B["@id"]]),y.push(N)),y),[]).filter(y=>y["rdfs:subClassOf"].some(N=>N["@id"]==="d3f:DigitalEvent"))}const[{value:{["@graph"]:i}},{value:{["@graph"]:s}},{value:{["@graph"]:a}},{value:{["@graph"]:l}}]=await Promise.allSettled(r.map(h=>n(h).then(_=>_.json()))),u=ja(e(i,"rdfs:label"),h=>h["rdfs:label"]),c=t(a).map(h=>({...h,children:e(ns(h.children,h["rdfs:label"]),"rdfs:label")})),p=ja(l,h=>h["rdfs:label"]);return{attack:u,dao:s,events:c,weaknesses:p}}const Sv=Object.freeze(Object.defineProperty({__proto__:null,load:Mh},Symbol.toStringTag,{value:"Module"}));function jh(n){let r;const e=n[7].default,t=Ct(e,n,n[6],null);return{c(){t&&t.c()},l(i){t&&t.l(i)},m(i,s){t&&t.m(i,s),r=!0},p(i,[s]){t&&t.p&&(!r||s&64)&&kt(t,e,i,i[6],r?St(e,i[6],s,null):Nt(i[6]),null)},i(i){r||(oe(t,i),r=!0)},o(i){de(t,i),r=!1},d(i){t&&t.d(i)}}}function Ph(n,r,e){let{$$slots:t={},$$scope:i}=r,{initialNodes:s=void 0}=r,{initialEdges:a=void 0}=r,{initialWidth:l=void 0}=r,{initialHeight:u=void 0}=r,{fitView:o=void 0}=r,{nodeOrigin:c=void 0}=r;const p=dh({nodes:s,edges:a,width:l,height:u,nodeOrigin:c,fitView:o});return sh(hh,{getStore:()=>p}),lh(()=>{p.reset()}),n.$$set=h=>{"initialNodes"in h&&e(0,s=h.initialNodes),"initialEdges"in h&&e(1,a=h.initialEdges),"initialWidth"in h&&e(2,l=h.initialWidth),"initialHeight"in h&&e(3,u=h.initialHeight),"fitView"in h&&e(4,o=h.fitView),"nodeOrigin"in h&&e(5,c=h.nodeOrigin),"$$scope"in h&&e(6,i=h.$$scope)},[s,a,l,u,o,c,i,t]}class Uh extends We{constructor(r){super(),Qe(this,r,Ph,jh,Xe,{initialNodes:0,initialEdges:1,initialWidth:2,initialHeight:3,fitView:4,nodeOrigin:5})}}function $h(n){let r,e,t;const i=n[33].default,s=Ct(i,n,n[32],null);return{c(){r=re("div"),s&&s.c(),this.h()},l(a){r=ne(a,"DIV",{class:!0,style:!0});var l=Ce(r);s&&s.l(l),l.forEach(D),this.h()},h(){ue(r,"class",e=hl(["svelte-flow__resize-control","nodrag",...n[4],n[0],n[1]])),ue(r,"style",n[3])},m(a,l){S(a,r,l),s&&s.m(r,null),n[34](r),t=!0},p(a,l){s&&s.p&&(!t||l[1]&2)&&kt(s,i,a,a[32],t?St(i,a[32],l,null):Nt(a[32]),null),(!t||l[0]&19&&e!==(e=hl(["svelte-flow__resize-control","nodrag",...a[4],a[0],a[1]])))&&ue(r,"class",e),(!t||l[0]&8)&&ue(r,"style",a[3])},i(a){t||(oe(s,a),t=!0)},o(a){de(s,a),t=!1},d(a){a&&D(r),s&&s.d(a),n[34](null)}}}function Vh(n,r,e){let t,i,s,a,l,u,o,c,p,h,_,g,C,y,N,B,{$$slots:E={},$$scope:L}=r,{nodeId:A=void 0}=r,{position:F=void 0}=r,{variant:T=ji.Handle}=r,{color:P=void 0}=r,{minWidth:x=10}=r,{minHeight:R=10}=r,{maxWidth:m=Number.MAX_VALUE}=r,{maxHeight:b=Number.MAX_VALUE}=r,{keepAspectRatio:O=!1}=r,{shouldResize:w=void 0}=r,{onResizeStart:H=void 0}=r,{onResize:I=void 0}=r,{onResizeEnd:V=void 0}=r,{style:ee=""}=r,{class:Q=""}=r;const{nodeLookup:q,snapGrid:M,viewport:le,nodes:K,nodeOrigin:he}=ra();nt(n,q,J=>e(37,C=J)),nt(n,M,J=>e(39,N=J)),nt(n,le,J=>e(40,B=J)),nt(n,K,J=>e(36,g=J)),nt(n,he,J=>e(38,y=J));const fe=uh("svelteflow__node_id");let me,te=null;Ka(()=>(me&&e(23,te=ph({domNode:me,nodeId:l,getStoreItems:()=>({nodeLookup:C,transform:[B.x,B.y,B.zoom],snapGrid:N??void 0,snapToGrid:!!N,nodeOrigin:y}),onChange:(J,ve)=>{var $e,Pe;const Fe=($e=C.get(l))==null?void 0:$e.internals.userNode;if(Fe){J.x!==void 0&&J.y!==void 0&&(Fe.position={x:J.x,y:J.y}),J.width!==void 0&&J.height!==void 0&&(Fe.width=J.width,Fe.height=J.height);for(const _e of ve){const Te=(Pe=C.get(_e.id))==null?void 0:Pe.internals.userNode;Te&&(Te.position=_e.position)}K.set(g)}}})),()=>{te==null||te.destroy()}));function ce(J){Dt[J?"unshift":"push"](()=>{me=J,e(2,me)})}return n.$$set=J=>{"nodeId"in J&&e(10,A=J.nodeId),"position"in J&&e(11,F=J.position),"variant"in J&&e(0,T=J.variant),"color"in J&&e(12,P=J.color),"minWidth"in J&&e(13,x=J.minWidth),"minHeight"in J&&e(14,R=J.minHeight),"maxWidth"in J&&e(15,m=J.maxWidth),"maxHeight"in J&&e(16,b=J.maxHeight),"keepAspectRatio"in J&&e(17,O=J.keepAspectRatio),"shouldResize"in J&&e(18,w=J.shouldResize),"onResizeStart"in J&&e(19,H=J.onResizeStart),"onResize"in J&&e(20,I=J.onResize),"onResizeEnd"in J&&e(21,V=J.onResizeEnd),"style"in J&&e(22,ee=J.style),"class"in J&&e(1,Q=J.class),"$$scope"in J&&e(32,L=J.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&8192&&e(27,t=x??10),n.$$.dirty[0]&16384&&e(26,i=R??10),n.$$.dirty[0]&32768&&e(25,s=m??Number.MAX_VALUE),n.$$.dirty[0]&65536&&e(24,a=b??Number.MAX_VALUE),n.$$.dirty[0]&1024&&(l=typeof A=="string"?A:fe),n.$$.dirty[0]&1&&e(31,u=T===ji.Line?"right":"bottom-right"),n.$$.dirty[0]&2048|n.$$.dirty[1]&1&&e(28,o=F??u),n.$$.dirty[0]&268435456&&e(4,c=o.split("-")),n.$$.dirty[0]&1&&e(30,p=T===ji.Line?"border-color":"background-color"),n.$$.dirty[0]&4194304&&e(29,h=ee??""),n.$$.dirty[0]&1610616832&&e(3,_=P?`${h} ${p}: ${P};`:h),n.$$.dirty[0]&532545536&&(te==null||te.update({controlPosition:o,boundaries:{minWidth:t,minHeight:i,maxWidth:s,maxHeight:a},keepAspectRatio:!!O,onResizeStart:H,onResize:I,onResizeEnd:V,shouldResize:w}))},[T,Q,me,_,c,q,M,le,K,he,A,F,P,x,R,m,b,O,w,H,I,V,ee,te,a,s,i,t,o,h,p,u,L,E,ce]}class Bo extends We{constructor(r){super(),Qe(this,r,Vh,$h,Xe,{nodeId:10,position:11,variant:0,color:12,minWidth:13,minHeight:14,maxWidth:15,maxHeight:16,keepAspectRatio:17,shouldResize:18,onResizeStart:19,onResize:20,onResizeEnd:21,style:22,class:1},null,[-1,-1])}}function Dl(n,r,e){const t=n.slice();return t[20]=r[e],t}function Al(n,r,e){const t=n.slice();return t[20]=r[e],t}function El(n){let r=[],e=new Map,t,i=[],s=new Map,a,l,u=ze(pl);const o=h=>h[20];for(let h=0;h<u.length;h+=1){let _=Al(n,u,h),g=o(_);e.set(g,r[h]=Tl(g,_))}let c=ze(_l);const p=h=>h[20];for(let h=0;h<c.length;h+=1){let _=Dl(n,c,h),g=p(_);s.set(g,i[h]=Cl(g,_))}return{c(){for(let h=0;h<r.length;h+=1)r[h].c();t=ie();for(let h=0;h<i.length;h+=1)i[h].c();a=Le()},l(h){for(let _=0;_<r.length;_+=1)r[_].l(h);t=ae(h);for(let _=0;_<i.length;_+=1)i[_].l(h);a=Le()},m(h,_){for(let g=0;g<r.length;g+=1)r[g]&&r[g].m(h,_);S(h,t,_);for(let g=0;g<i.length;g+=1)i[g]&&i[g].m(h,_);S(h,a,_),l=!0},p(h,_){_&65521&&(u=ze(pl),Et(),r=bl(r,_,o,1,h,u,e,t.parentNode,wl,Tl,t,Al),Tt()),_&65485&&(c=ze(_l),Et(),i=bl(i,_,p,1,h,c,s,a.parentNode,wl,Cl,a,Dl),Tt())},i(h){if(!l){for(let _=0;_<u.length;_+=1)oe(r[_]);for(let _=0;_<c.length;_+=1)oe(i[_]);l=!0}},o(h){for(let _=0;_<r.length;_+=1)de(r[_]);for(let _=0;_<i.length;_+=1)de(i[_]);l=!1},d(h){h&&(D(t),D(a));for(let _=0;_<r.length;_+=1)r[_].d(h);for(let _=0;_<i.length;_+=1)i[_].d(h)}}}function Tl(n,r){let e,t,i;return t=new Bo({props:{class:r[4],style:r[5],nodeId:r[0],position:r[20],variant:ji.Line,color:r[6],minWidth:r[12],minHeight:r[13],maxWidth:r[14],maxHeight:r[15],onResizeStart:r[9],keepAspectRatio:r[7],shouldResize:r[8],onResize:r[10],onResizeEnd:r[11]}}),{key:n,first:null,c(){e=Le(),we(t.$$.fragment),this.h()},l(s){e=Le(),ye(t.$$.fragment,s),this.h()},h(){this.first=e},m(s,a){S(s,e,a),De(t,s,a),i=!0},p(s,a){r=s;const l={};a&16&&(l.class=r[4]),a&32&&(l.style=r[5]),a&1&&(l.nodeId=r[0]),a&64&&(l.color=r[6]),a&512&&(l.onResizeStart=r[9]),a&128&&(l.keepAspectRatio=r[7]),a&256&&(l.shouldResize=r[8]),a&1024&&(l.onResize=r[10]),a&2048&&(l.onResizeEnd=r[11]),t.$set(l)},i(s){i||(oe(t.$$.fragment,s),i=!0)},o(s){de(t.$$.fragment,s),i=!1},d(s){s&&D(e),Ae(t,s)}}}function Cl(n,r){let e,t,i;return t=new Bo({props:{class:r[2],style:r[3],nodeId:r[0],position:r[20],color:r[6],minWidth:r[12],minHeight:r[13],maxWidth:r[14],maxHeight:r[15],onResizeStart:r[9],keepAspectRatio:r[7],shouldResize:r[8],onResize:r[10],onResizeEnd:r[11]}}),{key:n,first:null,c(){e=Le(),we(t.$$.fragment),this.h()},l(s){e=Le(),ye(t.$$.fragment,s),this.h()},h(){this.first=e},m(s,a){S(s,e,a),De(t,s,a),i=!0},p(s,a){r=s;const l={};a&4&&(l.class=r[2]),a&8&&(l.style=r[3]),a&1&&(l.nodeId=r[0]),a&64&&(l.color=r[6]),a&512&&(l.onResizeStart=r[9]),a&128&&(l.keepAspectRatio=r[7]),a&256&&(l.shouldResize=r[8]),a&1024&&(l.onResize=r[10]),a&2048&&(l.onResizeEnd=r[11]),t.$set(l)},i(s){i||(oe(t.$$.fragment,s),i=!0)},o(s){de(t.$$.fragment,s),i=!1},d(s){s&&D(e),Ae(t,s)}}}function Hh(n){let r,e,t=n[1]&&El(n);return{c(){t&&t.c(),r=Le()},l(i){t&&t.l(i),r=Le()},m(i,s){t&&t.m(i,s),S(i,r,s),e=!0},p(i,[s]){i[1]?t?(t.p(i,s),s&2&&oe(t,1)):(t=El(i),t.c(),oe(t,1),t.m(r.parentNode,r)):t&&(Et(),de(t,1,1,()=>{t=null}),Tt())},i(i){e||(oe(t),e=!0)},o(i){de(t),e=!1},d(i){i&&D(r),t&&t.d(i)}}}function zh(n,r,e){let{nodeId:t=void 0}=r,{isVisible:i=!0}=r,{handleClass:s=void 0}=r,{handleStyle:a=void 0}=r,{lineClass:l=void 0}=r,{lineStyle:u=void 0}=r,{color:o=void 0}=r,{minWidth:c=10}=r,{minHeight:p=10}=r,{maxWidth:h=Number.MAX_VALUE}=r,{maxHeight:_=Number.MAX_VALUE}=r,{keepAspectRatio:g=!1}=r,{shouldResize:C=void 0}=r,{onResizeStart:y=void 0}=r,{onResize:N=void 0}=r,{onResizeEnd:B=void 0}=r,E=c||10,L=p||10,A=h||Number.MAX_VALUE,F=_||Number.MAX_VALUE;return n.$$set=T=>{"nodeId"in T&&e(0,t=T.nodeId),"isVisible"in T&&e(1,i=T.isVisible),"handleClass"in T&&e(2,s=T.handleClass),"handleStyle"in T&&e(3,a=T.handleStyle),"lineClass"in T&&e(4,l=T.lineClass),"lineStyle"in T&&e(5,u=T.lineStyle),"color"in T&&e(6,o=T.color),"minWidth"in T&&e(16,c=T.minWidth),"minHeight"in T&&e(17,p=T.minHeight),"maxWidth"in T&&e(18,h=T.maxWidth),"maxHeight"in T&&e(19,_=T.maxHeight),"keepAspectRatio"in T&&e(7,g=T.keepAspectRatio),"shouldResize"in T&&e(8,C=T.shouldResize),"onResizeStart"in T&&e(9,y=T.onResizeStart),"onResize"in T&&e(10,N=T.onResize),"onResizeEnd"in T&&e(11,B=T.onResizeEnd)},[t,i,s,a,l,u,o,g,C,y,N,B,E,L,A,F,c,p,h,_]}class Br extends We{constructor(r){super(),Qe(this,r,zh,Hh,Xe,{nodeId:0,isVisible:1,handleClass:2,handleStyle:3,lineClass:4,lineStyle:5,color:6,minWidth:16,minHeight:17,maxWidth:18,maxHeight:19,keepAspectRatio:7,shouldResize:8,onResizeStart:9,onResize:10,onResizeEnd:11})}}const kl=n=>_h(n);function Xh(){const{zoomIn:n,zoomOut:r,fitView:e,onbeforedelete:t,snapGrid:i,viewport:s,width:a,height:l,minZoom:u,maxZoom:o,panZoom:c,nodes:p,edges:h,domNode:_,nodeLookup:g,edgeLookup:C}=ra(),y=E=>{const L=kl(E)&&bh(E)?E:He(g).get(E.id);return L?vl(L):null},N=(E,L,A={replace:!1})=>{var P;const F=(P=He(g).get(E))==null?void 0:P.internals.userNode;if(!F)return;const T=typeof L=="function"?L(F):L;A.replace?p.update(x=>x.map(R=>R.id===E?kl(T)?T:{...R,...T}:R)):(Object.assign(F,T),p.update(x=>x))},B=E=>He(g).get(E);return{zoomIn:n,zoomOut:r,getInternalNode:B,getNode:E=>{var L;return(L=B(E))==null?void 0:L.internals.userNode},getNodes:E=>E===void 0?He(p):Nl(He(g),E),getEdge:E=>He(C).get(E),getEdges:E=>E===void 0?He(h):Nl(He(C),E),setZoom:(E,L)=>{const A=He(c);return A?A.scaleTo(E,{duration:L==null?void 0:L.duration}):Promise.resolve(!1)},getZoom:()=>He(s).zoom,setViewport:async(E,L)=>{const A=He(s),F=He(c);return F?(await F.setViewport({x:E.x??A.x,y:E.y??A.y,zoom:E.zoom??A.zoom},{duration:L==null?void 0:L.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>He(s),setCenter:async(E,L,A)=>{const F=typeof(A==null?void 0:A.zoom)<"u"?A.zoom:He(o),T=He(c);return T?(await T.setViewport({x:He(a)/2-E*F,y:He(l)/2-L*F,zoom:F},{duration:A==null?void 0:A.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitView:e,fitBounds:async(E,L)=>{const A=He(c);if(!A)return Promise.resolve(!1);const F=gh(E,He(a),He(l),He(u),He(o),(L==null?void 0:L.padding)??.1);return await A.setViewport(F,{duration:L==null?void 0:L.duration}),Promise.resolve(!0)},getIntersectingNodes:(E,L=!0,A)=>{const F=gl(E),T=F?E:y(E);return T?(A||He(p)).filter(P=>{const x=He(g).get(P.id);if(!x||!F&&P.id===E.id)return!1;const R=vl(x),m=ml(R,T);return L&&m>0||m>=T.width*T.height}):[]},isNodeIntersecting:(E,L,A=!0)=>{const T=gl(E)?E:y(E);if(!T)return!1;const P=ml(T,L);return A&&P>0||P>=T.width*T.height},deleteElements:async({nodes:E=[],edges:L=[]})=>{const{nodes:A,edges:F}=await vh({nodesToRemove:E,edgesToRemove:L,nodes:He(p),edges:He(h),onBeforeDelete:He(t)});return A&&p.update(T=>T.filter(P=>!A.some(({id:x})=>x===P.id))),F&&h.update(T=>T.filter(P=>!F.some(({id:x})=>x===P.id))),{deletedNodes:A,deletedEdges:F}},screenToFlowPosition:(E,L={snapToGrid:!0})=>{const A=He(_);if(!A)return E;const F=L.snapToGrid?He(i):!1,{x:T,y:P,zoom:x}=He(s),{x:R,y:m}=A.getBoundingClientRect(),b={x:E.x-R,y:E.y-m};return mh(b,[T,P,x],F!==null,F||[1,1])},flowToScreenPosition:E=>{const L=He(_);if(!L)return E;const{x:A,y:F,zoom:T}=He(s),{x:P,y:x}=L.getBoundingClientRect(),R=wh(E,[A,F,T]);return{x:R.x+P,y:R.y+x}},toObject:()=>({nodes:He(p).map(E=>({...E,position:{...E.position},data:{...E.data}})),edges:He(h).map(E=>({...E})),viewport:{...He(s)}}),updateNode:N,updateNodeData:(E,L,A)=>{var P;const F=(P=He(g).get(E))==null?void 0:P.internals.userNode;if(!F)return;const T=typeof L=="function"?L(F):L;F.data=A!=null&&A.replace?T:{...F.data,...T},p.update(x=>x)},viewport:s}}function Nl(n,r){var t;const e=[];for(const i of r){const s=n.get(i);if(s){const a="internals"in s?(t=s.internals)==null?void 0:t.userNode:s;e.push(a)}}return e}function xr(){const{nodes:n}=ra();return n}function rn(){const{edges:n}=ra();return n}let xo=pr([]),qo=pr([]),Mo=pr([]),jo=pr([]),Po=pr([]);function Ht(n){"@babel/helpers - typeof";return Ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ht(n)}function Gh(n,r){if(Ht(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var t=e.call(n,r||"default");if(Ht(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function Uo(n){var r=Gh(n,"string");return Ht(r)=="symbol"?r:r+""}function Sl(n,r){for(var e=0;e<r.length;e++){var t=r[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,Uo(t.key),t)}}function at(n,r,e){return r&&Sl(n.prototype,r),e&&Sl(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function st(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function Wh(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Cr(n,r){if(r&&(Ht(r)=="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wh(n)}function ct(n){return ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ct(n)}function Ua(n,r){return Ua=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ua(n,r)}function Bt(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&Ua(n,r)}function ge(n,r,e){return(r=Uo(r))in n?Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[r]=e,n}var lr={Literal:1,Collection:3,Graph:4,NamedNode:5,BlankNode:6,Variable:7},rt=function(){function n(r){st(this,n),ge(this,"termType",void 0),ge(this,"classOrder",void 0),ge(this,"value",void 0),this.value=r}return at(n,[{key:"substitute",value:function(e){return this}},{key:"compareTerm",value:function(e){return this.classOrder<e.classOrder?-1:this.classOrder>e.classOrder?1:this.value<e.value?-1:this.value>e.value?1:0}},{key:"equals",value:function(e){return e?this.termType===e.termType&&this.value===e.value:!1}},{key:"hashString",value:function(){return this.toCanonical()}},{key:"sameTerm",value:function(e){return this.equals(e)}},{key:"toCanonical",value:function(){return this.toNT()}},{key:"toNT",value:function(){return this.toString()}},{key:"toNQ",value:function(){return this.toNT()}},{key:"toString",value:function(){throw new Error("Node.toString() is abstract - see the subclasses instead")}}])}();ge(rt,"fromValue",void 0);ge(rt,"toJS",void 0);var nn="NamedNode",an="BlankNode",Rn="Literal",qr="Variable",Kr="DefaultGraph",Mr="Collection",$o="Empty",ai="Graph",Rl="text/html",$a="application/ld+json",Vo="text/n3",Qh="application/n3",Va="application/nquads",Ha="application/n-quads",Yh="application/n-triples",Zn="application/rdf+xml",Jh="application/sparql-update",Zh="application/sparql-update-single-match",Yr="text/turtle",Kh="application/x-turtle",za="application/xhtml+xml";function ep(n,r,e){return r=ct(r),Cr(n,Ho()?Reflect.construct(r,e||[],ct(n).constructor):r.apply(n,e))}function Ho(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ho=function(){return!!n})()}var fr=function(n){function r(e){var t;return st(this,r),t=ep(this,r,[r.getId(e)]),ge(t,"termType",an),ge(t,"classOrder",lr.BlankNode),ge(t,"isBlank",1),ge(t,"isVar",1),t}return Bt(r,n),at(r,[{key:"id",get:function(){return this.value},set:function(t){this.value=t}},{key:"compareTerm",value:function(t){return this.classOrder<t.classOrder?-1:this.classOrder>t.classOrder?1:this.id<t.id?-1:this.id>t.id?1:0}},{key:"copy",value:function(t){var i=new r;return t.copyTo(this,i),i}},{key:"toCanonical",value:function(){return r.NTAnonymousNodePrefix+this.value}},{key:"toString",value:function(){return r.NTAnonymousNodePrefix+this.id}}],[{key:"getId",value:function(t){if(t){if(typeof t!="string")throw new Error("Bad id argument to new blank node: "+t);if(t.includes("#")){var i=t.split("#");return i[i.length-1]}return t}return"n"+r.nextId++}}])}(rt);ge(fr,"nextId",0);ge(fr,"NTAnonymousNodePrefix","_:");function gn(n){return typeof n=="string"?n:n.value}function tp(n){return Ht(n)==="object"&&n!==null&&"subject"in n}function Il(n){return Ht(n)==="object"&&n!==null&&"statements"in n}function is(n){return Ar(n)&&n.termType===Mr}function rp(n){return n&&Object.prototype.hasOwnProperty.call(n,"termType")&&(n.termType===nn||n.termType===qr||n.termType===an||n.termType===Mr||n.termType===Rn||n.termType===ai)}function np(n){return n&&Object.prototype.hasOwnProperty.call(n,"termType")&&(n.termType===nn||n.termType===qr||n.termType===an||n.termType===Mr||n.termType===Rn||n.termType===ai)}function ip(n){return Ar(n)&&(n.termType===nn||n.termType===an||n.termType===qr)}function ap(n){return Ar(n)&&n.termType===qr}function Ar(n){return Ht(n)==="object"&&n!==null&&"termType"in n}function zo(n){return n.termType===Rn}function vn(n){return Ht(n)==="object"&&n!==null&&"subject"in n&&"predicate"in n&&"object"in n}function Fl(n){return Ar(n)&&n.termType==="NamedNode"}function sp(n){return Ar(n)&&(n.termType===nn||n.termType===qr||n.termType===an||n.termType===Kr)}function lp(n,r,e){return r=ct(r),Cr(n,Xo()?Reflect.construct(r,e||[],ct(n).constructor):r.apply(n,e))}function Xo(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xo=function(){return!!n})()}var yt=function(n){function r(e){var t;if(st(this,r),t=lp(this,r,[gn(e)]),ge(t,"termType",nn),ge(t,"classOrder",lr.NamedNode),!t.value)throw new Error("Missing IRI for NamedNode");if(!t.value.includes(":"))throw new Error('NamedNode IRI "'+e+'" must be absolute.');if(t.value.includes(" ")){var i='Error: NamedNode IRI "'+e+'" must not contain unencoded spaces.';throw new Error(i)}return t}return Bt(r,n),at(r,[{key:"dir",value:function(){var t=this.value.split("#")[0],i=t.slice(0,-1).lastIndexOf("/"),s=t.indexOf("//");return s>=0&&i<s+2||i<0?null:new r(t.slice(0,i+1))}},{key:"site",value:function(){var t=this.value.split("#")[0],i=t.indexOf("//");if(i<0)throw new Error("This URI does not have a web site part (origin)");var s=t.indexOf("/",i+2);return s<0?new r(t.slice(0)+"/"):new r(t.slice(0,s+1))}},{key:"doc",value:function(){return this.value.indexOf("#")<0?this:new r(this.value.split("#")[0])}},{key:"toString",value:function(){return"<"+this.value+">"}},{key:"id",value:function(){return this.value.split("#")[1]}},{key:"uri",get:function(){return this.value},set:function(t){this.value=t}}],[{key:"fromValue",value:function(t){return typeof t>"u"||t===null||Ar(t)?t:new r(t)}}])}(rt);const wr={boolean:new yt("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:new yt("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:new yt("http://www.w3.org/2001/XMLSchema#decimal"),double:new yt("http://www.w3.org/2001/XMLSchema#double"),integer:new yt("http://www.w3.org/2001/XMLSchema#integer"),langString:new yt("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:new yt("http://www.w3.org/2001/XMLSchema#string")};function up(n,r,e){return r=ct(r),Cr(n,Go()?Reflect.construct(r,e||[],ct(n).constructor):r.apply(n,e))}function Go(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Go=function(){return!!n})()}var sr=function(n){function r(e,t,i){var s;return st(this,r),s=up(this,r,[e]),ge(s,"termType",Rn),ge(s,"classOrder",lr.Literal),ge(s,"datatype",wr.string),ge(s,"isVar",0),ge(s,"language",""),t?(s.language=t,s.datatype=wr.langString):i?s.datatype=yt.fromValue(i):s.datatype=wr.string,s}return Bt(r,n),at(r,[{key:"copy",value:function(){return new r(this.value,this.lang,this.datatype)}},{key:"equals",value:function(t){return t?this.termType===t.termType&&this.value===t.value&&this.language===t.language&&(!this.datatype&&!t.datatype||this.datatype&&this.datatype.equals(t.datatype)):!1}},{key:"lang",get:function(){return this.language},set:function(t){this.language=t||""}},{key:"toNT",value:function(){return r.toNT(this)}},{key:"toString",value:function(){return""+this.value}}],[{key:"toNT",value:function(t){if(typeof t.value=="number")return""+t.value;if(typeof t.value!="string")throw new Error("Value of RDF literal is not string or number: "+t.value);var i=t.value;return i=i.replace(/\\/g,"\\\\"),i=i.replace(/\"/g,'\\"'),i=i.replace(/\n/g,"\\n"),i=i.replace(/\r/g,"\\r"),i='"'+i+'"',t.language?i+="@"+t.language:t.datatype.equals(wr.string)||(i+="^^"+t.datatype.toCanonical()),i}},{key:"fromBoolean",value:function(t){var i=t?"1":"0";return new r(i,null,wr.boolean)}},{key:"fromDate",value:function(t){if(!(t instanceof Date))throw new TypeError("Invalid argument to Literal.fromDate()");var i=function(l){return(""+(100+l)).slice(1,3)},s=""+t.getUTCFullYear()+"-"+i(t.getUTCMonth()+1)+"-"+i(t.getUTCDate())+"T"+i(t.getUTCHours())+":"+i(t.getUTCMinutes())+":"+i(t.getUTCSeconds())+"Z";return new r(s,null,wr.dateTime)}},{key:"fromNumber",value:function(t){if(typeof t!="number")throw new TypeError("Invalid argument to Literal.fromNumber()");var i,s=t.toString();return s.indexOf("e")<0&&Math.abs(t)<=Number.MAX_SAFE_INTEGER?i=Number.isInteger(t)?wr.integer:wr.decimal:i=wr.double,new r(s,null,i)}},{key:"fromValue",value:function(t){if(zo(t))return t;switch(Ht(t)){case"object":if(t instanceof Date)return r.fromDate(t);case"boolean":return r.fromBoolean(t);case"number":return r.fromNumber(t);case"string":return new r(t)}throw new Error("Can't make literal from "+t+" of type "+Ht(t))}}])}(rt);function op(n,r,e){return r=ct(r),Cr(n,Wo()?Reflect.construct(r,e||[],ct(n).constructor):r.apply(n,e))}function Wo(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wo=function(){return!!n})()}function Qo(n){return typeof n>"u"||n===null||Ar(n)?n:Array.isArray(n)?new Or(n):sr.fromValue(n)}var Or=function(n){function r(e){var t;return st(this,r),t=op(this,r,[(fr.nextId++).toString()]),ge(t,"termType",Mr),ge(t,"classOrder",lr.Collection),ge(t,"closed",!1),ge(t,"compareTerm",fr.prototype.compareTerm),ge(t,"elements",[]),ge(t,"isVar",0),e&&e.length>0&&e.forEach(function(i){t.elements.push(Qo(i))}),t}return Bt(r,n),at(r,[{key:"id",get:function(){return this.value},set:function(t){this.value=t}},{key:"append",value:function(t){return this.elements.push(t)}},{key:"close",value:function(){return this.closed=!0,this.closed}},{key:"shift",value:function(){return this.elements.shift()}},{key:"substitute",value:function(t){var i=this.elements.map(function(s){return s.substitute(t)});return new r(i)}},{key:"toNT",value:function(){return r.toNT(this)}},{key:"toString",value:function(){return"("+this.elements.join(" ")+")"}},{key:"unshift",value:function(t){return this.elements.unshift(t)}}],[{key:"toNT",value:function(t){return fr.NTAnonymousNodePrefix+t.id}}])}(rt);ge(Or,"termType",Mr);function Ol(n,r,e,t,i,s,a){try{var l=n[s](a),u=l.value}catch(o){return void e(o)}l.done?r(u):Promise.resolve(u).then(t,i)}function Ll(n){return function(){var r=this,e=arguments;return new Promise(function(t,i){var s=n.apply(r,e);function a(u){Ol(s,t,i,a,l,"next",u)}function l(u){Ol(s,t,i,a,l,"throw",u)}a(void 0)})}}var Yo={exports:{}},Jo={exports:{}};(function(n){function r(e){"@babel/helpers - typeof";return n.exports=r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n.exports.__esModule=!0,n.exports.default=n.exports,r(e)}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports})(Jo);var fp=Jo.exports;(function(n){var r=fp.default;function e(){n.exports=e=function(){return i},n.exports.__esModule=!0,n.exports.default=n.exports;var t,i={},s=Object.prototype,a=s.hasOwnProperty,l=Object.defineProperty||function(Q,q,M){Q[q]=M.value},u=typeof Symbol=="function"?Symbol:{},o=u.iterator||"@@iterator",c=u.asyncIterator||"@@asyncIterator",p=u.toStringTag||"@@toStringTag";function h(Q,q,M){return Object.defineProperty(Q,q,{value:M,enumerable:!0,configurable:!0,writable:!0}),Q[q]}try{h({},"")}catch{h=function(M,le,K){return M[le]=K}}function _(Q,q,M,le){var K=q&&q.prototype instanceof L?q:L,he=Object.create(K.prototype),fe=new V(le||[]);return l(he,"_invoke",{value:O(Q,M,fe)}),he}function g(Q,q,M){try{return{type:"normal",arg:Q.call(q,M)}}catch(le){return{type:"throw",arg:le}}}i.wrap=_;var C="suspendedStart",y="suspendedYield",N="executing",B="completed",E={};function L(){}function A(){}function F(){}var T={};h(T,o,function(){return this});var P=Object.getPrototypeOf,x=P&&P(P(ee([])));x&&x!==s&&a.call(x,o)&&(T=x);var R=F.prototype=L.prototype=Object.create(T);function m(Q){["next","throw","return"].forEach(function(q){h(Q,q,function(M){return this._invoke(q,M)})})}function b(Q,q){function M(K,he,fe,me){var te=g(Q[K],Q,he);if(te.type!=="throw"){var ce=te.arg,J=ce.value;return J&&r(J)=="object"&&a.call(J,"__await")?q.resolve(J.__await).then(function(ve){M("next",ve,fe,me)},function(ve){M("throw",ve,fe,me)}):q.resolve(J).then(function(ve){ce.value=ve,fe(ce)},function(ve){return M("throw",ve,fe,me)})}me(te.arg)}var le;l(this,"_invoke",{value:function(he,fe){function me(){return new q(function(te,ce){M(he,fe,te,ce)})}return le=le?le.then(me,me):me()}})}function O(Q,q,M){var le=C;return function(K,he){if(le===N)throw Error("Generator is already running");if(le===B){if(K==="throw")throw he;return{value:t,done:!0}}for(M.method=K,M.arg=he;;){var fe=M.delegate;if(fe){var me=w(fe,M);if(me){if(me===E)continue;return me}}if(M.method==="next")M.sent=M._sent=M.arg;else if(M.method==="throw"){if(le===C)throw le=B,M.arg;M.dispatchException(M.arg)}else M.method==="return"&&M.abrupt("return",M.arg);le=N;var te=g(Q,q,M);if(te.type==="normal"){if(le=M.done?B:y,te.arg===E)continue;return{value:te.arg,done:M.done}}te.type==="throw"&&(le=B,M.method="throw",M.arg=te.arg)}}}function w(Q,q){var M=q.method,le=Q.iterator[M];if(le===t)return q.delegate=null,M==="throw"&&Q.iterator.return&&(q.method="return",q.arg=t,w(Q,q),q.method==="throw")||M!=="return"&&(q.method="throw",q.arg=new TypeError("The iterator does not provide a '"+M+"' method")),E;var K=g(le,Q.iterator,q.arg);if(K.type==="throw")return q.method="throw",q.arg=K.arg,q.delegate=null,E;var he=K.arg;return he?he.done?(q[Q.resultName]=he.value,q.next=Q.nextLoc,q.method!=="return"&&(q.method="next",q.arg=t),q.delegate=null,E):he:(q.method="throw",q.arg=new TypeError("iterator result is not an object"),q.delegate=null,E)}function H(Q){var q={tryLoc:Q[0]};1 in Q&&(q.catchLoc=Q[1]),2 in Q&&(q.finallyLoc=Q[2],q.afterLoc=Q[3]),this.tryEntries.push(q)}function I(Q){var q=Q.completion||{};q.type="normal",delete q.arg,Q.completion=q}function V(Q){this.tryEntries=[{tryLoc:"root"}],Q.forEach(H,this),this.reset(!0)}function ee(Q){if(Q||Q===""){var q=Q[o];if(q)return q.call(Q);if(typeof Q.next=="function")return Q;if(!isNaN(Q.length)){var M=-1,le=function K(){for(;++M<Q.length;)if(a.call(Q,M))return K.value=Q[M],K.done=!1,K;return K.value=t,K.done=!0,K};return le.next=le}}throw new TypeError(r(Q)+" is not iterable")}return A.prototype=F,l(R,"constructor",{value:F,configurable:!0}),l(F,"constructor",{value:A,configurable:!0}),A.displayName=h(F,p,"GeneratorFunction"),i.isGeneratorFunction=function(Q){var q=typeof Q=="function"&&Q.constructor;return!!q&&(q===A||(q.displayName||q.name)==="GeneratorFunction")},i.mark=function(Q){return Object.setPrototypeOf?Object.setPrototypeOf(Q,F):(Q.__proto__=F,h(Q,p,"GeneratorFunction")),Q.prototype=Object.create(R),Q},i.awrap=function(Q){return{__await:Q}},m(b.prototype),h(b.prototype,c,function(){return this}),i.AsyncIterator=b,i.async=function(Q,q,M,le,K){K===void 0&&(K=Promise);var he=new b(_(Q,q,M,le),K);return i.isGeneratorFunction(q)?he:he.next().then(function(fe){return fe.done?fe.value:he.next()})},m(R),h(R,p,"Generator"),h(R,o,function(){return this}),h(R,"toString",function(){return"[object Generator]"}),i.keys=function(Q){var q=Object(Q),M=[];for(var le in q)M.push(le);return M.reverse(),function K(){for(;M.length;){var he=M.pop();if(he in q)return K.value=he,K.done=!1,K}return K.done=!0,K}},i.values=ee,V.prototype={constructor:V,reset:function(q){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!q)for(var M in this)M.charAt(0)==="t"&&a.call(this,M)&&!isNaN(+M.slice(1))&&(this[M]=t)},stop:function(){this.done=!0;var q=this.tryEntries[0].completion;if(q.type==="throw")throw q.arg;return this.rval},dispatchException:function(q){if(this.done)throw q;var M=this;function le(ce,J){return fe.type="throw",fe.arg=q,M.next=ce,J&&(M.method="next",M.arg=t),!!J}for(var K=this.tryEntries.length-1;K>=0;--K){var he=this.tryEntries[K],fe=he.completion;if(he.tryLoc==="root")return le("end");if(he.tryLoc<=this.prev){var me=a.call(he,"catchLoc"),te=a.call(he,"finallyLoc");if(me&&te){if(this.prev<he.catchLoc)return le(he.catchLoc,!0);if(this.prev<he.finallyLoc)return le(he.finallyLoc)}else if(me){if(this.prev<he.catchLoc)return le(he.catchLoc,!0)}else{if(!te)throw Error("try statement without catch or finally");if(this.prev<he.finallyLoc)return le(he.finallyLoc)}}}},abrupt:function(q,M){for(var le=this.tryEntries.length-1;le>=0;--le){var K=this.tryEntries[le];if(K.tryLoc<=this.prev&&a.call(K,"finallyLoc")&&this.prev<K.finallyLoc){var he=K;break}}he&&(q==="break"||q==="continue")&&he.tryLoc<=M&&M<=he.finallyLoc&&(he=null);var fe=he?he.completion:{};return fe.type=q,fe.arg=M,he?(this.method="next",this.next=he.finallyLoc,E):this.complete(fe)},complete:function(q,M){if(q.type==="throw")throw q.arg;return q.type==="break"||q.type==="continue"?this.next=q.arg:q.type==="return"?(this.rval=this.arg=q.arg,this.method="return",this.next="end"):q.type==="normal"&&M&&(this.next=M),E},finish:function(q){for(var M=this.tryEntries.length-1;M>=0;--M){var le=this.tryEntries[M];if(le.finallyLoc===q)return this.complete(le.completion,le.afterLoc),I(le),E}},catch:function(q){for(var M=this.tryEntries.length-1;M>=0;--M){var le=this.tryEntries[M];if(le.tryLoc===q){var K=le.completion;if(K.type==="throw"){var he=K.arg;I(le)}return he}}throw Error("illegal catch attempt")},delegateYield:function(q,M,le){return this.delegate={iterator:ee(q),resultName:M,nextLoc:le},this.method==="next"&&(this.arg=t),E}},i}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(Yo);var cp=Yo.exports,Pi=cp(),dp=Pi;try{regeneratorRuntime=Pi}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=Pi:Function("r","regeneratorRuntime = r")(Pi)}const Fi=na(dp);var Kn="chrome:theSession";new yt(Kn);function hp(n,r,e){return r=ct(r),Cr(n,Zo()?Reflect.construct(r,e||[],ct(n).constructor):r.apply(n,e))}function Zo(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zo=function(){return!!n})()}var as=function(n){function r(){var e;return st(this,r),e=hp(this,r,[""]),ge(e,"value",""),ge(e,"termType",Kr),ge(e,"uri",Kn),e}return Bt(r,n),at(r,[{key:"toCanonical",value:function(){return this.value}},{key:"toString",value:function(){return"DefaultGraph"}}])}(rt);function Bl(n){return!!n&&n.termType===Kr}var pp=new as,Jr=function(){function n(r,e,t,i){st(this,n),ge(this,"subject",void 0),ge(this,"predicate",void 0),ge(this,"object",void 0),ge(this,"graph",void 0),this.subject=rt.fromValue(r),this.predicate=rt.fromValue(e),this.object=rt.fromValue(t),this.graph=i==null?pp:rt.fromValue(i)}return at(n,[{key:"why",get:function(){return this.graph},set:function(e){this.graph=e}},{key:"equals",value:function(e){return e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}},{key:"substitute",value:function(e){var t=new n(this.subject.substitute(e),this.predicate.substitute(e),this.object.substitute(e),Bl(this.graph)?this.graph:this.graph.substitute(e));return t}},{key:"toCanonical",value:function(){var e=[this.subject.toCanonical(),this.predicate.toCanonical(),this.object.toCanonical()];return this.graph&&this.graph.termType!==Kr&&e.push(this.graph.toCanonical()),e.join(" ")+" ."}},{key:"toNT",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT()].join(" ")+" ."}},{key:"toNQ",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT(),Bl(this.graph)?"":this.graph.toNT()].join(" ")+" ."}},{key:"toString",value:function(){return this.toNT()}}])}(),Ko=Ko||console.log;function wn(n){var r;return r=n.indexOf("#"),r<0?n:n.slice(0,r)}function _p(n){var r=/[^\/]*\/\/([^\/]*)\//.exec(n);return r?r[1]:""}function Gt(n,r){var e,t,i,s,a,l,u=r.indexOf("#");if(u>0&&(r=r.slice(0,u)),n.length===0)return r;if(n.indexOf("#")===0)return r+n;if(s=n.indexOf(":"),s>=0||(e=r.indexOf(":"),r.length===0))return n;if(e<0)return Ko("Invalid base: "+r+" in join with given: "+n),n;if(t=r.slice(0,+e+1||9e9),n.indexOf("//")===0)return t+n;if(r.indexOf("//",e)===e+1){if(i=r.indexOf("/",e+3),i<0)return r.length-e-3>0?r+"/"+n:t+n}else if(i=r.indexOf("/",e+1),i<0)return r.length-e-1>0?r+"/"+n:t+n;if(n.indexOf("/")===0)return r.slice(0,i)+n;if(l=r.slice(i),a=l.lastIndexOf("/"),a<0)return t+n;for(a>=0&&a<l.length-1&&(l=l.slice(0,+a+1||9e9)),l+=n;l.match(/[^\/]*\/\.\.\//);)l=l.replace(/[^\/]*\/\.\.\//,"");return l=l.replace(/\.\//g,""),l=l.replace(/\/\.$/,"/"),r.slice(0,i)+l}function xl(n){var r=n.indexOf(":");return r<0?null:n.slice(0,r)}function Ea(n,r){var e,t,i,s,a,l,u,o,c,p,h,_,g,C=new RegExp("^[-_a-zA-Z0-9.]+:(//[^/]*)?/[^/]*$");if(!n)return r;if(n===r)return"";for(t=o=0,a=r.length;o<a;t=++o){var y=r[t];if(y!==n[t])break}if(n.slice(0,t).match(C)&&(i=r.indexOf("//"),i<0&&(i=-2),s=r.indexOf("/",i+2),r[s+1]!=="/"&&n[s+1]!=="/"&&r.slice(0,s)===n.slice(0,s)))return r.slice(s);if(r[t]==="#"&&n.length===t)return r.slice(t);for(;t>0&&r[t-1]!=="/";)t--;if(t<3||n.indexOf("//",t-2)>0||r.indexOf("//",t-2)>0||n.indexOf(":",t)>0)return r;for(u=0,h=n.slice(t),c=0,l=h.length;c<l;c++)e=h[c],e==="/"&&u++;if(u===0&&t<r.length&&r[t]==="#")return"./"+r.slice(t);if(u===0&&t===r.length)return"./";if(g="",u>0)for(p=1,_=u;_>=1?p<=_:p>=_;_>=1?++p:--p)g+="../";return g+r.slice(t)}function gp(n,r,e){return r=ct(r),Cr(n,ef()?Reflect.construct(r,e||[],ct(n).constructor):r.apply(n,e))}function ef(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ef=function(){return!!n})()}var en=function(n){function r(){var e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return st(this,r),e=gp(this,r,[t]),ge(e,"termType",qr),ge(e,"base","varid:"),ge(e,"classOrder",lr.Variable),ge(e,"isVar",1),ge(e,"uri",void 0),e.base="varid:",e.uri=Gt(t,e.base),e}return Bt(r,n),at(r,[{key:"equals",value:function(t){return t?this.termType===t.termType&&this.value===t.value:!1}},{key:"hashString",value:function(){return this.toString()}},{key:"substitute",value:function(t){var i;return(i=t[this.toNT()])!=null?i:this}},{key:"toString",value:function(){return r.toString(this)}}],[{key:"toString",value:function(t){return t.uri.slice(0,t.base.length)===t.base?"?".concat(t.uri.slice(t.base.length)):"?".concat(t.uri)}}])}(rt),qt=function(n){return n.collections="COLLECTIONS",n.defaultGraphType="DEFAULT_GRAPH_TYPE",n.equalsMethod="EQUALS_METHOD",n.id="ID",n.identity="IDENTITY",n.reversibleId="REVERSIBLE_ID",n.variableType="VARIABLE_TYPE",n}({}),ql=new as,Jt={supports:ge(ge(ge(ge(ge(ge(ge({},qt.collections,!1),qt.defaultGraphType,!1),qt.equalsMethod,!0),qt.identity,!1),qt.id,!0),qt.reversibleId,!1),qt.variableType,!0),blankNode:function(r){return new fr(r)},defaultGraph:function(){return ql},equals:function(r,e){return r===e||!r||!e?!0:vn(r)||vn(e)?vn(r)&&vn(e)?this.equals(r.subject,e.subject)&&this.equals(r.predicate,e.predicate)&&this.equals(r.object,e.object)&&this.equals(r.graph,e.graph):!1:Ar(r)&&Ar(e)?this.id(r)===this.id(e):!1},id:function(r){if(!r)return"undefined";if(vn(r))return this.quadToNQ(r);switch(r.termType){case Kr:return"defaultGraph";case qr:return en.toString(r);default:var e=this.termToNQ(r);if(e)return e;throw new Error("Can't id term with type '".concat(r.termType,"'"))}},isQuad:function(r){return r instanceof Jr},literal:function(r,e){if(typeof r!="string"&&!e)return sr.fromValue(r);var t=typeof r=="string"?r:""+r;return typeof e=="string"?e.indexOf(":")===-1?new sr(t,e):new sr(t,null,this.namedNode(e)):new sr(t,null,e)},namedNode:function(r){return new yt(r)},quad:function(r,e,t,i){return new Jr(r,e,t,i||ql)},triple:function(r,e,t,i){return this.quad(r,e,t,i)},quadToNQ:function(r){return"".concat(this.termToNQ(r.subject)," ").concat(this.termToNQ(r.predicate)," ").concat(this.termToNQ(r.object)," ").concat(this.termToNQ(r.graph)," .")},termToNQ:function(r){var e=this;switch(r.termType){case an:return"_:"+r.value;case Kr:return"";case $o:return"<http://www.w3.org/1999/02/22-rdf-syntax-ns#nil>";case Rn:return sr.toNT(r);case ai:case nn:return"<"+r.value+">";case Mr:return"("+r.elements.map(function(t){return e.termToNQ(t)}).join(" ")+")";default:throw new Error("Can't serialize nonstandard term type (was '".concat(r.termType,"')"))}},toNQ:function(r){return this.isQuad(r)?this.quadToNQ(r):this.termToNQ(r)},variable:function(r){return new en(r)}},ir={debug:function(r){},warn:function(r){},info:function(r){},error:function(r){},success:function(r){},msg:function(r){}};function Ft(n,r){var e=r||{namedNode:function(i){return new yt(i)}};return function(t){return e.namedNode(n+(t||""))}}var jr={},kr={};function vp(n,r,e){if(e===void 0&&(e=Array.prototype),n&&typeof e.find=="function")return e.find.call(n,r);for(var t=0;t<n.length;t++)if(Object.prototype.hasOwnProperty.call(n,t)){var i=n[t];if(r.call(void 0,i,t,n))return i}}function ss(n,r){return r===void 0&&(r=Object),r&&typeof r.freeze=="function"?r.freeze(n):n}function mp(n,r){if(n===null||typeof n!="object")throw new TypeError("target is not an object");for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e]);return n}var tf=ss({HTML:"text/html",isHTML:function(n){return n===tf.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),rf=ss({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(n){return n===rf.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});kr.assign=mp;kr.find=vp;kr.freeze=ss;kr.MIME_TYPE=tf;kr.NAMESPACE=rf;var nf=kr,cr=nf.find,ei=nf.NAMESPACE;function bp(n){return n!==""}function wp(n){return n?n.split(/[\t\n\f\r ]+/).filter(bp):[]}function yp(n,r){return n.hasOwnProperty(r)||(n[r]=!0),n}function Ml(n){if(!n)return[];var r=wp(n);return Object.keys(r.reduce(yp,{}))}function Dp(n){return function(r){return n&&n.indexOf(r)!==-1}}function si(n,r){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])}function jt(n,r){var e=n.prototype;if(!(e instanceof r)){let t=function(){};t.prototype=r.prototype,t=new t,si(e,t),n.prototype=e=t}e.constructor!=n&&(typeof n!="function"&&console.error("unknown Class:"+n),e.constructor=n)}var Pt={},Zt=Pt.ELEMENT_NODE=1,En=Pt.ATTRIBUTE_NODE=2,Qi=Pt.TEXT_NODE=3,af=Pt.CDATA_SECTION_NODE=4,sf=Pt.ENTITY_REFERENCE_NODE=5,Ap=Pt.ENTITY_NODE=6,lf=Pt.PROCESSING_INSTRUCTION_NODE=7,uf=Pt.COMMENT_NODE=8,of=Pt.DOCUMENT_NODE=9,ff=Pt.DOCUMENT_TYPE_NODE=10,Er=Pt.DOCUMENT_FRAGMENT_NODE=11,Ep=Pt.NOTATION_NODE=12,Rt={},mt={};Rt.INDEX_SIZE_ERR=(mt[1]="Index size error",1);Rt.DOMSTRING_SIZE_ERR=(mt[2]="DOMString size error",2);var Mt=Rt.HIERARCHY_REQUEST_ERR=(mt[3]="Hierarchy request error",3);Rt.WRONG_DOCUMENT_ERR=(mt[4]="Wrong document",4);Rt.INVALID_CHARACTER_ERR=(mt[5]="Invalid character",5);Rt.NO_DATA_ALLOWED_ERR=(mt[6]="No data allowed",6);Rt.NO_MODIFICATION_ALLOWED_ERR=(mt[7]="No modification allowed",7);var cf=Rt.NOT_FOUND_ERR=(mt[8]="Not found",8);Rt.NOT_SUPPORTED_ERR=(mt[9]="Not supported",9);var jl=Rt.INUSE_ATTRIBUTE_ERR=(mt[10]="Attribute in use",10);Rt.INVALID_STATE_ERR=(mt[11]="Invalid state",11);Rt.SYNTAX_ERR=(mt[12]="Syntax error",12);Rt.INVALID_MODIFICATION_ERR=(mt[13]="Invalid modification",13);Rt.NAMESPACE_ERR=(mt[14]="Invalid namespace",14);Rt.INVALID_ACCESS_ERR=(mt[15]="Invalid access",15);function ft(n,r){if(r instanceof Error)var e=r;else e=this,Error.call(this,mt[n]),this.message=mt[n],Error.captureStackTrace&&Error.captureStackTrace(this,ft);return e.code=n,r&&(this.message=this.message+": "+r),e}ft.prototype=Error.prototype;si(Rt,ft);function yr(){}yr.prototype={length:0,item:function(n){return n>=0&&n<this.length?this[n]:null},toString:function(n,r){for(var e=[],t=0;t<this.length;t++)yn(this[t],e,n,r);return e.join("")},filter:function(n){return Array.prototype.filter.call(this,n)},indexOf:function(n){return Array.prototype.indexOf.call(this,n)}};function Tn(n,r){this._node=n,this._refresh=r,ls(this)}function ls(n){var r=n._node._inc||n._node.ownerDocument._inc;if(n._inc!==r){var e=n._refresh(n._node);if(Af(n,"length",e.length),!n.$$length||e.length<n.$$length)for(var t=e.length;t in n;t++)Object.prototype.hasOwnProperty.call(n,t)&&delete n[t];si(e,n),n._inc=r}}Tn.prototype.item=function(n){return ls(this),this[n]||null};jt(Tn,yr);function Yi(){}function df(n,r){for(var e=n.length;e--;)if(n[e]===r)return e}function Pl(n,r,e,t){if(t?r[df(r,t)]=e:r[r.length++]=e,n){e.ownerElement=n;var i=n.ownerDocument;i&&(t&&_f(i,n,t),Tp(i,n,e))}}function Ul(n,r,e){var t=df(r,e);if(t>=0){for(var i=r.length-1;t<i;)r[t]=r[++t];if(r.length=i,n){var s=n.ownerDocument;s&&(_f(s,n,e),e.ownerElement=null)}}else throw new ft(cf,new Error(n.tagName+"@"+e))}Yi.prototype={length:0,item:yr.prototype.item,getNamedItem:function(n){for(var r=this.length;r--;){var e=this[r];if(e.nodeName==n)return e}},setNamedItem:function(n){var r=n.ownerElement;if(r&&r!=this._ownerElement)throw new ft(jl);var e=this.getNamedItem(n.nodeName);return Pl(this._ownerElement,this,n,e),e},setNamedItemNS:function(n){var r=n.ownerElement,e;if(r&&r!=this._ownerElement)throw new ft(jl);return e=this.getNamedItemNS(n.namespaceURI,n.localName),Pl(this._ownerElement,this,n,e),e},removeNamedItem:function(n){var r=this.getNamedItem(n);return Ul(this._ownerElement,this,r),r},removeNamedItemNS:function(n,r){var e=this.getNamedItemNS(n,r);return Ul(this._ownerElement,this,e),e},getNamedItemNS:function(n,r){for(var e=this.length;e--;){var t=this[e];if(t.localName==r&&t.namespaceURI==n)return t}return null}};function hf(){}hf.prototype={hasFeature:function(n,r){return!0},createDocument:function(n,r,e){var t=new li;if(t.implementation=this,t.childNodes=new yr,t.doctype=e||null,e&&t.appendChild(e),r){var i=t.createElementNS(n,r);t.appendChild(i)}return t},createDocumentType:function(n,r,e){var t=new ia;return t.name=n,t.nodeName=n,t.publicId=r||"",t.systemId=e||"",t}};function Je(){}Je.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(n,r){return Ji(this,n,r)},replaceChild:function(n,r){Ji(this,n,r,vf),r&&this.removeChild(r)},removeChild:function(n){return gf(this,n)},appendChild:function(n){return this.insertBefore(n,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(n){return Xa(this.ownerDocument||this,this,n)},normalize:function(){for(var n=this.firstChild;n;){var r=n.nextSibling;r&&r.nodeType==Qi&&n.nodeType==Qi?(this.removeChild(r),n.appendData(r.data)):(n.normalize(),n=r)}},isSupported:function(n,r){return this.ownerDocument.implementation.hasFeature(n,r)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(n){for(var r=this;r;){var e=r._nsMap;if(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t]===n)return t}r=r.nodeType==En?r.ownerDocument:r.parentNode}return null},lookupNamespaceURI:function(n){for(var r=this;r;){var e=r._nsMap;if(e&&Object.prototype.hasOwnProperty.call(e,n))return e[n];r=r.nodeType==En?r.ownerDocument:r.parentNode}return null},isDefaultNamespace:function(n){var r=this.lookupPrefix(n);return r==null}};function pf(n){return n=="<"&&"&lt;"||n==">"&&"&gt;"||n=="&"&&"&amp;"||n=='"'&&"&quot;"||"&#"+n.charCodeAt()+";"}si(Pt,Je);si(Pt,Je.prototype);function ti(n,r){if(r(n))return!0;if(n=n.firstChild)do if(ti(n,r))return!0;while(n=n.nextSibling)}function li(){this.ownerDocument=this}function Tp(n,r,e){n&&n._inc++;var t=e.namespaceURI;t===ei.XMLNS&&(r._nsMap[e.prefix?e.localName:""]=e.value)}function _f(n,r,e,t){n&&n._inc++;var i=e.namespaceURI;i===ei.XMLNS&&delete r._nsMap[e.prefix?e.localName:""]}function us(n,r,e){if(n&&n._inc){n._inc++;var t=r.childNodes;if(e)t[t.length++]=e;else{for(var i=r.firstChild,s=0;i;)t[s++]=i,i=i.nextSibling;t.length=s,delete t[t.length]}}}function gf(n,r){var e=r.previousSibling,t=r.nextSibling;return e?e.nextSibling=t:n.firstChild=t,t?t.previousSibling=e:n.lastChild=e,r.parentNode=null,r.previousSibling=null,r.nextSibling=null,us(n.ownerDocument,n),r}function Cp(n){return n&&(n.nodeType===Je.DOCUMENT_NODE||n.nodeType===Je.DOCUMENT_FRAGMENT_NODE||n.nodeType===Je.ELEMENT_NODE)}function kp(n){return n&&(dr(n)||os(n)||Tr(n)||n.nodeType===Je.DOCUMENT_FRAGMENT_NODE||n.nodeType===Je.COMMENT_NODE||n.nodeType===Je.PROCESSING_INSTRUCTION_NODE)}function Tr(n){return n&&n.nodeType===Je.DOCUMENT_TYPE_NODE}function dr(n){return n&&n.nodeType===Je.ELEMENT_NODE}function os(n){return n&&n.nodeType===Je.TEXT_NODE}function $l(n,r){var e=n.childNodes||[];if(cr(e,dr)||Tr(r))return!1;var t=cr(e,Tr);return!(r&&t&&e.indexOf(t)>e.indexOf(r))}function Vl(n,r){var e=n.childNodes||[];function t(s){return dr(s)&&s!==r}if(cr(e,t))return!1;var i=cr(e,Tr);return!(r&&i&&e.indexOf(i)>e.indexOf(r))}function Np(n,r,e){if(!Cp(n))throw new ft(Mt,"Unexpected parent node type "+n.nodeType);if(e&&e.parentNode!==n)throw new ft(cf,"child not in parent");if(!kp(r)||Tr(r)&&n.nodeType!==Je.DOCUMENT_NODE)throw new ft(Mt,"Unexpected node type "+r.nodeType+" for parent node type "+n.nodeType)}function Sp(n,r,e){var t=n.childNodes||[],i=r.childNodes||[];if(r.nodeType===Je.DOCUMENT_FRAGMENT_NODE){var s=i.filter(dr);if(s.length>1||cr(i,os))throw new ft(Mt,"More than one element or text in fragment");if(s.length===1&&!$l(n,e))throw new ft(Mt,"Element in fragment can not be inserted before doctype")}if(dr(r)&&!$l(n,e))throw new ft(Mt,"Only one element can be added and only after doctype");if(Tr(r)){if(cr(t,Tr))throw new ft(Mt,"Only one doctype is allowed");var a=cr(t,dr);if(e&&t.indexOf(a)<t.indexOf(e))throw new ft(Mt,"Doctype can only be inserted before an element");if(!e&&a)throw new ft(Mt,"Doctype can not be appended since element is present")}}function vf(n,r,e){var t=n.childNodes||[],i=r.childNodes||[];if(r.nodeType===Je.DOCUMENT_FRAGMENT_NODE){var s=i.filter(dr);if(s.length>1||cr(i,os))throw new ft(Mt,"More than one element or text in fragment");if(s.length===1&&!Vl(n,e))throw new ft(Mt,"Element in fragment can not be inserted before doctype")}if(dr(r)&&!Vl(n,e))throw new ft(Mt,"Only one element can be added and only after doctype");if(Tr(r)){if(cr(t,function(u){return Tr(u)&&u!==e}))throw new ft(Mt,"Only one doctype is allowed");var a=cr(t,dr);if(e&&t.indexOf(a)<t.indexOf(e))throw new ft(Mt,"Doctype can only be inserted before an element")}}function Ji(n,r,e,t){Np(n,r,e),n.nodeType===Je.DOCUMENT_NODE&&(t||Sp)(n,r,e);var i=r.parentNode;if(i&&i.removeChild(r),r.nodeType===Er){var s=r.firstChild;if(s==null)return r;var a=r.lastChild}else s=a=r;var l=e?e.previousSibling:n.lastChild;s.previousSibling=l,a.nextSibling=e,l?l.nextSibling=s:n.firstChild=s,e==null?n.lastChild=a:e.previousSibling=a;do s.parentNode=n;while(s!==a&&(s=s.nextSibling));return us(n.ownerDocument||n,n),r.nodeType==Er&&(r.firstChild=r.lastChild=null),r}function Rp(n,r){return r.parentNode&&r.parentNode.removeChild(r),r.parentNode=n,r.previousSibling=n.lastChild,r.nextSibling=null,r.previousSibling?r.previousSibling.nextSibling=r:n.firstChild=r,n.lastChild=r,us(n.ownerDocument,n,r),r}li.prototype={nodeName:"#document",nodeType:of,doctype:null,documentElement:null,_inc:1,insertBefore:function(n,r){if(n.nodeType==Er){for(var e=n.firstChild;e;){var t=e.nextSibling;this.insertBefore(e,r),e=t}return n}return Ji(this,n,r),n.ownerDocument=this,this.documentElement===null&&n.nodeType===Zt&&(this.documentElement=n),n},removeChild:function(n){return this.documentElement==n&&(this.documentElement=null),gf(this,n)},replaceChild:function(n,r){Ji(this,n,r,vf),n.ownerDocument=this,r&&this.removeChild(r),dr(n)&&(this.documentElement=n)},importNode:function(n,r){return Df(this,n,r)},getElementById:function(n){var r=null;return ti(this.documentElement,function(e){if(e.nodeType==Zt&&e.getAttribute("id")==n)return r=e,!0}),r},getElementsByClassName:function(n){var r=Ml(n);return new Tn(this,function(e){var t=[];return r.length>0&&ti(e.documentElement,function(i){if(i!==e&&i.nodeType===Zt){var s=i.getAttribute("class");if(s){var a=n===s;if(!a){var l=Ml(s);a=r.every(Dp(l))}a&&t.push(i)}}}),t})},createElement:function(n){var r=new tn;r.ownerDocument=this,r.nodeName=n,r.tagName=n,r.localName=n,r.childNodes=new yr;var e=r.attributes=new Yi;return e._ownerElement=r,r},createDocumentFragment:function(){var n=new aa;return n.ownerDocument=this,n.childNodes=new yr,n},createTextNode:function(n){var r=new fs;return r.ownerDocument=this,r.appendData(n),r},createComment:function(n){var r=new cs;return r.ownerDocument=this,r.appendData(n),r},createCDATASection:function(n){var r=new ds;return r.ownerDocument=this,r.appendData(n),r},createProcessingInstruction:function(n,r){var e=new ps;return e.ownerDocument=this,e.tagName=e.nodeName=e.target=n,e.nodeValue=e.data=r,e},createAttribute:function(n){var r=new Zi;return r.ownerDocument=this,r.name=n,r.nodeName=n,r.localName=n,r.specified=!0,r},createEntityReference:function(n){var r=new hs;return r.ownerDocument=this,r.nodeName=n,r},createElementNS:function(n,r){var e=new tn,t=r.split(":"),i=e.attributes=new Yi;return e.childNodes=new yr,e.ownerDocument=this,e.nodeName=r,e.tagName=r,e.namespaceURI=n,t.length==2?(e.prefix=t[0],e.localName=t[1]):e.localName=r,i._ownerElement=e,e},createAttributeNS:function(n,r){var e=new Zi,t=r.split(":");return e.ownerDocument=this,e.nodeName=r,e.name=r,e.namespaceURI=n,e.specified=!0,t.length==2?(e.prefix=t[0],e.localName=t[1]):e.localName=r,e}};jt(li,Je);function tn(){this._nsMap={}}tn.prototype={nodeType:Zt,hasAttribute:function(n){return this.getAttributeNode(n)!=null},getAttribute:function(n){var r=this.getAttributeNode(n);return r&&r.value||""},getAttributeNode:function(n){return this.attributes.getNamedItem(n)},setAttribute:function(n,r){var e=this.ownerDocument.createAttribute(n);e.value=e.nodeValue=""+r,this.setAttributeNode(e)},removeAttribute:function(n){var r=this.getAttributeNode(n);r&&this.removeAttributeNode(r)},appendChild:function(n){return n.nodeType===Er?this.insertBefore(n,null):Rp(this,n)},setAttributeNode:function(n){return this.attributes.setNamedItem(n)},setAttributeNodeNS:function(n){return this.attributes.setNamedItemNS(n)},removeAttributeNode:function(n){return this.attributes.removeNamedItem(n.nodeName)},removeAttributeNS:function(n,r){var e=this.getAttributeNodeNS(n,r);e&&this.removeAttributeNode(e)},hasAttributeNS:function(n,r){return this.getAttributeNodeNS(n,r)!=null},getAttributeNS:function(n,r){var e=this.getAttributeNodeNS(n,r);return e&&e.value||""},setAttributeNS:function(n,r,e){var t=this.ownerDocument.createAttributeNS(n,r);t.value=t.nodeValue=""+e,this.setAttributeNode(t)},getAttributeNodeNS:function(n,r){return this.attributes.getNamedItemNS(n,r)},getElementsByTagName:function(n){return new Tn(this,function(r){var e=[];return ti(r,function(t){t!==r&&t.nodeType==Zt&&(n==="*"||t.tagName==n)&&e.push(t)}),e})},getElementsByTagNameNS:function(n,r){return new Tn(this,function(e){var t=[];return ti(e,function(i){i!==e&&i.nodeType===Zt&&(n==="*"||i.namespaceURI===n)&&(r==="*"||i.localName==r)&&t.push(i)}),t})}};li.prototype.getElementsByTagName=tn.prototype.getElementsByTagName;li.prototype.getElementsByTagNameNS=tn.prototype.getElementsByTagNameNS;jt(tn,Je);function Zi(){}Zi.prototype.nodeType=En;jt(Zi,Je);function ui(){}ui.prototype={data:"",substringData:function(n,r){return this.data.substring(n,n+r)},appendData:function(n){n=this.data+n,this.nodeValue=this.data=n,this.length=n.length},insertData:function(n,r){this.replaceData(n,0,r)},appendChild:function(n){throw new Error(mt[Mt])},deleteData:function(n,r){this.replaceData(n,r,"")},replaceData:function(n,r,e){var t=this.data.substring(0,n),i=this.data.substring(n+r);e=t+e+i,this.nodeValue=this.data=e,this.length=e.length}};jt(ui,Je);function fs(){}fs.prototype={nodeName:"#text",nodeType:Qi,splitText:function(n){var r=this.data,e=r.substring(n);r=r.substring(0,n),this.data=this.nodeValue=r,this.length=r.length;var t=this.ownerDocument.createTextNode(e);return this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling),t}};jt(fs,ui);function cs(){}cs.prototype={nodeName:"#comment",nodeType:uf};jt(cs,ui);function ds(){}ds.prototype={nodeName:"#cdata-section",nodeType:af};jt(ds,ui);function ia(){}ia.prototype.nodeType=ff;jt(ia,Je);function mf(){}mf.prototype.nodeType=Ep;jt(mf,Je);function bf(){}bf.prototype.nodeType=Ap;jt(bf,Je);function hs(){}hs.prototype.nodeType=sf;jt(hs,Je);function aa(){}aa.prototype.nodeName="#document-fragment";aa.prototype.nodeType=Er;jt(aa,Je);function ps(){}ps.prototype.nodeType=lf;jt(ps,Je);function wf(){}wf.prototype.serializeToString=function(n,r,e){return yf.call(n,r,e)};Je.prototype.toString=yf;function yf(n,r){var e=[],t=this.nodeType==9&&this.documentElement||this,i=t.prefix,s=t.namespaceURI;if(s&&i==null){var i=t.lookupPrefix(s);if(i==null)var a=[{namespace:s,prefix:null}]}return yn(this,e,n,r,a),e.join("")}function Hl(n,r,e){var t=n.prefix||"",i=n.namespaceURI;if(!i||t==="xml"&&i===ei.XML||i===ei.XMLNS)return!1;for(var s=e.length;s--;){var a=e[s];if(a.prefix===t)return a.namespace!==i}return!0}function Ta(n,r,e){n.push(" ",r,'="',e.replace(/[<>&"\t\n\r]/g,pf),'"')}function yn(n,r,e,t,i){if(i||(i=[]),t)if(n=t(n),n){if(typeof n=="string"){r.push(n);return}}else return;switch(n.nodeType){case Zt:var s=n.attributes,a=s.length,N=n.firstChild,l=n.tagName;e=ei.isHTML(n.namespaceURI)||e;var u=l;if(!e&&!n.prefix&&n.namespaceURI){for(var o,c=0;c<s.length;c++)if(s.item(c).name==="xmlns"){o=s.item(c).value;break}if(!o)for(var p=i.length-1;p>=0;p--){var h=i[p];if(h.prefix===""&&h.namespace===n.namespaceURI){o=h.namespace;break}}if(o!==n.namespaceURI)for(var p=i.length-1;p>=0;p--){var h=i[p];if(h.namespace===n.namespaceURI){h.prefix&&(u=h.prefix+":"+l);break}}}r.push("<",u);for(var _=0;_<a;_++){var g=s.item(_);g.prefix=="xmlns"?i.push({prefix:g.localName,namespace:g.value}):g.nodeName=="xmlns"&&i.push({prefix:"",namespace:g.value})}for(var _=0;_<a;_++){var g=s.item(_);if(Hl(g,e,i)){var C=g.prefix||"",y=g.namespaceURI;Ta(r,C?"xmlns:"+C:"xmlns",y),i.push({prefix:C,namespace:y})}yn(g,r,e,t,i)}if(l===u&&Hl(n,e,i)){var C=n.prefix||"",y=n.namespaceURI;Ta(r,C?"xmlns:"+C:"xmlns",y),i.push({prefix:C,namespace:y})}if(N||e&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(r.push(">"),e&&/^script$/i.test(l))for(;N;)N.data?r.push(N.data):yn(N,r,e,t,i.slice()),N=N.nextSibling;else for(;N;)yn(N,r,e,t,i.slice()),N=N.nextSibling;r.push("</",u,">")}else r.push("/>");return;case of:case Er:for(var N=n.firstChild;N;)yn(N,r,e,t,i.slice()),N=N.nextSibling;return;case En:return Ta(r,n.name,n.value);case Qi:return r.push(n.data.replace(/[<&>]/g,pf));case af:return r.push("<![CDATA[",n.data,"]]>");case uf:return r.push("<!--",n.data,"-->");case ff:var B=n.publicId,E=n.systemId;if(r.push("<!DOCTYPE ",n.name),B)r.push(" PUBLIC ",B),E&&E!="."&&r.push(" ",E),r.push(">");else if(E&&E!=".")r.push(" SYSTEM ",E,">");else{var L=n.internalSubset;L&&r.push(" [",L,"]"),r.push(">")}return;case lf:return r.push("<?",n.target," ",n.data,"?>");case sf:return r.push("&",n.nodeName,";");default:r.push("??",n.nodeName)}}function Df(n,r,e){var t;switch(r.nodeType){case Zt:t=r.cloneNode(!1),t.ownerDocument=n;case Er:break;case En:e=!0;break}if(t||(t=r.cloneNode(!1)),t.ownerDocument=n,t.parentNode=null,e)for(var i=r.firstChild;i;)t.appendChild(Df(n,i,e)),i=i.nextSibling;return t}function Xa(n,r,e){var t=new r.constructor;for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){var s=r[i];typeof s!="object"&&s!=t[i]&&(t[i]=s)}switch(r.childNodes&&(t.childNodes=new yr),t.ownerDocument=n,t.nodeType){case Zt:var a=r.attributes,l=t.attributes=new Yi,u=a.length;l._ownerElement=t;for(var o=0;o<u;o++)t.setAttributeNode(Xa(n,a.item(o),!0));break;case En:e=!0}if(e)for(var c=r.firstChild;c;)t.appendChild(Xa(n,c,e)),c=c.nextSibling;return t}function Af(n,r,e){n[r]=e}try{if(Object.defineProperty){let n=function(r){switch(r.nodeType){case Zt:case Er:var e=[];for(r=r.firstChild;r;)r.nodeType!==7&&r.nodeType!==8&&e.push(n(r)),r=r.nextSibling;return e.join("");default:return r.nodeValue}};Object.defineProperty(Tn.prototype,"length",{get:function(){return ls(this),this.$$length}}),Object.defineProperty(Je.prototype,"textContent",{get:function(){return n(this)},set:function(r){switch(this.nodeType){case Zt:case Er:for(;this.firstChild;)this.removeChild(this.firstChild);(r||String(r))&&this.appendChild(this.ownerDocument.createTextNode(r));break;default:this.data=r,this.value=r,this.nodeValue=r}}}),Af=function(r,e,t){r["$$"+e]=t}}}catch{}jr.DocumentType=ia;jr.DOMException=ft;jr.DOMImplementation=hf;jr.Element=tn;jr.Node=Je;jr.NodeList=yr;jr.XMLSerializer=wf;var sa={},Ef={};(function(n){var r=kr.freeze;n.XML_ENTITIES=r({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),n.HTML_ENTITIES=r({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),n.entityMap=n.HTML_ENTITIES})(Ef);var _s={},ri=kr.NAMESPACE,Ga=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,zl=new RegExp("[\\-\\.0-9"+Ga.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Xl=new RegExp("^"+Ga.source+zl.source+"*(?::"+Ga.source+zl.source+"*)?$"),jn=0,Rr=1,cn=2,Pn=3,dn=4,hn=5,Un=6,Oi=7;function Cn(n,r){this.message=n,this.locator=r,Error.captureStackTrace&&Error.captureStackTrace(this,Cn)}Cn.prototype=new Error;Cn.prototype.name=Cn.name;function Tf(){}Tf.prototype={parse:function(n,r,e){var t=this.domBuilder;t.startDocument(),Cf(r,r={}),Ip(n,r,e,t,this.errorHandler),t.endDocument()}};function Ip(n,r,e,t,i){function s(I){if(I>65535){I-=65536;var V=55296+(I>>10),ee=56320+(I&1023);return String.fromCharCode(V,ee)}else return String.fromCharCode(I)}function a(I){var V=I.slice(1,-1);return Object.hasOwnProperty.call(e,V)?e[V]:V.charAt(0)==="#"?s(parseInt(V.substr(1).replace("x","0x"))):(i.error("entity not found:"+I),I)}function l(I){if(I>C){var V=n.substring(C,I).replace(/&#?\w+;/g,a);h&&u(C),t.characters(V,0,I-C),C=I}}function u(I,V){for(;I>=c&&(V=p.exec(n));)o=V.index,c=o+V[0].length,h.lineNumber++;h.columnNumber=I-o+1}for(var o=0,c=0,p=/.*(?:\r\n?|\n)|.*$/g,h=t.locator,_=[{currentNSMap:r}],g={},C=0;;){try{var y=n.indexOf("<",C);if(y<0){if(!n.substr(C).match(/^\s*$/)){var N=t.doc,B=N.createTextNode(n.substr(C));N.appendChild(B),t.currentElement=B}return}switch(y>C&&l(y),n.charAt(y+1)){case"/":var m=n.indexOf(">",y+3),E=n.substring(y+2,m).replace(/[ \t\n\r]+$/g,""),L=_.pop();m<0?(E=n.substring(y+2).replace(/[\s<].*/,""),i.error("end tag name: "+E+" is not complete:"+L.tagName),m=y+1+E.length):E.match(/\s</)&&(E=E.replace(/[\s<].*/,""),i.error("end tag name: "+E+" maybe not complete"),m=y+1+E.length);var A=L.localNSMap,F=L.tagName==E,T=F||L.tagName&&L.tagName.toLowerCase()==E.toLowerCase();if(T){if(t.endElement(L.uri,L.localName,E),A)for(var P in A)Object.prototype.hasOwnProperty.call(A,P)&&t.endPrefixMapping(P);F||i.fatalError("end tag name: "+E+" is not match the current start tagName:"+L.tagName)}else _.push(L);m++;break;case"?":h&&u(y),m=xp(n,y,t);break;case"!":h&&u(y),m=Bp(n,y,t,i);break;default:h&&u(y);var x=new kf,R=_[_.length-1].currentNSMap,m=Fp(n,y,x,R,a,i),b=x.length;if(!x.closed&&Lp(n,m,x.tagName,g)&&(x.closed=!0,e.nbsp||i.warning("unclosed xml attribute")),h&&b){for(var O=Gl(h,{}),w=0;w<b;w++){var H=x[w];u(H.offset),H.locator=Gl(h,{})}t.locator=O,Wl(x,t,R)&&_.push(x),t.locator=h}else Wl(x,t,R)&&_.push(x);ri.isHTML(x.uri)&&!x.closed?m=Op(n,m,x.tagName,a,t):m++}}catch(I){if(I instanceof Cn)throw I;i.error("element parse error: "+I),m=-1}m>C?C=m:l(Math.max(y,C)+1)}}function Gl(n,r){return r.lineNumber=n.lineNumber,r.columnNumber=n.columnNumber,r}function Fp(n,r,e,t,i,s){function a(h,_,g){e.attributeNames.hasOwnProperty(h)&&s.fatalError("Attribute "+h+" redefined"),e.addValue(h,_.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),g)}for(var l,u,o=++r,c=jn;;){var p=n.charAt(o);switch(p){case"=":if(c===Rr)l=n.slice(r,o),c=Pn;else if(c===cn)c=Pn;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(c===Pn||c===Rr)if(c===Rr&&(s.warning('attribute value must after "="'),l=n.slice(r,o)),r=o+1,o=n.indexOf(p,r),o>0)u=n.slice(r,o),a(l,u,r-1),c=hn;else throw new Error("attribute value no end '"+p+"' match");else if(c==dn)u=n.slice(r,o),a(l,u,r),s.warning('attribute "'+l+'" missed start quot('+p+")!!"),r=o+1,c=hn;else throw new Error('attribute value must after "="');break;case"/":switch(c){case jn:e.setTagName(n.slice(r,o));case hn:case Un:case Oi:c=Oi,e.closed=!0;case dn:case Rr:break;case cn:e.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),c==jn&&e.setTagName(n.slice(r,o)),o;case">":switch(c){case jn:e.setTagName(n.slice(r,o));case hn:case Un:case Oi:break;case dn:case Rr:u=n.slice(r,o),u.slice(-1)==="/"&&(e.closed=!0,u=u.slice(0,-1));case cn:c===cn&&(u=l),c==dn?(s.warning('attribute "'+u+'" missed quot(")!'),a(l,u,r)):((!ri.isHTML(t[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),a(u,u,r));break;case Pn:throw new Error("attribute value missed!!")}return o;case"":p=" ";default:if(p<=" ")switch(c){case jn:e.setTagName(n.slice(r,o)),c=Un;break;case Rr:l=n.slice(r,o),c=cn;break;case dn:var u=n.slice(r,o);s.warning('attribute "'+u+'" missed quot(")!!'),a(l,u,r);case hn:c=Un;break}else switch(c){case cn:e.tagName,(!ri.isHTML(t[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),a(l,l,r),r=o,c=Rr;break;case hn:s.warning('attribute space is required"'+l+'"!!');case Un:c=Rr,r=o;break;case Pn:c=dn,r=o;break;case Oi:throw new Error("elements closed character '/' and '>' must be connected to")}}o++}}function Wl(n,r,e){for(var t=n.tagName,i=null,p=n.length;p--;){var s=n[p],a=s.qName,l=s.value,h=a.indexOf(":");if(h>0)var u=s.prefix=a.slice(0,h),o=a.slice(h+1),c=u==="xmlns"&&o;else o=a,u=null,c=a==="xmlns"&&"";s.localName=o,c!==!1&&(i==null&&(i={},Cf(e,e={})),e[c]=i[c]=l,s.uri=ri.XMLNS,r.startPrefixMapping(c,l))}for(var p=n.length;p--;){s=n[p];var u=s.prefix;u&&(u==="xml"&&(s.uri=ri.XML),u!=="xmlns"&&(s.uri=e[u||""]))}var h=t.indexOf(":");h>0?(u=n.prefix=t.slice(0,h),o=n.localName=t.slice(h+1)):(u=null,o=n.localName=t);var _=n.uri=e[u||""];if(r.startElement(_,o,t,n),n.closed){if(r.endElement(_,o,t),i)for(u in i)Object.prototype.hasOwnProperty.call(i,u)&&r.endPrefixMapping(u)}else return n.currentNSMap=e,n.localNSMap=i,!0}function Op(n,r,e,t,i){if(/^(?:script|textarea)$/i.test(e)){var s=n.indexOf("</"+e+">",r),a=n.substring(r+1,s);if(/[&<]/.test(a))return/^script$/i.test(e)?(i.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,t),i.characters(a,0,a.length),s)}return r+1}function Lp(n,r,e,t){var i=t[e];return i==null&&(i=n.lastIndexOf("</"+e+">"),i<r&&(i=n.lastIndexOf("</"+e)),t[e]=i),i<r}function Cf(n,r){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])}function Bp(n,r,e,t){var i=n.charAt(r+2);switch(i){case"-":if(n.charAt(r+3)==="-"){var s=n.indexOf("-->",r+4);return s>r?(e.comment(n,r+4,s-r-4),s+3):(t.error("Unclosed comment"),-1)}else return-1;default:if(n.substr(r+3,6)=="CDATA["){var s=n.indexOf("]]>",r+9);return e.startCDATA(),e.characters(n,r+9,s-r-9),e.endCDATA(),s+3}var a=qp(n,r),l=a.length;if(l>1&&/!doctype/i.test(a[0][0])){var u=a[1][0],o=!1,c=!1;l>3&&(/^public$/i.test(a[2][0])?(o=a[3][0],c=l>4&&a[4][0]):/^system$/i.test(a[2][0])&&(c=a[3][0]));var p=a[l-1];return e.startDTD(u,o,c),e.endDTD(),p.index+p[0].length}}return-1}function xp(n,r,e){var t=n.indexOf("?>",r);if(t){var i=n.substring(r,t).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,e.processingInstruction(i[1],i[2]),t+2):-1}return-1}function kf(){this.attributeNames={}}kf.prototype={setTagName:function(n){if(!Xl.test(n))throw new Error("invalid tagName:"+n);this.tagName=n},addValue:function(n,r,e){if(!Xl.test(n))throw new Error("invalid attribute:"+n);this.attributeNames[n]=this.length,this[this.length++]={qName:n,value:r,offset:e}},length:0,getLocalName:function(n){return this[n].localName},getLocator:function(n){return this[n].locator},getQName:function(n){return this[n].qName},getURI:function(n){return this[n].uri},getValue:function(n){return this[n].value}};function qp(n,r){var e,t=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=r,i.exec(n);e=i.exec(n);)if(t.push(e),e[1])return t}_s.XMLReader=Tf;_s.ParseError=Cn;var Mp=kr,jp=jr,Ql=Ef,Nf=_s,Pp=jp.DOMImplementation,Yl=Mp.NAMESPACE,Up=Nf.ParseError,$p=Nf.XMLReader;function Sf(n){return n.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function Rf(n){this.options=n||{locator:{}}}Rf.prototype.parseFromString=function(n,r){var e=this.options,t=new $p,i=e.domBuilder||new oi,s=e.errorHandler,a=e.locator,l=e.xmlns||{},u=/\/x?html?$/.test(r),o=u?Ql.HTML_ENTITIES:Ql.XML_ENTITIES;a&&i.setDocumentLocator(a),t.errorHandler=Vp(s,i,a),t.domBuilder=e.domBuilder||i,u&&(l[""]=Yl.HTML),l.xml=l.xml||Yl.XML;var c=e.normalizeLineEndings||Sf;return n&&typeof n=="string"?t.parse(c(n),l,o):t.errorHandler.error("invalid doc source"),i.doc};function Vp(n,r,e){if(!n){if(r instanceof oi)return r;n=r}var t={},i=n instanceof Function;e=e||{};function s(a){var l=n[a];!l&&i&&(l=n.length==2?function(u){n(a,u)}:n),t[a]=l&&function(u){l("[xmldom "+a+"]	"+u+Wa(e))}||function(){}}return s("warning"),s("error"),s("fatalError"),t}function oi(){this.cdata=!1}function pn(n,r){r.lineNumber=n.lineNumber,r.columnNumber=n.columnNumber}oi.prototype={startDocument:function(){this.doc=new Pp().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(n,r,e,t){var i=this.doc,s=i.createElementNS(n,e||r),a=t.length;Li(this,s),this.currentElement=s,this.locator&&pn(this.locator,s);for(var l=0;l<a;l++){var n=t.getURI(l),u=t.getValue(l),e=t.getQName(l),o=i.createAttributeNS(n,e);this.locator&&pn(t.getLocator(l),o),o.value=o.nodeValue=u,s.setAttributeNode(o)}},endElement:function(n,r,e){var t=this.currentElement;t.tagName,this.currentElement=t.parentNode},startPrefixMapping:function(n,r){},endPrefixMapping:function(n){},processingInstruction:function(n,r){var e=this.doc.createProcessingInstruction(n,r);this.locator&&pn(this.locator,e),Li(this,e)},ignorableWhitespace:function(n,r,e){},characters:function(n,r,e){if(n=Jl.apply(this,arguments),n){if(this.cdata)var t=this.doc.createCDATASection(n);else var t=this.doc.createTextNode(n);this.currentElement?this.currentElement.appendChild(t):/^\s*$/.test(n)&&this.doc.appendChild(t),this.locator&&pn(this.locator,t)}},skippedEntity:function(n){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(n){(this.locator=n)&&(n.lineNumber=0)},comment:function(n,r,e){n=Jl.apply(this,arguments);var t=this.doc.createComment(n);this.locator&&pn(this.locator,t),Li(this,t)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(n,r,e){var t=this.doc.implementation;if(t&&t.createDocumentType){var i=t.createDocumentType(n,r,e);this.locator&&pn(this.locator,i),Li(this,i),this.doc.doctype=i}},warning:function(n){console.warn("[xmldom warning]	"+n,Wa(this.locator))},error:function(n){console.error("[xmldom error]	"+n,Wa(this.locator))},fatalError:function(n){throw new Up(n,this.locator)}};function Wa(n){if(n)return`
@`+(n.systemId||"")+"#[line:"+n.lineNumber+",col:"+n.columnNumber+"]"}function Jl(n,r,e){return typeof n=="string"?n.substr(r,e):n.length>=r+e||r?new java.lang.String(n,r,e)+"":n}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(n){oi.prototype[n]=function(){return null}});function Li(n,r){n.currentElement?n.currentElement.appendChild(r):n.doc.appendChild(r)}sa.__DOMHandler=oi;sa.normalizeLineEndings=Sf;sa.DOMParser=Rf;var Zl=sa.DOMParser;function Hp(n){return n=n.split(";")[0].trim(),new yt("http://www.w3.org/ns/iana/media-types/"+n+"#Resource")}function zp(n,r){n.callbacks={};for(var e=r.length-1;e>=0;e--)n.callbacks[r[e]]=[];n.addHook=function(t){n.callbacks[t]||(n.callbacks[t]=[])},n.addCallback=function(t,i){n.callbacks[t].push(i)},n.removeCallback=function(t,i){for(var s=0;s<n.callbacks[t].length;s++)if(n.callbacks[t][s].name===i)return n.callbacks[t].splice(s,1),!0;return!1},n.insertCallback=function(t,i){n.callbacks[t].unshift(i)},n.fireCallbacks=function(i,s){var a=[],l=[],u=n.callbacks[i].length,o,c;for(o=u-1;o>=0;o--)c=n.callbacks[i][o],c&&c.apply(n,s)&&a.push(c);for(o=a.length-1;o>=0;o--)l.push(a[o]);for(o=u;o<n.callbacks[i].length;o++)l.push(n.callbacks[i][o]);n.callbacks[i]=l}}function Xp(n,r){r=r||{};var e=[];r&&r.selfClosing&&r.selfClosing.split(" ").forEach(function(i){e[i]=!0});var t=[];return r&&r.skipAttributes&&r.skipAttributes.split(" ").forEach(function(i){t[i]=!0}),If(n,r,e,t)}function If(n,r,e,t){var i,s="",a=[!1];if(typeof n.nodeType>"u")return s;if(n.nodeType===1){if(n.hasAttribute("class")&&r&&r.classWithChildText&&n.matches(r.classWithChildText.class))s+=n.querySelector(r.classWithChildText.element).textContent;else if(!(r&&r.skipNodeWithClass&&n.matches("."+r.skipNodeWithClass))){var l=n.nodeName.toLowerCase();s+="<"+l;var u=[];for(i=n.attributes.length-1;i>=0;i--){var o=n.attributes[i];if(!(t&&t.length>0&&t[o.name])&&!/^\d+$/.test(o.name)){if(o.name==="class"&&r&&r.replaceClassItemWith&&o.value.split(" ").indexOf(r.replaceClassItemWith.source)>-1){var c=new RegExp(r.replaceClassItemWith.source,"g");o.value=o.value.replace(c,r.replaceClassItemWith.target).trim()}o.name==="class"&&r&&r.skipClassWithValue&&r.skipClassWithValue===o.value||u.push(o.name+"='"+o.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&quot;")+"'")}}if(u.length>0&&(r&&r.sortAttributes&&u.sort(function(h,_){return h.toLowerCase().localeCompare(_.toLowerCase())}),s+=" "+u.join(" ")),e&&e.ename)s+=" />";else{for(s+=">",s+=l==="html"?`
  `:"",a.push(l==="style"||l==="script"),i=0;i<n.childNodes.length;i++)s+=If(n.childNodes[i]);a.pop(),s+=l==="body"?"</"+l+`>
`:"</"+l+">"}}}else if(n.nodeType===8)s+="<!--"+n.nodeValue+"-->";else if(n.nodeType===3||n.nodeType===4){var p=n.nodeValue.replace(/\n+$/,"");s+=a[a.length-1]?p:p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}else console.log("Warning; Cannot handle serialising nodes of type: "+n.nodeType),console.log(n);return s}function Ca(n,r,e,t){var i=function(u){return u.termType==="BlankNode"?null:u},s=function(u){var o=e.statementsMatching(u).map(function(c){return""+i(c.subject)+" "+i(c.predicate)+" "+i(c.object)}).concat(e.statementsMatching(void 0,void 0,u).map(function(c){return""+i(c.subject)+" "+i(c.predicate)+" "+i(c.object)}));return o.sort(),o.join(`
`)},a=Object.prototype.hasOwnProperty.call(e,"compareTerms")?e.compareTerms(n,r):n.compareTerm(r);return n.termType==="BlankNode"&&r.termType==="BlankNode"?a===0?0:s(n)>s(r)?1:s(n)<s(r)?-1:a:t&&n.uri&&r.uri?(t[n.uri]||n.uri).localeCompare(t[r.uri]||r.uri):a}function Gp(n,r,e,t){return Ca(n.subject,r.subject,e,t)||Ca(n.predicate,r.predicate,e,t)||Ca(n.object,r.object,e,t)}function Dn(n,r){var e;if(r=r||{},typeof module<"u"&&module&&module.exports){var t=new Zl().parseFromString(n,r.contentType||"application/xhtml+xml");return t}else typeof window<"u"&&window.DOMParser?e=new window.DOMParser:e=new Zl;return e.parseFromString(n,"application/xml")}function Wp(n,r){for(var e=0;e<n.length;e++)if(n[e].subject.equals(r.subject)&&n[e].predicate.equals(r.predicate)&&n[e].object.equals(r.object)&&n[e].why.equals(r.why)){n.splice(e,1);return}throw new Error("RDFArrayRemove: Array did not contain "+r+" "+r.why)}function Ff(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Jt;return{boolean:n.namedNode("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:n.namedNode("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:n.namedNode("http://www.w3.org/2001/XMLSchema#decimal"),double:n.namedNode("http://www.w3.org/2001/XMLSchema#double"),integer:n.namedNode("http://www.w3.org/2001/XMLSchema#integer"),langString:n.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:n.namedNode("http://www.w3.org/2001/XMLSchema#string")}}Ff(Jt);const Kl={acl:"http://www.w3.org/ns/auth/acl#",arg:"http://www.w3.org/ns/pim/arg#",as:"https://www.w3.org/ns/activitystreams#",cal:"http://www.w3.org/2002/12/cal/ical#",cert:"http://www.w3.org/ns/auth/cert#",contact:"http://www.w3.org/2000/10/swap/pim/contact#",dc:"http://purl.org/dc/elements/1.1/",dct:"http://purl.org/dc/terms/",doap:"http://usefulinc.com/ns/doap#",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",gpx:"http://www.w3.org/ns/pim/gpx#",http:"http://www.w3.org/2007/ont/http#",httph:"http://www.w3.org/2007/ont/httph#",icalTZ:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",link:"http://www.w3.org/2007/ont/link#",log:"http://www.w3.org/2000/10/swap/log#",meeting:"http://www.w3.org/ns/pim/meeting#",mo:"http://purl.org/ontology/mo/",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",pad:"http://www.w3.org/ns/pim/pad#",patch:"http://www.w3.org/ns/pim/patch#",prov:"http://www.w3.org/ns/prov#",qu:"http://www.w3.org/2000/10/swap/pim/qif#",trip:"http://www.w3.org/ns/pim/trip#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rss:"http://purl.org/rss/1.0/",sched:"http://www.w3.org/ns/pim/schedule#",schema:"http://schema.org/",sioc:"http://rdfs.org/sioc/ns#",solid:"http://www.w3.org/ns/solid/terms#",space:"http://www.w3.org/ns/pim/space#",stat:"http://www.w3.org/ns/posix/stat#",tab:"http://www.w3.org/2007/ont/link#",tabont:"http://www.w3.org/2007/ont/link#",ui:"http://www.w3.org/ns/ui#",vcard:"http://www.w3.org/2006/vcard/ns#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#",cco:"http://www.ontologyrepository.com/CommonCoreOntologies/",skos:"http://www.w3.org/2004/02/skos/core#",bookmark:"http://www.w3.org/2002/01/bookmark#",vann:"http://purl.org/vocab/vann/"};function Qp(n={namedNode:r=>r}){const r={};for(const e in Kl){const t=Kl[e];r[e]=function(i=""){return n.namedNode(t+i)}}return r}var Yp=Qp;const eu=na(Yp);var Of={exports:{}};(function(n){(function(r,e){n.exports?n.exports=e():r.ttl2jsonld=e()})(rs,function(){function r(i,s){function a(){this.constructor=i}a.prototype=s.prototype,i.prototype=new a}function e(i,s,a,l){this.message=i,this.expected=s,this.found=a,this.location=l,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,e)}r(e,Error),e.buildMessage=function(i,s){var a={literal:function(_){return'"'+u(_.text)+'"'},class:function(_){var g="",C;for(C=0;C<_.parts.length;C++)g+=_.parts[C]instanceof Array?o(_.parts[C][0])+"-"+o(_.parts[C][1]):o(_.parts[C]);return"["+(_.inverted?"^":"")+g+"]"},any:function(_){return"any character"},end:function(_){return"end of input"},other:function(_){return _.description}};function l(_){return _.charCodeAt(0).toString(16).toUpperCase()}function u(_){return _.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+l(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+l(g)})}function o(_){return _.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+l(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+l(g)})}function c(_){return a[_.type](_)}function p(_){var g=new Array(_.length),C,y;for(C=0;C<_.length;C++)g[C]=c(_[C]);if(g.sort(),g.length>0){for(C=1,y=1;C<g.length;C++)g[C-1]!==g[C]&&(g[y]=g[C],y++);g.length=y}switch(g.length){case 1:return g[0];case 2:return g[0]+" or "+g[1];default:return g.slice(0,-1).join(", ")+", or "+g[g.length-1]}}function h(_){return _?'"'+u(_)+'"':"end of input"}return"Expected "+p(i)+" but "+h(s)+" found."};function t(i,s){s=s!==void 0?s:{};var a={},l={turtleDoc:Ks},u=Ks,o=function(f){var v=Ge.toJSON();return v["@graph"]=[],f.filter(k=>Array.isArray(k)).forEach(k=>{k.forEach(j=>{v["@graph"].push(j)})}),v["@graph"].length===1&&(Object.assign(v,v["@graph"][0]),delete v["@graph"]),v},c=".",p=Ue(".",!1),h=function(f){return f},_="#",g=Ue("#",!1),C=/^[^\n]/,y=Ze([`
`],!0,!1),N=`
`,B=Ue(`
`,!1),E=function(f){return f.join("")},L="@prefix",A=Ue("@prefix",!1),F=function(f,v){return Ge.addPrefix(f===""?"0":f,v),{}},T="@base",P=Ue("@base",!1),x=function(f){return Ge.addBase(f),{}},R=/^[Bb]/,m=Ze(["B","b"],!1,!1),b=/^[Aa]/,O=Ze(["A","a"],!1,!1),w=/^[Ss]/,H=Ze(["S","s"],!1,!1),I=/^[Ee]/,V=Ze(["E","e"],!1,!1),ee=/^[Pp]/,Q=Ze(["P","p"],!1,!1),q=/^[Rr]/,M=Ze(["R","r"],!1,!1),le=/^[Ff]/,K=Ze(["F","f"],!1,!1),he=/^[Ii]/,fe=Ze(["I","i"],!1,!1),me=/^[Xx]/,te=Ze(["X","x"],!1,!1),ce=function(f,v){var k={};return typeof f=="string"&&f!=="[]"?k["@id"]=f:typeof f=="object"&&Object.assign(k,f),v&&Object.assign(k,v),[k]},J=function(f,v){var k={};return f&&Object.assign(k,f),v&&Object.assign(k,v),[k]},ve=";",Fe=Ue(";",!1),$e=function(f,v,k,j){var z={};return z[k]=j,z},Pe=function(f,v,k){return k},_e=function(f,v,k){var j={};return k.unshift(ah(f,v)),k.forEach(z=>{z&&Object.keys(z).forEach(W=>{z[W].forEach(Y=>{W==="@type"&&Y["@id"]!==void 0&&(Y=Y["@id"]),j[W]===void 0?j[W]=Y:Array.isArray(j[W])?j[W].push(Y):j[W]=[j[W],Y]})})}),j},Te=",",At=Ue(",",!1),Ut=function(f,v){return v},Nr=function(f,v){return v.unshift(f),v},ln="a",Sr=Ue("a",!1),un=function(){return"@type"},_r=function(f){return Da(f,!0)},Ie=function(f){return Da(f,!1)},Ve=function(f){return f==="[]"?{}:{"@id":f}},It=function(f){return{"@id":f}},dt="[",$t=Ue("[",!1),ut="]",Qt=Ue("]",!1),et="(",lt=Ue("(",!1),Bn=")",$r=Ue(")",!1),on=function(f){return{"@list":f}},gr=function(f,v){return{"@value":f,"@language":v}},wt="^^",gi=Ue("^^",!1),Vr=function(f,v){if(v==="http://www.w3.org/2001/XMLSchema#boolean"&&f==="true")return!0;if(v==="http://www.w3.org/2001/XMLSchema#boolean"&&f==="false")return!1;if(v==="http://www.w3.org/2001/XMLSchema#integer")return parseInt(f);if(v==="http://www.w3.org/2001/XMLSchema#double")return parseFloat(f);const k=Ge.resolve(v,!0);if(k){const j=v.split(":")[0];if(k==="http://www.w3.org/2001/XMLSchema#boolean"&&f==="true")return Ge.decrement(j),!0;if(k==="http://www.w3.org/2001/XMLSchema#boolean"&&f==="false")return Ge.decrement(j),!1;if(k==="http://www.w3.org/2001/XMLSchema#integer")return Ge.decrement(j),parseInt(f);if(k==="http://www.w3.org/2001/XMLSchema#double")return Ge.decrement(j),parseFloat(f)}return{"@value":f,"@type":v}},fn="true",ys=Ue("true",!1),vr=function(){return!0},xn="false",hc=Ue("false",!1),pc=function(){return!1},_c=function(f){return f+":"},gc="<",vc=Ue("<",!1),Ds=/^[^\0- <>"{}|\^`\\]/,As=Ze([["\0"," "],"<",">",'"',"{","}","|","^","`","\\"],!0,!1),mc=">",bc=Ue(">",!1),wc=function(f){const v=f.map(j=>65536<=j.codePointAt(0)&&j.codePointAt(0)<=983039?"a":j.length===1?j:j.length===6?String.fromCharCode("0x"+j.substring(2)):j.length===10?String.fromCodePoint("0x"+j.substring(2)):j).join("");if(v.match(/^[^\u0000-\u0020<>"{}|^`\\]*$/)){var k=f.join("");try{return Ge.resolve(k)}catch{pa("Invalid IRIREF "+k)}}else pa("Invalid IRIREF "+f.join("")+" / "+v)},mr=":",br=Ue(":",!1),yc=function(f){return f=f||"0",Ge.hasPrefix(f)===!1&&pa("undefined prefix "+f),f},Dc=function(f){return f||""},Ac=function(f,v){return Ge.increment(f),Ge.resolve(f+":"+v)},Es="_:",Ec=Ue("_:",!1),ht=/^[0-9]/,pt=Ze([["0","9"]],!1,!1),Tc="@",Cc=Ue("@",!1),Ts=/^[a-zA-Z]/,Cs=Ze([["a","z"],["A","Z"]],!1,!1),ca="-",da=Ue("-",!1),vi=/^[a-zA-Z0-9]/,mi=Ze([["a","z"],["A","Z"],["0","9"]],!1,!1),ks=function(f,v){return"-"+v.join("")},kc=function(f,v){return f.join("")+v.join("")},bi=/^[+\-]/,wi=Ze(["+","-"],!1,!1),Nc=function(f){return f.match(/^[0+][0-9]+$/)?{"@value":f,"@type":"http://www.w3.org/2001/XMLSchema#integer"}:parseInt(f)},Sc=function(f){return{"@value":f,"@type":"http://www.w3.org/2001/XMLSchema#decimal"}},Rc=function(f){return{"@value":f,"@type":"http://www.w3.org/2001/XMLSchema#double"}},Ic=/^[eE]/,Fc=Ze(["e","E"],!1,!1),yi='"',Di=Ue('"',!1),Ns=/^[^"\\\n\r]/,Ss=Ze(['"',"\\",`
`,"\r"],!0,!1),Ai="'",Ei=Ue("'",!1),Rs=/^[^'\\\n\r]/,Is=Ze(["'","\\",`
`,"\r"],!0,!1),Ti="'''",Fs=Ue("'''",!1),Kt=/^[^'\\]/,er=Ze(["'","\\"],!0,!1),Ci="''",Os=Ue("''",!1),Ls=function(f,v){return"''"+v.join("")},Bs=function(f,v){return"'"+v.join("")},xs=function(f,v){return f.join("")+v.join("")},ki='"""',qs=Ue('"""',!1),tr=/^[^"\\]/,rr=Ze(['"',"\\"],!0,!1),Ni='""',Ms=Ue('""',!1),js=function(f,v){return'""'+v.join("")},Ps=function(f,v){return'"'+v.join("")},Us="\\U",Oc=Ue("\\U",!1),Lc=function(f){return String.fromCodePoint(parseInt(f.join(""),16))},$s="\\u",Bc=Ue("\\u",!1),xc=function(f){return String.fromCharCode(parseInt(f.join(""),16))},Vs="\\t",qc=Ue("\\t",!1),Mc=function(){return"	"},Hs="\\b",jc=Ue("\\b",!1),Pc=function(){return"\b"},zs="\\n",Uc=Ue("\\n",!1),$c=function(){return`
`},Xs="\\r",Vc=Ue("\\r",!1),Hc=function(){return"\r"},Gs="\\f",zc=Ue("\\f",!1),Xc=function(){return"\f"},Ws='\\"',Gc=Ue('\\"',!1),Wc=function(){return'"'},Qs="\\'",Qc=Ue("\\'",!1),Yc=function(){return"'"},Ys="\\\\",Jc=Ue("\\\\",!1),Zc=function(){return"\\"},Kc=/^[ \t\r\n]/,ed=Ze([" ","	","\r",`
`],!1,!1),td=function(){return"[]"},rd=/^[\uD800-\uDBFF]/,nd=Ze([["\uD800","\uDBFF"]],!1,!1),id=/^[\uDC00-\uDFFF]/,ad=Ze([["\uDC00","\uDFFF"]],!1,!1),sd=function(f,v){return f+v},ld=/^[A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ud=Ze([["A","Z"],["a","z"],["À","Ö"],["Ø","ö"],["ø","˿"],["Ͱ","ͽ"],["Ϳ","῿"],["‌","‍"],["⁰","↏"],["Ⰰ","⿯"],["、","퟿"],["豈","﷏"],["ﷰ","�"]],!1,!1),od="_",fd=Ue("_",!1),cd="·",dd=Ue("·",!1),hd=/^[\u0300-\u036F]/,pd=Ze([["̀","ͯ"]],!1,!1),_d=/^[\u203F-\u2040]/,gd=Ze([["‿","⁀"]],!1,!1),Js=function(f,v,k,j){return k.join("")+j.join("")},vd=function(f,v,k){return f+v.join("")+k.join("")},md="%",bd=Ue("%",!1),wd=/^[0-9A-Fa-f]/,yd=Ze([["0","9"],["A","F"],["a","f"]],!1,!1),Dd="\\",Ad=Ue("\\",!1),Ed=/^[_~.!$&'()*+,;=\/?#@%\-]/,Td=Ze(["_","~",".","!","$","&","'","(",")","*","+",",",";","=","/","?","#","@","%","-"],!1,!1),d=0,ke=0,Si=[{line:1,column:1}],nr=0,ha=[],Ri;if("startRule"in s){if(!(s.startRule in l))throw new Error(`Can't start parsing from rule "`+s.startRule+'".');u=l[s.startRule]}function pa(f,v){throw v=v!==void 0?v:_a(ke,d),kd(f,v)}function Ue(f,v){return{type:"literal",text:f,ignoreCase:v}}function Ze(f,v,k){return{type:"class",parts:f,inverted:v,ignoreCase:k}}function Cd(){return{type:"end"}}function Zs(f){var v=Si[f],k;if(v)return v;for(k=f-1;!Si[k];)k--;for(v=Si[k],v={line:v.line,column:v.column};k<f;)i.charCodeAt(k)===10?(v.line++,v.column=1):v.column++,k++;return Si[f]=v,v}function _a(f,v){var k=Zs(f),j=Zs(v);return{start:{offset:f,line:k.line,column:k.column},end:{offset:v,line:j.line,column:j.column}}}function se(f){d<nr||(d>nr&&(nr=d,ha=[]),ha.push(f))}function kd(f,v){return new e(f,null,null,v)}function Nd(f,v,k){return new e(e.buildMessage(f,v),f,v,k)}function Ks(){var f,v,k,j;for(f=d,v=[],k=el();k!==a;)v.push(k),k=el();if(v!==a){for(k=[],j=Ne();j!==a;)k.push(j),j=Ne();k!==a?(ke=f,v=o(v),f=v):(d=f,f=a)}else d=f,f=a;return f}function el(){var f,v,k,j;if(f=Rd(),f===a)if(f=d,v=Bd(),v!==a){for(k=[],j=Ne();j!==a;)k.push(j),j=Ne();k!==a?(i.charCodeAt(d)===46?(j=c,d++):(j=a,se(p)),j!==a?(ke=f,v=h(v),f=v):(d=f,f=a)):(d=f,f=a)}else d=f,f=a;return f}function Sd(){var f,v,k,j;if(f=d,i.charCodeAt(d)===35?(v=_,d++):(v=a,se(g)),v!==a){for(k=[],C.test(i.charAt(d))?(j=i.charAt(d),d++):(j=a,se(y));j!==a;)k.push(j),C.test(i.charAt(d))?(j=i.charAt(d),d++):(j=a,se(y));k!==a?(i.charCodeAt(d)===10?(j=N,d++):(j=a,se(B)),j!==a?(ke=f,v=E(k),f=v):(d=f,f=a)):(d=f,f=a)}else d=f,f=a;return f}function Ne(){var f;return f=Kd(),f===a&&(f=Sd()),f}function Rd(){var f;return f=Id(),f===a&&(f=Fd(),f===a&&(f=Ld(),f===a&&(f=Od()))),f}function Id(){var f,v,k,j,z,W,Y,X,Re;for(f=d,v=[],k=Ne();k!==a;)v.push(k),k=Ne();if(v!==a)if(i.substr(d,7)===L?(k=L,d+=7):(k=a,se(A)),k!==a){for(j=[],z=Ne();z!==a;)j.push(z),z=Ne();if(j!==a)if(z=al(),z!==a){for(W=[],Y=Ne();Y!==a;)W.push(Y),Y=Ne();if(W!==a)if(Y=Mn(),Y!==a){for(X=[],Re=Ne();Re!==a;)X.push(Re),Re=Ne();X!==a?(i.charCodeAt(d)===46?(Re=c,d++):(Re=a,se(p)),Re!==a?(ke=f,v=F(z,Y),f=v):(d=f,f=a)):(d=f,f=a)}else d=f,f=a;else d=f,f=a}else d=f,f=a;else d=f,f=a}else d=f,f=a;else d=f,f=a;return f}function Fd(){var f,v,k,j,z,W,Y;for(f=d,v=[],k=Ne();k!==a;)v.push(k),k=Ne();if(v!==a)if(i.substr(d,5)===T?(k=T,d+=5):(k=a,se(P)),k!==a){for(j=[],z=Ne();z!==a;)j.push(z),z=Ne();if(j!==a)if(z=Mn(),z!==a){for(W=[],Y=Ne();Y!==a;)W.push(Y),Y=Ne();W!==a?(i.charCodeAt(d)===46?(Y=c,d++):(Y=a,se(p)),Y!==a?(ke=f,v=x(z),f=v):(d=f,f=a)):(d=f,f=a)}else d=f,f=a;else d=f,f=a}else d=f,f=a;else d=f,f=a;return f}function Od(){var f,v,k,j,z,W,Y,X;for(f=d,v=[],k=Ne();k!==a;)v.push(k),k=Ne();if(v!==a)if(R.test(i.charAt(d))?(k=i.charAt(d),d++):(k=a,se(m)),k!==a)if(b.test(i.charAt(d))?(j=i.charAt(d),d++):(j=a,se(O)),j!==a)if(w.test(i.charAt(d))?(z=i.charAt(d),d++):(z=a,se(H)),z!==a)if(I.test(i.charAt(d))?(W=i.charAt(d),d++):(W=a,se(V)),W!==a){for(Y=[],X=Ne();X!==a;)Y.push(X),X=Ne();Y!==a?(X=Mn(),X!==a?(ke=f,v=x(X),f=v):(d=f,f=a)):(d=f,f=a)}else d=f,f=a;else d=f,f=a;else d=f,f=a;else d=f,f=a;else d=f,f=a;return f}function Ld(){var f,v,k,j,z,W,Y,X,Re,Ye,zr,Xr;for(f=d,v=[],k=Ne();k!==a;)v.push(k),k=Ne();if(v!==a)if(ee.test(i.charAt(d))?(k=i.charAt(d),d++):(k=a,se(Q)),k!==a)if(q.test(i.charAt(d))?(j=i.charAt(d),d++):(j=a,se(M)),j!==a)if(I.test(i.charAt(d))?(z=i.charAt(d),d++):(z=a,se(V)),z!==a)if(le.test(i.charAt(d))?(W=i.charAt(d),d++):(W=a,se(K)),W!==a)if(he.test(i.charAt(d))?(Y=i.charAt(d),d++):(Y=a,se(fe)),Y!==a)if(me.test(i.charAt(d))?(X=i.charAt(d),d++):(X=a,se(te)),X!==a){for(Re=[],Ye=Ne();Ye!==a;)Re.push(Ye),Ye=Ne();if(Re!==a)if(Ye=al(),Ye!==a){for(zr=[],Xr=Ne();Xr!==a;)zr.push(Xr),Xr=Ne();zr!==a?(Xr=Mn(),Xr!==a?(ke=f,v=F(Ye,Xr),f=v):(d=f,f=a)):(d=f,f=a)}else d=f,f=a;else d=f,f=a}else d=f,f=a;else d=f,f=a;else d=f,f=a;else d=f,f=a;else d=f,f=a;else d=f,f=a;else d=f,f=a;return f}function Bd(){var f,v,k;return f=d,v=xd(),v!==a?(k=ga(),k!==a?(ke=f,v=ce(v,k),f=v):(d=f,f=a)):(d=f,f=a),f===a&&(f=d,v=tl(),v!==a?(k=ga(),k===a&&(k=null),k!==a?(ke=f,v=J(v,k),f=v):(d=f,f=a)):(d=f,f=a)),f}function ga(){var f,v,k,j,z,W,Y,X,Re,Ye;if(f=d,v=ma(),v!==a)if(k=va(),k!==a){for(j=[],z=d,W=[],Y=Ne();Y!==a;)W.push(Y),Y=Ne();for(W!==a?(i.charCodeAt(d)===59?(Y=ve,d++):(Y=a,se(Fe)),Y!==a?(X=d,Re=ma(),Re!==a?(Ye=va(),Ye!==a?(ke=X,Re=$e(v,k,Re,Ye),X=Re):(d=X,X=a)):(d=X,X=a),X===a&&(X=null),X!==a?(ke=z,W=Pe(v,k,X),z=W):(d=z,z=a)):(d=z,z=a)):(d=z,z=a);z!==a;){for(j.push(z),z=d,W=[],Y=Ne();Y!==a;)W.push(Y),Y=Ne();W!==a?(i.charCodeAt(d)===59?(Y=ve,d++):(Y=a,se(Fe)),Y!==a?(X=d,Re=ma(),Re!==a?(Ye=va(),Ye!==a?(ke=X,Re=$e(v,k,Re,Ye),X=Re):(d=X,X=a)):(d=X,X=a),X===a&&(X=null),X!==a?(ke=z,W=Pe(v,k,X),z=W):(d=z,z=a)):(d=z,z=a)):(d=z,z=a)}j!==a?(ke=f,v=_e(v,k,j),f=v):(d=f,f=a)}else d=f,f=a;else d=f,f=a;return f}function va(){var f,v,k,j,z,W,Y;if(f=d,v=qn(),v!==a){for(k=[],j=d,z=[],W=Ne();W!==a;)z.push(W),W=Ne();for(z!==a?(i.charCodeAt(d)===44?(W=Te,d++):(W=a,se(At)),W!==a?(Y=qn(),Y!==a?(ke=j,z=Ut(v,Y),j=z):(d=j,j=a)):(d=j,j=a)):(d=j,j=a);j!==a;){for(k.push(j),j=d,z=[],W=Ne();W!==a;)z.push(W),W=Ne();z!==a?(i.charCodeAt(d)===44?(W=Te,d++):(W=a,se(At)),W!==a?(Y=qn(),Y!==a?(ke=j,z=Ut(v,Y),j=z):(d=j,j=a)):(d=j,j=a)):(d=j,j=a)}k!==a?(ke=f,v=Nr(v,k),f=v):(d=f,f=a)}else d=f,f=a;return f}function ma(){var f,v,k;if(f=d,v=qd(),v!==a&&(ke=f,v=h(v)),f=v,f===a){for(f=d,v=[],k=Ne();k!==a;)v.push(k),k=Ne();v!==a?(i.charCodeAt(d)===97?(k=ln,d++):(k=a,se(Sr)),k!==a?(ke=f,v=un(),f=v):(d=f,f=a)):(d=f,f=a)}return f}function xd(){var f,v;return f=d,v=rl(),v!==a&&(ke=f,v=_r(v)),f=v,f===a&&(f=nl(),f===a&&(f=Ii())),f}function qd(){var f,v,k;for(f=d,v=[],k=Ne();k!==a;)v.push(k),k=Ne();return v!==a?(k=Ii(),k!==a?(ke=f,v=h(k),f=v):(d=f,f=a)):(d=f,f=a),f}function qn(){var f,v;return f=Md(),f===a&&(f=d,v=rl(),v!==a&&(ke=f,v=Ie(v)),f=v,f===a&&(f=d,v=nl(),v!==a&&(ke=f,v=Ve(v)),f=v,f===a&&(f=d,v=tl(),v!==a&&(ke=f,v=h(v)),f=v,f===a&&(f=d,v=Ii(),v!==a&&(ke=f,v=It(v)),f=v)))),f}function Md(){var f;return f=Pd(),f===a&&(f=jd(),f===a&&(f=Ud())),f}function tl(){var f,v,k,j,z,W;for(f=d,v=[],k=Ne();k!==a;)v.push(k),k=Ne();if(v!==a)if(i.charCodeAt(d)===91?(k=dt,d++):(k=a,se($t)),k!==a)if(j=ga(),j!==a){for(z=[],W=Ne();W!==a;)z.push(W),W=Ne();z!==a?(i.charCodeAt(d)===93?(W=ut,d++):(W=a,se(Qt)),W!==a?(ke=f,v=h(j),f=v):(d=f,f=a)):(d=f,f=a)}else d=f,f=a;else d=f,f=a;else d=f,f=a;return f}function rl(){var f,v,k,j,z,W;for(f=d,v=[],k=Ne();k!==a;)v.push(k),k=Ne();if(v!==a)if(i.charCodeAt(d)===40?(k=et,d++):(k=a,se(lt)),k!==a){for(j=[],z=qn();z!==a;)j.push(z),z=qn();if(j!==a){for(z=[],W=Ne();W!==a;)z.push(W),W=Ne();z!==a?(i.charCodeAt(d)===41?(W=Bn,d++):(W=a,se($r)),W!==a?(ke=f,v=on(j),f=v):(d=f,f=a)):(d=f,f=a)}else d=f,f=a}else d=f,f=a;else d=f,f=a;return f}function jd(){var f,v,k;for(f=d,v=[],k=Ne();k!==a;)v.push(k),k=Ne();return v!==a?(k=Wd(),k===a&&(k=Gd(),k===a&&(k=Xd())),k!==a?(ke=f,v=h(k),f=v):(d=f,f=a)):(d=f,f=a),f}function Pd(){var f,v,k,j,z,W,Y;for(f=d,v=[],k=Ne();k!==a;)v.push(k),k=Ne();if(v!==a)if(k=ba(),k!==a){for(j=[],z=Ne();z!==a;)j.push(z),z=Ne();j!==a?(z=zd(),z!==a?(ke=f,v=gr(k,z),f=v):(d=f,f=a)):(d=f,f=a)}else d=f,f=a;else d=f,f=a;if(f===a){for(f=d,v=[],k=Ne();k!==a;)v.push(k),k=Ne();if(v!==a)if(k=ba(),k!==a){for(j=[],z=Ne();z!==a;)j.push(z),z=Ne();if(j!==a)if(i.substr(d,2)===wt?(z=wt,d+=2):(z=a,se(gi)),z!==a){for(W=[],Y=Ne();Y!==a;)W.push(Y),Y=Ne();W!==a?(Y=Ii(),Y!==a?(ke=f,v=Vr(k,Y),f=v):(d=f,f=a)):(d=f,f=a)}else d=f,f=a;else d=f,f=a}else d=f,f=a;else d=f,f=a;if(f===a){for(f=d,v=[],k=Ne();k!==a;)v.push(k),k=Ne();v!==a?(k=ba(),k!==a?(ke=f,v=h(k),f=v):(d=f,f=a)):(d=f,f=a)}}return f}function Ud(){var f,v,k;for(f=d,v=[],k=Ne();k!==a;)v.push(k),k=Ne();if(v!==a?(i.substr(d,4)===fn?(k=fn,d+=4):(k=a,se(ys)),k!==a?(ke=f,v=vr(),f=v):(d=f,f=a)):(d=f,f=a),f===a){for(f=d,v=[],k=Ne();k!==a;)v.push(k),k=Ne();v!==a?(i.substr(d,5)===xn?(k=xn,d+=5):(k=a,se(hc)),k!==a?(ke=f,v=pc(),f=v):(d=f,f=a)):(d=f,f=a)}return f}function ba(){var f,v,k;for(f=d,v=[],k=Ne();k!==a;)v.push(k),k=Ne();return v!==a?(k=Jd(),k===a&&(k=Zd(),k===a&&(k=Yd(),k===a&&(k=Qd()))),k!==a?(ke=f,v=h(k),f=v):(d=f,f=a)):(d=f,f=a),f}function Ii(){var f,v,k;for(f=d,v=[],k=Ne();k!==a;)v.push(k),k=Ne();if(v!==a?(k=Mn(),k!==a?(ke=f,v=h(k),f=v):(d=f,f=a)):(d=f,f=a),f===a){for(f=d,v=[],k=Ne();k!==a;)v.push(k),k=Ne();v!==a?(k=$d(),k!==a?(ke=f,v=h(k),f=v):(d=f,f=a)):(d=f,f=a)}return f}function $d(){var f,v;return f=Vd(),f===a&&(f=d,v=il(),v!==a&&(ke=f,v=_c(v)),f=v),f}function nl(){var f,v,k;for(f=d,v=[],k=Ne();k!==a;)v.push(k),k=Ne();if(v!==a?(k=Hd(),k!==a?(ke=f,v=h(k),f=v):(d=f,f=a)):(d=f,f=a),f===a){for(f=d,v=[],k=Ne();k!==a;)v.push(k),k=Ne();v!==a?(k=eh(),k!==a?(ke=f,v=h(k),f=v):(d=f,f=a)):(d=f,f=a)}return f}function Mn(){var f,v,k,j;if(f=d,i.charCodeAt(d)===60?(v=gc,d++):(v=a,se(vc)),v!==a){for(k=[],Ds.test(i.charAt(d))?(j=i.charAt(d),d++):(j=a,se(As)),j===a&&(j=tt());j!==a;)k.push(j),Ds.test(i.charAt(d))?(j=i.charAt(d),d++):(j=a,se(As)),j===a&&(j=tt());k!==a?(i.charCodeAt(d)===62?(j=mc,d++):(j=a,se(bc)),j!==a?(ke=f,v=wc(k),f=v):(d=f,f=a)):(d=f,f=a)}else d=f,f=a;return f}function il(){var f,v,k;return f=d,v=ll(),v===a&&(v=null),v!==a?(i.charCodeAt(d)===58?(k=mr,d++):(k=a,se(br)),k!==a?(ke=f,v=yc(v),f=v):(d=f,f=a)):(d=f,f=a),f}function al(){var f,v,k;return f=d,v=ll(),v===a&&(v=null),v!==a?(i.charCodeAt(d)===58?(k=mr,d++):(k=a,se(br)),k!==a?(ke=f,v=Dc(v),f=v):(d=f,f=a)):(d=f,f=a),f}function Vd(){var f,v,k;return f=d,v=il(),v!==a?(k=th(),k!==a?(ke=f,v=Ac(v,k),f=v):(d=f,f=a)):(d=f,f=a),f}function Hd(){var f,v,k,j,z,W,Y,X,Re,Ye;if(f=d,v=d,i.substr(d,2)===Es?(k=Es,d+=2):(k=a,se(Ec)),k!==a)if(j=ya(),j===a&&(ht.test(i.charAt(d))?(j=i.charAt(d),d++):(j=a,se(pt))),j!==a){for(z=[],W=_t();W!==a;)z.push(W),W=_t();if(z!==a){if(W=[],Y=d,X=[],i.charCodeAt(d)===46?(Re=c,d++):(Re=a,se(p)),Re!==a)for(;Re!==a;)X.push(Re),i.charCodeAt(d)===46?(Re=c,d++):(Re=a,se(p));else X=a;if(X!==a){if(Re=[],Ye=_t(),Ye!==a)for(;Ye!==a;)Re.push(Ye),Ye=_t();else Re=a;Re!==a?(X=[X,Re],Y=X):(d=Y,Y=a)}else d=Y,Y=a;for(;Y!==a;){if(W.push(Y),Y=d,X=[],i.charCodeAt(d)===46?(Re=c,d++):(Re=a,se(p)),Re!==a)for(;Re!==a;)X.push(Re),i.charCodeAt(d)===46?(Re=c,d++):(Re=a,se(p));else X=a;if(X!==a){if(Re=[],Ye=_t(),Ye!==a)for(;Ye!==a;)Re.push(Ye),Ye=_t();else Re=a;Re!==a?(X=[X,Re],Y=X):(d=Y,Y=a)}else d=Y,Y=a}W!==a?(k=[k,j,z,W],v=k):(d=v,v=a)}else d=v,v=a}else d=v,v=a;else d=v,v=a;return v!==a?f=i.substring(f,d):f=v,f}function zd(){var f,v,k,j,z,W,Y,X;if(f=d,i.charCodeAt(d)===64?(v=Tc,d++):(v=a,se(Cc)),v!==a){if(k=[],Ts.test(i.charAt(d))?(j=i.charAt(d),d++):(j=a,se(Cs)),j!==a)for(;j!==a;)k.push(j),Ts.test(i.charAt(d))?(j=i.charAt(d),d++):(j=a,se(Cs));else k=a;if(k!==a){if(j=[],z=d,i.charCodeAt(d)===45?(W=ca,d++):(W=a,se(da)),W!==a){if(Y=[],vi.test(i.charAt(d))?(X=i.charAt(d),d++):(X=a,se(mi)),X!==a)for(;X!==a;)Y.push(X),vi.test(i.charAt(d))?(X=i.charAt(d),d++):(X=a,se(mi));else Y=a;Y!==a?(ke=z,W=ks(k,Y),z=W):(d=z,z=a)}else d=z,z=a;for(;z!==a;)if(j.push(z),z=d,i.charCodeAt(d)===45?(W=ca,d++):(W=a,se(da)),W!==a){if(Y=[],vi.test(i.charAt(d))?(X=i.charAt(d),d++):(X=a,se(mi)),X!==a)for(;X!==a;)Y.push(X),vi.test(i.charAt(d))?(X=i.charAt(d),d++):(X=a,se(mi));else Y=a;Y!==a?(ke=z,W=ks(k,Y),z=W):(d=z,z=a)}else d=z,z=a;j!==a?(ke=f,v=kc(k,j),f=v):(d=f,f=a)}else d=f,f=a}else d=f,f=a;return f}function Xd(){var f,v,k,j,z,W;if(f=d,v=d,k=d,bi.test(i.charAt(d))?(j=i.charAt(d),d++):(j=a,se(wi)),j===a&&(j=null),j!==a){if(z=[],ht.test(i.charAt(d))?(W=i.charAt(d),d++):(W=a,se(pt)),W!==a)for(;W!==a;)z.push(W),ht.test(i.charAt(d))?(W=i.charAt(d),d++):(W=a,se(pt));else z=a;z!==a?(j=[j,z],k=j):(d=k,k=a)}else d=k,k=a;return k!==a?v=i.substring(v,d):v=k,v!==a&&(ke=f,v=Nc(v)),f=v,f}function Gd(){var f,v,k,j,z,W,Y,X;if(f=d,v=d,k=d,bi.test(i.charAt(d))?(j=i.charAt(d),d++):(j=a,se(wi)),j===a&&(j=null),j!==a){for(z=[],ht.test(i.charAt(d))?(W=i.charAt(d),d++):(W=a,se(pt));W!==a;)z.push(W),ht.test(i.charAt(d))?(W=i.charAt(d),d++):(W=a,se(pt));if(z!==a)if(i.charCodeAt(d)===46?(W=c,d++):(W=a,se(p)),W!==a){if(Y=[],ht.test(i.charAt(d))?(X=i.charAt(d),d++):(X=a,se(pt)),X!==a)for(;X!==a;)Y.push(X),ht.test(i.charAt(d))?(X=i.charAt(d),d++):(X=a,se(pt));else Y=a;Y!==a?(j=[j,z,W,Y],k=j):(d=k,k=a)}else d=k,k=a;else d=k,k=a}else d=k,k=a;return k!==a?v=i.substring(v,d):v=k,v!==a&&(ke=f,v=Sc(v)),f=v,f}function Wd(){var f,v,k,j,z,W,Y,X,Re;if(f=d,v=d,k=d,bi.test(i.charAt(d))?(j=i.charAt(d),d++):(j=a,se(wi)),j===a&&(j=null),j!==a){if(z=d,W=[],ht.test(i.charAt(d))?(Y=i.charAt(d),d++):(Y=a,se(pt)),Y!==a)for(;Y!==a;)W.push(Y),ht.test(i.charAt(d))?(Y=i.charAt(d),d++):(Y=a,se(pt));else W=a;if(W!==a)if(i.charCodeAt(d)===46?(Y=c,d++):(Y=a,se(p)),Y!==a){for(X=[],ht.test(i.charAt(d))?(Re=i.charAt(d),d++):(Re=a,se(pt));Re!==a;)X.push(Re),ht.test(i.charAt(d))?(Re=i.charAt(d),d++):(Re=a,se(pt));X!==a?(Re=wa(),Re!==a?(W=[W,Y,X,Re],z=W):(d=z,z=a)):(d=z,z=a)}else d=z,z=a;else d=z,z=a;if(z===a){if(z=d,i.charCodeAt(d)===46?(W=c,d++):(W=a,se(p)),W!==a){if(Y=[],ht.test(i.charAt(d))?(X=i.charAt(d),d++):(X=a,se(pt)),X!==a)for(;X!==a;)Y.push(X),ht.test(i.charAt(d))?(X=i.charAt(d),d++):(X=a,se(pt));else Y=a;Y!==a?(X=wa(),X!==a?(W=[W,Y,X],z=W):(d=z,z=a)):(d=z,z=a)}else d=z,z=a;if(z===a){if(z=d,W=[],ht.test(i.charAt(d))?(Y=i.charAt(d),d++):(Y=a,se(pt)),Y!==a)for(;Y!==a;)W.push(Y),ht.test(i.charAt(d))?(Y=i.charAt(d),d++):(Y=a,se(pt));else W=a;W!==a?(Y=wa(),Y!==a?(W=[W,Y],z=W):(d=z,z=a)):(d=z,z=a)}}z!==a?(j=[j,z],k=j):(d=k,k=a)}else d=k,k=a;return k!==a?v=i.substring(v,d):v=k,v!==a&&(ke=f,v=Rc(v)),f=v,f}function wa(){var f,v,k,j,z,W;if(f=d,v=d,Ic.test(i.charAt(d))?(k=i.charAt(d),d++):(k=a,se(Fc)),k!==a)if(bi.test(i.charAt(d))?(j=i.charAt(d),d++):(j=a,se(wi)),j===a&&(j=null),j!==a){if(z=[],ht.test(i.charAt(d))?(W=i.charAt(d),d++):(W=a,se(pt)),W!==a)for(;W!==a;)z.push(W),ht.test(i.charAt(d))?(W=i.charAt(d),d++):(W=a,se(pt));else z=a;z!==a?(k=[k,j,z],v=k):(d=v,v=a)}else d=v,v=a;else d=v,v=a;return v!==a?f=i.substring(f,d):f=v,f}function Qd(){var f,v,k,j;if(f=d,i.charCodeAt(d)===34?(v=yi,d++):(v=a,se(Di)),v!==a){for(k=[],Ns.test(i.charAt(d))?(j=i.charAt(d),d++):(j=a,se(Ss)),j===a&&(j=it(),j===a&&(j=tt()));j!==a;)k.push(j),Ns.test(i.charAt(d))?(j=i.charAt(d),d++):(j=a,se(Ss)),j===a&&(j=it(),j===a&&(j=tt()));k!==a?(i.charCodeAt(d)===34?(j=yi,d++):(j=a,se(Di)),j!==a?(ke=f,v=E(k),f=v):(d=f,f=a)):(d=f,f=a)}else d=f,f=a;return f}function Yd(){var f,v,k,j;if(f=d,i.charCodeAt(d)===39?(v=Ai,d++):(v=a,se(Ei)),v!==a){for(k=[],Rs.test(i.charAt(d))?(j=i.charAt(d),d++):(j=a,se(Is)),j===a&&(j=it(),j===a&&(j=tt()));j!==a;)k.push(j),Rs.test(i.charAt(d))?(j=i.charAt(d),d++):(j=a,se(Is)),j===a&&(j=it(),j===a&&(j=tt()));k!==a?(i.charCodeAt(d)===39?(j=Ai,d++):(j=a,se(Ei)),j!==a?(ke=f,v=E(k),f=v):(d=f,f=a)):(d=f,f=a)}else d=f,f=a;return f}function Jd(){var f,v,k,j,z,W,Y,X;if(f=d,i.substr(d,3)===Ti?(v=Ti,d+=3):(v=a,se(Fs)),v!==a){for(k=[],Kt.test(i.charAt(d))?(j=i.charAt(d),d++):(j=a,se(er)),j===a&&(j=it(),j===a&&(j=tt()));j!==a;)k.push(j),Kt.test(i.charAt(d))?(j=i.charAt(d),d++):(j=a,se(er)),j===a&&(j=it(),j===a&&(j=tt()));if(k!==a){if(j=[],z=d,i.substr(d,2)===Ci?(W=Ci,d+=2):(W=a,se(Os)),W!==a){if(Y=[],Kt.test(i.charAt(d))?(X=i.charAt(d),d++):(X=a,se(er)),X===a&&(X=it(),X===a&&(X=tt())),X!==a)for(;X!==a;)Y.push(X),Kt.test(i.charAt(d))?(X=i.charAt(d),d++):(X=a,se(er)),X===a&&(X=it(),X===a&&(X=tt()));else Y=a;Y!==a?(ke=z,W=Ls(k,Y),z=W):(d=z,z=a)}else d=z,z=a;if(z===a)if(z=d,i.charCodeAt(d)===39?(W=Ai,d++):(W=a,se(Ei)),W!==a){if(Y=[],Kt.test(i.charAt(d))?(X=i.charAt(d),d++):(X=a,se(er)),X===a&&(X=it(),X===a&&(X=tt())),X!==a)for(;X!==a;)Y.push(X),Kt.test(i.charAt(d))?(X=i.charAt(d),d++):(X=a,se(er)),X===a&&(X=it(),X===a&&(X=tt()));else Y=a;Y!==a?(ke=z,W=Bs(k,Y),z=W):(d=z,z=a)}else d=z,z=a;for(;z!==a;){if(j.push(z),z=d,i.substr(d,2)===Ci?(W=Ci,d+=2):(W=a,se(Os)),W!==a){if(Y=[],Kt.test(i.charAt(d))?(X=i.charAt(d),d++):(X=a,se(er)),X===a&&(X=it(),X===a&&(X=tt())),X!==a)for(;X!==a;)Y.push(X),Kt.test(i.charAt(d))?(X=i.charAt(d),d++):(X=a,se(er)),X===a&&(X=it(),X===a&&(X=tt()));else Y=a;Y!==a?(ke=z,W=Ls(k,Y),z=W):(d=z,z=a)}else d=z,z=a;if(z===a)if(z=d,i.charCodeAt(d)===39?(W=Ai,d++):(W=a,se(Ei)),W!==a){if(Y=[],Kt.test(i.charAt(d))?(X=i.charAt(d),d++):(X=a,se(er)),X===a&&(X=it(),X===a&&(X=tt())),X!==a)for(;X!==a;)Y.push(X),Kt.test(i.charAt(d))?(X=i.charAt(d),d++):(X=a,se(er)),X===a&&(X=it(),X===a&&(X=tt()));else Y=a;Y!==a?(ke=z,W=Bs(k,Y),z=W):(d=z,z=a)}else d=z,z=a}j!==a?(i.substr(d,3)===Ti?(z=Ti,d+=3):(z=a,se(Fs)),z!==a?(ke=f,v=xs(k,j),f=v):(d=f,f=a)):(d=f,f=a)}else d=f,f=a}else d=f,f=a;return f}function Zd(){var f,v,k,j,z,W,Y,X;if(f=d,i.substr(d,3)===ki?(v=ki,d+=3):(v=a,se(qs)),v!==a){for(k=[],tr.test(i.charAt(d))?(j=i.charAt(d),d++):(j=a,se(rr)),j===a&&(j=it(),j===a&&(j=tt()));j!==a;)k.push(j),tr.test(i.charAt(d))?(j=i.charAt(d),d++):(j=a,se(rr)),j===a&&(j=it(),j===a&&(j=tt()));if(k!==a){if(j=[],z=d,i.substr(d,2)===Ni?(W=Ni,d+=2):(W=a,se(Ms)),W!==a){if(Y=[],tr.test(i.charAt(d))?(X=i.charAt(d),d++):(X=a,se(rr)),X===a&&(X=it(),X===a&&(X=tt())),X!==a)for(;X!==a;)Y.push(X),tr.test(i.charAt(d))?(X=i.charAt(d),d++):(X=a,se(rr)),X===a&&(X=it(),X===a&&(X=tt()));else Y=a;Y!==a?(ke=z,W=js(k,Y),z=W):(d=z,z=a)}else d=z,z=a;if(z===a)if(z=d,i.charCodeAt(d)===34?(W=yi,d++):(W=a,se(Di)),W!==a){if(Y=[],tr.test(i.charAt(d))?(X=i.charAt(d),d++):(X=a,se(rr)),X===a&&(X=it(),X===a&&(X=tt())),X!==a)for(;X!==a;)Y.push(X),tr.test(i.charAt(d))?(X=i.charAt(d),d++):(X=a,se(rr)),X===a&&(X=it(),X===a&&(X=tt()));else Y=a;Y!==a?(ke=z,W=Ps(k,Y),z=W):(d=z,z=a)}else d=z,z=a;for(;z!==a;){if(j.push(z),z=d,i.substr(d,2)===Ni?(W=Ni,d+=2):(W=a,se(Ms)),W!==a){if(Y=[],tr.test(i.charAt(d))?(X=i.charAt(d),d++):(X=a,se(rr)),X===a&&(X=it(),X===a&&(X=tt())),X!==a)for(;X!==a;)Y.push(X),tr.test(i.charAt(d))?(X=i.charAt(d),d++):(X=a,se(rr)),X===a&&(X=it(),X===a&&(X=tt()));else Y=a;Y!==a?(ke=z,W=js(k,Y),z=W):(d=z,z=a)}else d=z,z=a;if(z===a)if(z=d,i.charCodeAt(d)===34?(W=yi,d++):(W=a,se(Di)),W!==a){if(Y=[],tr.test(i.charAt(d))?(X=i.charAt(d),d++):(X=a,se(rr)),X===a&&(X=it(),X===a&&(X=tt())),X!==a)for(;X!==a;)Y.push(X),tr.test(i.charAt(d))?(X=i.charAt(d),d++):(X=a,se(rr)),X===a&&(X=it(),X===a&&(X=tt()));else Y=a;Y!==a?(ke=z,W=Ps(k,Y),z=W):(d=z,z=a)}else d=z,z=a}j!==a?(i.substr(d,3)===ki?(z=ki,d+=3):(z=a,se(qs)),z!==a?(ke=f,v=xs(k,j),f=v):(d=f,f=a)):(d=f,f=a)}else d=f,f=a}else d=f,f=a;return f}function tt(){var f,v,k,j,z,W,Y,X,Re,Ye,zr;return f=d,i.substr(d,2)===Us?(v=Us,d+=2):(v=a,se(Oc)),v!==a?(k=d,j=xt(),j!==a?(z=xt(),z!==a?(W=xt(),W!==a?(Y=xt(),Y!==a?(X=xt(),X!==a?(Re=xt(),Re!==a?(Ye=xt(),Ye!==a?(zr=xt(),zr!==a?(j=[j,z,W,Y,X,Re,Ye,zr],k=j):(d=k,k=a)):(d=k,k=a)):(d=k,k=a)):(d=k,k=a)):(d=k,k=a)):(d=k,k=a)):(d=k,k=a)):(d=k,k=a),k!==a?(ke=f,v=Lc(k),f=v):(d=f,f=a)):(d=f,f=a),f===a&&(f=d,i.substr(d,2)===$s?(v=$s,d+=2):(v=a,se(Bc)),v!==a?(k=d,j=xt(),j!==a?(z=xt(),z!==a?(W=xt(),W!==a?(Y=xt(),Y!==a?(j=[j,z,W,Y],k=j):(d=k,k=a)):(d=k,k=a)):(d=k,k=a)):(d=k,k=a),k!==a?(ke=f,v=xc(k),f=v):(d=f,f=a)):(d=f,f=a)),f}function it(){var f,v;return f=d,i.substr(d,2)===Vs?(v=Vs,d+=2):(v=a,se(qc)),v!==a&&(ke=f,v=Mc()),f=v,f===a&&(f=d,i.substr(d,2)===Hs?(v=Hs,d+=2):(v=a,se(jc)),v!==a&&(ke=f,v=Pc()),f=v,f===a&&(f=d,i.substr(d,2)===zs?(v=zs,d+=2):(v=a,se(Uc)),v!==a&&(ke=f,v=$c()),f=v,f===a&&(f=d,i.substr(d,2)===Xs?(v=Xs,d+=2):(v=a,se(Vc)),v!==a&&(ke=f,v=Hc()),f=v,f===a&&(f=d,i.substr(d,2)===Gs?(v=Gs,d+=2):(v=a,se(zc)),v!==a&&(ke=f,v=Xc()),f=v,f===a&&(f=d,i.substr(d,2)===Ws?(v=Ws,d+=2):(v=a,se(Gc)),v!==a&&(ke=f,v=Wc()),f=v,f===a&&(f=d,i.substr(d,2)===Qs?(v=Qs,d+=2):(v=a,se(Qc)),v!==a&&(ke=f,v=Yc()),f=v,f===a&&(f=d,i.substr(d,2)===Ys?(v=Ys,d+=2):(v=a,se(Jc)),v!==a&&(ke=f,v=Zc()),f=v))))))),f}function Kd(){var f;return Kc.test(i.charAt(d))?(f=i.charAt(d),d++):(f=a,se(ed)),f}function eh(){var f,v,k,j;if(f=d,i.charCodeAt(d)===91?(v=dt,d++):(v=a,se($t)),v!==a){for(k=[],j=Ne();j!==a;)k.push(j),j=Ne();k!==a?(i.charCodeAt(d)===93?(j=ut,d++):(j=a,se(Qt)),j!==a?(ke=f,v=td(),f=v):(d=f,f=a)):(d=f,f=a)}else d=f,f=a;return f}function sl(){var f,v,k;return f=d,rd.test(i.charAt(d))?(v=i.charAt(d),d++):(v=a,se(nd)),v!==a?(id.test(i.charAt(d))?(k=i.charAt(d),d++):(k=a,se(ad)),k!==a?(ke=f,v=sd(v,k),f=v):(d=f,f=a)):(d=f,f=a),f===a&&(ld.test(i.charAt(d))?(f=i.charAt(d),d++):(f=a,se(ud))),f}function ya(){var f;return f=sl(),f===a&&(i.charCodeAt(d)===95?(f=od,d++):(f=a,se(fd))),f}function _t(){var f;return f=ya(),f===a&&(i.charCodeAt(d)===45?(f=ca,d++):(f=a,se(da)),f===a&&(ht.test(i.charAt(d))?(f=i.charAt(d),d++):(f=a,se(pt)),f===a&&(i.charCodeAt(d)===183?(f=cd,d++):(f=a,se(dd)),f===a&&(hd.test(i.charAt(d))?(f=i.charAt(d),d++):(f=a,se(pd)),f===a&&(_d.test(i.charAt(d))?(f=i.charAt(d),d++):(f=a,se(gd))))))),f}function ll(){var f,v,k,j,z,W,Y,X,Re;if(f=d,v=d,k=sl(),k!==a){for(j=[],z=_t();z!==a;)j.push(z),z=_t();if(j!==a){if(z=[],W=d,Y=[],i.charCodeAt(d)===46?(X=c,d++):(X=a,se(p)),X!==a)for(;X!==a;)Y.push(X),i.charCodeAt(d)===46?(X=c,d++):(X=a,se(p));else Y=a;if(Y!==a){if(X=[],Re=_t(),Re!==a)for(;Re!==a;)X.push(Re),Re=_t();else X=a;X!==a?(Y=[Y,X],W=Y):(d=W,W=a)}else d=W,W=a;for(;W!==a;){if(z.push(W),W=d,Y=[],i.charCodeAt(d)===46?(X=c,d++):(X=a,se(p)),X!==a)for(;X!==a;)Y.push(X),i.charCodeAt(d)===46?(X=c,d++):(X=a,se(p));else Y=a;if(Y!==a){if(X=[],Re=_t(),Re!==a)for(;Re!==a;)X.push(Re),Re=_t();else X=a;X!==a?(Y=[Y,X],W=Y):(d=W,W=a)}else d=W,W=a}z!==a?(k=[k,j,z],v=k):(d=v,v=a)}else d=v,v=a}else d=v,v=a;return v!==a?f=i.substring(f,d):f=v,f}function th(){var f,v,k,j,z,W,Y,X;if(f=d,v=ya(),v===a&&(i.charCodeAt(d)===58?(v=mr,d++):(v=a,se(br)),v===a&&(ht.test(i.charAt(d))?(v=i.charAt(d),d++):(v=a,se(pt)),v===a&&(v=Hr()))),v!==a){for(k=[],j=_t(),j===a&&(i.charCodeAt(d)===58?(j=mr,d++):(j=a,se(br)),j===a&&(j=Hr()));j!==a;)k.push(j),j=_t(),j===a&&(i.charCodeAt(d)===58?(j=mr,d++):(j=a,se(br)),j===a&&(j=Hr()));if(k!==a){if(j=[],z=d,W=[],i.charCodeAt(d)===46?(Y=c,d++):(Y=a,se(p)),Y!==a)for(;Y!==a;)W.push(Y),i.charCodeAt(d)===46?(Y=c,d++):(Y=a,se(p));else W=a;if(W!==a){if(Y=[],X=_t(),X===a&&(i.charCodeAt(d)===58?(X=mr,d++):(X=a,se(br)),X===a&&(X=Hr())),X!==a)for(;X!==a;)Y.push(X),X=_t(),X===a&&(i.charCodeAt(d)===58?(X=mr,d++):(X=a,se(br)),X===a&&(X=Hr()));else Y=a;Y!==a?(ke=z,W=Js(v,k,W,Y),z=W):(d=z,z=a)}else d=z,z=a;for(;z!==a;){if(j.push(z),z=d,W=[],i.charCodeAt(d)===46?(Y=c,d++):(Y=a,se(p)),Y!==a)for(;Y!==a;)W.push(Y),i.charCodeAt(d)===46?(Y=c,d++):(Y=a,se(p));else W=a;if(W!==a){if(Y=[],X=_t(),X===a&&(i.charCodeAt(d)===58?(X=mr,d++):(X=a,se(br)),X===a&&(X=Hr())),X!==a)for(;X!==a;)Y.push(X),X=_t(),X===a&&(i.charCodeAt(d)===58?(X=mr,d++):(X=a,se(br)),X===a&&(X=Hr()));else Y=a;Y!==a?(ke=z,W=Js(v,k,W,Y),z=W):(d=z,z=a)}else d=z,z=a}j!==a?(ke=f,v=vd(v,k,j),f=v):(d=f,f=a)}else d=f,f=a}else d=f,f=a;return f}function Hr(){var f;return f=rh(),f===a&&(f=nh()),f}function rh(){var f,v,k,j,z;return f=d,v=d,i.charCodeAt(d)===37?(k=md,d++):(k=a,se(bd)),k!==a?(j=xt(),j!==a?(z=xt(),z!==a?(k=[k,j,z],v=k):(d=v,v=a)):(d=v,v=a)):(d=v,v=a),v!==a?f=i.substring(f,d):f=v,f}function xt(){var f;return wd.test(i.charAt(d))?(f=i.charAt(d),d++):(f=a,se(yd)),f}function nh(){var f,v,k;return f=d,i.charCodeAt(d)===92?(v=Dd,d++):(v=a,se(Ad)),v!==a?(Ed.test(i.charAt(d))?(k=i.charAt(d),d++):(k=a,se(Td)),k!==a?(ke=f,v=h(k),f=v):(d=f,f=a)):(d=f,f=a),f}var ih=new Function("try {return this===window;}catch(e){ return false;}"),ul=ih()?window.URL:Sh.URL,ol=function(f){return f.match(/^[a-z](.*?):(.+?)/g)};function ah(f,v){var k={};return k[f]=v,k}var Ge={base:[],data:{},addBase:function(f){if(Ge.base.length===0){Ge.base.push(f);return}const v=Ge.base[Ge.base.length-1];v!==f&&Ge.base.push(new ul(f,v).toString())},addPrefix:function(f,v){const k=Ge.data[f];k===void 0?Ge.data[f]=[{uri:v,count:0}]:k[k.length-1].uri!==v&&k.push({uri:v,count:0})},hasPrefix:function(f){return this.data[f]!==void 0},resolve:function(f,v){const k=Object.keys(Ge.data).find(z=>f.indexOf(z+":")===0);if(k!==void 0){const z=Ge.data[k];if(z.length===1&&v!==!0&&ol(z[0].uri))return f;const W=z[z.length-1].uri;return f.replace(k+":",W)}else{var j=Ge.base.length===0?s.baseIRI:Ge.base[Ge.base.length-1];return!j||f.match(/^(http:|https:|urn:|file:)/)?f:f.indexOf("//")===0&&j?j.split("//")[0]+f:new ul(f,j).toString()}},increment:function(f){const v=Ge.data[f];v!==void 0&&v[v.length-1].count++},decrement:function(f){const v=Ge.data[f];v!==void 0&&v[v.length-1].count--},toJSON:function(){const f={};return Ge.base.length>0&&(f["@context"]===void 0&&(f["@context"]={}),f["@context"]["@base"]=Ge.base[0]),Object.keys(Ge.data).forEach(v=>{const k=Ge.data[v][0];k.uri==="http://www.w3.org/2001/XMLSchema#"&&k.count<1||ol(k.uri)&&(f["@context"]===void 0&&(f["@context"]={}),f["@context"][v]=k.uri)}),f}};function Da(f,v){if(f["@list"]===void 0||!v&&!f["@list"].find(z=>z["@list"]!==void 0))return f;if(f["@list"].length===0)return{"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};var k={},j=null;return f["@list"].forEach(z=>{j===null?j=k:(j["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={},j=j["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]),j["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"]=Da(z,!0),j["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}),k}if(Ri=u(),Ri!==a&&d===i.length)return Ri;throw Ri!==a&&d<i.length&&se(Cd()),Nd(ha,nr<i.length?i.charAt(nr):null,nr<i.length?_a(nr,nr+1):_a(nr,nr))}return{SyntaxError:e,parse:t}})})(Of);var Jp=Of.exports;function Zp(n){return new Kp(n)}var Kp=function(){function n(r){st(this,n),ge(this,"_notQNameChars",`	\r
 !"#$%&'()*.,+/;<=>?@[\\]^\`{|}~`),ge(this,"_notNameChars",this._notQNameChars+":"),ge(this,"validPrefix",new RegExp(/^[a-zA-Z][a-zA-Z0-9]*$/)),ge(this,"forbidden1",new RegExp(/[\\"\b\f\r\v\t\n\u0080-\uffff]/gm)),ge(this,"forbidden3",new RegExp(/[\\"\b\f\r\v\u0080-\uffff]/gm)),this.flags="",this.base=null,this.prefixes=[],this.namespaces=[];var e=Object.keys(eu());for(var t in e){var i=eu()[e[t]](""),s=e[t];this.prefixes[i]=s,this.namespaces[s]=i}this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.suggestPrefix("xml","reserved:reservedForFutureUse"),this.namespacesUsed=[],this.keywords=["a"],this.prefixchars="abcdefghijklmnopqustuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",this.incoming=null,this.formulas=[],this.store=r,this.rdfFactory=r.rdfFactory||Jt,this.xsd=Ff(this.rdfFactory)}return at(n,[{key:"setBase",value:function(e){return this.base=e,this}},{key:"setFlags",value:function(e){return this.flags=e||"",this}},{key:"toStr",value:function(e){var t=e.toNT();return e.termType==="Graph"&&(this.formulas[t]=e),t}},{key:"fromStr",value:function(e){if(e[0]==="{"){var t=this.formulas[e];return t||console.log("No formula object for "+e),t}return this.store.fromNT(e)}},{key:"setNamespaces",value:function(e){for(var t in e)this.setPrefix(t,e[t]);return this}},{key:"setPrefix",value:function(e,t){if(e.slice(0,7)!=="default"&&e.slice(0,2)!=="ns"&&!(!e||!t)){for(var i in this.prefixes)this.prefixes[i]==e&&delete this.prefixes[i];this.prefixes[t]=e,this.namespaces[e]=t}}},{key:"suggestPrefix",value:function(e,t){e.slice(0,7)!=="default"&&e.slice(0,2)!=="ns"&&(!e||!t||e in this.namespaces||t in this.prefixes||(this.prefixes[t]=e,this.namespaces[e]=t))}},{key:"suggestNamespaces",value:function(e){for(var t in e)this.suggestPrefix(t,e[t]);return this}},{key:"checkIntegrity",value:function(){var e,t;for(e in this.namespaces)if(this.prefixes[this.namespaces[e]]!==e)throw new Error("Serializer integity error 1: "+e+", "+this.namespaces[e]+", "+this.prefixes[this.namespaces[e]]+"!");for(t in this.prefixes)if(this.namespaces[this.prefixes[t]]!==t)throw new Error("Serializer integity error 2: "+t+", "+this.prefixs[t]+", "+this.namespaces[this.prefixes[t]]+"!")}},{key:"makeUpPrefix",value:function(e){var t=e;function i(o){return!this.validPrefix.test(o)||o==="ns"||o in this.namespaces?!1:(this.prefixes[e]=o,this.namespaces[o]=e,o)}var s=i.bind(this);"#/".indexOf(t[t.length-1])>=0&&(t=t.slice(0,-1));var a=t.lastIndexOf("/");a>=0&&(t=t.slice(a+1));for(var l=0;l<t.length&&this.prefixchars.indexOf(t[l]);)l++;if(t=t.slice(0,l),t.length<6&&s(t))return t;if(s(t.slice(0,3)))return t.slice(0,3);if(s(t.slice(0,2)))return t.slice(0,2);if(s(t.slice(0,4)))return t.slice(0,4);if(s(t.slice(0,1)))return t.slice(0,1);if(s(t.slice(0,5)))return t.slice(0,5);this.validPrefix.test(t)||(t="n");for(var u=0;;u++)if(s(t.slice(0,3)+u))return t.slice(0,3)+u}},{key:"rootSubjects",value:function(e){for(var t={},i={},s={},a=0;a<e.length;a++){var l=e[a],u=function(N){t.hasOwnProperty(N)||(t[N]=[]),t[N].push(l.subject)},o=[l.subject,l.predicate,l.object];o.map(function(y){y.termType==="BlankNode"?s[y.toNT()]=!0:y.termType==="Collection"&&y.elements.forEach(function(N){u(N)})}),u(e[a].object);var c=i[this.toStr(l.subject)];c||(c=[]),c.push(l),i[this.toStr(l.subject)]=c}var p=[];for(var h in i)if(i.hasOwnProperty(h)){var _=this.fromStr(h);if(_.termType!=="BlankNode"||!t[_]||t[_].length!==1){p.push(_);continue}}this.incoming=t;for(var g={},C=0;C<p.length;C++)g[p[C].toNT()]=!0;return{roots:p,subjects:i,rootsHash:g,incoming:t}}},{key:"toN3",value:function(e){return this.statementsToN3(e.statements)}},{key:"explicitURI",value:function(e){return this.flags.indexOf("r")<0&&this.base?e=Ea(this.base,e):this.flags.indexOf("u")>=0?e=t_(e):e=e_(decodeURI(e)),"<"+e+">"}},{key:"statementsToNTriples",value:function(e){var t=e.slice();t.sort();for(var i="",s="http://www.w3.org/1999/02/22-rdf-syntax-ns#",a=this,l=this.store,u=this.rdfFactory,o=function _(g){if(g.termType!=="Collection")return a.atomicTermToN3(g);for(var C=g.elements,y=l.sym(s+"nill"),N=C.length-1;N>=0;N--){var B=u.blankNode();i+=_(B)+" "+_(l.sym(s+"first"))+" "+_(C[N])+`.
`,i+=_(B)+" "+_(l.sym(s+"rest"))+" "+_(y)+`.
`,y=B}return a.atomicTermToN3(y)},c=0;c<t.length;c++){var p=t[c],h="";h+=o(p.subject)+" ",h+=o(p.predicate)+" ",h+=o(p.object)+" ",this.flags.indexOf("q")>=0&&(h+=o(p.why)+" "),h+=`.
`,i+=h}return i}},{key:"statementsToN3",value:function(e){var t=4,i=80,s=this.store,a={"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":"aaa:00"},l=function(x,R){return Gp(x,R,s,a)};e.sort(l),this.base&&!this.defaultNamespace&&(this.defaultNamespace=this.base+"#");var u={};this.flags.indexOf("s")<0&&(u["http://www.w3.org/2002/07/owl#sameAs"]="="),this.flags.indexOf("t")<0&&(u["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]="a"),this.flags.indexOf("i")<0&&(u["http://www.w3.org/2000/10/swap/log#implies"]="=>");var o=function(x){for(var R="",m=0;m<x;m++)R+=" ";return R},c=function P(x){for(var R="",m=0;m<x.length;m++){var b=x[m],O=typeof b=="string"?b:P(b);if(m!==0){var w=R.slice(-1)||" ";O===","||O===";"||O==="."&&!"0123456789.:".includes(w)||(R+=" ")}R+=O}return R},p=function P(x,R){var m="",b=1e5;R===void 0&&(R=-1);for(var O=0;O<x.length;O++){var w=x[O];if(typeof w!="string"){var H=P(w,R+1);if(H.length<10*(i-t*R)&&H.indexOf('"""')<0){var I=c(w);I.length<i-t*R&&(w=I,H="")}H&&(b=1e4),m+=H}if(typeof w=="string"){if(w.length===1&&m.slice(-1)===`
`&&",.;".indexOf(w)>=0){m=m.slice(0,-1),w=="."&&"0123456789.:".includes(m.charAt(m.length-1))&&(m+=" ",b+=1),m+=w+`
`,b+=1;continue}if(b<t*R+4||b+w.length+1<i&&";.".indexOf(m[m.length-2])<0)m=m.slice(0,-1)+" "+w+`
`,b+=w.length+1;else{var V=o(t*R)+w;m+=V+`
`,b=V.length,R<0&&(m+=`
`,b=1e5)}}}return m};function h(P){for(var x=this.rootSubjects(P),R=x.roots,m=[],b=0;b<R.length;b++){var O=R[b];m.push(g(O,x))}return m}var _=h.bind(this);function g(P,x){return P.termType==="BlankNode"&&!x.incoming[P]?B(P,x,!0).concat(["."]):[L(P,x)].concat([y(P,x)]).concat(["."])}function C(P,x){var R=[],m=null,b=x.subjects[this.toStr(P)]||[];if(typeof b>"u")throw new Error("Cant find statements for "+P);for(var O=[],w=0;w<b.length;w++){var H=b[w];H.predicate.uri===m?O.push(","):(m&&(R=R.concat([O]).concat([";"]),O=[]),R.push(u[H.predicate.uri]?u[H.predicate.uri]:L(H.predicate,x))),m=H.predicate.uri,O.push(B(H.object,x))}return R=R.concat([O]),R}var y=C.bind(this);function N(P,x,R){return P.termType==="BlankNode"&&(R||x.rootsHash[P.toNT()]===void 0)?x.subjects[this.toStr(P)]?["[",y(P,x),"]"]:"[]":L(P,x)}var B=N.bind(this);function E(P,x){var R,m;switch(P.termType){case"Graph":return m=["{"],m=m.concat(_(P.statements)),m.concat(["}"]);case"Collection":for(m=["("],R=0;R<P.elements.length;R++)m.push([B(P.elements[R],x)]);return m.push(")"),m;default:return this.atomicTermToN3(P)}}n.prototype.termToN3=L;var L=E.bind(this);function A(){var P="";this.flags.indexOf("d")<0&&this.defaultNamespace&&(P+="@prefix : "+this.explicitURI(this.defaultNamespace)+`.
`);for(var x in this.prefixes)this.prefixes.hasOwnProperty(x)&&this.namespacesUsed[x]&&(P+="@prefix "+this.prefixes[x]+": "+this.explicitURI(x)+`.
`);return P+`
`}var F=A.bind(this),T=_(e);return F()+p(T)}},{key:"atomicTermToN3",value:function(e,t){switch(e.termType){case"BlankNode":case"Variable":return e.toNT();case"Literal":var i=e.value;if(typeof i!="string")throw new TypeError("Value of RDF literal node must be a string");if(e.datatype&&this.flags.indexOf("x")<0)switch(e.datatype.uri){case"http://www.w3.org/2001/XMLSchema#integer":return i;case"http://www.w3.org/2001/XMLSchema#decimal":return i.indexOf(".")<0&&(i+=".0"),i;case"http://www.w3.org/2001/XMLSchema#double":{var s=i.toLowerCase().indexOf("e")>0;return i.indexOf(".")<0&&!s&&(i+=".0"),s||(i+="e0"),i}case"http://www.w3.org/2001/XMLSchema#boolean":return e.value==="1"?"true":"false"}var a=this.stringToN3(e.value);return e.language?a+="@"+e.language:e.datatype.equals(this.xsd.string)||(a+="^^"+this.atomicTermToN3(e.datatype,t)),a;case"NamedNode":return this.symbolToN3(e);case"DefaultGraph":return"";default:throw new Error("Internal: atomicTermToN3 cannot handle "+e+" of termType: "+e.termType)}}},{key:"stringToN3",value:function(e,t){t||(t="e");var i="",s,a,l,u,o;for(e.length>20&&e.slice(-1)!=='"'&&t.indexOf("n")<0&&(e.indexOf(`
`)>0||e.indexOf('"')>0)?(u='"""',o=this.forbidden3):(u='"',o=this.forbidden1),s=0;s<e.length;){o.lastIndex=0;var c=o.exec(e.slice(s));if(c==null)break;a=s+o.lastIndex-1,i+=e.slice(s,a);var p=e[a];p==='"'&&u==='"""'&&e.slice(a,a+3)!=='"""'?i+=p:(l=`\b\f\r	\v
\\"`.indexOf(p),l>=0?i+="\\"+'bfrtvn\\"'[l]:t.indexOf("e")>=0?i+="\\u"+("000"+p.charCodeAt(0).toString(16).toLowerCase()).slice(-4):i+=p),s=a+1}return u+i+e.slice(s)+u}},{key:"symbolToN3",value:function(e){var t=e.uri,i=t.indexOf("#");if(i<0&&this.flags.indexOf("/")<0&&(i=t.lastIndexOf("/")),i>=0&&this.flags.indexOf("p")<0&&(t.indexOf("http")===0||t.indexOf("ws")===0||t.indexOf("file")===0)){for(var s=!0,a=i+1;a<t.length;a++)if(this._notNameChars.indexOf(t[a])>=0){s=!1;break}if(s){var l=t.slice(i+1),u=t.slice(0,i+1);if(this.defaultNamespace&&this.defaultNamespace===u&&this.flags.indexOf("d")<0)return this.flags.indexOf("k")>=0&&this.keyords.indexOf(l)<0?l:":"+l;var o=this.prefixes[u];if(o||(o=this.makeUpPrefix(u)),o)return this.namespacesUsed[u]=!0,o+":"+l}}return this.explicitURI(t)}},{key:"writeStore",value:function(e){var t=this.store,i=t.fetcher,s=i&&i.appNode,a=this.store.index[3];for(var l in a){var u=t.fromNT(l);s&&u.equals(s)||e(`
`+this.atomicTermToN3(u)+" "+this.atomicTermToN3(t.sym("http://www.w3.org/2000/10/swap/log#semantics"))+" { "+this.statementsToN3(t.statementsMatching(void 0,void 0,void 0,u))+` }.
`)}t.statementsMatching(void 0,t.sym("http://www.w3.org/2007/ont/link#requestedURI")).map(function(p){e(`
<`+p.object.value+`> log:metadata {
`);var h=t.statementsMatching(void 0,void 0,void 0,p.subject);e(this.statementsToN3(this.statementsToN3(h))),e(`}.
`)});var o=[];s&&o.push(s);var c=[];o.map(function(p){c=c.concat(t.statementsMatching(void 0,void 0,void 0,p))}),e(this.statementsToN3(c))}},{key:"statementsToXML",value:function(e){var t=4,i=80,s=[];s["http://www.w3.org/1999/02/22-rdf-syntax-ns#"]=!0;var a="http://www.w3.org/1999/02/22-rdf-syntax-ns#_",l=function(b){for(var O="",w=0;w<b;w++)O+=" ";return O},u=function m(b){for(var O="",w=0;w<b.length;w++){var H=b[w],I=typeof H=="string"?H:m(H);O+=I}return O},o=function m(b,O){var w="",H,I=1e5;O||(O=0);for(var V=0;V<b.length;V++){var ee=b[V];if(typeof ee!="string"){var Q=m(ee,O+1);Q.length<10*(i-t*O)&&Q.indexOf('"""')<0&&(H=u(ee),H.length<i-t*O&&(ee="   "+H,Q="")),Q&&(I=1e4),w+=Q}typeof ee=="string"&&(I<t*O+4?(w=w.slice(0,-1)+" "+ee+`
`,I+=ee.length+1):(H=l(t*O)+ee,w+=H+`
`,I=H.length))}return w};function c(m){this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#");for(var b=this.rootSubjects(m),O=b.roots,w=[],H=0;H<O.length;H++){var I=O[H];w.push(y(I,b))}return w}var p=c.bind(this);function h(m){return typeof m>"u"?"@@@undefined@@@@":m.replace(/[&<"]/g,function(b){switch(b[0]){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;"}})}function _(m){return h(this.base?Ea(this.base,m.uri):m.uri)}var g=_.bind(this);function C(m,b){var O=[],w,H,I,V,ee=b.subjects[this.toStr(m)];if(typeof ee>"u")return E(m,b);ee.sort(function(he,fe){var me=he.predicate.uri,te=fe.predicate.uri;if(me.substring(0,a.length)===a||te.substring(0,a.length)===a)return me.localeCompare(te);var ce=me.substring(a.length),J=te.substring(a.length),ve=parseInt(ce,10),Fe=parseInt(J,10);return isNaN(ve)||isNaN(Fe)||ve!==ce||Fe!==J?me.localeCompare(te):ve-Fe});for(var Q=0;Q<ee.length;Q++){if(I=ee[Q],I.predicate.uri==="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"&&!w&&I.object.termType==="NamedNode"){w=I.object;continue}if(V=I.predicate,V.uri.substr(0,a.length)===a){var q=V.uri.substr(a.length),M=parseInt(q,10);q===M.toString()&&(V=this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#li"))}switch(H=A(V),I.object.termType){case"BlankNode":b.incoming[I.object].length===1?O=O.concat(["<"+H+' rdf:parseType="Resource">',y(I.object,b),"</"+H+">"]):O=O.concat(["<"+H+' rdf:nodeID="'+I.object.toNT().slice(2)+'"/>']);break;case"NamedNode":O=O.concat(["<"+H+' rdf:resource="'+g(I.object)+'"/>']);break;case"Literal":O=O.concat(["<"+H+(I.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+h(I.object.datatype.uri)+'"')+(I.object.language?' xml:lang="'+I.object.language+'"':"")+">"+h(I.object.value)+"</"+H+">"]);break;case"Collection":O=O.concat(["<"+H+' rdf:parseType="Collection">',N(I.object,b),"</"+H+">"]);break;default:throw new Error("Can't serialize object of type "+I.object.termType+" into XML")}}var le=w?A(w):"rdf:Description",K="";return m.termType==="BlankNode"?(!b.incoming[m]||b.incoming[m].length!==1)&&(K=' rdf:nodeID="'+m.toNT().slice(2)+'"'):K=' rdf:about="'+g(m)+'"',["<"+le+K+">"].concat([O]).concat(["</"+le+">"])}var y=C.bind(this);function N(m,b){for(var O=[],w=0;w<m.elements.length;w++)O.push(y(m.elements[w],b));return O}function B(m,b){var O=[],w=b.subjects[this.toStr(m)];if(!w)return O;w.sort();for(var H=0;H<w.length;H++){var I=w[H];switch(I.object.termType){case"BlankNode":b.rootsHash[I.object.toNT()]?O=O.concat(["<"+A(I.predicate)+' rdf:nodeID="'+I.object.toNT().slice(2)+'">',"</"+A(I.predicate)+">"]):O=O.concat(["<"+A(I.predicate)+' rdf:parseType="Resource">',E(I.object,b),"</"+A(I.predicate)+">"]);break;case"NamedNode":O=O.concat(["<"+A(I.predicate)+' rdf:resource="'+g(I.object)+'"/>']);break;case"Literal":O=O.concat(["<"+A(I.predicate)+(I.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+h(I.object.datatype.value)+'"')+(I.object.language?' xml:lang="'+I.object.language+'"':"")+">"+h(I.object.value)+"</"+A(I.predicate)+">"]);break;case"Collection":O=O.concat(["<"+A(I.predicate)+' rdf:parseType="Collection">',N(I.object,b),"</"+A(I.predicate)+">"]);break;default:throw new Error("Can't serialize object of type "+I.object.termType+" into XML")}}return O}var E=B.bind(this);function L(m){var b=m.uri,O=b.indexOf("#");if(O<0&&this.flags.indexOf("/")<0&&(O=b.lastIndexOf("/")),O<0)throw new Error("Cannot make qname out of <"+b+">");for(var w=O+1;w<b.length;w++)if(this._notNameChars.indexOf(b[w])>=0)throw new Error('Invalid character "'+b[w]+'" cannot be in XML qname for URI: '+b);var H=b.slice(O+1),I=b.slice(0,O+1);if(this.defaultNamespace&&this.defaultNamespace===I&&this.flags.indexOf("d")<0)return H;var V=this.prefixes[I];return V||(V=this.makeUpPrefix(I)),s[I]=!0,V+":"+H}var A=L.bind(this),F=p(e),T="<rdf:RDF";this.defaultNamespace&&(T+=' xmlns="'+h(this.defaultNamespace)+'"');for(var P in s)if(s.hasOwnProperty(P)){var x=this.base&&this.flags.includes("z")?Ea(this.base,P):P;T+=`
 xmlns:`+this.prefixes[P]+'="'+h(x)+'"'}T+=">";var R=[T,F,"</rdf:RDF>"];return o(R,-1)}},{key:"statementsToJsonld",value:function(e){var t=this.statementsToN3(e),i=Jp.parse(t);return JSON.stringify(i,null,2)}}])}();function e_(n){return encodeURI(n)}function t_(n){for(var r="",e,t=0;t<n.length;t++)e=n.charCodeAt(t),e>65535?r+="\\U"+("00000000"+e.toString(16)).slice(-8):e>126?r+="\\u"+("0000"+e.toString(16)).slice(-4):r+=n[t];return r}function ni(n,r,e,t,i,s){e=e||(n==null?void 0:n.value);var a=s||{};t=t||Yr;var l=void 0;try{var u=Zp(r);a.flags&&u.setFlags(a.flags);var o=r.statementsMatching(void 0,void 0,void 0,n);switch("namespaces"in r&&u.suggestNamespaces(r.namespaces),a.namespaces&&u.setNamespaces(a.namespaces),u.setBase(e),t){case Zn:return l=u.statementsToXML(o),c(null,l);case Vo:case Qh:return l=u.statementsToN3(o),c(null,l);case Yr:case Kh:return u.setFlags("si"),l=u.statementsToN3(o),c(null,l);case Yh:return u.setFlags("deinprstux"),l=u.statementsToNTriples(o),c(null,l);case $a:return u.setFlags("si dr"),l=u.statementsToJsonld(o),c(null,l);case Ha:case Va:return u.setFlags("deinprstux q"),l=u.statementsToNTriples(o),c(null,l);default:throw new Error("Serialize: Content-type "+t+" not supported for data write.")}}catch(p){if(i)return i(p,void 0);throw p}function c(p,h){if(i){i(p,h);return}else return h}}var r_=["blankNode","defaultGraph","literal","namedNode","quad","variable","supports"],Bi={first:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",rest:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",nil:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};function Lf(n,r,e){var t=[];return e.reduce(function(i,s,a,l){t.push(n.quad(i,n.namedNode(Bi.first),l[a]));var u;return a<l.length-1?(u=n.blankNode(),t.push(n.quad(i,n.namedNode(Bi.rest),u))):t.push(n.quad(i,n.namedNode(Bi.rest),n.namedNode(Bi.nil))),u},r),t}function Xt(n,r){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=n.length;for(e<0&&(e=t+e);e<t;e++)if(n[e]===r)return e;return-1}function n_(n,r){var e=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=i_(n))||r){e&&(n=e);var t=0,i=function(){};return{s:i,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(o){throw o},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,l;return{s:function(){e=e.call(n)},n:function(){var o=e.next();return s=o.done,o},e:function(o){a=!0,l=o},f:function(){try{!s&&e.return!=null&&e.return()}finally{if(a)throw l}}}}function i_(n,r){if(n){if(typeof n=="string")return tu(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return tu(n,r)}}function tu(n,r){(r==null||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function a_(n,r,e){return r=ct(r),Cr(n,Bf()?Reflect.construct(r,e||[],ct(n).constructor):r.apply(n,e))}function Bf(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bf=function(){return!!n})()}var xf=function(n){function r(){var e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};st(this,r),e=a_(this,r,[""]),e.statements=t,e.constraints=i,e.initBindings=s,e.optional=a,ge(e,"termType",ai),ge(e,"classOrder",lr.Graph),ge(e,"fetcher",void 0),ge(e,"isVar",0),ge(e,"ns",Ft),ge(e,"rdfFactory",void 0),e.rdfFactory=l&&l.rdfFactory||Jt;var u=n_(r_),o;try{var c=function(){var h=o.value;e[h]=function(){var _;return(_=e.rdfFactory)[h].apply(_,arguments)}};for(u.s();!(o=u.n()).done;)c()}catch(p){u.e(p)}finally{u.f()}return e}return Bt(r,n),at(r,[{key:"add",value:function(t,i,s,a){var l=this;return arguments.length===1&&t.forEach(function(u){return l.add(u.subject,u.predicate,u.object,u.graph)}),this.statements.push(this.rdfFactory.quad(t,i,s,a))}},{key:"addStatement",value:function(t){return this.add(t)}},{key:"bnode",value:function(t){return this.rdfFactory.blankNode(t)}},{key:"addAll",value:function(t){var i=this;t.forEach(function(s){i.add(s.subject,s.predicate,s.object,s.graph)})}},{key:"any",value:function(t,i,s,a){var l=this.anyStatementMatching(t,i,s,a);return l==null?null:t==null?l.subject:i==null?l.predicate:s==null?l.object:null}},{key:"anyValue",value:function(t,i,s,a){var l=this.any(t,i,s,a);return l?l.value:void 0}},{key:"anyJS",value:function(t,i,s,a){var l=this.any(t,i,s,a);return l?rt.toJS(l):void 0}},{key:"anyStatementMatching",value:function(t,i,s,a){var l=this.statementsMatching(t,i,s,a,!0);if(!(!l||l.length===0))return l[0]}},{key:"id",value:function(t){return this.rdfFactory.id(t)}},{key:"statementsMatching",value:function(t,i,s,a,l){var u=this.statements.filter(function(o){return(!t||t.equals(o.subject))&&(!i||i.equals(o.predicate))&&(!s||s.equals(o.object))&&(!a||a.equals(o.graph))});return l?u.length===0?[]:[u[0]]:u}},{key:"bottomTypeURIs",value:function(t){var i,s,a,l,u,o,c,p;i=[];for(var h in t)if(t.hasOwnProperty(h)){for(p=t[h],c=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),this.rdfFactory.namedNode(h)),s=!0,l=0,u=c.length;l<u;l++)if(a=c[l],o=a.uri,o in t){s=!1;break}s&&(i[h]=p)}return i}},{key:"collection",value:function(){return new Or}},{key:"each",value:function(t,i,s,a){var l=[],u=this.statementsMatching(t,i,s,a,!1);if(t==null)for(var o=0,c=u.length;o<c;o++)l.push(u[o].subject);else if(i==null)for(var p=0,h=u.length;p<h;p++)l.push(u[p].predicate);else if(s==null)for(var _=0,g=u.length;_<g;_++)l.push(u[_].object);else if(a==null)for(var C=0,y=u.length;C<y;C++)l.push(new yt(u[C].graph.value));return l}},{key:"equals",value:function(t){return t?this.hashString()===t.hashString():!1}},{key:"findMembersNT",value:function(t){var i,s,a,l,u,o,c,p,h,_,g,C,y,N;C={},C[t.toNT()]=!0,l={},o=this.transitiveClosure(C,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0);for(var B in o)if(o.hasOwnProperty(B)){c=this.statementsMatching(void 0,this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.fromNT(B));for(var E=0,L=c.length;E<L;E++)y=c[E],l[y.subject.toNT()]=y;p=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"),this.fromNT(B));for(var A=0,F=p.length;A<F;A++)for(u=p[A],h=this.statementsMatching(void 0,u),a=0,i=h.length;a<i;a++)y=h[a],l[y.subject.toNT()]=y;_=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"),this.fromNT(B));for(var T=0,P=_.length;T<P;T++)for(u=_[T],g=this.statementsMatching(void 0,u),N=0,s=g.length;N<s;N++)y=g[N],l[y.object.toNT()]=y}return l}},{key:"findMemberURIs",value:function(t){return this.NTtoURI(this.findMembersNT(t))}},{key:"findSubClassesNT",value:function(t){var i={};return i[t.toNT()]=!0,this.transitiveClosure(i,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0)}},{key:"findSuperClassesNT",value:function(t){var i={};return i[t.toNT()]=!0,this.transitiveClosure(i,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypesNT",value:function(t){var i,s,a,l,u,o,c,p,h;a="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",h=[],l=this.statementsMatching(t,void 0,void 0);for(var _=0,g=l.length;_<g;_++)if(p=l[_],p.predicate.uri===a)h[p.object.toNT()]=p;else{u=this.each(p.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"));for(var C=0,y=u.length;C<y;C++)s=u[C],h[s.toNT()]=p}o=this.statementsMatching(void 0,void 0,t);for(var N=0,B=o.length;N<B;N++){p=o[N],c=this.each(p.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"));for(var E=0,L=c.length;E<L;E++)i=c[E],h[i.toNT()]=p}return this.transitiveClosure(h,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypeURIs",value:function(t){return this.NTtoURI(this.findTypesNT(t))}},{key:"connectedStatements",value:function(t,i,s){s=s||[];for(var a=[t],l={},u={},o=[],c=this,p=function(_){var g=function(N){N.termType==="BlankNode"&&!l[N.value]&&(l[N.value]=!0,a.push(N))},C=c.statementsMatching(null,null,_,i).concat(c.statementsMatching(_,null,null,i));C=C.filter(function(y){if(s[y.predicate.value])return!1;var N=y.toNT();return u[N]?!1:(u[N]=!0,!0)}),C.forEach(function(y){g(y.subject),g(y.object)}),o=o.concat(C)};a.length;)p(a.shift());return o}},{key:"formula",value:function(t){return new r}},{key:"fromNT",value:function(t){var i,s,a;switch(t[0]){case"<":return this.sym(t.slice(1,-1));case'"':if(a=void 0,i=void 0,s=t.lastIndexOf('"'),s<t.length-1)if(t[s+1]==="@")a=t.slice(s+2);else if(t.slice(s+1,s+3)==="^^")i=this.fromNT(t.slice(s+3));else throw new Error("Can't convert string from NT: "+t);return t=t.slice(1,s),t=t.replace(/\\"/g,'"'),t=t.replace(/\\n/g,`
`),t=t.replace(/\\\\/g,"\\"),this.rdfFactory.literal(t,a||i);case"_":return this.rdfFactory.blankNode(t.slice(2));case"?":return new en(t.slice(1))}throw new Error("Can't convert from NT: "+t)}},{key:"holds",value:function(t,i,s,a){var l;if(arguments.length===1){if(!t)return!0;if(t instanceof Array){for(l=0;l<t.length;l++)if(!this.holds(t[l]))return!1;return!0}else{if(tp(t))return this.holds(t.subject,t.predicate,t.object,t.graph);if(t.statements)return this.holds(t.statements)}}var u=this.anyStatementMatching(t,i,s,a);return u!=null}},{key:"holdsStatement",value:function(t){return this.holds(t.subject,t.predicate,t.object,t.graph)}},{key:"list",value:function(t,i){if(i.rdfFactory.supports.COLLECTIONS){var s=i.rdfFactory.collection();return t.forEach(function(u){s.append(u)}),s}else{var a=i.rdfFactory.blankNode(),l=Lf(i.rdfFactory,a,t);return i.addAll(l),a}}},{key:"NTtoURI",value:function(t){var i,s,a={};for(i in t)t.hasOwnProperty(i)&&(s=t[i],i[0]==="<"&&(a[i.slice(1,-1)]=s));return a}},{key:"serialize",value:function(t,i,s,a){return ni(s,this,t,i,void 0,a)}},{key:"substitute",value:function(t){var i=this.statements.map(function(a){return a.substitute(t)}),s=new r;return s.addAll(i),s}},{key:"sym",value:function(t,i){if(i)throw new Error("This feature (kb.sym with 2 args) is removed. Do not assume prefix mappings.");return this.rdfFactory.namedNode(t)}},{key:"the",value:function(t,i,s,a){var l=this.any(t,i,s,a);return l}},{key:"transitiveClosure",value:function(t,i,s){var a,l,u,o,c,p,h={};Object.assign(h,t);for(var _={};;){if(p=function(){for(var g in h)if(h.hasOwnProperty(g))return g}(),p==null)return _;for(c=s?this.each(void 0,i,this.fromNT(p)):this.each(this.fromNT(p),i),l=0,u=c.length;l<u;l++)a=c[l],o=a.toNT(),!(o in _)&&(o in h||(h[o]=h[p]));_[p]=h[p],delete h[p]}}},{key:"topTypeURIs",value:function(t){var i,s,a,l,u,o,c,p;c=[];for(a in t)if(t.hasOwnProperty(a)){for(p=t[a],u=0,o=this.each(this.rdfFactory.namedNode(a),this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf")),i=0,l=o.length;i<l;i++)if(s=o[i],s.uri!=="http://www.w3.org/2000/01/rdf-schema#Resource"){u++;break}u||(c[a]=p)}return c["http://www.w3.org/2000/01/rdf-schema#Resource"]&&delete c["http://www.w3.org/2000/01/rdf-schema#Resource"],c["http://www.w3.org/2002/07/owl#Thing"]&&delete c["http://www.w3.org/2002/07/owl#Thing"],c}},{key:"toString",value:function(){return"{"+this.statements.join(`
`)+"}"}},{key:"variable",value:function(t){return new en(t)}},{key:"whether",value:function(t,i,s,a){return this.statementsMatching(t,i,s,a,!1).length}}])}(rt);rt.fromValue=Qo;var _n={xsd:Ft("http://www.w3.org/2001/XMLSchema#")};rt.toJS=function(n){return is(n)?n.elements.map(rt.toJS):zo(n)?n.datatype.equals(_n.xsd("boolean"))?n.value==="1"||n.value==="true":n.datatype.equals(_n.xsd("dateTime"))||n.datatype.equals(_n.xsd("date"))?new Date(n.value):n.datatype.equals(_n.xsd("integer"))||n.datatype.equals(_n.xsd("float"))||n.datatype.equals(_n.xsd("decimal"))?Number(n.value):n.value:n};var s_=at(function n(r,e){st(this,n),this.pat=new fi,this.vars=[],this.name=r,this.id=e});function ru(n,r,e,t){function i(A){var F="",T;for(T in A)A.hasOwnProperty(T)&&(F+="    "+T+" -> "+A[T]);return F}function s(A){var F="Bindings: ",T,P=A.length;for(T=0;T<P;T++)F+=i(A[T][0])+`;
	`;return F}function a(A,F,T,P){var x=T[A];if(x===void 0){if(A.isVar){var R=[];return R[A]=F,[[R,null]]}x=A}if(!x.complexType)return P.redirections[x]&&(x=P.redirections[x]),P.redirections[F]&&(F=P.redirections[F]),x.equals(F)||x.uri&&x.uri===Kn?[[[],null]]:[];if(A instanceof Array)return F instanceof Array?l(A,F,T):[];throw new Error("query.js: oops - code not written yet")}function l(A,F,T,P){var x;if(A.length!==F.length)return[];if(!A.length)return[[[],null]];var R=a(A[0],F[0],T,P);if(R.length===0)return R;var m=[],b,O=R.length,w,H,I,V,ee,Q;for(b=0;b<O;b++){w=R[b][0],Q=[];for(V in w)w.hasOwnProperty(V)&&(Q[V]=w[V]);for(V in T)T.hasOwnProperty(V)&&(Q[V]=T[V]);for(x=l(A.slice(1),F.slice(1),Q,P),I=x.length,H=0;H<I;H++){ee=x[H][0];for(V in w)w.hasOwnProperty(V)&&(ee[V]=w[V]);m.push([ee,null])}}return m}function u(A,F){var T=F[A];return T===void 0?A:T}function o(A,F){var T={},P;for(P in A)A.hasOwnProperty(P)&&(T[P]=A[P]);for(P in F)F.hasOwnProperty(P)&&(T[P]=F[P]);return T}function c(A,F){return this.trunkBindings=F,this.originalCallback=A,this.branches=[],this}c.prototype.checkAllDone=function(){var A;for(A=0;A<this.branches.length;A++)if(!this.branches[A].done)return;this.doCallBacks(this.branches.length-1,this.trunkBindings)},c.prototype.doCallBacks=function(A,F){var T;if(A<0)return this.originalCallback(F);for(T=0;T<this.branches[A].results.length;T++)this.doCallBacks(A-1,o(F,this.branches[A].results[T]))};function p(A,F){return this.count=0,this.success=!1,this.done=!1,this.callback=A,this.onDone=F,this}p.prototype.reportMatch=function(A){this.callback(A),this.success=!0},p.prototype.reportDone=function(){this.done=!0,this.onDone!==void 0&&this.onDone()};var h=function(F){return this.count=0,this.done=!1,this.results=[],this.junction=F,F.branches.push(this),this};h.prototype.reportMatch=function(A){this.results.push(A)},h.prototype.reportDone=function(){ir.debug("Optional branch finished - results.length = "+this.results.length),this.results.length===0&&this.results.push({}),this.done=!0,this.junction.checkAllDone()};function _(A,F,T){var P,x,R,m;for(F.nvars=0,F.index=null,P=[F.subject,F.predicate,F.object,F.why],m=[A.subjectIndex,A.predicateIndex,A.objectIndex,A.whyIndex],R=0;R<4;R++){var b=P[R];if(!(b.uri&&b.uri===Kn))if(b.isVar&&T[b]===void 0)F.nvars++;else{if(b=u(P[R],T),A.redirections[A.id(b)]&&(b=A.redirections[A.id(b)]),x=m[R][A.id(b)],!x)return F.index=[],!1;(F.index===null||F.index.length>x.length)&&(F.index=x)}}return F.index===null&&(F.index=A.statements),!0}function g(A,F){return A.nvars!==F.nvars?A.nvars-F.nvars:A.index.length-F.index.length}var C=0,y=function A(F,T,P,x,R,m,b){ir.debug("Match begins, Branch count now: "+b.count+" for "+b.pattern_debug);var O=T.statements;if(O.length===0){if(ir.debug("FOUND MATCH WITH BINDINGS:"+i(P)),T.optional.length===0)b.reportMatch(P);else{ir.debug("OPTIONAL: "+T.optional);var w=new c(r,P),H=[],I;for(I=0;I<T.optional.length;I++)H[I]=new h(w),H[I].pattern_debug=T.optional[I];for(I=0;I<T.optional.length;I++)H[I].count=H[I].count+1,A(F,T.optional[I],P,"",R,r,H[I])}b.count--,ir.debug("Match ends -- success , Branch count now: "+b.count+" for "+b.pattern_debug);return}var V,ee,Q=O.length;if(R){var q="match"+C++,M=function(K,he){var fe=K.uri.split("#")[0];R.nowOrWhenFetched(fe,void 0,function(me,te,ce){me||console.log("Error following link to <"+K.uri+"> in query: "+te),A(F,T,P,x,R,m,b)})};for(ee=0;ee<Q;ee++){if(V=O[ee],P[V.subject]!==void 0&&P[V.subject].uri&&R&&R.getState(wn(P[V.subject].uri))==="unrequested"){M(P[V.subject],q);return}if(P[V.object]!==void 0&&P[V.object].uri&&R&&R.getState(wn(P[V.object].uri))==="unrequested"){M(P[V.object],q);return}}}B(F,T,P,x,R,m,b)},N=function(F,T){var P=!0,x,R;for(x in F)F.hasOwnProperty(x)&&T[x]&&(R=T[x].test,R&&!R(F[x])&&(P=!1));return P},B=function(F,T,P,x,R,m,b){var O=T.statements,w=O.length,H,I,V,ee,Q,q,M;for(H=0;H<w;H++)M=O[H],_(F,M,P);O.sort(g),M=O[0];var le=F.formula();le.optional=T.optional,le.constraints=T.constraints,le.statements=O.slice(1),ir.debug(x+"match2 searching "+M.index.length+" for "+M+"; bindings so far="+i(P));var K,he=M.index.length,fe,me;for(K=0;K<he;K++)for(me=M.index[K],fe=l([M.subject,M.predicate,M.object,M.why],[me.subject,me.predicate,me.object,me.why],P,F),ir.info(x+" From first: "+fe.length+": "+s(fe)),V=fe.length,I=0;I<V;I++)if(Q=[],q=fe[I][0],!N(q,T.constraints))ir.debug("Branch count CS: "+b.count);else{for(ee in q)q.hasOwnProperty(ee)&&(Q[ee]=q[ee]);for(ee in P)P.hasOwnProperty(ee)&&(Q[ee]=P[ee]);b.count++,y(F,le,Q,x+"  ",R,m,b)}b.count--,ir.debug("Match2 ends, Branch count: "+b.count+" for "+b.pattern_debug),b.count===0&&b.reportDone()},E=this;ir.debug("Query on "+this.statements.length);var L=new p(r,t);L.count++,n.sync?y(E,n.pat,n.pat.initBindings,"",e,r,L):setTimeout(function(){y(E,n.pat,n.pat.initBindings,"",e,r,L)},0)}function nu(n,r){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);r&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,t)}return e}function $n(n){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?nu(Object(e),!0).forEach(function(t){ge(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):nu(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}function l_(n,r){var e=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=u_(n))||r){e&&(n=e);var t=0,i=function(){};return{s:i,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(o){throw o},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,l;return{s:function(){e=e.call(n)},n:function(){var o=e.next();return s=o.done,o},e:function(o){a=!0,l=o},f:function(){try{!s&&e.return!=null&&e.return()}finally{if(a)throw l}}}}function u_(n,r){if(n){if(typeof n=="string")return iu(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return iu(n,r)}}function iu(n,r){(r==null||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function o_(n,r,e){return r=ct(r),Cr(n,qf()?Reflect.construct(r,e||[],ct(n).constructor):r.apply(n,e))}function qf(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qf=function(){return!!n})()}var ka="http://www.w3.org/2002/07/owl#";function f_(n,r,e,t){var i=n.any(r,e,void 0);return i?(n.equate(i,t),!0):!1}function c_(n,r,e,t){var i=n.any(void 0,e,t);return i?(n.equate(i,r),!0):!1}function Mf(n,r,e,t,i){n.typeCallback&&n.typeCallback(n,t,i);var s=n.classActions[n.id(t)],a=!1;if(s)for(var l=0;l<s.length;l++)a=a||s[l](n,r,e,t,i);return a}var fi=function(n){function r(e){var t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return st(this,r),t=o_(this,r,[void 0,void 0,void 0,void 0,i]),ge(t,"updater",void 0),ge(t,"namespaces",void 0),ge(t,"classActions",void 0),ge(t,"propertyActions",void 0),ge(t,"redirections",void 0),ge(t,"aliases",void 0),ge(t,"HTTPRedirects",void 0),ge(t,"subjectIndex",void 0),ge(t,"predicateIndex",void 0),ge(t,"objectIndex",void 0),ge(t,"whyIndex",void 0),ge(t,"index",void 0),ge(t,"features",void 0),ge(t,"_universalVariables",void 0),ge(t,"_existentialVariables",void 0),ge(t,"rdfArrayRemove",void 0),ge(t,"dataCallbacks",void 0),t.propertyActions={},t.classActions={},t.redirections=[],t.aliases=[],t.HTTPRedirects=[],t.subjectIndex=[],t.predicateIndex=[],t.objectIndex=[],t.whyIndex=[],t.index=[t.subjectIndex,t.predicateIndex,t.objectIndex,t.whyIndex],t.namespaces={},t.features=e||[],t.rdfArrayRemove=i.rdfArrayRemove||Wp,i.dataCallback&&(t.dataCallbacks=[i.dataCallback]),t.initPropertyActions(t.features),t}return Bt(r,n),at(r,[{key:"substitute",value:function(t){var i=this.statements.map(function(a){return a.substitute(t)}),s=new r;return s.add(i),s}},{key:"addDataCallback",value:function(t){this.dataCallbacks||(this.dataCallbacks=[]),this.dataCallbacks.push(t)}},{key:"applyPatch",value:function(t,i,s){var a=this,l,u=null;function o(h){if(t.delete){l=t.delete,u&&(l=l.substitute(u)),l=l.statements;var _=[],g=l.map(function(C){var y=a.statementsMatching(C.subject,C.predicate,C.object,i);return y.length===0?(_.push(C),null):y[0]});if(_.length)return s("Could not find to delete: "+_.join(`
 or `));g.map(function(C){a.remove(C)})}t.insert&&(l=t.insert,u&&(l=l.substitute(u)),l=l.statements,l.map(function(C){C.graph=i,a.add(C.subject,C.predicate,C.object,C.graph)})),h()}if(t.where){var c=new s_("patch");c.pat=t.where,c.pat.statements.map(function(h){h.graph=ec(i.value)}),c.sync=!0;var p=[];a.query(c,function(_){p.push(_)},a.fetcher,function(){if(p.length===0)return s("No match found to be patched:"+t.where);if(p.length>1)return s("Patch ambiguous. No patch done.");u=p[0],o(s)})}else o(s)}},{key:"declareExistential",value:function(t){return this._existentialVariables||(this._existentialVariables=[]),this._existentialVariables.push(t),t}},{key:"initPropertyActions",value:function(t){this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))]=[Mf],Xt(t,"sameAs")>=0&&(this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(ka,"sameAs")))]=[function(i,s,a,l,u){return i.equate(s,l),!0}]),Xt(t,"InverseFunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(ka,"InverseFunctionalProperty")))]=[function(i,s,a,l,u){return i.newPropertyAction(s,c_)}]),Xt(t,"FunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(ka,"FunctionalProperty")))]=[function(i,s,a,l,u){return i.newPropertyAction(s,f_)}])}},{key:"addStatement",value:function(t){return this.add(t.subject,t.predicate,t.object,t.graph),this.statements.length}},{key:"add",value:function(t,i,s,a){var l;if(arguments.length===1){if(t instanceof Array)for(l=0;l<t.length;l++)this.add(t[l]);else vn(t)?this.add(t.subject,t.predicate,t.object,t.graph):Il(t)&&this.add(t.statements);return this}var u,o;a||(a=this.fetcher?this.fetcher.appNode:this.rdfFactory.defaultGraph()),typeof t=="string"&&(t=this.rdfFactory.namedNode(t)),i=rt.fromValue(i);var c=rt.fromValue(s);if(a=rt.fromValue(a),!np(t))throw new Error("Subject is not a subject type");if(!ip(i))throw new Error("Predicate ".concat(i," is not a predicate type"));if(!rp(c))throw new Error("Object ".concat(c," is not an object type"));if(!sp(a))throw new Error("Why is not a graph type");this.predicateCallback&&this.predicateCallback(this,i,a);var p=this.id(this.canon(i));u=this.propertyActions[p];var h=!1;if(u)for(l=0;l<u.length;l++)h=h||u[l](this,t,i,c,a);if(this.holds(t,i,c,a))return null;var _=[this.id(this.canon(t)),p,this.id(this.canon(c)),this.id(this.canon(a))];for(o=this.rdfFactory.quad(t,i,c,a),l=0;l<4;l++){var g=this.index[l],C=_[l];g[C]||(g[C]=[]),g[C].push(o)}if(this.statements.push(o),this.dataCallbacks){var y=l_(this.dataCallbacks),N;try{for(y.s();!(N=y.n()).done;){var B=N.value;B(o)}}catch(E){y.e(E)}finally{y.f()}}return o}},{key:"canon",value:function(t){if(!t)return t;var i=this.redirections[this.id(t)];if(i)return i;switch(t.termType){case an:return new fr(t.value);case Mr:return t;case Kr:return new as;case $o:return t;case ai:return t;case Rn:return new sr(t.value,t.language,t.datatype);case nn:return new yt(t.value);case qr:return new en(t.value);default:throw new Error("Term Type not recognized for canonization: ".concat(t.termType))}}},{key:"check",value:function(){this.checkStatementList(this.statements);for(var t=0;t<4;t++){var i=this.index[t];for(var s in i)i.hasOwnProperty(s)&&this.checkStatementList(i[s],t)}}},{key:"checkStatementList",value:function(t,i){i===void 0&&(i=0);for(var s=["subject","predicate","object","why"],a=" found in "+s[i]+" index.",l,u=0;u<t.length;u++){l=t[u];for(var o=[l.subject,l.predicate,l.object,l.graph],c=function(C,y){for(var N=0;N<C.length;N++)if(C[N].subject.equals(y.subject)&&C[N].predicate.equals(y.predicate)&&C[N].object.equals(y.object)&&C[N].why.equals(y.graph))return!0},p=0;p<4;p++){var h=this.canon(o[p]),_=this.id(h);this.index[p][_]&&c(this.index[p][_],l)}if(!c(this.statements,l))throw new Error("Statement list does not statement "+l+"@"+l.graph+a)}}},{key:"close",value:function(){return this}},{key:"compareTerms",value:function(t,i){return Object.prototype.hasOwnProperty.call(t,"compareTerm")?t.compareTerm(i):lr[t.termType]<lr[i.termType]?-1:lr[t.termType]>lr[i.termType]?1:t.value<i.value?-1:t.value>i.value?1:0}},{key:"copyTo",value:function(t,i,s){s||(s=[]);var a=this.statementsMatching(t);Xt(s,"two-direction")!==-1&&a.concat(this.statementsMatching(void 0,void 0,t));for(var l=0;l<a.length;l++){var u=a[l];switch(u.object.termType){case"NamedNode":this.add(i,u.predicate,u.object);break;case"Literal":case"BlankNode":case"Collection":this.add(i,u.predicate,u.object.copy(this))}Xt(s,"delete")!==-1&&this.remove(u)}}},{key:"equate",value:function(t,i){var s=this.canon(t),a=this.canon(i),l=this.compareTerms(s,a);return l?l<0?this.replaceWith(a,s):this.replaceWith(s,a):!0}},{key:"formula",value:function(t){return new r(t)}},{key:"length",get:function(){return this.statements.length}},{key:"match",value:function(t,i,s,a){return this.statementsMatching(rt.fromValue(t),rt.fromValue(i),rt.fromValue(s),rt.fromValue(a))}},{key:"mentionsURI",value:function(t){var i="<"+t+">";return!!this.subjectIndex[i]||!!this.objectIndex[i]||!!this.predicateIndex[i]}},{key:"newExistential",value:function(t){if(!t)return this.bnode();var i=this.sym(t);return this.declareExistential(i)}},{key:"newPropertyAction",value:function(t,i){var s=this.id(t);this.propertyActions[s]||(this.propertyActions[s]=[]),this.propertyActions[s].push(i);for(var a=this.statementsMatching(void 0,t,void 0),l=!1,u=0;u<a.length;u++)l=l||i(this,a[u].subject,t,a[u].object);return l}},{key:"newUniversal",value:function(t){var i=this.sym(t);return this._universalVariables||(this._universalVariables=[]),this._universalVariables.push(i),i}},{key:"variable",value:function(t){return new en(t)}},{key:"nextSymbol",value:function(t){for(var i=0;;i++){var s=t.value+"#n"+i;if(!this.mentionsURI(s))return this.sym(s)}}},{key:"query",value:function(t,i,s,a){return ru.call(this,t,i,s,a)}},{key:"querySync",value:function(t){var i=[];function s(u){i.push(u)}function a(){l=!0}var l=!1;if(t.sync=!0,ru.call(this,t,s,null,a),!l)throw new Error("Sync query should have called done function");return i}},{key:"remove",value:function(t){if(t instanceof Array){for(var i=0;i<t.length;i++)this.remove(t[i]);return this}if(Il(t))return this.remove(t.statements);var s=this.statementsMatching(t.subject,t.predicate,t.object,t.graph);if(!s.length)throw new Error("Statement to be removed is not on store: "+t);return this.removeStatement(s[0]),this}},{key:"removeDocument",value:function(t){this.removeMetadata(t);for(var i=this.statementsMatching(void 0,void 0,void 0,t).slice(),s=0;s<i.length;s++)this.removeStatement(i[s]);return this.removeMatches(t,null,null),this}},{key:"removeMetadata",value:function(t){for(var i=this.sym("chrome://TheCurrentSession"),s="http://www.w3.org/2007/ont/link#",a=this.statementsMatching(void 0,this.sym("".concat(s,"requestedURI")),this.rdfFactory.literal(t.value),i).map(function(_){return _.subject}),l=0;l<a.length;l++){var u=a[l];if(u!=null){var o=void 0,c=this.any(u,this.sym("".concat(s,"status")),null,i);if(c!=null){o=this.statementsMatching(c,this.sym("".concat(s,"status")),null,i).slice();for(var p=0;p<o.length;p++)this.removeStatement(o[p])}var h=this.any(u,this.sym("".concat(s,"response")),null,i);if(h!=null){o=this.statementsMatching(h,null,null,i).slice();for(var p=0;p<o.length;p++)this.removeStatement(o[p])}o=this.statementsMatching(u,null,null,i).slice();for(var p=0;p<o.length;p++)this.removeStatement(o[p])}}return this.removeMatches(this.sym(t.value),null,null,i),this}},{key:"removeMany",value:function(t,i,s,a,l){for(var u=this.statementsMatching(t,i,s,a,!1),o=[],c=0;c<u.length;c++)o.push(u[c]);for(l&&(o=o.slice(0,l)),c=0;c<o.length;c++)this.remove(o[c])}},{key:"removeMatches",value:function(t,i,s,a){return this.removeMany(t,i,s,a),this}},{key:"removeStatement",value:function(t){for(var i=[t.subject,t.predicate,t.object,t.graph],s=0;s<4;s++){var a=this.canon(i[s]),l=this.id(a);this.index[s][l]&&this.rdfArrayRemove(this.index[s][l],t)}return this.rdfArrayRemove(this.statements,t),this}},{key:"removeStatements",value:function(t){for(var i=0;i<t.length;i++)this.remove(t[i]);return this}},{key:"replaceWith",value:function(t,i){for(var s=this.id(t),a=this.id(i),l=function(c){var p=c[s];if(p){var h=c[a];h?c[a]=p.concat(h):c[a]=p,delete c[s]}},u=0;u<4;u++)l(this.index[u]);if(this.redirections[s]=i,t.value){if(this.aliases[a]||(this.aliases[a]=[]),this.aliases[a].push(t),this.aliases[s])for(u=0;u<this.aliases[s].length;u++)this.redirections[this.id(this.aliases[s][u])]=i,this.aliases[a].push(this.aliases[s][u]);this.add(i,this.sym("http://www.w3.org/2007/ont/link#uri"),t),this.fetcher&&this.fetcher.nowKnownAs(t,i)}return l(this.classActions),l(this.propertyActions),!0}},{key:"allAliases",value:function(t){var i=this.aliases[this.id(this.canon(t))]||[];return i.push(this.canon(t)),i}},{key:"sameThings",value:function(t,i){if(t.equals(i))return!0;var s=this.canon(t);if(!s)return!1;var a=this.canon(i);return a?s.value===a.value:!1}},{key:"setPrefixForURI",value:function(t,i){if(!(t==="tab"&&this.namespaces.tab)&&!(t.slice(0,2)==="ns"||t.slice(0,7)==="default")){for(var s in this.namespaces)this.namespaces[s]==i&&delete this.namespaces[s];this.namespaces[t]=i}}},{key:"statementsMatching",value:function(t,i,s,a,l){var u=[t,i,s,a],o=[],c=[],p=[],h,_;for(h=0;h<4;h++)o[h]=this.canon(rt.fromValue(u[h])),o[h]&&(p.push(h),c[h]=this.id(o[h]));if(p.length===0)return this.statements;if(p.length===1)return h=p[0],_=this.index[h][c[h]],_&&l&&_.length>1&&(_=_.slice(0,1)),_=_||[],_;var g=1e10,C,y;for(y=0;y<p.length;y++){if(h=p[y],_=this.index[h][c[h]],!_)return[];_.length<g&&(g=_.length,C=y)}for(var N=p[C],B=this.index[N][c[N]],E=p.slice(0,C).concat(p.slice(C+1)),L=[],A=["subject","predicate","object","why"],F=0;F<B.length;F++){var T=B[F];for(y=0;y<E.length;y++)if(h=E[y],!this.canon(T[A[h]]).equals(o[h])){T=null;break}if(T!=null&&(L.push(T),l))break}return L}},{key:"uris",value:function(t){var i=this.canon(t),s=this.aliases[this.id(i)];if(!i.value)return[];var a=[i.value];if(s)for(var l=0;l<s.length;l++)a.push(s[l].uri);return a}},{key:"serialize",value:function(t,i,s,a){var l,u=(l=a)!==null&&l!==void 0&&l.namespaces?$n($n({},this.namespaces),a.namespaces):$n({},this.namespaces);return a=$n($n({},a||{}),{},{namespaces:u}),ni(s,this,t,i,void 0,a)}}],[{key:"defaultGraphURI",get:function(){return Kn}}])}(xf);ge(fi,"handleRDFType",void 0);fi.handleRDFType=Mf;function Yn(n,r){var e=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=d_(n))||r){e&&(n=e);var t=0,i=function(){};return{s:i,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(o){throw o},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,l;return{s:function(){e=e.call(n)},n:function(){var o=e.next();return s=o.done,o},e:function(o){a=!0,l=o},f:function(){try{!s&&e.return!=null&&e.return()}finally{if(a)throw l}}}}function d_(n,r){if(n){if(typeof n=="string")return au(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return au(n,r)}}function au(n,r){(r==null||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}var Qr=Ft("http://www.w3.org/1999/02/22-rdf-syntax-ns#");function h_(n,r,e,t){var i=Yn(n.statementsMatching(e,null,null,t)),s;try{for(i.s();!(s=i.n()).done;){var a=s.value,l=new Jr(r,a.predicate,a.object,t);n.remove(a),n.add(l)}}catch(g){i.e(g)}finally{i.f()}var u=Yn(n.statementsMatching(null,e,null,t)),o;try{for(u.s();!(o=u.n()).done;){var c=o.value;n.remove(c),n.add(new Jr(c.subject,r,c.object,t))}}catch(g){u.e(g)}finally{u.f()}var p=Yn(n.statementsMatching(null,null,e,t)),h;try{for(p.s();!(h=p.n()).done;){var _=h.value;n.remove(_),n.add(new Jr(_.subject,_.predicate,r,t))}}catch(g){p.e(g)}finally{p.f()}}function p_(n,r){var e=Qr("nil"),t=Yn(n.statementsMatching(e,null,null,r)),i;try{for(t.s();!(i=t.n()).done;){var s=i.value;n.remove(s);var a=new Or;n.add(new Jr(a,s.predicate,s.object,r))}}catch(p){t.e(p)}finally{t.f()}var l=Yn(n.statementsMatching(null,null,e,r)),u;try{for(l.s();!(u=l.n()).done;){var o=u.value;if(!o.predicate.sameTerm(Qr("rest"))){n.remove(o);var c=new Or;n.add(new Jr(o.subject,o.predicate,c,r))}}}catch(p){l.e(p)}finally{l.f()}}function __(n,r){function e(i,s,a){var l=n.statementsMatching(i,Qr("rest"),null,r);if(l.length!==1)throw new Error("Bad list structure: no rest at ".concat(i));var u=n.statementsMatching(i,Qr("first"),null,r);if(u.length!==1)throw new Error("Bad list structure: rest but ".concat(u.length," firsts at ").concat(i));var o=u[0].object,c=[o].concat(s),p=a.concat(l).concat(u),h=n.statementsMatching(null,Qr("rest"),i,r);if(h.length===0){var _=new Or(c);n.remove(p),h_(n,_,i,r);return}if(h.length!==1)throw new Error("Bad list structure: ".concat(h.length," pres at ").concat(i));var g=h[0].subject;if(g.termType!=="BlankNode")throw new Error("Bad list element node ".concat(g," type: ").concat(g.termType," "));e(g,c,p)}p_(n,r);var t=n.statementsMatching(null,Qr("rest"),Qr("nil"),r);t.forEach(function(i){if(i.subject.termType!=="BlankNode")throw new Error("Bad list element node ".concat(i.subject," type: ").concat(i.subject.termType," "));e(i.subject,[],[])})}function g_(n){return encodeURI(n)}var v_={encode:function(r){r=r.replace(/\r\n/g,`
`);for(var e="",t=0;t<r.length;t++){var i=r.charCodeAt(t);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(i&63|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(i&63|128))}return e},decode:function(r){for(var e="",t=0;t<r.length;){var i=r.charCodeAt(t);i<128?(e+=String.fromCharCode(i),t++):i>191&&i<224?(e+=String.fromCharCode((i&31)<<6|r.charCodeAt(t+1)&63),t+=2):(e+=String.fromCharCode((i&15)<<12|(r.charCodeAt(t+1)&63)<<6|r.charCodeAt(t+2)&63),t+=3)}return e}},Na="http://www.w3.org/2000/10/swap/log#",gt=function(r){return r},vt=function(r){return r},Vn=function(r){if(r.length>0)throw"missing.js: oops nnonempty dict not imp";return[]},zt=function(r){return r.length},Sa=function(r,e,t){if(typeof r.slice>"u")throw"@@ mising.js: No .slice function for "+r+" of type "+Ht(r);return typeof t>"u"||t==null?r.slice(e):r.slice(e,t)},Xn=Error("dummy error stop iteration"),xi=function(r){return this.last=0,this.li=r,this.next=function(){if(this.last==this.li.length)throw Xn;return this.li[this.last++]},this},Ra=function(r,e){return r.indexOf(e)},Gr=function(r,e){if(!r)throw e?"python Assertion failed: "+e:"(python) Assertion failed."},m_=function(r){return String.fromCharCode(r)};String.prototype.encode=function(n){if(n!="utf-8")throw"UTF8_converter: can only do utf-8";return v_.encode(this)};String.prototype.decode=function(n){if(n!="utf-8")throw"UTF8_converter: can only do utf-8";return this};var Ia=function(r,e){return Gt(e,r)},b_=null,w_="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",su="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",lu="http://www.w3.org/2002/07/owl#sameAs",y_="#",D_="http://www.w3.org/2001/XMLSchema#integer",A_="http://www.w3.org/2001/XMLSchema#double",E_="http://www.w3.org/2001/XMLSchema#decimal",T_="http://www.w3.org/2001/XMLSchema#date",C_="http://www.w3.org/2001/XMLSchema#dateTime",jf=`	\r
 !"#$%&'()*.,+/;<=>?@[\\]^\`{|}~`,Wr=jf+":",Fa=new RegExp("^([-+]?[0-9]+)(\\.[0-9]+)?(e[-+]?[0-9]+)?","g"),uu=new RegExp("^[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9](T[0-9][0-9]:[0-9][0-9](:[0-9][0-9](\\.[0-9]*)?)?)?Z?"),Oa=new RegExp('[\\\\\\r\\n\\"]',"g"),La=new RegExp("^[a-zA-Z0-9]+(-[a-zA-Z0-9]+)*","g");function gs(n,r,e,t,i,s,a,l){return new k_(n,r,e,t,i,s,a,l)}var k_=function(){function n(r,e,t,i,s,a,l,u){st(this,n),typeof e>"u"&&(e=null),typeof t>"u"&&(t=""),typeof i>"u"&&(i=null),typeof s>"u"&&(s=""),typeof l>"u"&&(l=""),typeof u>"u"&&(u=null),this._bindings=new Vn([]),this._flags=l,t!=""&&(Gr(t.indexOf(":")>=0,"Document URI not absolute: "+t),this._bindings[""]=t+"#"),this._store=r,s&&r.setGenPrefix(s),this._thisDoc=t,this.source=r.sym(t),this.lines=0,this.statementCount=0,this.hasNil=!1,this.startOfLine=0,this.previousLine=0,this._genPrefix=s,this.keywords=new vt(["a","this","bind","has","is","of","true","false"]),this.keywordsSet=0,this._anonymousNodes=new Vn([]),this._variables=new Vn([]),this._parentVariables=new Vn([]),this._reason=u,this._reason2=null,i?this._baseURI=i:t?this._baseURI=t:this._baseURI=null,Gr(!this._baseURI||this._baseURI.indexOf(":")>=0),this._genPrefix||(this._thisDoc?this._genPrefix=this._thisDoc+"#_g":this._genPrefix=RDFSink_uniqueURI()),e==null?this._thisDoc?this._formula=r.formula(t+"#_formula"):this._formula=r.formula():this._formula=e,this._context=this._formula,this._parentContext=null}return at(n,[{key:"here",value:function(e){return this._genPrefix+"_L"+this.lines+"C"+(e-this.startOfLine+1)}},{key:"formula",value:function(){return this._formula}},{key:"loadStream",value:function(e){return this.loadBuf(e.read())}},{key:"loadBuf",value:function(e){return this.startDoc(),this.feed(e),this.endDoc()}},{key:"feed",value:function(e){for(var t=e.decode("utf-8"),i=0;i>=0;){var s=this.skipSpace(t,i);if(s<0)return;var i=this.directiveOrStatement(t,s);if(i<0)throw Oe(this._thisDoc,this.lines,t,s,"expected directive or statement")}}},{key:"directiveOrStatement",value:function(e,t){var i=this.skipSpace(e,t);if(i<0)return i;var s=this.directive(e,i);if(s>=0)return this.checkDot(e,s);var s=this.statement(e,i);return s>=0?this.checkDot(e,s):s}},{key:"tok",value:function(e,t,i){if(t.slice(i,i+1)=="@")var i=i+1;else if(Xt(this.keywords,e)<0)return-1;var s=i+zt(e);return t.slice(i,s)==e&&jf.indexOf(t.charAt(s))>=0?s:-1}},{key:"directive",value:function(e,t){var o=this.skipSpace(e,t);if(o<0)return o;var i=new vt([]),o=this.tok("bind",e,t);if(o>0)throw Oe(this._thisDoc,this.lines,e,t,"keyword bind is obsolete: use @prefix");var o=this.tok("keywords",e,t);if(o>0){var t=this.commaSeparatedList(e,o,i,!1);if(t<0)throw Oe(this._thisDoc,this.lines,e,t,"'@keywords' needs comma separated list of words");return this.setKeywords(Sa(i,null,null)),t}var o=this.tok("forAll",e,t);if(o>0){var t=this.commaSeparatedList(e,o,i,!0);if(t<0)throw Oe(this._thisDoc,this.lines,e,t,"Bad variable list after @forAll");var s=new xi(i);try{for(;;){var a=s.next();(Xt(this._variables,a)<0||Xt(this._parentVariables,a)>=0)&&(this._variables[a]=this._context.newUniversal(a))}}catch(p){if(p!=Xn)throw p}return t}var o=this.tok("forSome",e,t);if(o>0){var t=this.commaSeparatedList(e,o,i,this.uri_ref2);if(t<0)throw Oe(this._thisDoc,this.lines,e,t,"Bad variable list after @forSome");var s=new xi(i);try{for(;;){var a=s.next();this._context.declareExistential(a)}}catch(h){if(h!=Xn)throw h}return t}var o=this.tok("prefix",e,t);if(o>=0){var l=new vt([]),t=this.qname(e,o,l);if(t<0)throw Oe(this._thisDoc,this.lines,e,o,"expected qname after @prefix");var o=this.uri_ref2(e,t,l);if(o<0)throw Oe(this._thisDoc,this.lines,e,t,"expected <uriref> after @prefix _qname_");var u=l[1].uri;if(this._baseURI)var u=Ia(this._baseURI,u);else Gr(u.indexOf(":")>=0,"With no base URI, cannot handle relative URI for NS");return Gr(u.indexOf(":")>=0),this._bindings[l[0][0]]=u,this.bind(l[0][0],g_(u)),o}var o=this.tok("base",e,t);if(o>=0){var l=new vt([]),t=this.uri_ref2(e,o,l);if(t<0)throw Oe(this._thisDoc,this.lines,e,o,"expected <uri> after @base ");var u=l[0].uri;if(this._baseURI)var u=Ia(this._baseURI,u);else throw Oe(this._thisDoc,this.lines,e,o,"With no previous base URI, cannot use relative URI in @base  <"+u+">");return Gr(u.indexOf(":")>=0),this._baseURI=u,t}return-1}},{key:"bind",value:function(e,t){e==""||this._store.setPrefixForURI(e,t)}},{key:"setKeywords",value:function(e){e==null?this.keywordsSet=0:(this.keywords=e,this.keywordsSet=1)}},{key:"startDoc",value:function(){}},{key:"endDoc",value:function(){return this.hasNil&&this._store.rdfFactory.supports.COLLECTIONS&&__(this._store,this.source),this._formula}},{key:"makeStatement",value:function(e){e[0].add(e[2],e[1],e[3],this.source),(e[2].uri&&e[2].uri===su||e[3].uri&&e[3].uri===su)&&(this.hasNil=!0),this.statementCount+=1}},{key:"statement",value:function(e,s){var i=new vt([]),s=this.object(e,s,i);if(s<0)return s;var a=this.property_list(e,s,i[0]);if(a<0)throw Oe(this._thisDoc,this.lines,e,s,"expected propertylist");return a}},{key:"subject",value:function(e,t,i){return this.item(e,t,i)}},{key:"verb",value:function(e,t,i){var a=this.skipSpace(e,t);if(a<0)return a;var s=new vt([]),a=this.tok("has",e,t);if(a>=0){var t=this.prop(e,a,s);if(t<0)throw Oe(this._thisDoc,this.lines,e,a,"expected property after 'has'");return i.push(new gt(["->",s[0]])),t}var a=this.tok("is",e,t);if(a>=0){var t=this.prop(e,a,s);if(t<0)throw Oe(this._thisDoc,this.lines,e,a,"expected <property> after 'is'");var a=this.skipSpace(e,t);if(a<0)throw Oe(this._thisDoc,this.lines,e,t,"End of file found, expected property after 'is'");var t=a,a=this.tok("of",e,t);if(a<0)throw Oe(this._thisDoc,this.lines,e,t,"expected 'of' after 'is' <prop>");return i.push(new gt(["<-",s[0]])),a}var a=this.tok("a",e,t);if(a>=0)return i.push(new gt(["->",this._store.sym(w_)])),a;if(e.slice(t,t+2)=="<=")return i.push(new gt(["<-",this._store.sym(Na+"implies")])),t+2;if(e.slice(t,t+1)=="=")return e.slice(t+1,t+2)==">"?(i.push(new gt(["->",this._store.sym(Na+"implies")])),t+2):(i.push(new gt(["->",this._store.sym(lu)])),t+1);if(e.slice(t,t+2)==":=")return i.push(new gt(["->",Na+"becomes"])),t+2;var a=this.prop(e,t,s);if(a>=0)return i.push(new gt(["->",s[0]])),a;if(e.slice(t,t+2)==">-"||e.slice(t,t+2)=="<-")throw Oe(this._thisDoc,this.lines,e,a,">- ... -> syntax is obsolete.");return-1}},{key:"prop",value:function(e,t,i){return this.item(e,t,i)}},{key:"item",value:function(e,t,i){return this.path(e,t,i)}},{key:"blankNode",value:function(e){return this._context.bnode(e,this._reason2)}},{key:"path",value:function(e,t,i){var s=this.nodeOrLiteral(e,t,i);if(s<0)return s;for(;"!^.".indexOf(e.slice(s,s+1))>=0;){var a=e.slice(s,s+1);if(a=="."){var l=e.slice(s+1,s+2);if(!l||Wr.indexOf(l)>=0&&":?<[{(".indexOf(l)<0)break}var u=i.pop(),o=this.blankNode(this.here(s)),s=this.node(e,s+1,i);if(s<0)throw Oe(this._thisDoc,this.lines,e,s,"EOF found in middle of path syntax");var c=i.pop();a=="^"?this.makeStatement(new gt([this._context,c,o,u])):this.makeStatement(new gt([this._context,c,u,o])),i.push(o)}return s}},{key:"anonymousNode",value:function(e){var t=this._anonymousNodes[e];if(t)return t;var t=this._store.bnode(e);return this._anonymousNodes[e]=t,t}},{key:"node",value:function(e,l,i,s){typeof s>"u"&&(s=null);var a=s,F=this.skipSpace(e,l);if(F<0)return F;var l=F,u=e.slice(l,l+1);if(u=="["){var o=this.here(l),F=this.skipSpace(e,l+1);if(F<0)throw Oe(this._thisDoc,this.lines,e,l,"EOF after '['");if(e.slice(F,F+1)=="="){var l=F+1,c=new vt([]),F=this.objectList(e,l,c);if(F>=0){var a=c[0];if(zt(c)>1){var p=new xi(c);try{for(;;){var h=p.next();this.makeStatement(new gt([this._context,this._store.sym(lu),a,h]))}}catch(O){if(O!=Xn)throw O}}var F=this.skipSpace(e,F);if(F<0)throw Oe(this._thisDoc,this.lines,e,l,"EOF when objectList expected after [ = ");if(e.slice(F,F+1)==";")var F=F+1}else throw Oe(this._thisDoc,this.lines,e,l,"objectList expected after [= ")}if(a==null)var a=this.blankNode(o);var l=this.property_list(e,F,a);if(l<0)throw Oe(this._thisDoc,this.lines,e,F,"property_list expected");var F=this.skipSpace(e,l);if(F<0)throw Oe(this._thisDoc,this.lines,e,l,"EOF when ']' expected after [ <propertyList>");if(e.slice(F,F+1)!="]")throw Oe(this._thisDoc,this.lines,e,F,"']' expected");return i.push(a),F+1}if(u=="{"){var _=e.slice(l+1,l+2);if(_=="$"){l+=1;for(var F=l+1,g=new vt([]),C=!0;;){var l=this.skipSpace(e,F);if(l<0)throw Oe(this._thisDoc,this.lines,e,l,"needed '$}', found end.");if(e.slice(l,l+2)=="$}"){var F=l+2;break}if(C)var C=!1;else if(e.slice(l,l+1)==",")l+=1;else throw Oe(this._thisDoc,this.lines,e,l,"expected: ','");var y=new vt([]),F=this.item(e,l,y);if(F<0)throw Oe(this._thisDoc,this.lines,e,l,"expected item in set or '$}'");g.push(y[0])}return i.push(this._store.newSet(g,this._context)),F}else{var F=l+1,N=this._parentContext;this._parentContext=this._context;var B=this._anonymousNodes,E=this._parentVariables;this._parentVariables=this._variables,this._anonymousNodes=new Vn([]),this._variables=this._variables.slice();var L=this._reason2;if(this._reason2=b_,a==null)var a=this._store.formula();for(this._context=a;;){var l=this.skipSpace(e,F);if(l<0)throw Oe(this._thisDoc,this.lines,e,l,"needed '}', found end.");if(e.slice(l,l+1)=="}"){var F=l+1;break}var F=this.directiveOrStatement(e,l);if(F<0)throw Oe(this._thisDoc,this.lines,e,l,"expected statement or '}'")}return this._anonymousNodes=B,this._variables=this._parentVariables,this._parentVariables=E,this._context=this._parentContext,this._reason2=L,this._parentContext=N,i.push(a.close()),F}}if(u=="("){var A=this._store.list,_=e.slice(l+1,l+2);if(_=="$"){var A=this._store.newSet;l+=1}for(var F=l+1,g=new vt([]);;){var l=this.skipSpace(e,F);if(l<0)throw Oe(this._thisDoc,this.lines,e,l,"needed ')', found end.");if(e.slice(l,l+1)==")"){var F=l+1;break}var y=new vt([]),F=this.item(e,l,y);if(F<0)throw Oe(this._thisDoc,this.lines,e,l,"expected item in list or ')'");g.push(y[0])}return i.push(A(g,this._context)),F}var F=this.tok("this",e,l);if(F>=0)throw Oe(this._thisDoc,this.lines,e,l,"Keyword 'this' was ancient N3. Now use @forSome and @forAll keywords.");var F=this.tok("true",e,l);if(F>=0)return i.push(!0),F;var F=this.tok("false",e,l);if(F>=0)return i.push(!1),F;if(a==null){var F=this.uri_ref2(e,l,i);if(F>=0)return F}return-1}},{key:"property_list",value:function(e,t,i){for(;;){var _=this.skipSpace(e,t);if(_<0)throw Oe(this._thisDoc,this.lines,e,t,"EOF found when expected verb in property list");if(e.slice(_,_+2)==":-"){var t=_+2,s=new vt([]),_=this.node(e,t,s,i);if(_<0)throw Oe(this._thisDoc,this.lines,e,t,"bad {} or () or [] node after :- ");var t=_;continue}var t=_,a=new vt([]),_=this.verb(e,t,a);if(_<=0)return t;var l=new vt([]),t=this.objectList(e,_,l);if(t<0)throw Oe(this._thisDoc,this.lines,e,_,"objectList expected");var u=new xi(l);try{for(;;){var o=u.next(),c=a[0],p=c[0],h=c[1];p=="->"?this.makeStatement(new gt([this._context,h,i,o])):this.makeStatement(new gt([this._context,h,o,i]))}}catch(C){if(C!=Xn)throw C}var _=this.skipSpace(e,t);if(_<0)throw Oe(this._thisDoc,this.lines,e,_,"EOF found in list of objects");if(e.slice(t,t+1)!=";")return t;var t=t+1}}},{key:"commaSeparatedList",value:function(e,t,i,s){var a=this.skipSpace(e,t);if(a<0)throw Oe(this._thisDoc,this.lines,e,a,"EOF found expecting comma sep list");if(e.charAt(a)==".")return t;if(s)var a=this.uri_ref2(e,a,i);else var a=this.bareWord(e,a,i);if(a<0)return-1;for(;;){var t=this.skipSpace(e,a);if(t<0)return t;var l=e.slice(t,t+1);if(l!=",")return l!="."?-1:t;if(s)var a=this.uri_ref2(e,t+1,i);else var a=this.bareWord(e,t+1,i);if(a<0)throw Oe(this._thisDoc,this.lines,e,a,"bad list content")}}},{key:"objectList",value:function(e,s,i){var s=this.object(e,s,i);if(s<0)return-1;for(;;){var a=this.skipSpace(e,s);if(a<0)throw Oe(this._thisDoc,this.lines,e,a,"EOF found after object");if(e.slice(a,a+1)!=",")return a;var s=this.object(e,a+1,i);if(s<0)return s}}},{key:"checkDot",value:function(e,t){var i=this.skipSpace(e,t);if(i<0)return i;if(e.slice(i,i+1)==".")return i+1;if(e.slice(i,i+1)=="}"||e.slice(i,i+1)=="]")return i;throw Oe(this._thisDoc,this.lines,e,i,"expected '.' or '}' or ']' at end of statement")}},{key:"uri_ref2",value:function(e,h,i){var s=new vt([]),a=this.qname(e,h,s);if(a>=0){var l=s[0],u=l[0],o=l[1];if(u==null){Gr(0,"not used?");var c=this._baseURI+y_}else{var c=this._bindings[u];if(!c){if(u=="_")return i.push(this.anonymousNode(o)),a;throw Oe(this._thisDoc,this.lines,e,h,"Prefix "+u+" not bound.")}}var p=this._store.sym(c+o);return Xt(this._variables,p)>=0?i.push(this._variables[p]):i.push(p),a}var h=this.skipSpace(e,h);if(h<0)return-1;if(e.charAt(h)=="?"){var _=new vt([]),a=this.variable(e,h,_);return a>0?(i.push(_[0]),a):-1}else if(e.charAt(h)=="<"){for(var h=h+1,g=h;h<zt(e);){if(e.charAt(h)==">"){var C=e.slice(g,h);if(this._baseURI)var C=Ia(this._baseURI,C);else Gr(C.indexOf(":")>=0,"With no base URI, cannot deal with relative URIs");if(e.slice(h-1,h)=="#"&&Sa(C,-1,null)!="#")var C=C+"#";var p=this._store.sym(C);return Xt(this._variables,p)>=0?i.push(this._variables[p]):i.push(p),h+1}var h=h+1}throw Oe(this._thisDoc,this.lines,e,a,"unterminated URI reference")}else if(this.keywordsSet){var _=new vt([]),a=this.bareWord(e,h,_);if(a<0)return-1;if(Xt(this.keywords,_[0])>=0)throw Oe(this._thisDoc,this.lines,e,h,'Keyword "'+_[0]+'" not allowed here.');return i.push(this._store.sym(this._bindings[""]+_[0])),a}else return-1}},{key:"skipSpace",value:function(e,t){for(var i=` 
\r	\f\v            ​\u2028\u2029　`,s=t||0;s<e.length;s++){var a=e.charAt(s);if(i.indexOf(a)<0)if(e.charAt(s)==="#")for(;;s++){if(s===e.length)return-1;if(e.charAt(s)===`
`){this.lines=this.lines+1;break}}else return s;else e.charAt(s)===`
`&&(this.lines=this.lines+1)}return-1}},{key:"variable",value:function(e,a,i){var s=this.skipSpace(e,a);if(s<0||e.slice(s,s+1)!="?")return-1;var s=s+1,a=s;if("0123456789-".indexOf(e.charAt(s))>=0)throw Oe(this._thisDoc,this.lines,e,s,"Varible name can't start with '"+e.charAt(s)+"s'");for(;a<zt(e)&&Wr.indexOf(e.charAt(a))<0;)var a=a+1;if(this._parentContext==null)throw Oe(this._thisDoc,this.lines,e,s,"Can't use ?xxx syntax for variable in outermost level: "+e.slice(s-1,a));return i.push(this._store.variable(e.slice(s,a))),a}},{key:"bareWord",value:function(e,l,i){var s=this.skipSpace(e,l);if(s<0)return-1;var a=e.charAt(s);if("0123456789-".indexOf(a)>=0||Wr.indexOf(a)>=0)return-1;for(var l=s;l<zt(e)&&Wr.indexOf(e.charAt(l))<0;)var l=l+1;return i.push(e.slice(s,l)),l}},{key:"qname",value:function(e,s,i){var s=this.skipSpace(e,s);if(s<0)return-1;var a=e.charAt(s);if("0123456789-+".indexOf(a)>=0)return-1;if(Wr.indexOf(a)<0)for(var l=a,s=s+1;s<zt(e);){var a=e.charAt(s);if(Wr.indexOf(a)<0)var l=l+a,s=s+1;else break}else var l="";if(s<zt(e)&&e.charAt(s)==":"){for(var u=l,s=s+1,l="";s<zt(e);){var a=e.charAt(s);if(Wr.indexOf(a)<0)var l=l+a,s=s+1;else break}return i.push(new gt([u,l])),s}else return l&&this.keywordsSet&&Xt(this.keywords,l)<0?(i.push(new gt(["",l])),s):-1}},{key:"object",value:function(e,t,i){var s=this.subject(e,t,i);if(s>=0)return s;var s=this.skipSpace(e,t);if(s<0)return-1;var t=s,a=null,l=e.charAt(t);if(l=='"'||l=="'"){e.slice(t,t+3==l+l)?a=l+l+l:a=l;var t=t+zt(a),u=this.strconst(e,t,a),s=u[0],o=u[1];return i.push(this._store.literal(o)),s}else return-1}},{key:"nodeOrLiteral",value:function(e,t,i){var s=this.node(e,t,i);if(s>=0)return s;var s=this.skipSpace(e,t);if(s<0)return-1;var t=s,a=e.charAt(t);if("-+0987654321".indexOf(a)>=0){uu.lastIndex=0;var l=uu.exec(e.slice(t));if(l!=null){var u=l[0];s=t+u.length,u.indexOf("T")>=0?i.push(this._store.literal(u,this._store.sym(C_))):i.push(this._store.literal(u,this._store.sym(T_)))}else{Fa.lastIndex=0;var l=Fa.exec(e.slice(t));if(l==null)throw Oe(this._thisDoc,this.lines,e,t,"Bad number or date syntax");s=t+Fa.lastIndex;var u=e.slice(t,s);u.indexOf("e")>=0?i.push(this._store.literal(parseFloat(u),this._store.sym(A_))):e.slice(t,s).indexOf(".")>=0?i.push(this._store.literal(parseFloat(u),this._store.sym(E_))):i.push(this._store.literal(parseInt(u),this._store.sym(D_)))}return s}if(e.charAt(t)=='"'){if(e.slice(t,t+3)=='"""')var o='"""';else var o='"';var t=t+zt(o),c=null,p=this.strconst(e,t,o),s=p[0],h=p[1],_=null;if(e.slice(s,s+1)=="@"){La.lastIndex=0;var l=La.exec(e.slice(s+1));if(l==null)throw Oe(this._thisDoc,startline,e,t,"Bad language code syntax on string literal, after @");var t=La.lastIndex+s+1,_=e.slice(s+1,t),s=t}if(e.slice(s,s+2)=="^^")var g=new vt([]),s=this.uri_ref2(e,s+2,g),c=g[0];return i.push(this._store.literal(h,_||c)),s}else return-1}},{key:"strconst",value:function(e,t,i){for(var s=t,a="",l=this.lines;s<zt(e);){var t=s+zt(i);if(e.slice(s,t)==i)return new gt([t,a]);if(e.charAt(s)=='"'){var a=a+'"',s=s+1;continue}Oa.lastIndex=0;var u=Oa.exec(e.slice(s));if(!u)throw Oe(this._thisDoc,l,e,s,"Closing quote missing in string at ^ in "+e.slice(s-20,s)+"^"+e.slice(s,s+20));var t=s+Oa.lastIndex-1,a=a+e.slice(s,t),o=e.charAt(t);if(o=='"'){var s=t;continue}else if(o=="\r"){var s=t+1;continue}else if(o==`
`){if(i=='"')throw Oe(this._thisDoc,l,e,t,"newline found in string literal");this.lines=this.lines+1;var a=a+o,s=t+1;this.previousLine=this.startOfLine,this.startOfLine=s}else if(o=="\\"){var s=t+1,o=e.slice(s,s+1);if(!o)throw Oe(this._thisDoc,l,e,t,"unterminated string literal (2)");var c=Ra('abfrtvn\\"',o);if(c>=0)var p=`a\b\f\r	\v
\\"`.charAt(c),a=a+p,s=s+1;else if(o=="u")var h=this.uEscape(e,s+1,l),s=h[0],o=h[1],a=a+o;else if(o=="U")var h=this.UEscape(e,s+1,l),s=h[0],o=h[1],a=a+o;else throw Oe(this._thisDoc,this.lines,e,t,"bad escape")}}throw Oe(this._thisDoc,this.lines,e,t,"unterminated string literal")}},{key:"uEscape",value:function(e,t,i){for(var s=t,a=0,l=0;a<4;){var u=e.slice(s,s+1),o=u.toLowerCase(),s=s+1;if(o=="")throw Oe(this._thisDoc,i,e,t,"unterminated string literal(3)");var c=Ra("0123456789abcdef",o);if(c<0)throw Oe(this._thisDoc,i,e,t,"bad string literal hex escape");var l=l*16+c,a=a+1}var p=String.fromCharCode(l);return new gt([s,p])}},{key:"UEscape",value:function(e,t,i){for(var s=t,a=0,l="\\U";a<8;){var u=e.slice(s,s+1),o=u.toLowerCase(),s=s+1;if(o=="")throw Oe(this._thisDoc,i,e,t,"unterminated string literal(3)");var c=Ra("0123456789abcdef",o);if(c<0)throw Oe(this._thisDoc,i,e,t,"bad string literal hex escape");var l=l+o,a=a+1}var p=m_("0x"+Sa(l,2,10)-0);return new gt([s,p])}}])}();function Oe(n,r,e,t,i){var s=r+1,a="Line "+s+" of <"+n+">: Bad syntax: "+i+`
at: "`+e.slice(t,t+30)+'"',l=new SyntaxError(a,n,s);return l.lineNo=s,l.characterInFile=t,l.syntaxProblem=i,l}function ou(n,r){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);r&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,t)}return e}function fu(n){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?ou(Object(e),!0).forEach(function(t){ge(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ou(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}var Qa=fu(fu({},Jt),{},{supports:ge(ge(ge(ge(ge(ge(ge({},qt.collections,!0),qt.defaultGraphType,!1),qt.equalsMethod,!0),qt.identity,!1),qt.id,!0),qt.reversibleId,!1),qt.variableType,!0),collection:function(r){return new Or(r)},id:function(r){var e=this;return is(r)?"( ".concat(r.elements.map(function(t){return e.id(t)}).join(", ")," )"):ap(r)?en.toString(r):Jt.id(r)},termToNQ:function(r){return r.termType===Mr?Or.toNT(r):Jt.termToNQ(r)}});function vs(n,r){return typeof r=="string"?n.rdfFactory.literal(r):Object.prototype.hasOwnProperty.call(r,"@list")?n.rdfFactory.supports.COLLECTIONS===!0?S_(n,r["@list"]):N_(n,r):Object.prototype.hasOwnProperty.call(r,"@id")?ms(n,r):Object.prototype.hasOwnProperty.call(r,"@language")?n.rdfFactory.literal(r["@value"],r["@language"]):Object.prototype.hasOwnProperty.call(r,"@type")?n.rdfFactory.literal(r["@value"],n.rdfFactory.namedNode(r["@type"])):Object.prototype.hasOwnProperty.call(r,"@value")?n.rdfFactory.literal(r["@value"]):n.rdfFactory.literal(r)}function N_(n,r){var e=r["@id"]?ms(n,r):n.rdfFactory.blankNode(),t=r["@list"].map(function(s){return vs(n,s)}),i=Lf(n.rdfFactory,e,t);return n.addAll(i),e}function S_(n,r){if(!Array.isArray(r))throw new TypeError("Object must be an array");return n.rdfFactory.collection(r.map(function(e){return vs(n,e)}))}function Pf(n,r,e,t){var i=e&&Object.prototype.hasOwnProperty.call(e,"termType")?e.value:e;return Ih(()=>import("../chunks/jsonld.OPIS_L8g.js").then(s=>s.j),__vite__mapDeps([0,1,2]),import.meta.url).then(function(s){return s.flatten(JSON.parse(n),null,{base:i})}).then(function(s){return s.reduce(function(a,l){return r=Uf(r,e,l),r},r)}).then(t).catch(t)}function ms(n,r){return r["@id"].startsWith("_:")?n.rdfFactory.blankNode(r["@id"].substring(2)):n.rdfFactory.namedNode(r["@id"])}function Uf(n,r,e){for(var t=e["@id"]?ms(n,e):n.rdfFactory.blankNode(),i=0,s=Object.keys(e);i<s.length;i++){var a=s[i];if(a!=="@id"){if(a=="@graph")for(var l=t,u=e[a],o=0;o<u.length;o++)n=Uf(n,l,u[o]);var c=e[a];if(Array.isArray(c))for(var p=0;p<c.length;p++)n.addStatement(cu(n,t,a,c[p],r));else n.addStatement(cu(n,t,a,c,r))}}return n}function cu(n,r,e,t,i){var s,a;return e==="@type"?(s=n.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),a=n.rdfFactory.namedNode(t)):(s=n.rdfFactory.namedNode(e),a=vs(n,t)),n.rdfFactory.quad(r,s,a,n.rdfFactory.namedNode(i))}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let du;var R_=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:rs):n=>(du||(du=Promise.resolve())).then(n).catch(r=>setTimeout(()=>{throw r},0));const I_=na(R_),Hn="http://www.w3.org/1999/02/22-rdf-syntax-ns#",zn="http://www.w3.org/2001/XMLSchema#",Ba="http://www.w3.org/2000/10/swap/",ar={xsd:{decimal:`${zn}decimal`,boolean:`${zn}boolean`,double:`${zn}double`,integer:`${zn}integer`,string:`${zn}string`},rdf:{type:`${Hn}type`,nil:`${Hn}nil`,first:`${Hn}first`,rest:`${Hn}rest`,langString:`${Hn}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${Ba}reify#forSome`,forAll:`${Ba}reify#forAll`},log:{implies:`${Ba}log#implies`}},{xsd:qi}=ar,F_=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,hu={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},O_=/[\x00-\x20<>\\"\{\}\|\^\`]/,L_={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},B_=/$0^/;class x_{constructor(r){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,r=r||{},this._lineMode=!!r.lineMode){this._n3Mode=!1;for(const e in this)!(e in L_)&&this[e]instanceof RegExp&&(this[e]=B_)}else this._n3Mode=r.n3!==!1;this._comments=!!r.comments,this._literalClosingPos=0}_tokenizeToEnd(r,e){let t=this._input,i=t.length;for(;;){let l,u;for(;l=this._newline.exec(t);)this._comments&&(u=this._comment.exec(l[0]))&&s("comment",u[1],"",this._line,l[0].length),t=t.substr(l[0].length,t.length),i=t.length,this._line++;if(!l&&(l=this._whitespace.exec(t))&&(t=t.substr(l[0].length,t.length)),this._endOfFile.test(t))return e&&(this._comments&&(u=this._comment.exec(t))&&s("comment",u[1],"",this._line,t.length),t=null,s("eof","","",this._line,0)),this._input=t;const o=this._line,c=t[0];let p="",h="",_="",g=null,C=0,y=!1;switch(c){case"^":if(t.length<3)break;if(t[1]==="^"){if(this._previousMarker="^^",t=t.substr(2),t[0]!=="<"){y=!0;break}}else{this._n3Mode&&(C=1,p="^");break}case"<":if(g=this._unescapedIri.exec(t))p="IRI",h=g[1];else if(g=this._iri.exec(t)){if(h=this._unescape(g[1]),h===null||O_.test(h))return a(this);p="IRI"}else t.length>1&&t[1]==="<"?(p="<<",C=2):this._n3Mode&&t.length>1&&t[1]==="="&&(p="inverse",C=2,h=">");break;case">":t.length>1&&t[1]===">"&&(p=">>",C=2);break;case"_":((g=this._blank.exec(t))||e&&(g=this._blank.exec(`${t} `)))&&(p="blank",_="_",h=g[1]);break;case'"':if(g=this._simpleQuotedString.exec(t))h=g[1];else if({value:h,matchLength:C}=this._parseLiteral(t),h===null)return a(this);(g!==null||C!==0)&&(p="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(g=this._simpleApostropheString.exec(t))h=g[1];else if({value:h,matchLength:C}=this._parseLiteral(t),h===null)return a(this);(g!==null||C!==0)&&(p="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(g=this._variable.exec(t))&&(p="var",h=g[0]);break;case"@":this._previousMarker==="literal"&&(g=this._langcode.exec(t))?(p="langcode",h=g[1]):(g=this._keyword.exec(t))&&(p=g[0]);break;case".":if(t.length===1?e:t[1]<"0"||t[1]>"9"){p=".",C=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(g=this._number.exec(t)||e&&(g=this._number.exec(`${t} `)))&&(p="literal",h=g[0],_=typeof g[1]=="string"?qi.double:typeof g[2]=="string"?qi.decimal:qi.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(g=this._sparqlKeyword.exec(t))?p=g[0].toUpperCase():y=!0;break;case"f":case"t":(g=this._boolean.exec(t))?(p="literal",h=g[0],_=qi.boolean):y=!0;break;case"a":(g=this._shortPredicates.exec(t))?(p="abbreviation",h="a"):y=!0;break;case"=":this._n3Mode&&t.length>1&&(p="abbreviation",t[1]!==">"?(C=1,h="="):(C=2,h=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(C=1,p=c);break;case"{":!this._lineMode&&t.length>=2&&(t[1]==="|"?(p="{|",C=2):(p=c,C=1));break;case"|":t.length>=2&&t[1]==="}"&&(p="|}",C=2);break;default:y=!0}if(y&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(g=this._prefix.exec(t))?(p="prefix",h=g[1]||""):((g=this._prefixed.exec(t))||e&&(g=this._prefixed.exec(`${t} `)))&&(p="prefixed",_=g[1]||"",h=this._unescape(g[2]))),this._previousMarker==="^^")switch(p){case"prefixed":p="type";break;case"IRI":p="typeIRI";break;default:p=""}if(!p)return e||!/^'''|^"""/.test(t)&&/\n|\r/.test(t)?a(this):this._input=t;const N=C||g[0].length,B=s(p,h,_,o,N);this.previousToken=B,this._previousMarker=p,t=t.substr(N,t.length)}function s(l,u,o,c,p){const h=t?i-t.length:i,_=h+p,g={type:l,value:u,prefix:o,line:c,start:h,end:_};return r(null,g),g}function a(l){r(l._syntaxError(/^\S*/.exec(t)[0]))}}_unescape(r){let e=!1;const t=r.replace(F_,(i,s,a,l)=>{if(typeof s=="string")return String.fromCharCode(Number.parseInt(s,16));if(typeof a=="string"){let u=Number.parseInt(a,16);return u<=65535?String.fromCharCode(Number.parseInt(a,16)):String.fromCharCode(55296+((u-=65536)>>10),56320+(u&1023))}return l in hu?hu[l]:(e=!0,"")});return e?null:t}_parseLiteral(r){if(r.length>=3){const e=r.match(/^(?:"""|"|'''|'|)/)[0],t=e.length;let i=Math.max(this._literalClosingPos,t);for(;(i=r.indexOf(e,i))>0;){let s=0;for(;r[i-s-1]==="\\";)s++;if(s%2===0){const a=r.substring(t,i),l=a.split(/\r\n|\r|\n/).length-1,u=i+t;if(t===1&&l!==0||t===3&&this._lineMode)break;return this._line+=l,{value:this._unescape(a),matchLength:u}}i++}this._literalClosingPos=r.length-t+1}return{value:"",matchLength:0}}_syntaxError(r){this._input=null;const e=new Error(`Unexpected "${r}" on line ${this._line}.`);return e.context={token:void 0,line:this._line,previousToken:this.previousToken},e}_readStartingBom(r){return r.startsWith("\uFEFF")?r.substr(1):r}tokenize(r,e){if(this._line=1,typeof r=="string")if(this._input=this._readStartingBom(r),typeof e=="function")I_(()=>this._tokenizeToEnd(e,!0));else{const t=[];let i;if(this._tokenizeToEnd((s,a)=>s?i=s:t.push(a),!0),i)throw i;return t}else this._pendingBuffer=null,typeof r.setEncoding=="function"&&r.setEncoding("utf8"),r.on("data",t=>{this._input!==null&&t.length!==0&&(this._pendingBuffer&&(t=Rh.Buffer.concat([this._pendingBuffer,t]),this._pendingBuffer=null),t[t.length-1]&128?this._pendingBuffer=t:(typeof this._input>"u"?this._input=this._readStartingBom(typeof t=="string"?t:t.toString()):this._input+=t,this._tokenizeToEnd(e,!1)))}),r.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(e,!0)}),r.on("error",e)}}const{rdf:q_,xsd:mn}=ar;let la,M_=0;const j_={namedNode:H_,blankNode:z_,variable:G_,literal:X_,defaultGraph:W_,quad:pu,triple:pu};class Pr{constructor(r){this.id=r}get value(){return this.id}equals(r){return r instanceof Pr?this.id===r.id:!!r&&this.termType===r.termType&&this.value===r.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}let $f=class extends Pr{get termType(){return"NamedNode"}},xa=class Vf extends Pr{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const r=this.id;let e=r.lastIndexOf('"')+1;return e<r.length&&r[e++]==="@"?r.substr(e).toLowerCase():""}get datatype(){return new $f(this.datatypeString)}get datatypeString(){const r=this.id,e=r.lastIndexOf('"')+1,t=e<r.length?r[e]:"";return t==="^"?r.substr(e+2):t!=="@"?mn.string:q_.langString}equals(r){return r instanceof Vf?this.id===r.id:!!r&&!!r.datatype&&this.termType===r.termType&&this.value===r.value&&this.language===r.language&&this.datatype.value===r.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},P_=class extends Pr{constructor(r){super(`_:${r}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},U_=class extends Pr{constructor(r){super(`?${r}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},$_=class extends Pr{constructor(){return super(""),la||this}get termType(){return"DefaultGraph"}equals(r){return this===r||!!r&&this.termType===r.termType}};la=new $_;let V_=class extends Pr{constructor(r,e,t,i){super(""),this._subject=r,this._predicate=e,this._object=t,this._graph=i||la}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(r){return!!r&&this._subject.equals(r.subject)&&this._predicate.equals(r.predicate)&&this._object.equals(r.object)&&this._graph.equals(r.graph)}};function H_(n){return new $f(n)}function z_(n){return new P_(n||`n3-${M_++}`)}function X_(n,r){if(typeof r=="string")return new xa(`"${n}"@${r.toLowerCase()}`);let e=r?r.value:"";return e===""&&(typeof n=="boolean"?e=mn.boolean:typeof n=="number"&&(Number.isFinite(n)?e=Number.isInteger(n)?mn.integer:mn.double:(e=mn.double,Number.isNaN(n)||(n=n>0?"INF":"-INF")))),e===""||e===mn.string?new xa(`"${n}"`):new xa(`"${n}"^^${e}`)}function G_(n){return new U_(n)}function W_(){return la}function pu(n,r,e,t){return new V_(n,r,e,t)}let _u=0;class Hf{constructor(r){this._contextStack=[],this._graph=null,r=r||{},this._setBase(r.baseIRI),r.factory&&zf(this,r.factory);const e=typeof r.format=="string"?r.format.match(/\w*$/)[0].toLowerCase():"",t=/turtle/.test(e),i=/trig/.test(e),s=/triple/.test(e),a=/quad/.test(e),l=this._n3Mode=/n3/.test(e),u=s||a;(this._supportsNamedGraphs=!(t||l))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(t||i||s||l),this._supportsRDFStar=e===""||/star|\*$/.test(e),u&&(this._resolveRelativeIRI=o=>null),this._blankNodePrefix=typeof r.blankNodePrefix!="string"?"":r.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=r.lexer||new x_({lineMode:u,n3:l}),this._explicitQuantifiers=!!r.explicitQuantifiers}static _resetBlankNodePrefix(){_u=0}_setBase(r){if(!r)this._base="",this._basePath="";else{const e=r.indexOf("#");e>=0&&(r=r.substr(0,e)),this._base=r,this._basePath=r.indexOf("/")<0?r:r.replace(/[^\/?]*(?:\?.*)?$/,""),r=r.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=r[0],this._baseScheme=r[1]}}_saveContext(r,e,t,i,s){const a=this._n3Mode;this._contextStack.push({type:r,subject:t,predicate:i,object:s,graph:e,inverse:a?this._inversePredicate:!1,blankPrefix:a?this._prefixes._:"",quantified:a?this._quantified:null}),a&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(r,e){const t=this._contextStack.pop();if(!t||t.type!==r)return this._error(`Unexpected ${e.type}`,e);this._subject=t.subject,this._predicate=t.predicate,this._object=t.object,this._graph=t.graph,this._n3Mode&&(this._inversePredicate=t.inverse,this._prefixes._=t.blankPrefix,this._quantified=t.quantified)}_readInTopContext(r){switch(r.type){case"eof":return this._graph!==null?this._error("Unclosed graph",r):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(r)}}_readEntity(r,e){let t;switch(r.type){case"IRI":case"typeIRI":const i=this._resolveIRI(r.value);if(i===null)return this._error("Invalid IRI",r);t=this._namedNode(i);break;case"type":case"prefixed":const s=this._prefixes[r.prefix];if(s===void 0)return this._error(`Undefined prefix "${r.prefix}:"`,r);t=this._namedNode(s+r.value);break;case"blank":t=this._blankNode(this._prefixes[r.prefix]+r.value);break;case"var":t=this._variable(r.value.substr(1));break;default:return this._error(`Expected entity but got ${r.type}`,r)}return!e&&this._n3Mode&&t.id in this._quantified&&(t=this._quantified[t.id]),t}_readSubject(r){switch(this._predicate=null,r.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",r);case"}":return this._readPunctuation(r);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',r);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',r);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",r);if(r.prefix.length===0)return this._literalValue=r.value,this._completeSubjectLiteral;this._subject=this._literal(r.value,this._namedNode(r.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",r);default:if((this._subject=this._readEntity(r))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(r){const e=r.type;switch(e){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[r.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${e}`,r):(this._subject=null,e==="]"?this._readBlankNodeTail(r):this._readPunctuation(r));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",r);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",r);default:if((this._predicate=this._readEntity(r))===void 0)return}return this._readObject}_readObject(r){switch(r.type){case"literal":if(r.prefix.length===0)return this._literalValue=r.value,this._readDataTypeOrLang;this._object=this._literal(r.value,this._namedNode(r.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",r);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",r);default:if((this._object=this._readEntity(r))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(r){return r.type==="{"?this._readGraph(r):this._readPredicate(r)}_readGraph(r){return r.type!=="{"?this._error(`Expected graph but got ${r.type}`,r):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(r){return r.type==="]"?(this._subject=null,this._readBlankNodeTail(r)):(this._predicate=null,this._readPredicate(r))}_readBlankNodeTail(r){if(r.type!=="]")return this._readBlankNodePunctuation(r);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const e=this._predicate===null;return this._restoreContext("blank",r),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:e?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(r){switch(r.type){case".":case"}":return this._subject=null,this._readPunctuation(r);default:return this._readPredicate(r)}}_readListItem(r){let e=null,t=null,i=this._readListItem;const s=this._subject,a=this._contextStack,l=a[a.length-1];switch(r.type){case"[":this._saveContext("blank",this._graph,t=this._blankNode(),this.RDF_FIRST,this._subject=e=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,t=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",r),a.length!==0&&a[a.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;t=this.RDF_NIL;break;case"literal":r.prefix.length===0?(this._literalValue=r.value,i=this._readListItemDataTypeOrLang):(e=this._literal(r.value,this._namedNode(r.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",r);default:if((e=this._readEntity(r))===void 0)return}if(t===null&&(this._subject=t=this._blankNode()),s===null?l.predicate===null?l.subject=t:l.object=t:this._emit(s,this.RDF_REST,t,this._graph),e!==null){if(this._n3Mode&&(r.type==="IRI"||r.type==="prefixed"))return this._saveContext("item",this._graph,t,this.RDF_FIRST,e),this._subject=e,this._predicate=null,this._getPathReader(this._readListItem);this._emit(t,this.RDF_FIRST,e,this._graph)}return i}_readDataTypeOrLang(r){return this._completeObjectLiteral(r,!1)}_readListItemDataTypeOrLang(r){return this._completeObjectLiteral(r,!0)}_completeLiteral(r){let e=this._literal(this._literalValue);switch(r.type){case"type":case"typeIRI":const t=this._readEntity(r);if(t===void 0)return;e=this._literal(this._literalValue,t),r=null;break;case"langcode":e=this._literal(this._literalValue,r.value),r=null;break}return{token:r,literal:e}}_completeSubjectLiteral(r){return this._subject=this._completeLiteral(r).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(r,e){const t=this._completeLiteral(r);if(t)return this._object=t.literal,e&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),t.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(t.token))}_readFormulaTail(r){return r.type!=="}"?this._readPunctuation(r):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",r),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(r){let e,t=this._graph;const i=this._subject,s=this._inversePredicate;switch(r.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",r);if(this._n3Mode)return this._readFormulaTail(r);this._graph=null;case".":this._subject=null,e=this._contextStack.length?this._readSubject:this._readInTopContext,s&&(this._inversePredicate=!1);break;case";":e=this._readPredicate;break;case",":e=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",r);const a=this._predicate,l=this._object;this._subject=this._quad(i,a,l,this.DEFAULTGRAPH),e=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",r);this._subject=null,e=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(t=this._readEntity(r))!==void 0){e=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,r)}if(i!==null){const a=this._predicate,l=this._object;s?this._emit(l,a,i,t):this._emit(i,a,l,t)}return e}_readBlankNodePunctuation(r){let e;switch(r.type){case";":e=this._readPredicate;break;case",":e=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,r)}return this._emit(this._subject,this._predicate,this._object,this._graph),e}_readQuadPunctuation(r){return r.type!=="."?this._error("Expected dot to follow quad",r):this._readInTopContext}_readPrefix(r){return r.type!=="prefix"?this._error("Expected prefix to follow @prefix",r):(this._prefix=r.value,this._readPrefixIRI)}_readPrefixIRI(r){if(r.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,r);const e=this._readEntity(r);return this._prefixes[this._prefix]=e.value,this._prefixCallback(this._prefix,e),this._readDeclarationPunctuation}_readBaseIRI(r){const e=r.type==="IRI"&&this._resolveIRI(r.value);return e?(this._setBase(e),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",r)}_readNamedGraphLabel(r){switch(r.type){case"IRI":case"blank":case"prefixed":return this._readSubject(r),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",r)}}_readNamedGraphBlankLabel(r){return r.type!=="]"?this._error("Invalid graph label",r):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(r){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(r)):r.type!=="."?this._error("Expected declaration to end with a dot",r):this._readInTopContext}_readQuantifierList(r){let e;switch(r.type){case"IRI":case"prefixed":if((e=this._readEntity(r,!0))!==void 0)break;default:return this._error(`Unexpected ${r.type}`,r)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,e,this.QUANTIFIERS_GRAPH)):this._quantified[e.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(r){return r.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(r))}_getPathReader(r){return this._afterPath=r,this._readPath}_readPath(r){switch(r.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const e=this._contextStack,t=e.length&&e[e.length-1];if(t&&t.type==="item"){const i=this._subject;this._restoreContext("item",r),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(r)}}_readForwardPath(r){let e,t;const i=this._blankNode();if((t=this._readEntity(r))!==void 0)return this._predicate===null?(e=this._subject,this._subject=i):(e=this._object,this._object=i),this._emit(e,t,i,this._graph),this._readPath}_readBackwardPath(r){const e=this._blankNode();let t,i;if((t=this._readEntity(r))!==void 0)return this._predicate===null?(i=this._subject,this._subject=e):(i=this._object,this._object=e),this._emit(e,t,i,this._graph),this._readPath}_readRDFStarTailOrGraph(r){return r.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(r))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,r):this._readRDFStarTail(r)}_readRDFStarTail(r){if(r.type!==">>")return this._error(`Expected >> but got ${r.type}`,r);const e=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",r),this._subject===null?(this._subject=e,this._readPredicate):(this._object=e,this._getContextEndReader())}_getContextEndReader(){const r=this._contextStack;if(!r.length)return this._readPunctuation;switch(r[r.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(r,e,t,i){this._callback(null,this._quad(r,e,t,i||this.DEFAULTGRAPH))}_error(r,e){const t=new Error(`${r} on line ${e.line}.`);t.context={token:e,line:e.line,previousToken:this._lexer.previousToken},this._callback(t),this._callback=qa}_resolveIRI(r){return/^[a-z][a-z0-9+.-]*:/i.test(r)?r:this._resolveRelativeIRI(r)}_resolveRelativeIRI(r){if(!r.length)return this._base;switch(r[0]){case"#":return this._base+r;case"?":return this._base.replace(/(?:\?.*)?$/,r);case"/":return(r[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(r);default:return/^[^/:]*:/.test(r)?null:this._removeDotSegments(this._basePath+r)}}_removeDotSegments(r){if(!/(^|\/)\.\.?($|[/#?])/.test(r))return r;const e=r.length;let t="",i=-1,s=-1,a=0,l="/";for(;i<e;){switch(l){case":":if(s<0&&r[++i]==="/"&&r[++i]==="/")for(;(s=i+1)<e&&r[s]!=="/";)i=s;break;case"?":case"#":i=e;break;case"/":if(r[i+1]===".")switch(l=r[++i+1],l){case"/":t+=r.substring(a,i-1),a=i+1;break;case void 0:case"?":case"#":return t+r.substring(a,i)+r.substr(i+1);case".":if(l=r[++i+1],l===void 0||l==="/"||l==="?"||l==="#"){if(t+=r.substring(a,i-2),(a=t.lastIndexOf("/"))>=s&&(t=t.substr(0,a)),l!=="/")return`${t}/${r.substr(i+1)}`;a=i+1}}}l=r[++i]}return t+r.substring(a)}parse(r,e,t){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${_u++}_`,this._prefixCallback=t||qa,this._inversePredicate=!1,this._quantified=Object.create(null),!e){const i=[];let s;if(this._callback=(a,l)=>{a?s=a:l&&i.push(l)},this._lexer.tokenize(r).every(a=>this._readCallback=this._readCallback(a)),s)throw s;return i}this._callback=e,this._lexer.tokenize(r,(i,s)=>{i!==null?(this._callback(i),this._callback=qa):this._readCallback&&(this._readCallback=this._readCallback(s))})}}function qa(){}function zf(n,r){const e=r.namedNode;n._namedNode=e,n._blankNode=r.blankNode,n._literal=r.literal,n._variable=r.variable,n._quad=r.quad,n.DEFAULTGRAPH=r.defaultGraph(),n.RDF_FIRST=e(ar.rdf.first),n.RDF_REST=e(ar.rdf.rest),n.RDF_NIL=e(ar.rdf.nil),n.N3_FORALL=e(ar.r.forAll),n.N3_FORSOME=e(ar.r.forSome),n.ABBREVIATIONS={a:e(ar.rdf.type),"=":e(ar.owl.sameAs),">":e(ar.log.implies)},n.QUANTIFIERS_GRAPH=e("urn:n3:quantifiers")}zf(Hf.prototype,j_);if(typeof Fr>"u")var Fr={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};var Wt=function(){function n(r,e){st(this,n),this.options=e||{},this.kb=r,this.target=e.target||{graph:{subjects:{},prefixes:{},terms:{}}},this.blankNodes=[],this.htmlOptions={selfClosing:"br img input area base basefont col colgroup source wbr isindex link meta param hr"},this.theOne="_:"+new Date().getTime(),this.language=null,this.vocabulary=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()}return at(n,[{key:"addTriple",value:function(e,t,i,s){var a,l,u,o;typeof t>"u"?a=Jt.namedNode(this.options.base):a=this.toRDFNodeObject(t),u=this.toRDFNodeObject(i),l=this.toRDFNodeObject(s),o=Jt.namedNode(this.options.base),this.kb.add(a,u,l,o)}},{key:"ancestorPath",value:function(e){for(var t="";e&&e.nodeType!==Fr.DOCUMENT_NODE;)t="/"+e.localName+t,e=e.parentNode;return t}},{key:"copyMappings",value:function(e){var t={};for(var i in e)t[i]=e[i];return t}},{key:"copyProperties",value:function(){}},{key:"deriveDateTimeType",value:function(e){for(var t=0;t<n.dateTimeTypes.length;t++){var i=n.dateTimeTypes[t].pattern.exec(e);if(i&&i[0].length===e.length)return n.dateTimeTypes[t].type}return null}},{key:"init",value:function(){}},{key:"newBlankNode",value:function(){return this.blankCounter++,"_:"+this.blankCounter}},{key:"newSubjectOrigin",value:function(e,t){}},{key:"parseCURIE",value:function(e,t,i){var s=e.indexOf(":"),a;if(s>=0){var l=e.substring(0,s);if(l==="")return a=t[""],a?a+e.substring(s+1):null;if(l==="_")return"_:"+e.substring(s+1);if(n.NCNAME.test(l)&&(a=t[l],a))return a+e.substring(s+1)}return null}},{key:"parseCURIEOrURI",value:function(e,t,i){var s=this.parseCURIE(e,t,i);return s||this.resolveAndNormalize(i,e)}},{key:"parsePredicate",value:function(e,t,i,s,a,l){if(e==="")return null;var u=this.parseTermOrCURIEOrAbsURI(e,t,l?null:i,s,a);return u&&u.indexOf("_:")===0?null:u}},{key:"parsePrefixMappings",value:function(e,t){for(var i=this.tokenize(e),s=null,a=0;a<i.length;a++)i[a][i[a].length-1]===":"?s=i[a].substring(0,i[a].length-1):s&&(t[s]=this.options.base?Gt(i[a],this.options.base):i[a],s=null)}},{key:"parseSafeCURIEOrCURIEOrURI",value:function(e,t,i){return e=this.trim(e),e.charAt(0)==="["&&e.charAt(e.length-1)==="]"?(e=e.substring(1,e.length-1),e=e.trim(e),e.length===0?null:e==="_:"?this.theOne:this.parseCURIE(e,t,i)):this.parseCURIEOrURI(e,t,i)}},{key:"parseTermOrCURIEOrAbsURI",value:function(e,t,i,s,a){e=this.trim(e);var l=this.parseCURIE(e,s,a);if(l)return l;if(i){if(t&&!this.absURIRE.exec(e))return t+e;var u=i[e];if(u)return u;var o=e.toLowerCase();if(u=i[o],u)return u}return this.absURIRE.exec(e)?this.resolveAndNormalize(a,e):null}},{key:"parseTermOrCURIEOrURI",value:function(e,t,i,s,a){e=this.trim(e);var l=this.parseCURIE(e,s,a);if(l)return l;var u=i[e];if(u)return u;var o=e.toLowerCase();return u=i[o],u||(t&&!this.absURIRE.exec(e)?t+e:this.resolveAndNormalize(a,e))}},{key:"parseURI",value:function(e){return e}},{key:"process",value:function(e,t){t=t||{};var i;e.nodeType===Fr.DOCUMENT_NODE?(e.baseURI&&!t.baseURI&&(t.baseURI=e.baseURI),i=e.baseURI,e=e.documentElement,e.baseURI||(e.baseURI=i),this.setContext(e)):e.parentNode.nodeType===Fr.DOCUMENT_NODE&&this.setContext(e);var s=[],a=function(vr){if(!vr&&t&&t.baseURI)return t.baseURI;var xn=vr.indexOf("#");return xn>=0&&(vr=vr.substring(0,xn)),t&&t.baseURIMap&&(vr=t.baseURIMap(vr)),vr};for(s.push({current:e,context:this.push(null,a(e.baseURI))});s.length>0;){var l=s.shift();if(l.parent){if(l.context.parent&&l.context.parent.listMapping===l.listMapping)continue;for(var u in l.listMapping){var o=l.listMapping[u];if(o.length===0){this.addTriple(l.parent,l.subject,u,{type:n.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});continue}for(var c=[],p=0;p<o.length;p++)c.push(this.newBlankNode());for(var h=0;h<c.length;h++)this.addTriple(l.parent,c[h],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",o[h]),this.addTriple(l.parent,c[h],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:n.objectURI,value:h+1<c.length?c[h+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(l.parent,l.subject,u,{type:n.objectURI,value:c[0]})}continue}var _=l.current,g=l.context,C=!1,y=null,N=null,B=null,E=g.prefixes,L=!1,A=[],F=g.listMapping,T=!g.parent,P=g.language,x=g.vocabulary;i=this.parseURI(a(_.baseURI)),_.item=null;var R=_.getAttributeNode("vocab");if(R){var m=this.trim(R.value);if(m.length>0){x=m;var b=i.spec;this.addTriple(_,b,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:n.objectURI,value:x})}else x=this.vocabulary}for(var O=0;O<_.attributes.length;O++){var w=_.attributes[O];if(w.nodeName.charAt(0)==="x"&&w.nodeName.indexOf("xmlns:")===0){L||(E=this.copyMappings(E),L=!0);var H=w.nodeName.substring(6),I=n.trim(w.value);E[H]=this.options.base?Gt(I,this.options.base):I}}var V=_.getAttributeNode("prefix");V&&(L||(E=this.copyMappings(E),L=!0),this.parsePrefixMappings(V.value,E));for(var ee=null,Q=0;!ee&&Q<this.langAttributes.length;Q++)ee=_.getAttributeNodeNS(this.langAttributes[Q].namespaceURI,this.langAttributes[Q].localName);if(ee){var q=n.trim(ee.value);q.length>0?P=q:P=null}var M=_.getAttributeNode("rel"),le=_.getAttributeNode("rev"),K=_.getAttributeNode("typeof"),he=_.getAttributeNode("property"),fe=_.getAttributeNode("datatype"),me=this.inHTMLMode?_.getAttributeNode("datetime"):null,te=_.getAttributeNode("content"),ce=_.getAttributeNode("about"),J=_.getAttributeNode("src"),ve=_.getAttributeNode("resource"),Fe=_.getAttributeNode("href"),$e=_.getAttributeNode("inlist"),Pe=[],_e,Te;if(M){Te=this.tokenize(M.value);for(var At=0;At<Te.length;At++)_e=this.parsePredicate(Te[At],x,g.terms,E,i,this.inHTMLMode&&he!==null),_e&&Pe.push(_e)}var Ut=[];if(le){Te=this.tokenize(le.value);for(var Nr=0;Nr<Te.length;Nr++)_e=this.parsePredicate(Te[Nr],x,g.terms,E,i,this.inHTMLMode&&he),_e&&Ut.push(_e)}if(this.inHTMLMode&&(M||le)&&he&&(Pe.length===0&&(M=null),Ut.length===0&&(le=null)),M||le?(ce&&(y=this.parseSafeCURIEOrCURIEOrURI(ce.value,E,i)),K&&(B=y),y||(_.parentNode.nodeType===Fr.DOCUMENT_NODE?y=a(_.baseURI):g.parentObject&&(y=a(_.parentNode.baseURI)===g.parentObject?a(_.baseURI):g.parentObject)),ve&&(N=this.parseSafeCURIEOrCURIEOrURI(ve.value,E,i)),N||(Fe?N=this.resolveAndNormalize(i,encodeURI(Fe.value)):J?N=this.resolveAndNormalize(i,encodeURI(J.value)):K&&!ce&&!(this.inXHTMLMode&&(_.localName==="head"||_.localName==="body"))&&(N=this.newBlankNode())),K&&!ce&&this.inXHTMLMode&&(_.localName==="head"||_.localName==="body")?B=y:K&&!ce&&(B=N)):he&&!te&&!fe?(ce&&(y=this.parseSafeCURIEOrCURIEOrURI(ce.value,E,i),K&&(B=y)),!y&&_.parentNode.nodeType===Fr.DOCUMENT_NODE?(y=a(_.baseURI),K&&(B=y)):!y&&g.parentObject&&(y=a(_.parentNode.baseURI)===g.parentObject?a(_.baseURI):g.parentObject),K&&!B&&(ve&&(B=this.parseSafeCURIEOrCURIEOrURI(ve.value,E,i)),!B&&Fe&&(B=this.resolveAndNormalize(i,encodeURI(Fe.value))),!B&&J&&(B=this.resolveAndNormalize(i,encodeURI(J.value))),!B&&(this.inXHTMLMode||this.inHTMLMode)&&(_.localName==="head"||_.localName==="body")&&(B=y),B||(B=this.newBlankNode()),N=B)):(ce&&(y=this.parseSafeCURIEOrCURIEOrURI(ce.value,E,i)),!y&&ve&&(y=this.parseSafeCURIEOrCURIEOrURI(ve.value,E,i)),!y&&Fe&&(y=this.resolveAndNormalize(i,encodeURI(Fe.value))),!y&&J&&(y=this.resolveAndNormalize(i,encodeURI(J.value))),y||(_.parentNode.nodeType===Fr.DOCUMENT_NODE?y=a(_.baseURI):(this.inXHTMLMode||this.inHTMLMode)&&(_.localName==="head"||_.localName==="body")?y=a(_.parentNode.baseURI)===g.parentObject?a(_.baseURI):g.parentObject:K?y=this.newBlankNode():g.parentObject&&(y=a(_.parentNode.baseURI)===g.parentObject?a(_.baseURI):g.parentObject,he||(C=!0))),K&&(B=y)),y&&(ce||ve||B)){var ln=y;K&&!ce&&!ve&&N&&(ln=N),this.newSubjectOrigin(_,ln)}if(B){Te=this.tokenize(K.value);for(var Sr=0;Sr<Te.length;Sr++){var un=this.parseTermOrCURIEOrAbsURI(Te[Sr],x,g.terms,E,i);un&&this.addTriple(_,B,n.typeURI,{type:n.objectURI,value:un})}}if(y&&y!==g.parentObject&&(F={},T=!0),N){if(M&&$e)for(var _r=0;_r<Pe.length;_r++){var Ie=F[Pe[_r]];Ie||(Ie=[],F[Pe[_r]]=Ie),Ie.push({type:n.objectURI,value:N})}else if(M)for(var Ve=0;Ve<Pe.length;Ve++)this.addTriple(_,y,Pe[Ve],{type:n.objectURI,value:N});if(le)for(var It=0;It<Ut.length;It++)this.addTriple(_,N,Ut[It],{type:n.objectURI,value:y})}else{if(y&&!N&&(M||le)&&(N=this.newBlankNode()),M&&$e)for(var dt=0;dt<Pe.length;dt++){var $t=F[Pe[dt]];$t||($t=[],F[_e]=$t),A.push({predicate:Pe[dt],list:$t})}else if(M)for(var ut=0;ut<Pe.length;ut++)A.push({predicate:Pe[ut],forward:!0});if(le)for(var Qt=0;Qt<Ut.length;Qt++)A.push({predicate:Ut[Qt],forward:!1})}if(he){var et=null,lt=null;fe?(et=fe.value===""?n.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(fe.value,x,g.terms,E,i),me&&!te?lt=me.value:lt=et===n.XMLLiteralURI||et===n.HTMLLiteralURI?null:te?te.value:_.textContent):te?(et=n.PlainLiteralURI,lt=te.value):me?(lt=me.value,et=n.deriveDateTimeType(lt),et||(et=n.PlainLiteralURI)):!M&&!le&&(ve&&(lt=this.parseSafeCURIEOrCURIEOrURI(ve.value,E,i)),!lt&&Fe?lt=this.resolveAndNormalize(i,encodeURI(Fe.value)):!lt&&J&&(lt=this.resolveAndNormalize(i,encodeURI(J.value))),lt&&(et=n.objectURI)),et||(K&&!ce?(et=n.objectURI,lt=B):(lt=_.textContent,this.inHTMLMode&&_.localName==="time"&&(et=n.deriveDateTimeType(lt)),et||(et=n.PlainLiteralURI))),Te=this.tokenize(he.value);for(var Bn=0;Bn<Te.length;Bn++){var $r=this.parsePredicate(Te[Bn],x,g.terms,E,i);if($r)if($e){var on=F[$r];on||(on=[],F[$r]=on),on.push(et===n.XMLLiteralURI||et===n.HTMLLiteralURI?{type:et,value:_.childNodes}:{type:et||n.PlainLiteralURI,value:lt,language:P})}else et===n.XMLLiteralURI||et===n.HTMLLiteralURI?this.addTriple(_,y,$r,{type:et,value:_.childNodes}):this.addTriple(_,y,$r,{type:et||n.PlainLiteralURI,value:lt,language:P})}}if(y&&!C)for(var gr=0;gr<g.incomplete.length;gr++)g.incomplete[gr].list?g.incomplete[gr].list.push({type:n.objectURI,value:y}):g.incomplete[gr].forward?this.addTriple(_,g.subject,g.incomplete[gr].predicate,{type:n.objectURI,value:y}):this.addTriple(_,y,g.incomplete[gr].predicate,{type:n.objectURI,value:g.subject});var wt=null,gi=y;C?(wt=this.push(g,g.subject),wt.parentObject=a(_.parentNode.baseURI)===g.parentObject?a(_.baseURI):g.parentObject,wt.incomplete=g.incomplete,wt.language=P,wt.prefixes=E,wt.vocabulary=x):(wt=this.push(g,y),wt.parentObject=N||y||g.subject,wt.prefixes=E,wt.incomplete=A,N&&(gi=N,F={},T=!0),wt.listMapping=F,wt.language=P,wt.vocabulary=x),T&&s.unshift({parent:_,context:g,subject:gi,listMapping:F});for(var Vr=_.lastChild;Vr;Vr=Vr.previousSibling)Vr.nodeType===Fr.ELEMENT_NODE&&s.unshift({current:Vr,context:wt})}this.inHTMLMode&&this.copyProperties();for(var fn=0;fn<this.finishedHandlers.length;fn++)this.finishedHandlers[fn](e)}},{key:"push",value:function(e,t){return{parent:e,subject:t||(e?e.subject:null),parentObject:null,incomplete:[],listMapping:e?e.listMapping:{},language:e?e.language:this.language,prefixes:e?e.prefixes:this.target.graph.prefixes,terms:e?e.terms:this.target.graph.terms,vocabulary:e?e.vocabulary:this.vocabulary}}},{key:"resolveAndNormalize",value:function(e,t){return Gt(t,e)}},{key:"setContext",value:function(e){e.localName==="html"&&e.getAttribute("version")==="XHTML+RDFa 1.1"?this.setXHTMLContext():e.localName==="html"||e.namespaceURI==="http://www.w3.org/1999/xhtml"?typeof document<"u"&&document.doctype?document.doctype.publicId==="-//W3C//DTD XHTML+RDFa 1.0//EN"&&document.doctype.systemId==="http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"?(console.log("WARNING: RDF 1.0 is not supported.  Defaulting to HTML5 mode."),this.setHTMLContext()):document.doctype.publicId==="-//W3C//DTD XHTML+RDFa 1.1//EN"&&document.doctype.systemId==="http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"?this.setXHTMLContext():this.setHTMLContext():this.setHTMLContext():this.setXMLContext()}},{key:"setHTMLContext",value:function(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.inXHTMLMode=!1,this.inHTMLMode=!0}},{key:"setInitialContext",value:function(){this.vocabulary=null,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}]}},{key:"setXHTMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.target.graph.terms.alternate="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.graph.terms.appendix="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.graph.terms.bookmark="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.graph.terms.cite="http://www.w3.org/1999/xhtml/vocab#cite",this.target.graph.terms.chapter="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.graph.terms.contents="http://www.w3.org/1999/xhtml/vocab#contents",this.target.graph.terms.copyright="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.graph.terms.first="http://www.w3.org/1999/xhtml/vocab#first",this.target.graph.terms.glossary="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.graph.terms.help="http://www.w3.org/1999/xhtml/vocab#help",this.target.graph.terms.icon="http://www.w3.org/1999/xhtml/vocab#icon",this.target.graph.terms.index="http://www.w3.org/1999/xhtml/vocab#index",this.target.graph.terms.last="http://www.w3.org/1999/xhtml/vocab#last",this.target.graph.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms.meta="http://www.w3.org/1999/xhtml/vocab#meta",this.target.graph.terms.next="http://www.w3.org/1999/xhtml/vocab#next",this.target.graph.terms.prev="http://www.w3.org/1999/xhtml/vocab#prev",this.target.graph.terms.previous="http://www.w3.org/1999/xhtml/vocab#previous",this.target.graph.terms.section="http://www.w3.org/1999/xhtml/vocab#section",this.target.graph.terms.stylesheet="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.graph.terms.subsection="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.graph.terms.start="http://www.w3.org/1999/xhtml/vocab#start",this.target.graph.terms.top="http://www.w3.org/1999/xhtml/vocab#top",this.target.graph.terms.up="http://www.w3.org/1999/xhtml/vocab#up",this.target.graph.terms.p3pv1="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.graph.terms.related="http://www.w3.org/1999/xhtml/vocab#related",this.target.graph.terms.role="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.terms.transformation="http://www.w3.org/1999/xhtml/vocab#transformation"}},{key:"setXMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!1,this.inHTMLMode=!1}},{key:"tokenize",value:function(e){return this.trim(e).split(/\s+/)}},{key:"toRDFNodeObject",value:function(e){var t=this;if(!(typeof e>"u")){if(typeof e=="string")return e.substring(0,2)==="_:"?(typeof this.blankNodes[e.substring(2)]>"u"&&(this.blankNodes[e.substring(2)]=new fr(e.substring(2))),this.blankNodes[e.substring(2)]):Jt.namedNode(e);switch(e.type){case n.objectURI:return e.value.substring(0,2)==="_:"?(typeof this.blankNodes[e.value.substring(2)]>"u"&&(this.blankNodes[e.value.substring(2)]=new fr(e.value.substring(2))),this.blankNodes[e.value.substring(2)]):Jt.namedNode(e.value);case n.PlainLiteralURI:return new sr(e.value,e.language||"");case n.XMLLiteralURI:case n.HTMLLiteralURI:var i="";return Object.keys(e.value).forEach(function(s){i+=Xp(e.value[s],t.htmlOptions)}),new sr(i,"",new yt(e.type));default:return new sr(e.value,"",new yt(e.type))}}}},{key:"trim",value:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}],[{key:"parseRDFaDOM",value:function(e,t,i){var s=new n(t,{base:i});e.baseURI||(e.baseURI=i),s.process(e,{baseURI:i})}},{key:"tokenize",value:function(e){return this.trim(e).split(/\s+/)}},{key:"trim",value:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}])}();Wt.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral";Wt.HTMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML";Wt.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral";Wt.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object";Wt.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type";Wt.nameChar="[-A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F.0-9·̀-ͯ‿-⁀]";Wt.nameStartChar="[A-Za-zÀ-ÖØ-öø-ÿĀ-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϖϚϜϞϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁҐ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙա-ֆא-תװ-ײء-غف-يٱ-ڷں-ھۀ-ێې-ۓەۥ-ۦअ-हऽक़-ॡঅ-ঌএ-ঐও-নপ-রলশ-হড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલ-ળવ-હઽૠଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହଽଡ଼-ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡก-ฮะา-ำเ-ๅກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ຮະາ-ຳຽເ-ໄཀ-ཇཉ-ཀྵႠ-Ⴥა-ჶᄀᄂ-ᄃᄅ-ᄇᄉᄋ-ᄌᄎ-ᄒᄼᄾᅀᅌᅎᅐᅔ-ᅕᅙᅟ-ᅡᅣᅥᅧᅩᅭ-ᅮᅲ-ᅳᅵᆞᆨᆫᆮ-ᆯᆷ-ᆸᆺᆼ-ᇂᇫᇰᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼΩK-Å℮ↀ-ↂぁ-ゔァ-ヺㄅ-ㄬ가-힣一-龥〇〡-〩_]";Wt.NCNAME=new RegExp("^"+Wt.nameStartChar+Wt.nameChar+"*$");Wt.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:"http://www.w3.org/2001/XMLSchema#duration"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#dateTime"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#date"},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#time"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:"http://www.w3.org/2001/XMLSchema#gYearMonth"},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:"http://www.w3.org/2001/XMLSchema#gYear"}];var Ki=Wt.parseRDFaDOM,ua=function(){function n(r){st(this,n),this.store=r,this.bnodes={},this.why=null,this.reify=!1}return at(n,[{key:"frameFactory",value:function(e,t,i){return{NODE:1,ARC:2,parent:t,parser:e,store:e.store,element:i,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:!1,terminateFrame:function(){this.collection&&this.node.close()},addSymbol:function(a,l){l=Gt(l,this.base),this.node=this.store.sym(l),this.nodeType=a},loadTriple:function(){if(this.parent.parent.collection?this.parent.parent.node.append(this.node):this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why),this.parent.rdfid!=null){var a=this.store.sym(Gt("#"+this.parent.rdfid,this.base));this.store.add(a,this.store.sym(n.ns.RDF+"type"),this.store.sym(n.ns.RDF+"Statement"),this.parser.why),this.store.add(a,this.store.sym(n.ns.RDF+"subject"),this.parent.parent.node,this.parser.why),this.store.add(a,this.store.sym(n.ns.RDF+"predicate"),this.parent.node,this.parser.why),this.store.add(a,this.store.sym(n.ns.RDF+"object"),this.node,this.parser.why)}},isTripleToLoad:function(){return this.parent!=null&&this.parent.parent!=null&&this.nodeType===this.NODE&&this.parent.nodeType===this.ARC&&this.parent.parent.nodeType===this.NODE},addNode:function(a){this.addSymbol(this.NODE,a),this.isTripleToLoad()&&this.loadTriple()},addCollection:function(){this.nodeType=this.NODE,this.node=this.store.collection(),this.collection=!0,this.isTripleToLoad()&&this.loadTriple()},addCollectionArc:function(){this.nodeType=this.ARC},addBNode:function(a){a!=null?this.parser.bnodes[a]!=null?this.node=this.parser.bnodes[a]:this.node=this.parser.bnodes[a]=this.store.bnode():this.node=this.store.bnode(),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()},addArc:function(a){a===n.ns.RDF+"li"&&(a=n.ns.RDF+"_"+this.parent.listIndex,this.parent.listIndex++),this.addSymbol(this.ARC,a)},addLiteral:function(a){this.parent.datatype&&this.parent.datatype!==n.ns.RDF+"langString"?this.node=this.store.literal(a,this.store.sym(this.parent.datatype)):this.node=this.store.literal(a,this.lang),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}}}},{key:"getAttributeNodeNS",value:function(e,t,i){var s=null;if(e.getAttributeNodeNS)s=e.getAttributeNodeNS(t,i);else for(var a=e.attributes,l,u,o=0;o<a.length;++o)if(l=a[o],l.namespaceURI===t&&(u=l.prefix?l.prefix+":"+i:i,u===l.nodeName)){s=l;break}return s}},{key:"parse",value:function(e,t,i){var s=e.childNodes;this.cleanParser();var a;if(e.nodeType===n.nodeType.DOCUMENT){for(var l=0;l<s.length;l++)if(s[l].nodeType===n.nodeType.ELEMENT){a=s[l];break}}else if(e.nodeType===n.nodeType.ELEMENT)a=e;else throw new Error("RDFParser: can't find root in "+t+". Halting. ");this.why=i;var u=this.frameFactory(this);return this.base=t,u.base=t,u.lang=null,this.parseDOM(this.buildFrame(u,a)),!0}},{key:"parseDOM",value:function(e){for(var t,i=(function(A){var F="";if(A.namespaceURI==null)throw new Error("RDF/XML syntax error: No namespace for "+A.localName+" in "+this.base);return A.namespaceURI&&(F=F+A.namespaceURI),A.localName?F=F+A.localName:A.nodeName&&(A.nodeName.indexOf(":")>=0?F=F+A.nodeName.split(":")[1]:F=F+A.nodeName),F}).bind(this),s=!0;e.parent;){var a=e.element,l=a.attributes;if(a.nodeType===n.nodeType.TEXT||a.nodeType===n.nodeType.CDATA_SECTION)e.parent.nodeType===e.NODE&&(e.addArc(n.ns.RDF+"value"),e=this.buildFrame(e)),e.addLiteral(a.nodeValue);else if(i(a)!==n.ns.RDF+"RDF")if(e.parent&&e.parent.collection&&(e.addCollectionArc(),e=this.buildFrame(e,e.element),e.parent.element=null),!e.parent||!e.parent.nodeType||e.parent.nodeType===e.ARC){var u=this.getAttributeNodeNS(a,n.ns.RDF,"about");if(t=this.getAttributeNodeNS(a,n.ns.RDF,"ID"),u&&t)throw new Error("RDFParser: "+a.nodeName+" has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.");if(!u&&t)e.addNode("#"+t.nodeValue),a.removeAttributeNode(t);else if(u==null&&t==null){var o=this.getAttributeNodeNS(a,n.ns.RDF,"nodeID");o?(e.addBNode(o.nodeValue),a.removeAttributeNode(o)):e.addBNode()}else e.addNode(u.nodeValue),a.removeAttributeNode(u);var c=this.getAttributeNodeNS(a,n.ns.RDF,"type");n.ns.RDF+"Description"!==i(a)&&(c={nodeValue:i(a)}),c!=null&&(this.store.add(e.node,this.store.sym(n.ns.RDF+"type"),this.store.sym(Gt(c.nodeValue,e.base)),this.why),c.nodeName&&a.removeAttributeNode(c));for(var p=l.length-1;p>=0;p--)this.store.add(e.node,this.store.sym(i(l[p])),this.store.literal(l[p].nodeValue,e.lang),this.why)}else{e.addArc(i(a)),this.reify&&(t=this.getAttributeNodeNS(a,n.ns.RDF,"ID"),t&&(e.rdfid=t.nodeValue,a.removeAttributeNode(t)));var h=this.getAttributeNodeNS(a,n.ns.RDF,"parseType"),_=this.getAttributeNodeNS(a,n.ns.RDF,"datatype");if(_&&(e.datatype=_.nodeValue,a.removeAttributeNode(_)),h){var g=h.nodeValue;g==="Literal"?(e.datatype=n.ns.RDF+"XMLLiteral",e=this.buildFrame(e),e.addLiteral(a.innerHTML||a.childNodes),s=!1):g==="Resource"?(e=this.buildFrame(e,e.element),e.parent.element=null,e.addBNode()):g==="Collection"&&(e=this.buildFrame(e,e.element),e.parent.element=null,e.addCollection()),a.removeAttributeNode(h)}if(l.length!==0){var C=this.getAttributeNodeNS(a,n.ns.RDF,"resource"),y=this.getAttributeNodeNS(a,n.ns.RDF,"nodeID");e=this.buildFrame(e),C?(e.addNode(C.nodeValue),a.removeAttributeNode(C)):y?(e.addBNode(y.nodeValue),a.removeAttributeNode(y)):e.addBNode();for(var N=l.length-1;N>=0;N--){var B=this.buildFrame(e);B.addArc(i(l[N])),i(l[N])===n.ns.RDF+"type"?this.buildFrame(B).addNode(l[N].nodeValue):this.buildFrame(B).addLiteral(l[N].nodeValue)}}else a.childNodes.length===0&&this.buildFrame(e).addLiteral("")}for(a=e.element;e.parent;){for(var E=e;a==null;)e=e.parent,a=e.element;var L=a.childNodes&&a.childNodes[e.lastChild];if(!L||!s){if(e.terminateFrame(),!(e=e.parent))break;a=e.element,s=!0}else if(L.nodeType!==n.nodeType.ELEMENT&&L.nodeType!==n.nodeType.TEXT&&L.nodeType!==n.nodeType.CDATA_SECTION||(L.nodeType===n.nodeType.TEXT||L.nodeType===n.nodeType.CDATA_SECTION)&&a.childNodes.length!==1)e.lastChild++;else{e.lastChild++,e=this.buildFrame(E,a.childNodes[e.lastChild-1]);break}}}}},{key:"cleanParser",value:function(){this.bnodes={},this.why=null}},{key:"buildFrame",value:function(e,t){var i=this.frameFactory(this,e,t);if(e&&(i.base=e.base,i.lang=e.lang),!t||t.nodeType===n.nodeType.TEXT||t.nodeType===n.nodeType.CDATA_SECTION)return i;var s=t.attributes,a=t.getAttributeNode("xml:base");a!=null&&(i.base=a.nodeValue,t.removeAttribute("xml:base"));var l=t.getAttributeNode("xml:lang");l!=null&&(i.lang=l.nodeValue,t.removeAttribute("xml:lang"));for(var u=s.length-1;u>=0;u--)if(s[u].nodeName.substr(0,3)==="xml"){if(s[u].name.slice(0,6)==="xmlns:"){var o=s[u].nodeValue;this.base&&(o=Gt(o,this.base)),this.store.setPrefixForURI(s[u].name.slice(6),o)}t.removeAttributeNode(s[u])}return i}}])}();ge(ua,"ns",{RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"});ge(ua,"nodeType",{ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12});function Q_(n,r,e){var t,i,s,a=["INSERT","DELETE","WHERE"],l=Ft("http://www.w3.org/ns/pim/patch#"),u=gs(r,r,e,e,null,null,"",null),o={},c=function(y,N,B,E,L){return"Line "+(N+1)+" of <"+y+`>: Bad syntax:
   `+L+`
   at: "`+B.slice(E,E+30)+'"'};t=0;var p=r.sym(e+"#query");for(o.query=p;;){if(i=u.skipSpace(n,t),i<0)return o;if(n[i]===";"){if(t=u.skipSpace(n,i+1),t<0)return o;i=t}var h=!1;for(s=0;s<a.length;s++){var _=a[s];if(n.slice(i,i+_.length)===_){if(t=u.skipSpace(n,i+_.length),t<0)throw c(u._thisDoc,u.lines,n,i+_.length,"found EOF, needed {...} after "+_);if((_==="INSERT"||_==="DELETE")&&n.slice(t,t+4)==="DATA"){if(i=u.skipSpace(n,t+4),i<0)throw c(u._thisDoc,u.lines,n,t+4,"needed {...} after INSERT DATA "+_);t=i}var g=[];if(i=u.node(n,t,g),i<0)throw c(u._thisDoc,u.lines,n,t,"bad syntax or EOF in {...} after "+_);o[_.toLowerCase()]=g[0],r.add(p,l(_.toLowerCase()),g[0]),h=!0,t=i}}if(!h&&n.slice(i,i+7)==="@prefix"){if(t=u.directive(n,i),t<0)throw c(u._thisDoc,u.lines,n,t,"bad syntax or EOF after @prefix ");t=u.checkDot(n,t),h=!0}if(!h)throw c(u._thisDoc,u.lines,n,i,"Unknown syntax at start of statememt: '"+n.slice(i).slice(0,20)+"'")}}function Ya(n,r,e){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"text/turtle",i=arguments.length>4?arguments[4]:void 0;t=t||Yr,t=t.split(";")[0];try{if(t===Vo||t===Yr){var s=gs(r,r,e,e,null,null,"",null);s.loadBuf(n),u()}else if(t===Zn){var a=new ua(r);a.parse(Dn(n),e,r.sym(e)),u()}else if(t===za)Ki(Dn(n,{contentType:za}),r,e),u();else if(t===Rl)Ki(Dn(n,{contentType:Rl}),r,e),u();else if(t===Jh||t===Zh)Q_(n,r,e),u();else if(t===$a)Pf(n,r,e,u);else if(t===Ha||t===Va){var l=new Hf({factory:Qa});c(null,n)}else throw t===void 0?new Error("contentType is undefined"):new Error("Don't know how to parse "+t+" yet")}catch(h){o(h)}Ya.handled={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/sparql-update":!0,"application/sparql-update-single-match":!0,"application/ld+json":!0,"application/nquads":!0,"application/n-quads":!0};function u(){if(i)i(null,r);else return}function o(h){if(t!==$a||t!==Ha||t!==Va)if(i)i(h,r);else{var _=new Error(""+h+" while trying to parse <"+e+"> as "+t);throw _.cause=h,_}}function c(h,_){try{l.parse(_,p)}catch(g){i(g,r)}}function p(h,_){_?r.add(_.subject,_.predicate,_.object,_.graph):i(h,r)}}var Ja={exports:{}};(function(n,r){var e=typeof self<"u"?self:rs,t=function(){function s(){this.fetch=!1,this.DOMException=e.DOMException}return s.prototype=e,new s}();(function(s){(function(a){var l={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function u(w){return w&&DataView.prototype.isPrototypeOf(w)}if(l.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(w){return w&&o.indexOf(Object.prototype.toString.call(w))>-1};function p(w){if(typeof w!="string"&&(w=String(w)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(w))throw new TypeError("Invalid character in header field name");return w.toLowerCase()}function h(w){return typeof w!="string"&&(w=String(w)),w}function _(w){var H={next:function(){var I=w.shift();return{done:I===void 0,value:I}}};return l.iterable&&(H[Symbol.iterator]=function(){return H}),H}function g(w){this.map={},w instanceof g?w.forEach(function(H,I){this.append(I,H)},this):Array.isArray(w)?w.forEach(function(H){this.append(H[0],H[1])},this):w&&Object.getOwnPropertyNames(w).forEach(function(H){this.append(H,w[H])},this)}g.prototype.append=function(w,H){w=p(w),H=h(H);var I=this.map[w];this.map[w]=I?I+", "+H:H},g.prototype.delete=function(w){delete this.map[p(w)]},g.prototype.get=function(w){return w=p(w),this.has(w)?this.map[w]:null},g.prototype.has=function(w){return this.map.hasOwnProperty(p(w))},g.prototype.set=function(w,H){this.map[p(w)]=h(H)},g.prototype.forEach=function(w,H){for(var I in this.map)this.map.hasOwnProperty(I)&&w.call(H,this.map[I],I,this)},g.prototype.keys=function(){var w=[];return this.forEach(function(H,I){w.push(I)}),_(w)},g.prototype.values=function(){var w=[];return this.forEach(function(H){w.push(H)}),_(w)},g.prototype.entries=function(){var w=[];return this.forEach(function(H,I){w.push([I,H])}),_(w)},l.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function C(w){if(w.bodyUsed)return Promise.reject(new TypeError("Already read"));w.bodyUsed=!0}function y(w){return new Promise(function(H,I){w.onload=function(){H(w.result)},w.onerror=function(){I(w.error)}})}function N(w){var H=new FileReader,I=y(H);return H.readAsArrayBuffer(w),I}function B(w){var H=new FileReader,I=y(H);return H.readAsText(w),I}function E(w){for(var H=new Uint8Array(w),I=new Array(H.length),V=0;V<H.length;V++)I[V]=String.fromCharCode(H[V]);return I.join("")}function L(w){if(w.slice)return w.slice(0);var H=new Uint8Array(w.byteLength);return H.set(new Uint8Array(w)),H.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(w){this._bodyInit=w,w?typeof w=="string"?this._bodyText=w:l.blob&&Blob.prototype.isPrototypeOf(w)?this._bodyBlob=w:l.formData&&FormData.prototype.isPrototypeOf(w)?this._bodyFormData=w:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(w)?this._bodyText=w.toString():l.arrayBuffer&&l.blob&&u(w)?(this._bodyArrayBuffer=L(w.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(w)||c(w))?this._bodyArrayBuffer=L(w):this._bodyText=w=Object.prototype.toString.call(w):this._bodyText="",this.headers.get("content-type")||(typeof w=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(w)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var w=C(this);if(w)return w;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?C(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(N)}),this.text=function(){var w=C(this);if(w)return w;if(this._bodyBlob)return B(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}var F=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function T(w){var H=w.toUpperCase();return F.indexOf(H)>-1?H:w}function P(w,H){H=H||{};var I=H.body;if(w instanceof P){if(w.bodyUsed)throw new TypeError("Already read");this.url=w.url,this.credentials=w.credentials,H.headers||(this.headers=new g(w.headers)),this.method=w.method,this.mode=w.mode,this.signal=w.signal,!I&&w._bodyInit!=null&&(I=w._bodyInit,w.bodyUsed=!0)}else this.url=String(w);if(this.credentials=H.credentials||this.credentials||"same-origin",(H.headers||!this.headers)&&(this.headers=new g(H.headers)),this.method=T(H.method||this.method||"GET"),this.mode=H.mode||this.mode||null,this.signal=H.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&I)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(I)}P.prototype.clone=function(){return new P(this,{body:this._bodyInit})};function x(w){var H=new FormData;return w.trim().split("&").forEach(function(I){if(I){var V=I.split("="),ee=V.shift().replace(/\+/g," "),Q=V.join("=").replace(/\+/g," ");H.append(decodeURIComponent(ee),decodeURIComponent(Q))}}),H}function R(w){var H=new g,I=w.replace(/\r?\n[\t ]+/g," ");return I.split(/\r?\n/).forEach(function(V){var ee=V.split(":"),Q=ee.shift().trim();if(Q){var q=ee.join(":").trim();H.append(Q,q)}}),H}A.call(P.prototype);function m(w,H){H||(H={}),this.type="default",this.status=H.status===void 0?200:H.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in H?H.statusText:"OK",this.headers=new g(H.headers),this.url=H.url||"",this._initBody(w)}A.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},m.error=function(){var w=new m(null,{status:0,statusText:""});return w.type="error",w};var b=[301,302,303,307,308];m.redirect=function(w,H){if(b.indexOf(H)===-1)throw new RangeError("Invalid status code");return new m(null,{status:H,headers:{location:w}})},a.DOMException=s.DOMException;try{new a.DOMException}catch{a.DOMException=function(H,I){this.message=H,this.name=I;var V=Error(H);this.stack=V.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function O(w,H){return new Promise(function(I,V){var ee=new P(w,H);if(ee.signal&&ee.signal.aborted)return V(new a.DOMException("Aborted","AbortError"));var Q=new XMLHttpRequest;function q(){Q.abort()}Q.onload=function(){var M={status:Q.status,statusText:Q.statusText,headers:R(Q.getAllResponseHeaders()||"")};M.url="responseURL"in Q?Q.responseURL:M.headers.get("X-Request-URL");var le="response"in Q?Q.response:Q.responseText;I(new m(le,M))},Q.onerror=function(){V(new TypeError("Network request failed"))},Q.ontimeout=function(){V(new TypeError("Network request failed"))},Q.onabort=function(){V(new a.DOMException("Aborted","AbortError"))},Q.open(ee.method,ee.url,!0),ee.credentials==="include"?Q.withCredentials=!0:ee.credentials==="omit"&&(Q.withCredentials=!1),"responseType"in Q&&l.blob&&(Q.responseType="blob"),ee.headers.forEach(function(M,le){Q.setRequestHeader(le,M)}),ee.signal&&(ee.signal.addEventListener("abort",q),Q.onreadystatechange=function(){Q.readyState===4&&ee.signal.removeEventListener("abort",q)}),Q.send(typeof ee._bodyInit>"u"?null:ee._bodyInit)})}return O.polyfill=!0,s.fetch||(s.fetch=O,s.Headers=g,s.Request=P,s.Response=m),a.Headers=g,a.Request=P,a.Response=m,a.fetch=O,Object.defineProperty(a,"__esModule",{value:!0}),a})({})})(t),t.fetch.ponyfill=!0,delete t.fetch.polyfill;var i=t;r=i.fetch,r.default=i.fetch,r.fetch=i.fetch,r.Headers=i.Headers,r.Request=i.Request,r.Response=i.Response,n.exports=r})(Ja,Ja.exports);var Ui=Ja.exports;const Y_=na(Ui);function J_(n,r){var e=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=Z_(n))||r){e&&(n=e);var t=0,i=function(){};return{s:i,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(o){throw o},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,l;return{s:function(){e=e.call(n)},n:function(){var o=e.next();return s=o.done,o},e:function(o){a=!0,l=o},f:function(){try{!s&&e.return!=null&&e.return()}finally{if(a)throw l}}}}function Z_(n,r){if(n){if(typeof n=="string")return gu(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return gu(n,r)}}function gu(n,r){(r==null||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function sn(n,r,e){return r=ct(r),Cr(n,Xf()?Reflect.construct(r,e||[],ct(n).constructor):r.apply(n,e))}function Xf(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xf=function(){return!!n})()}var K_={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/ld+json":!0},Gf={rdf:Zn,owl:Zn,n3:"text/n3",ttl:"text/turtle",nt:"text/n3",acl:"text/n3",html:"text/html",xml:"text/xml"},Wf=function(r){return{link:Ft("http://www.w3.org/2007/ont/link#",r),http:Ft("http://www.w3.org/2007/ont/http#",r),httph:Ft("http://www.w3.org/2007/ont/httph#",r),rdf:Ft("http://www.w3.org/1999/02/22-rdf-syntax-ns#",r),rdfs:Ft("http://www.w3.org/2000/01/rdf-schema#",r),dc:Ft("http://purl.org/dc/elements/1.1/",r),ldp:Ft("http://www.w3.org/ns/ldp#",r)}},hr=Wf(),Ur=at(function n(r,e){st(this,n),ge(this,"response",void 0),ge(this,"dom",void 0),this.response=r,this.dom=e});ge(Ur,"pattern",void 0);var bs=function(n){function r(){return st(this,r),sn(this,r,arguments)}return Bt(r,n),at(r,[{key:"parse",value:function(t,i,s){var a=t.store;this.dom||(this.dom=Dn(i));var l=this.dom.documentElement;if(l.nodeName==="parsererror")return t.failFetch(s,"Badly formed XML in "+s.resource.value,"parse_error");var u=new ua(a);try{u.parse(this.dom,s.original.value,s.original)}catch(o){return t.failFetch(s,"Syntax error parsing RDF/XML! "+o,"parse_error")}return s.noMeta||a.add(s.original,hr.rdf("type"),hr.link("RDFDocument"),t.appNode),t.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"RDFXMLHandler"}},{key:"register",value:function(t){t.mediatypes[Zn]={q:.9}}}])}(Ur);bs.pattern=new RegExp("application/rdf\\+xml");var Zr=function(n){function r(){return st(this,r),sn(this,r,arguments)}return Bt(r,n),at(r,[{key:"parse",value:function(t,i,s){var a,l;this.dom||(this.dom=Dn(i));var u=t.store,o=this.dom.getElementsByTagName("title");o.length>0&&u.add(s.resource,hr.dc("title"),u.rdfFactory.literal(o[0].textContent),s.resource);for(var c=this.dom.getElementsByTagName("link"),p=c.length-1;p>=0;p--)a=c[p].getAttribute("rel"),l=!1,a||(a=c[p].getAttribute("rev"),l=!0),a&&t.linkData(s.original,a,c[p].getAttribute("href"),s.resource,l);for(var h=this.dom.getElementsByTagName("script"),_=0;_<h.length;_++){var g=h[_].getAttribute("type");K_[g]&&(Ya(h[_].textContent,u,s.original.value,g),Ya(h[_].textContent,u,s.original.value,g))}if(s.noMeta||u.add(s.resource,hr.rdf("type"),hr.link("WebPage"),t.appNode),!s.noRDFa&&Ki)try{Ki(this.dom,u,s.original.value)}catch(y){var C="Error trying to parse "+s.resource+` as RDFa:
`+y+`:
`+y.stack;return t.failFetch(s,C,"parse_error")}return t.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"XHTMLHandler"}},{key:"register",value:function(t){t.mediatypes[za]={}}}])}(Ur);Zr.pattern=new RegExp("application/xhtml");var ea=function(n){function r(){return st(this,r),sn(this,r,arguments)}return Bt(r,n),at(r,[{key:"parse",value:function(t,i,s){for(var a=Dn(i),l=0;l<a.childNodes.length;l++){var u=a.childNodes[l];if(r.isElement(u)){var o=u.namespaceURI;if(o&&o===o.rdf){t.addStatus(s.req,"Has XML root element in the RDF namespace, so assume RDF/XML.");var c=new bs(this.response,a);return c.parse(t,i,s)}break}}if(a.doctype&&a.doctype.name==="html"&&a.doctype.publicId.match(/^-\/\/W3C\/\/DTD XHTML/)&&a.doctype.systemId.match(/http:\/\/www.w3.org\/TR\/xhtml/)){t.addStatus(s.req,`Has XHTML DOCTYPE. Switching to XHTML Handler.
`);var p=new Zr(this.response,a);return p.parse(t,i,s)}var h=a.getElementsByTagName("html")[0];if(h){var _=h.getAttribute("xmlns");if(_&&_.match(/^http:\/\/www.w3.org\/1999\/xhtml/)){t.addStatus(s.req,`Has a default namespace for XHTML. Switching to XHTMLHandler.
`);var g=new Zr(this.response,a);return g.parse(t,i,s)}}return t.failFetch(s,`Unsupported dialect of XML: not RDF or XHTML namespace, etc.
`+i.slice(0,80),901)}}],[{key:"toString",value:function(){return"XMLHandler"}},{key:"register",value:function(t){t.mediatypes["text/xml"]={q:.5},t.mediatypes["application/xml"]={q:.5}}},{key:"isElement",value:function(t){return t.nodeType===Node.ELEMENT_NODE}}])}(Ur);ea.pattern=new RegExp("(text|application)/(.*)xml");var Qf=function(n){function r(){return st(this,r),sn(this,r,arguments)}return Bt(r,n),at(r,[{key:"parse",value:function(t,i,s){var a=t.store;if(Kf(i)){t.addStatus(s.req,`Has an XML declaration. We'll assume it's XHTML as the content-type was text/html.
`);var l=new Zr(this.response);return l.parse(t,i,s)}if(e0(i)){t.addStatus(s.req,`Has XHTML DOCTYPE. Switching to XHTMLHandler.
`);var u=new Zr(this.response);return u.parse(t,i,s)}if(t0(i)){t.addStatus(s.req,`Has default namespace for XHTML, so switching to XHTMLHandler.
`);var o=new Zr(this.response);return o.parse(t,i,s)}var c=new RegExp("<title>([\\s\\S]+?)</title>","im").exec(i);return c&&a.add(s.resource,hr.dc("title"),a.rdfFactory.literal(c[1]),s.resource),a.add(s.resource,hr.rdf("type"),hr.link("WebPage"),t.appNode),t.addStatus(s.req,"non-XML HTML document, not parsed for data."),t.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"HTMLHandler"}},{key:"register",value:function(t){t.mediatypes["text/html"]={q:.9}}}])}(Ur);Qf.pattern=new RegExp("text/html");var Yf=function(n){function r(){return st(this,r),sn(this,r,arguments)}return Bt(r,n),at(r,[{key:"parse",value:function(t,i,s,a){var l=t.store;return new Promise(function(u,o){try{Pf(i,l,s.original.value,function(){u(t.doneFetch(s,a))})}catch(p){var c="Error trying to parse "+s.resource+` as JSON-LD:
`+p;u(t.failFetch(s,c,"parse_error",a))}})}}],[{key:"toString",value:function(){return"JsonLdHandler"}},{key:"register",value:function(t){t.mediatypes["application/ld+json"]={q:.9}}}])}(Ur);Yf.pattern=/application\/ld\+json/;var Jf=function(n){function r(){return st(this,r),sn(this,r,arguments)}return Bt(r,n),at(r,[{key:"parse",value:function(t,i,s){if(Kf(i)){t.addStatus(s.req,"Warning: "+s.resource+` has an XML declaration. We'll assume it's XML but its content-type wasn't XML.
`);var a=new ea(this.response);return a.parse(t,i,s)}if(i.slice(0,500).match(/xmlns:/)){t.addStatus(s.req,`May have an XML namespace. We'll assume it's XML but its content-type wasn't XML.
`);var l=new ea(this.response);return l.parse(t,i,s)}return t.addStatus(s.req,"Plain text document, no known RDF semantics."),t.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"TextHandler"}},{key:"register",value:function(t){t.mediatypes["text/plain"]={q:.5}}}])}(Ur);Jf.pattern=new RegExp("text/plain");var Zf=function(n){function r(){return st(this,r),sn(this,r,arguments)}return Bt(r,n),at(r,[{key:"parse",value:function(t,i,s,a){var l=t.store,u=gs(l,l,s.original.value,s.original.value,null,null,"",null);try{u.loadBuf(i)}catch(c){var o="Error trying to parse "+s.resource+` as Notation3:
`+c;return t.failFetch(s,o,"parse_error",a)}return t.addStatus(s.req,"N3 parsed: "+u.statementCount+" triples in "+u.lines+" lines."),t.store.add(s.original,hr.rdf("type"),hr.link("RDFDocument"),t.appNode),t.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"N3Handler"}},{key:"register",value:function(t){t.mediatypes["text/n3"]={q:"1.0"},t.mediatypes["text/turtle"]={q:1}}}])}(Ur);Zf.pattern=new RegExp("(application|text)/(x-)?(rdf\\+)?(n3|turtle)");var Za={RDFXMLHandler:bs,XHTMLHandler:Zr,XMLHandler:ea,HTMLHandler:Qf,TextHandler:Jf,N3Handler:Zf,JsonLdHandler:Yf};function e0(n){var r=n.indexOf("<!DOCTYPE html"),e=n.indexOf(">");return r===-1||e===-1||r>e?!1:n.substr(r,e-r).indexOf("XHTML")!==-1}function Kf(n){var r=n.match(/\s*<\?xml\s+version\s*=[^<>]+\?>/);return!!r}function t0(n){var r=n.match(/[^(<html)]*<html\s+[^<]*xmlns=['"]http:\/\/www.w3.org\/1999\/xhtml["'][^<]*>/);return!!r}var In=function(){function n(r){var e=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(st(this,n),ge(this,"store",void 0),ge(this,"timeout",void 0),ge(this,"_fetch",void 0),ge(this,"mediatypes",void 0),ge(this,"appNode",void 0),ge(this,"requested",void 0),ge(this,"timeouts",void 0),ge(this,"redirectedTo",void 0),ge(this,"fetchQueue",void 0),ge(this,"fetchCallbacks",void 0),ge(this,"nonexistent",void 0),ge(this,"lookedUp",void 0),ge(this,"handlers",void 0),ge(this,"ns",void 0),ge(this,"fireCallbacks",void 0),this.store=r||new fi,this.ns=Wf(this.store.rdfFactory),this.timeout=t.timeout||3e4,this._fetch=t.fetch||typeof global<"u"&&(global.solidFetcher||global.solidFetch)||typeof window<"u"&&(window.solidFetcher||window.solidFetch)||Y_,!this._fetch)throw new Error("No _fetch function available for Fetcher");this.appNode=this.store.sym("chrome://TheCurrentSession"),this.store.fetcher=this,this.requested={},this.timeouts={},this.redirectedTo={},this.fetchQueue={},this.fetchCallbacks={},this.nonexistent={},this.lookedUp={},this.handlers=[],this.mediatypes={"image/*":{q:.9},"*/*":{q:.1}},zp(this,["request","fail","refresh","retract","done"]),Object.keys(t.handlers||Za).map(function(i){return e.addHandler(Za[i])})}return at(n,[{key:"load",value:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i=Object.assign({},i),e instanceof Array)return Promise.all(e.map(function(y){return t.load(y,Object.assign({},i))}));var s=e,a=gn(s);a=a.split("#")[0],i=this.initFetchOptions(a,i);var l=this.appNode,u=this.store,o=u.statementsMatching(void 0,this.ns.link("requestedURI"),u.sym(a),l).map(function(y){return y.subject}),c=J_(o),p;try{for(c.s();!(p=c.n()).done;){var h=p.value,_=u.any(h,this.ns.link("response"),null,l);if(_!=null){var g=u.statementsMatching(_,this.ns.link("outOfDate"),!0,l);u.remove(g),i.force=!0,i.clearPreviousData=!0}}}catch(y){c.e(y)}finally{c.f()}var C=this.initFetchOptions(a,i);return this.pendingFetchPromise(a,C.baseURI,C)}},{key:"pendingFetchPromise",value:function(){var r=Ll(Fi.mark(function t(i,s,a){var l=this,u;return Fi.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(c.t0=!a.force,!c.t0){c.next=5;break}return c.next=4,this.fetchQueue[s];case 4:c.t0=c.sent;case 5:if(!c.t0){c.next=9;break}u=this.fetchQueue[s],c.next=12;break;case 9:u=Promise.race([this.setRequestTimeout(i,a),this.fetchUri(i,a)]),this.fetchQueue[s]=u,this.cleanupFetchRequest(s,void 0,this.timeout);case 12:return c.abrupt("return",u.then(function(p){return i in l.timeouts&&(l.timeouts[i].forEach(clearTimeout),delete l.timeouts[i]),p}));case 13:case"end":return c.stop()}},t,this)}));function e(t,i,s){return r.apply(this,arguments)}return e}()},{key:"cleanupFetchRequest",value:function(e,t,i){var s=this;t!==void 0&&console.warn("_options is deprecated"),this.timeouts[e]=(this.timeouts[e]||[]).concat(setTimeout(function(){s.isPending(e)||delete s.fetchQueue[e]},i))}},{key:"initFetchOptions",value:function(e,t){var i=this.store,s=!t.method||t.method.toUpperCase()==="GET";s||(t.force=!0),t.resource=i.rdfFactory.namedNode(e),t.baseURI=t.baseURI||e,t.original=i.rdfFactory.namedNode(t.baseURI),t.req=i.bnode(),t.headers=t.headers||new Ui.Headers,t.contentType&&(t.headers["content-type"]=t.contentType),t.force&&(t.cache="no-cache");var a=this.acceptString();t.headers.accept=a;var l=n.offlineOverride(e);t.requestedURI=l,n.setCredentials(l,t);var u=n.proxyIfNecessary(l);return l!==u&&(t.proxyUsed=!0),t.actualProxyURI=u,t}},{key:"fetchUri",value:function(e,t){var i=this;if(!e)return Promise.reject(new Error("Cannot fetch an empty uri"));if(n.unsupportedProtocol(e))return this.failFetch(t,"fetcher: Unsupported protocol","unsupported_protocol");var s=this.getState(e);if(t.force)delete this.nonexistent[e];else{if(s==="fetched")return Promise.resolve(this.doneFetch(t,{status:200,ok:!0,statusText:"Already loaded into quadstore."}));if(s==="failed"&&this.requested[e]===404){var a="Previously failed: "+this.requested[e],l={url:e,status:this.requested[e],statusText:a,responseText:a,headers:new Ui.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return this.failFetch(t,a,this.requested[e],l)}}this.fireCallbacks("request",[e]),this.requested[e]=!0,t.noMeta||this.saveRequestMetadata(e,t);var u=t.actualProxyURI;return this._fetch(u,t).then(function(o){return i.handleResponse(o,e,t)},function(o){var c={url:u,status:999,statusText:(o.name||"network failure")+": "+(o.errno||o.code||o.type),responseText:o.message,headers:new Ui.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return i.handleError(c,e,t)})}},{key:"nowOrWhenFetched",value:function(e,t,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=gn(e);typeof t=="function"?i=t:typeof t>"u"||(Fl(t)?s.referringTerm=t:s=t),this.load(a,s).then(function(l){if(i)if(l)if(l.ok)i(!0,"OK",l);else{var u="HTTP error: Status "+l.status+" ("+l.statusText+")";l.responseText&&(u+=" "+l.responseText),i(!1,u,l)}else{var o="@@ nowOrWhenFetched:  no response object!";i(!1,o)}},function(l){var u=l.message||l.statusText;u="Failed to load  <"+a+"> "+u,l.response&&l.response.status&&(u+=" status: "+l.response.status),i(!1,u,l.response)})}},{key:"addStatus",value:function(e,t){var i=new Date;t="["+i.getHours()+":"+i.getMinutes()+":"+i.getSeconds()+"."+i.getMilliseconds()+"] "+t;var s=this.store,a=s.the(e,this.ns.link("status"));is(a)&&a.append(s.rdfFactory.literal(t))}},{key:"failFetch",value:function(e,t,i,s){this.addStatus(e.req,t),e.noMeta||this.store.add(e.original,this.ns.link("error"),this.store.rdfFactory.literal(t));var a=(e.method||"GET").toUpperCase(),l=a==="GET"||a==="HEAD";l&&(e.resource.equals(e.original),this.requested[wn(e.original.value)]=i,this.fireCallbacks("fail",[e.original.value,t]));var u=new Error("Fetcher: "+t);return u.status=i,u.statusText=t,u.response=s,Promise.reject(u)}},{key:"linkData",value:function(e,t,i,s,a){if(i){var l=this.store,u,o=l.rdfFactory.namedNode(Gt(i,e.value));if(t==="alternate"||t==="seeAlso"||t==="meta"||t==="describedby"){if(o.value===e.value)return;u=this.ns.rdfs("seeAlso")}else t==="type"?u=l.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):u=l.rdfFactory.namedNode(Gt(encodeURIComponent(t),"http://www.iana.org/assignments/link-relations/"));a?l.add(o,u,e,s):l.add(e,u,o,s)}}},{key:"parseLinkHeader",value:function(e,t,i){if(e){var s=/<[^>]*>\s*(\s*;\s*[^()<>@,;:"/[\]?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*")))*(,|$)/g,a=/[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*"))/g,l=e.match(s);if(l!=null)for(var u=0;u<l.length;u++){var o=l[u].split(">"),c=o[0].substring(1),p=o[1],h=p.match(a);if(h==null)return;for(var _=0;_<h.length;_++){var g=h[_],C=g.split("="),y=C[1].replace(/["']/g,"");this.linkData(t,y,c,i)}}}}},{key:"doneFetch",value:function(e,t){return this.addStatus(e.req,"Done."),this.requested[e.original.value]="done",this.fireCallbacks("done",[e.original.value]),t.req=e.req,t}},{key:"nowKnownAs",value:function(e,t){this.lookedUp[e.value]?this.lookedUp[t.value]||this.lookUpThing(t,e):this.lookedUp[t.value]&&(this.lookedUp[e.value]||this.lookUpThing(e,t))}},{key:"putBack",value:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=gn(e),a=new yt(s).doc();return i.contentType=i["content-type"]||i["Content-Type"]||i.contentType||Yr,i.contentType==="application/ld+json"?new Promise(function(l,u){ni(a,t.store,a.uri,i.contentType,function(o,c){o?u(o):(i.data=c,t.webOperation("PUT",e,i).then(function(p){return l(p)}).catch(function(p){return u(p)}))})}):(i.data=ni(a,this.store,a.value,i.contentType),this.webOperation("PUT",s,i))}},{key:"webCopy",value:function(e,t,i){var s=this;return this.webOperation("GET",e).then(function(a){return s.webOperation("PUT",t,{data:a.responseText,contentType:i})})}},{key:"delete",value:function(e,t){var i=this;return this.webOperation("DELETE",e,t).then(function(s){return i.requested[e]=404,i.nonexistent[e]=!0,i.unload(i.store.rdfFactory.namedNode(e)),s})}},{key:"createIfNotExists",value:function(){var r=Ll(Fi.mark(function t(i){var s,a,l,u,o=arguments;return Fi.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return s=o.length>1&&o[1]!==void 0?o[1]:Yr,a=o.length>2&&o[2]!==void 0?o[2]:"",l=this,p.prev=3,p.next=6,l.load(i);case 6:u=p.sent,p.next=26;break;case 9:if(p.prev=9,p.t0=p.catch(3),p.t0.response.status!==404){p.next=25;break}return p.prev=12,p.next=15,l.webOperation("PUT",i.value,{data:a,contentType:s});case 15:u=p.sent,p.next=21;break;case 18:throw p.prev=18,p.t1=p.catch(12),p.t1;case 21:return delete l.requested[i.value],p.abrupt("return",u);case 25:throw p.t0;case 26:return p.abrupt("return",u);case 27:case"end":return p.stop()}},t,this,[[3,9],[12,18]])}));function e(t){return r.apply(this,arguments)}return e}()},{key:"createContainer",value:function(e,t,i){var s={"content-type":Yr,link:this.ns.ldp("BasicContainer")+'; rel="type"'};t&&(s.slug=t);var a={headers:s};return i&&(a.body=i),this.webOperation("POST",e,a)}},{key:"invalidateCache",value:function(e){var t=gn(e),i=this;if(i.fetchQueue&&i.fetchQueue[t]){var s=i.fetchQueue[t];s.PromiseStatus,delete i.fetchQueue[t]}if(i.requested[t]&&i.requested[t]!=="done"&&i.requested[t]!=="failed"&&i.requested[t]!==404){var a="Rdflib: fetcher: Destructive operation on <".concat(i.requested[t],"> file being fetched! ")+t;console.error(a)}else delete i.requested[t],delete i.nonexistent[t]}},{key:"webOperation",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=gn(t);i.method=e,i.body=i.data||i.body,i.force=!0;var a=this;if(i.body&&!i.contentType)throw new Error("Web operation sending data must have a defined contentType.");return i.contentType&&(i.headers=i.headers||{},i.headers["content-type"]=i.contentType),n.setCredentials(s,i),new Promise(function(l,u){a._fetch(s,i).then(function(o){if(o.ok)(e==="PUT"||e==="PATCH"||e==="POST"||e==="DELETE")&&a.invalidateCache(s),o.text?o.text().then(function(h){o.responseText=h,l(o)}):l(o);else{var c="Web error: "+o.status;o.statusText&&(c+=" ("+o.statusText+")"),c+=" on "+e+" of <"+s+">",o.responseText&&(c+=": "+o.responseText);var p=new Error(c);p.response=o,u(p)}},function(o){var c="Fetch error for "+e+" of <"+s+">:"+o;u(new Error(c))})})}},{key:"lookUpThing",value:function(e,t){var i=this,s=this.store.uris(e);return s=s.map(function(a){return wn(a)}),s.forEach(function(a){i.lookedUp[a]=!0}),this.load(s,{referringTerm:t})}},{key:"getHeader",value:function(e,t){for(var i=this.store,s=e.value,a=i.each(void 0,this.ns.link("requestedURI"),i.rdfFactory.literal(s)),l=0;l<a.length;l++){var u=a[l];if(u!==void 0){var o=i.any(u,this.ns.link("response"));if(o!==void 0&&i.anyValue(o,this.ns.http("status"))&&i.anyValue(o,this.ns.http("status")).startsWith("2")){var c=i.each(o,this.ns.httph(t.toLowerCase()));return c.length?c.map(function(p){return p.value}):[]}}}}},{key:"saveRequestMetadata",value:function(e,t){var i=t.req,s=this.store,a=t.referringTerm;this.addStatus(t.req,"Accept: "+t.headers.accept),Fl(a)&&s.add(s.rdfFactory.namedNode(e),this.ns.link("requestedBy"),a,this.appNode),t.original&&t.original.value!==e&&s.add(i,this.ns.link("orginalURI"),s.rdfFactory.literal(t.original.value),this.appNode);var l=new Date,u="["+l.getHours()+":"+l.getMinutes()+":"+l.getSeconds()+"] ";s.add(i,this.ns.rdfs("label"),s.rdfFactory.literal(u+" Request for "+e),this.appNode),s.add(i,this.ns.link("requestedURI"),s.rdfFactory.literal(e),this.appNode),s.add(i,this.ns.link("status"),s.collection(),this.appNode)}},{key:"saveResponseMetadata",value:function(e,t){var i=this,s=this.store,a=s.bnode();return s.add(t.req,this.ns.link("response"),a,this.appNode),s.add(a,this.ns.http("status"),s.rdfFactory.literal(e.status),this.appNode),s.add(a,this.ns.http("statusText"),s.rdfFactory.literal(e.statusText),this.appNode),e.headers.forEach(function(l,u){s.add(a,i.ns.httph(u),i.store.rdfFactory.literal(l),i.appNode),u==="content-type"&&s.add(t.resource,i.ns.rdf("type"),s.rdfFactory.namedNode(Hp(l).value),i.appNode)}),a}},{key:"objectRefresh",value:function(e){var t=this.store.uris(e);if(typeof t<"u")for(var i=0;i<t.length;i++)this.refresh(this.store.rdfFactory.namedNode(wn(t[i])))}},{key:"refresh",value:function(e,t){this.fireCallbacks("refresh",arguments),this.nowOrWhenFetched(e,{force:!0,clearPreviousData:!0},t)}},{key:"refreshIfExpired",value:function(e,t){var i=this.getHeader(e,"Expires");!i||new Date(i[0]).getTime()<=new Date().getTime()?this.refresh(e,t):t(!0,"Not expired",{})}},{key:"retract",value:function(e){this.store.removeMany(void 0,void 0,void 0,e),e.value&&delete this.requested[wn(e.value)],this.fireCallbacks("retract",arguments)}},{key:"getState",value:function(e){return typeof this.requested[e]>"u"?"unrequested":this.requested[e]===!0?"requested":this.requested[e]==="done"?"fetched":this.requested[e]==="redirected"?this.getState(this.redirectedTo[e]):"failed"}},{key:"isPending",value:function(e){return this.requested[e]===!0}},{key:"unload",value:function(e){this.store.removeDocument(e),delete this.requested[e.value]}},{key:"addHandler",value:function(e){this.handlers.push(e),e.register(this)}},{key:"retryNoCredentials",value:function(e,t){t.retriedWithNoCredentials=!0,delete this.requested[e],delete this.fetchQueue[e];var i=Object.assign({},t,{credentials:"omit"});return this.addStatus(t.req,"Abort: Will retry with credentials SUPPRESSED to see if that helps"),this.load(e,i)}},{key:"isCrossSite",value:function(e){if(typeof document>"u"||!document.location)return!1;var t=_p,i=""+document.location;return(t(i)&&t(e)&&t(i))!==t(e)}},{key:"handleError",value:function(e,t,i){if(this.isCrossSite(t)){if(i.credentials&&i.credentials==="include"&&!i.retriedWithNoCredentials)return this.retryNoCredentials(t,i);var s=n.crossSiteProxy(t);if(s&&!i.proxyUsed)return this.redirectToProxy(s,i)}var a;return e instanceof Error?a="Fetch error: "+e.message:(a=e.statusText,e.responseText&&(a+=" ".concat(e.responseText))),this.failFetch(i,a,e.status||998,e)}},{key:"addType",value:function(e,t,i,s){var a=t;if(s){var l=i.any(a,this.ns.link("requestedURI"));l&&l.value!==s&&i.add(i.rdfFactory.namedNode(s),this.ns.rdf("type"),e,this.appNode)}for(;;){var u=i.any(a,this.ns.link("requestedURI"));if(u&&u.value&&i.add(i.rdfFactory.namedNode(u.value),this.ns.rdf("type"),e,this.appNode),a=i.any(void 0,i.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#redirectedRequest"),a),!a)break;var o=i.any(a,i.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#response"));if(!o)break;var c=i.any(o,i.rdfFactory.namedNode("http://www.w3.org/2007/ont/http#status"));if(!c||c!=="301"&&c!=="302")break}}},{key:"handleResponse",value:function(e,t,i){var s=this,a=this.store,l=e.headers,u=i.req,o=this.saveResponseMetadata(e,i),c=this.normalizedContentType(i,l)||"",p=l.get("content-location");if(e.status===0)return this.handleError(e,t,i);if(e.status>=400)return e.status===404&&(this.nonexistent[i.original.value]=!0,this.nonexistent[t]=!0),this.saveErrorResponse(e,o).then(function(){var B=i.resource+" "+e.statusText;return s.failFetch(i,B,e.status,e)});var h=null,_=null;if(p&&(_=Gt(p,t),_!==t&&(h=_)),e.status===200){if(this.addType(this.ns.link("Document"),u,a,t),h&&this.addType(this.ns.link("Document"),u,a,h),i.clearPreviousData)for(var g=a.statementsMatching(void 0,void 0,void 0,i.resource).slice(),C=0;C<g.length;C++)a.removeStatement(g[C]);var y=c.includes("image/")||c.includes("application/pdf");c&&y&&(this.addType(a.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),u,a,t),h&&this.addType(a.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),u,a,h))}if(p){if(!i.force&&h&&this.requested[_]==="done")return this.doneFetch(i,e);this.requested[_]=!0}this.parseLinkHeader(l.get("link"),i.original,u);var N=this.handlerForContentType(c,e);return N?e.text().then(function(B){return e.responseText=B,N.parse(s,B,i,e)}):(this.addStatus(u,"Fetch over. No data handled."),this.doneFetch(i,e))}},{key:"saveErrorResponse",value:function(e,t){var i=this,s=this.store;return e.text().then(function(a){a.length>10&&s.add(t,i.ns.http("content"),s.rdfFactory.literal(a),t)})}},{key:"handlerForContentType",value:function(e,t){if(!e)return null;var i=this.handlers.find(function(s){return e.match(s.pattern)});return i?new i(t):null}},{key:"guessContentType",value:function(e){return Gf[e.split(".").pop()]}},{key:"normalizedContentType",value:function(e,t){if(e.forceContentType)return e.forceContentType;var i=t.get("content-type");if(!i||i.includes("application/octet-stream")){var s=this.guessContentType(e.resource.value);if(s)return s}var a=xl(e.resource.value);return!i&&["file","chrome"].includes(a)?"text/xml":i}},{key:"redirectToProxy",value:function(e,t){var i=this;this.addStatus(t.req,"BLOCKED -> Cross-site Proxy to <"+e+">"),t.proxyUsed=!0;var s=this.store,a=t.req;t.noMeta||(s.add(a,this.ns.link("redirectedTo"),s.rdfFactory.namedNode(e),a),this.addStatus(a,"redirected to new request")),this.requested[t.resource.value]="redirected",this.redirectedTo[t.resource.value]=e;var l=Object.assign({},t);return l.baseURI=t.resource.value,this.fetchUri(e,l).then(function(u){return l.noMeta||s.add(a,i.ns.link("redirectedRequest"),l.req,i.appNode),u})}},{key:"setRequestTimeout",value:function(e,t){var i=this;return new Promise(function(s){i.timeouts[e]=(i.timeouts[e]||[]).concat(setTimeout(function(){i.isPending(e)&&!t.retriedWithNoCredentials&&!t.proxyUsed&&s(i.failFetch(t,"Request to ".concat(e," timed out"),"timeout"))},i.timeout))})}},{key:"addFetchCallback",value:function(e,t){this.fetchCallbacks[e]?this.fetchCallbacks[e].push(t):this.fetchCallbacks[e]=[t]}},{key:"acceptString",value:function(){var e="";for(var t in this.mediatypes){e!==""&&(e+=", "),e+=t;for(var i in this.mediatypes[t])e+=";"+i+"="+this.mediatypes[t][i]}return e}}],[{key:"crossSiteProxy",value:function(e){if(n.crossSiteProxyTemplate)return n.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(e))}},{key:"offlineOverride",value:function(e){var t=e,i;return typeof window<"u"&&window.panes&&(i=window.panes.UI)&&i.preferences&&i.preferences.get("offlineModeUsingLocalhost")&&t.slice(0,7)==="http://"&&t.slice(7,17)!=="localhost/"&&(t="http://localhost/"+t.slice(7)),t}},{key:"proxyIfNecessary",value:function(e){var t;if(typeof window<"u"&&window.panes&&(t=window.panes.UI)&&t.isExtension)return e;if(typeof $SolidTestEnvironment<"u"&&$SolidTestEnvironment.localSiteMap){var i=e.split("/").slice(2),s=function l(u,o){var c=o[u.shift()];return c?typeof c=="string"?c+u.join("/"):u?l(u,c):null:null},a=s(i,$SolidTestEnvironment.localSiteMap);if(a)return a}return n.crossSiteProxyTemplate&&typeof document<"u"&&document.location&&(""+document.location).slice(0,6)==="https:"&&e.slice(0,5)==="http:"?n.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(e)):e}},{key:"unsupportedProtocol",value:function(e){var t=xl(e);return t==="tel"||t==="mailto"||t==="urn"}},{key:"setCredentials",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.credentials===void 0&&(t.withCredentials!==void 0?t.credentials=t.withCredentials?"include":"omit":t.credentials="include")}}])}();ge(In,"HANDLERS",void 0);ge(In,"CONTENT_TYPE_BY_EXT",void 0);ge(In,"crossSiteProxyTemplate",void 0);In.HANDLERS=Za;In.CONTENT_TYPE_BY_EXT=Gf;function vu(n,r){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);r&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,t)}return e}function mu(n){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?vu(Object(e),!0).forEach(function(t){ge(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):vu(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}var Mi=mu(mu({},Qa),{},{fetcher:function(r,e){return new In(r,e)},graph:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return new fi(r,e||{rdfFactory:Qa})},lit:function(r,e,t){return this.literal(""+r,e||t)},st:function(r,e,t,i){return this.quad(r,e,t,i)}}),oa={};for(var Ma in Mi)typeof Mi[Ma]=="function"&&(oa[Ma]=Mi[Ma].bind(Mi));var r0=oa.graph,ec=oa.namedNode,n0=oa.literal;new xf;rt.fromValue;fr.nextId;let Z,Vt=0,Gn=null;function $i(){return(Gn===null||Gn.byteLength===0)&&(Gn=new Uint8Array(Z.memory.buffer)),Gn}const Vi=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},i0=typeof Vi.encodeInto=="function"?function(n,r){return Vi.encodeInto(n,r)}:function(n,r){const e=Vi.encode(n);return r.set(e),{read:n.length,written:e.length}};function Dr(n,r,e){if(e===void 0){const l=Vi.encode(n),u=r(l.length,1)>>>0;return $i().subarray(u,u+l.length).set(l),Vt=l.length,u}let t=n.length,i=r(t,1)>>>0;const s=$i();let a=0;for(;a<t;a++){const l=n.charCodeAt(a);if(l>127)break;s[i+a]=l}if(a!==t){a!==0&&(n=n.slice(a)),i=e(i,t,t=a+n.length*3,1)>>>0;const l=$i().subarray(i+a,i+t),u=i0(n,l);a+=u.written,i=e(i,t,a,1)>>>0}return Vt=a,i}function fa(n){return n==null}let Wn=null;function be(){return(Wn===null||Wn.byteLength===0)&&(Wn=new Int32Array(Z.memory.buffer)),Wn}const tc=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&tc.decode();function Ke(n,r){return n=n>>>0,tc.decode($i().subarray(n,n+r))}function ot(n){const r=Z.__wbindgen_export_2.get(n);return Z.__externref_table_dealloc(n),r}function a0(n){try{const i=Z.__wbindgen_add_to_stack_pointer(-16),s=Dr(n,Z.__wbindgen_malloc,Z.__wbindgen_realloc),a=Vt;Z.namedNode(i,s,a);var r=be()[i/4+0],e=be()[i/4+1],t=be()[i/4+2];if(t)throw ot(e);return Fn.__wrap(r)}finally{Z.__wbindgen_add_to_stack_pointer(16)}}function s0(n){try{const a=Z.__wbindgen_add_to_stack_pointer(-16);var r=fa(n)?0:Dr(n,Z.__wbindgen_malloc,Z.__wbindgen_realloc),e=Vt;Z.blankNode(a,r,e);var t=be()[a/4+0],i=be()[a/4+1],s=be()[a/4+2];if(s)throw ot(i);return ci.__wrap(t)}finally{Z.__wbindgen_add_to_stack_pointer(16)}}function l0(n,r){try{const l=Z.__wbindgen_add_to_stack_pointer(-16);var e=fa(n)?0:Dr(n,Z.__wbindgen_malloc,Z.__wbindgen_realloc),t=Vt;Z.literal(l,e,t,r);var i=be()[l/4+0],s=be()[l/4+1],a=be()[l/4+2];if(a)throw ot(s);return hi.__wrap(i)}finally{Z.__wbindgen_add_to_stack_pointer(16)}}function u0(){const n=Z.defaultGraph();return di.__wrap(n)}function o0(n){try{const i=Z.__wbindgen_add_to_stack_pointer(-16),s=Dr(n,Z.__wbindgen_malloc,Z.__wbindgen_realloc),a=Vt;Z.variable(i,s,a);var r=be()[i/4+0],e=be()[i/4+1],t=be()[i/4+2];if(t)throw ot(e);return pi.__wrap(r)}finally{Z.__wbindgen_add_to_stack_pointer(16)}}function f0(n,r,e){try{const a=Z.__wbindgen_add_to_stack_pointer(-16);Z.triple(a,n,r,e);var t=be()[a/4+0],i=be()[a/4+1],s=be()[a/4+2];if(s)throw ot(i);return On.__wrap(t)}finally{Z.__wbindgen_add_to_stack_pointer(16)}}function c0(n,r,e,t){try{const l=Z.__wbindgen_add_to_stack_pointer(-16);Z.quad(l,n,r,e,t);var i=be()[l/4+0],s=be()[l/4+1],a=be()[l/4+2];if(a)throw ot(s);return On.__wrap(i)}finally{Z.__wbindgen_add_to_stack_pointer(16)}}function d0(n){try{const i=Z.__wbindgen_add_to_stack_pointer(-16);Z.fromTerm(i,n);var r=be()[i/4+0],e=be()[i/4+1],t=be()[i/4+2];if(t)throw ot(e);return ot(r)}finally{Z.__wbindgen_add_to_stack_pointer(16)}}function h0(n){try{const i=Z.__wbindgen_add_to_stack_pointer(-16);Z.fromQuad(i,n);var r=be()[i/4+0],e=be()[i/4+1],t=be()[i/4+2];if(t)throw ot(e);return ot(r)}finally{Z.__wbindgen_add_to_stack_pointer(16)}}let Qn=null;function rc(){return(Qn===null||Qn.byteLength===0)&&(Qn=new Uint32Array(Z.memory.buffer)),Qn}function nc(n){const r=Z.__externref_table_alloc();return Z.__wbindgen_export_2.set(r,n),r}function p0(n,r){const e=r(n.length*4,4)>>>0,t=rc();for(let i=0;i<n.length;i++)t[e/4+i]=nc(n[i]);return Vt=n.length,e}function _0(n,r){n=n>>>0;const t=rc().subarray(n/4,n/4+r),i=[];for(let s=0;s<t.length;s++)i.push(Z.__wbindgen_export_2.get(t[s]));return Z.__externref_drop_slice(n,r),i}function g0(){Z.main()}function Yt(n,r){try{return n.apply(this,r)}catch(e){const t=nc(e);Z.__wbindgen_exn_store(t)}}const bu=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>Z.__wbg_blanknode_free(n>>>0));class ci{static __wrap(r){r=r>>>0;const e=Object.create(ci.prototype);return e.__wbg_ptr=r,bu.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const r=this.__wbg_ptr;return this.__wbg_ptr=0,bu.unregister(this),r}free(){const r=this.__destroy_into_raw();Z.__wbg_blanknode_free(r)}get termType(){let r,e;try{const s=Z.__wbindgen_add_to_stack_pointer(-16);Z.blanknode_term_type(s,this.__wbg_ptr);var t=be()[s/4+0],i=be()[s/4+1];return r=t,e=i,Ke(t,i)}finally{Z.__wbindgen_add_to_stack_pointer(16),Z.__wbindgen_free(r,e,1)}}get value(){let r,e;try{const s=Z.__wbindgen_add_to_stack_pointer(-16);Z.blanknode_value(s,this.__wbg_ptr);var t=be()[s/4+0],i=be()[s/4+1];return r=t,e=i,Ke(t,i)}finally{Z.__wbindgen_add_to_stack_pointer(16),Z.__wbindgen_free(r,e,1)}}toString(){let r,e;try{const s=Z.__wbindgen_add_to_stack_pointer(-16);Z.blanknode_toString(s,this.__wbg_ptr);var t=be()[s/4+0],i=be()[s/4+1];return r=t,e=i,Ke(t,i)}finally{Z.__wbindgen_add_to_stack_pointer(16),Z.__wbindgen_free(r,e,1)}}equals(r){return Z.blanknode_equals(this.__wbg_ptr,r)!==0}}const wu=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>Z.__wbg_defaultgraph_free(n>>>0));class di{static __wrap(r){r=r>>>0;const e=Object.create(di.prototype);return e.__wbg_ptr=r,wu.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const r=this.__wbg_ptr;return this.__wbg_ptr=0,wu.unregister(this),r}free(){const r=this.__destroy_into_raw();Z.__wbg_defaultgraph_free(r)}get termType(){let r,e;try{const s=Z.__wbindgen_add_to_stack_pointer(-16);Z.defaultgraph_term_type(s,this.__wbg_ptr);var t=be()[s/4+0],i=be()[s/4+1];return r=t,e=i,Ke(t,i)}finally{Z.__wbindgen_add_to_stack_pointer(16),Z.__wbindgen_free(r,e,1)}}get value(){let r,e;try{const s=Z.__wbindgen_add_to_stack_pointer(-16);Z.defaultgraph_value(s,this.__wbg_ptr);var t=be()[s/4+0],i=be()[s/4+1];return r=t,e=i,Ke(t,i)}finally{Z.__wbindgen_add_to_stack_pointer(16),Z.__wbindgen_free(r,e,1)}}toString(){let r,e;try{const s=Z.__wbindgen_add_to_stack_pointer(-16);Z.defaultgraph_toString(s,this.__wbg_ptr);var t=be()[s/4+0],i=be()[s/4+1];return r=t,e=i,Ke(t,i)}finally{Z.__wbindgen_add_to_stack_pointer(16),Z.__wbindgen_free(r,e,1)}}equals(r){return Z.defaultgraph_equals(this.__wbg_ptr,r)!==0}}const yu=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>Z.__wbg_literal_free(n>>>0));class hi{static __wrap(r){r=r>>>0;const e=Object.create(hi.prototype);return e.__wbg_ptr=r,yu.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const r=this.__wbg_ptr;return this.__wbg_ptr=0,yu.unregister(this),r}free(){const r=this.__destroy_into_raw();Z.__wbg_literal_free(r)}get termType(){let r,e;try{const s=Z.__wbindgen_add_to_stack_pointer(-16);Z.literal_term_type(s,this.__wbg_ptr);var t=be()[s/4+0],i=be()[s/4+1];return r=t,e=i,Ke(t,i)}finally{Z.__wbindgen_add_to_stack_pointer(16),Z.__wbindgen_free(r,e,1)}}get value(){let r,e;try{const s=Z.__wbindgen_add_to_stack_pointer(-16);Z.literal_value(s,this.__wbg_ptr);var t=be()[s/4+0],i=be()[s/4+1];return r=t,e=i,Ke(t,i)}finally{Z.__wbindgen_add_to_stack_pointer(16),Z.__wbindgen_free(r,e,1)}}get language(){let r,e;try{const s=Z.__wbindgen_add_to_stack_pointer(-16);Z.literal_language(s,this.__wbg_ptr);var t=be()[s/4+0],i=be()[s/4+1];return r=t,e=i,Ke(t,i)}finally{Z.__wbindgen_add_to_stack_pointer(16),Z.__wbindgen_free(r,e,1)}}get datatype(){const r=Z.literal_datatype(this.__wbg_ptr);return Fn.__wrap(r)}toString(){let r,e;try{const s=Z.__wbindgen_add_to_stack_pointer(-16);Z.literal_toString(s,this.__wbg_ptr);var t=be()[s/4+0],i=be()[s/4+1];return r=t,e=i,Ke(t,i)}finally{Z.__wbindgen_add_to_stack_pointer(16),Z.__wbindgen_free(r,e,1)}}equals(r){return Z.literal_equals(this.__wbg_ptr,r)!==0}}const Du=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>Z.__wbg_namednode_free(n>>>0));class Fn{static __wrap(r){r=r>>>0;const e=Object.create(Fn.prototype);return e.__wbg_ptr=r,Du.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const r=this.__wbg_ptr;return this.__wbg_ptr=0,Du.unregister(this),r}free(){const r=this.__destroy_into_raw();Z.__wbg_namednode_free(r)}get termType(){let r,e;try{const s=Z.__wbindgen_add_to_stack_pointer(-16);Z.namednode_term_type(s,this.__wbg_ptr);var t=be()[s/4+0],i=be()[s/4+1];return r=t,e=i,Ke(t,i)}finally{Z.__wbindgen_add_to_stack_pointer(16),Z.__wbindgen_free(r,e,1)}}get value(){let r,e;try{const s=Z.__wbindgen_add_to_stack_pointer(-16);Z.namednode_value(s,this.__wbg_ptr);var t=be()[s/4+0],i=be()[s/4+1];return r=t,e=i,Ke(t,i)}finally{Z.__wbindgen_add_to_stack_pointer(16),Z.__wbindgen_free(r,e,1)}}toString(){let r,e;try{const s=Z.__wbindgen_add_to_stack_pointer(-16);Z.namednode_toString(s,this.__wbg_ptr);var t=be()[s/4+0],i=be()[s/4+1];return r=t,e=i,Ke(t,i)}finally{Z.__wbindgen_add_to_stack_pointer(16),Z.__wbindgen_free(r,e,1)}}equals(r){return Z.namednode_equals(this.__wbg_ptr,r)!==0}}const Au=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>Z.__wbg_quad_free(n>>>0));class On{static __wrap(r){r=r>>>0;const e=Object.create(On.prototype);return e.__wbg_ptr=r,Au.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const r=this.__wbg_ptr;return this.__wbg_ptr=0,Au.unregister(this),r}free(){const r=this.__destroy_into_raw();Z.__wbg_quad_free(r)}get termType(){let r,e;try{const s=Z.__wbindgen_add_to_stack_pointer(-16);Z.quad_term_type(s,this.__wbg_ptr);var t=be()[s/4+0],i=be()[s/4+1];return r=t,e=i,Ke(t,i)}finally{Z.__wbindgen_add_to_stack_pointer(16),Z.__wbindgen_free(r,e,1)}}get value(){let r,e;try{const s=Z.__wbindgen_add_to_stack_pointer(-16);Z.defaultgraph_value(s,this.__wbg_ptr);var t=be()[s/4+0],i=be()[s/4+1];return r=t,e=i,Ke(t,i)}finally{Z.__wbindgen_add_to_stack_pointer(16),Z.__wbindgen_free(r,e,1)}}get subject(){return Z.quad_subject(this.__wbg_ptr)}get predicate(){return Z.quad_predicate(this.__wbg_ptr)}get object(){return Z.quad_object(this.__wbg_ptr)}get graph(){return Z.quad_graph(this.__wbg_ptr)}toString(){let r,e;try{const s=Z.__wbindgen_add_to_stack_pointer(-16);Z.quad_toString(s,this.__wbg_ptr);var t=be()[s/4+0],i=be()[s/4+1];return r=t,e=i,Ke(t,i)}finally{Z.__wbindgen_add_to_stack_pointer(16),Z.__wbindgen_free(r,e,1)}}equals(r){return Z.quad_equals(this.__wbg_ptr,r)!==0}}const v0=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>Z.__wbg_store_free(n>>>0));class ic{__destroy_into_raw(){const r=this.__wbg_ptr;return this.__wbg_ptr=0,v0.unregister(this),r}free(){const r=this.__destroy_into_raw();Z.__wbg_store_free(r)}constructor(r){try{const l=Z.__wbindgen_add_to_stack_pointer(-16);var e=fa(r)?0:p0(r,Z.__wbindgen_malloc),t=Vt;Z.store_new(l,e,t);var i=be()[l/4+0],s=be()[l/4+1],a=be()[l/4+2];if(a)throw ot(s);return this.__wbg_ptr=i>>>0,this}finally{Z.__wbindgen_add_to_stack_pointer(16)}}add(r){try{const i=Z.__wbindgen_add_to_stack_pointer(-16);Z.store_add(i,this.__wbg_ptr,r);var e=be()[i/4+0],t=be()[i/4+1];if(t)throw ot(e)}finally{Z.__wbindgen_add_to_stack_pointer(16)}}delete(r){try{const i=Z.__wbindgen_add_to_stack_pointer(-16);Z.store_delete(i,this.__wbg_ptr,r);var e=be()[i/4+0],t=be()[i/4+1];if(t)throw ot(e)}finally{Z.__wbindgen_add_to_stack_pointer(16)}}has(r){try{const s=Z.__wbindgen_add_to_stack_pointer(-16);Z.store_has(s,this.__wbg_ptr,r);var e=be()[s/4+0],t=be()[s/4+1],i=be()[s/4+2];if(i)throw ot(t);return e!==0}finally{Z.__wbindgen_add_to_stack_pointer(16)}}get size(){try{const i=Z.__wbindgen_add_to_stack_pointer(-16);Z.store_size(i,this.__wbg_ptr);var r=be()[i/4+0],e=be()[i/4+1],t=be()[i/4+2];if(t)throw ot(e);return r>>>0}finally{Z.__wbindgen_add_to_stack_pointer(16)}}match(r,e,t,i){try{const c=Z.__wbindgen_add_to_stack_pointer(-16);Z.store_match(c,this.__wbg_ptr,r,e,t,i);var s=be()[c/4+0],a=be()[c/4+1],l=be()[c/4+2],u=be()[c/4+3];if(u)throw ot(l);var o=_0(s,a).slice();return Z.__wbindgen_free(s,a*4,4),o}finally{Z.__wbindgen_add_to_stack_pointer(16)}}query(r,e){try{const a=Z.__wbindgen_add_to_stack_pointer(-16),l=Dr(r,Z.__wbindgen_malloc,Z.__wbindgen_realloc),u=Vt;Z.store_query(a,this.__wbg_ptr,l,u,e);var t=be()[a/4+0],i=be()[a/4+1],s=be()[a/4+2];if(s)throw ot(i);return ot(t)}finally{Z.__wbindgen_add_to_stack_pointer(16)}}update(r,e){try{const s=Z.__wbindgen_add_to_stack_pointer(-16),a=Dr(r,Z.__wbindgen_malloc,Z.__wbindgen_realloc),l=Vt;Z.store_update(s,this.__wbg_ptr,a,l,e);var t=be()[s/4+0],i=be()[s/4+1];if(i)throw ot(t)}finally{Z.__wbindgen_add_to_stack_pointer(16)}}load(r,e,t,i){try{const l=Z.__wbindgen_add_to_stack_pointer(-16),u=Dr(r,Z.__wbindgen_malloc,Z.__wbindgen_realloc),o=Vt;Z.store_load(l,this.__wbg_ptr,u,o,e,t,i);var s=be()[l/4+0],a=be()[l/4+1];if(a)throw ot(s)}finally{Z.__wbindgen_add_to_stack_pointer(16)}}dump(r,e){let t,i;try{const p=Z.__wbindgen_add_to_stack_pointer(-16);Z.store_dump(p,this.__wbg_ptr,r,e);var s=be()[p/4+0],a=be()[p/4+1],l=be()[p/4+2],u=be()[p/4+3],o=s,c=a;if(u)throw o=0,c=0,ot(l);return t=o,i=c,Ke(o,c)}finally{Z.__wbindgen_add_to_stack_pointer(16),Z.__wbindgen_free(t,i,1)}}}const Eu=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>Z.__wbg_variable_free(n>>>0));class pi{static __wrap(r){r=r>>>0;const e=Object.create(pi.prototype);return e.__wbg_ptr=r,Eu.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const r=this.__wbg_ptr;return this.__wbg_ptr=0,Eu.unregister(this),r}free(){const r=this.__destroy_into_raw();Z.__wbg_variable_free(r)}get termType(){let r,e;try{const s=Z.__wbindgen_add_to_stack_pointer(-16);Z.variable_term_type(s,this.__wbg_ptr);var t=be()[s/4+0],i=be()[s/4+1];return r=t,e=i,Ke(t,i)}finally{Z.__wbindgen_add_to_stack_pointer(16),Z.__wbindgen_free(r,e,1)}}get value(){let r,e;try{const s=Z.__wbindgen_add_to_stack_pointer(-16);Z.variable_value(s,this.__wbg_ptr);var t=be()[s/4+0],i=be()[s/4+1];return r=t,e=i,Ke(t,i)}finally{Z.__wbindgen_add_to_stack_pointer(16),Z.__wbindgen_free(r,e,1)}}toString(){let r,e;try{const s=Z.__wbindgen_add_to_stack_pointer(-16);Z.variable_toString(s,this.__wbg_ptr);var t=be()[s/4+0],i=be()[s/4+1];return r=t,e=i,Ke(t,i)}finally{Z.__wbindgen_add_to_stack_pointer(16),Z.__wbindgen_free(r,e,1)}}equals(r){return Z.variable_equals(this.__wbg_ptr,r)!==0}}async function m0(n,r){if(typeof Response=="function"&&n instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(n,r)}catch(t){if(n.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t);else throw t}const e=await n.arrayBuffer();return await WebAssembly.instantiate(e,r)}else{const e=await WebAssembly.instantiate(n,r);return e instanceof WebAssembly.Instance?{instance:e,module:n}:e}}function ac(){const n={};return n.wbg={},n.wbg.__wbindgen_is_undefined=function(r){return r===void 0},n.wbg.__wbindgen_is_null=function(r){return r===null},n.wbg.__wbindgen_string_get=function(r,e){const t=e,i=typeof t=="string"?t:void 0;var s=fa(i)?0:Dr(i,Z.__wbindgen_malloc,Z.__wbindgen_realloc),a=Vt;be()[r/4+1]=a,be()[r/4+0]=s},n.wbg.__wbindgen_is_falsy=function(r){return!r},n.wbg.__wbg_new_28c511d9baebfa89=function(r,e){return new Error(Ke(r,e))},n.wbg.__wbg_quad_new=function(r){return On.__wrap(r)},n.wbg.__wbg_namednode_new=function(r){return Fn.__wrap(r)},n.wbg.__wbg_blanknode_new=function(r){return ci.__wrap(r)},n.wbg.__wbg_literal_new=function(r){return hi.__wrap(r)},n.wbg.__wbg_defaultgraph_new=function(r){return di.__wrap(r)},n.wbg.__wbg_variable_new=function(r){return pi.__wrap(r)},n.wbg.__wbindgen_string_new=function(r,e){return Ke(r,e)},n.wbg.__wbg_new_57421e8974065233=function(r,e){return new URIError(Ke(r,e))},n.wbg.__wbindgen_is_string=function(r){return typeof r=="string"},n.wbg.__wbg_new_16b304a2cfa7ff4a=function(){return new Array},n.wbg.__wbg_new_d9bc3a0147634640=function(){return new Map},n.wbg.__wbg_push_a5b05aedc7234f9f=function(r,e){return r.push(e)},n.wbg.__wbg_set_8417257aaedc936b=function(r,e,t){return r.set(e,t)},n.wbg.__wbg_warn_d573f396246f7cdf=function(r,e){console.warn(Ke(r,e))},n.wbg.__wbg_new_abda76e883ba8a5f=function(){return new Error},n.wbg.__wbg_stack_658279fe44541cf6=function(r,e){const t=e.stack,i=Dr(t,Z.__wbindgen_malloc,Z.__wbindgen_realloc),s=Vt;be()[r/4+1]=s,be()[r/4+0]=i},n.wbg.__wbg_error_f851667af71bcfc6=function(r,e){let t,i;try{t=r,i=e,console.error(Ke(r,e))}finally{Z.__wbindgen_free(t,i,1)}},n.wbg.__wbg_call_b3ca7c6051f9bec1=function(){return Yt(function(r,e,t){return r.call(e,t)},arguments)},n.wbg.__wbg_get_e3c254076557e348=function(){return Yt(function(r,e){return Reflect.get(r,e)},arguments)},n.wbg.__wbg_has_0af94d20077affa2=function(){return Yt(function(r,e){return Reflect.has(r,e)},arguments)},n.wbg.__wbg_now_3014639a94423537=function(){return Date.now()},n.wbg.__wbg_self_ce0dbfc45cf2f5be=function(){return Yt(function(){return self.self},arguments)},n.wbg.__wbg_window_c6fb939a7f436783=function(){return Yt(function(){return window.window},arguments)},n.wbg.__wbg_globalThis_d1e6af4856ba331b=function(){return Yt(function(){return globalThis.globalThis},arguments)},n.wbg.__wbg_global_207b558942527489=function(){return Yt(function(){return global.global},arguments)},n.wbg.__wbg_newnoargs_e258087cd0daa0ea=function(r,e){return new Function(Ke(r,e))},n.wbg.__wbg_call_27c0f87801dedf93=function(){return Yt(function(r,e){return r.call(e)},arguments)},n.wbg.__wbg_crypto_1d1f22824a6a080c=function(r){return r.crypto},n.wbg.__wbindgen_is_object=function(r){const e=r;return typeof e=="object"&&e!==null},n.wbg.__wbg_process_4a72847cc503995b=function(r){return r.process},n.wbg.__wbg_versions_f686565e586dd935=function(r){return r.versions},n.wbg.__wbg_node_104a2ff8d6ea03a2=function(r){return r.node},n.wbg.__wbg_require_cca90b1a94a0255b=function(){return Yt(function(){return module.require},arguments)},n.wbg.__wbindgen_is_function=function(r){return typeof r=="function"},n.wbg.__wbg_msCrypto_eb05e62b530a1508=function(r){return r.msCrypto},n.wbg.__wbg_newwithlength_e9b4878cebadb3d3=function(r){return new Uint8Array(r>>>0)},n.wbg.__wbindgen_memory=function(){return Z.memory},n.wbg.__wbg_buffer_12d079cc21e14bdb=function(r){return r.buffer},n.wbg.__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb=function(r,e,t){return new Uint8Array(r,e>>>0,t>>>0)},n.wbg.__wbg_randomFillSync_5c9c955aa56b6049=function(){return Yt(function(r,e){r.randomFillSync(e)},arguments)},n.wbg.__wbg_subarray_a1f73cd4b5b42fe1=function(r,e,t){return r.subarray(e>>>0,t>>>0)},n.wbg.__wbg_getRandomValues_3aa56aa6edec874c=function(){return Yt(function(r,e){r.getRandomValues(e)},arguments)},n.wbg.__wbg_new_63b92bc8671ed464=function(r){return new Uint8Array(r)},n.wbg.__wbg_set_a47bac70306a19a7=function(r,e,t){r.set(e,t>>>0)},n.wbg.__wbindgen_throw=function(r,e){throw new Error(Ke(r,e))},n.wbg.__wbindgen_init_externref_table=function(){const r=Z.__wbindgen_export_2,e=r.grow(4);r.set(0,void 0),r.set(e+0,void 0),r.set(e+1,null),r.set(e+2,!0),r.set(e+3,!1)},n}function sc(n,r){return Z=n.exports,ta.__wbindgen_wasm_module=r,Wn=null,Qn=null,Gn=null,Z.__wbindgen_start(),Z}function b0(n){if(Z!==void 0)return Z;const r=ac();n instanceof WebAssembly.Module||(n=new WebAssembly.Module(n));const e=new WebAssembly.Instance(n,r);return sc(e,n)}async function ta(n){if(Z!==void 0)return Z;typeof n>"u"&&(n=new URL(""+new URL("../assets/web_bg.AdZkENxH.wasm",import.meta.url).href,import.meta.url));const r=ac();(typeof n=="string"||typeof Request=="function"&&n instanceof Request||typeof URL=="function"&&n instanceof URL)&&(n=fetch(n));const{instance:e,module:t}=await m0(await n,r);return sc(e,t)}const w0=Object.freeze(Object.defineProperty({__proto__:null,BlankNode:ci,DefaultGraph:di,Literal:hi,NamedNode:Fn,Quad:On,Store:ic,Variable:pi,blankNode:s0,default:ta,defaultGraph:u0,fromQuad:h0,fromTerm:d0,initSync:b0,literal:l0,main:g0,namedNode:a0,quad:c0,triple:f0,variable:o0},Symbol.toStringTag,{value:"Module"})),y0="https://d3fend.mitre.org/ontologies/d3fend.ttl",D0="http://d3fend.mitre.org/ontologies/d3fend.owl#",A0="http://d3fend.mitre.org/cad/instances#",E0="cco",lc="d3f",T0="dct",uc="cad",C0="owl",oc="rdf",fc="rdfs",k0="skos",N0="xsd",kn={[lc]:D0,[uc]:A0,[C0]:"http://www.w3.org/2002/07/owl#",[oc]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",[fc]:"http://www.w3.org/2000/01/rdf-schema#",[N0]:"http://www.w3.org/2001/XMLSchema#",[T0]:"http://purl.org/dc/terms/",[k0]:"http://www.w3.org/2004/02/skos/core#",[E0]:"http://www.ontologyrepository.com/CommonCoreOntologies/"};function S0(){const{subscribe:n,set:r,update:e}=pr({initalized:!1,store:null,erorr:null});async function t(){try{console.log("Starting Oxigraph initialization"),console.time("Initialize Oxigraph"),console.log("Oxigraph module:",w0),console.log("Init function:",ta),await ta(),console.log("WebAssembly initialized successfully");const s=new ic;console.log("Oxigraph store created"),r({initialized:!0,store:s,error:null}),await i(s),console.log(`Oxigraph store initialized with ${s.size} triples.`)}catch(s){r({initialized:!1,store:null,error:s.message}),console.error("Failed to initialize Oxigraph store:",s)}}async function i(s){try{console.time("Load D3FEND ontology");const l=await(await fetch(y0)).text();s.load(l,{format:"ttl"}),console.timeEnd("Load D3FEND ontology"),console.log(`D3FEND ontology loaded, total triples: ${s.size}`)}catch(a){console.error("Failed to load D3FEND ontology:",a)}}return{subscribe:n,initialize:t,query:s=>new Promise((a,l)=>{e(u=>{if(!u.initialized)l(new Error("Oxigraph store not initialized"));else try{const o=u.store.query(s);a(o)}catch(o){l(o)}return u})})}}const ws=S0();async function R0(n){let r=null;return console.log("Calling lookupValidProperty..."),r=await F0(n),console.log(`Property from lookup IRI ${r}`),r==null&&(console.log("Calling lookupValidPropertyByLabel..."),r=await I0(n)),r}async function I0(n){const r="findValidPropertyByLabel("+n+")";console.info(r);const e=`PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX d3f: <http://d3fend.mitre.org/ontologies/d3fend.owl#>

SELECT ?property
WHERE
{
   ?property rdfs:subPropertyOf* d3f:may-be-associated-with .
   ?property rdfs:label "${n}" .
}
LIMIT 1`;console.log({valid_value_query:e});let t=null;try{const i=await ws.query(e);i?(console.info(`Type of queryResult for property lookup by label ${n} is: `+Object.prototype.toString.call(i).slice(8,-1)),console.log({query_result:i}),Array.isArray(i)?i.length>0?t=i[0].get("property").value:console.warn(`Empty query results for valid property lookup by label ${n}.`):console.warn(`Query result not the expected Array type for property lookup by label of ${n}.`)):console.error(`Query results: ${i} for valid property lookup by label ${n}.`)}catch(i){console.warn(`Error executing oxigraph query for property lookup by label of: ${n}, error: ${i}`)}return console.info(t+" <- "+r),t}async function F0(n){const r="lookupValidPropertyByFragment("+n+")";console.info(r);const e=`PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX d3f: <http://d3fend.mitre.org/ontologies/d3fend.owl#>

SELECT ?property
WHERE
{
   VALUES ?property { ${n} }
   ?property rdfs:subPropertyOf* d3f:may-be-associated-with .
}
LIMIT 1`;let t=null;if(n.includes(":"))try{const i=await ws.query(e);console.info({query_result:i}),i?Array.isArray(i)?i.length>0?t=i[0].get("property").value:console.warn(`Empty array returned for property lookup by iri of ${n}.`):console.warn(`Query result not the expected Array type for property lookup by iri of ${n}.`):console.warn(`Undefined query result returned for property lookup by iri of ${n}.`)}catch(i){console.warn(`Error executing oxigraph query for property lookup by iri of: ${n}, error: ${i}`)}else console.warn("Attempted lookup by iri of: "+n+" but iri has no ':' char");return console.info(t+" <- "+r),t}const Ir=Ft(kn[lc]),cc=Ft(kn[uc]),O0=Ft(kn[oc]),L0=Ft(kn[fc]);function Hi(n,r){An.set(n),ii.set(r)}function B0(){Hi([],[])}const An=pr([]),ii=pr([]);function x0(n,r){if(r.data.d3f_class){const e=r.data.d3f_class,[t,i]=e.split(":");return Ir(i)}else{const e=r.type;return{artifactSelectorNode:Ir("Artifact"),vulnerabilitySelectorNode:Ir("Vulnerability"),attackSelectorNode:Ir("OffensiveTechnique"),countermeasureSelectorNode:Ir("DefensiveTechnique"),informationSelectorNode:Ir("DigitalInformation"),agentSelectorNode:Ir("Agent"),eventNode:Ir("Event")}[e]}}async function q0(){const n=r0();Object.keys(kn).forEach(a=>{const l=kn[a];console.info("Adding prefix ",a," for ",l),n.setPrefixForURI(a,l)}),console.info("Echo store.namespaces: "+n.namespaces);let r,e;const t=[],i=[];return An.subscribe(a=>{r=a})(),ii.subscribe(a=>{e=a})(),console.info("Starting node processing..."),M0(r,n,t),console.info("Completed node processing."),console.info("Starting edge processing..."),await P0(e,n,i),console.info("Completed edge processing promise."),await new Promise((a,l)=>{ni(null,n,null,"text/turtle",(u,o)=>{if(u)l(u);else{let c=o;t.length>0&&(c+=`
# Skipped nodes (no d3f_class):
`,t.forEach(p=>{c+=`# Node ID: ${p.id}
`,JSON.stringify(p.data,null,2).split(`
`).forEach(g=>{c+=`# ${g}
`})})),i.length>0&&(c+=`#
# Skipped edges (no label lookup found.):
`,i.forEach(p=>{c+=`# Edge ID: ${p.id}
`,JSON.stringify(p.data,null,2).split(`
`).forEach(g=>{c+=`# ${g}
`})}),c+=`
`),a(c)}})})}function M0(n,r,e){console.info("Processing nodes..."),n.forEach(t=>{const i=t.id,s=t.type,a=t.data.label,l=x0(r,t);if(l){const u=dc(i),o=n0(a.toString());j0("Processing node and data properties and using rdflib node name: ",l),r.add(u,O0("type"),l),r.add(u,L0("label"),o)}else e.push({id:i,type:s,data:t.data})}),console.info("Done processing nodes."),e.length>1&&console.warn("Skipped nodes:",e)}function dc(n){const r=n.replace(".","_");return cc(r)}function j0(n,r){const e=Object.prototype.toString.call(r).slice(8,-1);console.log(`${n} references ${r} of type ${e}`)}const P0=async(n,r,e)=>{console.info("Processing edges now!"),e.length=0;for(const t of n){const i=t.id,s=t.data.label,a=t.source,l=t.target;console.log(`edgeLabel: ${s}`);try{const u=await R0(s);if(u){console.log(`Found property ${u} for ${s}`),console.info(`Adding subject inst:${a} property ${u} object inst:${l}`);try{const o=dc(a),c=cc(l.replace(".","_"));r.add(o,ec(u),c),console.info(r.length)}catch{console.error(`Error adding triple for edgeId = ${i}, edgeLabel = ${s}`)}}else console.warn(`Bad property ${u} found for ${s}`),e.push({id:i,data:t.data})}catch(u){console.error(`Lookup error for edgeId: ${i} with edgeLabel: ${s} - ${u}`),e.push({id:i,data:t.data})}}console.info("Done processing edges."),e.length>1&&console.warn("Skipped edges:",e)};function Ln(n,r,e,t,i,s,a,l,u,o,c,p,h,_,g){const C={id:`${Math.random()}`,type:t,position:{x:l,y:u},data:{label:i,sequence:a,techniqueId:s},measured:{width:o,height:c},origin:[.5,0],selected:!1,dragging:!1};let y,N;g?(y=C.id,N=e.id):(y=e.id,N=C.id);const B={type:"editableEdge",data:{label:p},markerEnd:{type:ts.ArrowClosed},source:N,sourceHandle:h,target:y,targetHandle:_,id:`xy-edge__${C.id}defenseBottomSource-${e.id}artLeftTarget`,selected:!1};r.update(E=>[...E,B]),n.update(E=>[...E,C])}function Tu(n,r,e){const t=n.slice();return t[18]=r[e],t}const U0=n=>({}),Cu=n=>({});function $0(n){let r;return{c(){r=U("No related offensive techniques in this release.")},l(e){r=$(e,"No related offensive techniques in this release.")},m(e,t){S(e,r,t)},p:Be,i:Be,o:Be,d(e){e&&D(r)}}}function V0(n){let r,e;return r=new Sn({props:{$$slots:{default:[G0]},$$scope:{ctx:n}}}),{c(){we(r.$$.fragment)},l(t){ye(r.$$.fragment,t)},m(t,i){De(r,t,i),e=!0},p(t,i){const s={};i&16394&&(s.$$scope={dirty:i,ctx:t}),r.$set(s)},i(t){e||(oe(r.$$.fragment,t),e=!0)},o(t){de(r.$$.fragment,t),e=!1},d(t){Ae(r,t)}}}function H0(n){let r,e="Loading...";return{c(){r=re("div"),r.textContent=e},l(t){r=ne(t,"DIV",{"data-svelte-h":!0}),qe(r)!=="svelte-194gxkm"&&(r.textContent=e)},m(t,i){S(t,r,i)},p:Be,i:Be,o:Be,d(t){t&&D(r)}}}function ku(n){let r=n[18].off_tech_id.value.replace(/ |\./g,"")+"",e,t,i=n[18].off_tech_label.value+"",s,a,l="-->",u,o,c=n[18].off_artifact_rel_label.value.replace(/ /g,"")+"",p,h,_=Ee(n[18].off_artifact.value)+"",g,C,y=n[18].off_artifact_label.value+"",N,B,E,L,A=Ee(n[18].off_artifact.value)+"",F,T,P=n[18].off_tech_id.value.replace(/ |\./g,"")+"",x,R,m=n[18].off_tech_id.value.replace(/ |\./g,"")+"",b,O,w=Ee(n[18].off_artifact.value)+"",H,I,V=Ee(n[18].off_artifact.value)+"",ee,Q;function q(K,he){return he&10&&(E=null),E==null&&(E=!!K[3].includes(K[18].off_tech_id.value.replace(/ |\./g,""))),E?X0:z0}let M=q(n,-1),le=M(n);return{c(){e=U(r),t=U('["'),s=U(i),a=U('"] '),u=U(l),o=U(" |"),p=U(c),h=U("| "),g=U(_),C=U('["'),N=U(y),B=U(`"];
            `),le.c(),L=U(`
            class `),F=U(A),T=U(" ArtifactNode; click "),x=U(P),R=U(` href "javascript:da_to_off_callback('`),b=U(m),O=U(`')"; click `),H=U(w),I=U(' href "/dao/artifact/d3f:'),ee=U(V),Q=U('";')},l(K){e=$(K,r),t=$(K,'["'),s=$(K,i),a=$(K,'"] '),u=$(K,l),o=$(K," |"),p=$(K,c),h=$(K,"| "),g=$(K,_),C=$(K,'["'),N=$(K,y),B=$(K,`"];
            `),le.l(K),L=$(K,`
            class `),F=$(K,A),T=$(K," ArtifactNode; click "),x=$(K,P),R=$(K,` href "javascript:da_to_off_callback('`),b=$(K,m),O=$(K,`')"; click `),H=$(K,w),I=$(K,' href "/dao/artifact/d3f:'),ee=$(K,V),Q=$(K,'";')},m(K,he){S(K,e,he),S(K,t,he),S(K,s,he),S(K,a,he),S(K,u,he),S(K,o,he),S(K,p,he),S(K,h,he),S(K,g,he),S(K,C,he),S(K,N,he),S(K,B,he),le.m(K,he),S(K,L,he),S(K,F,he),S(K,T,he),S(K,x,he),S(K,R,he),S(K,b,he),S(K,O,he),S(K,H,he),S(K,I,he),S(K,ee,he),S(K,Q,he)},p(K,he){he&2&&r!==(r=K[18].off_tech_id.value.replace(/ |\./g,"")+"")&&pe(e,r),he&2&&i!==(i=K[18].off_tech_label.value+"")&&pe(s,i),he&2&&c!==(c=K[18].off_artifact_rel_label.value.replace(/ /g,"")+"")&&pe(p,c),he&2&&_!==(_=Ee(K[18].off_artifact.value)+"")&&pe(g,_),he&2&&y!==(y=K[18].off_artifact_label.value+"")&&pe(N,y),M===(M=q(K,he))&&le?le.p(K,he):(le.d(1),le=M(K),le&&(le.c(),le.m(L.parentNode,L))),he&2&&A!==(A=Ee(K[18].off_artifact.value)+"")&&pe(F,A),he&2&&P!==(P=K[18].off_tech_id.value.replace(/ |\./g,"")+"")&&pe(x,P),he&2&&m!==(m=K[18].off_tech_id.value.replace(/ |\./g,"")+"")&&pe(b,m),he&2&&w!==(w=Ee(K[18].off_artifact.value)+"")&&pe(H,w),he&2&&V!==(V=Ee(K[18].off_artifact.value)+"")&&pe(ee,V)},d(K){K&&(D(e),D(t),D(s),D(a),D(u),D(o),D(p),D(h),D(g),D(C),D(N),D(B),D(L),D(F),D(T),D(x),D(R),D(b),D(O),D(H),D(I),D(ee),D(Q)),le.d(K)}}}function z0(n){let r,e=n[18].off_tech_id.value.replace(/ |\./g,"")+"",t,i;return{c(){r=U("class "),t=U(e),i=U(" OffensiveTechniqueNode;")},l(s){r=$(s,"class "),t=$(s,e),i=$(s," OffensiveTechniqueNode;")},m(s,a){S(s,r,a),S(s,t,a),S(s,i,a)},p(s,a){a&2&&e!==(e=s[18].off_tech_id.value.replace(/ |\./g,"")+"")&&pe(t,e)},d(s){s&&(D(r),D(t),D(i))}}}function X0(n){let r,e=n[18].off_tech_id.value.replace(/ |\./g,"")+"",t,i;return{c(){r=U("class "),t=U(e),i=U(" SelectedOffensiveTechniqueNode;")},l(s){r=$(s,"class "),t=$(s,e),i=$(s," SelectedOffensiveTechniqueNode;")},m(s,a){S(s,r,a),S(s,t,a),S(s,i,a)},p(s,a){a&2&&e!==(e=s[18].off_tech_id.value.replace(/ |\./g,"")+"")&&pe(t,e)},d(s){s&&(D(r),D(t),D(i))}}}function Nu(n){let r=n[6].edge_is_unique(n[18].off_tech_label.value,n[18].off_artifact_rel_label.value,n[18].off_artifact_label.value),e,t=r&&ku(n);return{c(){t&&t.c(),e=Le()},l(i){t&&t.l(i),e=Le()},m(i,s){t&&t.m(i,s),S(i,e,s)},p(i,s){s&2&&(r=i[6].edge_is_unique(i[18].off_tech_label.value,i[18].off_artifact_rel_label.value,i[18].off_artifact_label.value)),r?t?t.p(i,s):(t=ku(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&D(e),t&&t.d(i)}}}function G0(n){let r,e,t=ze(n[1].da_to_off.results.bindings),i=[];for(let s=0;s<t.length;s+=1)i[s]=Nu(Tu(n,t,s));return{c(){r=U(`graph LR;
        `);for(let s=0;s<i.length;s+=1)i[s].c();e=Le()},l(s){r=$(s,`graph LR;
        `);for(let a=0;a<i.length;a+=1)i[a].l(s);e=Le()},m(s,a){S(s,r,a);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(s,a);S(s,e,a)},p(s,a){if(a&74){t=ze(s[1].da_to_off.results.bindings);let l;for(l=0;l<t.length;l+=1){const u=Tu(s,t,l);i[l]?i[l].p(u,a):(i[l]=Nu(u),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=t.length}},d(s){s&&(D(r),D(e)),Lt(i,s)}}}function W0(n){let r,e,t,i,s,a,l,u,o,c,p,h,_,g=n[3].length+"",C,y,N,B,E;const L=n[9].header,A=Ct(L,n,n[14],Cu),F=n[9].default,T=Ct(F,n,n[14],null),P=[H0,V0,$0],x=[];function R(m,b){return m[1]?m[1].da_to_off.results.bindings.length>0?1:2:0}return l=R(n),u=x[l]=P[l](n),{c(){r=re("dialog"),e=re("div"),A&&A.c(),t=U(`
    Select Attack Techniques
    `),T&&T.c(),i=ie(),s=re("hr"),a=ie(),u.c(),o=ie(),c=re("hr"),p=ie(),h=re("button"),_=U("Insert ("),C=U(g),y=U(")"),this.h()},l(m){r=ne(m,"DIALOG",{class:!0});var b=Ce(r);e=ne(b,"DIV",{class:!0});var O=Ce(e);A&&A.l(O),t=$(O,`
    Select Attack Techniques
    `),T&&T.l(O),i=ae(O),s=ne(O,"HR",{}),a=ae(O),u.l(O),o=ae(O),c=ne(O,"HR",{}),p=ae(O),h=ne(O,"BUTTON",{class:!0});var w=Ce(h);_=$(w,"Insert ("),C=$(w,g),y=$(w,")"),w.forEach(D),O.forEach(D),b.forEach(D),this.h()},h(){h.autofocus=!0,ue(h,"class","svelte-1ai9hff"),ue(e,"class","svelte-1ai9hff"),ue(r,"class","svelte-1ai9hff")},m(m,b){S(m,r,b),G(r,e),A&&A.m(e,null),G(e,t),T&&T.m(e,null),G(e,i),G(e,s),G(e,a),x[l].m(e,null),G(e,o),G(e,c),G(e,p),G(e,h),G(h,_),G(h,C),G(h,y),n[11](r),N=!0,h.focus(),B||(E=[Se(h,"click",n[7]),Se(e,"click",Ot(n[10])),Se(r,"close",n[12]),Se(r,"click",Nn(n[13]))],B=!0)},p(m,[b]){A&&A.p&&(!N||b&16384)&&kt(A,L,m,m[14],N?St(L,m[14],b,U0):Nt(m[14]),Cu),T&&T.p&&(!N||b&16384)&&kt(T,F,m,m[14],N?St(F,m[14],b,null):Nt(m[14]),null);let O=l;l=R(m),l===O?x[l].p(m,b):(Et(),de(x[O],1,1,()=>{x[O]=null}),Tt(),u=x[l],u?u.p(m,b):(u=x[l]=P[l](m),u.c()),oe(u,1),u.m(e,o)),(!N||b&8)&&g!==(g=m[3].length+"")&&pe(C,g)},i(m){N||(oe(A,m),oe(T,m),oe(u),N=!0)},o(m){de(A,m),de(T,m),de(u),N=!1},d(m){m&&D(r),A&&A.d(m),T&&T.d(m),x[l].d(),n[11](null),B=!1,bt(E)}}}function Q0(n,r,e){let t,i,s,{$$slots:a={},$$scope:l}=r,{show_attack_modal:u}=r,{parent_node:o}=r,{data:c}=r,p;const h=xr();nt(n,h,A=>e(16,s=A));const _=rn();nt(n,_,A=>e(15,i=A));let g=new Jn;function C(A){t.includes(A)?e(3,t=t.filter(F=>F!==A)):t.push(A),e(3,t)}window.da_to_off_callback=function(A){C(A)};function y(){let A=0,F=200,T=100;for(const P of t){let x=c.da_to_off.results.bindings.find(R=>R.off_tech_id.value.replace(/ |\./g,"")==P);x&&(Ln(h,_,o,"attackSelectorNode",x.off_tech_label.value,"d3f:"+x.off_tech_id.value,o.data.sequence,o.position.x+A*F,o.position.y+T,182,63,x.off_artifact_rel_label.value,"attackRightSource","attackLeftTarget",!1),A+=1)}h.set(s),_.set(i),p&&p.close(),e(3,t=[])}function N(A){Lr.call(this,n,A)}function B(A){Dt[A?"unshift":"push"](()=>{p=A,e(2,p)})}const E=()=>e(0,u=!1),L=()=>{p.close(),e(3,t=[])};return n.$$set=A=>{"show_attack_modal"in A&&e(0,u=A.show_attack_modal),"parent_node"in A&&e(8,o=A.parent_node),"data"in A&&e(1,c=A.data),"$$scope"in A&&e(14,l=A.$$scope)},n.$$.update=()=>{n.$$.dirty&5&&u&&p&&(p.showModal(),g.reset())},e(3,t=[]),[u,c,p,t,h,_,g,y,o,a,N,B,E,L,l]}class Y0 extends We{constructor(r){super(),Qe(this,r,Q0,W0,Xe,{show_attack_modal:0,parent_node:8,data:1})}}function Su(n,r,e){const t=n.slice();return t[23]=r[e],t}const J0=n=>({}),Ru=n=>({});function Z0(n){let r;return{c(){r=U("No related defensive techniques in this release.")},l(e){r=$(e,"No related defensive techniques in this release.")},m(e,t){S(e,r,t)},p:Be,i:Be,o:Be,d(e){e&&D(r)}}}function K0(n){let r,e,t,i,s,a=n[4],l,u;function o(h){n[14](h)}let c={toggles:n[5]};n[4]!==void 0&&(c.selected=n[4]),t=new Oo({props:c}),Dt.push(()=>or(t,"selected",o));let p=Lu(n);return{c(){r=re("br"),e=ie(),we(t.$$.fragment),s=ie(),p.c(),l=Le()},l(h){r=ne(h,"BR",{}),e=ae(h),ye(t.$$.fragment,h),s=ae(h),p.l(h),l=Le()},m(h,_){S(h,r,_),S(h,e,_),De(t,h,_),S(h,s,_),p.m(h,_),S(h,l,_),u=!0},p(h,_){const g={};_&32&&(g.toggles=h[5]),!i&&_&16&&(i=!0,g.selected=h[4],ur(()=>i=!1)),t.$set(g),_&16&&Xe(a,a=h[4])?(Et(),de(p,1,1,Be),Tt(),p=Lu(h),p.c(),oe(p,1),p.m(l.parentNode,l)):p.p(h,_)},i(h){u||(oe(t.$$.fragment,h),oe(p),u=!0)},o(h){de(t.$$.fragment,h),de(p),u=!1},d(h){h&&(D(r),D(e),D(s),D(l)),Ae(t,h),p.d(h)}}}function eg(n){let r,e="Loading...";return{c(){r=re("div"),r.textContent=e},l(t){r=ne(t,"DIV",{"data-svelte-h":!0}),qe(r)!=="svelte-194gxkm"&&(r.textContent=e)},m(t,i){S(t,r,i)},p:Be,i:Be,o:Be,d(t){t&&D(r)}}}function Iu(n){let r=!n[4].includes(n[23].def_tactic_label.value),e,t=r&&Fu(n);return{c(){t&&t.c(),e=Le()},l(i){t&&t.l(i),e=Le()},m(i,s){t&&t.m(i,s),S(i,e,s)},p(i,s){s&18&&(r=!i[4].includes(i[23].def_tactic_label.value)),r?t?t.p(i,s):(t=Fu(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&D(e),t&&t.d(i)}}}function Fu(n){let r=Ee(n[23].def_tech.value)+"",e,t,i=n[23].def_tech_label.value+"",s,a,l="-->",u,o,c=n[23].def_artifact_rel_label.value.replace(/ /g,"")+"",p,h,_=Ee(n[23].def_artifact.value)+"",g,C,y=n[23].def_artifact_label.value+"",N,B,E,L,A=Ee(n[23].def_artifact.value)+"",F,T,P=Ee(n[23].def_tech.value)+"",x,R,m=Ee(n[23].def_artifact.value)+"",b,O,w=Ee(n[23].def_artifact.value)+"",H,I;function V(q,M){return M&66&&(E=null),E==null&&(E=!!q[6].includes(Ee(q[23].def_tech.value))),E?rg:tg}let ee=V(n,-1),Q=ee(n);return{c(){e=U(r),t=U('["'),s=U(i),a=U('"] '),u=U(l),o=U(`
                | `),p=U(c),h=U(" | "),g=U(_),C=U('["'),N=U(y),B=U(`"];
                `),Q.c(),L=U(` 
                class `),F=U(A),T=U(` ArtifactNode;
                click `),x=U(P),R=U(` call da_to_def_callback();
                click `),b=U(m),O=U(' href "/dao/artifact/d3f:'),H=U(w),I=U('";')},l(q){e=$(q,r),t=$(q,'["'),s=$(q,i),a=$(q,'"] '),u=$(q,l),o=$(q,`
                | `),p=$(q,c),h=$(q," | "),g=$(q,_),C=$(q,'["'),N=$(q,y),B=$(q,`"];
                `),Q.l(q),L=$(q,` 
                class `),F=$(q,A),T=$(q,` ArtifactNode;
                click `),x=$(q,P),R=$(q,` call da_to_def_callback();
                click `),b=$(q,m),O=$(q,' href "/dao/artifact/d3f:'),H=$(q,w),I=$(q,'";')},m(q,M){S(q,e,M),S(q,t,M),S(q,s,M),S(q,a,M),S(q,u,M),S(q,o,M),S(q,p,M),S(q,h,M),S(q,g,M),S(q,C,M),S(q,N,M),S(q,B,M),Q.m(q,M),S(q,L,M),S(q,F,M),S(q,T,M),S(q,x,M),S(q,R,M),S(q,b,M),S(q,O,M),S(q,H,M),S(q,I,M)},p(q,M){M&2&&r!==(r=Ee(q[23].def_tech.value)+"")&&pe(e,r),M&2&&i!==(i=q[23].def_tech_label.value+"")&&pe(s,i),M&2&&c!==(c=q[23].def_artifact_rel_label.value.replace(/ /g,"")+"")&&pe(p,c),M&2&&_!==(_=Ee(q[23].def_artifact.value)+"")&&pe(g,_),M&2&&y!==(y=q[23].def_artifact_label.value+"")&&pe(N,y),ee===(ee=V(q,M))&&Q?Q.p(q,M):(Q.d(1),Q=ee(q),Q&&(Q.c(),Q.m(L.parentNode,L))),M&2&&A!==(A=Ee(q[23].def_artifact.value)+"")&&pe(F,A),M&2&&P!==(P=Ee(q[23].def_tech.value)+"")&&pe(x,P),M&2&&m!==(m=Ee(q[23].def_artifact.value)+"")&&pe(b,m),M&2&&w!==(w=Ee(q[23].def_artifact.value)+"")&&pe(H,w)},d(q){q&&(D(e),D(t),D(s),D(a),D(u),D(o),D(p),D(h),D(g),D(C),D(N),D(B),D(L),D(F),D(T),D(x),D(R),D(b),D(O),D(H),D(I)),Q.d(q)}}}function tg(n){let r,e=Ee(n[23].def_tech.value)+"",t,i;return{c(){r=U("class "),t=U(e),i=U(" DefensiveTechniqueNode;")},l(s){r=$(s,"class "),t=$(s,e),i=$(s," DefensiveTechniqueNode;")},m(s,a){S(s,r,a),S(s,t,a),S(s,i,a)},p(s,a){a&2&&e!==(e=Ee(s[23].def_tech.value)+"")&&pe(t,e)},d(s){s&&(D(r),D(t),D(i))}}}function rg(n){let r,e=Ee(n[23].def_tech.value)+"",t,i;return{c(){r=U("class "),t=U(e),i=U(" SelectedDefensiveTechniqueNode;")},l(s){r=$(s,"class "),t=$(s,e),i=$(s," SelectedDefensiveTechniqueNode;")},m(s,a){S(s,r,a),S(s,t,a),S(s,i,a)},p(s,a){a&2&&e!==(e=Ee(s[23].def_tech.value)+"")&&pe(t,e)},d(s){s&&(D(r),D(t),D(i))}}}function Ou(n){let r=n[3].edge_is_unique(n[23].def_tech_label.value,n[23].def_artifact_rel_label.value,n[23].def_artifact_label.value),e,t=r&&Iu(n);return{c(){t&&t.c(),e=Le()},l(i){t&&t.l(i),e=Le()},m(i,s){t&&t.m(i,s),S(i,e,s)},p(i,s){s&10&&(r=i[3].edge_is_unique(i[23].def_tech_label.value,i[23].def_artifact_rel_label.value,i[23].def_artifact_label.value)),r?t?t.p(i,s):(t=Iu(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&D(e),t&&t.d(i)}}}function ng(n){let r,e,t=ze(n[1].da_to_def.results.bindings),i=[];for(let s=0;s<t.length;s+=1)i[s]=Ou(Su(n,t,s));return{c(){r=U(`graph LR;
          `);for(let s=0;s<i.length;s+=1)i[s].c();e=Le()},l(s){r=$(s,`graph LR;
          `);for(let a=0;a<i.length;a+=1)i[a].l(s);e=Le()},m(s,a){S(s,r,a);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(s,a);S(s,e,a)},p(s,a){if(a&90){t=ze(s[1].da_to_def.results.bindings);let l;for(l=0;l<t.length;l+=1){const u=Su(s,t,l);i[l]?i[l].p(u,a):(i[l]=Ou(u),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=t.length}},d(s){s&&(D(r),D(e)),Lt(i,s)}}}function Lu(n){let r,e;return r=new Sn({props:{$$slots:{default:[ng]},$$scope:{ctx:n}}}),{c(){we(r.$$.fragment)},l(t){ye(r.$$.fragment,t)},m(t,i){De(r,t,i),e=!0},p(t,i){const s={};i&262234&&(s.$$scope={dirty:i,ctx:t}),r.$set(s)},i(t){e||(oe(r.$$.fragment,t),e=!0)},o(t){de(r.$$.fragment,t),e=!1},d(t){Ae(r,t)}}}function ig(n){let r,e,t,i,s,a,l,u,o,c,p,h,_,g=n[6].length+"",C,y,N,B,E;const L=n[12].header,A=Ct(L,n,n[18],Ru),F=n[12].default,T=Ct(F,n,n[18],null),P=[eg,K0,Z0],x=[];function R(m,b){return m[1]?m[1].da_to_def.results.bindings.length>0?1:2:0}return l=R(n),u=x[l]=P[l](n),{c(){r=re("dialog"),e=re("div"),A&&A.c(),t=U(`
    Select Countermeasure Techniques
    `),T&&T.c(),i=ie(),s=re("hr"),a=ie(),u.c(),o=ie(),c=re("hr"),p=ie(),h=re("button"),_=U("Insert ("),C=U(g),y=U(")"),this.h()},l(m){r=ne(m,"DIALOG",{class:!0});var b=Ce(r);e=ne(b,"DIV",{class:!0});var O=Ce(e);A&&A.l(O),t=$(O,`
    Select Countermeasure Techniques
    `),T&&T.l(O),i=ae(O),s=ne(O,"HR",{}),a=ae(O),u.l(O),o=ae(O),c=ne(O,"HR",{}),p=ae(O),h=ne(O,"BUTTON",{class:!0});var w=Ce(h);_=$(w,"Insert ("),C=$(w,g),y=$(w,")"),w.forEach(D),O.forEach(D),b.forEach(D),this.h()},h(){h.autofocus=!0,ue(h,"class","svelte-1yq7x1p"),ue(e,"class","svelte-1yq7x1p"),ue(r,"class","svelte-1yq7x1p")},m(m,b){S(m,r,b),G(r,e),A&&A.m(e,null),G(e,t),T&&T.m(e,null),G(e,i),G(e,s),G(e,a),x[l].m(e,null),G(e,o),G(e,c),G(e,p),G(e,h),G(h,_),G(h,C),G(h,y),n[15](r),N=!0,h.focus(),B||(E=[Se(h,"click",n[9]),Se(e,"click",Ot(n[13])),Se(r,"close",n[16]),Se(r,"click",Nn(n[17]))],B=!0)},p(m,[b]){A&&A.p&&(!N||b&262144)&&kt(A,L,m,m[18],N?St(L,m[18],b,J0):Nt(m[18]),Ru),T&&T.p&&(!N||b&262144)&&kt(T,F,m,m[18],N?St(F,m[18],b,null):Nt(m[18]),null);let O=l;l=R(m),l===O?x[l].p(m,b):(Et(),de(x[O],1,1,()=>{x[O]=null}),Tt(),u=x[l],u?u.p(m,b):(u=x[l]=P[l](m),u.c()),oe(u,1),u.m(e,o)),(!N||b&64)&&g!==(g=m[6].length+"")&&pe(C,g)},i(m){N||(oe(A,m),oe(T,m),oe(u),N=!0)},o(m){de(A,m),de(T,m),de(u),N=!1},d(m){m&&D(r),A&&A.d(m),T&&T.d(m),x[l].d(),n[15](null),B=!1,bt(E)}}}function ag(n,r,e){let t,i,s,{$$slots:a={},$$scope:l}=r,{show_defend_modal:u}=r,{parent_node:o}=r,{data:c}=r,p;const h=xr();nt(n,h,R=>e(20,s=R));const _=rn();nt(n,_,R=>e(19,i=R));let g=new Jn;function C(R){t.includes(R)?e(6,t=t.filter(m=>m!==R)):t.push(R),e(6,t)}window.da_to_def_callback=function(R){C(R)};function y(){let R=0,m=200,b=100;for(const O of t){let w=c.da_to_def.results.bindings.find(H=>Ee(H.def_tech.value)==O);w&&(Ln(h,_,o,"countermeasureSelectorNode",w.def_tech_label.value,"d3f:"+Ee(w.def_tech.value),o.data.sequence,o.position.x+R*m,o.position.y-b,182,63,w.def_artifact_rel_label.value,"defenseBottomSource","defenseRightTarget",!1),R+=1)}h.set(s),_.set(i),p&&p.close(),e(6,t=[])}let N=new Set,B=[],E=[];Fo(B,E)&&(E=[]);function L(R){for(const m of t){let b=c.da_to_def.results.bindings.find(O=>Ee(O.def_tech.value)==m);R.includes(b.def_tactic_label.value)&&e(6,t=t.filter(O=>O!==m))}e(6,t)}function A(R){Lr.call(this,n,R)}function F(R){E=R,e(4,E)}function T(R){Dt[R?"unshift":"push"](()=>{p=R,e(2,p)})}const P=()=>e(0,u=!1),x=()=>{p.close(),e(6,t=[])};return n.$$set=R=>{"show_defend_modal"in R&&e(0,u=R.show_defend_modal),"parent_node"in R&&e(10,o=R.parent_node),"data"in R&&e(1,c=R.data),"$$scope"in R&&e(18,l=R.$$scope)},n.$$.update=()=>{n.$$.dirty&5&&u&&p&&(p.showModal(),e(3,g=new Jn)),n.$$.dirty&2050&&c&&(c.da_to_def.results.bindings.forEach(R=>{N.add(R.def_tactic_label.value)}),e(11,N),e(1,c)),n.$$.dirty&2048&&e(5,B=Array.from(N).sort(function(R,m){return Gi[R]-Gi[m]})),n.$$.dirty&16&&L(E),n.$$.dirty&24&&g.reset(E)},e(6,t=[]),[u,c,p,g,E,B,t,h,_,y,o,N,a,A,F,T,P,x,l]}class sg extends We{constructor(r){super(),Qe(this,r,ag,ig,Xe,{show_defend_modal:0,parent_node:10,data:1})}}function Bu(n,r,e){const t=n.slice();return t[27]=r[e],t}function xu(n,r,e){const t=n.slice();return t[30]=r[e],t}function qu(n,r,e){const t=n.slice();return t[33]=r[e],t}function Mu(n,r,e){const t=n.slice();return t[27]=r[e],t}function ju(n,r,e){const t=n.slice();return t[30]=r[e],t}const lg=n=>({}),Pu=n=>({});function ug(n){let r;return{c(){r=U("No related weaknesses in this release")},l(e){r=$(e,"No related weaknesses in this release")},m(e,t){S(e,r,t)},p:Be,i:Be,o:Be,d(e){e&&D(r)}}}function og(n){let r,e;return r=new Sn({props:{$$slots:{default:[cg]},$$scope:{ctx:n}}}),{c(){we(r.$$.fragment)},l(t){ye(r.$$.fragment,t)},m(t,i){De(r,t,i),e=!0},p(t,i){const s={};i[0]&8389054&&(s.$$scope={dirty:i,ctx:t}),r.$set(s)},i(t){e||(oe(r.$$.fragment,t),e=!0)},o(t){de(r.$$.fragment,t),e=!1},d(t){Ae(r,t)}}}function fg(n){let r,e="Loading...";return{c(){r=re("div"),r.textContent=e},l(t){r=ne(t,"DIV",{"data-svelte-h":!0}),qe(r)!=="svelte-194gxkm"&&(r.textContent=e)},m(t,i){S(t,r,i)},p:Be,i:Be,o:Be,d(t){t&&D(r)}}}function Uu(n){let r,e=ze(n[33]["d3f:outbound"]),t=[];for(let i=0;i<e.length;i+=1)t[i]=Hu(Mu(n,e,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();r=Le()},l(i){for(let s=0;s<t.length;s+=1)t[s].l(i);r=Le()},m(i,s){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(i,s);S(i,r,s)},p(i,s){if(s[0]&430){e=ze(i[33]["d3f:outbound"]);let a;for(a=0;a<e.length;a+=1){const l=Mu(i,e,a);t[a]?t[a].p(l,s):(t[a]=Hu(l),t[a].c(),t[a].m(r.parentNode,r))}for(;a<t.length;a+=1)t[a].d(1);t.length=e.length}},d(i){i&&D(r),Lt(t,i)}}}function $u(n){let r,e=n[33]["@id"]+"",t,i;return{c(){r=U("class "),t=U(e),i=U(" selected_inbound_node;")},l(s){r=$(s,"class "),t=$(s,e),i=$(s," selected_inbound_node;")},m(s,a){S(s,r,a),S(s,t,a),S(s,i,a)},p(s,a){a[0]&160&&e!==(e=s[33]["@id"]+"")&&pe(t,e)},d(s){s&&(D(r),D(t),D(i))}}}function Vu(n){let r=n[33]["@id"]+"",e,t,i=n[33]["rdfs:label"][0]+"",s,a,l="-->",u,o,c=Ee(n[27]["@id"])+"",p,h,_=n[30]["@id"]+"",g,C,y=n[7].i(n[30]["@id"])["rdfs:label"][0]+"",N,B,E=n[33]["@id"]+"",L,A,F=n[33]["@id"]+"",T,P,x,R,m=n[8].includes(n[33]["@id"]),b,O=n[30]["@id"]+"",w,H,I=n[30]["@id"]+"",V,ee,Q,q,M=n[33]["@id"]+"",le,K,he=n[33]["@id"]+"",fe,me,te=n[30]["@id"]+"",ce,J,ve=n[3](n[30])+"",Fe,$e,Pe=m&&$u(n);return{c(){e=U(r),t=U('["'),s=U(i),a=U('"] '),u=U(l),o=U(" | "),p=U(c),h=U(" | "),g=U(_),C=U('["'),N=U(y),B=U(`"];
                class `),L=U(E),A=U(" inbound_node; style "),T=U(F),P=U(" fill:"),x=U(n[1]),R=U(`;
                `),Pe&&Pe.c(),b=U(`
                class `),w=U(O),H=U(" RootArtifactNode; style "),V=U(I),ee=U(" fill:"),Q=U(n[2]),q=U(`;
                click `),le=U(M),K=U(` href "javascript:da_to_weak_callback('`),fe=U(he),me=U(`')"; click `),ce=U(te),J=U(' href "'),Fe=U(ve),$e=U('";')},l(_e){e=$(_e,r),t=$(_e,'["'),s=$(_e,i),a=$(_e,'"] '),u=$(_e,l),o=$(_e," | "),p=$(_e,c),h=$(_e," | "),g=$(_e,_),C=$(_e,'["'),N=$(_e,y),B=$(_e,`"];
                class `),L=$(_e,E),A=$(_e," inbound_node; style "),T=$(_e,F),P=$(_e," fill:"),x=$(_e,n[1]),R=$(_e,`;
                `),Pe&&Pe.l(_e),b=$(_e,`
                class `),w=$(_e,O),H=$(_e," RootArtifactNode; style "),V=$(_e,I),ee=$(_e," fill:"),Q=$(_e,n[2]),q=$(_e,`;
                click `),le=$(_e,M),K=$(_e,` href "javascript:da_to_weak_callback('`),fe=$(_e,he),me=$(_e,`')"; click `),ce=$(_e,te),J=$(_e,' href "'),Fe=$(_e,ve),$e=$(_e,'";')},m(_e,Te){S(_e,e,Te),S(_e,t,Te),S(_e,s,Te),S(_e,a,Te),S(_e,u,Te),S(_e,o,Te),S(_e,p,Te),S(_e,h,Te),S(_e,g,Te),S(_e,C,Te),S(_e,N,Te),S(_e,B,Te),S(_e,L,Te),S(_e,A,Te),S(_e,T,Te),S(_e,P,Te),S(_e,x,Te),S(_e,R,Te),Pe&&Pe.m(_e,Te),S(_e,b,Te),S(_e,w,Te),S(_e,H,Te),S(_e,V,Te),S(_e,ee,Te),S(_e,Q,Te),S(_e,q,Te),S(_e,le,Te),S(_e,K,Te),S(_e,fe,Te),S(_e,me,Te),S(_e,ce,Te),S(_e,J,Te),S(_e,Fe,Te),S(_e,$e,Te)},p(_e,Te){Te[0]&160&&r!==(r=_e[33]["@id"]+"")&&pe(e,r),Te[0]&160&&i!==(i=_e[33]["rdfs:label"][0]+"")&&pe(s,i),Te[0]&160&&c!==(c=Ee(_e[27]["@id"])+"")&&pe(p,c),Te[0]&160&&_!==(_=_e[30]["@id"]+"")&&pe(g,_),Te[0]&160&&y!==(y=_e[7].i(_e[30]["@id"])["rdfs:label"][0]+"")&&pe(N,y),Te[0]&160&&E!==(E=_e[33]["@id"]+"")&&pe(L,E),Te[0]&160&&F!==(F=_e[33]["@id"]+"")&&pe(T,F),Te[0]&2&&pe(x,_e[1]),Te[0]&416&&(m=_e[8].includes(_e[33]["@id"])),m?Pe?Pe.p(_e,Te):(Pe=$u(_e),Pe.c(),Pe.m(b.parentNode,b)):Pe&&(Pe.d(1),Pe=null),Te[0]&160&&O!==(O=_e[30]["@id"]+"")&&pe(w,O),Te[0]&160&&I!==(I=_e[30]["@id"]+"")&&pe(V,I),Te[0]&4&&pe(Q,_e[2]),Te[0]&160&&M!==(M=_e[33]["@id"]+"")&&pe(le,M),Te[0]&160&&he!==(he=_e[33]["@id"]+"")&&pe(fe,he),Te[0]&160&&te!==(te=_e[30]["@id"]+"")&&pe(ce,te),Te[0]&168&&ve!==(ve=_e[3](_e[30])+"")&&pe(Fe,ve)},d(_e){_e&&(D(e),D(t),D(s),D(a),D(u),D(o),D(p),D(h),D(g),D(C),D(N),D(B),D(L),D(A),D(T),D(P),D(x),D(R),D(b),D(w),D(H),D(V),D(ee),D(Q),D(q),D(le),D(K),D(fe),D(me),D(ce),D(J),D(Fe),D($e)),Pe&&Pe.d(_e)}}}function Hu(n){let r,e=ze(n[33][n[27]["@id"]]),t=[];for(let i=0;i<e.length;i+=1)t[i]=Vu(ju(n,e,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();r=Le()},l(i){for(let s=0;s<t.length;s+=1)t[s].l(i);r=Le()},m(i,s){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(i,s);S(i,r,s)},p(i,s){if(s[0]&430){e=ze(i[33][i[27]["@id"]]);let a;for(a=0;a<e.length;a+=1){const l=ju(i,e,a);t[a]?t[a].p(l,s):(t[a]=Vu(l),t[a].c(),t[a].m(r.parentNode,r))}for(;a<t.length;a+=1)t[a].d(1);t.length=e.length}},d(i){i&&D(r),Lt(t,i)}}}function zu(n){let r,e=n[33]["d3f:outbound"]&&Uu(n);return{c(){e&&e.c(),r=Le()},l(t){e&&e.l(t),r=Le()},m(t,i){e&&e.m(t,i),S(t,r,i)},p(t,i){t[33]["d3f:outbound"]?e?e.p(t,i):(e=Uu(t),e.c(),e.m(r.parentNode,r)):e&&(e.d(1),e=null)},d(t){t&&D(r),e&&e.d(t)}}}function Xu(n){let r,e=ze(n[7].i(n[5].description["@id"])["d3f:outbound"]),t=[];for(let i=0;i<e.length;i+=1)t[i]=Wu(Bu(n,e,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();r=Le()},l(i){for(let s=0;s<t.length;s+=1)t[s].l(i);r=Le()},m(i,s){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(i,s);S(i,r,s)},p(i,s){if(s[0]&184){e=ze(i[7].i(i[5].description["@id"])["d3f:outbound"]);let a;for(a=0;a<e.length;a+=1){const l=Bu(i,e,a);t[a]?t[a].p(l,s):(t[a]=Wu(l),t[a].c(),t[a].m(r.parentNode,r))}for(;a<t.length;a+=1)t[a].d(1);t.length=e.length}},d(i){i&&D(r),Lt(t,i)}}}function Gu(n){let r=n[5].description["@id"]+"",e,t,i=n[7].i(n[5].description["@id"])["rdfs:label"][0]+"",s,a,l="-->",u,o,c=Ee(n[27]["@id"])+"",p,h,_=n[30]["@id"]+"",g,C,y=n[7].graph[n[7].index[n[30]["@id"]]]["rdfs:label"][0]+"",N,B,E=n[5].description["@id"]+"",L,A,F=n[30]["@id"]+"",T,P,x=n[5].description["@id"]+"",R,m,b=n[3](n[5].description["@id"])+"",O,w,H=n[30]["@id"]+"",I,V,ee=n[4](n[30])+"",Q,q;return{c(){e=U(r),t=U('["'),s=U(i),a=U('"] '),u=U(l),o=U(" | "),p=U(c),h=U(" | "),g=U(_),C=U('["'),N=U(y),B=U('"]; class '),L=U(E),A=U(" RootArtifactNode; class "),T=U(F),P=U(` ArtifactNode;
              click `),R=U(x),m=U(' href "'),O=U(b),w=U('"; click '),I=U(H),V=U(' href "'),Q=U(ee),q=U('";')},l(M){e=$(M,r),t=$(M,'["'),s=$(M,i),a=$(M,'"] '),u=$(M,l),o=$(M," | "),p=$(M,c),h=$(M," | "),g=$(M,_),C=$(M,'["'),N=$(M,y),B=$(M,'"]; class '),L=$(M,E),A=$(M," RootArtifactNode; class "),T=$(M,F),P=$(M,` ArtifactNode;
              click `),R=$(M,x),m=$(M,' href "'),O=$(M,b),w=$(M,'"; click '),I=$(M,H),V=$(M,' href "'),Q=$(M,ee),q=$(M,'";')},m(M,le){S(M,e,le),S(M,t,le),S(M,s,le),S(M,a,le),S(M,u,le),S(M,o,le),S(M,p,le),S(M,h,le),S(M,g,le),S(M,C,le),S(M,N,le),S(M,B,le),S(M,L,le),S(M,A,le),S(M,T,le),S(M,P,le),S(M,R,le),S(M,m,le),S(M,O,le),S(M,w,le),S(M,I,le),S(M,V,le),S(M,Q,le),S(M,q,le)},p(M,le){le[0]&32&&r!==(r=M[5].description["@id"]+"")&&pe(e,r),le[0]&160&&i!==(i=M[7].i(M[5].description["@id"])["rdfs:label"][0]+"")&&pe(s,i),le[0]&160&&c!==(c=Ee(M[27]["@id"])+"")&&pe(p,c),le[0]&160&&_!==(_=M[30]["@id"]+"")&&pe(g,_),le[0]&160&&y!==(y=M[7].graph[M[7].index[M[30]["@id"]]]["rdfs:label"][0]+"")&&pe(N,y),le[0]&32&&E!==(E=M[5].description["@id"]+"")&&pe(L,E),le[0]&160&&F!==(F=M[30]["@id"]+"")&&pe(T,F),le[0]&32&&x!==(x=M[5].description["@id"]+"")&&pe(R,x),le[0]&40&&b!==(b=M[3](M[5].description["@id"])+"")&&pe(O,b),le[0]&160&&H!==(H=M[30]["@id"]+"")&&pe(I,H),le[0]&176&&ee!==(ee=M[4](M[30])+"")&&pe(Q,ee)},d(M){M&&(D(e),D(t),D(s),D(a),D(u),D(o),D(p),D(h),D(g),D(C),D(N),D(B),D(L),D(A),D(T),D(P),D(R),D(m),D(O),D(w),D(I),D(V),D(Q),D(q))}}}function Wu(n){let r,e=ze(n[7].i(n[5].description["@id"])[n[27]["@id"]]),t=[];for(let i=0;i<e.length;i+=1)t[i]=Gu(xu(n,e,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();r=Le()},l(i){for(let s=0;s<t.length;s+=1)t[s].l(i);r=Le()},m(i,s){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(i,s);S(i,r,s)},p(i,s){if(s[0]&184){e=ze(i[7].i(i[5].description["@id"])[i[27]["@id"]]);let a;for(a=0;a<e.length;a+=1){const l=xu(i,e,a);t[a]?t[a].p(l,s):(t[a]=Gu(l),t[a].c(),t[a].m(r.parentNode,r))}for(;a<t.length;a+=1)t[a].d(1);t.length=e.length}},d(i){i&&D(r),Lt(t,i)}}}function cg(n){let r,e,t=n[7].i(n[5].description["@id"])&&n[7].i(n[5].description["@id"])["d3f:outbound"],i,s=ze(n[7].graph.filter(n[19])),a=[];for(let u=0;u<s.length;u+=1)a[u]=zu(qu(n,s,u));let l=t&&Xu(n);return{c(){r=U(`graph LR;
        `);for(let u=0;u<a.length;u+=1)a[u].c();e=ie(),l&&l.c(),i=Le()},l(u){r=$(u,`graph LR;
        `);for(let o=0;o<a.length;o+=1)a[o].l(u);e=ae(u),l&&l.l(u),i=Le()},m(u,o){S(u,r,o);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,o);S(u,e,o),l&&l.m(u,o),S(u,i,o)},p(u,o){if(o[0]&430){s=ze(u[7].graph.filter(u[19]));let c;for(c=0;c<s.length;c+=1){const p=qu(u,s,c);a[c]?a[c].p(p,o):(a[c]=zu(p),a[c].c(),a[c].m(e.parentNode,e))}for(;c<a.length;c+=1)a[c].d(1);a.length=s.length}o[0]&160&&(t=u[7].i(u[5].description["@id"])&&u[7].i(u[5].description["@id"])["d3f:outbound"]),t?l?l.p(u,o):(l=Xu(u),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},d(u){u&&(D(r),D(e),D(i)),Lt(a,u),l&&l.d(u)}}}function dg(n){let r,e,t,i,s,a,l,u,o,c,p,h,_,g=n[8].length+"",C,y,N,B,E;const L=n[17].header,A=Ct(L,n,n[23],Pu),F=n[17].default,T=Ct(F,n,n[23],null),P=[fg,og,ug],x=[];function R(m,b){return m[5]?m[7].graph.length>0?1:2:0}return l=R(n),u=x[l]=P[l](n),{c(){r=re("dialog"),e=re("div"),A&&A.c(),t=U(`
    Select Weaknesses
    `),T&&T.c(),i=ie(),s=re("hr"),a=ie(),u.c(),o=ie(),c=re("hr"),p=ie(),h=re("button"),_=U("Insert ("),C=U(g),y=U(")"),this.h()},l(m){r=ne(m,"DIALOG",{class:!0});var b=Ce(r);e=ne(b,"DIV",{class:!0});var O=Ce(e);A&&A.l(O),t=$(O,`
    Select Weaknesses
    `),T&&T.l(O),i=ae(O),s=ne(O,"HR",{}),a=ae(O),u.l(O),o=ae(O),c=ne(O,"HR",{}),p=ae(O),h=ne(O,"BUTTON",{class:!0});var w=Ce(h);_=$(w,"Insert ("),C=$(w,g),y=$(w,")"),w.forEach(D),O.forEach(D),b.forEach(D),this.h()},h(){h.autofocus=!0,ue(h,"class","svelte-1resfch"),ue(e,"class","svelte-1resfch"),ue(r,"class","svelte-1resfch")},m(m,b){S(m,r,b),G(r,e),A&&A.m(e,null),G(e,t),T&&T.m(e,null),G(e,i),G(e,s),G(e,a),x[l].m(e,null),G(e,o),G(e,c),G(e,p),G(e,h),G(h,_),G(h,C),G(h,y),n[20](r),N=!0,h.focus(),B||(E=[Se(h,"click",n[11]),Se(e,"click",Ot(n[18])),Se(r,"close",n[21]),Se(r,"click",Nn(n[22]))],B=!0)},p(m,b){A&&A.p&&(!N||b[0]&8388608)&&kt(A,L,m,m[23],N?St(L,m[23],b,lg):Nt(m[23]),Pu),T&&T.p&&(!N||b[0]&8388608)&&kt(T,F,m,m[23],N?St(F,m[23],b,null):Nt(m[23]),null);let O=l;l=R(m),l===O?x[l].p(m,b):(Et(),de(x[O],1,1,()=>{x[O]=null}),Tt(),u=x[l],u?u.p(m,b):(u=x[l]=P[l](m),u.c()),oe(u,1),u.m(e,o)),(!N||b[0]&256)&&g!==(g=m[8].length+"")&&pe(C,g)},i(m){N||(oe(A,m),oe(T,m),oe(u),N=!0)},o(m){de(A,m),de(T,m),de(u),N=!1},d(m){m&&D(r),A&&A.d(m),T&&T.d(m),x[l].d(),n[20](null),B=!1,bt(E)}}}function hg(n,r,e){let t,i,s,{$$slots:a={},$$scope:l}=r,{empty_message:u="has no direct neighbors in this release."}=r,{outbound_color:o="#fff4dd"}=r,{inbound_color:c="#fff4dd"}=r,{root_color:p="#fff4dd"}=r,{link_function:h=w=>`/dao/artifact/${w["@id"]}`}=r,{inbound_link_function:_=h}=r,{root_link_function:g=w=>`/dao/artifact/${w["@id"]}`}=r,{outbound_link_function:C=h}=r,{show_weakness_modal:y}=r,{parent_node:N}=r,{data:B}=r,E;const L=xr();nt(n,L,w=>e(25,s=w));const A=rn();nt(n,A,w=>e(24,i=w));let F;function T(w){t.includes(w)?e(8,t=t.filter(H=>H!==w)):t.push(w),e(8,t),e(8,t)}window.da_to_weak_callback=function(w){T(w)};function P(){let w=0,H=200,I=100;for(const V of t){let ee=B.da_to_weak["@graph"].find(Q=>Q["@id"]==V);ee&&(Ln(L,A,N,"vulnerabilitySelectorNode",ee["rdfs:label"],ee["d3f:cwe-id"],N.data.sequence,N.position.x+w*H,N.position.y+I,182,63,ee["d3f:outbound"][0]["@id"].replace("d3f:",""),"vulnerabilityRightSource","vulnerabilityLeftTarget",!1),w+=1)}L.set(s),A.set(i),E&&E.close(),e(8,t=[])}function x(w){Lr.call(this,n,w)}const R=w=>w["@id"]!=B.description["@id"];function m(w){Dt[w?"unshift":"push"](()=>{E=w,e(6,E)})}const b=()=>e(0,y=!1),O=()=>{E.close(),e(8,t=[])};return n.$$set=w=>{"empty_message"in w&&e(12,u=w.empty_message),"outbound_color"in w&&e(13,o=w.outbound_color),"inbound_color"in w&&e(1,c=w.inbound_color),"root_color"in w&&e(2,p=w.root_color),"link_function"in w&&e(14,h=w.link_function),"inbound_link_function"in w&&e(15,_=w.inbound_link_function),"root_link_function"in w&&e(3,g=w.root_link_function),"outbound_link_function"in w&&e(4,C=w.outbound_link_function),"show_weakness_modal"in w&&e(0,y=w.show_weakness_modal),"parent_node"in w&&e(16,N=w.parent_node),"data"in w&&e(5,B=w.data),"$$scope"in w&&e(23,l=w.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&65&&y&&E&&E.showModal(),n.$$.dirty[0]&32&&B&&e(7,F=new Fh(B.da_to_weak,{index:!0}))},e(8,t=[]),[y,c,p,g,C,B,E,F,t,L,A,P,u,o,h,_,N,a,x,R,m,b,O,l]}class pg extends We{constructor(r){super(),Qe(this,r,hg,dg,Xe,{empty_message:12,outbound_color:13,inbound_color:1,root_color:2,link_function:14,inbound_link_function:15,root_link_function:3,outbound_link_function:4,show_weakness_modal:0,parent_node:16,data:5},null,[-1,-1])}}function _g(n){let r,e="attack the node",t,i,s,a,l,u="defend the node",o,c,p,h,_,g="weaknesses",C,y,N,B,E,L="explode parts (coming soon)",A,F,T="explode control (coming soon)",P,x,R;function m(V){n[8](V)}let b={parent_node:n[0],data:n[1]};n[4]!==void 0&&(b.show_attack_modal=n[4]),i=new Y0({props:b}),Dt.push(()=>or(i,"show_attack_modal",m));function O(V){n[10](V)}let w={parent_node:n[0],data:n[1]};n[3]!==void 0&&(w.show_defend_modal=n[3]),c=new sg({props:w}),Dt.push(()=>or(c,"show_defend_modal",O));function H(V){n[12](V)}let I={parent_node:n[0],empty_message:"has no related weaknesses in this release.",inbound_color:"#f9d999",inbound_link_function:n[6],data:n[1]};return n[2]!==void 0&&(I.show_weakness_modal=n[2]),y=new pg({props:I}),Dt.push(()=>or(y,"show_weakness_modal",H)),{c(){r=re("button"),r.textContent=e,t=ie(),we(i.$$.fragment),a=ie(),l=re("button"),l.textContent=u,o=ie(),we(c.$$.fragment),h=ie(),_=re("button"),_.textContent=g,C=ie(),we(y.$$.fragment),B=ie(),E=re("button"),E.textContent=L,A=ie(),F=re("button"),F.textContent=T,this.h()},l(V){r=ne(V,"BUTTON",{class:!0,"data-svelte-h":!0}),qe(r)!=="svelte-1dkmztx"&&(r.textContent=e),t=ae(V),ye(i.$$.fragment,V),a=ae(V),l=ne(V,"BUTTON",{class:!0,"data-svelte-h":!0}),qe(l)!=="svelte-22hxkb"&&(l.textContent=u),o=ae(V),ye(c.$$.fragment,V),h=ae(V),_=ne(V,"BUTTON",{class:!0,"data-svelte-h":!0}),qe(_)!=="svelte-45xr33"&&(_.textContent=g),C=ae(V),ye(y.$$.fragment,V),B=ae(V),E=ne(V,"BUTTON",{class:!0,"data-svelte-h":!0}),qe(E)!=="svelte-3sgb38"&&(E.textContent=L),A=ae(V),F=ne(V,"BUTTON",{class:!0,"data-svelte-h":!0}),qe(F)!=="svelte-o6st8n"&&(F.textContent=T),this.h()},h(){ue(r,"class","svelte-5he3i1"),ue(l,"class","svelte-5he3i1"),ue(_,"class","svelte-5he3i1"),E.disabled=!0,ue(E,"class","svelte-5he3i1"),F.disabled=!0,ue(F,"class","svelte-5he3i1")},m(V,ee){S(V,r,ee),S(V,t,ee),De(i,V,ee),S(V,a,ee),S(V,l,ee),S(V,o,ee),De(c,V,ee),S(V,h,ee),S(V,_,ee),S(V,C,ee),De(y,V,ee),S(V,B,ee),S(V,E,ee),S(V,A,ee),S(V,F,ee),P=!0,x||(R=[Se(r,"click",n[7]),Se(l,"click",n[9]),Se(_,"click",n[11])],x=!0)},p(V,[ee]){const Q={};ee&1&&(Q.parent_node=V[0]),ee&2&&(Q.data=V[1]),!s&&ee&16&&(s=!0,Q.show_attack_modal=V[4],ur(()=>s=!1)),i.$set(Q);const q={};ee&1&&(q.parent_node=V[0]),ee&2&&(q.data=V[1]),!p&&ee&8&&(p=!0,q.show_defend_modal=V[3],ur(()=>p=!1)),c.$set(q);const M={};ee&1&&(M.parent_node=V[0]),ee&2&&(M.data=V[1]),!N&&ee&4&&(N=!0,M.show_weakness_modal=V[2],ur(()=>N=!1)),y.$set(M)},i(V){P||(oe(i.$$.fragment,V),oe(c.$$.fragment,V),oe(y.$$.fragment,V),P=!0)},o(V){de(i.$$.fragment,V),de(c.$$.fragment,V),de(y.$$.fragment,V),P=!1},d(V){V&&(D(r),D(t),D(a),D(l),D(o),D(h),D(_),D(C),D(B),D(E),D(A),D(F)),Ae(i,V),Ae(c,V),Ae(y,V),x=!1,bt(R)}}}function gg(n,r,e){let t,i,s;var a=this&&this.__awaiter||function(N,B,E,L){function A(F){return F instanceof E?F:new E(function(T){T(F)})}return new(E||(E=Promise))(function(F,T){function P(m){try{R(L.next(m))}catch(b){T(b)}}function x(m){try{R(L.throw(m))}catch(b){T(b)}}function R(m){m.done?F(m.value):A(m.value).then(P,x)}R((L=L.apply(N,B||[])).next())})};let{node:l}=r,u;function o(N){return a(this,void 0,void 0,function*(){if(N.data.techniqueId){const B=N.data.techniqueId;return yield(yield fetch(`/api/dao/artifact/${B}.json`)).json()}else alert("Node technique ID not found, please use the correct d3f: class identifier"),e(4,t=!1),e(3,i=!1),e(2,s=!1)})}function c(N){return Oh(N["d3f:cwe-id"][0])}const p=async()=>{e(1,u=null),e(4,t=!0),e(1,u=await o(l))};function h(N){t=N,e(4,t)}const _=async()=>{e(1,u=null),e(3,i=!0),e(1,u=await o(l))};function g(N){i=N,e(3,i)}const C=async()=>{e(1,u=null),e(2,s=!0),e(1,u=await o(l)),console.log(u)};function y(N){s=N,e(2,s)}return n.$$set=N=>{"node"in N&&e(0,l=N.node)},e(4,t=!1),e(3,i=!1),e(2,s=!1),[l,u,s,i,t,o,c,p,h,_,g,C,y]}class vg extends We{constructor(r){super(),Qe(this,r,gg,_g,Xe,{node:0})}}function Qu(n,r,e){const t=n.slice();return t[18]=r[e],t[20]=e,t}const mg=n=>({}),Yu=n=>({});function bg(n){let r;return{c(){r=U("No related defensive techniques in this release.")},l(e){r=$(e,"No related defensive techniques in this release.")},m(e,t){S(e,r,t)},p:Be,i:Be,o:Be,d(e){e&&D(r)}}}function wg(n){let r,e;return r=new Sn({props:{$$slots:{default:[Eg]},$$scope:{ctx:n}}}),{c(){we(r.$$.fragment)},l(t){ye(r.$$.fragment,t)},m(t,i){De(r,t,i),e=!0},p(t,i){const s={};i&8214&&(s.$$scope={dirty:i,ctx:t}),r.$set(s)},i(t){e||(oe(r.$$.fragment,t),e=!0)},o(t){de(r.$$.fragment,t),e=!1},d(t){Ae(r,t)}}}function yg(n){let r,e="Loading...";return{c(){r=re("div"),r.textContent=e},l(t){r=ne(t,"DIV",{"data-svelte-h":!0}),qe(r)!=="svelte-194gxkm"&&(r.textContent=e)},m(t,i){S(t,r,i)},p:Be,i:Be,o:Be,d(t){t&&D(r)}}}function Dg(n){let r,e=Ee(n[18].def_artifact.value)+"",t,i;return{c(){r=U("class "),t=U(e),i=U(" ArtifactNode;")},l(s){r=$(s,"class "),t=$(s,e),i=$(s," ArtifactNode;")},m(s,a){S(s,r,a),S(s,t,a),S(s,i,a)},p(s,a){a&4&&e!==(e=Ee(s[18].def_artifact.value)+"")&&pe(t,e)},d(s){s&&(D(r),D(t),D(i))}}}function Ag(n){let r,e=Ee(n[18].def_artifact.value)+"",t,i;return{c(){r=U("class "),t=U(e),i=U(" SelectedArtifactNode;")},l(s){r=$(s,"class "),t=$(s,e),i=$(s," SelectedArtifactNode;")},m(s,a){S(s,r,a),S(s,t,a),S(s,i,a)},p(s,a){a&4&&e!==(e=Ee(s[18].def_artifact.value)+"")&&pe(t,e)},d(s){s&&(D(r),D(t),D(i))}}}function Ju(n){let r=n[1].data.techniqueId+"",e,t,i=n[2].description["@graph"][0]["rdfs:label"]+"",s,a,l="-->",u,o,c=n[18].def_artifact_rel_label.value+"",p,h,_=Ee(n[18].def_artifact.value)+"",g,C,y=n[18].def_artifact_label.value+"",N,B,E=n[1].data.techniqueId+"",L,A,F,T,P=Ee(n[18].def_artifact.value)+"",x,R,m=`
`,b;function O(I,V){return V&20&&(F=null),F==null&&(F=!!I[4].includes(Ee(I[18].def_artifact.value))),F?Ag:Dg}let w=O(n,-1),H=w(n);return{c(){e=U(r),t=U('["'),s=U(i),a=U('"] '),u=U(l),o=U(' |"'),p=U(c),h=U('" | '),g=U(_),C=U('["'),N=U(y),B=U(`"]; 
            class `),L=U(E),A=U(` DefensiveTechniqueNode;
            `),H.c(),T=U(`
            click `),x=U(P),R=U(" def_to_art_callback;"),b=U(m)},l(I){e=$(I,r),t=$(I,'["'),s=$(I,i),a=$(I,'"] '),u=$(I,l),o=$(I,' |"'),p=$(I,c),h=$(I,'" | '),g=$(I,_),C=$(I,'["'),N=$(I,y),B=$(I,`"]; 
            class `),L=$(I,E),A=$(I,` DefensiveTechniqueNode;
            `),H.l(I),T=$(I,`
            click `),x=$(I,P),R=$(I," def_to_art_callback;"),b=$(I,m)},m(I,V){S(I,e,V),S(I,t,V),S(I,s,V),S(I,a,V),S(I,u,V),S(I,o,V),S(I,p,V),S(I,h,V),S(I,g,V),S(I,C,V),S(I,N,V),S(I,B,V),S(I,L,V),S(I,A,V),H.m(I,V),S(I,T,V),S(I,x,V),S(I,R,V),S(I,b,V)},p(I,V){V&2&&r!==(r=I[1].data.techniqueId+"")&&pe(e,r),V&4&&i!==(i=I[2].description["@graph"][0]["rdfs:label"]+"")&&pe(s,i),V&4&&c!==(c=I[18].def_artifact_rel_label.value+"")&&pe(p,c),V&4&&_!==(_=Ee(I[18].def_artifact.value)+"")&&pe(g,_),V&4&&y!==(y=I[18].def_artifact_label.value+"")&&pe(N,y),V&2&&E!==(E=I[1].data.techniqueId+"")&&pe(L,E),w===(w=O(I,V))&&H?H.p(I,V):(H.d(1),H=w(I),H&&(H.c(),H.m(T.parentNode,T))),V&4&&P!==(P=Ee(I[18].def_artifact.value)+"")&&pe(x,P)},d(I){I&&(D(e),D(t),D(s),D(a),D(u),D(o),D(p),D(h),D(g),D(C),D(N),D(B),D(L),D(A),D(T),D(x),D(R),D(b)),H.d(I)}}}function Eg(n){let r,e,t=ze(n[2].digital_artifacts.results.bindings),i=[];for(let s=0;s<t.length;s+=1)i[s]=Ju(Qu(n,t,s));return{c(){r=U(`graph LR
          `);for(let s=0;s<i.length;s+=1)i[s].c();e=Le()},l(s){r=$(s,`graph LR
          `);for(let a=0;a<i.length;a+=1)i[a].l(s);e=Le()},m(s,a){S(s,r,a);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(s,a);S(s,e,a)},p(s,a){if(a&22){t=ze(s[2].digital_artifacts.results.bindings);let l;for(l=0;l<t.length;l+=1){const u=Qu(s,t,l);i[l]?i[l].p(u,a):(i[l]=Ju(u),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=t.length}},d(s){s&&(D(r),D(e)),Lt(i,s)}}}function Tg(n){let r,e,t,i,s,a,l,u,o,c,p,h,_,g=n[4].length+"",C,y,N,B,E;const L=n[8].header,A=Ct(L,n,n[13],Yu),F=n[8].default,T=Ct(F,n,n[13],null),P=[yg,wg,bg],x=[];function R(m,b){return m[2]?m[2].digital_artifacts.results.bindings.length>0?1:2:0}return l=R(n),u=x[l]=P[l](n),{c(){r=re("dialog"),e=re("div"),A&&A.c(),t=U(`
      Select Related Artifacts To Insert
      `),T&&T.c(),i=ie(),s=re("hr"),a=ie(),u.c(),o=ie(),c=re("hr"),p=ie(),h=re("button"),_=U("Insert ("),C=U(g),y=U(")"),this.h()},l(m){r=ne(m,"DIALOG",{class:!0});var b=Ce(r);e=ne(b,"DIV",{class:!0});var O=Ce(e);A&&A.l(O),t=$(O,`
      Select Related Artifacts To Insert
      `),T&&T.l(O),i=ae(O),s=ne(O,"HR",{}),a=ae(O),u.l(O),o=ae(O),c=ne(O,"HR",{}),p=ae(O),h=ne(O,"BUTTON",{class:!0});var w=Ce(h);_=$(w,"Insert ("),C=$(w,g),y=$(w,")"),w.forEach(D),O.forEach(D),b.forEach(D),this.h()},h(){h.autofocus=!0,ue(h,"class","svelte-32qhhg"),ue(e,"class","svelte-32qhhg"),ue(r,"class","svelte-32qhhg")},m(m,b){S(m,r,b),G(r,e),A&&A.m(e,null),G(e,t),T&&T.m(e,null),G(e,i),G(e,s),G(e,a),x[l].m(e,null),G(e,o),G(e,c),G(e,p),G(e,h),G(h,_),G(h,C),G(h,y),n[10](r),N=!0,h.focus(),B||(E=[Se(h,"click",n[7]),Se(e,"click",Ot(n[9])),Se(r,"close",n[11]),Se(r,"click",Nn(n[12]))],B=!0)},p(m,[b]){A&&A.p&&(!N||b&8192)&&kt(A,L,m,m[13],N?St(L,m[13],b,mg):Nt(m[13]),Yu),T&&T.p&&(!N||b&8192)&&kt(T,F,m,m[13],N?St(F,m[13],b,null):Nt(m[13]),null);let O=l;l=R(m),l===O?x[l].p(m,b):(Et(),de(x[O],1,1,()=>{x[O]=null}),Tt(),u=x[l],u?u.p(m,b):(u=x[l]=P[l](m),u.c()),oe(u,1),u.m(e,o)),(!N||b&16)&&g!==(g=m[4].length+"")&&pe(C,g)},i(m){N||(oe(A,m),oe(T,m),oe(u),N=!0)},o(m){de(A,m),de(T,m),de(u),N=!1},d(m){m&&D(r),A&&A.d(m),T&&T.d(m),x[l].d(),n[10](null),B=!1,bt(E)}}}function Cg(n,r,e){let t,i,s,{$$slots:a={},$$scope:l}=r,{show_artifacts_modal:u}=r,{parent_node:o}=r,{data:c}=r,p;const h=xr();nt(n,h,L=>e(16,s=L));const _=rn();nt(n,_,L=>e(15,i=L));function g(L){t.includes(L)?e(4,t=t.filter(A=>A!==L)):t.push(L),e(4,t)}window.def_to_art_callback=function(L){g(L)};function C(){let L=0,A=200,F=100;for(const T of t){let P=c.digital_artifacts.results.bindings.find(x=>Ee(x.def_artifact.value)==T);P&&(Ln(h,_,o,"artifactSelectorNode",P.def_artifact_label.value,"d3f:"+Ee(P.def_artifact.value),o.data.sequence,o.position.x+L*A,o.position.y+F,182,82,P.def_artifact_rel_label.value,"defenseBottomSource","defenseRightTarget",!0),L+=1)}h.set(s),_.set(i),p&&p.close(),e(4,t=[])}function y(L){Lr.call(this,n,L)}function N(L){Dt[L?"unshift":"push"](()=>{p=L,e(3,p)})}const B=()=>e(0,u=!1),E=()=>{p.close(),e(4,t=[])};return n.$$set=L=>{"show_artifacts_modal"in L&&e(0,u=L.show_artifacts_modal),"parent_node"in L&&e(1,o=L.parent_node),"data"in L&&e(2,c=L.data),"$$scope"in L&&e(13,l=L.$$scope)},n.$$.update=()=>{n.$$.dirty&9&&u&&p&&p.showModal()},e(4,t=[]),[u,o,c,p,t,h,_,C,a,y,N,B,E,l]}class kg extends We{constructor(r){super(),Qe(this,r,Cg,Tg,Xe,{show_artifacts_modal:0,parent_node:1,data:2})}}function Ng(n){let r,e="artifacts",t,i,s,a,l,u="offensive techniques (coming soon)",o,c,p="weaknesses (coming soon)",h,_,g;function C(N){n[5](N)}let y={parent_node:n[0],data:n[1]};return n[2]!==void 0&&(y.show_artifacts_modal=n[2]),i=new kg({props:y}),Dt.push(()=>or(i,"show_artifacts_modal",C)),{c(){r=re("button"),r.textContent=e,t=ie(),we(i.$$.fragment),a=ie(),l=re("button"),l.textContent=u,o=ie(),c=re("button"),c.textContent=p,this.h()},l(N){r=ne(N,"BUTTON",{class:!0,"data-svelte-h":!0}),qe(r)!=="svelte-10eclsv"&&(r.textContent=e),t=ae(N),ye(i.$$.fragment,N),a=ae(N),l=ne(N,"BUTTON",{class:!0,"data-svelte-h":!0}),qe(l)!=="svelte-16cr3xj"&&(l.textContent=u),o=ae(N),c=ne(N,"BUTTON",{class:!0,"data-svelte-h":!0}),qe(c)!=="svelte-ivhbdc"&&(c.textContent=p),this.h()},h(){ue(r,"class","svelte-1x5dcdh"),l.disabled=!0,ue(l,"class","svelte-1x5dcdh"),c.disabled=!0,ue(c,"class","svelte-1x5dcdh")},m(N,B){S(N,r,B),S(N,t,B),De(i,N,B),S(N,a,B),S(N,l,B),S(N,o,B),S(N,c,B),h=!0,_||(g=Se(r,"click",n[4]),_=!0)},p(N,[B]){const E={};B&1&&(E.parent_node=N[0]),B&2&&(E.data=N[1]),!s&&B&4&&(s=!0,E.show_artifacts_modal=N[2],ur(()=>s=!1)),i.$set(E)},i(N){h||(oe(i.$$.fragment,N),h=!0)},o(N){de(i.$$.fragment,N),h=!1},d(N){N&&(D(r),D(t),D(a),D(l),D(o),D(c)),Ae(i,N),_=!1,g()}}}function Sg(n,r,e){let t;var i=this&&this.__awaiter||function(c,p,h,_){function g(C){return C instanceof h?C:new h(function(y){y(C)})}return new(h||(h=Promise))(function(C,y){function N(L){try{E(_.next(L))}catch(A){y(A)}}function B(L){try{E(_.throw(L))}catch(A){y(A)}}function E(L){L.done?C(L.value):g(L.value).then(N,B)}E((_=_.apply(c,p||[])).next())})};let{node:s}=r,a;function l(c){return i(this,void 0,void 0,function*(){if(c.data.techniqueId){const p=c.data.techniqueId;return yield(yield fetch(`/api/technique/${p}.json`)).json()}else alert("Node technique ID not found, please use the correct d3f: class identifier"),e(2,t=!1)})}const u=async()=>{e(1,a=null),e(2,t=!0),e(1,a=await l(s)),console.log(a)};function o(c){t=c,e(2,t)}return n.$$set=c=>{"node"in c&&e(0,s=c.node)},e(2,t=!1),[s,a,t,l,u,o]}class Rg extends We{constructor(r){super(),Qe(this,r,Sg,Ng,Xe,{node:0})}}function Zu(n,r,e){const t=n.slice();return t[18]=r[e],t}const Ig=n=>({}),Ku=n=>({});function Fg(n){let r;return{c(){r=U("No related artifacts in this release.")},l(e){r=$(e,"No related artifacts in this release.")},m(e,t){S(e,r,t)},p:Be,i:Be,o:Be,d(e){e&&D(r)}}}function Og(n){let r,e;return r=new Sn({props:{$$slots:{default:[qg]},$$scope:{ctx:n}}}),{c(){we(r.$$.fragment)},l(t){ye(r.$$.fragment,t)},m(t,i){De(r,t,i),e=!0},p(t,i){const s={};i&16394&&(s.$$scope={dirty:i,ctx:t}),r.$set(s)},i(t){e||(oe(r.$$.fragment,t),e=!0)},o(t){de(r.$$.fragment,t),e=!1},d(t){Ae(r,t)}}}function Lg(n){let r,e="Loading...";return{c(){r=re("div"),r.textContent=e},l(t){r=ne(t,"DIV",{"data-svelte-h":!0}),qe(r)!=="svelte-194gxkm"&&(r.textContent=e)},m(t,i){S(t,r,i)},p:Be,i:Be,o:Be,d(t){t&&D(r)}}}function eo(n){let r=n[18].off_tech_id.value.replace(/ |\./g,"")+"",e,t,i=n[18].off_tech_label.value+"",s,a,l="-->",u,o,c=n[18].off_artifact_rel_label.value.replace(/ /g,"")+"",p,h,_=Ee(n[18].off_artifact.value)+"",g,C,y=n[18].off_artifact_label.value+"",N,B,E=n[18].off_tech_id.value.replace(/ |\./g,"")+"",L,A,F,T,P=Ee(n[18].off_artifact.value)+"",x,R,m=Ee(n[18].off_artifact.value)+"",b,O,w=n[18].off_tech_id.value.replace(/ |\./g,"")+"",H,I,V=Xi(n[18].off_tech_id.value)+"",ee,Q,q=Ee(n[18].off_artifact.value)+"",M,le,K=Ee(n[18].off_artifact.value)+"",he,fe;function me(J,ve){return ve&10&&(F=null),F==null&&(F=!!J[3].includes(Ee(J[18].off_artifact.value))),F?xg:Bg}let te=me(n,-1),ce=te(n);return{c(){e=U(r),t=U('["'),s=U(i),a=U('"] '),u=U(l),o=U(" |"),p=U(c),h=U("| "),g=U(_),C=U('["'),N=U(y),B=U('"]; class '),L=U(E),A=U(` OffensiveTechniqueNode;
            `),ce.c(),T=U(" ; click "),x=U(P),R=U(' href "/dao/artifact/d3f:'),b=U(m),O=U('"; click '),H=U(w),I=U(' href "'),ee=U(V),Q=U('"; click '),M=U(q),le=U(` href "javascript:off_to_art_callback('`),he=U(K),fe=U(`')";`)},l(J){e=$(J,r),t=$(J,'["'),s=$(J,i),a=$(J,'"] '),u=$(J,l),o=$(J," |"),p=$(J,c),h=$(J,"| "),g=$(J,_),C=$(J,'["'),N=$(J,y),B=$(J,'"]; class '),L=$(J,E),A=$(J,` OffensiveTechniqueNode;
            `),ce.l(J),T=$(J," ; click "),x=$(J,P),R=$(J,' href "/dao/artifact/d3f:'),b=$(J,m),O=$(J,'"; click '),H=$(J,w),I=$(J,' href "'),ee=$(J,V),Q=$(J,'"; click '),M=$(J,q),le=$(J,` href "javascript:off_to_art_callback('`),he=$(J,K),fe=$(J,`')";`)},m(J,ve){S(J,e,ve),S(J,t,ve),S(J,s,ve),S(J,a,ve),S(J,u,ve),S(J,o,ve),S(J,p,ve),S(J,h,ve),S(J,g,ve),S(J,C,ve),S(J,N,ve),S(J,B,ve),S(J,L,ve),S(J,A,ve),ce.m(J,ve),S(J,T,ve),S(J,x,ve),S(J,R,ve),S(J,b,ve),S(J,O,ve),S(J,H,ve),S(J,I,ve),S(J,ee,ve),S(J,Q,ve),S(J,M,ve),S(J,le,ve),S(J,he,ve),S(J,fe,ve)},p(J,ve){ve&2&&r!==(r=J[18].off_tech_id.value.replace(/ |\./g,"")+"")&&pe(e,r),ve&2&&i!==(i=J[18].off_tech_label.value+"")&&pe(s,i),ve&2&&c!==(c=J[18].off_artifact_rel_label.value.replace(/ /g,"")+"")&&pe(p,c),ve&2&&_!==(_=Ee(J[18].off_artifact.value)+"")&&pe(g,_),ve&2&&y!==(y=J[18].off_artifact_label.value+"")&&pe(N,y),ve&2&&E!==(E=J[18].off_tech_id.value.replace(/ |\./g,"")+"")&&pe(L,E),te===(te=me(J,ve))&&ce?ce.p(J,ve):(ce.d(1),ce=te(J),ce&&(ce.c(),ce.m(T.parentNode,T))),ve&2&&P!==(P=Ee(J[18].off_artifact.value)+"")&&pe(x,P),ve&2&&m!==(m=Ee(J[18].off_artifact.value)+"")&&pe(b,m),ve&2&&w!==(w=J[18].off_tech_id.value.replace(/ |\./g,"")+"")&&pe(H,w),ve&2&&V!==(V=Xi(J[18].off_tech_id.value)+"")&&pe(ee,V),ve&2&&q!==(q=Ee(J[18].off_artifact.value)+"")&&pe(M,q),ve&2&&K!==(K=Ee(J[18].off_artifact.value)+"")&&pe(he,K)},d(J){J&&(D(e),D(t),D(s),D(a),D(u),D(o),D(p),D(h),D(g),D(C),D(N),D(B),D(L),D(A),D(T),D(x),D(R),D(b),D(O),D(H),D(I),D(ee),D(Q),D(M),D(le),D(he),D(fe)),ce.d(J)}}}function Bg(n){let r,e=Ee(n[18].off_artifact.value)+"",t,i;return{c(){r=U("class "),t=U(e),i=U(" ArtifactNode;")},l(s){r=$(s,"class "),t=$(s,e),i=$(s," ArtifactNode;")},m(s,a){S(s,r,a),S(s,t,a),S(s,i,a)},p(s,a){a&2&&e!==(e=Ee(s[18].off_artifact.value)+"")&&pe(t,e)},d(s){s&&(D(r),D(t),D(i))}}}function xg(n){let r,e=Ee(n[18].off_artifact.value)+"",t,i;return{c(){r=U("class "),t=U(e),i=U(" SelectedArtifactNode;")},l(s){r=$(s,"class "),t=$(s,e),i=$(s," SelectedArtifactNode;")},m(s,a){S(s,r,a),S(s,t,a),S(s,i,a)},p(s,a){a&2&&e!==(e=Ee(s[18].off_artifact.value)+"")&&pe(t,e)},d(s){s&&(D(r),D(t),D(i))}}}function to(n){let r=n[6].edge_is_unique(n[18].off_tech_label.value,n[18].off_artifact_rel_label.value,n[18].off_artifact_label.value),e,t=r&&eo(n);return{c(){t&&t.c(),e=Le()},l(i){t&&t.l(i),e=Le()},m(i,s){t&&t.m(i,s),S(i,e,s)},p(i,s){s&2&&(r=i[6].edge_is_unique(i[18].off_tech_label.value,i[18].off_artifact_rel_label.value,i[18].off_artifact_label.value)),r?t?t.p(i,s):(t=eo(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&D(e),t&&t.d(i)}}}function qg(n){let r,e,t=ze(n[1].off_to_def.results.bindings),i=[];for(let s=0;s<t.length;s+=1)i[s]=to(Zu(n,t,s));return{c(){r=U(`graph LR;
        `);for(let s=0;s<i.length;s+=1)i[s].c();e=Le()},l(s){r=$(s,`graph LR;
        `);for(let a=0;a<i.length;a+=1)i[a].l(s);e=Le()},m(s,a){S(s,r,a);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(s,a);S(s,e,a)},p(s,a){if(a&74){t=ze(s[1].off_to_def.results.bindings);let l;for(l=0;l<t.length;l+=1){const u=Zu(s,t,l);i[l]?i[l].p(u,a):(i[l]=to(u),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=t.length}},d(s){s&&(D(r),D(e)),Lt(i,s)}}}function Mg(n){let r,e,t,i,s,a,l,u,o,c,p,h,_,g=n[3].length+"",C,y,N,B,E;const L=n[9].header,A=Ct(L,n,n[14],Ku),F=n[9].default,T=Ct(F,n,n[14],null),P=[Lg,Og,Fg],x=[];function R(m,b){return m[1]?m[1].off_to_def.results.bindings.length>0?1:2:0}return l=R(n),u=x[l]=P[l](n),{c(){r=re("dialog"),e=re("div"),A&&A.c(),t=U(`
    Select Related Artifacts To Insert
    `),T&&T.c(),i=ie(),s=re("hr"),a=ie(),u.c(),o=ie(),c=re("hr"),p=ie(),h=re("button"),_=U("Insert ("),C=U(g),y=U(")"),this.h()},l(m){r=ne(m,"DIALOG",{class:!0});var b=Ce(r);e=ne(b,"DIV",{class:!0});var O=Ce(e);A&&A.l(O),t=$(O,`
    Select Related Artifacts To Insert
    `),T&&T.l(O),i=ae(O),s=ne(O,"HR",{}),a=ae(O),u.l(O),o=ae(O),c=ne(O,"HR",{}),p=ae(O),h=ne(O,"BUTTON",{class:!0});var w=Ce(h);_=$(w,"Insert ("),C=$(w,g),y=$(w,")"),w.forEach(D),O.forEach(D),b.forEach(D),this.h()},h(){h.autofocus=!0,ue(h,"class","svelte-x0618k"),ue(e,"class","svelte-x0618k"),ue(r,"class","svelte-x0618k")},m(m,b){S(m,r,b),G(r,e),A&&A.m(e,null),G(e,t),T&&T.m(e,null),G(e,i),G(e,s),G(e,a),x[l].m(e,null),G(e,o),G(e,c),G(e,p),G(e,h),G(h,_),G(h,C),G(h,y),n[11](r),N=!0,h.focus(),B||(E=[Se(h,"click",n[7]),Se(e,"click",Ot(n[10])),Se(r,"close",n[12]),Se(r,"click",Nn(n[13]))],B=!0)},p(m,[b]){A&&A.p&&(!N||b&16384)&&kt(A,L,m,m[14],N?St(L,m[14],b,Ig):Nt(m[14]),Ku),T&&T.p&&(!N||b&16384)&&kt(T,F,m,m[14],N?St(F,m[14],b,null):Nt(m[14]),null);let O=l;l=R(m),l===O?x[l].p(m,b):(Et(),de(x[O],1,1,()=>{x[O]=null}),Tt(),u=x[l],u?u.p(m,b):(u=x[l]=P[l](m),u.c()),oe(u,1),u.m(e,o)),(!N||b&8)&&g!==(g=m[3].length+"")&&pe(C,g)},i(m){N||(oe(A,m),oe(T,m),oe(u),N=!0)},o(m){de(A,m),de(T,m),de(u),N=!1},d(m){m&&D(r),A&&A.d(m),T&&T.d(m),x[l].d(),n[11](null),B=!1,bt(E)}}}function jg(n,r,e){let t,i,s,{$$slots:a={},$$scope:l}=r,{show_artifacts_modal:u}=r,{parent_node:o}=r,{data:c}=r,p;const h=xr();nt(n,h,A=>e(16,s=A));const _=rn();nt(n,_,A=>e(15,i=A));let g=new Jn;function C(A){t.includes(A)?e(3,t=t.filter(F=>F!==A)):t.push(A),e(3,t)}window.off_to_art_callback=function(A){C(A)};function y(){let A=0,F=200,T=100;for(const P of t){let x=c.off_to_def.results.bindings.find(R=>Ee(R.off_artifact.value)==P);x&&(Ln(h,_,o,"artifactSelectorNode",x.off_artifact_label.value,"d3f:"+Ee(x.off_artifact.value),o.data.sequence,o.position.x+A*F,o.position.y+T,182,63,x.off_artifact_rel_label.value,"attackBottomSource","attackLeftTarget",!0),A+=1)}h.set(s),_.set(i),p&&p.close(),e(3,t=[])}function N(A){Lr.call(this,n,A)}function B(A){Dt[A?"unshift":"push"](()=>{p=A,e(2,p)})}const E=()=>e(0,u=!1),L=()=>{p.close(),e(3,t=[])};return n.$$set=A=>{"show_artifacts_modal"in A&&e(0,u=A.show_artifacts_modal),"parent_node"in A&&e(8,o=A.parent_node),"data"in A&&e(1,c=A.data),"$$scope"in A&&e(14,l=A.$$scope)},n.$$.update=()=>{n.$$.dirty&5&&u&&p&&(p.showModal(),g.reset())},e(3,t=[]),[u,c,p,t,h,_,g,y,o,a,N,B,E,L,l]}class Pg extends We{constructor(r){super(),Qe(this,r,jg,Mg,Xe,{show_artifacts_modal:0,parent_node:8,data:1})}}function ro(n,r,e){const t=n.slice();return t[23]=r[e],t}const Ug=n=>({}),no=n=>({});function $g(n){let r;return{c(){r=U("No related artifacts in this release.")},l(e){r=$(e,"No related artifacts in this release.")},m(e,t){S(e,r,t)},p:Be,i:Be,o:Be,d(e){e&&D(r)}}}function Vg(n){let r,e,t,i,s,a,l,u,o,c;function p(_){n[14](_)}let h={toggles:n[4]};return n[3]!==void 0&&(h.selected=n[3]),e=new Oo({props:h}),Dt.push(()=>or(e,"selected",p)),o=new Sn({props:{$$slots:{default:[Gg]},$$scope:{ctx:n}}}),{c(){r=re("div"),we(e.$$.fragment),i=ie(),s=re("br"),a=ie(),l=re("br"),u=ie(),we(o.$$.fragment),this.h()},l(_){r=ne(_,"DIV",{class:!0});var g=Ce(r);ye(e.$$.fragment,g),g.forEach(D),i=ae(_),s=ne(_,"BR",{}),a=ae(_),l=ne(_,"BR",{}),u=ae(_),ye(o.$$.fragment,_),this.h()},h(){ue(r,"class","center shrink")},m(_,g){S(_,r,g),De(e,r,null),S(_,i,g),S(_,s,g),S(_,a,g),S(_,l,g),S(_,u,g),De(o,_,g),c=!0},p(_,g){const C={};g&16&&(C.toggles=_[4]),!t&&g&8&&(t=!0,C.selected=_[3],ur(()=>t=!1)),e.$set(C);const y={};g&262186&&(y.$$scope={dirty:g,ctx:_}),o.$set(y)},i(_){c||(oe(e.$$.fragment,_),oe(o.$$.fragment,_),c=!0)},o(_){de(e.$$.fragment,_),de(o.$$.fragment,_),c=!1},d(_){_&&(D(r),D(i),D(s),D(a),D(l),D(u)),Ae(e),Ae(o,_)}}}function Hg(n){let r,e="Loading...";return{c(){r=re("div"),r.textContent=e},l(t){r=ne(t,"DIV",{"data-svelte-h":!0}),qe(r)!=="svelte-194gxkm"&&(r.textContent=e)},m(t,i){S(t,r,i)},p:Be,i:Be,o:Be,d(t){t&&D(r)}}}function io(n){let r=n[8].edge_is_unique(n[23].def_tech_label.value,n[23].def_artifact_rel_label.value,n[23].off_artifact_label.value),e,t=r&&ao(n);return{c(){t&&t.c(),e=Le()},l(i){t&&t.l(i),e=Le()},m(i,s){t&&t.m(i,s),S(i,e,s)},p(i,s){s&2&&(r=i[8].edge_is_unique(i[23].def_tech_label.value,i[23].def_artifact_rel_label.value,i[23].off_artifact_label.value)),r?t?t.p(i,s):(t=ao(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&D(e),t&&t.d(i)}}}function ao(n){let r=!n[3].includes(n[23].def_tactic_label.value),e,t=r&&so(n);return{c(){t&&t.c(),e=Le()},l(i){t&&t.l(i),e=Le()},m(i,s){t&&t.m(i,s),S(i,e,s)},p(i,s){s&10&&(r=!i[3].includes(i[23].def_tactic_label.value)),r?t?t.p(i,s):(t=so(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&D(e),t&&t.d(i)}}}function so(n){let r=Ee(n[23].def_tech.value)+"",e,t,i=n[23].def_tech_label.value+"",s,a,l="-->",u,o,c=n[23].def_artifact_rel_label.value.replace(/ /g,"")+"",p,h,_=Ee(n[23].off_artifact.value)+"",g,C,y=n[23].off_artifact_label.value+"",N,B,E=n[8].edge_is_unique(n[23].def_tech.value,n[23].def_tactic_label.value,n[23].off_tech_id.value),L,A,F,T=n[23].off_artifact_label.value.replace(/ /g,"")+"",P,x,R=Ee(n[23].def_tech.value)+"",m,b,O=n[23].def_tech_label.value.replace(/ |\./g,"")+"",w,H,I=E&&lo(n);function V(q,M){return M&34&&(A=null),A==null&&(A=!!q[5].includes(Ee(q[23].def_tech.value))),A?Xg:zg}let ee=V(n,-1),Q=ee(n);return{c(){e=U(r),t=U('["'),s=U(i),a=U('"] '),u=U(l),o=U(`
                | `),p=U(c),h=U(" | "),g=U(_),C=U('["'),N=U(y),B=U(`"];

                `),I&&I.c(),L=ie(),Q.c(),F=U(` 
                class `),P=U(T),x=U(` ArtifactNode;
                click `),m=U(R),b=U(` href "javascript:off_to_def_callback('`),w=U(O),H=U(`')";`)},l(q){e=$(q,r),t=$(q,'["'),s=$(q,i),a=$(q,'"] '),u=$(q,l),o=$(q,`
                | `),p=$(q,c),h=$(q," | "),g=$(q,_),C=$(q,'["'),N=$(q,y),B=$(q,`"];

                `),I&&I.l(q),L=ae(q),Q.l(q),F=$(q,` 
                class `),P=$(q,T),x=$(q,` ArtifactNode;
                click `),m=$(q,R),b=$(q,` href "javascript:off_to_def_callback('`),w=$(q,O),H=$(q,`')";`)},m(q,M){S(q,e,M),S(q,t,M),S(q,s,M),S(q,a,M),S(q,u,M),S(q,o,M),S(q,p,M),S(q,h,M),S(q,g,M),S(q,C,M),S(q,N,M),S(q,B,M),I&&I.m(q,M),S(q,L,M),Q.m(q,M),S(q,F,M),S(q,P,M),S(q,x,M),S(q,m,M),S(q,b,M),S(q,w,M),S(q,H,M)},p(q,M){M&2&&r!==(r=Ee(q[23].def_tech.value)+"")&&pe(e,r),M&2&&i!==(i=q[23].def_tech_label.value+"")&&pe(s,i),M&2&&c!==(c=q[23].def_artifact_rel_label.value.replace(/ /g,"")+"")&&pe(p,c),M&2&&_!==(_=Ee(q[23].off_artifact.value)+"")&&pe(g,_),M&2&&y!==(y=q[23].off_artifact_label.value+"")&&pe(N,y),M&2&&(E=q[8].edge_is_unique(q[23].def_tech.value,q[23].def_tactic_label.value,q[23].off_tech_id.value)),E?I?I.p(q,M):(I=lo(q),I.c(),I.m(L.parentNode,L)):I&&(I.d(1),I=null),ee===(ee=V(q,M))&&Q?Q.p(q,M):(Q.d(1),Q=ee(q),Q&&(Q.c(),Q.m(F.parentNode,F))),M&2&&T!==(T=q[23].off_artifact_label.value.replace(/ /g,"")+"")&&pe(P,T),M&2&&R!==(R=Ee(q[23].def_tech.value)+"")&&pe(m,R),M&2&&O!==(O=q[23].def_tech_label.value.replace(/ |\./g,"")+"")&&pe(w,O)},d(q){q&&(D(e),D(t),D(s),D(a),D(u),D(o),D(p),D(h),D(g),D(C),D(N),D(B),D(L),D(F),D(P),D(x),D(m),D(b),D(w),D(H)),I&&I.d(q),Q.d(q)}}}function lo(n){let r=Ee(n[23].def_tech.value)+"",e,t,i=n[23].def_tech_label.value+"",s,a,l="-.->",u,o,c="May "+n[23].def_tactic_label.value,p,h,_=n[23].off_tech_id.value.replace(/ |\./g,"")+"",g,C,y=n[23].off_tech_label.value+"",N,B;return{c(){e=U(r),t=U('["'),s=U(i),a=U('"] '),u=U(l),o=U(`
                  | `),p=U(c),h=U(" | "),g=U(_),C=U('["'),N=U(y),B=U('"] ;')},l(E){e=$(E,r),t=$(E,'["'),s=$(E,i),a=$(E,'"] '),u=$(E,l),o=$(E,`
                  | `),p=$(E,c),h=$(E," | "),g=$(E,_),C=$(E,'["'),N=$(E,y),B=$(E,'"] ;')},m(E,L){S(E,e,L),S(E,t,L),S(E,s,L),S(E,a,L),S(E,u,L),S(E,o,L),S(E,p,L),S(E,h,L),S(E,g,L),S(E,C,L),S(E,N,L),S(E,B,L)},p(E,L){L&2&&r!==(r=Ee(E[23].def_tech.value)+"")&&pe(e,r),L&2&&i!==(i=E[23].def_tech_label.value+"")&&pe(s,i),L&2&&c!==(c="May "+E[23].def_tactic_label.value)&&pe(p,c),L&2&&_!==(_=E[23].off_tech_id.value.replace(/ |\./g,"")+"")&&pe(g,_),L&2&&y!==(y=E[23].off_tech_label.value+"")&&pe(N,y)},d(E){E&&(D(e),D(t),D(s),D(a),D(u),D(o),D(p),D(h),D(g),D(C),D(N),D(B))}}}function zg(n){let r,e=Ee(n[23].def_tech.value)+"",t,i;return{c(){r=U("class "),t=U(e),i=U(" DefensiveTechniqueNode;")},l(s){r=$(s,"class "),t=$(s,e),i=$(s," DefensiveTechniqueNode;")},m(s,a){S(s,r,a),S(s,t,a),S(s,i,a)},p(s,a){a&2&&e!==(e=Ee(s[23].def_tech.value)+"")&&pe(t,e)},d(s){s&&(D(r),D(t),D(i))}}}function Xg(n){let r,e=Ee(n[23].def_tech.value)+"",t,i;return{c(){r=U("class "),t=U(e),i=U(" SelectedDefensiveTechniqueNode;")},l(s){r=$(s,"class "),t=$(s,e),i=$(s," SelectedDefensiveTechniqueNode;")},m(s,a){S(s,r,a),S(s,t,a),S(s,i,a)},p(s,a){a&2&&e!==(e=Ee(s[23].def_tech.value)+"")&&pe(t,e)},d(s){s&&(D(r),D(t),D(i))}}}function uo(n){let r=n[23].off_tech_id.value.replace(/ |\./g,"")+"",e,t,i=n[23].off_tech_label.value+"",s,a,l="-->",u,o,c=n[23].off_artifact_rel_label.value.replace(/ /g,"")+"",p,h,_=Ee(n[23].off_artifact.value)+"",g,C,y=n[23].off_artifact_label.value+"",N,B,E=n[23].off_tech_id.value.replace(/ |\./g,"")+"",L,A,F=Ee(n[23].off_artifact.value)+"",T,P,x=Ee(n[23].off_artifact.value)+"",R,m,b=Ee(n[23].off_artifact.value)+"",O,w,H=n[23].off_tech_id.value.replace(/ |\./g,"")+"",I,V,ee=Xi(n[23].off_tech_id.value)+"",Q,q,M=Ee(n[23].off_artifact.value)+"",le,K,he=Ee(n[23].off_artifact.value)+"",fe,me;return{c(){e=U(r),t=U('["'),s=U(i),a=U('"] '),u=U(l),o=U(" |"),p=U(c),h=U("| "),g=U(_),C=U('["'),N=U(y),B=U('"]; class '),L=U(E),A=U(` OffensiveTechniqueNode;
            class `),T=U(F),P=U(" ArtifactNode; click "),R=U(x),m=U(' href "/dao/artifact/d3f:'),O=U(b),w=U(`";
            click `),I=U(H),V=U(' href "'),Q=U(ee),q=U('"; click '),le=U(M),K=U(' href "/dao/artifact/d3f:'),fe=U(he),me=U('";')},l(te){e=$(te,r),t=$(te,'["'),s=$(te,i),a=$(te,'"] '),u=$(te,l),o=$(te," |"),p=$(te,c),h=$(te,"| "),g=$(te,_),C=$(te,'["'),N=$(te,y),B=$(te,'"]; class '),L=$(te,E),A=$(te,` OffensiveTechniqueNode;
            class `),T=$(te,F),P=$(te," ArtifactNode; click "),R=$(te,x),m=$(te,' href "/dao/artifact/d3f:'),O=$(te,b),w=$(te,`";
            click `),I=$(te,H),V=$(te,' href "'),Q=$(te,ee),q=$(te,'"; click '),le=$(te,M),K=$(te,' href "/dao/artifact/d3f:'),fe=$(te,he),me=$(te,'";')},m(te,ce){S(te,e,ce),S(te,t,ce),S(te,s,ce),S(te,a,ce),S(te,u,ce),S(te,o,ce),S(te,p,ce),S(te,h,ce),S(te,g,ce),S(te,C,ce),S(te,N,ce),S(te,B,ce),S(te,L,ce),S(te,A,ce),S(te,T,ce),S(te,P,ce),S(te,R,ce),S(te,m,ce),S(te,O,ce),S(te,w,ce),S(te,I,ce),S(te,V,ce),S(te,Q,ce),S(te,q,ce),S(te,le,ce),S(te,K,ce),S(te,fe,ce),S(te,me,ce)},p(te,ce){ce&2&&r!==(r=te[23].off_tech_id.value.replace(/ |\./g,"")+"")&&pe(e,r),ce&2&&i!==(i=te[23].off_tech_label.value+"")&&pe(s,i),ce&2&&c!==(c=te[23].off_artifact_rel_label.value.replace(/ /g,"")+"")&&pe(p,c),ce&2&&_!==(_=Ee(te[23].off_artifact.value)+"")&&pe(g,_),ce&2&&y!==(y=te[23].off_artifact_label.value+"")&&pe(N,y),ce&2&&E!==(E=te[23].off_tech_id.value.replace(/ |\./g,"")+"")&&pe(L,E),ce&2&&F!==(F=Ee(te[23].off_artifact.value)+"")&&pe(T,F),ce&2&&x!==(x=Ee(te[23].off_artifact.value)+"")&&pe(R,x),ce&2&&b!==(b=Ee(te[23].off_artifact.value)+"")&&pe(O,b),ce&2&&H!==(H=te[23].off_tech_id.value.replace(/ |\./g,"")+"")&&pe(I,H),ce&2&&ee!==(ee=Xi(te[23].off_tech_id.value)+"")&&pe(Q,ee),ce&2&&M!==(M=Ee(te[23].off_artifact.value)+"")&&pe(le,M),ce&2&&he!==(he=Ee(te[23].off_artifact.value)+"")&&pe(fe,he)},d(te){te&&(D(e),D(t),D(s),D(a),D(u),D(o),D(p),D(h),D(g),D(C),D(N),D(B),D(L),D(A),D(T),D(P),D(R),D(m),D(O),D(w),D(I),D(V),D(Q),D(q),D(le),D(K),D(fe),D(me))}}}function oo(n){let r,e=n[8].edge_is_unique(n[23].off_tech_label.value,n[23].off_artifact_rel_label.value,n[23].off_artifact_label.value),t,i="def_tech"in n[23]&&io(n),s=e&&uo(n);return{c(){i&&i.c(),r=ie(),s&&s.c(),t=Le()},l(a){i&&i.l(a),r=ae(a),s&&s.l(a),t=Le()},m(a,l){i&&i.m(a,l),S(a,r,l),s&&s.m(a,l),S(a,t,l)},p(a,l){"def_tech"in a[23]?i?i.p(a,l):(i=io(a),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null),l&2&&(e=a[8].edge_is_unique(a[23].off_tech_label.value,a[23].off_artifact_rel_label.value,a[23].off_artifact_label.value)),e?s?s.p(a,l):(s=uo(a),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(a){a&&(D(r),D(t)),i&&i.d(a),s&&s.d(a)}}}function Gg(n){let r,e,t=ze(n[1].off_to_def.results.bindings),i=[];for(let s=0;s<t.length;s+=1)i[s]=oo(ro(n,t,s));return{c(){r=U(`graph LR;
        `);for(let s=0;s<i.length;s+=1)i[s].c();e=Le()},l(s){r=$(s,`graph LR;
        `);for(let a=0;a<i.length;a+=1)i[a].l(s);e=Le()},m(s,a){S(s,r,a);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(s,a);S(s,e,a)},p(s,a){if(a&298){t=ze(s[1].off_to_def.results.bindings);let l;for(l=0;l<t.length;l+=1){const u=ro(s,t,l);i[l]?i[l].p(u,a):(i[l]=oo(u),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=t.length}},d(s){s&&(D(r),D(e)),Lt(i,s)}}}function Wg(n){let r,e,t,i,s,a,l,u,o,c,p,h,_,g=n[5].length+"",C,y,N,B,E;const L=n[12].header,A=Ct(L,n,n[18],no),F=n[12].default,T=Ct(F,n,n[18],null),P=[Hg,Vg,$g],x=[];function R(m,b){return m[1]?m[1].off_to_def.results.bindings.length>0?1:2:0}return l=R(n),u=x[l]=P[l](n),{c(){r=re("dialog"),e=re("div"),A&&A.c(),t=U(`
    Select Related Artifacts To Insert
    `),T&&T.c(),i=ie(),s=re("hr"),a=ie(),u.c(),o=ie(),c=re("hr"),p=ie(),h=re("button"),_=U("Insert ("),C=U(g),y=U(")"),this.h()},l(m){r=ne(m,"DIALOG",{class:!0});var b=Ce(r);e=ne(b,"DIV",{class:!0});var O=Ce(e);A&&A.l(O),t=$(O,`
    Select Related Artifacts To Insert
    `),T&&T.l(O),i=ae(O),s=ne(O,"HR",{}),a=ae(O),u.l(O),o=ae(O),c=ne(O,"HR",{}),p=ae(O),h=ne(O,"BUTTON",{class:!0});var w=Ce(h);_=$(w,"Insert ("),C=$(w,g),y=$(w,")"),w.forEach(D),O.forEach(D),b.forEach(D),this.h()},h(){h.autofocus=!0,ue(h,"class","svelte-x0618k"),ue(e,"class","svelte-x0618k"),ue(r,"class","svelte-x0618k")},m(m,b){S(m,r,b),G(r,e),A&&A.m(e,null),G(e,t),T&&T.m(e,null),G(e,i),G(e,s),G(e,a),x[l].m(e,null),G(e,o),G(e,c),G(e,p),G(e,h),G(h,_),G(h,C),G(h,y),n[15](r),N=!0,h.focus(),B||(E=[Se(h,"click",n[9]),Se(e,"click",Ot(n[13])),Se(r,"close",n[16]),Se(r,"click",Nn(n[17]))],B=!0)},p(m,[b]){A&&A.p&&(!N||b&262144)&&kt(A,L,m,m[18],N?St(L,m[18],b,Ug):Nt(m[18]),no),T&&T.p&&(!N||b&262144)&&kt(T,F,m,m[18],N?St(F,m[18],b,null):Nt(m[18]),null);let O=l;l=R(m),l===O?x[l].p(m,b):(Et(),de(x[O],1,1,()=>{x[O]=null}),Tt(),u=x[l],u?u.p(m,b):(u=x[l]=P[l](m),u.c()),oe(u,1),u.m(e,o)),(!N||b&32)&&g!==(g=m[5].length+"")&&pe(C,g)},i(m){N||(oe(A,m),oe(T,m),oe(u),N=!0)},o(m){de(A,m),de(T,m),de(u),N=!1},d(m){m&&D(r),A&&A.d(m),T&&T.d(m),x[l].d(),n[15](null),B=!1,bt(E)}}}function Qg(n,r,e){let t,i,s,{$$slots:a={},$$scope:l}=r,{show_defend_modal:u}=r,{parent_node:o}=r,{data:c}=r,p;const h=xr();nt(n,h,R=>e(20,s=R));const _=rn();nt(n,_,R=>e(19,i=R));let g=new Jn;function C(R){t.includes(R)?e(5,t=t.filter(m=>m!==R)):t.push(R),e(5,t)}window.off_to_def_callback=function(R){C(R)};function y(){let R=0,m=200,b=100;for(const O of t){let w=c.off_to_def.results.bindings.find(H=>"def_tech"in H&&Ee(H.def_tech.value)==O);w&&(Ln(h,_,o,"countermeasureSelectorNode",w.def_tech_label.value,"d3f:"+Ee(w.def_tech.value),o.data.sequence,o.position.x+R*m,o.position.y+b,182,63,"May "+w.def_tactic_label.value,"defenseBottomSource","attackTopTarget",!1),R+=1)}h.set(s),_.set(i),p&&p.close(),e(5,t=[])}let N=new Set,B=[],E=[];Fo(B,E)&&(E=[]);function L(R){for(const m of t){let b=c.off_to_def.results.bindings.find(O=>"def_tech"in O&&Ee(O.def_tech.value)==m);R.includes(b.def_tactic_label.value)&&e(5,t=t.filter(O=>O!==m))}e(5,t)}function A(R){Lr.call(this,n,R)}function F(R){E=R,e(3,E)}function T(R){Dt[R?"unshift":"push"](()=>{p=R,e(2,p)})}const P=()=>e(0,u=!1),x=()=>{p.close(),e(5,t=[])};return n.$$set=R=>{"show_defend_modal"in R&&e(0,u=R.show_defend_modal),"parent_node"in R&&e(10,o=R.parent_node),"data"in R&&e(1,c=R.data),"$$scope"in R&&e(18,l=R.$$scope)},n.$$.update=()=>{n.$$.dirty&5&&u&&p&&(p.showModal(),g.reset()),n.$$.dirty&2050&&c&&(c.off_to_def.results.bindings.forEach(R=>{"def_tactic_label"in R&&N.add(R.def_tactic_label.value)}),e(11,N),e(1,c)),n.$$.dirty&2048&&e(4,B=Array.from(N).sort(function(R,m){return Gi[R]-Gi[m]})),n.$$.dirty&8&&L(E),n.$$.dirty&8&&g.reset(E)},e(5,t=[]),[u,c,p,E,B,t,h,_,g,y,o,N,a,A,F,T,P,x,l]}class Yg extends We{constructor(r){super(),Qe(this,r,Qg,Wg,Xe,{show_defend_modal:0,parent_node:10,data:1})}}function Jg(n){let r,e="artifacts",t,i,s,a,l,u="defensive techniques",o,c,p,h,_,g;function C(E){n[6](E)}let y={parent_node:n[0],data:n[1]};n[2]!==void 0&&(y.show_artifacts_modal=n[2]),i=new Pg({props:y}),Dt.push(()=>or(i,"show_artifacts_modal",C));function N(E){n[8](E)}let B={parent_node:n[0],data:n[1]};return n[3]!==void 0&&(B.show_defend_modal=n[3]),c=new Yg({props:B}),Dt.push(()=>or(c,"show_defend_modal",N)),{c(){r=re("button"),r.textContent=e,t=ie(),we(i.$$.fragment),a=ie(),l=re("button"),l.textContent=u,o=ie(),we(c.$$.fragment),this.h()},l(E){r=ne(E,"BUTTON",{class:!0,"data-svelte-h":!0}),qe(r)!=="svelte-1t14z6m"&&(r.textContent=e),t=ae(E),ye(i.$$.fragment,E),a=ae(E),l=ne(E,"BUTTON",{class:!0,"data-svelte-h":!0}),qe(l)!=="svelte-o3we0s"&&(l.textContent=u),o=ae(E),ye(c.$$.fragment,E),this.h()},h(){ue(r,"class","svelte-1x5dcdh"),ue(l,"class","svelte-1x5dcdh")},m(E,L){S(E,r,L),S(E,t,L),De(i,E,L),S(E,a,L),S(E,l,L),S(E,o,L),De(c,E,L),h=!0,_||(g=[Se(r,"click",n[5]),Se(l,"click",n[7])],_=!0)},p(E,[L]){const A={};L&1&&(A.parent_node=E[0]),L&2&&(A.data=E[1]),!s&&L&4&&(s=!0,A.show_artifacts_modal=E[2],ur(()=>s=!1)),i.$set(A);const F={};L&1&&(F.parent_node=E[0]),L&2&&(F.data=E[1]),!p&&L&8&&(p=!0,F.show_defend_modal=E[3],ur(()=>p=!1)),c.$set(F)},i(E){h||(oe(i.$$.fragment,E),oe(c.$$.fragment,E),h=!0)},o(E){de(i.$$.fragment,E),de(c.$$.fragment,E),h=!1},d(E){E&&(D(r),D(t),D(a),D(l),D(o)),Ae(i,E),Ae(c,E),_=!1,bt(g)}}}function Zg(n,r,e){let t,i;var s=this&&this.__awaiter||function(_,g,C,y){function N(B){return B instanceof C?B:new C(function(E){E(B)})}return new(C||(C=Promise))(function(B,E){function L(T){try{F(y.next(T))}catch(P){E(P)}}function A(T){try{F(y.throw(T))}catch(P){E(P)}}function F(T){T.done?B(T.value):N(T.value).then(L,A)}F((y=y.apply(_,g||[])).next())})};let{node:a}=r,l;function u(_){return s(this,void 0,void 0,function*(){if(_.data.techniqueId){const g=_.data.techniqueId;return yield(yield fetch(`/api/offensive-technique/attack/${g.replace("d3f:","")}.json`)).json()}else alert("Node technique ID not found, please use the correct d3f: class identifier"),e(3,i=!1),e(2,t=!1)})}const o=async()=>{e(1,l=null),e(2,t=!0),e(1,l=await u(a))};function c(_){t=_,e(2,t)}const p=async()=>{e(1,l=null),e(3,i=!0),e(1,l=await u(a))};function h(_){i=_,e(3,i)}return n.$$set=_=>{"node"in _&&e(0,a=_.node)},e(2,t=!1),e(3,i=!1),[a,l,t,i,u,o,c,p,h]}class Kg extends We{constructor(r){super(),Qe(this,r,Zg,Jg,Xe,{node:0})}}function fo(n){let r,e;return r=new Kg({props:{node:n[5]}}),{c(){we(r.$$.fragment)},l(t){ye(r.$$.fragment,t)},m(t,i){De(r,t,i),e=!0},p(t,i){const s={};i&32&&(s.node=t[5]),r.$set(s)},i(t){e||(oe(r.$$.fragment,t),e=!0)},o(t){de(r.$$.fragment,t),e=!1},d(t){Ae(r,t)}}}function co(n){let r,e;return r=new Rg({props:{node:n[5]}}),{c(){we(r.$$.fragment)},l(t){ye(r.$$.fragment,t)},m(t,i){De(r,t,i),e=!0},p(t,i){const s={};i&32&&(s.node=t[5]),r.$set(s)},i(t){e||(oe(r.$$.fragment,t),e=!0)},o(t){de(r.$$.fragment,t),e=!1},d(t){Ae(r,t)}}}function ho(n){let r,e;return r=new vg({props:{node:n[5]}}),{c(){we(r.$$.fragment)},l(t){ye(r.$$.fragment,t)},m(t,i){De(r,t,i),e=!0},p(t,i){const s={};i&32&&(s.node=t[5]),r.$set(s)},i(t){e||(oe(r.$$.fragment,t),e=!0)},o(t){de(r.$$.fragment,t),e=!1},d(t){Ae(r,t)}}}function e2(n){let r,e,t,i,s,a,l,u,o,c,p="duplicate",h,_,g="delete",C,y,N,B=n[5]&&n[5].type=="attackSelectorNode"&&fo(n),E=n[5]&&n[5].type=="countermeasureSelectorNode"&&co(n),L=n[5]&&n[5].type=="artifactSelectorNode"&&ho(n);return{c(){r=re("div"),e=re("p"),t=re("small"),i=U("node: "),s=U(n[0]),a=ie(),B&&B.c(),l=ie(),E&&E.c(),u=ie(),L&&L.c(),o=ie(),c=re("button"),c.textContent=p,h=ie(),_=re("button"),_.textContent=g,this.h()},l(A){r=ne(A,"DIV",{style:!0,class:!0});var F=Ce(r);e=ne(F,"P",{style:!0});var T=Ce(e);t=ne(T,"SMALL",{});var P=Ce(t);i=$(P,"node: "),s=$(P,n[0]),P.forEach(D),T.forEach(D),a=ae(F),B&&B.l(F),l=ae(F),E&&E.l(F),u=ae(F),L&&L.l(F),o=ae(F),c=ne(F,"BUTTON",{class:!0,"data-svelte-h":!0}),qe(c)!=="svelte-1spbqw1"&&(c.textContent=p),h=ae(F),_=ne(F,"BUTTON",{class:!0,"data-svelte-h":!0}),qe(_)!=="svelte-1pyou7z"&&(_.textContent=g),F.forEach(D),this.h()},h(){xe(e,"margin","0.5em"),ue(c,"class","svelte-1hwk7k5"),ue(_,"class","svelte-1hwk7k5"),xe(r,"top",n[1]+"px"),xe(r,"left",n[2]+"px"),xe(r,"right",n[3]+"px"),xe(r,"bottom",n[4]+"px"),ue(r,"class","context-menu svelte-1hwk7k5")},m(A,F){S(A,r,F),G(r,e),G(e,t),G(t,i),G(t,s),G(r,a),B&&B.m(r,null),G(r,l),E&&E.m(r,null),G(r,u),L&&L.m(r,null),G(r,o),G(r,c),G(r,h),G(r,_),C=!0,y||(N=[Se(c,"click",n[8]),Se(_,"click",n[9])],y=!0)},p(A,[F]){(!C||F&1)&&pe(s,A[0]),A[5]&&A[5].type=="attackSelectorNode"?B?(B.p(A,F),F&32&&oe(B,1)):(B=fo(A),B.c(),oe(B,1),B.m(r,l)):B&&(Et(),de(B,1,1,()=>{B=null}),Tt()),A[5]&&A[5].type=="countermeasureSelectorNode"?E?(E.p(A,F),F&32&&oe(E,1)):(E=co(A),E.c(),oe(E,1),E.m(r,u)):E&&(Et(),de(E,1,1,()=>{E=null}),Tt()),A[5]&&A[5].type=="artifactSelectorNode"?L?(L.p(A,F),F&32&&oe(L,1)):(L=ho(A),L.c(),oe(L,1),L.m(r,o)):L&&(Et(),de(L,1,1,()=>{L=null}),Tt()),(!C||F&2)&&xe(r,"top",A[1]+"px"),(!C||F&4)&&xe(r,"left",A[2]+"px"),(!C||F&8)&&xe(r,"right",A[3]+"px"),(!C||F&16)&&xe(r,"bottom",A[4]+"px")},i(A){C||(oe(B),oe(E),oe(L),C=!0)},o(A){de(B),de(E),de(L),C=!1},d(A){A&&D(r),B&&B.d(),E&&E.d(),L&&L.d(),y=!1,bt(N)}}}function t2(n,r,e){let t,i,s,{onClick:a}=r,{id:l}=r,{top:u}=r,{left:o}=r,{right:c}=r,{bottom:p}=r;const h=xr();nt(n,h,y=>e(11,s=y));const _=rn();nt(n,_,y=>e(12,i=y));function g(){const y=s.find(N=>N.id===l);y&&(console.log(y),s.push(Object.assign(Object.assign({},y),{id:`${l}-copy${Math.random()}`,position:{x:y.position.x,y:y.position.y+50}}))),h.set(s)}function C(){bn(h,s=s.filter(y=>y.id!==l),s),bn(_,i=i.filter(y=>y.source!==l&&y.target!==l),i),h.set(s),_.set(i)}return n.$$set=y=>{"onClick"in y&&e(10,a=y.onClick),"id"in y&&e(0,l=y.id),"top"in y&&e(1,u=y.top),"left"in y&&e(2,o=y.left),"right"in y&&e(3,c=y.right),"bottom"in y&&e(4,p=y.bottom)},n.$$.update=()=>{n.$$.dirty&2049&&e(5,t=s.find(y=>y.id===l))},[l,u,o,c,p,t,h,_,g,C,a,s]}class r2 extends We{constructor(r){super(),Qe(this,r,t2,e2,Xe,{onClick:10,id:0,top:1,left:2,right:3,bottom:4})}}function po(n,r,e){const t=n.slice();return t[12]=r[e],t}function _o(n){let r,e,t,i,s,a,l,u,o,c,p,h,_;const g=n[8].default,C=Ct(g,n,n[7],null);let y=ze(n[3]),N=[];for(let B=0;B<y.length;B+=1)N[B]=go(po(n,y,B));return{c(){r=re("div"),e=re("div"),t=re("h2"),i=U(n[1]),s=ie(),a=re("p"),l=U(n[2]),u=ie(),C&&C.c(),o=ie(),c=re("div");for(let B=0;B<N.length;B+=1)N[B].c();this.h()},l(B){r=ne(B,"DIV",{class:!0});var E=Ce(r);e=ne(E,"DIV",{class:!0});var L=Ce(e);t=ne(L,"H2",{});var A=Ce(t);i=$(A,n[1]),A.forEach(D),s=ae(L),a=ne(L,"P",{});var F=Ce(a);l=$(F,n[2]),F.forEach(D),u=ae(L),C&&C.l(L),o=ae(L),c=ne(L,"DIV",{class:!0});var T=Ce(c);for(let P=0;P<N.length;P+=1)N[P].l(T);T.forEach(D),L.forEach(D),E.forEach(D),this.h()},h(){ue(c,"class","options svelte-zbcx3u"),ue(e,"class","modal-content center text-center svelte-zbcx3u"),ue(r,"class","modal-overlay svelte-zbcx3u")},m(B,E){S(B,r,E),G(r,e),G(e,t),G(t,i),G(e,s),G(e,a),G(a,l),G(e,u),C&&C.m(e,null),G(e,o),G(e,c);for(let L=0;L<N.length;L+=1)N[L]&&N[L].m(c,null);p=!0,h||(_=[Se(e,"click",Ot(n[9])),Se(r,"click",n[4])],h=!0)},p(B,E){if((!p||E&2)&&pe(i,B[1]),(!p||E&4)&&pe(l,B[2]),C&&C.p&&(!p||E&128)&&kt(C,g,B,B[7],p?St(g,B[7],E,null):Nt(B[7]),null),E&40){y=ze(B[3]);let L;for(L=0;L<y.length;L+=1){const A=po(B,y,L);N[L]?N[L].p(A,E):(N[L]=go(A),N[L].c(),N[L].m(c,null))}for(;L<N.length;L+=1)N[L].d(1);N.length=y.length}},i(B){p||(oe(C,B),p=!0)},o(B){de(C,B),p=!1},d(B){B&&D(r),C&&C.d(B),Lt(N,B),h=!1,bt(_)}}}function go(n){let r,e=n[12].label+"",t,i,s,a;function l(){return n[10](n[12])}return{c(){r=re("button"),t=U(e),i=ie(),this.h()},l(u){r=ne(u,"BUTTON",{class:!0});var o=Ce(r);t=$(o,e),i=ae(o),o.forEach(D),this.h()},h(){ue(r,"class","svelte-zbcx3u")},m(u,o){S(u,r,o),G(r,t),G(r,i),s||(a=Se(r,"click",l),s=!0)},p(u,o){n=u,o&8&&e!==(e=n[12].label+"")&&pe(t,e)},d(u){u&&D(r),s=!1,a()}}}function n2(n){let r,e,t=n[0]&&_o(n);return{c(){t&&t.c(),r=Le()},l(i){t&&t.l(i),r=Le()},m(i,s){t&&t.m(i,s),S(i,r,s),e=!0},p(i,[s]){i[0]?t?(t.p(i,s),s&1&&oe(t,1)):(t=_o(i),t.c(),oe(t,1),t.m(r.parentNode,r)):t&&(Et(),de(t,1,1,()=>{t=null}),Tt())},i(i){e||(oe(t),e=!0)},o(i){de(t),e=!1},d(i){i&&D(r),t&&t.d(i)}}}function i2(n,r,e){let{$$slots:t={},$$scope:i}=r,{isOpen:s=!1}=r,{title:a=""}=r,{content:l=""}=r,{imageSrc:u=""}=r,{options:o=[]}=r;const c=Ro();function p(){e(0,s=!1)}function h(C){c("optionSelected",C),p()}function _(C){Lr.call(this,n,C)}const g=C=>h(C);return n.$$set=C=>{"isOpen"in C&&e(0,s=C.isOpen),"title"in C&&e(1,a=C.title),"content"in C&&e(2,l=C.content),"imageSrc"in C&&e(6,u=C.imageSrc),"options"in C&&e(3,o=C.options),"$$scope"in C&&e(7,i=C.$$scope)},[s,a,l,o,p,h,u,i,t,_,g]}class a2 extends We{constructor(r){super(),Qe(this,r,i2,n2,Xe,{isOpen:0,title:1,content:2,imageSrc:6,options:3})}}function s2(n){let r,e,t="You can drag these nodes to the pane below.",i,s,a,l,u="Action",o,c,p="Event",h,_,g="Attack",C,y,N="Countermeasure",B,E,L,A="Endurant",F,T,P="Artifact",x,R,m="Information",b,O,w="Agent",H,I,V,ee="State",Q,q,M="Vulnerability",le,K,he="Condition",fe,me;return{c(){r=re("aside"),e=re("div"),e.textContent=t,i=ie(),s=re("div"),a=re("div"),l=re("div"),l.textContent=u,o=ie(),c=re("div"),c.textContent=p,h=ie(),_=re("div"),_.textContent=g,C=ie(),y=re("div"),y.textContent=N,B=ie(),E=re("div"),L=re("div"),L.textContent=A,F=ie(),T=re("div"),T.textContent=P,x=ie(),R=re("div"),R.textContent=m,b=ie(),O=re("div"),O.textContent=w,H=ie(),I=re("div"),V=re("div"),V.textContent=ee,Q=ie(),q=re("div"),q.textContent=M,le=ie(),K=re("div"),K.textContent=he,this.h()},l(te){r=ne(te,"ASIDE",{class:!0});var ce=Ce(r);e=ne(ce,"DIV",{class:!0,"data-svelte-h":!0}),qe(e)!=="svelte-1go4e39"&&(e.textContent=t),i=ae(ce),s=ne(ce,"DIV",{class:!0});var J=Ce(s);a=ne(J,"DIV",{class:!0});var ve=Ce(a);l=ne(ve,"DIV",{class:!0,"data-svelte-h":!0}),qe(l)!=="svelte-1yk6dej"&&(l.textContent=u),o=ae(ve),c=ne(ve,"DIV",{class:!0,draggable:!0,style:!0,title:!0,"data-svelte-h":!0}),qe(c)!=="svelte-1hxo6k5"&&(c.textContent=p),h=ae(ve),_=ne(ve,"DIV",{class:!0,draggable:!0,style:!0,title:!0,"data-svelte-h":!0}),qe(_)!=="svelte-1m30nhf"&&(_.textContent=g),C=ae(ve),y=ne(ve,"DIV",{class:!0,draggable:!0,style:!0,title:!0,"data-svelte-h":!0}),qe(y)!=="svelte-xvztkt"&&(y.textContent=N),ve.forEach(D),B=ae(J),E=ne(J,"DIV",{class:!0});var Fe=Ce(E);L=ne(Fe,"DIV",{class:!0,"data-svelte-h":!0}),qe(L)!=="svelte-13fxc4g"&&(L.textContent=A),F=ae(Fe),T=ne(Fe,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),qe(T)!=="svelte-p6iki9"&&(T.textContent=P),x=ae(Fe),R=ne(Fe,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),qe(R)!=="svelte-gfucir"&&(R.textContent=m),b=ae(Fe),O=ne(Fe,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),qe(O)!=="svelte-1k1k96h"&&(O.textContent=w),Fe.forEach(D),H=ae(J),I=ne(J,"DIV",{class:!0});var $e=Ce(I);V=ne($e,"DIV",{class:!0,"data-svelte-h":!0}),qe(V)!=="svelte-82roym"&&(V.textContent=ee),Q=ae($e),q=ne($e,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),qe(q)!=="svelte-tj9qj"&&(q.textContent=M),le=ae($e),K=ne($e,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),qe(K)!=="svelte-1mwlumu"&&(K.textContent=he),$e.forEach(D),J.forEach(D),ce.forEach(D),this.h()},h(){ue(e,"class","label svelte-1vosa9g"),ue(l,"class","text-center font-medium"),ue(c,"class","actionNode example-node svelte-1vosa9g"),ue(c,"draggable",!0),xe(c,"text-align","center"),xe(c,"background","white"),ue(c,"title","d3f:Event"),ue(_,"class","attackSelectorNode example-node svelte-1vosa9g"),ue(_,"draggable",!0),xe(_,"text-align","center"),xe(_,"background","#FFD0D0"),ue(_,"title","d3f:OffensiveTechnique"),ue(y,"class","countermeasureSelectorNode example-node svelte-1vosa9g"),ue(y,"draggable",!0),xe(y,"text-align","center"),xe(y,"background","#d6eaff"),ue(y,"title","d3f:DefensiveTechnique"),ue(a,"class","nodes-column svelte-1vosa9g"),ue(L,"class","text-center font-medium"),ue(T,"class","artifactSelectorNode art-node example-node svelte-1vosa9g"),ue(T,"draggable",!0),xe(T,"text-align","center"),xe(T,"background","#fff4dd"),ue(R,"class","informationSelectorNode example-node svelte-1vosa9g"),ue(R,"draggable",!0),xe(R,"text-align","center"),xe(R,"background","#e8f4ea"),ue(O,"class","agentSelectorNode example-node svelte-1vosa9g"),ue(O,"draggable",!0),xe(O,"text-align","center"),xe(O,"background","#f0e6e6"),ue(E,"class","nodes-column svelte-1vosa9g"),ue(V,"class","text-center font-medium"),ue(q,"class","vulnerabilitySelectorNode example-node svelte-1vosa9g"),ue(q,"draggable",!0),xe(q,"text-align","center"),xe(q,"background","#f9d999"),ue(K,"class","conditionDefinitionNode example-node svelte-1vosa9g"),ue(K,"draggable",!0),xe(K,"text-align","center"),xe(K,"background","#ece6ff"),ue(I,"class","nodes-column svelte-1vosa9g"),ue(s,"class","nodes-container svelte-1vosa9g"),ue(r,"class","svelte-1vosa9g")},m(te,ce){S(te,r,ce),G(r,e),G(r,i),G(r,s),G(s,a),G(a,l),G(a,o),G(a,c),G(a,h),G(a,_),G(a,C),G(a,y),G(s,B),G(s,E),G(E,L),G(E,F),G(E,T),G(E,x),G(E,R),G(E,b),G(E,O),G(s,H),G(s,I),G(I,V),G(I,Q),G(I,q),G(I,le),G(I,K),fe||(me=[Se(c,"dragstart",n[1]),Se(_,"dragstart",n[2]),Se(y,"dragstart",n[3]),Se(T,"dragstart",n[4]),Se(R,"dragstart",n[5]),Se(O,"dragstart",n[6]),Se(q,"dragstart",n[7]),Se(K,"dragstart",n[8])],fe=!0)},p:Be,i:Be,o:Be,d(te){te&&D(r),fe=!1,bt(me)}}}function l2(n){const r=(c,p)=>{if(!c.dataTransfer)return null;c.dataTransfer.setData("application/svelteflow",p),c.dataTransfer.effectAllowed="move"};return[r,c=>r(c,"eventNode"),c=>r(c,"attackSelectorNode"),c=>r(c,"countermeasureSelectorNode"),c=>r(c,"artifactSelectorNode"),c=>r(c,"informationSelectorNode"),c=>r(c,"agentSelectorNode"),c=>r(c,"vulnerabilitySelectorNode"),c=>r(c,"conditionDefinitionNode")]}class u2 extends We{constructor(r){super(),Qe(this,r,l2,s2,Xe,{})}}function vo(n,r,e){const t=n.slice();return t[9]=r[e],t}function mo(n){let r,e=n[9]["rdfs:label"]+"",t,i,s,a,l;function u(...c){return n[7](n[9],...c)}function o(...c){return n[8](n[9],...c)}return{c(){r=re("div"),t=U(e),i=ie(),this.h()},l(c){r=ne(c,"DIV",{class:!0,title:!0,tabindex:!0,role:!0});var p=Ce(r);t=$(p,e),i=ae(p),p.forEach(D),this.h()},h(){ue(r,"class","select-technique"),ue(r,"title",s=n[9]["d3f:definition"]),ue(r,"tabindex","0"),ue(r,"role","button")},m(c,p){S(c,r,p),G(r,t),G(r,i),a||(l=[Se(r,"click",Ot(es(u))),Se(r,"keydown",Ot(o))],a=!0)},p(c,p){n=c,p&8&&e!==(e=n[9]["rdfs:label"]+"")&&pe(t,e),p&8&&s!==(s=n[9]["d3f:definition"])&&ue(r,"title",s)},d(c){c&&D(r),a=!1,bt(l)}}}function o2(n){let r,e=ze(n[3]),t=[];for(let i=0;i<e.length;i+=1)t[i]=mo(vo(n,e,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();r=Le()},l(i){for(let s=0;s<t.length;s+=1)t[s].l(i);r=Le()},m(i,s){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(i,s);S(i,r,s)},p(i,[s]){if(s&12){e=ze(i[3]);let a;for(a=0;a<e.length;a+=1){const l=vo(i,e,a);t[a]?t[a].p(l,s):(t[a]=mo(l),t[a].c(),t[a].m(r.parentNode,r))}for(;a<t.length;a+=1)t[a].d(1);t.length=e.length}},i:Be,o:Be,d(i){i&&D(r),Lt(t,i)}}}function f2(n,r,e){let t,i=Be,s=()=>(i(),i=zi(c,y=>e(5,t=y)),c),a,l=Be,u=()=>(l(),l=zi(o,y=>e(6,a=y)),o);n.$$.on_destroy.push(()=>i()),n.$$.on_destroy.push(()=>l());let{list:o}=r;u();let{filter_value_store:c}=r;s();let{select_item:p}=r,{regex_search_keys:h=["rdfs:label","@id"]}=r,_=[];const g=(y,N)=>p(N,y),C=(y,N)=>Wi(N,p,y);return n.$$set=y=>{"list"in y&&u(e(0,o=y.list)),"filter_value_store"in y&&s(e(1,c=y.filter_value_store)),"select_item"in y&&e(2,p=y.select_item),"regex_search_keys"in y&&e(4,h=y.regex_search_keys)},n.$$.update=()=>{n.$$.dirty&112&&e(3,_=xh(a,t,h))},[o,c,p,_,h,t,a,g,C]}class c2 extends We{constructor(r){super(),Qe(this,r,f2,o2,Xe,{list:0,filter_value_store:1,select_item:2,regex_search_keys:4})}}function bo(n,r,e){const t=n.slice();return t[12]=r[e],t}function wo(n,r,e){const t=n.slice();return t[15]=r[e],t}function yo(n){let r,e=ze(n[12].children),t=[];for(let i=0;i<e.length;i+=1)t[i]=Do(wo(n,e,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();r=Le()},l(i){for(let s=0;s<t.length;s+=1)t[s].l(i);r=Le()},m(i,s){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(i,s);S(i,r,s)},p(i,s){if(s&20){e=ze(i[12].children);let a;for(a=0;a<e.length;a+=1){const l=wo(i,e,a);t[a]?t[a].p(l,s):(t[a]=Do(l),t[a].c(),t[a].m(r.parentNode,r))}for(;a<t.length;a+=1)t[a].d(1);t.length=e.length}},d(i){i&&D(r),Lt(t,i)}}}function Do(n){let r,e=n[15]["rdfs:label"]+"",t,i,s,a,l;function u(...c){return n[10](n[15],...c)}function o(...c){return n[11](n[15],...c)}return{c(){r=re("div"),t=U(e),i=ie(),this.h()},l(c){r=ne(c,"DIV",{class:!0,title:!0,tabindex:!0,role:!0});var p=Ce(r);t=$(p,e),i=ae(p),p.forEach(D),this.h()},h(){ue(r,"class","select-technique"),ue(r,"title",s=n[15]["d3f:definition"]),ue(r,"tabindex","0"),ue(r,"role","button")},m(c,p){S(c,r,p),G(r,t),G(r,i),a||(l=[Se(r,"click",Ot(es(u))),Se(r,"keydown",Ot(o))],a=!0)},p(c,p){n=c,p&16&&e!==(e=n[15]["rdfs:label"]+"")&&pe(t,e),p&16&&s!==(s=n[15]["d3f:definition"])&&ue(r,"title",s)},d(c){c&&D(r),a=!1,bt(l)}}}function Ao(n){let r,e,t=n[12]["rdfs:label"]+"",i,s,a,l,u,o,c,p=(n[3]===n[12]["@id"]||n[5])&&yo(n);return{c(){r=re("details"),e=re("summary"),i=U(t),a=ie(),p&&p.c(),l=ie(),this.h()},l(h){r=ne(h,"DETAILS",{});var _=Ce(r);e=ne(_,"SUMMARY",{id:!0});var g=Ce(e);i=$(g,t),g.forEach(D),a=ae(_),p&&p.l(_),l=ae(_),_.forEach(D),this.h()},h(){ue(e,"id",s=n[12]["@id"]),r.open=u=n[3]===n[12]["@id"]||n[5]},m(h,_){S(h,r,_),G(r,e),G(e,i),G(r,a),p&&p.m(r,null),G(r,l),o||(c=Se(e,"click",Ot(es(n[6]))),o=!0)},p(h,_){_&16&&t!==(t=h[12]["rdfs:label"]+"")&&pe(i,t),_&16&&s!==(s=h[12]["@id"])&&ue(e,"id",s),h[3]===h[12]["@id"]||h[5]?p?p.p(h,_):(p=yo(h),p.c(),p.m(r,l)):p&&(p.d(1),p=null),_&56&&u!==(u=h[3]===h[12]["@id"]||h[5])&&(r.open=u)},d(h){h&&D(r),p&&p.d(),o=!1,c()}}}function d2(n){let r,e=ze(n[4]),t=[];for(let i=0;i<e.length;i+=1)t[i]=Ao(bo(n,e,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();r=Le()},l(i){for(let s=0;s<t.length;s+=1)t[s].l(i);r=Le()},m(i,s){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(i,s);S(i,r,s)},p(i,[s]){if(s&124){e=ze(i[4]);let a;for(a=0;a<e.length;a+=1){const l=bo(i,e,a);t[a]?t[a].p(l,s):(t[a]=Ao(l),t[a].c(),t[a].m(r.parentNode,r))}for(;a<t.length;a+=1)t[a].d(1);t.length=e.length}},i:Be,o:Be,d(i){i&&D(r),Lt(t,i)}}}function h2(n,r,e){let t,i,s=Be,a=()=>(s(),s=zi(p,E=>e(8,i=E)),p),l,u=Be,o=()=>(u(),u=zi(c,E=>e(9,l=E)),c);n.$$.on_destroy.push(()=>s()),n.$$.on_destroy.push(()=>u());let{list:c}=r;o();let{filter_value_store:p}=r;a();let{select_item:h}=r,{regex_search_keys:_=["d3f:definition","rdfs:label","@id","d3f:d3fend-id"]}=r,g=null,C=[];function y(E){const{id:L}=E.target;g===L?e(3,g=null):e(3,g=L)}const N=(E,L)=>h(L,E),B=(E,L)=>Wi(L,h,E);return n.$$set=E=>{"list"in E&&o(e(0,c=E.list)),"filter_value_store"in E&&a(e(1,p=E.filter_value_store)),"select_item"in E&&e(2,h=E.select_item),"regex_search_keys"in E&&e(7,_=E.regex_search_keys)},n.$$.update=()=>{n.$$.dirty&896&&e(4,C=qh(l,i,_)),n.$$.dirty&256&&e(5,t=!!i)},[c,p,h,g,C,t,y,_,i,l,N,B]}class p2 extends We{constructor(r){super(),Qe(this,r,h2,d2,Xe,{list:0,filter_value_store:1,select_item:2,regex_search_keys:7})}}const _2=n=>({}),Eo=n=>({R:n[6],filter_value_store:n[4],select_item:n[9]});function To(n){let r,e,t,i,s,a,l;const u=n[16].default,o=Ct(u,n,n[15],Eo);return{c(){r=re("ul"),e=re("input"),t=ie(),o&&o.c(),this.h()},l(c){r=ne(c,"UL",{class:!0});var p=Ce(r);e=ne(p,"INPUT",{type:!0,id:!0,name:!0,placeholder:!0,class:!0}),t=ae(p),o&&o.l(p),p.forEach(D),this.h()},h(){ue(e,"type","text"),ue(e,"id","filter"),ue(e,"name","filter"),ue(e,"placeholder","Filter / Save"),ue(e,"class","svelte-l8rt3j"),ue(r,"class","dropdown-menu svelte-l8rt3j")},m(c,p){S(c,r,p),G(r,e),G(r,t),o&&o.m(r,null),s=!0,a||(l=[fl(Lh.call(null,e)),Se(e,"click",Ot(n[17])),Se(e,"keyup",Ot(n[18])),Se(e,"keydown",Ot(n[19])),fl(Bh.call(null,r)),Se(r,"outsideclick",n[7])],a=!0)},p(c,p){o&&o.p&&(!s||p&32768)&&kt(o,u,c,c[15],s?St(u,c[15],p,_2):Nt(c[15]),Eo)},i(c){s||(oe(o,c),c&&Pa(()=>{s&&(i||(i=dl(r,yl,{delay:50,duration:200,axis:"y"},!0)),i.run(1))}),s=!0)},o(c){de(o,c),c&&(i||(i=dl(r,yl,{delay:50,duration:200,axis:"y"},!1)),i.run(0)),s=!1},d(c){c&&D(r),o&&o.d(c),c&&i&&i.end(),a=!1,bt(l)}}}function g2(n){let r,e,t,i,s,a,l,u,o,c,p=n[2]&&To(n);return{c(){r=re("div"),e=re("div"),t=re("div"),i=re("span"),s=U(n[1]),a=ie(),p&&p.c(),this.h()},l(h){r=ne(h,"DIV",{class:!0,style:!0});var _=Ce(r);e=ne(_,"DIV",{class:!0,role:!0,tabindex:!0});var g=Ce(e);t=ne(g,"DIV",{class:!0});var C=Ce(t);i=ne(C,"SPAN",{class:!0});var y=Ce(i);s=$(y,n[1]),y.forEach(D),C.forEach(D),a=ae(g),p&&p.l(g),g.forEach(D),_.forEach(D),this.h()},h(){ue(i,"class","selected svelte-l8rt3j"),ue(t,"class","select autocomplete-dropdown svelte-l8rt3j"),ue(e,"class",l="dropdown "+(n[2]?"active":"")+" svelte-l8rt3j"),ue(e,"role","button"),ue(e,"tabindex","0"),ue(r,"class","container svelte-l8rt3j"),xe(r,"--input-color",n[0])},m(h,_){S(h,r,_),G(r,e),G(e,t),G(t,i),G(i,s),G(e,a),p&&p.m(e,null),u=!0,o||(c=[Se(e,"click",n[8]),Se(e,"keydown",n[20])],o=!0)},p(h,[_]){(!u||_&2)&&pe(s,h[1]),h[2]?p?(p.p(h,_),_&4&&oe(p,1)):(p=To(h),p.c(),oe(p,1),p.m(e,null)):p&&(Et(),de(p,1,1,()=>{p=null}),Tt()),(!u||_&4&&l!==(l="dropdown "+(h[2]?"active":"")+" svelte-l8rt3j"))&&ue(e,"class",l),(!u||_&1)&&xe(r,"--input-color",h[0])},i(h){u||(oe(p),u=!0)},o(h){de(p),u=!1},d(h){h&&D(r),p&&p.d(),o=!1,bt(c)}}}function v2(n,r,e){let t,i,s,a,{$$slots:l={},$$scope:u}=r,{node_id:o}=r,{element_id:c}=r,{input_color:p}=r,{place_holder:h="< d3fend class >"}=r;const _=pr(!1);nt(n,_,m=>e(2,a=m));const g=pr(null);nt(n,g,m=>e(22,i=m));const C=xr();nt(n,C,m=>e(23,s=m));const y={ItemTree:p2,ItemList:c2};let N;function B(){bn(_,a=!1,a),bn(g,i="",i)}function E(m){a?B():bn(_,a=!0,a)}function L(m,b){let O=b["rdfs:label"];Array.isArray(b["rdfs:label"])&&(O=b["rdfs:label"][0]),s.forEach(w=>{w.id===o&&(w.data={...w.data,techniqueId:b["@id"],label:O})}),C.set(s),B()}function A(m){clearTimeout(N),N=setTimeout(()=>{bn(g,i=m.target.value,i)},300)}function F(m){const b=m.target.value;L(m,{"rdfs:label":b,"@id":b})}function T(m){Lr.call(this,n,m)}const P=m=>A(m),x=m=>Wi(m,F),R=m=>Wi(m,E);return n.$$set=m=>{"node_id"in m&&e(12,o=m.node_id),"element_id"in m&&e(13,c=m.element_id),"input_color"in m&&e(0,p=m.input_color),"place_holder"in m&&e(14,h=m.place_holder),"$$scope"in m&&e(15,u=m.$$scope)},n.$$.update=()=>{n.$$.dirty&24576&&e(1,t=c||h)},[p,t,a,_,g,C,y,B,E,L,A,F,o,c,h,u,l,T,P,x,R]}class _i extends We{constructor(r){super(),Qe(this,r,v2,g2,Xe,{node_id:12,element_id:13,input_color:0,place_holder:14})}}function m2(n){let r,e;return r=new n[6].ItemList({props:{list:Mo,filter_value_store:n[7],select_item:n[8]}}),{c(){we(r.$$.fragment)},l(t){ye(r.$$.fragment,t)},m(t,i){De(r,t,i),e=!0},p(t,i){const s={};i&128&&(s.filter_value_store=t[7]),i&256&&(s.select_item=t[8]),r.$set(s)},i(t){e||(oe(r.$$.fragment,t),e=!0)},o(t){de(r.$$.fragment,t),e=!1},d(t){Ae(r,t)}}}function b2(n){let r,e,t,i,s,a,l,u,o,c,p,h,_,g,C,y,N,B,E,L,A,F,T,P,x;return r=new Me({props:{type:"target",position:je.Top,id:"attackTopTarget",style:"background: #ffc3c7; border-width: 2px; border-color: red;",isConnectable:n[1]}}),t=new Me({props:{type:"source",position:je.Bottom,id:"attackBottomSource",style:"background: red; border-width: 2px; border-color: #ffc3c7;",isConnectable:n[1]}}),s=new Me({props:{type:"source",position:je.Right,id:"attackRightSource",style:"background: red; border-width: 2px; border-color:  #ffc3c7;",isConnectable:n[1]}}),o=new Br({props:{isVisible:n[2]}}),B=new _i({props:{node_id:n[3],element_id:n[0].techniqueId,input_color:"#ffc3c7",$$slots:{default:[m2,({R,filter_value_store:m,select_item:b})=>({6:R,7:m,8:b}),({R,filter_value_store:m,select_item:b})=>(R?64:0)|(m?128:0)|(b?256:0)]},$$scope:{ctx:n}}}),{c(){we(r.$$.fragment),e=ie(),we(t.$$.fragment),i=ie(),we(s.$$.fragment),a=ie(),l=re("div"),u=re("div"),we(o.$$.fragment),c=ie(),p=re("i"),h=U(`Attack Action
        `),_=re("input"),C=ie(),y=re("br"),N=ie(),we(B.$$.fragment),E=ie(),L=re("div"),A=re("input"),this.h()},l(R){ye(r.$$.fragment,R),e=ae(R),ye(t.$$.fragment,R),i=ae(R),ye(s.$$.fragment,R),a=ae(R),l=ne(R,"DIV",{class:!0});var m=Ce(l);u=ne(m,"DIV",{class:!0});var b=Ce(u);ye(o.$$.fragment,b),c=ae(b),p=ne(b,"I",{});var O=Ce(p);h=$(O,`Attack Action
        `),_=ne(O,"INPUT",{class:!0,type:!0,style:!0}),O.forEach(D),C=ae(b),y=ne(b,"BR",{}),N=ae(b),ye(B.$$.fragment,b),E=ae(b),L=ne(b,"DIV",{});var w=Ce(L);A=ne(w,"INPUT",{class:!0,type:!0,style:!0}),w.forEach(D),b.forEach(D),m.forEach(D),this.h()},h(){ue(_,"class","nodrag sequence"),ue(_,"type","text"),xe(_,"background","#ffc3c7"),_.value=g=n[0].sequence||"#",ue(A,"class","nodrag"),ue(A,"type","text"),xe(A,"text-align","center"),xe(A,"background","#ffc3c7"),xe(A,"font-weight","bold"),A.value=F=n[0].label||" < label >",ue(u,"class","attack-node node-inner svelte-pkj1to"),ue(l,"class","attack-node node svelte-pkj1to")},m(R,m){De(r,R,m),S(R,e,m),De(t,R,m),S(R,i,m),De(s,R,m),S(R,a,m),S(R,l,m),G(l,u),De(o,u,null),G(u,c),G(u,p),G(p,h),G(p,_),G(u,C),G(u,y),G(u,N),De(B,u,null),G(u,E),G(u,L),G(L,A),T=!0,P||(x=[Se(_,"input",n[4]),Se(A,"input",n[5])],P=!0)},p(R,[m]){const b={};m&2&&(b.isConnectable=R[1]),r.$set(b);const O={};m&2&&(O.isConnectable=R[1]),t.$set(O);const w={};m&2&&(w.isConnectable=R[1]),s.$set(w);const H={};m&4&&(H.isVisible=R[2]),o.$set(H),(!T||m&1&&g!==(g=R[0].sequence||"#")&&_.value!==g)&&(_.value=g);const I={};m&8&&(I.node_id=R[3]),m&1&&(I.element_id=R[0].techniqueId),m&896&&(I.$$scope={dirty:m,ctx:R}),B.$set(I),(!T||m&1&&F!==(F=R[0].label||" < label >")&&A.value!==F)&&(A.value=F)},i(R){T||(oe(r.$$.fragment,R),oe(t.$$.fragment,R),oe(s.$$.fragment,R),oe(o.$$.fragment,R),oe(B.$$.fragment,R),T=!0)},o(R){de(r.$$.fragment,R),de(t.$$.fragment,R),de(s.$$.fragment,R),de(o.$$.fragment,R),de(B.$$.fragment,R),T=!1},d(R){R&&(D(e),D(i),D(a),D(l)),Ae(r,R),Ae(t,R),Ae(s,R),Ae(o),Ae(B),P=!1,bt(x)}}}function w2(n,r,e){let{data:t}=r,{isConnectable:i}=r,{selected:s=void 0}=r,{id:a}=r;const l=o=>{e(0,t.sequence=o.currentTarget.value,t)},u=o=>{e(0,t.label=o.currentTarget.value,t)};return n.$$set=o=>{"data"in o&&e(0,t=o.data),"isConnectable"in o&&e(1,i=o.isConnectable),"selected"in o&&e(2,s=o.selected),"id"in o&&e(3,a=o.id)},[t,i,s,a,l,u]}class y2 extends We{constructor(r){super(),Qe(this,r,w2,b2,Xe,{data:0,isConnectable:1,selected:2,id:3})}}function D2(n){let r,e;return r=new n[5].ItemList({props:{list:Po,filter_value_store:n[6],select_item:n[7]}}),{c(){we(r.$$.fragment)},l(t){ye(r.$$.fragment,t)},m(t,i){De(r,t,i),e=!0},p(t,i){const s={};i&64&&(s.filter_value_store=t[6]),i&128&&(s.select_item=t[7]),r.$set(s)},i(t){e||(oe(r.$$.fragment,t),e=!0)},o(t){de(r.$$.fragment,t),e=!1},d(t){Ae(r,t)}}}function A2(n){let r,e,t,i,s,a,l,u,o,c="Vulnerability",p,h,_,g,C,y,N,B,E,L,A,F;return r=new Me({props:{type:"target",position:je.Left,id:"attackLeftTarget",style:"top: 50%; background: #ffc3c7; border-color: red;",isConnectable:n[1]}}),t=new Me({props:{type:"source",position:je.Right,id:"vulnerabilityRightSource",style:"top: 50%; background: orange; border-width: 2px; border-color: #f9d999;",isConnectable:n[1]}}),l=new Br({props:{isVisible:n[2]}}),C=new _i({props:{node_id:n[3],element_id:n[0].techniqueId,input_color:"#f9d999",place_holder:"< weakness >",$$slots:{default:[D2,({R:T,filter_value_store:P,select_item:x})=>({5:T,6:P,7:x}),({R:T,filter_value_store:P,select_item:x})=>(T?32:0)|(P?64:0)|(x?128:0)]},$$scope:{ctx:n}}}),{c(){we(r.$$.fragment),e=ie(),we(t.$$.fragment),i=ie(),s=re("div"),a=re("div"),we(l.$$.fragment),u=ie(),o=re("i"),o.textContent=c,p=ie(),h=re("br"),_=ie(),g=re("div"),we(C.$$.fragment),y=ie(),N=re("div"),B=re("input"),this.h()},l(T){ye(r.$$.fragment,T),e=ae(T),ye(t.$$.fragment,T),i=ae(T),s=ne(T,"DIV",{class:!0});var P=Ce(s);a=ne(P,"DIV",{class:!0});var x=Ce(a);ye(l.$$.fragment,x),u=ae(x),o=ne(x,"I",{"data-svelte-h":!0}),qe(o)!=="svelte-qgxj0w"&&(o.textContent=c),p=ae(x),h=ne(x,"BR",{}),_=ae(x),g=ne(x,"DIV",{});var R=Ce(g);ye(C.$$.fragment,R),R.forEach(D),y=ae(x),N=ne(x,"DIV",{});var m=Ce(N);B=ne(m,"INPUT",{class:!0,type:!0,style:!0}),m.forEach(D),x.forEach(D),P.forEach(D),this.h()},h(){ue(B,"class","nodrag label"),ue(B,"type","text"),xe(B,"background","#f9d999"),B.value=E=n[0].label||"< label >",ue(a,"class","vulnerability node-inner svelte-17a4qd7"),ue(s,"class","vulnerability node svelte-17a4qd7")},m(T,P){De(r,T,P),S(T,e,P),De(t,T,P),S(T,i,P),S(T,s,P),G(s,a),De(l,a,null),G(a,u),G(a,o),G(a,p),G(a,h),G(a,_),G(a,g),De(C,g,null),G(a,y),G(a,N),G(N,B),L=!0,A||(F=Se(B,"input",n[4]),A=!0)},p(T,[P]){const x={};P&2&&(x.isConnectable=T[1]),r.$set(x);const R={};P&2&&(R.isConnectable=T[1]),t.$set(R);const m={};P&4&&(m.isVisible=T[2]),l.$set(m);const b={};P&8&&(b.node_id=T[3]),P&1&&(b.element_id=T[0].techniqueId),P&448&&(b.$$scope={dirty:P,ctx:T}),C.$set(b),(!L||P&1&&E!==(E=T[0].label||"< label >")&&B.value!==E)&&(B.value=E)},i(T){L||(oe(r.$$.fragment,T),oe(t.$$.fragment,T),oe(l.$$.fragment,T),oe(C.$$.fragment,T),L=!0)},o(T){de(r.$$.fragment,T),de(t.$$.fragment,T),de(l.$$.fragment,T),de(C.$$.fragment,T),L=!1},d(T){T&&(D(e),D(i),D(s)),Ae(r,T),Ae(t,T),Ae(l),Ae(C),A=!1,F()}}}function E2(n,r,e){let{data:t}=r,{isConnectable:i}=r,{selected:s=void 0}=r,{id:a}=r;const l=u=>{e(0,t.label=u.currentTarget.value,t)};return n.$$set=u=>{"data"in u&&e(0,t=u.data),"isConnectable"in u&&e(1,i=u.isConnectable),"selected"in u&&e(2,s=u.selected),"id"in u&&e(3,a=u.id)},[t,i,s,a,l]}class T2 extends We{constructor(r){super(),Qe(this,r,E2,A2,Xe,{data:0,isConnectable:1,selected:2,id:3})}}function C2(n){let r,e;return r=new n[5].ItemList({props:{list:qo,filter_value_store:n[6],select_item:n[7]}}),{c(){we(r.$$.fragment)},l(t){ye(r.$$.fragment,t)},m(t,i){De(r,t,i),e=!0},p(t,i){const s={};i&64&&(s.filter_value_store=t[6]),i&128&&(s.select_item=t[7]),r.$set(s)},i(t){e||(oe(r.$$.fragment,t),e=!0)},o(t){de(r.$$.fragment,t),e=!1},d(t){Ae(r,t)}}}function k2(n){let r,e,t,i,s,a,l,u,o,c,p,h,_,g,C,y,N,B="Artifact",E,L,A,F,T,P,x,R,m,b,O;return r=new Me({props:{type:"target",position:je.Left,id:"attackLeftTarget",style:"top: 20%; background: #ffc3c7; border-width: 2px; border-color: red;",isConnectable:n[1]}}),t=new Me({props:{type:"target",position:je.Right,id:"defenseRightTarget",style:"top: 20%; background: #8ac3ff; border-width: 2px; border-color: #062f4f;",isConnectable:n[1]}}),s=new Me({props:{type:"target",position:je.Left,id:"vulnerabilityLeftTarget",style:"top: 50%; border-color: orange; border-width: 2px; background: #f9d999;",isConnectable:n[1]}}),l=new Me({props:{type:"target",position:je.Top,id:"artTopTarget",style:"background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:n[1]}}),o=new Me({props:{type:"target",position:je.Left,id:"artLeftTarget",style:"top: 80%; background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:n[1]}}),p=new Me({props:{type:"source",position:je.Bottom,id:"artBottomSource",style:"border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:n[1]}}),_=new Me({props:{type:"source",position:je.Right,id:"artRightSource",style:"top: 80%; border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:n[1]}}),A=new Br({props:{isVisible:n[2]}}),T=new _i({props:{node_id:n[3],element_id:n[0].techniqueId,input_color:"#fff4dd",$$slots:{default:[C2,({R:w,filter_value_store:H,select_item:I})=>({5:w,6:H,7:I}),({R:w,filter_value_store:H,select_item:I})=>(w?32:0)|(H?64:0)|(I?128:0)]},$$scope:{ctx:n}}}),{c(){we(r.$$.fragment),e=ie(),we(t.$$.fragment),i=ie(),we(s.$$.fragment),a=ie(),we(l.$$.fragment),u=ie(),we(o.$$.fragment),c=ie(),we(p.$$.fragment),h=ie(),we(_.$$.fragment),g=ie(),C=re("div"),y=re("div"),N=re("i"),N.textContent=B,E=re("br"),L=ie(),we(A.$$.fragment),F=ie(),we(T.$$.fragment),P=ie(),x=re("input"),this.h()},l(w){ye(r.$$.fragment,w),e=ae(w),ye(t.$$.fragment,w),i=ae(w),ye(s.$$.fragment,w),a=ae(w),ye(l.$$.fragment,w),u=ae(w),ye(o.$$.fragment,w),c=ae(w),ye(p.$$.fragment,w),h=ae(w),ye(_.$$.fragment,w),g=ae(w),C=ne(w,"DIV",{class:!0});var H=Ce(C);y=ne(H,"DIV",{class:!0});var I=Ce(y);N=ne(I,"I",{"data-svelte-h":!0}),qe(N)!=="svelte-148na2y"&&(N.textContent=B),E=ne(I,"BR",{}),L=ae(I),ye(A.$$.fragment,I),F=ae(I),ye(T.$$.fragment,I),P=ae(I),x=ne(I,"INPUT",{class:!0,type:!0,style:!0}),I.forEach(D),H.forEach(D),this.h()},h(){ue(x,"class","nodrag label"),ue(x,"type","text"),xe(x,"background","#fff4dd"),x.value=R=n[0].label||"< label >",ue(y,"class","node-inner"),ue(C,"class","artifact node svelte-1q2d78v")},m(w,H){De(r,w,H),S(w,e,H),De(t,w,H),S(w,i,H),De(s,w,H),S(w,a,H),De(l,w,H),S(w,u,H),De(o,w,H),S(w,c,H),De(p,w,H),S(w,h,H),De(_,w,H),S(w,g,H),S(w,C,H),G(C,y),G(y,N),G(y,E),G(y,L),De(A,y,null),G(y,F),De(T,y,null),G(y,P),G(y,x),m=!0,b||(O=Se(x,"input",n[4]),b=!0)},p(w,[H]){const I={};H&2&&(I.isConnectable=w[1]),r.$set(I);const V={};H&2&&(V.isConnectable=w[1]),t.$set(V);const ee={};H&2&&(ee.isConnectable=w[1]),s.$set(ee);const Q={};H&2&&(Q.isConnectable=w[1]),l.$set(Q);const q={};H&2&&(q.isConnectable=w[1]),o.$set(q);const M={};H&2&&(M.isConnectable=w[1]),p.$set(M);const le={};H&2&&(le.isConnectable=w[1]),_.$set(le);const K={};H&4&&(K.isVisible=w[2]),A.$set(K);const he={};H&8&&(he.node_id=w[3]),H&1&&(he.element_id=w[0].techniqueId),H&448&&(he.$$scope={dirty:H,ctx:w}),T.$set(he),(!m||H&1&&R!==(R=w[0].label||"< label >")&&x.value!==R)&&(x.value=R)},i(w){m||(oe(r.$$.fragment,w),oe(t.$$.fragment,w),oe(s.$$.fragment,w),oe(l.$$.fragment,w),oe(o.$$.fragment,w),oe(p.$$.fragment,w),oe(_.$$.fragment,w),oe(A.$$.fragment,w),oe(T.$$.fragment,w),m=!0)},o(w){de(r.$$.fragment,w),de(t.$$.fragment,w),de(s.$$.fragment,w),de(l.$$.fragment,w),de(o.$$.fragment,w),de(p.$$.fragment,w),de(_.$$.fragment,w),de(A.$$.fragment,w),de(T.$$.fragment,w),m=!1},d(w){w&&(D(e),D(i),D(a),D(u),D(c),D(h),D(g),D(C)),Ae(r,w),Ae(t,w),Ae(s,w),Ae(l,w),Ae(o,w),Ae(p,w),Ae(_,w),Ae(A),Ae(T),b=!1,O()}}}function N2(n,r,e){let{data:t}=r,{isConnectable:i}=r,{selected:s=void 0}=r,{id:a}=r;const l=u=>{e(0,t.label=u.currentTarget.value,t)};return n.$$set=u=>{"data"in u&&e(0,t=u.data),"isConnectable"in u&&e(1,i=u.isConnectable),"selected"in u&&e(2,s=u.selected),"id"in u&&e(3,a=u.id)},[t,i,s,a,l]}class S2 extends We{constructor(r){super(),Qe(this,r,N2,k2,Xe,{data:0,isConnectable:1,selected:2,id:3})}}function R2(n){let r,e;return r=new n[6].ItemTree({props:{list:xo,filter_value_store:n[7],select_item:n[8]}}),{c(){we(r.$$.fragment)},l(t){ye(r.$$.fragment,t)},m(t,i){De(r,t,i),e=!0},p(t,i){const s={};i&128&&(s.filter_value_store=t[7]),i&256&&(s.select_item=t[8]),r.$set(s)},i(t){e||(oe(r.$$.fragment,t),e=!0)},o(t){de(r.$$.fragment,t),e=!1},d(t){Ae(r,t)}}}function I2(n){let r,e,t,i,s,a,l,u,o,c,p,h="Defense Action",_,g,C,y,N,B,E,L,A,F,T,P,x,R,m;return r=new Me({props:{type:"target",position:je.Top,id:"defenseTopTarget",style:"border-color: blue; background: #d6eaff; border-width: 2px",isConnectable:n[1]}}),t=new Me({props:{type:"source",position:je.Left,id:"defenseLeftSource",style:"background: blue; border-color: #d6eaff; border-width: 2px",isConnectable:n[1]}}),s=new Me({props:{type:"source",position:je.Bottom,id:"defenseBottomSource",style:"background: blue; border-color: #d6eaff; border-width: 2px",isConnectable:n[1]}}),o=new Br({props:{isVisible:n[2]}}),L=new _i({props:{node_id:n[3],element_id:n[0].techniqueId,input_color:"#d6eaff",$$slots:{default:[R2,({R:b,filter_value_store:O,select_item:w})=>({6:b,7:O,8:w}),({R:b,filter_value_store:O,select_item:w})=>(b?64:0)|(O?128:0)|(w?256:0)]},$$scope:{ctx:n}}}),{c(){we(r.$$.fragment),e=ie(),we(t.$$.fragment),i=ie(),we(s.$$.fragment),a=ie(),l=re("div"),u=re("div"),we(o.$$.fragment),c=ie(),p=re("i"),p.textContent=h,_=ie(),g=re("input"),y=ie(),N=re("br"),B=ie(),E=re("div"),we(L.$$.fragment),A=ie(),F=re("div"),T=re("input"),this.h()},l(b){ye(r.$$.fragment,b),e=ae(b),ye(t.$$.fragment,b),i=ae(b),ye(s.$$.fragment,b),a=ae(b),l=ne(b,"DIV",{class:!0});var O=Ce(l);u=ne(O,"DIV",{class:!0});var w=Ce(u);ye(o.$$.fragment,w),c=ae(w),p=ne(w,"I",{"data-svelte-h":!0}),qe(p)!=="svelte-1x9m2lq"&&(p.textContent=h),_=ae(w),g=ne(w,"INPUT",{class:!0,type:!0,style:!0}),y=ae(w),N=ne(w,"BR",{}),B=ae(w),E=ne(w,"DIV",{});var H=Ce(E);ye(L.$$.fragment,H),H.forEach(D),A=ae(w),F=ne(w,"DIV",{});var I=Ce(F);T=ne(I,"INPUT",{class:!0,type:!0,style:!0}),I.forEach(D),w.forEach(D),O.forEach(D),this.h()},h(){ue(g,"class","nodrag sequence"),ue(g,"type","text"),xe(g,"background","#d6eaff"),g.value=C=n[0].sequence||"#",ue(T,"class","nodrag label"),ue(T,"type","text"),xe(T,"background","#d6eaff"),T.value=P=n[0].label||"< label >",ue(u,"class","node-inner"),ue(l,"class","countermeasure node svelte-cdgs6j")},m(b,O){De(r,b,O),S(b,e,O),De(t,b,O),S(b,i,O),De(s,b,O),S(b,a,O),S(b,l,O),G(l,u),De(o,u,null),G(u,c),G(u,p),G(u,_),G(u,g),G(u,y),G(u,N),G(u,B),G(u,E),De(L,E,null),G(u,A),G(u,F),G(F,T),x=!0,R||(m=[Se(g,"input",n[4]),Se(T,"input",n[5])],R=!0)},p(b,[O]){const w={};O&2&&(w.isConnectable=b[1]),r.$set(w);const H={};O&2&&(H.isConnectable=b[1]),t.$set(H);const I={};O&2&&(I.isConnectable=b[1]),s.$set(I);const V={};O&4&&(V.isVisible=b[2]),o.$set(V),(!x||O&1&&C!==(C=b[0].sequence||"#")&&g.value!==C)&&(g.value=C);const ee={};O&8&&(ee.node_id=b[3]),O&1&&(ee.element_id=b[0].techniqueId),O&896&&(ee.$$scope={dirty:O,ctx:b}),L.$set(ee),(!x||O&1&&P!==(P=b[0].label||"< label >")&&T.value!==P)&&(T.value=P)},i(b){x||(oe(r.$$.fragment,b),oe(t.$$.fragment,b),oe(s.$$.fragment,b),oe(o.$$.fragment,b),oe(L.$$.fragment,b),x=!0)},o(b){de(r.$$.fragment,b),de(t.$$.fragment,b),de(s.$$.fragment,b),de(o.$$.fragment,b),de(L.$$.fragment,b),x=!1},d(b){b&&(D(e),D(i),D(a),D(l)),Ae(r,b),Ae(t,b),Ae(s,b),Ae(o),Ae(L),R=!1,bt(m)}}}function F2(n,r,e){let{data:t}=r,{isConnectable:i}=r,{selected:s=void 0}=r,{id:a}=r;const l=o=>{e(0,t.sequence=o.currentTarget.value,t)},u=o=>{e(0,t.label=o.currentTarget.value,t)};return n.$$set=o=>{"data"in o&&e(0,t=o.data),"isConnectable"in o&&e(1,i=o.isConnectable),"selected"in o&&e(2,s=o.selected),"id"in o&&e(3,a=o.id)},[t,i,s,a,l,u]}class O2 extends We{constructor(r){super(),Qe(this,r,F2,I2,Xe,{data:0,isConnectable:1,selected:2,id:3})}}function L2(n){let r,e,t,i,s,a,l,u,o,c,p,h,_,g,C,y,N,B="Information",E,L,A,F,T,P,x,R,m;return r=new Me({props:{type:"target",position:je.Left,id:"attackLeftTarget",style:"top: 20%; background: #ffc3c7; border-width: 2px; border-color: red;",isConnectable:n[1]}}),t=new Me({props:{type:"target",position:je.Right,id:"defenseRightTarget",style:"top: 20%; background: #8ac3ff; border-width: 2px; border-color: #062f4f;",isConnectable:n[1]}}),s=new Me({props:{type:"target",position:je.Left,id:"vulnerabilityLeftTarget",style:"top: 50%; border-color: orange; border-width: 2px; background: #f9d999;",isConnectable:n[1]}}),l=new Me({props:{type:"target",position:je.Top,id:"artTopTarget",style:"background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:n[1]}}),o=new Me({props:{type:"target",position:je.Left,id:"artLeftTarget",style:"top: 80%; background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:n[1]}}),p=new Me({props:{type:"source",position:je.Bottom,id:"artBottomSource",style:"border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:n[1]}}),_=new Me({props:{type:"source",position:je.Right,id:"artRightSource",style:"top: 80%; border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:n[1]}}),A=new Br({props:{isVisible:n[2]}}),{c(){we(r.$$.fragment),e=ie(),we(t.$$.fragment),i=ie(),we(s.$$.fragment),a=ie(),we(l.$$.fragment),u=ie(),we(o.$$.fragment),c=ie(),we(p.$$.fragment),h=ie(),we(_.$$.fragment),g=ie(),C=re("div"),y=re("div"),N=re("i"),N.textContent=B,E=re("br"),L=ie(),we(A.$$.fragment),F=ie(),T=re("input"),this.h()},l(b){ye(r.$$.fragment,b),e=ae(b),ye(t.$$.fragment,b),i=ae(b),ye(s.$$.fragment,b),a=ae(b),ye(l.$$.fragment,b),u=ae(b),ye(o.$$.fragment,b),c=ae(b),ye(p.$$.fragment,b),h=ae(b),ye(_.$$.fragment,b),g=ae(b),C=ne(b,"DIV",{class:!0});var O=Ce(C);y=ne(O,"DIV",{class:!0});var w=Ce(y);N=ne(w,"I",{"data-svelte-h":!0}),qe(N)!=="svelte-1ocpiyk"&&(N.textContent=B),E=ne(w,"BR",{}),L=ae(w),ye(A.$$.fragment,w),F=ae(w),T=ne(w,"INPUT",{class:!0,type:!0,style:!0}),w.forEach(D),O.forEach(D),this.h()},h(){ue(T,"class","nodrag label"),ue(T,"type","text"),xe(T,"background","#e8f4ea"),T.value=P=n[0].label||"< label >",ue(y,"class","information node-inner svelte-1wgy9qw"),ue(C,"class","information node svelte-1wgy9qw")},m(b,O){De(r,b,O),S(b,e,O),De(t,b,O),S(b,i,O),De(s,b,O),S(b,a,O),De(l,b,O),S(b,u,O),De(o,b,O),S(b,c,O),De(p,b,O),S(b,h,O),De(_,b,O),S(b,g,O),S(b,C,O),G(C,y),G(y,N),G(y,E),G(y,L),De(A,y,null),G(y,F),G(y,T),x=!0,R||(m=Se(T,"input",n[3]),R=!0)},p(b,[O]){const w={};O&2&&(w.isConnectable=b[1]),r.$set(w);const H={};O&2&&(H.isConnectable=b[1]),t.$set(H);const I={};O&2&&(I.isConnectable=b[1]),s.$set(I);const V={};O&2&&(V.isConnectable=b[1]),l.$set(V);const ee={};O&2&&(ee.isConnectable=b[1]),o.$set(ee);const Q={};O&2&&(Q.isConnectable=b[1]),p.$set(Q);const q={};O&2&&(q.isConnectable=b[1]),_.$set(q);const M={};O&4&&(M.isVisible=b[2]),A.$set(M),(!x||O&1&&P!==(P=b[0].label||"< label >")&&T.value!==P)&&(T.value=P)},i(b){x||(oe(r.$$.fragment,b),oe(t.$$.fragment,b),oe(s.$$.fragment,b),oe(l.$$.fragment,b),oe(o.$$.fragment,b),oe(p.$$.fragment,b),oe(_.$$.fragment,b),oe(A.$$.fragment,b),x=!0)},o(b){de(r.$$.fragment,b),de(t.$$.fragment,b),de(s.$$.fragment,b),de(l.$$.fragment,b),de(o.$$.fragment,b),de(p.$$.fragment,b),de(_.$$.fragment,b),de(A.$$.fragment,b),x=!1},d(b){b&&(D(e),D(i),D(a),D(u),D(c),D(h),D(g),D(C)),Ae(r,b),Ae(t,b),Ae(s,b),Ae(l,b),Ae(o,b),Ae(p,b),Ae(_,b),Ae(A),R=!1,m()}}}function B2(n,r,e){let{data:t}=r,{isConnectable:i}=r,{selected:s=void 0}=r;const a=l=>{e(0,t.label=l.currentTarget.value,t)};return n.$$set=l=>{"data"in l&&e(0,t=l.data),"isConnectable"in l&&e(1,i=l.isConnectable),"selected"in l&&e(2,s=l.selected)},[t,i,s,a]}class x2 extends We{constructor(r){super(),Qe(this,r,B2,L2,Xe,{data:0,isConnectable:1,selected:2})}}function q2(n){let r,e,t,i,s,a,l,u,o,c,p,h,_,g,C,y,N,B="Condition",E,L,A,F,T,P,x;return r=new Me({props:{type:"target",position:je.Left,id:"attackLeftTarget",style:"top: 20%; background: #ffc3c7; border-width: 2px; border-color: red;",isConnectable:n[1]}}),t=new Me({props:{type:"target",position:je.Right,id:"defenseRightTarget",style:"top: 20%; background: #8ac3ff; border-width: 2px; border-color: #062f4f;",isConnectable:n[1]}}),s=new Me({props:{type:"target",position:je.Top,id:"artTopTarget",style:"background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:n[1]}}),l=new Me({props:{type:"target",position:je.Left,id:"artLeftTarget",style:"top: 80%; background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:n[1]}}),o=new Me({props:{type:"source",position:je.Bottom,id:"artBottomSource",style:"border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:n[1]}}),p=new Me({props:{type:"source",position:je.Right,id:"artRightSource",style:"top: 80%; border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:n[1]}}),C=new Br({props:{isVisible:n[2]}}),{c(){we(r.$$.fragment),e=ie(),we(t.$$.fragment),i=ie(),we(s.$$.fragment),a=ie(),we(l.$$.fragment),u=ie(),we(o.$$.fragment),c=ie(),we(p.$$.fragment),h=ie(),_=re("div"),g=re("div"),we(C.$$.fragment),y=ie(),N=re("i"),N.textContent=B,E=re("br"),L=ie(),A=re("input"),this.h()},l(R){ye(r.$$.fragment,R),e=ae(R),ye(t.$$.fragment,R),i=ae(R),ye(s.$$.fragment,R),a=ae(R),ye(l.$$.fragment,R),u=ae(R),ye(o.$$.fragment,R),c=ae(R),ye(p.$$.fragment,R),h=ae(R),_=ne(R,"DIV",{class:!0});var m=Ce(_);g=ne(m,"DIV",{class:!0});var b=Ce(g);ye(C.$$.fragment,b),y=ae(b),N=ne(b,"I",{"data-svelte-h":!0}),qe(N)!=="svelte-26somz"&&(N.textContent=B),E=ne(b,"BR",{}),L=ae(b),A=ne(b,"INPUT",{class:!0,type:!0,style:!0}),b.forEach(D),m.forEach(D),this.h()},h(){ue(A,"class","nodrag label"),ue(A,"type","text"),xe(A,"background","#ece6ff"),A.value=F=n[0].label||"< label >",ue(g,"class","artifact node-inner svelte-1eh3b8a"),ue(_,"class","artifact node svelte-1eh3b8a")},m(R,m){De(r,R,m),S(R,e,m),De(t,R,m),S(R,i,m),De(s,R,m),S(R,a,m),De(l,R,m),S(R,u,m),De(o,R,m),S(R,c,m),De(p,R,m),S(R,h,m),S(R,_,m),G(_,g),De(C,g,null),G(g,y),G(g,N),G(g,E),G(g,L),G(g,A),T=!0,P||(x=Se(A,"input",n[3]),P=!0)},p(R,[m]){const b={};m&2&&(b.isConnectable=R[1]),r.$set(b);const O={};m&2&&(O.isConnectable=R[1]),t.$set(O);const w={};m&2&&(w.isConnectable=R[1]),s.$set(w);const H={};m&2&&(H.isConnectable=R[1]),l.$set(H);const I={};m&2&&(I.isConnectable=R[1]),o.$set(I);const V={};m&2&&(V.isConnectable=R[1]),p.$set(V);const ee={};m&4&&(ee.isVisible=R[2]),C.$set(ee),(!T||m&1&&F!==(F=R[0].label||"< label >")&&A.value!==F)&&(A.value=F)},i(R){T||(oe(r.$$.fragment,R),oe(t.$$.fragment,R),oe(s.$$.fragment,R),oe(l.$$.fragment,R),oe(o.$$.fragment,R),oe(p.$$.fragment,R),oe(C.$$.fragment,R),T=!0)},o(R){de(r.$$.fragment,R),de(t.$$.fragment,R),de(s.$$.fragment,R),de(l.$$.fragment,R),de(o.$$.fragment,R),de(p.$$.fragment,R),de(C.$$.fragment,R),T=!1},d(R){R&&(D(e),D(i),D(a),D(u),D(c),D(h),D(_)),Ae(r,R),Ae(t,R),Ae(s,R),Ae(l,R),Ae(o,R),Ae(p,R),Ae(C),P=!1,x()}}}function M2(n,r,e){let{data:t}=r,{isConnectable:i}=r,{selected:s=void 0}=r;const a=l=>{e(0,t.label=l.currentTarget.value,t)};return n.$$set=l=>{"data"in l&&e(0,t=l.data),"isConnectable"in l&&e(1,i=l.isConnectable),"selected"in l&&e(2,s=l.selected)},[t,i,s,a]}class j2 extends We{constructor(r){super(),Qe(this,r,M2,q2,Xe,{data:0,isConnectable:1,selected:2})}}function P2(n){let r,e,t,i,s,a,l,u,o,c,p,h,_,g,C,y,N,B="Agent",E,L,A,F,T,P,x,R,m;return r=new Me({props:{type:"target",position:je.Left,id:"attackLeftTarget",style:"top: 20%; background: #ffc3c7; border-width: 2px; border-color: red;",isConnectable:n[1]}}),t=new Me({props:{type:"target",position:je.Right,id:"defenseRightTarget",style:"top: 20%; background: #8ac3ff; border-width: 2px; border-color: #062f4f;",isConnectable:n[1]}}),s=new Me({props:{type:"target",position:je.Left,id:"vulnerabilityLeftTarget",style:"top: 50%; border-color: orange; border-width: 2px; background: #f9d999;",isConnectable:n[1]}}),l=new Me({props:{type:"target",position:je.Top,id:"artTopTarget",style:"background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:n[1]}}),o=new Me({props:{type:"target",position:je.Left,id:"artLeftTarget",style:"top: 80%; background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:n[1]}}),p=new Me({props:{type:"source",position:je.Bottom,id:"artBottomSource",style:"border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:n[1]}}),_=new Me({props:{type:"source",position:je.Right,id:"artRightSource",style:"top: 80%; border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:n[1]}}),A=new Br({props:{isVisible:n[2]}}),{c(){we(r.$$.fragment),e=ie(),we(t.$$.fragment),i=ie(),we(s.$$.fragment),a=ie(),we(l.$$.fragment),u=ie(),we(o.$$.fragment),c=ie(),we(p.$$.fragment),h=ie(),we(_.$$.fragment),g=ie(),C=re("div"),y=re("div"),N=re("i"),N.textContent=B,E=re("br"),L=ie(),we(A.$$.fragment),F=ie(),T=re("input"),this.h()},l(b){ye(r.$$.fragment,b),e=ae(b),ye(t.$$.fragment,b),i=ae(b),ye(s.$$.fragment,b),a=ae(b),ye(l.$$.fragment,b),u=ae(b),ye(o.$$.fragment,b),c=ae(b),ye(p.$$.fragment,b),h=ae(b),ye(_.$$.fragment,b),g=ae(b),C=ne(b,"DIV",{class:!0});var O=Ce(C);y=ne(O,"DIV",{class:!0});var w=Ce(y);N=ne(w,"I",{"data-svelte-h":!0}),qe(N)!=="svelte-13s1fb"&&(N.textContent=B),E=ne(w,"BR",{}),L=ae(w),ye(A.$$.fragment,w),F=ae(w),T=ne(w,"INPUT",{class:!0,type:!0,style:!0}),w.forEach(D),O.forEach(D),this.h()},h(){ue(T,"class","nodrag label"),ue(T,"type","text"),xe(T,"background","#f0e6e6"),T.value=P=n[0].label||"< label >",ue(y,"class","agent-inner node-inner"),ue(C,"class","agent node svelte-1oygiws")},m(b,O){De(r,b,O),S(b,e,O),De(t,b,O),S(b,i,O),De(s,b,O),S(b,a,O),De(l,b,O),S(b,u,O),De(o,b,O),S(b,c,O),De(p,b,O),S(b,h,O),De(_,b,O),S(b,g,O),S(b,C,O),G(C,y),G(y,N),G(y,E),G(y,L),De(A,y,null),G(y,F),G(y,T),x=!0,R||(m=Se(T,"input",n[3]),R=!0)},p(b,[O]){const w={};O&2&&(w.isConnectable=b[1]),r.$set(w);const H={};O&2&&(H.isConnectable=b[1]),t.$set(H);const I={};O&2&&(I.isConnectable=b[1]),s.$set(I);const V={};O&2&&(V.isConnectable=b[1]),l.$set(V);const ee={};O&2&&(ee.isConnectable=b[1]),o.$set(ee);const Q={};O&2&&(Q.isConnectable=b[1]),p.$set(Q);const q={};O&2&&(q.isConnectable=b[1]),_.$set(q);const M={};O&4&&(M.isVisible=b[2]),A.$set(M),(!x||O&1&&P!==(P=b[0].label||"< label >")&&T.value!==P)&&(T.value=P)},i(b){x||(oe(r.$$.fragment,b),oe(t.$$.fragment,b),oe(s.$$.fragment,b),oe(l.$$.fragment,b),oe(o.$$.fragment,b),oe(p.$$.fragment,b),oe(_.$$.fragment,b),oe(A.$$.fragment,b),x=!0)},o(b){de(r.$$.fragment,b),de(t.$$.fragment,b),de(s.$$.fragment,b),de(l.$$.fragment,b),de(o.$$.fragment,b),de(p.$$.fragment,b),de(_.$$.fragment,b),de(A.$$.fragment,b),x=!1},d(b){b&&(D(e),D(i),D(a),D(u),D(c),D(h),D(g),D(C)),Ae(r,b),Ae(t,b),Ae(s,b),Ae(l,b),Ae(o,b),Ae(p,b),Ae(_,b),Ae(A),R=!1,m()}}}function U2(n,r,e){let{data:t}=r,{isConnectable:i}=r,{selected:s=void 0}=r;const a=l=>{e(0,t.label=l.currentTarget.value,t)};return n.$$set=l=>{"data"in l&&e(0,t=l.data),"isConnectable"in l&&e(1,i=l.isConnectable),"selected"in l&&e(2,s=l.selected)},[t,i,s,a]}class $2 extends We{constructor(r){super(),Qe(this,r,U2,P2,Xe,{data:0,isConnectable:1,selected:2})}}function V2(n){let r,e;return r=new n[7].ItemTree({props:{list:jo,filter_value_store:n[8],select_item:n[9]}}),{c(){we(r.$$.fragment)},l(t){ye(r.$$.fragment,t)},m(t,i){De(r,t,i),e=!0},p(t,i){const s={};i&256&&(s.filter_value_store=t[8]),i&512&&(s.select_item=t[9]),r.$set(s)},i(t){e||(oe(r.$$.fragment,t),e=!0)},o(t){de(r.$$.fragment,t),e=!1},d(t){Ae(r,t)}}}function H2(n){let r,e,t,i,s,a,l,u,o,c,p,h,_,g,C,y,N,B,E,L,A,F,T,P,x,R,m,b,O,w,H;return r=new Me({props:{type:"target",position:je.Left,id:"attackLeftTarget",style:"top: 20%; background: #ffc3c7; border-width: 2px; border-color: red;",isConnectable:n[1]}}),t=new Me({props:{type:"target",position:je.Right,id:"defenseRightTarget",style:"top: 20%; background: #8ac3ff; border-width: 2px; border-color: #062f4f;",isConnectable:n[1]}}),s=new Me({props:{type:"target",position:je.Left,id:"vulnerabilityLeftTarget",style:"top: 50%; border-color: orange; border-width: 2px; background: #f9d999;",isConnectable:n[1]}}),l=new Me({props:{type:"target",position:je.Top,id:"artTopTarget",style:"background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:n[1]}}),o=new Me({props:{type:"target",position:je.Left,id:"artLeftTarget",style:"top: 80%; background: #fff4dd; border-width: 2px; border-color: #ffdb91;",isConnectable:n[1]}}),p=new Me({props:{type:"source",position:je.Bottom,id:"artBottomSource",style:"border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:n[1]}}),_=new Me({props:{type:"source",position:je.Right,id:"artRightSource",style:"top: 80%; border-color: #fff4dd; border-width: 2px; background: #ffdb91;",isConnectable:n[1]}}),N=new Br({props:{isVisible:n[4]}}),x=new _i({props:{node_id:n[2],element_id:n[0].techniqueId,input_color:"white",$$slots:{default:[V2,({R:I,filter_value_store:V,select_item:ee})=>({7:I,8:V,9:ee}),({R:I,filter_value_store:V,select_item:ee})=>(I?128:0)|(V?256:0)|(ee?512:0)]},$$scope:{ctx:n}}}),{c(){we(r.$$.fragment),e=ie(),we(t.$$.fragment),i=ie(),we(s.$$.fragment),a=ie(),we(l.$$.fragment),u=ie(),we(o.$$.fragment),c=ie(),we(p.$$.fragment),h=ie(),we(_.$$.fragment),g=ie(),C=re("div"),y=re("div"),we(N.$$.fragment),B=ie(),E=re("i"),L=U(n[3]),A=re("br"),F=ie(),T=re("br"),P=ie(),we(x.$$.fragment),R=ie(),m=re("input"),this.h()},l(I){ye(r.$$.fragment,I),e=ae(I),ye(t.$$.fragment,I),i=ae(I),ye(s.$$.fragment,I),a=ae(I),ye(l.$$.fragment,I),u=ae(I),ye(o.$$.fragment,I),c=ae(I),ye(p.$$.fragment,I),h=ae(I),ye(_.$$.fragment,I),g=ae(I),C=ne(I,"DIV",{class:!0});var V=Ce(C);y=ne(V,"DIV",{class:!0});var ee=Ce(y);ye(N.$$.fragment,ee),B=ae(ee),E=ne(ee,"I",{});var Q=Ce(E);L=$(Q,n[3]),Q.forEach(D),A=ne(ee,"BR",{}),F=ae(ee),T=ne(ee,"BR",{}),P=ae(ee),ye(x.$$.fragment,ee),R=ae(ee),m=ne(ee,"INPUT",{class:!0,type:!0,style:!0}),ee.forEach(D),V.forEach(D),this.h()},h(){ue(m,"class","nodrag label"),ue(m,"type","text"),xe(m,"background","white"),m.value=b=n[0].label||"< label >",ue(y,"class","event node-inner svelte-r7gabh"),ue(C,"class","event node svelte-r7gabh")},m(I,V){De(r,I,V),S(I,e,V),De(t,I,V),S(I,i,V),De(s,I,V),S(I,a,V),De(l,I,V),S(I,u,V),De(o,I,V),S(I,c,V),De(p,I,V),S(I,h,V),De(_,I,V),S(I,g,V),S(I,C,V),G(C,y),De(N,y,null),G(y,B),G(y,E),G(E,L),G(y,A),G(y,F),G(y,T),G(y,P),De(x,y,null),G(y,R),G(y,m),O=!0,w||(H=Se(m,"input",n[6]),w=!0)},p(I,[V]){const ee={};V&2&&(ee.isConnectable=I[1]),r.$set(ee);const Q={};V&2&&(Q.isConnectable=I[1]),t.$set(Q);const q={};V&2&&(q.isConnectable=I[1]),s.$set(q);const M={};V&2&&(M.isConnectable=I[1]),l.$set(M);const le={};V&2&&(le.isConnectable=I[1]),o.$set(le);const K={};V&2&&(K.isConnectable=I[1]),p.$set(K);const he={};V&2&&(he.isConnectable=I[1]),_.$set(he);const fe={};V&16&&(fe.isVisible=I[4]),N.$set(fe),(!O||V&8)&&pe(L,I[3]);const me={};V&4&&(me.node_id=I[2]),V&1&&(me.element_id=I[0].techniqueId),V&1792&&(me.$$scope={dirty:V,ctx:I}),x.$set(me),(!O||V&1&&b!==(b=I[0].label||"< label >")&&m.value!==b)&&(m.value=b)},i(I){O||(oe(r.$$.fragment,I),oe(t.$$.fragment,I),oe(s.$$.fragment,I),oe(l.$$.fragment,I),oe(o.$$.fragment,I),oe(p.$$.fragment,I),oe(_.$$.fragment,I),oe(N.$$.fragment,I),oe(x.$$.fragment,I),O=!0)},o(I){de(r.$$.fragment,I),de(t.$$.fragment,I),de(s.$$.fragment,I),de(l.$$.fragment,I),de(o.$$.fragment,I),de(p.$$.fragment,I),de(_.$$.fragment,I),de(N.$$.fragment,I),de(x.$$.fragment,I),O=!1},d(I){I&&(D(e),D(i),D(a),D(u),D(c),D(h),D(g),D(C)),Ae(r,I),Ae(t,I),Ae(s,I),Ae(l,I),Ae(o,I),Ae(p,I),Ae(_,I),Ae(N),Ae(x),w=!1,H()}}}function z2(n,r,e){let{data:t}=r,{isConnectable:i}=r,{id:s}=r,{nodeType:a="EventNode"}=r,{nodeTypeLabel:l="Event"}=r,{selected:u=void 0}=r;const o=c=>{e(0,t.label=c.currentTarget.value,t)};return n.$$set=c=>{"data"in c&&e(0,t=c.data),"isConnectable"in c&&e(1,i=c.isConnectable),"id"in c&&e(2,s=c.id),"nodeType"in c&&e(5,a=c.nodeType),"nodeTypeLabel"in c&&e(3,l=c.nodeTypeLabel),"selected"in c&&e(4,u=c.selected)},[t,i,s,l,u,a,o]}class X2 extends We{constructor(r){super(),Qe(this,r,z2,H2,Xe,{data:0,isConnectable:1,id:2,nodeType:5,nodeTypeLabel:3,selected:4})}}function G2(n){let r,e,t,i=`translate(-50%, -50%) translate(${n[4]}px,${n[3]}px)`,s,a;return{c(){r=re("div"),e=re("input"),this.h()},l(l){r=ne(l,"DIV",{class:!0});var u=Ce(r);e=ne(u,"INPUT",{class:!0,type:!0,style:!0}),u.forEach(D),this.h()},h(){ue(e,"class","nodrag nopan edge-label-text svelte-770c5k"),ue(e,"type","text"),xe(e,"text-align","center"),xe(e,"font-weight","bold"),e.value=t=n[0].label,ue(r,"class","edge-label-container svelte-770c5k"),xe(r,"transform",i)},m(l,u){S(l,r,u),G(r,e),s||(a=Se(e,"input",n[12]),s=!0)},p(l,u){u&1&&t!==(t=l[0].label)&&e.value!==t&&(e.value=t),u&24&&i!==(i=`translate(-50%, -50%) translate(${l[4]}px,${l[3]}px)`)&&xe(r,"transform",i)},d(l){l&&D(r),s=!1,a()}}}function W2(n){let r,e,t,i;return r=new yh({props:{path:n[5],markerEnd:n[1],style:n[2]}}),t=new Dh({props:{$$slots:{default:[G2]},$$scope:{ctx:n}}}),{c(){we(r.$$.fragment),e=ie(),we(t.$$.fragment)},l(s){ye(r.$$.fragment,s),e=ae(s),ye(t.$$.fragment,s)},m(s,a){De(r,s,a),S(s,e,a),De(t,s,a),i=!0},p(s,[a]){const l={};a&32&&(l.path=s[5]),a&2&&(l.markerEnd=s[1]),a&4&&(l.style=s[2]),r.$set(l);const u={};a&8217&&(u.$$scope={dirty:a,ctx:s}),t.$set(u)},i(s){i||(oe(r.$$.fragment,s),oe(t.$$.fragment,s),i=!0)},o(s){de(r.$$.fragment,s),de(t.$$.fragment,s),i=!1},d(s){s&&D(e),Ae(r,s),Ae(t,s)}}}function Q2(n,r,e){let t,i,s,{data:a}=r,{sourceX:l}=r,{sourceY:u}=r,{sourcePosition:o}=r,{targetX:c}=r,{targetY:p}=r,{targetPosition:h}=r,{markerEnd:_=ts.ArrowClosed}=r,{style:g=void 0}=r;const C=y=>{e(0,a.label=y.currentTarget.value,a)};return n.$$set=y=>{"data"in y&&e(0,a=y.data),"sourceX"in y&&e(6,l=y.sourceX),"sourceY"in y&&e(7,u=y.sourceY),"sourcePosition"in y&&e(8,o=y.sourcePosition),"targetX"in y&&e(9,c=y.targetX),"targetY"in y&&e(10,p=y.targetY),"targetPosition"in y&&e(11,h=y.targetPosition),"markerEnd"in y&&e(1,_=y.markerEnd),"style"in y&&e(2,g=y.style)},n.$$.update=()=>{n.$$.dirty&4032&&e(5,[t,i,s]=Ah({sourceX:l,sourceY:u,sourcePosition:o,targetX:c,targetY:p,targetPosition:h}),t,(e(4,i),e(6,l),e(7,u),e(8,o),e(9,c),e(10,p),e(11,h)),(e(3,s),e(6,l),e(7,u),e(8,o),e(9,c),e(10,p),e(11,h)))},[a,_,g,s,i,t,l,u,o,c,p,h,C]}class Y2 extends We{constructor(r){super(),Qe(this,r,Q2,W2,Xe,{data:0,sourceX:6,sourceY:7,sourcePosition:8,targetX:9,targetY:10,targetPosition:11,markerEnd:1,style:2})}}function Co(n,r,e){const t=n.slice();return t[7]=r[e],t}function ko(n){let r,e=ze(n[2]),t=[];for(let i=0;i<e.length;i+=1)t[i]=No(Co(n,e,i));return{c(){r=re("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){r=ne(i,"DIV",{class:!0});var s=Ce(r);for(let a=0;a<t.length;a+=1)t[a].l(s);s.forEach(D),this.h()},h(){ue(r,"class","file-list svelte-9u10j")},m(i,s){S(i,r,s);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(r,null)},p(i,s){if(s&20){e=ze(i[2]);let a;for(a=0;a<e.length;a+=1){const l=Co(i,e,a);t[a]?t[a].p(l,s):(t[a]=No(l),t[a].c(),t[a].m(r,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=e.length}},d(i){i&&D(r),Lt(t,i)}}}function No(n){let r,e=n[7].name+"",t,i,s=n[7].nodeCount+"",a,l,u=n[7].edgeCount+"",o,c,p,h;function _(){return n[5](n[7])}return{c(){r=re("div"),t=U(e),i=U(" ("),a=U(s),l=U(" nodes, "),o=U(u),c=U(` edges)
          `),this.h()},l(g){r=ne(g,"DIV",{class:!0});var C=Ce(r);t=$(C,e),i=$(C," ("),a=$(C,s),l=$(C," nodes, "),o=$(C,u),c=$(C,` edges)
          `),C.forEach(D),this.h()},h(){ue(r,"class","file-item svelte-9u10j")},m(g,C){S(g,r,C),G(r,t),G(r,i),G(r,a),G(r,l),G(r,o),G(r,c),p||(h=Se(r,"click",_),p=!0)},p(g,C){n=g,C&4&&e!==(e=n[7].name+"")&&pe(t,e),C&4&&s!==(s=n[7].nodeCount+"")&&pe(a,s),C&4&&u!==(u=n[7].edgeCount+"")&&pe(o,u)},d(g){g&&D(r),p=!1,h()}}}function J2(n){let r,e,t,i,s,a,l=n[1]&&ko(n);return{c(){r=re("div"),e=re("button"),t=U(n[0]),i=ie(),l&&l.c(),this.h()},l(u){r=ne(u,"DIV",{class:!0});var o=Ce(r);e=ne(o,"BUTTON",{class:!0});var c=Ce(e);t=$(c,n[0]),c.forEach(D),i=ae(o),l&&l.l(o),o.forEach(D),this.h()},h(){ue(e,"class","svelte-9u10j"),ue(r,"class","pick-list-container svelte-9u10j")},m(u,o){S(u,r,o),G(r,e),G(e,t),G(r,i),l&&l.m(r,null),s||(a=Se(e,"click",n[3]),s=!0)},p(u,[o]){o&1&&pe(t,u[0]),u[1]?l?l.p(u,o):(l=ko(u),l.c(),l.m(r,null)):l&&(l.d(1),l=null)},i:Be,o:Be,d(u){u&&D(r),l&&l.d(),s=!1,a()}}}async function Z2(){return await(await fetch("/cad/examples.json")).json()}function K2(n,r,e){const t=Ro();let i=!1,{selectedFile:s="Example Graphs"}=r,a=[];function l(){e(1,i=!i)}function u(c){e(0,s=c),e(1,i=!1),t("fileSelected",c)}Ka(async()=>{e(2,a=await Z2())});const o=c=>u(c.name);return n.$$set=c=>{"selectedFile"in c&&e(0,s=c.selectedFile)},[s,i,a,l,u,o]}class ev extends We{constructor(r){super(),Qe(this,r,K2,J2,Xe,{selectedFile:0})}}function tv(n){let r;return{c(){r=U("Please only load models from URLs you trust!")},l(e){r=$(e,"Please only load models from URLs you trust!")},m(e,t){S(e,r,t)},d(e){e&&D(r)}}}function rv(n){let r,e,t,i,s,a,l,u,o,c,p;return c=new Io({props:{$$slots:{default:[tv]},$$scope:{ctx:n}}}),{c(){r=re("br"),e=ie(),t=re("code"),i=U(n[2]),s=ie(),a=re("br"),l=ie(),u=re("br"),o=ie(),we(c.$$.fragment),this.h()},l(h){r=ne(h,"BR",{}),e=ae(h),t=ne(h,"CODE",{class:!0});var _=Ce(t);i=$(_,n[2]),_.forEach(D),s=ae(h),a=ne(h,"BR",{}),l=ae(h),u=ne(h,"BR",{}),o=ae(h),ye(c.$$.fragment,h),this.h()},h(){ue(t,"class","center text-center")},m(h,_){S(h,r,_),S(h,e,_),S(h,t,_),G(t,i),S(h,s,_),S(h,a,_),S(h,l,_),S(h,u,_),S(h,o,_),De(c,h,_),p=!0},p(h,_){(!p||_[0]&4)&&pe(i,h[2]);const g={};_[1]&1024&&(g.$$scope={dirty:_,ctx:h}),c.$set(g)},i(h){p||(oe(c.$$.fragment,h),p=!0)},o(h){de(c.$$.fragment,h),p=!1},d(h){h&&(D(r),D(e),D(t),D(s),D(a),D(l),D(u),D(o)),Ae(c,h)}}}function nv(n){let r,e='This is an (very) alpha-level preview release. Please review and file bugs <a href="https://github.com/d3fend/d3fend/issues/14">here.</a>';return{c(){r=re("div"),r.innerHTML=e,this.h()},l(t){r=ne(t,"DIV",{class:!0,"data-svelte-h":!0}),qe(r)!=="svelte-p14f9f"&&(r.innerHTML=e),this.h()},h(){ue(r,"class","font-medium")},m(t,i){S(t,r,i)},p:Be,d(t){t&&D(r)}}}function So(n){let r,e;return r=new r2({props:{id:n[7].id,top:n[7].top,left:n[7].left,right:n[7].right,bottom:n[7].bottom}}),{c(){we(r.$$.fragment)},l(t){ye(r.$$.fragment,t)},m(t,i){De(r,t,i),e=!0},p(t,i){const s={};i[0]&128&&(s.id=t[7].id),i[0]&128&&(s.top=t[7].top),i[0]&128&&(s.left=t[7].left),i[0]&128&&(s.right=t[7].right),i[0]&128&&(s.bottom=t[7].bottom),r.$set(s)},i(t){e||(oe(r.$$.fragment,t),e=!0)},o(t){de(r.$$.fragment,t),e=!1},d(t){Ae(r,t)}}}function iv(n){let r,e,t,i,s,a,l;r=new Th({props:{position:"top-left"}}),t=new Ch({props:{variant:kh.Dots}});let u=n[7]&&So(n);return a=new Nh({props:{position:"top-right"}}),{c(){we(r.$$.fragment),e=ie(),we(t.$$.fragment),i=ie(),u&&u.c(),s=ie(),we(a.$$.fragment)},l(o){ye(r.$$.fragment,o),e=ae(o),ye(t.$$.fragment,o),i=ae(o),u&&u.l(o),s=ae(o),ye(a.$$.fragment,o)},m(o,c){De(r,o,c),S(o,e,c),De(t,o,c),S(o,i,c),u&&u.m(o,c),S(o,s,c),De(a,o,c),l=!0},p(o,c){o[7]?u?(u.p(o,c),c[0]&128&&oe(u,1)):(u=So(o),u.c(),oe(u,1),u.m(s.parentNode,s)):u&&(Et(),de(u,1,1,()=>{u=null}),Tt())},i(o){l||(oe(r.$$.fragment,o),oe(t.$$.fragment,o),oe(u),oe(a.$$.fragment,o),l=!0)},o(o){de(r.$$.fragment,o),de(t.$$.fragment,o),de(u),de(a.$$.fragment,o),l=!1},d(o){o&&(D(e),D(i),D(s)),Ae(r,o),Ae(t,o),u&&u.d(o),Ae(a,o)}}}function av(n){let r,e,t,i,s,a,l,u='D3FEND <span class="snakes">☤</span> <span class="CAD"><span style="color:#e62929;">C</span><span class="A" style="color:white;text-border:1px;">A</span><span style="color:blue;">D</span></span>',o,c,p="<i>Cyber Attack-Defense Utility for Capturing Engagements and Understandable Scenarios</i>",h,_,g,C,y,N,B,E,L,A,F,T,P,x="Load",R,m,b="Merge",O,w,H="Clear",I,V,ee="Save",Q,q,M,le="Save As...",K,he="Save As JSON...",fe,me="Save As Turtle...",te,ce,J,ve,Fe,$e,Pe,_e,Te,At,Ut,Nr;function ln(Ie){n[23](Ie)}let Sr={title:n[3].title,content:n[3].content,options:n[3].options,$$slots:{default:[rv]},$$scope:{ctx:n}};n[3].isOpen!==void 0&&(Sr.isOpen=n[3].isOpen),r=new a2({props:Sr}),Dt.push(()=>or(r,"isOpen",ln)),r.$on("optionSelected",n[10]),C=new Io({props:{$$slots:{default:[nv]},$$scope:{ctx:n}}});function un(Ie){n[24](Ie)}let _r={};return n[6]!==void 0&&(_r.selectedFile=n[6]),B=new ev({props:_r}),Dt.push(()=>or(B,"selectedFile",un)),B.$on("fileSelected",n[19]),$e=new Eh({props:{nodes:An,nodeTypes:n[0],edges:ii,edgeTypes:n[1],fitView:!0,defaultEdgeOptions:n[11],$$slots:{default:[iv]},$$scope:{ctx:n}}}),$e.$on("dragover",n[16]),$e.$on("drop",n[18]),$e.$on("connect",n[17]),$e.$on("nodecontextmenu",n[21]),$e.$on("paneclick",n[22]),$e.$on("onedgecreate",sv),_e=new u2({}),{c(){we(r.$$.fragment),t=ie(),i=re("div"),s=re("div"),a=re("div"),l=re("h1"),l.innerHTML=u,o=ie(),c=re("div"),c.innerHTML=p,h=ie(),_=re("br"),g=ie(),we(C.$$.fragment),y=ie(),N=re("div"),we(B.$$.fragment),L=ie(),A=re("br"),F=ie(),T=re("div"),P=re("button"),P.textContent=x,R=ie(),m=re("button"),m.textContent=b,O=ie(),w=re("button"),w.textContent=H,I=ie(),V=re("button"),V.textContent=ee,Q=ie(),q=re("select"),M=re("option"),M.textContent=le,K=re("option"),K.textContent=he,fe=re("option"),fe.textContent=me,te=U(`
        current filename: `),ce=U(n[4]),J=ie(),ve=re("main"),Fe=re("div"),we($e.$$.fragment),Pe=ie(),we(_e.$$.fragment),this.h()},l(Ie){ye(r.$$.fragment,Ie),t=ae(Ie),i=ne(Ie,"DIV",{class:!0});var Ve=Ce(i);s=ne(Ve,"DIV",{style:!0});var It=Ce(s);a=ne(It,"DIV",{style:!0});var dt=Ce(a);l=ne(dt,"H1",{class:!0,"data-svelte-h":!0}),qe(l)!=="svelte-1hfeq8z"&&(l.innerHTML=u),o=ae(dt),c=ne(dt,"DIV",{style:!0,"data-svelte-h":!0}),qe(c)!=="svelte-1adqejh"&&(c.innerHTML=p),h=ae(dt),_=ne(dt,"BR",{}),g=ae(dt),ye(C.$$.fragment,dt),dt.forEach(D),It.forEach(D),Ve.forEach(D),y=ae(Ie),N=ne(Ie,"DIV",{class:!0});var $t=Ce(N);ye(B.$$.fragment,$t),$t.forEach(D),L=ae(Ie),A=ne(Ie,"BR",{}),F=ae(Ie),T=ne(Ie,"DIV",{class:!0});var ut=Ce(T);P=ne(ut,"BUTTON",{class:!0,"data-svelte-h":!0}),qe(P)!=="svelte-r4end6"&&(P.textContent=x),R=ae(ut),m=ne(ut,"BUTTON",{class:!0,"data-svelte-h":!0}),qe(m)!=="svelte-1s1l97g"&&(m.textContent=b),O=ae(ut),w=ne(ut,"BUTTON",{class:!0,"data-svelte-h":!0}),qe(w)!=="svelte-1o4uly3"&&(w.textContent=H),I=ae(ut),V=ne(ut,"BUTTON",{class:!0,"data-svelte-h":!0}),qe(V)!=="svelte-qm8vdx"&&(V.textContent=ee),Q=ae(ut),q=ne(ut,"SELECT",{class:!0});var Qt=Ce(q);M=ne(Qt,"OPTION",{"data-svelte-h":!0}),qe(M)!=="svelte-hmrlsb"&&(M.textContent=le),K=ne(Qt,"OPTION",{"data-svelte-h":!0}),qe(K)!=="svelte-1q30tr1"&&(K.textContent=he),fe=ne(Qt,"OPTION",{"data-svelte-h":!0}),qe(fe)!=="svelte-pf55hp"&&(fe.textContent=me),Qt.forEach(D),te=$(ut,`
        current filename: `),ce=$(ut,n[4]),ut.forEach(D),J=ae(Ie),ve=ne(Ie,"MAIN",{});var et=Ce(ve);Fe=ne(et,"DIV",{id:!0,class:!0});var lt=Ce(Fe);ye($e.$$.fragment,lt),Pe=ae(lt),ye(_e.$$.fragment,lt),lt.forEach(D),et.forEach(D),this.h()},h(){ue(l,"class","fancy-font svelte-d1731w"),xe(c,"text-align","center"),xe(c,"padding","0 px"),xe(a,"text-align","center"),xe(a,"flex-grow","1"),xe(s,"display","flex"),xe(s,"just-content","space-between"),xe(s,"align-items","center"),ue(i,"class","title-egg"),ue(N,"class","toolbar-examples"),ue(P,"class","svelte-d1731w"),ue(m,"class","svelte-d1731w"),ue(w,"class","svelte-d1731w"),ue(V,"class","svelte-d1731w"),M.__value="",Aa(M,M.__value),K.__value="json",Aa(K,K.__value),fe.__value="turtle",Aa(fe,fe.__value),ue(q,"class","save-as-dropdown svelte-d1731w"),n[5]===void 0&&Pa(()=>n[25].call(q)),ue(T,"class","toolbar svelte-d1731w"),ue(Fe,"id","flow"),ue(Fe,"class","svelte-d1731w"),Pa(()=>n[26].call(Fe))},m(Ie,Ve){De(r,Ie,Ve),S(Ie,t,Ve),S(Ie,i,Ve),G(i,s),G(s,a),G(a,l),G(a,o),G(a,c),G(a,h),G(a,_),G(a,g),De(C,a,null),S(Ie,y,Ve),S(Ie,N,Ve),De(B,N,null),S(Ie,L,Ve),S(Ie,A,Ve),S(Ie,F,Ve),S(Ie,T,Ve),G(T,P),G(T,R),G(T,m),G(T,O),G(T,w),G(T,I),G(T,V),G(T,Q),G(T,q),G(q,M),G(q,K),G(q,fe),cl(q,n[5],!0),G(T,te),G(T,ce),S(Ie,J,Ve),S(Ie,ve,Ve),G(ve,Fe),De($e,Fe,null),G(Fe,Pe),De(_e,Fe,null),Te=oh(Fe,n[26].bind(Fe)),At=!0,Ut||(Nr=[Se(P,"click",n[14]),Se(m,"click",n[15]),Se(w,"click",n[20]),Se(V,"click",n[12]),Se(q,"change",n[25]),Se(q,"change",n[13])],Ut=!0)},p(Ie,Ve){const It={};Ve[0]&8&&(It.title=Ie[3].title),Ve[0]&8&&(It.content=Ie[3].content),Ve[0]&8&&(It.options=Ie[3].options),Ve[0]&4|Ve[1]&1024&&(It.$$scope={dirty:Ve,ctx:Ie}),!e&&Ve[0]&8&&(e=!0,It.isOpen=Ie[3].isOpen,ur(()=>e=!1)),r.$set(It);const dt={};Ve[1]&1024&&(dt.$$scope={dirty:Ve,ctx:Ie}),C.$set(dt);const $t={};!E&&Ve[0]&64&&(E=!0,$t.selectedFile=Ie[6],ur(()=>E=!1)),B.$set($t),Ve[0]&32&&cl(q,Ie[5]),(!At||Ve[0]&16)&&pe(ce,Ie[4]);const ut={};Ve[0]&128|Ve[1]&1024&&(ut.$$scope={dirty:Ve,ctx:Ie}),$e.$set(ut)},i(Ie){At||(oe(r.$$.fragment,Ie),oe(C.$$.fragment,Ie),oe(B.$$.fragment,Ie),oe($e.$$.fragment,Ie),oe(_e.$$.fragment,Ie),At=!0)},o(Ie){de(r.$$.fragment,Ie),de(C.$$.fragment,Ie),de(B.$$.fragment,Ie),de($e.$$.fragment,Ie),de(_e.$$.fragment,Ie),At=!1},d(Ie){Ie&&(D(t),D(i),D(y),D(N),D(L),D(A),D(F),D(T),D(J),D(ve)),Ae(r,Ie),Ae(C),Ae(B),Ae($e),Ae(_e),Te(),Ut=!1,bt(Nr)}}}function sv(n){console.log(n),console.log(n)}function lv(n,r,e){let t,i,s;nt(n,An,fe=>e(28,t=fe)),nt(n,ii,fe=>e(29,i=fe)),nt(n,ch,fe=>e(30,s=fe));var a=this&&this.__awaiter||function(fe,me,te,ce){function J(ve){return ve instanceof te?ve:new te(function(Fe){Fe(ve)})}return new(te||(te=Promise))(function(ve,Fe){function $e(Te){try{_e(ce.next(Te))}catch(At){Fe(At)}}function Pe(Te){try{_e(ce.throw(Te))}catch(At){Fe(At)}}function _e(Te){Te.done?ve(Te.value):J(Te.value).then($e,Pe)}_e((ce=ce.apply(fe,me||[])).next())})};let l;l=s.url.searchParams.get("load");let u={isOpen:!!l,title:"Confirmation to load remote model from URL",content:"This page is instructing D3FEND to remotely load a CAD model from this URL:",options:[{label:"Cancel",value:"cancel"},{label:"Load Model",value:"load"}]};function o(fe){const me=fe.detail;me.value==="load"?F(l):me.value}Ka(()=>{try{ws.initialize()}catch(fe){console.error("Failed to initialize Oxigraph in +layout.svelte",fe),fe.message}});const c={artifactSelectorNode:S2,vulnerabilitySelectorNode:T2,attackSelectorNode:y2,countermeasureSelectorNode:O2,informationSelectorNode:x2,conditionDefinitionNode:j2,agentSelectorNode:$2,eventNode:X2},p={editableEdge:Y2};let h={type:"editableEdge",data:{label:void 0},markerEnd:{type:ts.ArrowClosed}},_="d3fend-cad.json",g="";function C(){const fe=JSON.stringify({nodes:t,edges:i},null,4),me=new Blob([fe],{type:"application/json"}),te=window.URL.createObjectURL(me),ce=document.createElement("a");ce.href=te,ce.download=_,document.body.appendChild(ce),ce.click(),document.body.removeChild(ce),window.URL.revokeObjectURL(te)}function y(){g==="json"?B():g==="turtle"&&N(),e(5,g="")}function N(){console.log("!!! Turtle export engaged !!!"),q0().then(fe=>{console.log(fe);const me=new Blob([fe],{type:"text/turtle"}),te=window.URL.createObjectURL(me),ce=document.createElement("a");ce.href=te;let J=prompt("Enter filename to save as Turtle file",_);e(4,_=J),J&&(ce.download=J,document.body.appendChild(ce),ce.click(),document.body.removeChild(ce)),window.URL.revokeObjectURL(te)}).catch(fe=>{console.error("Error serializing graph to Turtle: ",fe)})}function B(){const fe=JSON.stringify({nodes:t,edges:i},null,4),me=new Blob([fe],{type:"application/json"}),te=window.URL.createObjectURL(me),ce=document.createElement("a");ce.href=te;let J=prompt("Enter filename to save as JSON file",_);e(4,_=J),J&&(ce.download=J,document.body.appendChild(ce),ce.click(),document.body.removeChild(ce)),window.URL.revokeObjectURL(te)}function E(fe){try{const me=fe.nodes,te=fe.edges;Hi(me,te)}catch(me){console.error("Error parsing JSON:",me)}}function L(fe){const me=fe.target.files[0];if(me){const te=new FileReader;te.onload=ce=>{if(typeof ce.target.result=="string"){console.log(ce.target.result);try{const J=JSON.parse(ce.target.result),ve=J.nodes,Fe=J.edges;Hi(ve,Fe)}catch(J){console.error("Error parsing JSON:",J)}}else console.error("File content is not a string.")},te.onerror=()=>{console.error("Error reading file:",te.error)},te.readAsText(me)}}function A(fe){const me=fe.target.files[0];if(me){const te=new FileReader;te.onload=ce=>{if(typeof ce.target.result=="string"){console.log(ce.target.result);try{const J=JSON.parse(ce.target.result);An.set([...t,...J.nodes]),ii.set([...i,...J.edges]),alert(` added ${J.nodes.length} nodes and ${J.edges.length} edges to the current graph `)}catch(J){console.error("Error parsing JSON:",J),alert(`Error parsing JSON:", ${J}`)}}else console.error("File content is not a string."),alert("File content is not a string.")},te.onerror=()=>{console.error("Error reading file:",te.error),alert(`Error reading file: ${te.error}`)},te.readAsText(me)}}function F(fe){return a(this,void 0,void 0,function*(){if(fe)try{const te=yield(yield fetch(fe)).json(),ce=te.nodes,J=te.edges;Hi(ce,J)}catch(me){console.error("Error parsing JSON:",me)}})}function T(){const fe=document.createElement("input");fe.type="file",fe.accept=".json",fe.onchange=me=>{L(me)},fe.click()}function P(){const fe=document.createElement("input");fe.type="file",fe.accept=".json",fe.onchange=me=>{A(me)},fe.click()}const{screenToFlowPosition:x}=Xh(),R=fe=>{fe.preventDefault(),fe.dataTransfer&&(fe.dataTransfer.dropEffect="move")},m=fe=>console.log("handle onConnect",fe),b=fe=>{if(fe.preventDefault(),!fe.dataTransfer)return null;const me=fe.dataTransfer.getData("application/svelteflow"),te=x({x:fe.clientX,y:fe.clientY}),ce={id:`${Math.random()}`,type:me,position:te,data:{label:"",sequence:"0"},origin:[.5,0]};t.push(ce),An.set(t)};function O(fe){return a(this,void 0,void 0,function*(){const me=fe.detail;try{const te=yield fetch(`/resources/cad/examples/${me}`);if(!te.ok)throw new Error(`HTTP error! status: ${te.status}`);const ce=yield te.json();console.log("Selected file contents:",ce),E(ce)}catch(te){console.error("Error fetching JSON file:",te)}})}let w;function H(){B0(),e(6,w="Example Graphs")}let I,V,ee;function Q({detail:{event:fe,node:me}}){fe.preventDefault();let te=50;e(7,I={id:me.id,top:fe.clientY<ee-te?fe.clientY:void 0,left:fe.clientX<V-te?fe.clientX:void 0,right:fe.clientX>=V-te?V-fe.clientX:void 0,bottom:fe.clientY>=ee-te?ee-fe.clientY:void 0})}function q(){e(7,I=null)}function M(fe){n.$$.not_equal(u.isOpen,fe)&&(u.isOpen=fe,e(3,u))}function le(fe){w=fe,e(6,w)}function K(){g=fh(this),e(5,g)}function he(){V=this.clientWidth,ee=this.clientHeight,e(8,V),e(9,ee)}return[c,p,l,u,_,g,w,I,V,ee,o,h,C,y,T,P,R,m,b,O,H,Q,q,M,le,K,he]}class uv extends We{constructor(r){super(),Qe(this,r,lv,av,Xe,{nodeTypes:0,edgeTypes:1},null,[-1,-1])}get nodeTypes(){return this.$$.ctx[0]}get edgeTypes(){return this.$$.ctx[1]}}function ov(n){let r,e;return r=new uv({}),{c(){we(r.$$.fragment)},l(t){ye(r.$$.fragment,t)},m(t,i){De(r,t,i),e=!0},i(t){e||(oe(r.$$.fragment,t),e=!0)},o(t){de(r.$$.fragment,t),e=!1},d(t){Ae(r,t)}}}function fv(n){let r,e;return r=new Uh({props:{$$slots:{default:[ov]},$$scope:{ctx:n}}}),{c(){we(r.$$.fragment)},l(t){ye(r.$$.fragment,t)},m(t,i){De(r,t,i),e=!0},p(t,[i]){const s={};i&4&&(s.$$scope={dirty:i,ctx:t}),r.$set(s)},i(t){e||(oe(r.$$.fragment,t),e=!0)},o(t){de(r.$$.fragment,t),e=!1},d(t){Ae(r,t)}}}function cv(n,r,e){let t,{data:i}=r;return n.$$set=s=>{"data"in s&&e(0,i=s.data)},n.$$.update=()=>{n.$$.dirty&1&&e(1,t=i.remote_d3fend_tree?i.remote_d3fend_tree.map(s=>({...s,children:ns(s.children,s["rdfs:label"])})):[]),n.$$.dirty&3&&(xo.set(t),Mo.set(i.attack),qo.set(i.dao),jo.set(i.events),Po.set(i.weaknesses))},[i,t]}class Bv extends We{constructor(r){super(),Qe(this,r,cv,fv,Xe,{data:0})}}export{Bv as component,Sv as universal};
