import{e as P}from"../chunks/index.g5YcAAdQ.js";import{s as y,b as q,e as g,j as v,d as b,f as T,i as p,k as h,l as C,o as D,C as I,F as x,n as _,p as M,O as S,v as z,t as A,h as F}from"../chunks/scheduler.XFNaxh87.js";import{h as L,u as U}from"../chunks/await_block.CIfzu5Tj.js";import{S as G,i as H,c as w,b as O,m as N,t as k,a as $,d as j}from"../chunks/index.CZJgJfrq.js";import{p as J}from"../chunks/stores.BkFw4SrY.js";import{b as K}from"../chunks/entry.p_zvHkcR.js";import{T as Q}from"../chunks/Technique._aiPgJBz.js";import{T as R}from"../chunks/Title.CR5zmqnh.js";import{D as V}from"../chunks/D3FMatrix.HSLufcqA.js";const W=!1;async function X({url:n,fetch:t}){const o=n.searchParams.get("technique_id"),s=await t(`/api/technique/${o}.json`),r=await s.json();return s.status!==200&&P(500,s.message),{technique:r,technique_id:o}}const fe=Object.freeze(Object.defineProperty({__proto__:null,load:X,prerender:W},Symbol.toStringTag,{value:"Module"}));function Y(n){return{c:_,l:_,m:_,p:_,i:_,o:_,d:_}}function Z(n){let t,o="esc",s,r,l,i,u="close",m,d,c;return r=new Q({props:{technique_id:n[0].technique_id,technique:n[10]}}),{c(){t=g("button"),t.textContent=o,s=q(),w(r.$$.fragment),l=q(),i=g("button"),i.textContent=u},l(e){t=b(e,"BUTTON",{"data-svelte-h":!0}),M(t)!=="svelte-1ed06k4"&&(t.textContent=o),s=v(e),O(r.$$.fragment,e),l=v(e),i=b(e,"BUTTON",{"data-svelte-h":!0}),M(i)!=="svelte-1x92hpv"&&(i.textContent=u)},m(e,a){h(e,t,a),h(e,s,a),N(r,e,a),h(e,l,a),h(e,i,a),m=!0,d||(c=[S(t,"click",n[7]),S(i,"click",n[8])],d=!0)},p(e,a){const f={};a&1&&(f.technique_id=e[0].technique_id),a&1&&(f.technique=e[10]),r.$set(f)},i(e){m||(k(r.$$.fragment,e),m=!0)},o(e){$(r.$$.fragment,e),m=!1},d(e){e&&(p(t),p(s),p(l),p(i)),j(r,e),d=!1,z(c)}}}function B(n){let t;return{c(){t=A("loading...")},l(o){t=F(o,"loading...")},m(o,s){h(o,t,s)},p:_,i:_,o:_,d(o){o&&p(t)}}}function ee(n){let t,o,s,r,l,i,u,m,d;t=new R({props:{title:n[3],og_title:n[4],og_description:n[2]["d3f:definition"],og_type:"article"}}),l=new V({props:{scroll_indicator:!1}});let c={ctx:n,current:null,token:null,hasCatch:!1,pending:B,then:Z,catch:Y,value:10,blocks:[,,,]};return L(m=n[0].technique,c),{c(){w(t.$$.fragment),o=q(),s=g("main"),r=g("section"),w(l.$$.fragment),i=q(),u=g("dialog"),c.block.c()},l(e){O(t.$$.fragment,e),o=v(e),s=b(e,"MAIN",{});var a=T(s);r=b(a,"SECTION",{});var f=T(r);O(l.$$.fragment,f),f.forEach(p),i=v(a),u=b(a,"DIALOG",{});var E=T(u);c.block.l(E),E.forEach(p),a.forEach(p)},m(e,a){N(t,e,a),h(e,o,a),h(e,s,a),C(s,r),N(l,r,null),C(s,i),C(s,u),c.block.m(u,c.anchor=null),c.mount=()=>u,c.anchor=null,n[9](u),d=!0},p(e,[a]){n=e,c.ctx=n,a&1&&m!==(m=n[0].technique)&&L(m,c)||U(c,n,a)},i(e){d||(k(t.$$.fragment,e),k(l.$$.fragment,e),k(c.block),d=!0)},o(e){$(t.$$.fragment,e),$(l.$$.fragment,e);for(let a=0;a<3;a+=1){const f=c.blocks[a];$(f)}d=!1},d(e){e&&(p(o),p(s)),j(t,e),j(l),c.block.d(),c.token=null,c=null,n[9](null)}}}function te(n,t,o){let s;D(n,J,f=>o(6,s=f));let{data:r}=t,l,i,u=r.technique.description["@graph"][0];const m=`${u["rdfs:label"]} - Technique ${u["d3f:d3fend-id"]}`,d=`${u["rdfs:label"]} - Technique ${u["d3f:d3fend-id"]}`;I(()=>{o(5,i=document.getElementsByTagName("body")[0])}),K(()=>{i==null||i.classList.remove("scroll--none")});const c=()=>l.close(),e=()=>l.close();function a(f){x[f?"unshift":"push"](()=>{l=f,o(1,l)})}return n.$$set=f=>{"data"in f&&o(0,r=f.data)},n.$$.update=()=>{n.$$.dirty&98&&(l&&s.url.searchParams.size?(l.showModal(),i==null||i.classList.add("scroll--none")):l&&(l.close(),i==null||i.classList.remove("scroll--none")))},[r,l,u,m,d,i,s,c,e,a]}class me extends G{constructor(t){super(),H(this,t,te,ee,y,{data:0})}}export{me as component,fe as universal};
