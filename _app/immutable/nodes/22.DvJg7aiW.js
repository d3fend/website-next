const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/jsonld.CYnguqZs.js","../chunks/_commonjsHelpers.C4iS2aBk.js","../chunks/___vite-browser-external_commonjs-proxy.B2SwpVhP.js"])))=>i.map(i=>d[i]);
import{s as lf}from"../chunks/sortBy.ChsTRid8.js";import{s as kt,c as Or,u as Lr,g as Br,a as Ur,am as wA,I as Af,as as Yt,e as ae,d as se,f as Me,i as w,r as fe,k as R,o as At,ao as yA,E as kf,J as Fr,p as ze,b as ve,j as ge,t as V,h as z,l as G,P as Pe,a4 as jr,ar as ba,m as Se,x as zt,W as ni,n as at,v as vt,L as er,V as yn,D as Kt,O as Ht,Y as Cf,F as Wi,N as bt,a3 as ks,w as Ai,al as p_,a0 as Nh,Q as __,R as v_,ap as g_,ak as EA,aq as DA}from"../chunks/scheduler.xR-uXgLO.js";import{S as Xt,i as Wt,t as he,a as be,g as It,e as Rt,c as Qe,b as Ye,m as Ke,d as Je,f as En,p as m_}from"../chunks/index.BpaDVXPB.js";import{d as AA,w as on}from"../chunks/index.iaz6iIjv.js";import{e as lt,u as b_,o as w_}from"../chunks/each.BfH-wj2E.js";import{c as ha,a as Ss}from"../chunks/_commonjsHelpers.C4iS2aBk.js";import{s as y_}from"../chunks/schema.HaQr_DHp.js";import{p as kA}from"../chunks/stores.BKYT2AWX.js";import{A as Tf}from"../chunks/Alert.BOpypHFQ.js";import{T as Xa,b as Ze,a as a1,G as Jh,m as CA,d as of,o as TA}from"../chunks/lib.CK1iMZjQ.js";import{c as NA,k as SA,i as IA,u as wl,g as RA,b as E_,n as D_,d as A_,e as PA,p as FA,f as OA,h as LA,r as BA,j as k_,R as Zu,X as UA,l as C_,m as T_,H as Jt,P as qt,o as MA,E as qA,q as s1,s as Sh,S as jA,C as xA,B as HA,a as VA,M as zA}from"../chunks/style.64w-_Ue-.js";import{r as $A}from"../chunks/___vite-browser-external_commonjs-proxy.B2SwpVhP.js";import{_ as GA}from"../chunks/preload-helper.C1FmrZbK.js";import{G as wa}from"../chunks/_Graph.CanqobF4.js";import{t as uf,T as l1}from"../chunks/ToggleBar.ChYzQEkc.js";import{s as N_}from"../chunks/index.BxqCZUUx.js";import{f as _l}from"../chunks/utils.xEKteSAW.js";import{f as XA,c as WA,L as QA}from"../chunks/Loading.B5hKdNm6.js";import{J as S_}from"../chunks/JSONCrush.BlUS0oeb.js";import{T as YA}from"../chunks/Title.lz_tL8Gl.js";function Zh(i,e,t=[]){const r=lf(i,n=>n["rdfs:label"]);for(const n of r)t.push({...n,rootLabel:e}),n.children&&Zh(n.children,e,t);return t}function ed(i,e,t){for(const r of t)if(e.test(i[r]))return!0;return!1}function KA(i,e,t){if(!e)return i||[];const r=e?new RegExp(e,"i"):null,n=s=>r?ed(s,r,t):!0;return i.filter(n)}function JA(i,e,t){if(!e)return i||[];const r=e?new RegExp(e,"i"):null,n=a=>r?ed(a,r,t):!0;return i.reduce((a,l)=>(a.push({...l,children:l.children.filter(n)}),a),[]).filter(a=>a.children.length>0)}function ZA(i,e,t){const r=[];function n(s){if(ed(s,e,t)&&r.push(s),s.children)for(const a of s.children)n(a)}for(const s of i)n(s);return r}function o1(i,e,t){if(!e)return i||[];const r=new RegExp(e,"i");return ZA(i,r,t)}function I_(i,e){return[...new Map(i.map(t=>[t[e],t])).values()]}function ek(i,e){const t=i.reduce((s,a)=>(s[a["@id"]]=a,s),{});return i.reduce((s,a)=>(a.hasOwnProperty("rdfs:hasSubClass")&&(a.children=a["rdfs:hasSubClass"].map(l=>t[l["@id"]]),s.push(a)),s),[]).filter(s=>s["rdfs:subClassOf"].some(a=>a["@id"]===e))}function tk(i){const e=i.reduce((t,r)=>(t[r["@id"]]=r,t),{});return i.forEach(t=>{if(t.hasOwnProperty("rdfs:hasSubClass")){const r=t["rdfs:hasSubClass"];Array.isArray(r)?t.children=r.map(n=>e[n["@id"]]):t.children=[e[r["@id"]]]}}),lf(e["d3f:DigitalInformation"].children,t=>t["rdfs:label"])}function rk(i){const e=i.reduce((r,n)=>(r[n["@id"]]=n,r),{});return i.forEach(r=>{const n=r["rdfs:subPropertyOf"];if(n)for(const s of n)e[s["@id"]]&&(e[s["@id"]].children?e[s["@id"]].children.push(r):e[s["@id"]].children=[r])}),{associated:i.filter(r=>r["rdfs:subPropertyOf"].some(n=>n["@id"]==="d3f:associated-with"))}}async function nk({fetch:i}){const e=["/api/offensive-technique/all.json","/api/dao/artifacts.json","/api/taxonomies/d3f:DigitalEvent.json","/api/weakness/all.json","/api/ontology/properties/object/all.json","/api/dao/artifact/d3f:DigitalInformation.json"],[{value:{["@graph"]:t}},{value:{["@graph"]:r}},{value:{["@graph"]:n}},{value:{["@graph"]:s}},{value:{["@graph"]:a}},{value:{da_graph:{["@graph"]:l}}}]=await Promise.allSettled(e.map(v=>i(v).then(m=>m.json()))),u=lf(I_(t,"rdfs:label"),v=>v["rdfs:label"]),h=ek(n,"d3f:DigitalEvent").map(v=>({...v,children:I_(Zh(v.children,v["rdfs:label"]),"rdfs:label")})),_=lf(s,v=>v["rdfs:label"]),p=rk(a),d=tk(l);return{attack:u,dao:r,events:h,weaknesses:_,properties:p,digital_information:d}}const YP=Object.freeze(Object.defineProperty({__proto__:null,load:nk},Symbol.toStringTag,{value:"Module"}));function ik(i){let e;const t=i[7].default,r=Or(t,i,i[6],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,s){r&&r.m(n,s),e=!0},p(n,[s]){r&&r.p&&(!e||s&64)&&Lr(r,t,n,n[6],e?Ur(t,n[6],s,null):Br(n[6]),null)},i(n){e||(he(r,n),e=!0)},o(n){be(r,n),e=!1},d(n){r&&r.d(n)}}}function ak(i,e,t){let{$$slots:r={},$$scope:n}=e,{initialNodes:s=void 0}=e,{initialEdges:a=void 0}=e,{initialWidth:l=void 0}=e,{initialHeight:u=void 0}=e,{fitView:f=void 0}=e,{nodeOrigin:h=void 0}=e;const _=NA({nodes:s,edges:a,width:l,height:u,nodeOrigin:h,fitView:f});return wA(SA,{getStore:()=>_}),Af(()=>{_.reset()}),i.$$set=p=>{"initialNodes"in p&&t(0,s=p.initialNodes),"initialEdges"in p&&t(1,a=p.initialEdges),"initialWidth"in p&&t(2,l=p.initialWidth),"initialHeight"in p&&t(3,u=p.initialHeight),"fitView"in p&&t(4,f=p.fitView),"nodeOrigin"in p&&t(5,h=p.nodeOrigin),"$$scope"in p&&t(6,n=p.$$scope)},[s,a,l,u,f,h,n,r]}class sk extends Xt{constructor(e){super(),Wt(this,e,ak,ik,kt,{initialNodes:0,initialEdges:1,initialWidth:2,initialHeight:3,fitView:4,nodeOrigin:5})}}const R_=i=>IA(i);function lk(){const{zoomIn:i,zoomOut:e,fitView:t,onbeforedelete:r,snapGrid:n,viewport:s,width:a,height:l,minZoom:u,maxZoom:f,panZoom:h,nodes:_,edges:p,domNode:d,nodeLookup:v,nodeOrigin:m,edgeLookup:b,connectionLookup:A}=wl(),U=y=>{var q,k;const N=Yt(v),T=R_(y)?y:N.get(y.id),j=T.parentId?LA(T.position,T.measured,T.parentId,N,Yt(m)):T.position,F={id:T.id,position:j,width:((q=T.measured)==null?void 0:q.width)??T.width,height:((k=T.measured)==null?void 0:k.height)??T.height,data:T.data};return D_(F)},I=(y,N,T={replace:!1})=>{var q;const j=(q=Yt(v).get(y))==null?void 0:q.internals.userNode;if(!j)return;const F=typeof N=="function"?N(j):N;T.replace?_.update(k=>k.map(L=>L.id===y?R_(F)?F:{...L,...F}:L)):(Object.assign(j,F),_.update(k=>k))},O=y=>Yt(v).get(y);return{zoomIn:i,zoomOut:e,getInternalNode:O,getNode:y=>{var N;return(N=O(y))==null?void 0:N.internals.userNode},getNodes:y=>y===void 0?Yt(_):P_(Yt(v),y),getEdge:y=>Yt(b).get(y),getEdges:y=>y===void 0?Yt(p):P_(Yt(b),y),setZoom:(y,N)=>{const T=Yt(h);return T?T.scaleTo(y,{duration:N==null?void 0:N.duration}):Promise.resolve(!1)},getZoom:()=>Yt(s).zoom,setViewport:async(y,N)=>{const T=Yt(s),j=Yt(h);return j?(await j.setViewport({x:y.x??T.x,y:y.y??T.y,zoom:y.zoom??T.zoom},{duration:N==null?void 0:N.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>Yt(s),setCenter:async(y,N,T)=>{const j=typeof(T==null?void 0:T.zoom)<"u"?T.zoom:Yt(f),F=Yt(h);return F?(await F.setViewport({x:Yt(a)/2-y*j,y:Yt(l)/2-N*j,zoom:j},{duration:T==null?void 0:T.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitView:t,fitBounds:async(y,N)=>{const T=Yt(h);if(!T)return Promise.resolve(!1);const j=RA(y,Yt(a),Yt(l),Yt(u),Yt(f),(N==null?void 0:N.padding)??.1);return await T.setViewport(j,{duration:N==null?void 0:N.duration}),Promise.resolve(!0)},getIntersectingNodes:(y,N=!0,T)=>{const j=E_(y),F=j?y:U(y);return F?(T||Yt(_)).filter(q=>{const k=Yt(v).get(q.id);if(!k||!j&&q.id===y.id)return!1;const L=D_(k),D=A_(L,F);return N&&D>0||D>=F.width*F.height}):[]},isNodeIntersecting:(y,N,T=!0)=>{const F=E_(y)?y:U(y);if(!F)return!1;const q=A_(F,N);return T&&q>0||q>=F.width*F.height},deleteElements:async({nodes:y=[],edges:N=[]})=>{const{nodes:T,edges:j}=await PA({nodesToRemove:y,edgesToRemove:N,nodes:Yt(_),edges:Yt(p),onBeforeDelete:Yt(r)});return T&&_.update(F=>F.filter(q=>!T.some(({id:k})=>k===q.id))),j&&p.update(F=>F.filter(q=>!j.some(({id:k})=>k===q.id))),{deletedNodes:T,deletedEdges:j}},screenToFlowPosition:(y,N={snapToGrid:!0})=>{const T=Yt(d);if(!T)return y;const j=N.snapToGrid?Yt(n):!1,{x:F,y:q,zoom:k}=Yt(s),{x:L,y:D}=T.getBoundingClientRect(),P={x:y.x-L,y:y.y-D};return FA(P,[F,q,k],j!==null,j||[1,1])},flowToScreenPosition:y=>{const N=Yt(d);if(!N)return y;const{x:T,y:j,zoom:F}=Yt(s),{x:q,y:k}=N.getBoundingClientRect(),L=BA(y,[T,j,F]);return{x:L.x+q,y:L.y+k}},toObject:()=>({nodes:Yt(_).map(y=>({...y,position:{...y.position},data:{...y.data}})),edges:Yt(p).map(y=>({...y})),viewport:{...Yt(s)}}),updateNode:I,updateNodeData:(y,N,T)=>{var q;const j=(q=Yt(v).get(y))==null?void 0:q.internals.userNode;if(!j)return;const F=typeof N=="function"?N(j):N;j.data=T!=null&&T.replace?F:{...j.data,...F},_.update(k=>k)},getNodesBounds:y=>{const N=Yt(v),T=Yt(m);return OA(y,{nodeLookup:N,nodeOrigin:T})},getHandleConnections:({type:y,id:N,nodeId:T})=>{var j;return Array.from(((j=Yt(A).get(`${T}-${y}-${N??null}`))==null?void 0:j.values())??[])},viewport:s}}function P_(i,e){var r;const t=[];for(const n of e){const s=i.get(n);if(s){const a="internals"in s?(r=s.internals)==null?void 0:r.userNode:s;t.push(a)}}return t}function ok(i){let e,t,r;const n=i[33].default,s=Or(n,i,i[32],null);return{c(){e=ae("div"),s&&s.c(),this.h()},l(a){e=se(a,"DIV",{class:!0,style:!0});var l=Me(e);s&&s.l(l),l.forEach(w),this.h()},h(){fe(e,"class",t=k_(["svelte-flow__resize-control","nodrag",...i[4],i[0],i[1]])),fe(e,"style",i[3])},m(a,l){R(a,e,l),s&&s.m(e,null),i[34](e),r=!0},p(a,l){s&&s.p&&(!r||l[1]&2)&&Lr(s,n,a,a[32],r?Ur(n,a[32],l,null):Br(a[32]),null),(!r||l[0]&19&&t!==(t=k_(["svelte-flow__resize-control","nodrag",...a[4],a[0],a[1]])))&&fe(e,"class",t),(!r||l[0]&8)&&fe(e,"style",a[3])},i(a){r||(he(s,a),r=!0)},o(a){be(s,a),r=!1},d(a){a&&w(e),s&&s.d(a),i[34](null)}}}function uk(i,e,t){let r,n,s,a,l,u,f,h,_,p,d,v,m,b,A,U,{$$slots:I={},$$scope:O}=e,{nodeId:y=void 0}=e,{position:N=void 0}=e,{variant:T=Zu.Handle}=e,{color:j=void 0}=e,{minWidth:F=10}=e,{minHeight:q=10}=e,{maxWidth:k=Number.MAX_VALUE}=e,{maxHeight:L=Number.MAX_VALUE}=e,{keepAspectRatio:D=!1}=e,{shouldResize:P=void 0}=e,{onResizeStart:Q=void 0}=e,{onResize:H=void 0}=e,{onResizeEnd:oe=void 0}=e,{style:re=""}=e,{class:te=""}=e;const{nodeLookup:$,snapGrid:W,viewport:de,nodes:J,nodeOrigin:pe}=wl();At(i,$,Ce=>t(37,m=Ce)),At(i,W,Ce=>t(39,A=Ce)),At(i,de,Ce=>t(40,U=Ce)),At(i,J,Ce=>t(36,v=Ce)),At(i,pe,Ce=>t(38,b=Ce));const it=yA("svelteflow__node_id");let tt,Fe=null;kf(()=>(tt&&t(23,Fe=UA({domNode:tt,nodeId:l,getStoreItems:()=>({nodeLookup:m,transform:[U.x,U.y,U.zoom],snapGrid:A??void 0,snapToGrid:!!A,nodeOrigin:b}),onChange:(Ce,De)=>{var gt,rt;const Ge=(gt=m.get(l))==null?void 0:gt.internals.userNode;if(Ge){Ce.x!==void 0&&Ce.y!==void 0&&(Ge.position={x:Ce.x,y:Ce.y}),Ce.width!==void 0&&Ce.height!==void 0&&(Ge.width=Ce.width,Ge.height=Ce.height);for(const me of De){const Be=(rt=m.get(me.id))==null?void 0:rt.internals.userNode;Be&&(Be.position=me.position)}J.set(v)}}})),()=>{Fe==null||Fe.destroy()}));function He(Ce){Fr[Ce?"unshift":"push"](()=>{tt=Ce,t(2,tt)})}return i.$$set=Ce=>{"nodeId"in Ce&&t(10,y=Ce.nodeId),"position"in Ce&&t(11,N=Ce.position),"variant"in Ce&&t(0,T=Ce.variant),"color"in Ce&&t(12,j=Ce.color),"minWidth"in Ce&&t(13,F=Ce.minWidth),"minHeight"in Ce&&t(14,q=Ce.minHeight),"maxWidth"in Ce&&t(15,k=Ce.maxWidth),"maxHeight"in Ce&&t(16,L=Ce.maxHeight),"keepAspectRatio"in Ce&&t(17,D=Ce.keepAspectRatio),"shouldResize"in Ce&&t(18,P=Ce.shouldResize),"onResizeStart"in Ce&&t(19,Q=Ce.onResizeStart),"onResize"in Ce&&t(20,H=Ce.onResize),"onResizeEnd"in Ce&&t(21,oe=Ce.onResizeEnd),"style"in Ce&&t(22,re=Ce.style),"class"in Ce&&t(1,te=Ce.class),"$$scope"in Ce&&t(32,O=Ce.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&8192&&t(27,r=F??10),i.$$.dirty[0]&16384&&t(26,n=q??10),i.$$.dirty[0]&32768&&t(25,s=k??Number.MAX_VALUE),i.$$.dirty[0]&65536&&t(24,a=L??Number.MAX_VALUE),i.$$.dirty[0]&1024&&(l=typeof y=="string"?y:it),i.$$.dirty[0]&1&&t(31,u=T===Zu.Line?"right":"bottom-right"),i.$$.dirty[0]&2048|i.$$.dirty[1]&1&&t(28,f=N??u),i.$$.dirty[0]&268435456&&t(4,h=f.split("-")),i.$$.dirty[0]&1&&t(30,_=T===Zu.Line?"border-color":"background-color"),i.$$.dirty[0]&4194304&&t(29,p=re??""),i.$$.dirty[0]&1610616832&&t(3,d=j?`${p} ${_}: ${j};`:p),i.$$.dirty[0]&532545536&&(Fe==null||Fe.update({controlPosition:f,boundaries:{minWidth:r,minHeight:n,maxWidth:s,maxHeight:a},keepAspectRatio:!!D,onResizeStart:Q,onResize:H,onResizeEnd:oe,shouldResize:P}))},[T,te,tt,d,h,$,W,de,J,pe,y,N,j,F,q,k,L,D,P,Q,H,oe,re,Fe,a,s,n,r,f,p,_,u,O,I,He]}class u1 extends Xt{constructor(e){super(),Wt(this,e,uk,ok,kt,{nodeId:10,position:11,variant:0,color:12,minWidth:13,minHeight:14,maxWidth:15,maxHeight:16,keepAspectRatio:17,shouldResize:18,onResizeStart:19,onResize:20,onResizeEnd:21,style:22,class:1},null,[-1,-1])}}function F_(i,e,t){const r=i.slice();return r[20]=e[t],r}function O_(i,e,t){const r=i.slice();return r[20]=e[t],r}function L_(i){let e=[],t=new Map,r,n=[],s=new Map,a,l,u=lt(C_);const f=p=>p[20];for(let p=0;p<u.length;p+=1){let d=O_(i,u,p),v=f(d);t.set(v,e[p]=B_(v,d))}let h=lt(T_);const _=p=>p[20];for(let p=0;p<h.length;p+=1){let d=F_(i,h,p),v=_(d);s.set(v,n[p]=U_(v,d))}return{c(){for(let p=0;p<e.length;p+=1)e[p].c();r=ve();for(let p=0;p<n.length;p+=1)n[p].c();a=ze()},l(p){for(let d=0;d<e.length;d+=1)e[d].l(p);r=ge(p);for(let d=0;d<n.length;d+=1)n[d].l(p);a=ze()},m(p,d){for(let v=0;v<e.length;v+=1)e[v]&&e[v].m(p,d);R(p,r,d);for(let v=0;v<n.length;v+=1)n[v]&&n[v].m(p,d);R(p,a,d),l=!0},p(p,d){d&65521&&(u=lt(C_),It(),e=b_(e,d,f,1,p,u,t,r.parentNode,w_,B_,r,O_),Rt()),d&65485&&(h=lt(T_),It(),n=b_(n,d,_,1,p,h,s,a.parentNode,w_,U_,a,F_),Rt())},i(p){if(!l){for(let d=0;d<u.length;d+=1)he(e[d]);for(let d=0;d<h.length;d+=1)he(n[d]);l=!0}},o(p){for(let d=0;d<e.length;d+=1)be(e[d]);for(let d=0;d<n.length;d+=1)be(n[d]);l=!1},d(p){p&&(w(r),w(a));for(let d=0;d<e.length;d+=1)e[d].d(p);for(let d=0;d<n.length;d+=1)n[d].d(p)}}}function B_(i,e){let t,r,n;return r=new u1({props:{class:e[4],style:e[5],nodeId:e[0],position:e[20],variant:Zu.Line,color:e[6],minWidth:e[12],minHeight:e[13],maxWidth:e[14],maxHeight:e[15],onResizeStart:e[9],keepAspectRatio:e[7],shouldResize:e[8],onResize:e[10],onResizeEnd:e[11]}}),{key:i,first:null,c(){t=ze(),Qe(r.$$.fragment),this.h()},l(s){t=ze(),Ye(r.$$.fragment,s),this.h()},h(){this.first=t},m(s,a){R(s,t,a),Ke(r,s,a),n=!0},p(s,a){e=s;const l={};a&16&&(l.class=e[4]),a&32&&(l.style=e[5]),a&1&&(l.nodeId=e[0]),a&64&&(l.color=e[6]),a&512&&(l.onResizeStart=e[9]),a&128&&(l.keepAspectRatio=e[7]),a&256&&(l.shouldResize=e[8]),a&1024&&(l.onResize=e[10]),a&2048&&(l.onResizeEnd=e[11]),r.$set(l)},i(s){n||(he(r.$$.fragment,s),n=!0)},o(s){be(r.$$.fragment,s),n=!1},d(s){s&&w(t),Je(r,s)}}}function U_(i,e){let t,r,n;return r=new u1({props:{class:e[2],style:e[3],nodeId:e[0],position:e[20],color:e[6],minWidth:e[12],minHeight:e[13],maxWidth:e[14],maxHeight:e[15],onResizeStart:e[9],keepAspectRatio:e[7],shouldResize:e[8],onResize:e[10],onResizeEnd:e[11]}}),{key:i,first:null,c(){t=ze(),Qe(r.$$.fragment),this.h()},l(s){t=ze(),Ye(r.$$.fragment,s),this.h()},h(){this.first=t},m(s,a){R(s,t,a),Ke(r,s,a),n=!0},p(s,a){e=s;const l={};a&4&&(l.class=e[2]),a&8&&(l.style=e[3]),a&1&&(l.nodeId=e[0]),a&64&&(l.color=e[6]),a&512&&(l.onResizeStart=e[9]),a&128&&(l.keepAspectRatio=e[7]),a&256&&(l.shouldResize=e[8]),a&1024&&(l.onResize=e[10]),a&2048&&(l.onResizeEnd=e[11]),r.$set(l)},i(s){n||(he(r.$$.fragment,s),n=!0)},o(s){be(r.$$.fragment,s),n=!1},d(s){s&&w(t),Je(r,s)}}}function fk(i){let e,t,r=i[1]&&L_(i);return{c(){r&&r.c(),e=ze()},l(n){r&&r.l(n),e=ze()},m(n,s){r&&r.m(n,s),R(n,e,s),t=!0},p(n,[s]){n[1]?r?(r.p(n,s),s&2&&he(r,1)):(r=L_(n),r.c(),he(r,1),r.m(e.parentNode,e)):r&&(It(),be(r,1,1,()=>{r=null}),Rt())},i(n){t||(he(r),t=!0)},o(n){be(r),t=!1},d(n){n&&w(e),r&&r.d(n)}}}function ck(i,e,t){let{nodeId:r=void 0}=e,{isVisible:n=!0}=e,{handleClass:s=void 0}=e,{handleStyle:a=void 0}=e,{lineClass:l=void 0}=e,{lineStyle:u=void 0}=e,{color:f=void 0}=e,{minWidth:h=10}=e,{minHeight:_=10}=e,{maxWidth:p=Number.MAX_VALUE}=e,{maxHeight:d=Number.MAX_VALUE}=e,{keepAspectRatio:v=!1}=e,{shouldResize:m=void 0}=e,{onResizeStart:b=void 0}=e,{onResize:A=void 0}=e,{onResizeEnd:U=void 0}=e,I=h||10,O=_||10,y=p||Number.MAX_VALUE,N=d||Number.MAX_VALUE;return i.$$set=T=>{"nodeId"in T&&t(0,r=T.nodeId),"isVisible"in T&&t(1,n=T.isVisible),"handleClass"in T&&t(2,s=T.handleClass),"handleStyle"in T&&t(3,a=T.handleStyle),"lineClass"in T&&t(4,l=T.lineClass),"lineStyle"in T&&t(5,u=T.lineStyle),"color"in T&&t(6,f=T.color),"minWidth"in T&&t(16,h=T.minWidth),"minHeight"in T&&t(17,_=T.minHeight),"maxWidth"in T&&t(18,p=T.maxWidth),"maxHeight"in T&&t(19,d=T.maxHeight),"keepAspectRatio"in T&&t(7,v=T.keepAspectRatio),"shouldResize"in T&&t(8,m=T.shouldResize),"onResizeStart"in T&&t(9,b=T.onResizeStart),"onResize"in T&&t(10,A=T.onResize),"onResizeEnd"in T&&t(11,U=T.onResizeEnd)},[r,n,s,a,l,u,f,v,m,b,A,U,I,O,y,N,h,_,p,d]}class Qa extends Xt{constructor(e){super(),Wt(this,e,ck,fk,kt,{nodeId:0,isVisible:1,handleClass:2,handleStyle:3,lineClass:4,lineStyle:5,color:6,minWidth:16,minHeight:17,maxWidth:18,maxHeight:19,keepAspectRatio:7,shouldResize:8,onResizeStart:9,onResize:10,onResizeEnd:11})}}function ya(){const{connection:i}=wl();return i}function Li(){const{nodes:i}=wl();return i}function Bi(){const{edges:i}=wl();return i}function M_(i){const{nodeLookup:e,nodes:t}=wl();return AA([e,t],([r])=>r.get(i))}const f1=on([]),c1=on([]),h1=on([]),d1=on([]),p1=on([]),_1=on([]),v1=on([]);function hk(){const{subscribe:i,set:e,update:t}=on();return{subscribe:i,update:t,add:r=>e(r),clear:()=>e()}}const In=hk();var Ih={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(i,e){(function(t,r){r(e)})(ha,function(t){function r(){for(var Ee=arguments.length,ce=Array(Ee),Te=0;Te<Ee;Te++)ce[Te]=arguments[Te];if(ce.length>1){ce[0]=ce[0].slice(0,-1);for(var xe=ce.length-1,qe=1;qe<xe;++qe)ce[qe]=ce[qe].slice(1,-1);return ce[xe]=ce[xe].slice(1),ce.join("")}else return ce[0]}function n(Ee){return"(?:"+Ee+")"}function s(Ee){return Ee===void 0?"undefined":Ee===null?"null":Object.prototype.toString.call(Ee).split(" ").pop().split("]").shift().toLowerCase()}function a(Ee){return Ee.toUpperCase()}function l(Ee){return Ee!=null?Ee instanceof Array?Ee:typeof Ee.length!="number"||Ee.split||Ee.setInterval||Ee.call?[Ee]:Array.prototype.slice.call(Ee):[]}function u(Ee,ce){var Te=Ee;if(ce)for(var xe in ce)Te[xe]=ce[xe];return Te}function f(Ee){var ce="[A-Za-z]",Te="[0-9]",xe=r(Te,"[A-Fa-f]"),qe=n(n("%[EFef]"+xe+"%"+xe+xe+"%"+xe+xe)+"|"+n("%[89A-Fa-f]"+xe+"%"+xe+xe)+"|"+n("%"+xe+xe)),Et="[\\:\\/\\?\\#\\[\\]\\@]",ft="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ct=r(Et,ft),gr=Ee?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Mr=Ee?"[\\uE000-\\uF8FF]":"[]",$t=r(ce,Te,"[\\-\\.\\_\\~]",gr);n(ce+r(ce,Te,"[\\+\\-\\.]")+"*"),n(n(qe+"|"+r($t,ft,"[\\:]"))+"*");var cr=n(n("25[0-5]")+"|"+n("2[0-4]"+Te)+"|"+n("1"+Te+Te)+"|"+n("0?[1-9]"+Te)+"|0?0?"+Te),Tr=n(cr+"\\."+cr+"\\."+cr+"\\."+cr),Ot=n(xe+"{1,4}"),hr=n(n(Ot+"\\:"+Ot)+"|"+Tr),mr=n(n(Ot+"\\:")+"{6}"+hr),yr=n("\\:\\:"+n(Ot+"\\:")+"{5}"+hr),An=n(n(Ot)+"?\\:\\:"+n(Ot+"\\:")+"{4}"+hr),cn=n(n(n(Ot+"\\:")+"{0,1}"+Ot)+"?\\:\\:"+n(Ot+"\\:")+"{3}"+hr),hn=n(n(n(Ot+"\\:")+"{0,2}"+Ot)+"?\\:\\:"+n(Ot+"\\:")+"{2}"+hr),Ui=n(n(n(Ot+"\\:")+"{0,3}"+Ot)+"?\\:\\:"+Ot+"\\:"+hr),ai=n(n(n(Ot+"\\:")+"{0,4}"+Ot)+"?\\:\\:"+hr),dn=n(n(n(Ot+"\\:")+"{0,5}"+Ot)+"?\\:\\:"+Ot),kn=n(n(n(Ot+"\\:")+"{0,6}"+Ot)+"?\\:\\:"),ki=n([mr,yr,An,cn,hn,Ui,ai,dn,kn].join("|")),mn=n(n($t+"|"+qe)+"+");n("[vV]"+xe+"+\\."+r($t,ft,"[\\:]")+"+"),n(n(qe+"|"+r($t,ft))+"*");var si=n(qe+"|"+r($t,ft,"[\\:\\@]"));return n(n(qe+"|"+r($t,ft,"[\\@]"))+"+"),n(n(si+"|"+r("[\\/\\?]",Mr))+"*"),{NOT_SCHEME:new RegExp(r("[^]",ce,Te,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",$t,ft),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",$t,ft),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",$t,ft),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",$t,ft),"g"),NOT_QUERY:new RegExp(r("[^\\%]",$t,ft,"[\\:\\@\\/\\?]",Mr),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",$t,ft,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",$t,ft),"g"),UNRESERVED:new RegExp($t,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",$t,Ct),"g"),PCT_ENCODED:new RegExp(qe,"g"),IPV4ADDRESS:new RegExp("^("+Tr+")$"),IPV6ADDRESS:new RegExp("^\\[?("+ki+")"+n(n("\\%25|\\%(?!"+xe+"{2})")+"("+mn+")")+"?\\]?$")}}var h=f(!1),_=f(!0),p=function(){function Ee(ce,Te){var xe=[],qe=!0,Et=!1,ft=void 0;try{for(var Ct=ce[Symbol.iterator](),gr;!(qe=(gr=Ct.next()).done)&&(xe.push(gr.value),!(Te&&xe.length===Te));qe=!0);}catch(Mr){Et=!0,ft=Mr}finally{try{!qe&&Ct.return&&Ct.return()}finally{if(Et)throw ft}}return xe}return function(ce,Te){if(Array.isArray(ce))return ce;if(Symbol.iterator in Object(ce))return Ee(ce,Te);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(Ee){if(Array.isArray(Ee)){for(var ce=0,Te=Array(Ee.length);ce<Ee.length;ce++)Te[ce]=Ee[ce];return Te}else return Array.from(Ee)},v=2147483647,m=36,b=1,A=26,U=38,I=700,O=72,y=128,N="-",T=/^xn--/,j=/[^\0-\x7E]/,F=/[\x2E\u3002\uFF0E\uFF61]/g,q={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=m-b,L=Math.floor,D=String.fromCharCode;function P(Ee){throw new RangeError(q[Ee])}function Q(Ee,ce){for(var Te=[],xe=Ee.length;xe--;)Te[xe]=ce(Ee[xe]);return Te}function H(Ee,ce){var Te=Ee.split("@"),xe="";Te.length>1&&(xe=Te[0]+"@",Ee=Te[1]),Ee=Ee.replace(F,".");var qe=Ee.split("."),Et=Q(qe,ce).join(".");return xe+Et}function oe(Ee){for(var ce=[],Te=0,xe=Ee.length;Te<xe;){var qe=Ee.charCodeAt(Te++);if(qe>=55296&&qe<=56319&&Te<xe){var Et=Ee.charCodeAt(Te++);(Et&64512)==56320?ce.push(((qe&1023)<<10)+(Et&1023)+65536):(ce.push(qe),Te--)}else ce.push(qe)}return ce}var re=function(ce){return String.fromCodePoint.apply(String,d(ce))},te=function(ce){return ce-48<10?ce-22:ce-65<26?ce-65:ce-97<26?ce-97:m},$=function(ce,Te){return ce+22+75*(ce<26)-((Te!=0)<<5)},W=function(ce,Te,xe){var qe=0;for(ce=xe?L(ce/I):ce>>1,ce+=L(ce/Te);ce>k*A>>1;qe+=m)ce=L(ce/k);return L(qe+(k+1)*ce/(ce+U))},de=function(ce){var Te=[],xe=ce.length,qe=0,Et=y,ft=O,Ct=ce.lastIndexOf(N);Ct<0&&(Ct=0);for(var gr=0;gr<Ct;++gr)ce.charCodeAt(gr)>=128&&P("not-basic"),Te.push(ce.charCodeAt(gr));for(var Mr=Ct>0?Ct+1:0;Mr<xe;){for(var $t=qe,cr=1,Tr=m;;Tr+=m){Mr>=xe&&P("invalid-input");var Ot=te(ce.charCodeAt(Mr++));(Ot>=m||Ot>L((v-qe)/cr))&&P("overflow"),qe+=Ot*cr;var hr=Tr<=ft?b:Tr>=ft+A?A:Tr-ft;if(Ot<hr)break;var mr=m-hr;cr>L(v/mr)&&P("overflow"),cr*=mr}var yr=Te.length+1;ft=W(qe-$t,yr,$t==0),L(qe/yr)>v-Et&&P("overflow"),Et+=L(qe/yr),qe%=yr,Te.splice(qe++,0,Et)}return String.fromCodePoint.apply(String,Te)},J=function(ce){var Te=[];ce=oe(ce);var xe=ce.length,qe=y,Et=0,ft=O,Ct=!0,gr=!1,Mr=void 0;try{for(var $t=ce[Symbol.iterator](),cr;!(Ct=(cr=$t.next()).done);Ct=!0){var Tr=cr.value;Tr<128&&Te.push(D(Tr))}}catch(Xn){gr=!0,Mr=Xn}finally{try{!Ct&&$t.return&&$t.return()}finally{if(gr)throw Mr}}var Ot=Te.length,hr=Ot;for(Ot&&Te.push(N);hr<xe;){var mr=v,yr=!0,An=!1,cn=void 0;try{for(var hn=ce[Symbol.iterator](),Ui;!(yr=(Ui=hn.next()).done);yr=!0){var ai=Ui.value;ai>=qe&&ai<mr&&(mr=ai)}}catch(Xn){An=!0,cn=Xn}finally{try{!yr&&hn.return&&hn.return()}finally{if(An)throw cn}}var dn=hr+1;mr-qe>L((v-Et)/dn)&&P("overflow"),Et+=(mr-qe)*dn,qe=mr;var kn=!0,ki=!1,mn=void 0;try{for(var si=ce[Symbol.iterator](),rs;!(kn=(rs=si.next()).done);kn=!0){var Na=rs.value;if(Na<qe&&++Et>v&&P("overflow"),Na==qe){for(var li=Et,oi=m;;oi+=m){var Ci=oi<=ft?b:oi>=ft+A?A:oi-ft;if(li<Ci)break;var ns=li-Ci,Mi=m-Ci;Te.push(D($(Ci+ns%Mi,0))),li=L(ns/Mi)}Te.push(D($(li,0))),ft=W(Et,dn,hr==Ot),Et=0,++hr}}}catch(Xn){ki=!0,mn=Xn}finally{try{!kn&&si.return&&si.return()}finally{if(ki)throw mn}}++Et,++qe}return Te.join("")},pe=function(ce){return H(ce,function(Te){return T.test(Te)?de(Te.slice(4).toLowerCase()):Te})},it=function(ce){return H(ce,function(Te){return j.test(Te)?"xn--"+J(Te):Te})},tt={version:"2.1.0",ucs2:{decode:oe,encode:re},decode:de,encode:J,toASCII:it,toUnicode:pe},Fe={};function He(Ee){var ce=Ee.charCodeAt(0),Te=void 0;return ce<16?Te="%0"+ce.toString(16).toUpperCase():ce<128?Te="%"+ce.toString(16).toUpperCase():ce<2048?Te="%"+(ce>>6|192).toString(16).toUpperCase()+"%"+(ce&63|128).toString(16).toUpperCase():Te="%"+(ce>>12|224).toString(16).toUpperCase()+"%"+(ce>>6&63|128).toString(16).toUpperCase()+"%"+(ce&63|128).toString(16).toUpperCase(),Te}function Ce(Ee){for(var ce="",Te=0,xe=Ee.length;Te<xe;){var qe=parseInt(Ee.substr(Te+1,2),16);if(qe<128)ce+=String.fromCharCode(qe),Te+=3;else if(qe>=194&&qe<224){if(xe-Te>=6){var Et=parseInt(Ee.substr(Te+4,2),16);ce+=String.fromCharCode((qe&31)<<6|Et&63)}else ce+=Ee.substr(Te,6);Te+=6}else if(qe>=224){if(xe-Te>=9){var ft=parseInt(Ee.substr(Te+4,2),16),Ct=parseInt(Ee.substr(Te+7,2),16);ce+=String.fromCharCode((qe&15)<<12|(ft&63)<<6|Ct&63)}else ce+=Ee.substr(Te,9);Te+=9}else ce+=Ee.substr(Te,3),Te+=3}return ce}function De(Ee,ce){function Te(xe){var qe=Ce(xe);return qe.match(ce.UNRESERVED)?qe:xe}return Ee.scheme&&(Ee.scheme=String(Ee.scheme).replace(ce.PCT_ENCODED,Te).toLowerCase().replace(ce.NOT_SCHEME,"")),Ee.userinfo!==void 0&&(Ee.userinfo=String(Ee.userinfo).replace(ce.PCT_ENCODED,Te).replace(ce.NOT_USERINFO,He).replace(ce.PCT_ENCODED,a)),Ee.host!==void 0&&(Ee.host=String(Ee.host).replace(ce.PCT_ENCODED,Te).toLowerCase().replace(ce.NOT_HOST,He).replace(ce.PCT_ENCODED,a)),Ee.path!==void 0&&(Ee.path=String(Ee.path).replace(ce.PCT_ENCODED,Te).replace(Ee.scheme?ce.NOT_PATH:ce.NOT_PATH_NOSCHEME,He).replace(ce.PCT_ENCODED,a)),Ee.query!==void 0&&(Ee.query=String(Ee.query).replace(ce.PCT_ENCODED,Te).replace(ce.NOT_QUERY,He).replace(ce.PCT_ENCODED,a)),Ee.fragment!==void 0&&(Ee.fragment=String(Ee.fragment).replace(ce.PCT_ENCODED,Te).replace(ce.NOT_FRAGMENT,He).replace(ce.PCT_ENCODED,a)),Ee}function Ge(Ee){return Ee.replace(/^0*(.*)/,"$1")||"0"}function gt(Ee,ce){var Te=Ee.match(ce.IPV4ADDRESS)||[],xe=p(Te,2),qe=xe[1];return qe?qe.split(".").map(Ge).join("."):Ee}function rt(Ee,ce){var Te=Ee.match(ce.IPV6ADDRESS)||[],xe=p(Te,3),qe=xe[1],Et=xe[2];if(qe){for(var ft=qe.toLowerCase().split("::").reverse(),Ct=p(ft,2),gr=Ct[0],Mr=Ct[1],$t=Mr?Mr.split(":").map(Ge):[],cr=gr.split(":").map(Ge),Tr=ce.IPV4ADDRESS.test(cr[cr.length-1]),Ot=Tr?7:8,hr=cr.length-Ot,mr=Array(Ot),yr=0;yr<Ot;++yr)mr[yr]=$t[yr]||cr[hr+yr]||"";Tr&&(mr[Ot-1]=gt(mr[Ot-1],ce));var An=mr.reduce(function(dn,kn,ki){if(!kn||kn==="0"){var mn=dn[dn.length-1];mn&&mn.index+mn.length===ki?mn.length++:dn.push({index:ki,length:1})}return dn},[]),cn=An.sort(function(dn,kn){return kn.length-dn.length})[0],hn=void 0;if(cn&&cn.length>1){var Ui=mr.slice(0,cn.index),ai=mr.slice(cn.index+cn.length);hn=Ui.join(":")+"::"+ai.join(":")}else hn=mr.join(":");return Et&&(hn+="%"+Et),hn}else return Ee}var me=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Be="".match(/(){0}/)[1]===void 0;function Vt(Ee){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te={},xe=ce.iri!==!1?_:h;ce.reference==="suffix"&&(Ee=(ce.scheme?ce.scheme+":":"")+"//"+Ee);var qe=Ee.match(me);if(qe){Be?(Te.scheme=qe[1],Te.userinfo=qe[3],Te.host=qe[4],Te.port=parseInt(qe[5],10),Te.path=qe[6]||"",Te.query=qe[7],Te.fragment=qe[8],isNaN(Te.port)&&(Te.port=qe[5])):(Te.scheme=qe[1]||void 0,Te.userinfo=Ee.indexOf("@")!==-1?qe[3]:void 0,Te.host=Ee.indexOf("//")!==-1?qe[4]:void 0,Te.port=parseInt(qe[5],10),Te.path=qe[6]||"",Te.query=Ee.indexOf("?")!==-1?qe[7]:void 0,Te.fragment=Ee.indexOf("#")!==-1?qe[8]:void 0,isNaN(Te.port)&&(Te.port=Ee.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?qe[4]:void 0)),Te.host&&(Te.host=rt(gt(Te.host,xe),xe)),Te.scheme===void 0&&Te.userinfo===void 0&&Te.host===void 0&&Te.port===void 0&&!Te.path&&Te.query===void 0?Te.reference="same-document":Te.scheme===void 0?Te.reference="relative":Te.fragment===void 0?Te.reference="absolute":Te.reference="uri",ce.reference&&ce.reference!=="suffix"&&ce.reference!==Te.reference&&(Te.error=Te.error||"URI is not a "+ce.reference+" reference.");var Et=Fe[(ce.scheme||Te.scheme||"").toLowerCase()];if(!ce.unicodeSupport&&(!Et||!Et.unicodeSupport)){if(Te.host&&(ce.domainHost||Et&&Et.domainHost))try{Te.host=tt.toASCII(Te.host.replace(xe.PCT_ENCODED,Ce).toLowerCase())}catch(ft){Te.error=Te.error||"Host's domain name can not be converted to ASCII via punycode: "+ft}De(Te,h)}else De(Te,xe);Et&&Et.parse&&Et.parse(Te,ce)}else Te.error=Te.error||"URI can not be parsed.";return Te}function ir(Ee,ce){var Te=ce.iri!==!1?_:h,xe=[];return Ee.userinfo!==void 0&&(xe.push(Ee.userinfo),xe.push("@")),Ee.host!==void 0&&xe.push(rt(gt(String(Ee.host),Te),Te).replace(Te.IPV6ADDRESS,function(qe,Et,ft){return"["+Et+(ft?"%25"+ft:"")+"]"})),(typeof Ee.port=="number"||typeof Ee.port=="string")&&(xe.push(":"),xe.push(String(Ee.port))),xe.length?xe.join(""):void 0}var lr=/^\.\.?\//,or=/^\/\.(\/|$)/,pr=/^\/\.\.(\/|$)/,rr=/^\/?(?:.|\n)*?(?=\/|$)/;function Ft(Ee){for(var ce=[];Ee.length;)if(Ee.match(lr))Ee=Ee.replace(lr,"");else if(Ee.match(or))Ee=Ee.replace(or,"/");else if(Ee.match(pr))Ee=Ee.replace(pr,"/"),ce.pop();else if(Ee==="."||Ee==="..")Ee="";else{var Te=Ee.match(rr);if(Te){var xe=Te[0];Ee=Ee.slice(xe.length),ce.push(xe)}else throw new Error("Unexpected dot segment condition")}return ce.join("")}function jt(Ee){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te=ce.iri?_:h,xe=[],qe=Fe[(ce.scheme||Ee.scheme||"").toLowerCase()];if(qe&&qe.serialize&&qe.serialize(Ee,ce),Ee.host&&!Te.IPV6ADDRESS.test(Ee.host)){if(ce.domainHost||qe&&qe.domainHost)try{Ee.host=ce.iri?tt.toUnicode(Ee.host):tt.toASCII(Ee.host.replace(Te.PCT_ENCODED,Ce).toLowerCase())}catch(Ct){Ee.error=Ee.error||"Host's domain name can not be converted to "+(ce.iri?"Unicode":"ASCII")+" via punycode: "+Ct}}De(Ee,Te),ce.reference!=="suffix"&&Ee.scheme&&(xe.push(Ee.scheme),xe.push(":"));var Et=ir(Ee,ce);if(Et!==void 0&&(ce.reference!=="suffix"&&xe.push("//"),xe.push(Et),Ee.path&&Ee.path.charAt(0)!=="/"&&xe.push("/")),Ee.path!==void 0){var ft=Ee.path;!ce.absolutePath&&(!qe||!qe.absolutePath)&&(ft=Ft(ft)),Et===void 0&&(ft=ft.replace(/^\/\//,"/%2F")),xe.push(ft)}return Ee.query!==void 0&&(xe.push("?"),xe.push(Ee.query)),Ee.fragment!==void 0&&(xe.push("#"),xe.push(Ee.fragment)),xe.join("")}function _r(Ee,ce){var Te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},xe=arguments[3],qe={};return xe||(Ee=Vt(jt(Ee,Te),Te),ce=Vt(jt(ce,Te),Te)),Te=Te||{},!Te.tolerant&&ce.scheme?(qe.scheme=ce.scheme,qe.userinfo=ce.userinfo,qe.host=ce.host,qe.port=ce.port,qe.path=Ft(ce.path||""),qe.query=ce.query):(ce.userinfo!==void 0||ce.host!==void 0||ce.port!==void 0?(qe.userinfo=ce.userinfo,qe.host=ce.host,qe.port=ce.port,qe.path=Ft(ce.path||""),qe.query=ce.query):(ce.path?(ce.path.charAt(0)==="/"?qe.path=Ft(ce.path):((Ee.userinfo!==void 0||Ee.host!==void 0||Ee.port!==void 0)&&!Ee.path?qe.path="/"+ce.path:Ee.path?qe.path=Ee.path.slice(0,Ee.path.lastIndexOf("/")+1)+ce.path:qe.path=ce.path,qe.path=Ft(qe.path)),qe.query=ce.query):(qe.path=Ee.path,ce.query!==void 0?qe.query=ce.query:qe.query=Ee.query),qe.userinfo=Ee.userinfo,qe.host=Ee.host,qe.port=Ee.port),qe.scheme=Ee.scheme),qe.fragment=ce.fragment,qe}function vr(Ee,ce,Te){var xe=u({scheme:"null"},Te);return jt(_r(Vt(Ee,xe),Vt(ce,xe),xe,!0),xe)}function rn(Ee,ce){return typeof Ee=="string"?Ee=jt(Vt(Ee,ce),ce):s(Ee)==="object"&&(Ee=Vt(jt(Ee,ce),ce)),Ee}function K(Ee,ce,Te){return typeof Ee=="string"?Ee=jt(Vt(Ee,Te),Te):s(Ee)==="object"&&(Ee=jt(Ee,Te)),typeof ce=="string"?ce=jt(Vt(ce,Te),Te):s(ce)==="object"&&(ce=jt(ce,Te)),Ee===ce}function S(Ee,ce){return Ee&&Ee.toString().replace(!ce||!ce.iri?h.ESCAPE:_.ESCAPE,He)}function M(Ee,ce){return Ee&&Ee.toString().replace(!ce||!ce.iri?h.PCT_ENCODED:_.PCT_ENCODED,Ce)}var Z={scheme:"http",domainHost:!0,parse:function(ce,Te){return ce.host||(ce.error=ce.error||"HTTP URIs must have a host."),ce},serialize:function(ce,Te){var xe=String(ce.scheme).toLowerCase()==="https";return(ce.port===(xe?443:80)||ce.port==="")&&(ce.port=void 0),ce.path||(ce.path="/"),ce}},_e={scheme:"https",domainHost:Z.domainHost,parse:Z.parse,serialize:Z.serialize};function Ie(Ee){return typeof Ee.secure=="boolean"?Ee.secure:String(Ee.scheme).toLowerCase()==="wss"}var Ue={scheme:"ws",domainHost:!0,parse:function(ce,Te){var xe=ce;return xe.secure=Ie(xe),xe.resourceName=(xe.path||"/")+(xe.query?"?"+xe.query:""),xe.path=void 0,xe.query=void 0,xe},serialize:function(ce,Te){if((ce.port===(Ie(ce)?443:80)||ce.port==="")&&(ce.port=void 0),typeof ce.secure=="boolean"&&(ce.scheme=ce.secure?"wss":"ws",ce.secure=void 0),ce.resourceName){var xe=ce.resourceName.split("?"),qe=p(xe,2),Et=qe[0],ft=qe[1];ce.path=Et&&Et!=="/"?Et:void 0,ce.query=ft,ce.resourceName=void 0}return ce.fragment=void 0,ce}},ct={scheme:"wss",domainHost:Ue.domainHost,parse:Ue.parse,serialize:Ue.serialize},wt={},pt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",mt="[0-9A-Fa-f]",Ve=n(n("%[EFef]"+mt+"%"+mt+mt+"%"+mt+mt)+"|"+n("%[89A-Fa-f]"+mt+"%"+mt+mt)+"|"+n("%"+mt+mt)),yt="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",fr="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Cr=r(fr,'[\\"\\\\]'),fn="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Gn=new RegExp(pt,"g"),nn=new RegExp(Ve,"g"),ii=new RegExp(r("[^]",yt,"[\\.]",'[\\"]',Cr),"g"),Ls=new RegExp(r("[^]",pt,fn),"g"),Bs=Ls;function Ca(Ee){var ce=Ce(Ee);return ce.match(Gn)?ce:Ee}var ts={scheme:"mailto",parse:function(ce,Te){var xe=ce,qe=xe.to=xe.path?xe.path.split(","):[];if(xe.path=void 0,xe.query){for(var Et=!1,ft={},Ct=xe.query.split("&"),gr=0,Mr=Ct.length;gr<Mr;++gr){var $t=Ct[gr].split("=");switch($t[0]){case"to":for(var cr=$t[1].split(","),Tr=0,Ot=cr.length;Tr<Ot;++Tr)qe.push(cr[Tr]);break;case"subject":xe.subject=M($t[1],Te);break;case"body":xe.body=M($t[1],Te);break;default:Et=!0,ft[M($t[0],Te)]=M($t[1],Te);break}}Et&&(xe.headers=ft)}xe.query=void 0;for(var hr=0,mr=qe.length;hr<mr;++hr){var yr=qe[hr].split("@");if(yr[0]=M(yr[0]),Te.unicodeSupport)yr[1]=M(yr[1],Te).toLowerCase();else try{yr[1]=tt.toASCII(M(yr[1],Te).toLowerCase())}catch(An){xe.error=xe.error||"Email address's domain name can not be converted to ASCII via punycode: "+An}qe[hr]=yr.join("@")}return xe},serialize:function(ce,Te){var xe=ce,qe=l(ce.to);if(qe){for(var Et=0,ft=qe.length;Et<ft;++Et){var Ct=String(qe[Et]),gr=Ct.lastIndexOf("@"),Mr=Ct.slice(0,gr).replace(nn,Ca).replace(nn,a).replace(ii,He),$t=Ct.slice(gr+1);try{$t=Te.iri?tt.toUnicode($t):tt.toASCII(M($t,Te).toLowerCase())}catch(hr){xe.error=xe.error||"Email address's domain name can not be converted to "+(Te.iri?"Unicode":"ASCII")+" via punycode: "+hr}qe[Et]=Mr+"@"+$t}xe.path=qe.join(",")}var cr=ce.headers=ce.headers||{};ce.subject&&(cr.subject=ce.subject),ce.body&&(cr.body=ce.body);var Tr=[];for(var Ot in cr)cr[Ot]!==wt[Ot]&&Tr.push(Ot.replace(nn,Ca).replace(nn,a).replace(Ls,He)+"="+cr[Ot].replace(nn,Ca).replace(nn,a).replace(Bs,He));return Tr.length&&(xe.query=Tr.join("&")),xe}},Tl=/^([^\:]+)\:(.*)/,Ta={scheme:"urn",parse:function(ce,Te){var xe=ce.path&&ce.path.match(Tl),qe=ce;if(xe){var Et=Te.scheme||qe.scheme||"urn",ft=xe[1].toLowerCase(),Ct=xe[2],gr=Et+":"+(Te.nid||ft),Mr=Fe[gr];qe.nid=ft,qe.nss=Ct,qe.path=void 0,Mr&&(qe=Mr.parse(qe,Te))}else qe.error=qe.error||"URN can not be parsed.";return qe},serialize:function(ce,Te){var xe=Te.scheme||ce.scheme||"urn",qe=ce.nid,Et=xe+":"+(Te.nid||qe),ft=Fe[Et];ft&&(ce=ft.serialize(ce,Te));var Ct=ce,gr=ce.nss;return Ct.path=(qe||Te.nid)+":"+gr,Ct}},Nl=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,gn={scheme:"urn:uuid",parse:function(ce,Te){var xe=ce;return xe.uuid=xe.nss,xe.nss=void 0,!Te.tolerant&&(!xe.uuid||!xe.uuid.match(Nl))&&(xe.error=xe.error||"UUID is not valid."),xe},serialize:function(ce,Te){var xe=ce;return xe.nss=(ce.uuid||"").toLowerCase(),xe}};Fe[Z.scheme]=Z,Fe[_e.scheme]=_e,Fe[Ue.scheme]=Ue,Fe[ct.scheme]=ct,Fe[ts.scheme]=ts,Fe[Ta.scheme]=Ta,Fe[gn.scheme]=gn,t.SCHEMES=Fe,t.pctEncChar=He,t.pctDecChars=Ce,t.parse=Vt,t.removeDotSegments=Ft,t.serialize=jt,t.resolveComponents=_r,t.resolve=vr,t.normalize=rn,t.equal=K,t.escapeComponent=S,t.unescapeComponent=M,Object.defineProperty(t,"__esModule",{value:!0})})})(Ih,Ih.exports);var dk=Ih.exports,td=function i(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!i(e[n],t[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){var a=s[n];if(!i(e[a],t[a]))return!1}return!0}return e!==e&&t!==t},pk=function(e){for(var t=0,r=e.length,n=0,s;n<r;)t++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<r&&(s=e.charCodeAt(n),(s&64512)==56320&&n++);return t},yl={copy:_k,checkDataType:Rh,checkDataTypes:vk,coerceToTypes:gk,toHash:rd,getProperty:nd,escapeQuotes:id,equal:td,ucs2length:pk,varOccurences:wk,varReplace:yk,schemaHasRules:Ek,schemaHasRulesExcept:Dk,schemaUnknownRules:Ak,toQuotedString:Ph,getPathExpr:kk,getPath:Ck,getData:Sk,unescapeFragment:Ik,unescapeJsonPointer:sd,escapeFragment:Rk,escapeJsonPointer:ad};function _k(i,e){e=e||{};for(var t in i)e[t]=i[t];return e}function Rh(i,e,t,r){var n=r?" !== ":" === ",s=r?" || ":" && ",a=r?"!":"",l=r?"":"!";switch(i){case"null":return e+n+"null";case"array":return a+"Array.isArray("+e+")";case"object":return"("+a+e+s+"typeof "+e+n+'"object"'+s+l+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+n+'"number"'+s+l+"("+e+" % 1)"+s+e+n+e+(t?s+a+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+n+'"'+i+'"'+(t?s+a+"isFinite("+e+")":"")+")";default:return"typeof "+e+n+'"'+i+'"'}}function vk(i,e,t){switch(i.length){case 1:return Rh(i[0],e,t,!0);default:var r="",n=rd(i);n.array&&n.object&&(r=n.null?"(":"(!"+e+" || ",r+="typeof "+e+' !== "object")',delete n.null,delete n.array,delete n.object),n.number&&delete n.integer;for(var s in n)r+=(r?" && ":"")+Rh(s,e,t,!0);return r}}var q_=rd(["string","number","integer","boolean","null"]);function gk(i,e){if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++){var n=e[r];(q_[n]||i==="array"&&n==="array")&&(t[t.length]=n)}if(t.length)return t}else{if(q_[e])return[e];if(i==="array"&&e==="array")return["array"]}}function rd(i){for(var e={},t=0;t<i.length;t++)e[i[t]]=!0;return e}var mk=/^[a-z$_][a-z$_0-9]*$/i,bk=/'|\\/g;function nd(i){return typeof i=="number"?"["+i+"]":mk.test(i)?"."+i:"['"+id(i)+"']"}function id(i){return i.replace(bk,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function wk(i,e){e+="[^0-9]";var t=i.match(new RegExp(e,"g"));return t?t.length:0}function yk(i,e,t){return e+="([^0-9])",t=t.replace(/\$/g,"$$$$"),i.replace(new RegExp(e,"g"),t+"$1")}function Ek(i,e){if(typeof i=="boolean")return!i;for(var t in i)if(e[t])return!0}function Dk(i,e,t){if(typeof i=="boolean")return!i&&t!="not";for(var r in i)if(r!=t&&e[r])return!0}function Ak(i,e){if(typeof i!="boolean"){for(var t in i)if(!e[t])return t}}function Ph(i){return"'"+id(i)+"'"}function kk(i,e,t,r){var n=t?"'/' + "+e+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'";return g1(i,n)}function Ck(i,e,t){var r=Ph(t?"/"+ad(e):nd(e));return g1(i,r)}var Tk=/^\/(?:[^~]|~0|~1)*$/,Nk=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Sk(i,e,t){var r,n,s,a;if(i==="")return"rootData";if(i[0]=="/"){if(!Tk.test(i))throw new Error("Invalid JSON-pointer: "+i);n=i,s="rootData"}else{if(a=i.match(Nk),!a)throw new Error("Invalid JSON-pointer: "+i);if(r=+a[1],n=a[2],n=="#"){if(r>=e)throw new Error("Cannot access property/index "+r+" levels up, current level is "+e);return t[e-r]}if(r>e)throw new Error("Cannot access data "+r+" levels up, current level is "+e);if(s="data"+(e-r||""),!n)return s}for(var l=s,u=n.split("/"),f=0;f<u.length;f++){var h=u[f];h&&(s+=nd(sd(h)),l+=" && "+s)}return l}function g1(i,e){return i=='""'?e:(i+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function Ik(i){return sd(decodeURIComponent(i))}function Rk(i){return encodeURIComponent(ad(i))}function ad(i){return i.replace(/~/g,"~0").replace(/\//g,"~1")}function sd(i){return i.replace(/~1/g,"/").replace(/~0/g,"~")}var Pk=yl,m1=Fk;function Fk(i){Pk.copy(i,this)}var b1={exports:{}},$a=b1.exports=function(i,e,t){typeof e=="function"&&(t=e,e={}),t=e.cb||t;var r=typeof t=="function"?t:t.pre||function(){},n=t.post||function(){};ef(e,r,n,i,"",i)};$a.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};$a.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};$a.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};$a.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ef(i,e,t,r,n,s,a,l,u,f){if(r&&typeof r=="object"&&!Array.isArray(r)){e(r,n,s,a,l,u,f);for(var h in r){var _=r[h];if(Array.isArray(_)){if(h in $a.arrayKeywords)for(var p=0;p<_.length;p++)ef(i,e,t,_[p],n+"/"+h+"/"+p,s,n,h,r,p)}else if(h in $a.propsKeywords){if(_&&typeof _=="object")for(var d in _)ef(i,e,t,_[d],n+"/"+h+"/"+Ok(d),s,n,h,r,d)}else(h in $a.keywords||i.allKeys&&!(h in $a.skipKeywords))&&ef(i,e,t,_,n+"/"+h,s,n,h,r)}t(r,n,s,a,l,u,f)}}function Ok(i){return i.replace(/~/g,"~0").replace(/\//g,"~1")}var Lk=b1.exports,To=dk,j_=td,Nf=yl,ff=m1,Bk=Lk,ld=Ya;Ya.normalizeId=Ga;Ya.fullPath=cf;Ya.url=hf;Ya.ids=xk;Ya.inlineRef=Fh;Ya.schema=Sf;function Ya(i,e,t){var r=this._refs[t];if(typeof r=="string")if(this._refs[r])r=this._refs[r];else return Ya.call(this,i,e,r);if(r=r||this._schemas[t],r instanceof ff)return Fh(r.schema,this._opts.inlineRefs)?r.schema:r.validate||this._compile(r);var n=Sf.call(this,e,t),s,a,l;return n&&(s=n.schema,e=n.root,l=n.baseId),s instanceof ff?a=s.validate||i.call(this,s.schema,e,void 0,l):s!==void 0&&(a=Fh(s,this._opts.inlineRefs)?s:i.call(this,s,e,void 0,l)),a}function Sf(i,e){var t=To.parse(e),r=y1(t),n=cf(this._getId(i.schema));if(Object.keys(i.schema).length===0||r!==n){var s=Ga(r),a=this._refs[s];if(typeof a=="string")return Uk.call(this,i,a,t);if(a instanceof ff)a.validate||this._compile(a),i=a;else if(a=this._schemas[s],a instanceof ff){if(a.validate||this._compile(a),s==Ga(e))return{schema:a,root:i,baseId:n};i=a}else return;if(!i.schema)return;n=cf(this._getId(i.schema))}return w1.call(this,t,n,i.schema,i)}function Uk(i,e,t){var r=Sf.call(this,i,e);if(r){var n=r.schema,s=r.baseId;i=r.root;var a=this._getId(n);return a&&(s=hf(s,a)),w1.call(this,t,s,n,i)}}var Mk=Nf.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function w1(i,e,t,r){if(i.fragment=i.fragment||"",i.fragment.slice(0,1)=="/"){for(var n=i.fragment.split("/"),s=1;s<n.length;s++){var a=n[s];if(a){if(a=Nf.unescapeFragment(a),t=t[a],t===void 0)break;var l;if(!Mk[a]&&(l=this._getId(t),l&&(e=hf(e,l)),t.$ref)){var u=hf(e,t.$ref),f=Sf.call(this,r,u);f&&(t=f.schema,r=f.root,e=f.baseId)}}}if(t!==void 0&&t!==r.schema)return{schema:t,root:r,baseId:e}}}var qk=Nf.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function Fh(i,e){if(e===!1)return!1;if(e===void 0||e===!0)return Oh(i);if(e)return Lh(i)<=e}function Oh(i){var e;if(Array.isArray(i)){for(var t=0;t<i.length;t++)if(e=i[t],typeof e=="object"&&!Oh(e))return!1}else for(var r in i)if(r=="$ref"||(e=i[r],typeof e=="object"&&!Oh(e)))return!1;return!0}function Lh(i){var e=0,t;if(Array.isArray(i)){for(var r=0;r<i.length;r++)if(t=i[r],typeof t=="object"&&(e+=Lh(t)),e==1/0)return 1/0}else for(var n in i){if(n=="$ref")return 1/0;if(qk[n])e++;else if(t=i[n],typeof t=="object"&&(e+=Lh(t)+1),e==1/0)return 1/0}return e}function cf(i,e){e!==!1&&(i=Ga(i));var t=To.parse(i);return y1(t)}function y1(i){return To.serialize(i).split("#")[0]+"#"}var jk=/#\/?$/;function Ga(i){return i?i.replace(jk,""):""}function hf(i,e){return e=Ga(e),To.resolve(i,e)}function xk(i){var e=Ga(this._getId(i)),t={"":e},r={"":cf(e,!1)},n={},s=this;return Bk(i,{allKeys:!0},function(a,l,u,f,h,_,p){if(l!==""){var d=s._getId(a),v=t[f],m=r[f]+"/"+h;if(p!==void 0&&(m+="/"+(typeof p=="number"?p:Nf.escapeFragment(p))),typeof d=="string"){d=v=Ga(v?To.resolve(v,d):d);var b=s._refs[d];if(typeof b=="string"&&(b=s._refs[b]),b&&b.schema){if(!j_(a,b.schema))throw new Error('id "'+d+'" resolves to more than one schema')}else if(d!=Ga(m))if(d[0]=="#"){if(n[d]&&!j_(a,n[d]))throw new Error('id "'+d+'" resolves to more than one schema');n[d]=a}else s._refs[d]=m}t[l]=v,r[l]=m}}),n}var fh=ld,od={Validation:x_(Hk),MissingRef:x_(ud)};function Hk(i){this.message="validation failed",this.errors=i,this.ajv=this.validation=!0}ud.message=function(i,e){return"can't resolve reference "+e+" from id "+i};function ud(i,e,t){this.message=t||ud.message(i,e),this.missingRef=fh.url(i,e),this.missingSchema=fh.normalizeId(fh.fullPath(this.missingRef))}function x_(i){return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var E1=function(i,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var t=typeof e.cycles=="boolean"?e.cycles:!1,r=e.cmp&&function(s){return function(a){return function(l,u){var f={key:l,value:a[l]},h={key:u,value:a[u]};return s(f,h)}}}(e.cmp),n=[];return function s(a){if(a&&a.toJSON&&typeof a.toJSON=="function"&&(a=a.toJSON()),a!==void 0){if(typeof a=="number")return isFinite(a)?""+a:"null";if(typeof a!="object")return JSON.stringify(a);var l,u;if(Array.isArray(a)){for(u="[",l=0;l<a.length;l++)l&&(u+=","),u+=s(a[l])||"null";return u+"]"}if(a===null)return"null";if(n.indexOf(a)!==-1){if(t)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var f=n.push(a)-1,h=Object.keys(a).sort(r&&r(a));for(u="",l=0;l<h.length;l++){var _=h[l],p=s(a[_]);p&&(u&&(u+=","),u+=JSON.stringify(_)+":"+p)}return n.splice(f,1),"{"+u+"}"}}(i)},D1=function(e,t,r){var n="",s=e.schema.$async===!0,a=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),l=e.self._getId(e.schema);if(e.opts.strictKeywords){var u=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(u){var f="unknown keyword: "+u;if(e.opts.strictKeywords==="log")e.logger.warn(f);else throw new Error(f)}}if(e.isTop&&(n+=" var validate = ",s&&(e.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",l&&(e.opts.sourceCode||e.opts.processCode)&&(n+=" "+("/*# sourceURL="+l+" */")+" ")),typeof e.schema=="boolean"||!(a||e.schema.$ref)){var t="false schema",h=e.level,_=e.dataLevel,p=e.schema[t],d=e.schemaPath+e.util.getProperty(t),v=e.errSchemaPath+"/"+t,y=!e.opts.allErrors,j,m="data"+(_||""),O="valid"+h;if(e.schema===!1){e.isTop?y=!0:n+=" var "+O+" = false; ";var b=b||[];b.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(j||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: {} ",e.opts.messages!==!1&&(n+=" , message: 'boolean schema is false' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ";var A=n;n=b.pop(),!e.compositeRule&&y?e.async?n+=" throw new ValidationError(["+A+"]); ":n+=" validate.errors = ["+A+"]; return false; ":n+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?s?n+=" return data; ":n+=" validate.errors = null; return true; ":n+=" var "+O+" = true; ";return e.isTop&&(n+=" }; return validate; "),n}if(e.isTop){var U=e.isTop,h=e.level=0,_=e.dataLevel=0,m="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var I="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn(I);else throw new Error(I)}n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{var h=e.level,_=e.dataLevel,m="data"+(_||"");if(l&&(e.baseId=e.resolve.url(e.baseId,l)),s&&!e.async)throw new Error("async schema in sync schema");n+=" var errs_"+h+" = errors;"}var O="valid"+h,y=!e.opts.allErrors,N="",T="",j,F=e.schema.type,q=Array.isArray(F);if(F&&e.opts.nullable&&e.schema.nullable===!0&&(q?F.indexOf("null")==-1&&(F=F.concat("null")):F!="null"&&(F=[F,"null"],q=!0)),q&&F.length==1&&(F=F[0],q=!1),e.schema.$ref&&a){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(a=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(n+=" "+e.RULES.all.$comment.code(e,"$comment")),F){if(e.opts.coerceTypes)var k=e.util.coerceToTypes(e.opts.coerceTypes,F);var L=e.RULES.types[F];if(k||q||L===!0||L&&!or(L)){var d=e.schemaPath+".type",v=e.errSchemaPath+"/type",d=e.schemaPath+".type",v=e.errSchemaPath+"/type",D=q?"checkDataTypes":"checkDataType";if(n+=" if ("+e.util[D](F,m,e.opts.strictNumbers,!0)+") { ",k){var P="dataType"+h,Q="coerced"+h;n+=" var "+P+" = typeof "+m+"; var "+Q+" = undefined; ",e.opts.coerceTypes=="array"&&(n+=" if ("+P+" == 'object' && Array.isArray("+m+") && "+m+".length == 1) { "+m+" = "+m+"[0]; "+P+" = typeof "+m+"; if ("+e.util.checkDataType(e.schema.type,m,e.opts.strictNumbers)+") "+Q+" = "+m+"; } "),n+=" if ("+Q+" !== undefined) ; ";var H=k;if(H)for(var oe,re=-1,te=H.length-1;re<te;)oe=H[re+=1],oe=="string"?n+=" else if ("+P+" == 'number' || "+P+" == 'boolean') "+Q+" = '' + "+m+"; else if ("+m+" === null) "+Q+" = ''; ":oe=="number"||oe=="integer"?(n+=" else if ("+P+" == 'boolean' || "+m+" === null || ("+P+" == 'string' && "+m+" && "+m+" == +"+m+" ",oe=="integer"&&(n+=" && !("+m+" % 1)"),n+=")) "+Q+" = +"+m+"; "):oe=="boolean"?n+=" else if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+Q+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+Q+" = true; ":oe=="null"?n+=" else if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+Q+" = null; ":e.opts.coerceTypes=="array"&&oe=="array"&&(n+=" else if ("+P+" == 'string' || "+P+" == 'number' || "+P+" == 'boolean' || "+m+" == null) "+Q+" = ["+m+"]; ");n+=" else {   ";var b=b||[];b.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(j||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { type: '",q?n+=""+F.join(","):n+=""+F,n+="' } ",e.opts.messages!==!1&&(n+=" , message: 'should be ",q?n+=""+F.join(","):n+=""+F,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ";var A=n;n=b.pop(),!e.compositeRule&&y?e.async?n+=" throw new ValidationError(["+A+"]); ":n+=" validate.errors = ["+A+"]; return false; ":n+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } if ("+Q+" !== undefined) {  ";var $=_?"data"+(_-1||""):"parentData",W=_?e.dataPathArr[_]:"parentDataProperty";n+=" "+m+" = "+Q+"; ",_||(n+="if ("+$+" !== undefined)"),n+=" "+$+"["+W+"] = "+Q+"; } "}else{var b=b||[];b.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(j||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { type: '",q?n+=""+F.join(","):n+=""+F,n+="' } ",e.opts.messages!==!1&&(n+=" , message: 'should be ",q?n+=""+F.join(","):n+=""+F,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ";var A=n;n=b.pop(),!e.compositeRule&&y?e.async?n+=" throw new ValidationError(["+A+"]); ":n+=" validate.errors = ["+A+"]; return false; ":n+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}n+=" } "}}if(e.schema.$ref&&!a)n+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",y&&(n+=" } if (errors === ",U?n+="0":n+="errs_"+h,n+=") { ",T+="}");else{var de=e.RULES;if(de){for(var L,J=-1,pe=de.length-1;J<pe;)if(L=de[J+=1],or(L)){if(L.type&&(n+=" if ("+e.util.checkDataType(L.type,m,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(L.type=="object"&&e.schema.properties){var p=e.schema.properties,it=Object.keys(p),tt=it;if(tt)for(var Fe,He=-1,Ce=tt.length-1;He<Ce;){Fe=tt[He+=1];var De=p[Fe];if(De.default!==void 0){var Ge=m+e.util.getProperty(Fe);if(e.compositeRule){if(e.opts.strictDefaults){var I="default is ignored for: "+Ge;if(e.opts.strictDefaults==="log")e.logger.warn(I);else throw new Error(I)}}else n+=" if ("+Ge+" === undefined ",e.opts.useDefaults=="empty"&&(n+=" || "+Ge+" === null || "+Ge+" === '' "),n+=" ) "+Ge+" = ",e.opts.useDefaults=="shared"?n+=" "+e.useDefault(De.default)+" ":n+=" "+JSON.stringify(De.default)+" ",n+="; "}}}else if(L.type=="array"&&Array.isArray(e.schema.items)){var gt=e.schema.items;if(gt){for(var De,re=-1,rt=gt.length-1;re<rt;)if(De=gt[re+=1],De.default!==void 0){var Ge=m+"["+re+"]";if(e.compositeRule){if(e.opts.strictDefaults){var I="default is ignored for: "+Ge;if(e.opts.strictDefaults==="log")e.logger.warn(I);else throw new Error(I)}}else n+=" if ("+Ge+" === undefined ",e.opts.useDefaults=="empty"&&(n+=" || "+Ge+" === null || "+Ge+" === '' "),n+=" ) "+Ge+" = ",e.opts.useDefaults=="shared"?n+=" "+e.useDefault(De.default)+" ":n+=" "+JSON.stringify(De.default)+" ",n+="; "}}}}var me=L.rules;if(me){for(var Be,Vt=-1,ir=me.length-1;Vt<ir;)if(Be=me[Vt+=1],pr(Be)){var lr=Be.code(e,Be.keyword,L.type);lr&&(n+=" "+lr+" ",y&&(N+="}"))}}if(y&&(n+=" "+N+" ",N=""),L.type&&(n+=" } ",F&&F===L.type&&!k)){n+=" else { ";var d=e.schemaPath+".type",v=e.errSchemaPath+"/type",b=b||[];b.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(j||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { type: '",q?n+=""+F.join(","):n+=""+F,n+="' } ",e.opts.messages!==!1&&(n+=" , message: 'should be ",q?n+=""+F.join(","):n+=""+F,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ";var A=n;n=b.pop(),!e.compositeRule&&y?e.async?n+=" throw new ValidationError(["+A+"]); ":n+=" validate.errors = ["+A+"]; return false; ":n+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } "}y&&(n+=" if (errors === ",U?n+="0":n+="errs_"+h,n+=") { ",T+="}")}}}y&&(n+=" "+T+" "),U?(s?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+O+" = errors === errs_"+h+";";function or(Ft){for(var jt=Ft.rules,_r=0;_r<jt.length;_r++)if(pr(jt[_r]))return!0}function pr(Ft){return e.schema[Ft.keyword]!==void 0||Ft.implements&&rr(Ft)}function rr(Ft){for(var jt=Ft.implements,_r=0;_r<jt.length;_r++)if(e.schema[jt[_r]]!==void 0)return!0}return n},Hu=ld,df=yl,A1=od,Vk=E1,H_=D1,zk=df.ucs2length,$k=td,Gk=A1.Validation,Xk=Bh;function Bh(i,e,t,r){var n=this,s=this._opts,a=[void 0],l={},u=[],f={},h=[],_={},p=[];e=e||{schema:i,refVal:a,refs:l};var d=Wk.call(this,i,e,r),v=this._compilations[d.index];if(d.compiling)return v.callValidate=I;var m=this._formats,b=this.RULES;try{var A=O(i,e,t,r);v.validate=A;var U=v.callValidate;return U&&(U.schema=A.schema,U.errors=null,U.refs=A.refs,U.refVal=A.refVal,U.root=A.root,U.$async=A.$async,s.sourceCode&&(U.source=A.source)),A}finally{Qk.call(this,i,e,r)}function I(){var D=v.validate,P=D.apply(this,arguments);return I.errors=D.errors,P}function O(D,P,Q,H){var oe=!P||P&&P.schema==D;if(P.schema!=e.schema)return Bh.call(n,D,P,Q,H);var re=D.$async===!0,te=H_({isTop:!0,schema:D,isRoot:oe,baseId:H,root:P,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:A1.MissingRef,RULES:b,validate:H_,util:df,resolve:Hu,resolveRef:y,usePattern:q,useDefault:k,useCustomRule:L,opts:s,formats:m,logger:n.logger,self:n});te=Vu(a,Jk)+Vu(u,Yk)+Vu(h,Kk)+Vu(p,Zk)+te,s.processCode&&(te=s.processCode(te,D));var $;try{var W=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",te);$=W(n,b,m,e,a,h,p,$k,zk,Gk),a[0]=$}catch(de){throw n.logger.error("Error compiling schema, function code:",te),de}return $.schema=D,$.errors=null,$.refs=l,$.refVal=a,$.root=oe?$:P,re&&($.$async=!0),s.sourceCode===!0&&($.source={code:te,patterns:u,defaults:h}),$}function y(D,P,Q){P=Hu.url(D,P);var H=l[P],oe,re;if(H!==void 0)return oe=a[H],re="refVal["+H+"]",F(oe,re);if(!Q&&e.refs){var te=e.refs[P];if(te!==void 0)return oe=e.refVal[te],re=N(P,oe),F(oe,re)}re=N(P);var $=Hu.call(n,O,e,P);if($===void 0){var W=t&&t[P];W&&($=Hu.inlineRef(W,s.inlineRefs)?W:Bh.call(n,W,e,t,D))}if($===void 0)T(P);else return j(P,$),F($,re)}function N(D,P){var Q=a.length;return a[Q]=P,l[D]=Q,"refVal"+Q}function T(D){delete l[D]}function j(D,P){var Q=l[D];a[Q]=P}function F(D,P){return typeof D=="object"||typeof D=="boolean"?{code:P,schema:D,inline:!0}:{code:P,$async:D&&!!D.$async}}function q(D){var P=f[D];return P===void 0&&(P=f[D]=u.length,u[P]=D),"pattern"+P}function k(D){switch(typeof D){case"boolean":case"number":return""+D;case"string":return df.toQuotedString(D);case"object":if(D===null)return"null";var P=Vk(D),Q=_[P];return Q===void 0&&(Q=_[P]=h.length,h[Q]=D),"default"+Q}}function L(D,P,Q,H){if(n._opts.validateSchema!==!1){var oe=D.definition.dependencies;if(oe&&!oe.every(function(tt){return Object.prototype.hasOwnProperty.call(Q,tt)}))throw new Error("parent schema must have all required keywords: "+oe.join(","));var re=D.definition.validateSchema;if(re){var te=re(P);if(!te){var $="keyword schema is invalid: "+n.errorsText(re.errors);if(n._opts.validateSchema=="log")n.logger.error($);else throw new Error($)}}}var W=D.definition.compile,de=D.definition.inline,J=D.definition.macro,pe;if(W)pe=W.call(n,P,Q,H);else if(J)pe=J.call(n,P,Q,H),s.validateSchema!==!1&&n.validateSchema(pe,!0);else if(de)pe=de.call(n,H,D.keyword,P,Q);else if(pe=D.definition.validate,!pe)return;if(pe===void 0)throw new Error('custom keyword "'+D.keyword+'"failed to compile');var it=p.length;return p[it]=pe,{code:"customRule"+it,validate:pe}}}function Wk(i,e,t){var r=k1.call(this,i,e,t);return r>=0?{index:r,compiling:!0}:(r=this._compilations.length,this._compilations[r]={schema:i,root:e,baseId:t},{index:r,compiling:!1})}function Qk(i,e,t){var r=k1.call(this,i,e,t);r>=0&&this._compilations.splice(r,1)}function k1(i,e,t){for(var r=0;r<this._compilations.length;r++){var n=this._compilations[r];if(n.schema==i&&n.root==e&&n.baseId==t)return r}return-1}function Yk(i,e){return"var pattern"+i+" = new RegExp("+df.toQuotedString(e[i])+");"}function Kk(i){return"var default"+i+" = defaults["+i+"];"}function Jk(i,e){return e[i]===void 0?"":"var refVal"+i+" = refVal["+i+"];"}function Zk(i){return"var customRule"+i+" = customRules["+i+"];"}function Vu(i,e){if(!i.length)return"";for(var t="",r=0;r<i.length;r++)t+=e(r,i);return t}var C1={exports:{}},If=C1.exports=function(){this._cache={}};If.prototype.put=function(e,t){this._cache[e]=t};If.prototype.get=function(e){return this._cache[e]};If.prototype.del=function(e){delete this._cache[e]};If.prototype.clear=function(){this._cache={}};var eC=C1.exports,tC=yl,rC=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,nC=[0,31,28,31,30,31,30,31,31,30,31,30,31],iC=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,T1=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,aC=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,sC=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,N1=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,S1=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,I1=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,R1=/^(?:\/(?:[^~/]|~0|~1)*)*$/,P1=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,F1=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,lC=Rf;function Rf(i){return i=i=="full"?"full":"fast",tC.copy(Rf[i])}Rf.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":N1,url:S1,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:T1,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:B1,uuid:I1,"json-pointer":R1,"json-pointer-uri-fragment":P1,"relative-json-pointer":F1};Rf.full={date:O1,time:L1,"date-time":fC,uri:hC,"uri-reference":sC,"uri-template":N1,url:S1,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:T1,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:B1,uuid:I1,"json-pointer":R1,"json-pointer-uri-fragment":P1,"relative-json-pointer":F1};function oC(i){return i%4===0&&(i%100!==0||i%400===0)}function O1(i){var e=i.match(rC);if(!e)return!1;var t=+e[1],r=+e[2],n=+e[3];return r>=1&&r<=12&&n>=1&&n<=(r==2&&oC(t)?29:nC[r])}function L1(i,e){var t=i.match(iC);if(!t)return!1;var r=t[1],n=t[2],s=t[3],a=t[5];return(r<=23&&n<=59&&s<=59||r==23&&n==59&&s==60)&&(!e||a)}var uC=/t|\s/i;function fC(i){var e=i.split(uC);return e.length==2&&O1(e[0])&&L1(e[1],!0)}var cC=/\/|:/;function hC(i){return cC.test(i)&&aC.test(i)}var dC=/[^\\]\\Z/;function B1(i){if(dC.test(i))return!1;try{return new RegExp(i),!0}catch{return!1}}var pC=function(e,t,r){var n=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,h="data"+(a||""),_="valid"+s,p,d;if(l=="#"||l=="#/")e.isRoot?(p=e.async,d="validate"):(p=e.root.schema.$async===!0,d="root.refVal[0]");else{var v=e.resolveRef(e.baseId,l,e.isRoot);if(v===void 0){var m=e.MissingRefError.message(e.baseId,l);if(e.opts.missingRefs=="fail"){e.logger.error(m);var b=b||[];b.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",e.opts.messages!==!1&&(n+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(n+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";var A=n;n=b.pop(),!e.compositeRule&&f?e.async?n+=" throw new ValidationError(["+A+"]); ":n+=" validate.errors = ["+A+"]; return false; ":n+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",f&&(n+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(m),f&&(n+=" if (true) { ");else throw new e.MissingRefError(e.baseId,l,m)}else if(v.inline){var U=e.util.copy(e);U.level++;var I="valid"+U.level;U.schema=v.schema,U.schemaPath="",U.errSchemaPath=l;var O=e.validate(U).replace(/validate\.schema/g,v.code);n+=" "+O+" ",f&&(n+=" if ("+I+") { ")}else p=v.$async===!0||e.async&&v.$async!==!1,d=v.code}if(d){var b=b||[];b.push(n),n="",e.opts.passContext?n+=" "+d+".call(this, ":n+=" "+d+"( ",n+=" "+h+", (dataPath || '')",e.errorPath!='""'&&(n+=" + "+e.errorPath);var y=a?"data"+(a-1||""):"parentData",N=a?e.dataPathArr[a]:"parentDataProperty";n+=" , "+y+" , "+N+", rootData)  ";var T=n;if(n=b.pop(),p){if(!e.async)throw new Error("async schema referenced by sync schema");f&&(n+=" var "+_+"; "),n+=" try { await "+T+"; ",f&&(n+=" "+_+" = true; "),n+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",f&&(n+=" "+_+" = false; "),n+=" } ",f&&(n+=" if ("+_+") { ")}else n+=" if (!"+T+") { if (vErrors === null) vErrors = "+d+".errors; else vErrors = vErrors.concat("+d+".errors); errors = vErrors.length; } ",f&&(n+=" else { ")}return n},_C=function(e,t,r){var n=" ",s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,f=e.util.copy(e),h="";f.level++;var _="valid"+f.level,p=f.baseId,d=!0,v=s;if(v)for(var m,b=-1,A=v.length-1;b<A;)m=v[b+=1],(e.opts.strictKeywords?typeof m=="object"&&Object.keys(m).length>0||m===!1:e.util.schemaHasRules(m,e.RULES.all))&&(d=!1,f.schema=m,f.schemaPath=a+"["+b+"]",f.errSchemaPath=l+"/"+b,n+="  "+e.validate(f)+" ",f.baseId=p,u&&(n+=" if ("+_+") { ",h+="}"));return u&&(d?n+=" if (true) { ":n+=" "+h.slice(0,-1)+" "),n},vC=function(e,t,r){var n=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,_="data"+(a||""),p="valid"+s,d="errs__"+s,v=e.util.copy(e),m="";v.level++;var b="valid"+v.level,A=l.every(function(j){return e.opts.strictKeywords?typeof j=="object"&&Object.keys(j).length>0||j===!1:e.util.schemaHasRules(j,e.RULES.all)});if(A){var U=v.baseId;n+=" var "+d+" = errors; var "+p+" = false;  ";var I=e.compositeRule;e.compositeRule=v.compositeRule=!0;var O=l;if(O)for(var y,N=-1,T=O.length-1;N<T;)y=O[N+=1],v.schema=y,v.schemaPath=u+"["+N+"]",v.errSchemaPath=f+"/"+N,n+="  "+e.validate(v)+" ",v.baseId=U,n+=" "+p+" = "+p+" || "+b+"; if (!"+p+") { ",m+="}";e.compositeRule=v.compositeRule=I,n+=" "+m+" if (!"+p+") {   var err =   ",e.createErrors!==!1?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",e.opts.messages!==!1&&(n+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else h&&(n+=" if (true) { ");return n},gC=function(e,t,r){var n=" ",s=e.schema[t],a=e.errSchemaPath+"/"+t;e.opts.allErrors;var l=e.util.toQuotedString(s);return e.opts.$comment===!0?n+=" console.log("+l+");":typeof e.opts.$comment=="function"&&(n+=" self._opts.$comment("+l+", "+e.util.toQuotedString(a)+", validate.root.schema);"),n},mC=function(e,t,r){var n=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,_="data"+(a||""),p="valid"+s,d=e.opts.$data&&l&&l.$data;d&&(n+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; "),d||(n+=" var schema"+s+" = validate.schema"+u+";"),n+="var "+p+" = equal("+_+", schema"+s+"); if (!"+p+") {   ";var v=v||[];v.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { allowedValue: schema"+s+" } ",e.opts.messages!==!1&&(n+=" , message: 'should be equal to constant' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ";var m=n;return n=v.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",h&&(n+=" else { "),n},bC=function(e,t,r){var n=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,_="data"+(a||""),p="valid"+s,d="errs__"+s,v=e.util.copy(e),m="";v.level++;var b="valid"+v.level,A="i"+s,U=v.dataLevel=e.dataLevel+1,I="data"+U,O=e.baseId,y=e.opts.strictKeywords?typeof l=="object"&&Object.keys(l).length>0||l===!1:e.util.schemaHasRules(l,e.RULES.all);if(n+="var "+d+" = errors;var "+p+";",y){var N=e.compositeRule;e.compositeRule=v.compositeRule=!0,v.schema=l,v.schemaPath=u,v.errSchemaPath=f,n+=" var "+b+" = false; for (var "+A+" = 0; "+A+" < "+_+".length; "+A+"++) { ",v.errorPath=e.util.getPathExpr(e.errorPath,A,e.opts.jsonPointers,!0);var T=_+"["+A+"]";v.dataPathArr[U]=A;var j=e.validate(v);v.baseId=O,e.util.varOccurences(j,I)<2?n+=" "+e.util.varReplace(j,I,T)+" ":n+=" var "+I+" = "+T+"; "+j+" ",n+=" if ("+b+") break; }  ",e.compositeRule=v.compositeRule=N,n+=" "+m+" if (!"+b+") {"}else n+=" if ("+_+".length == 0) {";var F=F||[];F.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",e.opts.messages!==!1&&(n+=" , message: 'should contain a valid item' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ";var q=n;return n=F.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+q+"]); ":n+=" validate.errors = ["+q+"]; return false; ":n+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",y&&(n+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),e.opts.allErrors&&(n+=" } "),n},wC=function(e,t,r){var n=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,_="data"+(a||""),p="errs__"+s,d=e.util.copy(e),v="";d.level++;var m="valid"+d.level,b={},A={},U=e.opts.ownProperties;for(N in l)if(N!="__proto__"){var I=l[N],O=Array.isArray(I)?A:b;O[N]=I}n+="var "+p+" = errors;";var y=e.errorPath;n+="var missing"+s+";";for(var N in A)if(O=A[N],O.length){if(n+=" if ( "+_+e.util.getProperty(N)+" !== undefined ",U&&(n+=" && Object.prototype.hasOwnProperty.call("+_+", '"+e.util.escapeQuotes(N)+"') "),h){n+=" && ( ";var T=O;if(T)for(var j,F=-1,q=T.length-1;F<q;){j=T[F+=1],F&&(n+=" || ");var k=e.util.getProperty(j),L=_+k;n+=" ( ( "+L+" === undefined ",U&&(n+=" || ! Object.prototype.hasOwnProperty.call("+_+", '"+e.util.escapeQuotes(j)+"') "),n+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?j:k)+") ) "}n+=")) {  ";var D="missing"+s,P="' + "+D+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(y,D,!0):y+" + "+D);var Q=Q||[];Q.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { property: '"+e.util.escapeQuotes(N)+"', missingProperty: '"+P+"', depsCount: "+O.length+", deps: '"+e.util.escapeQuotes(O.length==1?O[0]:O.join(", "))+"' } ",e.opts.messages!==!1&&(n+=" , message: 'should have ",O.length==1?n+="property "+e.util.escapeQuotes(O[0]):n+="properties "+e.util.escapeQuotes(O.join(", ")),n+=" when property "+e.util.escapeQuotes(N)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ";var H=n;n=Q.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+H+"]); ":n+=" validate.errors = ["+H+"]; return false; ":n+=" var err = "+H+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var oe=O;if(oe)for(var j,re=-1,te=oe.length-1;re<te;){j=oe[re+=1];var k=e.util.getProperty(j),P=e.util.escapeQuotes(j),L=_+k;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(y,j,e.opts.jsonPointers)),n+=" if ( "+L+" === undefined ",U&&(n+=" || ! Object.prototype.hasOwnProperty.call("+_+", '"+e.util.escapeQuotes(j)+"') "),n+=") {  var err =   ",e.createErrors!==!1?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { property: '"+e.util.escapeQuotes(N)+"', missingProperty: '"+P+"', depsCount: "+O.length+", deps: '"+e.util.escapeQuotes(O.length==1?O[0]:O.join(", "))+"' } ",e.opts.messages!==!1&&(n+=" , message: 'should have ",O.length==1?n+="property "+e.util.escapeQuotes(O[0]):n+="properties "+e.util.escapeQuotes(O.join(", ")),n+=" when property "+e.util.escapeQuotes(N)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n+=" }   ",h&&(v+="}",n+=" else { ")}e.errorPath=y;var $=d.baseId;for(var N in b){var I=b[N];(e.opts.strictKeywords?typeof I=="object"&&Object.keys(I).length>0||I===!1:e.util.schemaHasRules(I,e.RULES.all))&&(n+=" "+m+" = true; if ( "+_+e.util.getProperty(N)+" !== undefined ",U&&(n+=" && Object.prototype.hasOwnProperty.call("+_+", '"+e.util.escapeQuotes(N)+"') "),n+=") { ",d.schema=I,d.schemaPath=u+e.util.getProperty(N),d.errSchemaPath=f+"/"+e.util.escapeFragment(N),n+="  "+e.validate(d)+" ",d.baseId=$,n+=" }  ",h&&(n+=" if ("+m+") { ",v+="}"))}return h&&(n+="   "+v+" if ("+p+" == errors) {"),n},yC=function(e,t,r){var n=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,_="data"+(a||""),p="valid"+s,d=e.opts.$data&&l&&l.$data;d&&(n+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ");var v="i"+s,m="schema"+s;d||(n+=" var "+m+" = validate.schema"+u+";"),n+="var "+p+";",d&&(n+=" if (schema"+s+" === undefined) "+p+" = true; else if (!Array.isArray(schema"+s+")) "+p+" = false; else {"),n+=""+p+" = false;for (var "+v+"=0; "+v+"<"+m+".length; "+v+"++) if (equal("+_+", "+m+"["+v+"])) { "+p+" = true; break; }",d&&(n+="  }  "),n+=" if (!"+p+") {   ";var b=b||[];b.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { allowedValues: schema"+s+" } ",e.opts.messages!==!1&&(n+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ";var A=n;return n=b.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+A+"]); ":n+=" validate.errors = ["+A+"]; return false; ":n+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",h&&(n+=" else { "),n},EC=function(e,t,r){var n=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,_="data"+(a||"");if(e.opts.format===!1)return h&&(n+=" if (true) { "),n;var p=e.opts.$data&&l&&l.$data,d;p?(n+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",d="schema"+s):d=l;var v=e.opts.unknownFormats,m=Array.isArray(v);if(p){var b="format"+s,A="isObject"+s,U="formatType"+s;n+=" var "+b+" = formats["+d+"]; var "+A+" = typeof "+b+" == 'object' && !("+b+" instanceof RegExp) && "+b+".validate; var "+U+" = "+A+" && "+b+".type || 'string'; if ("+A+") { ",e.async&&(n+=" var async"+s+" = "+b+".async; "),n+=" "+b+" = "+b+".validate; } if (  ",p&&(n+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),n+=" (",v!="ignore"&&(n+=" ("+d+" && !"+b+" ",m&&(n+=" && self._opts.unknownFormats.indexOf("+d+") == -1 "),n+=") || "),n+=" ("+b+" && "+U+" == '"+r+"' && !(typeof "+b+" == 'function' ? ",e.async?n+=" (async"+s+" ? await "+b+"("+_+") : "+b+"("+_+")) ":n+=" "+b+"("+_+") ",n+=" : "+b+".test("+_+"))))) {"}else{var b=e.formats[l];if(!b){if(v=="ignore")return e.logger.warn('unknown format "'+l+'" ignored in schema at path "'+e.errSchemaPath+'"'),h&&(n+=" if (true) { "),n;if(m&&v.indexOf(l)>=0)return h&&(n+=" if (true) { "),n;throw new Error('unknown format "'+l+'" is used in schema at path "'+e.errSchemaPath+'"')}var A=typeof b=="object"&&!(b instanceof RegExp)&&b.validate,U=A&&b.type||"string";if(A){var I=b.async===!0;b=b.validate}if(U!=r)return h&&(n+=" if (true) { "),n;if(I){if(!e.async)throw new Error("async format in sync schema");var O="formats"+e.util.getProperty(l)+".validate";n+=" if (!(await "+O+"("+_+"))) { "}else{n+=" if (! ";var O="formats"+e.util.getProperty(l);A&&(O+=".validate"),typeof b=="function"?n+=" "+O+"("+_+") ":n+=" "+O+".test("+_+") ",n+=") { "}}var y=y||[];y.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { format:  ",p?n+=""+d:n+=""+e.util.toQuotedString(l),n+="  } ",e.opts.messages!==!1&&(n+=` , message: 'should match format "`,p?n+="' + "+d+" + '":n+=""+e.util.escapeQuotes(l),n+=`"' `),e.opts.verbose&&(n+=" , schema:  ",p?n+="validate.schema"+u:n+=""+e.util.toQuotedString(l),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ";var N=n;return n=y.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+N+"]); ":n+=" validate.errors = ["+N+"]; return false; ":n+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",h&&(n+=" else { "),n},DC=function(e,t,r){var n=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,_="data"+(a||""),p="valid"+s,d="errs__"+s,v=e.util.copy(e);v.level++;var m="valid"+v.level,b=e.schema.then,A=e.schema.else,U=b!==void 0&&(e.opts.strictKeywords?typeof b=="object"&&Object.keys(b).length>0||b===!1:e.util.schemaHasRules(b,e.RULES.all)),I=A!==void 0&&(e.opts.strictKeywords?typeof A=="object"&&Object.keys(A).length>0||A===!1:e.util.schemaHasRules(A,e.RULES.all)),O=v.baseId;if(U||I){var y;v.createErrors=!1,v.schema=l,v.schemaPath=u,v.errSchemaPath=f,n+=" var "+d+" = errors; var "+p+" = true;  ";var N=e.compositeRule;e.compositeRule=v.compositeRule=!0,n+="  "+e.validate(v)+" ",v.baseId=O,v.createErrors=!0,n+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }  ",e.compositeRule=v.compositeRule=N,U?(n+=" if ("+m+") {  ",v.schema=e.schema.then,v.schemaPath=e.schemaPath+".then",v.errSchemaPath=e.errSchemaPath+"/then",n+="  "+e.validate(v)+" ",v.baseId=O,n+=" "+p+" = "+m+"; ",U&&I?(y="ifClause"+s,n+=" var "+y+" = 'then'; "):y="'then'",n+=" } ",I&&(n+=" else { ")):n+=" if (!"+m+") { ",I&&(v.schema=e.schema.else,v.schemaPath=e.schemaPath+".else",v.errSchemaPath=e.errSchemaPath+"/else",n+="  "+e.validate(v)+" ",v.baseId=O,n+=" "+p+" = "+m+"; ",U&&I?(y="ifClause"+s,n+=" var "+y+" = 'else'; "):y="'else'",n+=" } "),n+=" if (!"+p+") {   var err =   ",e.createErrors!==!1?(n+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { failingKeyword: "+y+" } ",e.opts.messages!==!1&&(n+=` , message: 'should match "' + `+y+` + '" schema' `),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" }   ",h&&(n+=" else { ")}else h&&(n+=" if (true) { ");return n},AC=function(e,t,r){var n=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,_="data"+(a||""),p="valid"+s,d="errs__"+s,v=e.util.copy(e),m="";v.level++;var b="valid"+v.level,A="i"+s,U=v.dataLevel=e.dataLevel+1,I="data"+U,O=e.baseId;if(n+="var "+d+" = errors;var "+p+";",Array.isArray(l)){var y=e.schema.additionalItems;if(y===!1){n+=" "+p+" = "+_+".length <= "+l.length+"; ";var N=f;f=e.errSchemaPath+"/additionalItems",n+="  if (!"+p+") {   ";var T=T||[];T.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { limit: "+l.length+" } ",e.opts.messages!==!1&&(n+=" , message: 'should NOT have more than "+l.length+" items' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ";var j=n;n=T.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+j+"]); ":n+=" validate.errors = ["+j+"]; return false; ":n+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",f=N,h&&(m+="}",n+=" else { ")}var F=l;if(F){for(var q,k=-1,L=F.length-1;k<L;)if(q=F[k+=1],e.opts.strictKeywords?typeof q=="object"&&Object.keys(q).length>0||q===!1:e.util.schemaHasRules(q,e.RULES.all)){n+=" "+b+" = true; if ("+_+".length > "+k+") { ";var D=_+"["+k+"]";v.schema=q,v.schemaPath=u+"["+k+"]",v.errSchemaPath=f+"/"+k,v.errorPath=e.util.getPathExpr(e.errorPath,k,e.opts.jsonPointers,!0),v.dataPathArr[U]=k;var P=e.validate(v);v.baseId=O,e.util.varOccurences(P,I)<2?n+=" "+e.util.varReplace(P,I,D)+" ":n+=" var "+I+" = "+D+"; "+P+" ",n+=" }  ",h&&(n+=" if ("+b+") { ",m+="}")}}if(typeof y=="object"&&(e.opts.strictKeywords?typeof y=="object"&&Object.keys(y).length>0||y===!1:e.util.schemaHasRules(y,e.RULES.all))){v.schema=y,v.schemaPath=e.schemaPath+".additionalItems",v.errSchemaPath=e.errSchemaPath+"/additionalItems",n+=" "+b+" = true; if ("+_+".length > "+l.length+") {  for (var "+A+" = "+l.length+"; "+A+" < "+_+".length; "+A+"++) { ",v.errorPath=e.util.getPathExpr(e.errorPath,A,e.opts.jsonPointers,!0);var D=_+"["+A+"]";v.dataPathArr[U]=A;var P=e.validate(v);v.baseId=O,e.util.varOccurences(P,I)<2?n+=" "+e.util.varReplace(P,I,D)+" ":n+=" var "+I+" = "+D+"; "+P+" ",h&&(n+=" if (!"+b+") break; "),n+=" } }  ",h&&(n+=" if ("+b+") { ",m+="}")}}else if(e.opts.strictKeywords?typeof l=="object"&&Object.keys(l).length>0||l===!1:e.util.schemaHasRules(l,e.RULES.all)){v.schema=l,v.schemaPath=u,v.errSchemaPath=f,n+="  for (var "+A+" = 0; "+A+" < "+_+".length; "+A+"++) { ",v.errorPath=e.util.getPathExpr(e.errorPath,A,e.opts.jsonPointers,!0);var D=_+"["+A+"]";v.dataPathArr[U]=A;var P=e.validate(v);v.baseId=O,e.util.varOccurences(P,I)<2?n+=" "+e.util.varReplace(P,I,D)+" ":n+=" var "+I+" = "+D+"; "+P+" ",h&&(n+=" if (!"+b+") break; "),n+=" }"}return h&&(n+=" "+m+" if ("+d+" == errors) {"),n},V_=function(e,t,r){var n=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,O,_="data"+(a||""),p=e.opts.$data&&l&&l.$data,d;p?(n+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",d="schema"+s):d=l;var v=t=="maximum",m=v?"exclusiveMaximum":"exclusiveMinimum",b=e.schema[m],A=e.opts.$data&&b&&b.$data,U=v?"<":">",I=v?">":"<",O=void 0;if(!(p||typeof l=="number"||l===void 0))throw new Error(t+" must be number");if(!(A||b===void 0||typeof b=="number"||typeof b=="boolean"))throw new Error(m+" must be number or boolean");if(A){var y=e.util.getData(b.$data,a,e.dataPathArr),N="exclusive"+s,T="exclType"+s,j="exclIsNumber"+s,F="op"+s,q="' + "+F+" + '";n+=" var schemaExcl"+s+" = "+y+"; ",y="schemaExcl"+s,n+=" var "+N+"; var "+T+" = typeof "+y+"; if ("+T+" != 'boolean' && "+T+" != 'undefined' && "+T+" != 'number') { ";var O=m,k=k||[];k.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(O||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",e.opts.messages!==!1&&(n+=" , message: '"+m+" should be boolean' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ";var L=n;n=k.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+L+"]); ":n+=" validate.errors = ["+L+"]; return false; ":n+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else if ( ",p&&(n+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),n+=" "+T+" == 'number' ? ( ("+N+" = "+d+" === undefined || "+y+" "+U+"= "+d+") ? "+_+" "+I+"= "+y+" : "+_+" "+I+" "+d+" ) : ( ("+N+" = "+y+" === true) ? "+_+" "+I+"= "+d+" : "+_+" "+I+" "+d+" ) || "+_+" !== "+_+") { var op"+s+" = "+N+" ? '"+U+"' : '"+U+"='; ",l===void 0&&(O=m,f=e.errSchemaPath+"/"+m,d=y,p=A)}else{var j=typeof b=="number",q=U;if(j&&p){var F="'"+q+"'";n+=" if ( ",p&&(n+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),n+=" ( "+d+" === undefined || "+b+" "+U+"= "+d+" ? "+_+" "+I+"= "+b+" : "+_+" "+I+" "+d+" ) || "+_+" !== "+_+") { "}else{j&&l===void 0?(N=!0,O=m,f=e.errSchemaPath+"/"+m,d=b,I+="="):(j&&(d=Math[v?"min":"max"](b,l)),b===(j?d:!0)?(N=!0,O=m,f=e.errSchemaPath+"/"+m,I+="="):(N=!1,q+="="));var F="'"+q+"'";n+=" if ( ",p&&(n+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),n+=" "+_+" "+I+" "+d+" || "+_+" !== "+_+") { "}}O=O||t;var k=k||[];k.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(O||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { comparison: "+F+", limit: "+d+", exclusive: "+N+" } ",e.opts.messages!==!1&&(n+=" , message: 'should be "+q+" ",p?n+="' + "+d:n+=""+d+"'"),e.opts.verbose&&(n+=" , schema:  ",p?n+="validate.schema"+u:n+=""+l,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ";var L=n;return n=k.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+L+"]); ":n+=" validate.errors = ["+L+"]; return false; ":n+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",h&&(n+=" else { "),n},z_=function(e,t,r){var n=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,m,_="data"+(a||""),p=e.opts.$data&&l&&l.$data,d;if(p?(n+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",d="schema"+s):d=l,!(p||typeof l=="number"))throw new Error(t+" must be number");var v=t=="maxItems"?">":"<";n+="if ( ",p&&(n+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),n+=" "+_+".length "+v+" "+d+") { ";var m=t,b=b||[];b.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(m||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { limit: "+d+" } ",e.opts.messages!==!1&&(n+=" , message: 'should NOT have ",t=="maxItems"?n+="more":n+="fewer",n+=" than ",p?n+="' + "+d+" + '":n+=""+l,n+=" items' "),e.opts.verbose&&(n+=" , schema:  ",p?n+="validate.schema"+u:n+=""+l,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ";var A=n;return n=b.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+A+"]); ":n+=" validate.errors = ["+A+"]; return false; ":n+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",h&&(n+=" else { "),n},$_=function(e,t,r){var n=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,m,_="data"+(a||""),p=e.opts.$data&&l&&l.$data,d;if(p?(n+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",d="schema"+s):d=l,!(p||typeof l=="number"))throw new Error(t+" must be number");var v=t=="maxLength"?">":"<";n+="if ( ",p&&(n+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),e.opts.unicode===!1?n+=" "+_+".length ":n+=" ucs2length("+_+") ",n+=" "+v+" "+d+") { ";var m=t,b=b||[];b.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(m||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { limit: "+d+" } ",e.opts.messages!==!1&&(n+=" , message: 'should NOT be ",t=="maxLength"?n+="longer":n+="shorter",n+=" than ",p?n+="' + "+d+" + '":n+=""+l,n+=" characters' "),e.opts.verbose&&(n+=" , schema:  ",p?n+="validate.schema"+u:n+=""+l,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ";var A=n;return n=b.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+A+"]); ":n+=" validate.errors = ["+A+"]; return false; ":n+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",h&&(n+=" else { "),n},G_=function(e,t,r){var n=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,m,_="data"+(a||""),p=e.opts.$data&&l&&l.$data,d;if(p?(n+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",d="schema"+s):d=l,!(p||typeof l=="number"))throw new Error(t+" must be number");var v=t=="maxProperties"?">":"<";n+="if ( ",p&&(n+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),n+=" Object.keys("+_+").length "+v+" "+d+") { ";var m=t,b=b||[];b.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(m||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { limit: "+d+" } ",e.opts.messages!==!1&&(n+=" , message: 'should NOT have ",t=="maxProperties"?n+="more":n+="fewer",n+=" than ",p?n+="' + "+d+" + '":n+=""+l,n+=" properties' "),e.opts.verbose&&(n+=" , schema:  ",p?n+="validate.schema"+u:n+=""+l,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ";var A=n;return n=b.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+A+"]); ":n+=" validate.errors = ["+A+"]; return false; ":n+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",h&&(n+=" else { "),n},kC=function(e,t,r){var n=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,_="data"+(a||""),p=e.opts.$data&&l&&l.$data,d;if(p?(n+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",d="schema"+s):d=l,!(p||typeof l=="number"))throw new Error(t+" must be number");n+="var division"+s+";if (",p&&(n+=" "+d+" !== undefined && ( typeof "+d+" != 'number' || "),n+=" (division"+s+" = "+_+" / "+d+", ",e.opts.multipleOfPrecision?n+=" Math.abs(Math.round(division"+s+") - division"+s+") > 1e-"+e.opts.multipleOfPrecision+" ":n+=" division"+s+" !== parseInt(division"+s+") ",n+=" ) ",p&&(n+="  )  "),n+=" ) {   ";var v=v||[];v.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { multipleOf: "+d+" } ",e.opts.messages!==!1&&(n+=" , message: 'should be multiple of ",p?n+="' + "+d:n+=""+d+"'"),e.opts.verbose&&(n+=" , schema:  ",p?n+="validate.schema"+u:n+=""+l,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ";var m=n;return n=v.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",h&&(n+=" else { "),n},CC=function(e,t,r){var n=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,_="data"+(a||""),p="errs__"+s,d=e.util.copy(e);d.level++;var v="valid"+d.level;if(e.opts.strictKeywords?typeof l=="object"&&Object.keys(l).length>0||l===!1:e.util.schemaHasRules(l,e.RULES.all)){d.schema=l,d.schemaPath=u,d.errSchemaPath=f,n+=" var "+p+" = errors;  ";var m=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.createErrors=!1;var b;d.opts.allErrors&&(b=d.opts.allErrors,d.opts.allErrors=!1),n+=" "+e.validate(d)+" ",d.createErrors=!0,b&&(d.opts.allErrors=b),e.compositeRule=d.compositeRule=m,n+=" if ("+v+") {   ";var A=A||[];A.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",e.opts.messages!==!1&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ";var U=n;n=A.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+U+"]); ":n+=" validate.errors = ["+U+"]; return false; ":n+=" var err = "+U+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",e.createErrors!==!1?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",e.opts.messages!==!1&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",h&&(n+=" if (false) { ");return n},TC=function(e,t,r){var n=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,_="data"+(a||""),p="valid"+s,d="errs__"+s,v=e.util.copy(e),m="";v.level++;var b="valid"+v.level,A=v.baseId,U="prevValid"+s,I="passingSchemas"+s;n+="var "+d+" = errors , "+U+" = false , "+p+" = false , "+I+" = null; ";var O=e.compositeRule;e.compositeRule=v.compositeRule=!0;var y=l;if(y)for(var N,T=-1,j=y.length-1;T<j;)N=y[T+=1],(e.opts.strictKeywords?typeof N=="object"&&Object.keys(N).length>0||N===!1:e.util.schemaHasRules(N,e.RULES.all))?(v.schema=N,v.schemaPath=u+"["+T+"]",v.errSchemaPath=f+"/"+T,n+="  "+e.validate(v)+" ",v.baseId=A):n+=" var "+b+" = true; ",T&&(n+=" if ("+b+" && "+U+") { "+p+" = false; "+I+" = ["+I+", "+T+"]; } else { ",m+="}"),n+=" if ("+b+") { "+p+" = "+U+" = true; "+I+" = "+T+"; }";return e.compositeRule=v.compositeRule=O,n+=""+m+"if (!"+p+") {   var err =   ",e.createErrors!==!1?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { passingSchemas: "+I+" } ",e.opts.messages!==!1&&(n+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",e.opts.allErrors&&(n+=" } "),n},NC=function(e,t,r){var n=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,_="data"+(a||""),p=e.opts.$data&&l&&l.$data,d;p?(n+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",d="schema"+s):d=l;var v=p?"(new RegExp("+d+"))":e.usePattern(l);n+="if ( ",p&&(n+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),n+=" !"+v+".test("+_+") ) {   ";var m=m||[];m.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { pattern:  ",p?n+=""+d:n+=""+e.util.toQuotedString(l),n+="  } ",e.opts.messages!==!1&&(n+=` , message: 'should match pattern "`,p?n+="' + "+d+" + '":n+=""+e.util.escapeQuotes(l),n+=`"' `),e.opts.verbose&&(n+=" , schema:  ",p?n+="validate.schema"+u:n+=""+e.util.toQuotedString(l),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ";var b=n;return n=m.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+b+"]); ":n+=" validate.errors = ["+b+"]; return false; ":n+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",h&&(n+=" else { "),n},SC=function(e,t,r){var n=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,_="data"+(a||""),p="errs__"+s,d=e.util.copy(e),v="";d.level++;var m="valid"+d.level,b="key"+s,A="idx"+s,U=d.dataLevel=e.dataLevel+1,I="data"+U,O="dataProperties"+s,y=Object.keys(l||{}).filter(re),N=e.schema.patternProperties||{},T=Object.keys(N).filter(re),j=e.schema.additionalProperties,F=y.length||T.length,q=j===!1,k=typeof j=="object"&&Object.keys(j).length,L=e.opts.removeAdditional,D=q||k||L,P=e.opts.ownProperties,Q=e.baseId,H=e.schema.required;if(H&&!(e.opts.$data&&H.$data)&&H.length<e.opts.loopRequired)var oe=e.util.toHash(H);function re(K){return K!=="__proto__"}if(n+="var "+p+" = errors;var "+m+" = true;",P&&(n+=" var "+O+" = undefined;"),D){if(P?n+=" "+O+" = "+O+" || Object.keys("+_+"); for (var "+A+"=0; "+A+"<"+O+".length; "+A+"++) { var "+b+" = "+O+"["+A+"]; ":n+=" for (var "+b+" in "+_+") { ",F){if(n+=" var isAdditional"+s+" = !(false ",y.length)if(y.length>8)n+=" || validate.schema"+u+".hasOwnProperty("+b+") ";else{var te=y;if(te)for(var $,W=-1,de=te.length-1;W<de;)$=te[W+=1],n+=" || "+b+" == "+e.util.toQuotedString($)+" "}if(T.length){var J=T;if(J)for(var pe,it=-1,tt=J.length-1;it<tt;)pe=J[it+=1],n+=" || "+e.usePattern(pe)+".test("+b+") "}n+=" ); if (isAdditional"+s+") { "}if(L=="all")n+=" delete "+_+"["+b+"]; ";else{var Fe=e.errorPath,He="' + "+b+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers)),q)if(L)n+=" delete "+_+"["+b+"]; ";else{n+=" "+m+" = false; ";var Ce=f;f=e.errSchemaPath+"/additionalProperties";var De=De||[];De.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { additionalProperty: '"+He+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is an invalid additional property":n+="should NOT have additional properties",n+="' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ";var Ge=n;n=De.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+Ge+"]); ":n+=" validate.errors = ["+Ge+"]; return false; ":n+=" var err = "+Ge+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",f=Ce,h&&(n+=" break; ")}else if(k)if(L=="failing"){n+=" var "+p+" = errors;  ";var gt=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=j,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers);var rt=_+"["+b+"]";d.dataPathArr[U]=b;var me=e.validate(d);d.baseId=Q,e.util.varOccurences(me,I)<2?n+=" "+e.util.varReplace(me,I,rt)+" ":n+=" var "+I+" = "+rt+"; "+me+" ",n+=" if (!"+m+") { errors = "+p+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+_+"["+b+"]; }  ",e.compositeRule=d.compositeRule=gt}else{d.schema=j,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers);var rt=_+"["+b+"]";d.dataPathArr[U]=b;var me=e.validate(d);d.baseId=Q,e.util.varOccurences(me,I)<2?n+=" "+e.util.varReplace(me,I,rt)+" ":n+=" var "+I+" = "+rt+"; "+me+" ",h&&(n+=" if (!"+m+") break; ")}e.errorPath=Fe}F&&(n+=" } "),n+=" }  ",h&&(n+=" if ("+m+") { ",v+="}")}var Be=e.opts.useDefaults&&!e.compositeRule;if(y.length){var Vt=y;if(Vt)for(var $,ir=-1,lr=Vt.length-1;ir<lr;){$=Vt[ir+=1];var or=l[$];if(e.opts.strictKeywords?typeof or=="object"&&Object.keys(or).length>0||or===!1:e.util.schemaHasRules(or,e.RULES.all)){var pr=e.util.getProperty($),rt=_+pr,rr=Be&&or.default!==void 0;d.schema=or,d.schemaPath=u+pr,d.errSchemaPath=f+"/"+e.util.escapeFragment($),d.errorPath=e.util.getPath(e.errorPath,$,e.opts.jsonPointers),d.dataPathArr[U]=e.util.toQuotedString($);var me=e.validate(d);if(d.baseId=Q,e.util.varOccurences(me,I)<2){me=e.util.varReplace(me,I,rt);var Ft=rt}else{var Ft=I;n+=" var "+I+" = "+rt+"; "}if(rr)n+=" "+me+" ";else{if(oe&&oe[$]){n+=" if ( "+Ft+" === undefined ",P&&(n+=" || ! Object.prototype.hasOwnProperty.call("+_+", '"+e.util.escapeQuotes($)+"') "),n+=") { "+m+" = false; ";var Fe=e.errorPath,Ce=f,jt=e.util.escapeQuotes($);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(Fe,$,e.opts.jsonPointers)),f=e.errSchemaPath+"/required";var De=De||[];De.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { missingProperty: '"+jt+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+jt+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ";var Ge=n;n=De.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+Ge+"]); ":n+=" validate.errors = ["+Ge+"]; return false; ":n+=" var err = "+Ge+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",f=Ce,e.errorPath=Fe,n+=" } else { "}else h?(n+=" if ( "+Ft+" === undefined ",P&&(n+=" || ! Object.prototype.hasOwnProperty.call("+_+", '"+e.util.escapeQuotes($)+"') "),n+=") { "+m+" = true; } else { "):(n+=" if ("+Ft+" !== undefined ",P&&(n+=" &&   Object.prototype.hasOwnProperty.call("+_+", '"+e.util.escapeQuotes($)+"') "),n+=" ) { ");n+=" "+me+" } "}}h&&(n+=" if ("+m+") { ",v+="}")}}if(T.length){var _r=T;if(_r)for(var pe,vr=-1,rn=_r.length-1;vr<rn;){pe=_r[vr+=1];var or=N[pe];if(e.opts.strictKeywords?typeof or=="object"&&Object.keys(or).length>0||or===!1:e.util.schemaHasRules(or,e.RULES.all)){d.schema=or,d.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(pe),d.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(pe),P?n+=" "+O+" = "+O+" || Object.keys("+_+"); for (var "+A+"=0; "+A+"<"+O+".length; "+A+"++) { var "+b+" = "+O+"["+A+"]; ":n+=" for (var "+b+" in "+_+") { ",n+=" if ("+e.usePattern(pe)+".test("+b+")) { ",d.errorPath=e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers);var rt=_+"["+b+"]";d.dataPathArr[U]=b;var me=e.validate(d);d.baseId=Q,e.util.varOccurences(me,I)<2?n+=" "+e.util.varReplace(me,I,rt)+" ":n+=" var "+I+" = "+rt+"; "+me+" ",h&&(n+=" if (!"+m+") break; "),n+=" } ",h&&(n+=" else "+m+" = true; "),n+=" }  ",h&&(n+=" if ("+m+") { ",v+="}")}}}return h&&(n+=" "+v+" if ("+p+" == errors) {"),n},IC=function(e,t,r){var n=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,_="data"+(a||""),p="errs__"+s,d=e.util.copy(e),v="";d.level++;var m="valid"+d.level;if(n+="var "+p+" = errors;",e.opts.strictKeywords?typeof l=="object"&&Object.keys(l).length>0||l===!1:e.util.schemaHasRules(l,e.RULES.all)){d.schema=l,d.schemaPath=u,d.errSchemaPath=f;var b="key"+s,A="idx"+s,U="i"+s,I="' + "+b+" + '",O=d.dataLevel=e.dataLevel+1,y="data"+O,N="dataProperties"+s,T=e.opts.ownProperties,j=e.baseId;T&&(n+=" var "+N+" = undefined; "),T?n+=" "+N+" = "+N+" || Object.keys("+_+"); for (var "+A+"=0; "+A+"<"+N+".length; "+A+"++) { var "+b+" = "+N+"["+A+"]; ":n+=" for (var "+b+" in "+_+") { ",n+=" var startErrs"+s+" = errors; ";var F=b,q=e.compositeRule;e.compositeRule=d.compositeRule=!0;var k=e.validate(d);d.baseId=j,e.util.varOccurences(k,y)<2?n+=" "+e.util.varReplace(k,y,F)+" ":n+=" var "+y+" = "+F+"; "+k+" ",e.compositeRule=d.compositeRule=q,n+=" if (!"+m+") { for (var "+U+"=startErrs"+s+"; "+U+"<errors; "+U+"++) { vErrors["+U+"].propertyName = "+b+"; }   var err =   ",e.createErrors!==!1?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { propertyName: '"+I+"' } ",e.opts.messages!==!1&&(n+=" , message: 'property name \\'"+I+"\\' is invalid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),h&&(n+=" break; "),n+=" } }"}return h&&(n+=" "+v+" if ("+p+" == errors) {"),n},RC=function(e,t,r){var n=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,_="data"+(a||""),p="valid"+s,d=e.opts.$data&&l&&l.$data;d&&(n+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ");var v="schema"+s;if(!d)if(l.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var m=[],b=l;if(b)for(var A,U=-1,I=b.length-1;U<I;){A=b[U+=1];var O=e.schema.properties[A];O&&(e.opts.strictKeywords?typeof O=="object"&&Object.keys(O).length>0||O===!1:e.util.schemaHasRules(O,e.RULES.all))||(m[m.length]=A)}}else var m=l;if(d||m.length){var y=e.errorPath,N=d||m.length>=e.opts.loopRequired,T=e.opts.ownProperties;if(h)if(n+=" var missing"+s+"; ",N){d||(n+=" var "+v+" = validate.schema"+u+"; ");var j="i"+s,F="schema"+s+"["+j+"]",q="' + "+F+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(y,F,e.opts.jsonPointers)),n+=" var "+p+" = true; ",d&&(n+=" if (schema"+s+" === undefined) "+p+" = true; else if (!Array.isArray(schema"+s+")) "+p+" = false; else {"),n+=" for (var "+j+" = 0; "+j+" < "+v+".length; "+j+"++) { "+p+" = "+_+"["+v+"["+j+"]] !== undefined ",T&&(n+=" &&   Object.prototype.hasOwnProperty.call("+_+", "+v+"["+j+"]) "),n+="; if (!"+p+") break; } ",d&&(n+="  }  "),n+="  if (!"+p+") {   ";var k=k||[];k.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { missingProperty: '"+q+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+q+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ";var L=n;n=k.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+L+"]); ":n+=" validate.errors = ["+L+"]; return false; ":n+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var D=m;if(D)for(var P,j=-1,Q=D.length-1;j<Q;){P=D[j+=1],j&&(n+=" || ");var H=e.util.getProperty(P),oe=_+H;n+=" ( ( "+oe+" === undefined ",T&&(n+=" || ! Object.prototype.hasOwnProperty.call("+_+", '"+e.util.escapeQuotes(P)+"') "),n+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?P:H)+") ) "}n+=") {  ";var F="missing"+s,q="' + "+F+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(y,F,!0):y+" + "+F);var k=k||[];k.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { missingProperty: '"+q+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+q+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ";var L=n;n=k.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+L+"]); ":n+=" validate.errors = ["+L+"]; return false; ":n+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(N){d||(n+=" var "+v+" = validate.schema"+u+"; ");var j="i"+s,F="schema"+s+"["+j+"]",q="' + "+F+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(y,F,e.opts.jsonPointers)),d&&(n+=" if ("+v+" && !Array.isArray("+v+")) {  var err =   ",e.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { missingProperty: '"+q+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+q+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+v+" !== undefined) { "),n+=" for (var "+j+" = 0; "+j+" < "+v+".length; "+j+"++) { if ("+_+"["+v+"["+j+"]] === undefined ",T&&(n+=" || ! Object.prototype.hasOwnProperty.call("+_+", "+v+"["+j+"]) "),n+=") {  var err =   ",e.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { missingProperty: '"+q+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+q+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",d&&(n+="  }  ")}else{var re=m;if(re)for(var P,te=-1,$=re.length-1;te<$;){P=re[te+=1];var H=e.util.getProperty(P),q=e.util.escapeQuotes(P),oe=_+H;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(y,P,e.opts.jsonPointers)),n+=" if ( "+oe+" === undefined ",T&&(n+=" || ! Object.prototype.hasOwnProperty.call("+_+", '"+e.util.escapeQuotes(P)+"') "),n+=") {  var err =   ",e.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { missingProperty: '"+q+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+q+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=y}else h&&(n+=" if (true) {");return n},PC=function(e,t,r){var n=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,_="data"+(a||""),p="valid"+s,d=e.opts.$data&&l&&l.$data,v;if(d?(n+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",v="schema"+s):v=l,(l||d)&&e.opts.uniqueItems!==!1){d&&(n+=" var "+p+"; if ("+v+" === false || "+v+" === undefined) "+p+" = true; else if (typeof "+v+" != 'boolean') "+p+" = false; else { "),n+=" var i = "+_+".length , "+p+" = true , j; if (i > 1) { ";var m=e.schema.items&&e.schema.items.type,b=Array.isArray(m);if(!m||m=="object"||m=="array"||b&&(m.indexOf("object")>=0||m.indexOf("array")>=0))n+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+_+"[i], "+_+"[j])) { "+p+" = false; break outer; } } } ";else{n+=" var itemIndices = {}, item; for (;i--;) { var item = "+_+"[i]; ";var A="checkDataType"+(b?"s":"");n+=" if ("+e.util[A](m,"item",e.opts.strictNumbers,!0)+") continue; ",b&&(n+=` if (typeof item == 'string') item = '"' + item; `),n+=" if (typeof itemIndices[item] == 'number') { "+p+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}n+=" } ",d&&(n+="  }  "),n+=" if (!"+p+") {   ";var U=U||[];U.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(n+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(n+=" , schema:  ",d?n+="validate.schema"+u:n+=""+l,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),n+=" } "):n+=" {} ";var I=n;n=U.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+I+"]); ":n+=" validate.errors = ["+I+"]; return false; ":n+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",h&&(n+=" else { ")}else h&&(n+=" if (true) { ");return n},FC={$ref:pC,allOf:_C,anyOf:vC,$comment:gC,const:mC,contains:bC,dependencies:wC,enum:yC,format:EC,if:DC,items:AC,maximum:V_,minimum:V_,maxItems:z_,minItems:z_,maxLength:$_,minLength:$_,maxProperties:G_,minProperties:G_,multipleOf:kC,not:CC,oneOf:TC,pattern:NC,properties:SC,propertyNames:IC,required:RC,uniqueItems:PC,validate:D1},X_=FC,ch=yl.toHash,OC=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"],r=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],n=["number","integer","string","array","object","boolean","null"];return e.all=ch(t),e.types=ch(n),e.forEach(function(s){s.rules=s.rules.map(function(a){var l;if(typeof a=="object"){var u=Object.keys(a)[0];l=a[u],a=u,l.forEach(function(h){t.push(h),e.all[h]=!0})}t.push(a);var f=e.all[a]={keyword:a,code:X_[a],implements:l};return f}),e.all.$comment={keyword:"$comment",code:X_.$comment},s.type&&(e.types[s.type]=s)}),e.keywords=ch(t.concat(r)),e.custom={},e},W_=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],LC=function(i,e){for(var t=0;t<e.length;t++){i=JSON.parse(JSON.stringify(i));var r=e[t].split("/"),n=i,s;for(s=1;s<r.length;s++)n=n[r[s]];for(s=0;s<W_.length;s++){var a=W_[s],l=n[a];l&&(n[a]={anyOf:[l,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return i},BC=od.MissingRef,UC=U1;function U1(i,e,t){var r=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof e=="function"&&(t=e,e=void 0);var n=s(i).then(function(){var l=r._addSchema(i,void 0,e);return l.validate||a(l)});return t&&n.then(function(l){t(null,l)},t),n;function s(l){var u=l.$schema;return u&&!r.getSchema(u)?U1.call(r,{$ref:u},!0):Promise.resolve()}function a(l){try{return r._compile(l)}catch(f){if(f instanceof BC)return u(f);throw f}function u(f){var h=f.missingSchema;if(d(h))throw new Error("Schema "+h+" is loaded but "+f.missingRef+" cannot be resolved");var _=r._loadingSchemas[h];return _||(_=r._loadingSchemas[h]=r._opts.loadSchema(h),_.then(p,p)),_.then(function(v){if(!d(h))return s(v).then(function(){d(h)||r.addSchema(v,h,void 0,e)})}).then(function(){return a(l)});function p(){delete r._loadingSchemas[h]}function d(v){return r._refs[v]||r._schemas[v]}}}}var MC=function(e,t,r){var n=" ",s=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,_,p="data"+(a||""),d="valid"+s,v="errs__"+s,m=e.opts.$data&&l&&l.$data,b;m?(n+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",b="schema"+s):b=l;var A=this,U="definition"+s,I=A.definition,O="",y,N,T,j,F;if(m&&I.$data){F="keywordValidate"+s;var q=I.validateSchema;n+=" var "+U+" = RULES.custom['"+t+"'].definition; var "+F+" = "+U+".validate;"}else{if(j=e.useCustomRule(A,l,e.schema,e),!j)return;b="validate.schema"+u,F=j.code,y=I.compile,N=I.inline,T=I.macro}var k=F+".errors",L="i"+s,D="ruleErr"+s,P=I.async;if(P&&!e.async)throw new Error("async keyword in sync schema");if(N||T||(n+=""+k+" = null;"),n+="var "+v+" = errors;var "+d+";",m&&I.$data&&(O+="}",n+=" if ("+b+" === undefined) { "+d+" = true; } else { ",q&&(O+="}",n+=" "+d+" = "+U+".validateSchema("+b+"); if ("+d+") { ")),N)I.statements?n+=" "+j.validate+" ":n+=" "+d+" = "+j.validate+"; ";else if(T){var Q=e.util.copy(e),O="";Q.level++;var H="valid"+Q.level;Q.schema=j.validate,Q.schemaPath="";var oe=e.compositeRule;e.compositeRule=Q.compositeRule=!0;var re=e.validate(Q).replace(/validate\.schema/g,F);e.compositeRule=Q.compositeRule=oe,n+=" "+re}else{var te=te||[];te.push(n),n="",n+="  "+F+".call( ",e.opts.passContext?n+="this":n+="self",y||I.schema===!1?n+=" , "+p+" ":n+=" , "+b+" , "+p+" , validate.schema"+e.schemaPath+" ",n+=" , (dataPath || '')",e.errorPath!='""'&&(n+=" + "+e.errorPath);var $=a?"data"+(a-1||""):"parentData",W=a?e.dataPathArr[a]:"parentDataProperty";n+=" , "+$+" , "+W+" , rootData )  ";var de=n;n=te.pop(),I.errors===!1?(n+=" "+d+" = ",P&&(n+="await "),n+=""+de+"; "):P?(k="customErrors"+s,n+=" var "+k+" = null; try { "+d+" = await "+de+"; } catch (e) { "+d+" = false; if (e instanceof ValidationError) "+k+" = e.errors; else throw e; } "):n+=" "+k+" = null; "+d+" = "+de+"; "}if(I.modifying&&(n+=" if ("+$+") "+p+" = "+$+"["+W+"];"),n+=""+O,I.valid)h&&(n+=" if (true) { ");else{n+=" if ( ",I.valid===void 0?(n+=" !",T?n+=""+H:n+=""+d):n+=" "+!I.valid+" ",n+=") { ",_=A.keyword;var te=te||[];te.push(n),n="";var te=te||[];te.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(_||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { keyword: '"+A.keyword+"' } ",e.opts.messages!==!1&&(n+=` , message: 'should pass "`+A.keyword+`" keyword validation' `),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var J=n;n=te.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+J+"]); ":n+=" validate.errors = ["+J+"]; return false; ":n+=" var err = "+J+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var pe=n;n=te.pop(),N?I.errors?I.errors!="full"&&(n+="  for (var "+L+"="+v+"; "+L+"<errors; "+L+"++) { var "+D+" = vErrors["+L+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+D+".schemaPath === undefined) { "+D+'.schemaPath = "'+f+'"; } ',e.opts.verbose&&(n+=" "+D+".schema = "+b+"; "+D+".data = "+p+"; "),n+=" } "):I.errors===!1?n+=" "+pe+" ":(n+=" if ("+v+" == errors) { "+pe+" } else {  for (var "+L+"="+v+"; "+L+"<errors; "+L+"++) { var "+D+" = vErrors["+L+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+D+".schemaPath === undefined) { "+D+'.schemaPath = "'+f+'"; } ',e.opts.verbose&&(n+=" "+D+".schema = "+b+"; "+D+".data = "+p+"; "),n+=" } } "):T?(n+="   var err =   ",e.createErrors!==!1?(n+=" { keyword: '"+(_||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { keyword: '"+A.keyword+"' } ",e.opts.messages!==!1&&(n+=` , message: 'should pass "`+A.keyword+`" keyword validation' `),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; ")):I.errors===!1?n+=" "+pe+" ":(n+=" if (Array.isArray("+k+")) { if (vErrors === null) vErrors = "+k+"; else vErrors = vErrors.concat("+k+"); errors = vErrors.length;  for (var "+L+"="+v+"; "+L+"<errors; "+L+"++) { var "+D+" = vErrors["+L+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+e.errorPath+";  "+D+'.schemaPath = "'+f+'";  ',e.opts.verbose&&(n+=" "+D+".schema = "+b+"; "+D+".data = "+p+"; "),n+=" } } else { "+pe+" } "),n+=" } ",h&&(n+=" else { ")}return n};const qC="http://json-schema.org/draft-07/schema#",jC="http://json-schema.org/draft-07/schema#",xC="Core schema meta-schema",HC={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},VC=["object","boolean"],zC={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},M1={$schema:qC,$id:jC,title:xC,definitions:HC,type:VC,properties:zC,default:!0};var Q_=M1,$C={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:Q_.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:Q_.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},GC=/^[a-z_$][a-z0-9_$-]*$/i,XC=MC,WC=$C,QC={add:YC,get:KC,remove:JC,validate:Uh};function YC(i,e){var t=this.RULES;if(t.keywords[i])throw new Error("Keyword "+i+" is already defined");if(!GC.test(i))throw new Error("Keyword "+i+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var r=e.type;if(Array.isArray(r))for(var n=0;n<r.length;n++)a(i,r[n],e);else a(i,r,e);var s=e.metaSchema;s&&(e.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(s,!0))}t.keywords[i]=t.all[i]=!0;function a(l,u,f){for(var h,_=0;_<t.length;_++){var p=t[_];if(p.type==u){h=p;break}}h||(h={type:u,rules:[]},t.push(h));var d={keyword:l,definition:f,custom:!0,code:XC,implements:f.implements};h.rules.push(d),t.custom[l]=d}return this}function KC(i){var e=this.RULES.custom[i];return e?e.definition:this.RULES.keywords[i]||!1}function JC(i){var e=this.RULES;delete e.keywords[i],delete e.all[i],delete e.custom[i];for(var t=0;t<e.length;t++)for(var r=e[t].rules,n=0;n<r.length;n++)if(r[n].keyword==i){r.splice(n,1);break}return this}function Uh(i,e){Uh.errors=null;var t=this._validateKeyword=this._validateKeyword||this.compile(WC,!0);if(t(i))return!0;if(Uh.errors=t.errors,e)throw new Error("custom keyword definition is invalid: "+this.errorsText(t.errors));return!1}const ZC="http://json-schema.org/draft-07/schema#",eT="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",tT="Meta-schema for $data reference (JSON Schema extension proposal)",rT="object",nT=["$data"],iT={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},aT=!1,sT={$schema:ZC,$id:eT,description:tT,type:rT,required:nT,properties:iT,additionalProperties:aT};var q1=Xk,ys=ld,lT=eC,j1=m1,oT=E1,uT=lC,fT=OC,x1=LC,H1=yl,cT=Gr;Gr.prototype.validate=dT;Gr.prototype.compile=pT;Gr.prototype.addSchema=_T;Gr.prototype.addMetaSchema=vT;Gr.prototype.validateSchema=gT;Gr.prototype.getSchema=bT;Gr.prototype.removeSchema=yT;Gr.prototype.addFormat=ST;Gr.prototype.errorsText=NT;Gr.prototype._addSchema=ET;Gr.prototype._compile=DT;Gr.prototype.compileAsync=UC;var Pf=QC;Gr.prototype.addKeyword=Pf.add;Gr.prototype.getKeyword=Pf.get;Gr.prototype.removeKeyword=Pf.remove;Gr.prototype.validateKeyword=Pf.validate;var V1=od;Gr.ValidationError=V1.Validation;Gr.MissingRefError=V1.MissingRef;Gr.$dataMetaSchema=x1;var pf="http://json-schema.org/draft-07/schema",Y_=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],hT=["/properties"];function Gr(i){if(!(this instanceof Gr))return new Gr(i);i=this._opts=H1.copy(i)||{},LT(this),this._schemas={},this._refs={},this._fragments={},this._formats=uT(i.format),this._cache=i.cache||new lT,this._loadingSchemas={},this._compilations=[],this.RULES=fT(),this._getId=AT(i),i.loopRequired=i.loopRequired||1/0,i.errorDataPath=="property"&&(i._errorDataPathProperty=!0),i.serialize===void 0&&(i.serialize=oT),this._metaOpts=OT(this),i.formats&&PT(this),i.keywords&&FT(this),IT(this),typeof i.meta=="object"&&this.addMetaSchema(i.meta),i.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),RT(this)}function dT(i,e){var t;if(typeof i=="string"){if(t=this.getSchema(i),!t)throw new Error('no schema with key or ref "'+i+'"')}else{var r=this._addSchema(i);t=r.validate||this._compile(r)}var n=t(e);return t.$async!==!0&&(this.errors=t.errors),n}function pT(i,e){var t=this._addSchema(i,void 0,e);return t.validate||this._compile(t)}function _T(i,e,t,r){if(Array.isArray(i)){for(var n=0;n<i.length;n++)this.addSchema(i[n],void 0,t,r);return this}var s=this._getId(i);if(s!==void 0&&typeof s!="string")throw new Error("schema id must be string");return e=ys.normalizeId(e||s),$1(this,e),this._schemas[e]=this._addSchema(i,t,r,!0),this}function vT(i,e,t){return this.addSchema(i,e,t,!0),this}function gT(i,e){var t=i.$schema;if(t!==void 0&&typeof t!="string")throw new Error("$schema must be a string");if(t=t||this._opts.defaultMeta||mT(this),!t)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var r=this.validate(t,i);if(!r&&e){var n="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(n);else throw new Error(n)}return r}function mT(i){var e=i._opts.meta;return i._opts.defaultMeta=typeof e=="object"?i._getId(e)||e:i.getSchema(pf)?pf:void 0,i._opts.defaultMeta}function bT(i){var e=z1(this,i);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return wT(this,i)}}function wT(i,e){var t=ys.schema.call(i,{schema:{}},e);if(t){var r=t.schema,n=t.root,s=t.baseId,a=q1.call(i,r,n,void 0,s);return i._fragments[e]=new j1({ref:e,fragment:!0,schema:r,root:n,baseId:s,validate:a}),a}}function z1(i,e){return e=ys.normalizeId(e),i._schemas[e]||i._refs[e]||i._fragments[e]}function yT(i){if(i instanceof RegExp)return zu(this,this._schemas,i),zu(this,this._refs,i),this;switch(typeof i){case"undefined":return zu(this,this._schemas),zu(this,this._refs),this._cache.clear(),this;case"string":var e=z1(this,i);return e&&this._cache.del(e.cacheKey),delete this._schemas[i],delete this._refs[i],this;case"object":var t=this._opts.serialize,r=t?t(i):i;this._cache.del(r);var n=this._getId(i);n&&(n=ys.normalizeId(n),delete this._schemas[n],delete this._refs[n])}return this}function zu(i,e,t){for(var r in e){var n=e[r];!n.meta&&(!t||t.test(r))&&(i._cache.del(n.cacheKey),delete e[r])}}function ET(i,e,t,r){if(typeof i!="object"&&typeof i!="boolean")throw new Error("schema should be object or boolean");var n=this._opts.serialize,s=n?n(i):i,a=this._cache.get(s);if(a)return a;r=r||this._opts.addUsedSchema!==!1;var l=ys.normalizeId(this._getId(i));l&&r&&$1(this,l);var u=this._opts.validateSchema!==!1&&!e,f;u&&!(f=l&&l==ys.normalizeId(i.$schema))&&this.validateSchema(i,!0);var h=ys.ids.call(this,i),_=new j1({id:l,schema:i,localRefs:h,cacheKey:s,meta:t});return l[0]!="#"&&r&&(this._refs[l]=_),this._cache.put(s,_),u&&f&&this.validateSchema(i,!0),_}function DT(i,e){if(i.compiling)return i.validate=n,n.schema=i.schema,n.errors=null,n.root=e||n,i.schema.$async===!0&&(n.$async=!0),n;i.compiling=!0;var t;i.meta&&(t=this._opts,this._opts=this._metaOpts);var r;try{r=q1.call(this,i.schema,e,i.localRefs)}catch(s){throw delete i.validate,s}finally{i.compiling=!1,i.meta&&(this._opts=t)}return i.validate=r,i.refs=r.refs,i.refVal=r.refVal,i.root=r.root,r;function n(){var s=i.validate,a=s.apply(this,arguments);return n.errors=s.errors,a}}function AT(i){switch(i.schemaId){case"auto":return TT;case"id":return kT;default:return CT}}function kT(i){return i.$id&&this.logger.warn("schema $id ignored",i.$id),i.id}function CT(i){return i.id&&this.logger.warn("schema id ignored",i.id),i.$id}function TT(i){if(i.$id&&i.id&&i.$id!=i.id)throw new Error("schema $id is different from id");return i.$id||i.id}function NT(i,e){if(i=i||this.errors,!i)return"No errors";e=e||{};for(var t=e.separator===void 0?", ":e.separator,r=e.dataVar===void 0?"data":e.dataVar,n="",s=0;s<i.length;s++){var a=i[s];a&&(n+=r+a.dataPath+" "+a.message+t)}return n.slice(0,-t.length)}function ST(i,e){return typeof e=="string"&&(e=new RegExp(e)),this._formats[i]=e,this}function IT(i){var e;if(i._opts.$data&&(e=sT,i.addMetaSchema(e,e.$id,!0)),i._opts.meta!==!1){var t=M1;i._opts.$data&&(t=x1(t,hT)),i.addMetaSchema(t,pf,!0),i._refs["http://json-schema.org/schema"]=pf}}function RT(i){var e=i._opts.schemas;if(e)if(Array.isArray(e))i.addSchema(e);else for(var t in e)i.addSchema(e[t],t)}function PT(i){for(var e in i._opts.formats){var t=i._opts.formats[e];i.addFormat(e,t)}}function FT(i){for(var e in i._opts.keywords){var t=i._opts.keywords[e];i.addKeyword(e,t)}}function $1(i,e){if(i._schemas[e]||i._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function OT(i){for(var e=H1.copy(i._opts),t=0;t<Y_.length;t++)delete e[Y_[t]];return e}function LT(i){var e=i._opts.logger;if(e===!1)i.logger={log:hh,warn:hh,error:hh};else{if(e===void 0&&(e=console),!(typeof e=="object"&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");i.logger=e}}function hh(){}const BT=Ss(cT);function ri(i){"@babel/helpers - typeof";return ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ri(i)}function UT(i,e){if(ri(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,e||"default");if(ri(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function G1(i){var e=UT(i,"string");return ri(e)=="symbol"?e:e+""}function K_(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,G1(r.key),r)}}function xr(i,e,t){return e&&K_(i.prototype,e),t&&K_(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function Hr(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function MT(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Ea(i,e){if(e&&(ri(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MT(i)}function Zr(i){return Zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zr(i)}function Mh(i,e){return Mh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Mh(i,e)}function Pn(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&Mh(i,e)}function et(i,e,t){return(e=G1(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var Qi={Literal:1,Collection:3,Graph:4,NamedNode:5,BlankNode:6,Variable:7},Pr=function(){function i(e){Hr(this,i),et(this,"termType",void 0),et(this,"classOrder",void 0),et(this,"value",void 0),this.value=e}return xr(i,[{key:"substitute",value:function(t){return this}},{key:"compareTerm",value:function(t){return this.classOrder<t.classOrder?-1:this.classOrder>t.classOrder?1:this.value<t.value?-1:this.value>t.value?1:0}},{key:"equals",value:function(t){return t?this.termType===t.termType&&this.value===t.value:!1}},{key:"hashString",value:function(){return this.toCanonical()}},{key:"sameTerm",value:function(t){return this.equals(t)}},{key:"toCanonical",value:function(){return this.toNT()}},{key:"toNT",value:function(){return this.toString()}},{key:"toNQ",value:function(){return this.toNT()}},{key:"toString",value:function(){throw new Error("Node.toString() is abstract - see the subclasses instead")}}])}();et(Pr,"fromValue",void 0);et(Pr,"toJS",void 0);var Is="NamedNode",Rs="BlankNode",El="Literal",Ka="Variable",Cs="DefaultGraph",Ja="Collection",X1="Empty",No="Graph",J_="text/html",qh="application/ld+json",W1="text/n3",qT="application/n3",jh="application/nquads",xh="application/n-quads",jT="application/n-triples",wo="application/rdf+xml",xT="application/sparql-update",HT="application/sparql-update-single-match",Es="text/turtle",VT="application/x-turtle",Hh="application/xhtml+xml";function zT(i,e,t){return e=Zr(e),Ea(i,Q1()?Reflect.construct(e,t||[],Zr(i).constructor):e.apply(i,t))}function Q1(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q1=function(){return!!i})()}var Yi=function(i){function e(t){var r;return Hr(this,e),r=zT(this,e,[e.getId(t)]),et(r,"termType",Rs),et(r,"classOrder",Qi.BlankNode),et(r,"isBlank",1),et(r,"isVar",1),r}return Pn(e,i),xr(e,[{key:"id",get:function(){return this.value},set:function(r){this.value=r}},{key:"compareTerm",value:function(r){return this.classOrder<r.classOrder?-1:this.classOrder>r.classOrder?1:this.id<r.id?-1:this.id>r.id?1:0}},{key:"copy",value:function(r){var n=new e;return r.copyTo(this,n),n}},{key:"toCanonical",value:function(){return e.NTAnonymousNodePrefix+this.value}},{key:"toString",value:function(){return e.NTAnonymousNodePrefix+this.id}}],[{key:"getId",value:function(r){if(r){if(typeof r!="string")throw new Error("Bad id argument to new blank node: "+r);if(r.includes("#")){var n=r.split("#");return n[n.length-1]}return r}return"n"+e.nextId++}}])}(Pr);et(Yi,"nextId",0);et(Yi,"NTAnonymousNodePrefix","_:");function ul(i){return typeof i=="string"?i:i.value}function $T(i){return ri(i)==="object"&&i!==null&&"subject"in i}function Z_(i){return ri(i)==="object"&&i!==null&&"statements"in i}function fd(i){return va(i)&&i.termType===Ja}function GT(i){return i&&Object.prototype.hasOwnProperty.call(i,"termType")&&(i.termType===Is||i.termType===Ka||i.termType===Rs||i.termType===Ja||i.termType===El||i.termType===No)}function XT(i){return i&&Object.prototype.hasOwnProperty.call(i,"termType")&&(i.termType===Is||i.termType===Ka||i.termType===Rs||i.termType===Ja||i.termType===El||i.termType===No)}function WT(i){return va(i)&&(i.termType===Is||i.termType===Rs||i.termType===Ka)}function QT(i){return va(i)&&i.termType===Ka}function va(i){return ri(i)==="object"&&i!==null&&"termType"in i}function Y1(i){return i.termType===El}function fl(i){return ri(i)==="object"&&i!==null&&"subject"in i&&"predicate"in i&&"object"in i}function e0(i){return va(i)&&i.termType==="NamedNode"}function YT(i){return va(i)&&(i.termType===Is||i.termType===Ka||i.termType===Rs||i.termType===Cs)}function KT(i,e,t){return e=Zr(e),Ea(i,K1()?Reflect.construct(e,t||[],Zr(i).constructor):e.apply(i,t))}function K1(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K1=function(){return!!i})()}var vn=function(i){function e(t){var r;if(Hr(this,e),r=KT(this,e,[ul(t)]),et(r,"termType",Is),et(r,"classOrder",Qi.NamedNode),!r.value)throw new Error("Missing IRI for NamedNode");if(!r.value.includes(":"))throw new Error('NamedNode IRI "'+t+'" must be absolute.');if(r.value.includes(" ")){var n='Error: NamedNode IRI "'+t+'" must not contain unencoded spaces.';throw new Error(n)}return r}return Pn(e,i),xr(e,[{key:"dir",value:function(){var r=this.value.split("#")[0],n=r.slice(0,-1).lastIndexOf("/"),s=r.indexOf("//");return s>=0&&n<s+2||n<0?null:new e(r.slice(0,n+1))}},{key:"site",value:function(){var r=this.value.split("#")[0],n=r.indexOf("//");if(n<0)throw new Error("This URI does not have a web site part (origin)");var s=r.indexOf("/",n+2);return s<0?new e(r.slice(0)+"/"):new e(r.slice(0,s+1))}},{key:"doc",value:function(){return this.value.indexOf("#")<0?this:new e(this.value.split("#")[0])}},{key:"toString",value:function(){return"<"+this.value+">"}},{key:"id",value:function(){return this.value.split("#")[1]}},{key:"uri",get:function(){return this.value},set:function(r){this.value=r}}],[{key:"fromValue",value:function(r){return typeof r>"u"||r===null||va(r)?r:new e(r)}}])}(Pr);const ca={boolean:new vn("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:new vn("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:new vn("http://www.w3.org/2001/XMLSchema#decimal"),double:new vn("http://www.w3.org/2001/XMLSchema#double"),integer:new vn("http://www.w3.org/2001/XMLSchema#integer"),langString:new vn("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:new vn("http://www.w3.org/2001/XMLSchema#string")};function JT(i,e,t){return e=Zr(e),Ea(i,J1()?Reflect.construct(e,t||[],Zr(i).constructor):e.apply(i,t))}function J1(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J1=function(){return!!i})()}var Gi=function(i){function e(t,r,n){var s;return Hr(this,e),s=JT(this,e,[t]),et(s,"termType",El),et(s,"classOrder",Qi.Literal),et(s,"datatype",ca.string),et(s,"isVar",0),et(s,"language",""),r?(s.language=r,s.datatype=ca.langString):n?s.datatype=vn.fromValue(n):s.datatype=ca.string,s}return Pn(e,i),xr(e,[{key:"copy",value:function(){return new e(this.value,this.lang,this.datatype)}},{key:"equals",value:function(r){return r?this.termType===r.termType&&this.value===r.value&&this.language===r.language&&(!this.datatype&&!r.datatype||this.datatype&&this.datatype.equals(r.datatype)):!1}},{key:"lang",get:function(){return this.language},set:function(r){this.language=r||""}},{key:"toNT",value:function(){return e.toNT(this)}},{key:"toString",value:function(){return""+this.value}}],[{key:"toNT",value:function(r){if(typeof r.value=="number")return""+r.value;if(typeof r.value!="string")throw new Error("Value of RDF literal is not string or number: "+r.value);var n=r.value;return n=n.replace(/\\/g,"\\\\"),n=n.replace(/\"/g,'\\"'),n=n.replace(/\n/g,"\\n"),n=n.replace(/\r/g,"\\r"),n='"'+n+'"',r.language?n+="@"+r.language:r.datatype.equals(ca.string)||(n+="^^"+r.datatype.toCanonical()),n}},{key:"fromBoolean",value:function(r){var n=r?"1":"0";return new e(n,null,ca.boolean)}},{key:"fromDate",value:function(r){if(!(r instanceof Date))throw new TypeError("Invalid argument to Literal.fromDate()");var n=function(l){return(""+(100+l)).slice(1,3)},s=""+r.getUTCFullYear()+"-"+n(r.getUTCMonth()+1)+"-"+n(r.getUTCDate())+"T"+n(r.getUTCHours())+":"+n(r.getUTCMinutes())+":"+n(r.getUTCSeconds())+"Z";return new e(s,null,ca.dateTime)}},{key:"fromNumber",value:function(r){if(typeof r!="number")throw new TypeError("Invalid argument to Literal.fromNumber()");var n,s=r.toString();return s.indexOf("e")<0&&Math.abs(r)<=Number.MAX_SAFE_INTEGER?n=Number.isInteger(r)?ca.integer:ca.decimal:n=ca.double,new e(s,null,n)}},{key:"fromValue",value:function(r){if(Y1(r))return r;switch(ri(r)){case"object":if(r instanceof Date)return e.fromDate(r);case"boolean":return e.fromBoolean(r);case"number":return e.fromNumber(r);case"string":return new e(r)}throw new Error("Can't make literal from "+r+" of type "+ri(r))}}])}(Pr);function ZT(i,e,t){return e=Zr(e),Ea(i,Z1()?Reflect.construct(e,t||[],Zr(i).constructor):e.apply(i,t))}function Z1(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z1=function(){return!!i})()}function e2(i){return typeof i>"u"||i===null||va(i)?i:Array.isArray(i)?new Wa(i):Gi.fromValue(i)}var Wa=function(i){function e(t){var r;return Hr(this,e),r=ZT(this,e,[(Yi.nextId++).toString()]),et(r,"termType",Ja),et(r,"classOrder",Qi.Collection),et(r,"closed",!1),et(r,"compareTerm",Yi.prototype.compareTerm),et(r,"elements",[]),et(r,"isVar",0),t&&t.length>0&&t.forEach(function(n){r.elements.push(e2(n))}),r}return Pn(e,i),xr(e,[{key:"id",get:function(){return this.value},set:function(r){this.value=r}},{key:"append",value:function(r){return this.elements.push(r)}},{key:"close",value:function(){return this.closed=!0,this.closed}},{key:"shift",value:function(){return this.elements.shift()}},{key:"substitute",value:function(r){var n=this.elements.map(function(s){return s.substitute(r)});return new e(n)}},{key:"toNT",value:function(){return e.toNT(this)}},{key:"toString",value:function(){return"("+this.elements.join(" ")+")"}},{key:"unshift",value:function(r){return this.elements.unshift(r)}}],[{key:"toNT",value:function(r){return Yi.NTAnonymousNodePrefix+r.id}}])}(Pr);et(Wa,"termType",Ja);function t0(i,e,t,r,n,s,a){try{var l=i[s](a),u=l.value}catch(f){return void t(f)}l.done?e(u):Promise.resolve(u).then(r,n)}function r0(i){return function(){var e=this,t=arguments;return new Promise(function(r,n){var s=i.apply(e,t);function a(u){t0(s,r,n,a,l,"next",u)}function l(u){t0(s,r,n,a,l,"throw",u)}a(void 0)})}}var t2={exports:{}},r2={exports:{}};(function(i){function e(t){"@babel/helpers - typeof";return i.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},i.exports.__esModule=!0,i.exports.default=i.exports,e(t)}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports})(r2);var eN=r2.exports;(function(i){var e=eN.default;function t(){i.exports=t=function(){return n},i.exports.__esModule=!0,i.exports.default=i.exports;var r,n={},s=Object.prototype,a=s.hasOwnProperty,l=Object.defineProperty||function(te,$,W){te[$]=W.value},u=typeof Symbol=="function"?Symbol:{},f=u.iterator||"@@iterator",h=u.asyncIterator||"@@asyncIterator",_=u.toStringTag||"@@toStringTag";function p(te,$,W){return Object.defineProperty(te,$,{value:W,enumerable:!0,configurable:!0,writable:!0}),te[$]}try{p({},"")}catch{p=function(W,de,J){return W[de]=J}}function d(te,$,W,de){var J=$&&$.prototype instanceof O?$:O,pe=Object.create(J.prototype),it=new oe(de||[]);return l(pe,"_invoke",{value:D(te,W,it)}),pe}function v(te,$,W){try{return{type:"normal",arg:te.call($,W)}}catch(de){return{type:"throw",arg:de}}}n.wrap=d;var m="suspendedStart",b="suspendedYield",A="executing",U="completed",I={};function O(){}function y(){}function N(){}var T={};p(T,f,function(){return this});var j=Object.getPrototypeOf,F=j&&j(j(re([])));F&&F!==s&&a.call(F,f)&&(T=F);var q=N.prototype=O.prototype=Object.create(T);function k(te){["next","throw","return"].forEach(function($){p(te,$,function(W){return this._invoke($,W)})})}function L(te,$){function W(J,pe,it,tt){var Fe=v(te[J],te,pe);if(Fe.type!=="throw"){var He=Fe.arg,Ce=He.value;return Ce&&e(Ce)=="object"&&a.call(Ce,"__await")?$.resolve(Ce.__await).then(function(De){W("next",De,it,tt)},function(De){W("throw",De,it,tt)}):$.resolve(Ce).then(function(De){He.value=De,it(He)},function(De){return W("throw",De,it,tt)})}tt(Fe.arg)}var de;l(this,"_invoke",{value:function(pe,it){function tt(){return new $(function(Fe,He){W(pe,it,Fe,He)})}return de=de?de.then(tt,tt):tt()}})}function D(te,$,W){var de=m;return function(J,pe){if(de===A)throw Error("Generator is already running");if(de===U){if(J==="throw")throw pe;return{value:r,done:!0}}for(W.method=J,W.arg=pe;;){var it=W.delegate;if(it){var tt=P(it,W);if(tt){if(tt===I)continue;return tt}}if(W.method==="next")W.sent=W._sent=W.arg;else if(W.method==="throw"){if(de===m)throw de=U,W.arg;W.dispatchException(W.arg)}else W.method==="return"&&W.abrupt("return",W.arg);de=A;var Fe=v(te,$,W);if(Fe.type==="normal"){if(de=W.done?U:b,Fe.arg===I)continue;return{value:Fe.arg,done:W.done}}Fe.type==="throw"&&(de=U,W.method="throw",W.arg=Fe.arg)}}}function P(te,$){var W=$.method,de=te.iterator[W];if(de===r)return $.delegate=null,W==="throw"&&te.iterator.return&&($.method="return",$.arg=r,P(te,$),$.method==="throw")||W!=="return"&&($.method="throw",$.arg=new TypeError("The iterator does not provide a '"+W+"' method")),I;var J=v(de,te.iterator,$.arg);if(J.type==="throw")return $.method="throw",$.arg=J.arg,$.delegate=null,I;var pe=J.arg;return pe?pe.done?($[te.resultName]=pe.value,$.next=te.nextLoc,$.method!=="return"&&($.method="next",$.arg=r),$.delegate=null,I):pe:($.method="throw",$.arg=new TypeError("iterator result is not an object"),$.delegate=null,I)}function Q(te){var $={tryLoc:te[0]};1 in te&&($.catchLoc=te[1]),2 in te&&($.finallyLoc=te[2],$.afterLoc=te[3]),this.tryEntries.push($)}function H(te){var $=te.completion||{};$.type="normal",delete $.arg,te.completion=$}function oe(te){this.tryEntries=[{tryLoc:"root"}],te.forEach(Q,this),this.reset(!0)}function re(te){if(te||te===""){var $=te[f];if($)return $.call(te);if(typeof te.next=="function")return te;if(!isNaN(te.length)){var W=-1,de=function J(){for(;++W<te.length;)if(a.call(te,W))return J.value=te[W],J.done=!1,J;return J.value=r,J.done=!0,J};return de.next=de}}throw new TypeError(e(te)+" is not iterable")}return y.prototype=N,l(q,"constructor",{value:N,configurable:!0}),l(N,"constructor",{value:y,configurable:!0}),y.displayName=p(N,_,"GeneratorFunction"),n.isGeneratorFunction=function(te){var $=typeof te=="function"&&te.constructor;return!!$&&($===y||($.displayName||$.name)==="GeneratorFunction")},n.mark=function(te){return Object.setPrototypeOf?Object.setPrototypeOf(te,N):(te.__proto__=N,p(te,_,"GeneratorFunction")),te.prototype=Object.create(q),te},n.awrap=function(te){return{__await:te}},k(L.prototype),p(L.prototype,h,function(){return this}),n.AsyncIterator=L,n.async=function(te,$,W,de,J){J===void 0&&(J=Promise);var pe=new L(d(te,$,W,de),J);return n.isGeneratorFunction($)?pe:pe.next().then(function(it){return it.done?it.value:pe.next()})},k(q),p(q,_,"Generator"),p(q,f,function(){return this}),p(q,"toString",function(){return"[object Generator]"}),n.keys=function(te){var $=Object(te),W=[];for(var de in $)W.push(de);return W.reverse(),function J(){for(;W.length;){var pe=W.pop();if(pe in $)return J.value=pe,J.done=!1,J}return J.done=!0,J}},n.values=re,oe.prototype={constructor:oe,reset:function($){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(H),!$)for(var W in this)W.charAt(0)==="t"&&a.call(this,W)&&!isNaN(+W.slice(1))&&(this[W]=r)},stop:function(){this.done=!0;var $=this.tryEntries[0].completion;if($.type==="throw")throw $.arg;return this.rval},dispatchException:function($){if(this.done)throw $;var W=this;function de(He,Ce){return it.type="throw",it.arg=$,W.next=He,Ce&&(W.method="next",W.arg=r),!!Ce}for(var J=this.tryEntries.length-1;J>=0;--J){var pe=this.tryEntries[J],it=pe.completion;if(pe.tryLoc==="root")return de("end");if(pe.tryLoc<=this.prev){var tt=a.call(pe,"catchLoc"),Fe=a.call(pe,"finallyLoc");if(tt&&Fe){if(this.prev<pe.catchLoc)return de(pe.catchLoc,!0);if(this.prev<pe.finallyLoc)return de(pe.finallyLoc)}else if(tt){if(this.prev<pe.catchLoc)return de(pe.catchLoc,!0)}else{if(!Fe)throw Error("try statement without catch or finally");if(this.prev<pe.finallyLoc)return de(pe.finallyLoc)}}}},abrupt:function($,W){for(var de=this.tryEntries.length-1;de>=0;--de){var J=this.tryEntries[de];if(J.tryLoc<=this.prev&&a.call(J,"finallyLoc")&&this.prev<J.finallyLoc){var pe=J;break}}pe&&($==="break"||$==="continue")&&pe.tryLoc<=W&&W<=pe.finallyLoc&&(pe=null);var it=pe?pe.completion:{};return it.type=$,it.arg=W,pe?(this.method="next",this.next=pe.finallyLoc,I):this.complete(it)},complete:function($,W){if($.type==="throw")throw $.arg;return $.type==="break"||$.type==="continue"?this.next=$.arg:$.type==="return"?(this.rval=this.arg=$.arg,this.method="return",this.next="end"):$.type==="normal"&&W&&(this.next=W),I},finish:function($){for(var W=this.tryEntries.length-1;W>=0;--W){var de=this.tryEntries[W];if(de.finallyLoc===$)return this.complete(de.completion,de.afterLoc),H(de),I}},catch:function($){for(var W=this.tryEntries.length-1;W>=0;--W){var de=this.tryEntries[W];if(de.tryLoc===$){var J=de.completion;if(J.type==="throw"){var pe=J.arg;H(de)}return pe}}throw Error("illegal catch attempt")},delegateYield:function($,W,de){return this.delegate={iterator:re($),resultName:W,nextLoc:de},this.method==="next"&&(this.arg=r),I}},n}i.exports=t,i.exports.__esModule=!0,i.exports.default=i.exports})(t2);var tN=t2.exports,tf=tN(),rN=tf;try{regeneratorRuntime=tf}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=tf:Function("r","regeneratorRuntime = r")(tf)}const $u=Ss(rN);var yo="chrome:theSession";new vn(yo);function nN(i,e,t){return e=Zr(e),Ea(i,n2()?Reflect.construct(e,t||[],Zr(i).constructor):e.apply(i,t))}function n2(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n2=function(){return!!i})()}var cd=function(i){function e(){var t;return Hr(this,e),t=nN(this,e,[""]),et(t,"value",""),et(t,"termType",Cs),et(t,"uri",yo),t}return Pn(e,i),xr(e,[{key:"toCanonical",value:function(){return this.value}},{key:"toString",value:function(){return"DefaultGraph"}}])}(Pr);function n0(i){return!!i&&i.termType===Cs}var iN=new cd,Ds=function(){function i(e,t,r,n){Hr(this,i),et(this,"subject",void 0),et(this,"predicate",void 0),et(this,"object",void 0),et(this,"graph",void 0),this.subject=Pr.fromValue(e),this.predicate=Pr.fromValue(t),this.object=Pr.fromValue(r),this.graph=n==null?iN:Pr.fromValue(n)}return xr(i,[{key:"why",get:function(){return this.graph},set:function(t){this.graph=t}},{key:"equals",value:function(t){return t.subject.equals(this.subject)&&t.predicate.equals(this.predicate)&&t.object.equals(this.object)&&t.graph.equals(this.graph)}},{key:"substitute",value:function(t){var r=new i(this.subject.substitute(t),this.predicate.substitute(t),this.object.substitute(t),n0(this.graph)?this.graph:this.graph.substitute(t));return r}},{key:"toCanonical",value:function(){var t=[this.subject.toCanonical(),this.predicate.toCanonical(),this.object.toCanonical()];return this.graph&&this.graph.termType!==Cs&&t.push(this.graph.toCanonical()),t.join(" ")+" ."}},{key:"toNT",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT()].join(" ")+" ."}},{key:"toNQ",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT(),n0(this.graph)?"":this.graph.toNT()].join(" ")+" ."}},{key:"toString",value:function(){return this.toNT()}}])}(),i2=i2||console.log;function hl(i){var e;return e=i.indexOf("#"),e<0?i:i.slice(0,e)}function aN(i){var e=/[^\/]*\/\/([^\/]*)\//.exec(i);return e?e[1]:""}function Ei(i,e){var t,r,n,s,a,l,u=e.indexOf("#");if(u>0&&(e=e.slice(0,u)),i.length===0)return e;if(i.indexOf("#")===0)return e+i;if(s=i.indexOf(":"),s>=0||(t=e.indexOf(":"),e.length===0))return i;if(t<0)return i2("Invalid base: "+e+" in join with given: "+i),i;if(r=e.slice(0,+t+1||9e9),i.indexOf("//")===0)return r+i;if(e.indexOf("//",t)===t+1){if(n=e.indexOf("/",t+3),n<0)return e.length-t-3>0?e+"/"+i:r+i}else if(n=e.indexOf("/",t+1),n<0)return e.length-t-1>0?e+"/"+i:r+i;if(i.indexOf("/")===0)return e.slice(0,n)+i;if(l=e.slice(n),a=l.lastIndexOf("/"),a<0)return r+i;for(a>=0&&a<l.length-1&&(l=l.slice(0,+a+1||9e9)),l+=i;l.match(/[^\/]*\/\.\.\//);)l=l.replace(/[^\/]*\/\.\.\//,"");return l=l.replace(/\.\//g,""),l=l.replace(/\/\.$/,"/"),e.slice(0,n)+l}function i0(i){var e=i.indexOf(":");return e<0?null:i.slice(0,e)}function dh(i,e){var t,r,n,s,a,l,u,f,h,_,p,d,v,m=new RegExp("^[-_a-zA-Z0-9.]+:(//[^/]*)?/[^/]*$");if(!i)return e;if(i===e)return"";for(r=f=0,a=e.length;f<a;r=++f){var b=e[r];if(b!==i[r])break}if(i.slice(0,r).match(m)&&(n=e.indexOf("//"),n<0&&(n=-2),s=e.indexOf("/",n+2),e[s+1]!=="/"&&i[s+1]!=="/"&&e.slice(0,s)===i.slice(0,s)))return e.slice(s);if(e[r]==="#"&&i.length===r)return e.slice(r);for(;r>0&&e[r-1]!=="/";)r--;if(r<3||i.indexOf("//",r-2)>0||e.indexOf("//",r-2)>0||i.indexOf(":",r)>0)return e;for(u=0,p=i.slice(r),h=0,l=p.length;h<l;h++)t=p[h],t==="/"&&u++;if(u===0&&r<e.length&&e[r]==="#")return"./"+e.slice(r);if(u===0&&r===e.length)return"./";if(v="",u>0)for(_=1,d=u;d>=1?_<=d:_>=d;d>=1?++_:--_)v+="../";return v+e.slice(r)}function sN(i,e,t){return e=Zr(e),Ea(i,a2()?Reflect.construct(e,t||[],Zr(i).constructor):e.apply(i,t))}function a2(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a2=function(){return!!i})()}var Ts=function(i){function e(){var t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Hr(this,e),t=sN(this,e,[r]),et(t,"termType",Ka),et(t,"base","varid:"),et(t,"classOrder",Qi.Variable),et(t,"isVar",1),et(t,"uri",void 0),t.base="varid:",t.uri=Ei(r,t.base),t}return Pn(e,i),xr(e,[{key:"equals",value:function(r){return r?this.termType===r.termType&&this.value===r.value:!1}},{key:"hashString",value:function(){return this.toString()}},{key:"substitute",value:function(r){var n;return(n=r[this.toNT()])!=null?n:this}},{key:"toString",value:function(){return e.toString(this)}}],[{key:"toString",value:function(r){return r.uri.slice(0,r.base.length)===r.base?"?".concat(r.uri.slice(r.base.length)):"?".concat(r.uri)}}])}(Pr),xn=function(i){return i.collections="COLLECTIONS",i.defaultGraphType="DEFAULT_GRAPH_TYPE",i.equalsMethod="EQUALS_METHOD",i.id="ID",i.identity="IDENTITY",i.reversibleId="REVERSIBLE_ID",i.variableType="VARIABLE_TYPE",i}({}),a0=new cd,Pi={supports:et(et(et(et(et(et(et({},xn.collections,!1),xn.defaultGraphType,!1),xn.equalsMethod,!0),xn.identity,!1),xn.id,!0),xn.reversibleId,!1),xn.variableType,!0),blankNode:function(e){return new Yi(e)},defaultGraph:function(){return a0},equals:function(e,t){return e===t||!e||!t?!0:fl(e)||fl(t)?fl(e)&&fl(t)?this.equals(e.subject,t.subject)&&this.equals(e.predicate,t.predicate)&&this.equals(e.object,t.object)&&this.equals(e.graph,t.graph):!1:va(e)&&va(t)?this.id(e)===this.id(t):!1},id:function(e){if(!e)return"undefined";if(fl(e))return this.quadToNQ(e);switch(e.termType){case Cs:return"defaultGraph";case Ka:return Ts.toString(e);default:var t=this.termToNQ(e);if(t)return t;throw new Error("Can't id term with type '".concat(e.termType,"'"))}},isQuad:function(e){return e instanceof Ds},literal:function(e,t){if(typeof e!="string"&&!t)return Gi.fromValue(e);var r=typeof e=="string"?e:""+e;return typeof t=="string"?t.indexOf(":")===-1?new Gi(r,t):new Gi(r,null,this.namedNode(t)):new Gi(r,null,t)},namedNode:function(e){return new vn(e)},quad:function(e,t,r,n){return new Ds(e,t,r,n||a0)},triple:function(e,t,r,n){return this.quad(e,t,r,n)},quadToNQ:function(e){return"".concat(this.termToNQ(e.subject)," ").concat(this.termToNQ(e.predicate)," ").concat(this.termToNQ(e.object)," ").concat(this.termToNQ(e.graph)," .")},termToNQ:function(e){var t=this;switch(e.termType){case Rs:return"_:"+e.value;case Cs:return"";case X1:return"<http://www.w3.org/1999/02/22-rdf-syntax-ns#nil>";case El:return Gi.toNT(e);case No:case Is:return"<"+e.value+">";case Ja:return"("+e.elements.map(function(r){return t.termToNQ(r)}).join(" ")+")";default:throw new Error("Can't serialize nonstandard term type (was '".concat(e.termType,"')"))}},toNQ:function(e){return this.isQuad(e)?this.quadToNQ(e):this.termToNQ(e)},variable:function(e){return new Ts(e)}},$i={debug:function(e){},warn:function(e){},info:function(e){},error:function(e){},success:function(e){},msg:function(e){}};function Rn(i,e){var t=e||{namedNode:function(n){return new vn(n)}};return function(r){return t.namedNode(i+(r||""))}}var Za={},Da={};function lN(i,e,t){if(t===void 0&&(t=Array.prototype),i&&typeof t.find=="function")return t.find.call(i,e);for(var r=0;r<i.length;r++)if(Object.prototype.hasOwnProperty.call(i,r)){var n=i[r];if(e.call(void 0,n,r,i))return n}}function hd(i,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(i):i}function oN(i,e){if(i===null||typeof i!="object")throw new TypeError("target is not an object");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t]);return i}var s2=hd({HTML:"text/html",isHTML:function(i){return i===s2.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),l2=hd({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(i){return i===l2.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Da.assign=oN;Da.find=lN;Da.freeze=hd;Da.MIME_TYPE=s2;Da.NAMESPACE=l2;var o2=Da,Ki=o2.find,Eo=o2.NAMESPACE;function uN(i){return i!==""}function fN(i){return i?i.split(/[\t\n\f\r ]+/).filter(uN):[]}function cN(i,e){return i.hasOwnProperty(e)||(i[e]=!0),i}function s0(i){if(!i)return[];var e=fN(i);return Object.keys(e.reduce(cN,{}))}function hN(i){return function(e){return i&&i.indexOf(e)!==-1}}function So(i,e){for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}function zn(i,e){var t=i.prototype;if(!(t instanceof e)){let r=function(){};r.prototype=e.prototype,r=new r,So(t,r),i.prototype=t=r}t.constructor!=i&&(typeof i!="function"&&console.error("unknown Class:"+i),t.constructor=i)}var $n={},Fi=$n.ELEMENT_NODE=1,vl=$n.ATTRIBUTE_NODE=2,_f=$n.TEXT_NODE=3,u2=$n.CDATA_SECTION_NODE=4,f2=$n.ENTITY_REFERENCE_NODE=5,dN=$n.ENTITY_NODE=6,c2=$n.PROCESSING_INSTRUCTION_NODE=7,h2=$n.COMMENT_NODE=8,d2=$n.DOCUMENT_NODE=9,p2=$n.DOCUMENT_TYPE_NODE=10,ga=$n.DOCUMENT_FRAGMENT_NODE=11,pN=$n.NOTATION_NODE=12,Dn={},un={};Dn.INDEX_SIZE_ERR=(un[1]="Index size error",1);Dn.DOMSTRING_SIZE_ERR=(un[2]="DOMString size error",2);var Hn=Dn.HIERARCHY_REQUEST_ERR=(un[3]="Hierarchy request error",3);Dn.WRONG_DOCUMENT_ERR=(un[4]="Wrong document",4);Dn.INVALID_CHARACTER_ERR=(un[5]="Invalid character",5);Dn.NO_DATA_ALLOWED_ERR=(un[6]="No data allowed",6);Dn.NO_MODIFICATION_ALLOWED_ERR=(un[7]="No modification allowed",7);var _2=Dn.NOT_FOUND_ERR=(un[8]="Not found",8);Dn.NOT_SUPPORTED_ERR=(un[9]="Not supported",9);var l0=Dn.INUSE_ATTRIBUTE_ERR=(un[10]="Attribute in use",10);Dn.INVALID_STATE_ERR=(un[11]="Invalid state",11);Dn.SYNTAX_ERR=(un[12]="Syntax error",12);Dn.INVALID_MODIFICATION_ERR=(un[13]="Invalid modification",13);Dn.NAMESPACE_ERR=(un[14]="Invalid namespace",14);Dn.INVALID_ACCESS_ERR=(un[15]="Invalid access",15);function Kr(i,e){if(e instanceof Error)var t=e;else t=this,Error.call(this,un[i]),this.message=un[i],Error.captureStackTrace&&Error.captureStackTrace(this,Kr);return t.code=i,e&&(this.message=this.message+": "+e),t}Kr.prototype=Error.prototype;So(Dn,Kr);function da(){}da.prototype={length:0,item:function(i){return i>=0&&i<this.length?this[i]:null},toString:function(i,e){for(var t=[],r=0;r<this.length;r++)dl(this[r],t,i,e);return t.join("")},filter:function(i){return Array.prototype.filter.call(this,i)},indexOf:function(i){return Array.prototype.indexOf.call(this,i)}};function gl(i,e){this._node=i,this._refresh=e,dd(this)}function dd(i){var e=i._node._inc||i._node.ownerDocument._inc;if(i._inc!==e){var t=i._refresh(i._node);if(T2(i,"length",t.length),!i.$$length||t.length<i.$$length)for(var r=t.length;r in i;r++)Object.prototype.hasOwnProperty.call(i,r)&&delete i[r];So(t,i),i._inc=e}}gl.prototype.item=function(i){return dd(this),this[i]||null};zn(gl,da);function vf(){}function v2(i,e){for(var t=i.length;t--;)if(i[t]===e)return t}function o0(i,e,t,r){if(r?e[v2(e,r)]=t:e[e.length++]=t,i){t.ownerElement=i;var n=i.ownerDocument;n&&(r&&b2(n,i,r),_N(n,i,t))}}function u0(i,e,t){var r=v2(e,t);if(r>=0){for(var n=e.length-1;r<n;)e[r]=e[++r];if(e.length=n,i){var s=i.ownerDocument;s&&(b2(s,i,t),t.ownerElement=null)}}else throw new Kr(_2,new Error(i.tagName+"@"+t))}vf.prototype={length:0,item:da.prototype.item,getNamedItem:function(i){for(var e=this.length;e--;){var t=this[e];if(t.nodeName==i)return t}},setNamedItem:function(i){var e=i.ownerElement;if(e&&e!=this._ownerElement)throw new Kr(l0);var t=this.getNamedItem(i.nodeName);return o0(this._ownerElement,this,i,t),t},setNamedItemNS:function(i){var e=i.ownerElement,t;if(e&&e!=this._ownerElement)throw new Kr(l0);return t=this.getNamedItemNS(i.namespaceURI,i.localName),o0(this._ownerElement,this,i,t),t},removeNamedItem:function(i){var e=this.getNamedItem(i);return u0(this._ownerElement,this,e),e},removeNamedItemNS:function(i,e){var t=this.getNamedItemNS(i,e);return u0(this._ownerElement,this,t),t},getNamedItemNS:function(i,e){for(var t=this.length;t--;){var r=this[t];if(r.localName==e&&r.namespaceURI==i)return r}return null}};function g2(){}g2.prototype={hasFeature:function(i,e){return!0},createDocument:function(i,e,t){var r=new Io;if(r.implementation=this,r.childNodes=new da,r.doctype=t||null,t&&r.appendChild(t),e){var n=r.createElementNS(i,e);r.appendChild(n)}return r},createDocumentType:function(i,e,t){var r=new Ff;return r.name=i,r.nodeName=i,r.publicId=e||"",r.systemId=t||"",r}};function Dr(){}Dr.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(i,e){return gf(this,i,e)},replaceChild:function(i,e){gf(this,i,e,y2),e&&this.removeChild(e)},removeChild:function(i){return w2(this,i)},appendChild:function(i){return this.insertBefore(i,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(i){return Vh(this.ownerDocument||this,this,i)},normalize:function(){for(var i=this.firstChild;i;){var e=i.nextSibling;e&&e.nodeType==_f&&i.nodeType==_f?(this.removeChild(e),i.appendData(e.data)):(i.normalize(),i=e)}},isSupported:function(i,e){return this.ownerDocument.implementation.hasFeature(i,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(i){for(var e=this;e;){var t=e._nsMap;if(t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&t[r]===i)return r}e=e.nodeType==vl?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(i){for(var e=this;e;){var t=e._nsMap;if(t&&Object.prototype.hasOwnProperty.call(t,i))return t[i];e=e.nodeType==vl?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(i){var e=this.lookupPrefix(i);return e==null}};function m2(i){return i=="<"&&"&lt;"||i==">"&&"&gt;"||i=="&"&&"&amp;"||i=='"'&&"&quot;"||"&#"+i.charCodeAt()+";"}So($n,Dr);So($n,Dr.prototype);function Do(i,e){if(e(i))return!0;if(i=i.firstChild)do if(Do(i,e))return!0;while(i=i.nextSibling)}function Io(){this.ownerDocument=this}function _N(i,e,t){i&&i._inc++;var r=t.namespaceURI;r===Eo.XMLNS&&(e._nsMap[t.prefix?t.localName:""]=t.value)}function b2(i,e,t,r){i&&i._inc++;var n=t.namespaceURI;n===Eo.XMLNS&&delete e._nsMap[t.prefix?t.localName:""]}function pd(i,e,t){if(i&&i._inc){i._inc++;var r=e.childNodes;if(t)r[r.length++]=t;else{for(var n=e.firstChild,s=0;n;)r[s++]=n,n=n.nextSibling;r.length=s,delete r[r.length]}}}function w2(i,e){var t=e.previousSibling,r=e.nextSibling;return t?t.nextSibling=r:i.firstChild=r,r?r.previousSibling=t:i.lastChild=t,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,pd(i.ownerDocument,i),e}function vN(i){return i&&(i.nodeType===Dr.DOCUMENT_NODE||i.nodeType===Dr.DOCUMENT_FRAGMENT_NODE||i.nodeType===Dr.ELEMENT_NODE)}function gN(i){return i&&(Ji(i)||_d(i)||ma(i)||i.nodeType===Dr.DOCUMENT_FRAGMENT_NODE||i.nodeType===Dr.COMMENT_NODE||i.nodeType===Dr.PROCESSING_INSTRUCTION_NODE)}function ma(i){return i&&i.nodeType===Dr.DOCUMENT_TYPE_NODE}function Ji(i){return i&&i.nodeType===Dr.ELEMENT_NODE}function _d(i){return i&&i.nodeType===Dr.TEXT_NODE}function f0(i,e){var t=i.childNodes||[];if(Ki(t,Ji)||ma(e))return!1;var r=Ki(t,ma);return!(e&&r&&t.indexOf(r)>t.indexOf(e))}function c0(i,e){var t=i.childNodes||[];function r(s){return Ji(s)&&s!==e}if(Ki(t,r))return!1;var n=Ki(t,ma);return!(e&&n&&t.indexOf(n)>t.indexOf(e))}function mN(i,e,t){if(!vN(i))throw new Kr(Hn,"Unexpected parent node type "+i.nodeType);if(t&&t.parentNode!==i)throw new Kr(_2,"child not in parent");if(!gN(e)||ma(e)&&i.nodeType!==Dr.DOCUMENT_NODE)throw new Kr(Hn,"Unexpected node type "+e.nodeType+" for parent node type "+i.nodeType)}function bN(i,e,t){var r=i.childNodes||[],n=e.childNodes||[];if(e.nodeType===Dr.DOCUMENT_FRAGMENT_NODE){var s=n.filter(Ji);if(s.length>1||Ki(n,_d))throw new Kr(Hn,"More than one element or text in fragment");if(s.length===1&&!f0(i,t))throw new Kr(Hn,"Element in fragment can not be inserted before doctype")}if(Ji(e)&&!f0(i,t))throw new Kr(Hn,"Only one element can be added and only after doctype");if(ma(e)){if(Ki(r,ma))throw new Kr(Hn,"Only one doctype is allowed");var a=Ki(r,Ji);if(t&&r.indexOf(a)<r.indexOf(t))throw new Kr(Hn,"Doctype can only be inserted before an element");if(!t&&a)throw new Kr(Hn,"Doctype can not be appended since element is present")}}function y2(i,e,t){var r=i.childNodes||[],n=e.childNodes||[];if(e.nodeType===Dr.DOCUMENT_FRAGMENT_NODE){var s=n.filter(Ji);if(s.length>1||Ki(n,_d))throw new Kr(Hn,"More than one element or text in fragment");if(s.length===1&&!c0(i,t))throw new Kr(Hn,"Element in fragment can not be inserted before doctype")}if(Ji(e)&&!c0(i,t))throw new Kr(Hn,"Only one element can be added and only after doctype");if(ma(e)){if(Ki(r,function(u){return ma(u)&&u!==t}))throw new Kr(Hn,"Only one doctype is allowed");var a=Ki(r,Ji);if(t&&r.indexOf(a)<r.indexOf(t))throw new Kr(Hn,"Doctype can only be inserted before an element")}}function gf(i,e,t,r){mN(i,e,t),i.nodeType===Dr.DOCUMENT_NODE&&(r||bN)(i,e,t);var n=e.parentNode;if(n&&n.removeChild(e),e.nodeType===ga){var s=e.firstChild;if(s==null)return e;var a=e.lastChild}else s=a=e;var l=t?t.previousSibling:i.lastChild;s.previousSibling=l,a.nextSibling=t,l?l.nextSibling=s:i.firstChild=s,t==null?i.lastChild=a:t.previousSibling=a;do s.parentNode=i;while(s!==a&&(s=s.nextSibling));return pd(i.ownerDocument||i,i),e.nodeType==ga&&(e.firstChild=e.lastChild=null),e}function wN(i,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=i,e.previousSibling=i.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:i.firstChild=e,i.lastChild=e,pd(i.ownerDocument,i,e),e}Io.prototype={nodeName:"#document",nodeType:d2,doctype:null,documentElement:null,_inc:1,insertBefore:function(i,e){if(i.nodeType==ga){for(var t=i.firstChild;t;){var r=t.nextSibling;this.insertBefore(t,e),t=r}return i}return gf(this,i,e),i.ownerDocument=this,this.documentElement===null&&i.nodeType===Fi&&(this.documentElement=i),i},removeChild:function(i){return this.documentElement==i&&(this.documentElement=null),w2(this,i)},replaceChild:function(i,e){gf(this,i,e,y2),i.ownerDocument=this,e&&this.removeChild(e),Ji(i)&&(this.documentElement=i)},importNode:function(i,e){return C2(this,i,e)},getElementById:function(i){var e=null;return Do(this.documentElement,function(t){if(t.nodeType==Fi&&t.getAttribute("id")==i)return e=t,!0}),e},getElementsByClassName:function(i){var e=s0(i);return new gl(this,function(t){var r=[];return e.length>0&&Do(t.documentElement,function(n){if(n!==t&&n.nodeType===Fi){var s=n.getAttribute("class");if(s){var a=i===s;if(!a){var l=s0(s);a=e.every(hN(l))}a&&r.push(n)}}}),r})},createElement:function(i){var e=new Ns;e.ownerDocument=this,e.nodeName=i,e.tagName=i,e.localName=i,e.childNodes=new da;var t=e.attributes=new vf;return t._ownerElement=e,e},createDocumentFragment:function(){var i=new Of;return i.ownerDocument=this,i.childNodes=new da,i},createTextNode:function(i){var e=new vd;return e.ownerDocument=this,e.appendData(i),e},createComment:function(i){var e=new gd;return e.ownerDocument=this,e.appendData(i),e},createCDATASection:function(i){var e=new md;return e.ownerDocument=this,e.appendData(i),e},createProcessingInstruction:function(i,e){var t=new wd;return t.ownerDocument=this,t.tagName=t.nodeName=t.target=i,t.nodeValue=t.data=e,t},createAttribute:function(i){var e=new mf;return e.ownerDocument=this,e.name=i,e.nodeName=i,e.localName=i,e.specified=!0,e},createEntityReference:function(i){var e=new bd;return e.ownerDocument=this,e.nodeName=i,e},createElementNS:function(i,e){var t=new Ns,r=e.split(":"),n=t.attributes=new vf;return t.childNodes=new da,t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.namespaceURI=i,r.length==2?(t.prefix=r[0],t.localName=r[1]):t.localName=e,n._ownerElement=t,t},createAttributeNS:function(i,e){var t=new mf,r=e.split(":");return t.ownerDocument=this,t.nodeName=e,t.name=e,t.namespaceURI=i,t.specified=!0,r.length==2?(t.prefix=r[0],t.localName=r[1]):t.localName=e,t}};zn(Io,Dr);function Ns(){this._nsMap={}}Ns.prototype={nodeType:Fi,hasAttribute:function(i){return this.getAttributeNode(i)!=null},getAttribute:function(i){var e=this.getAttributeNode(i);return e&&e.value||""},getAttributeNode:function(i){return this.attributes.getNamedItem(i)},setAttribute:function(i,e){var t=this.ownerDocument.createAttribute(i);t.value=t.nodeValue=""+e,this.setAttributeNode(t)},removeAttribute:function(i){var e=this.getAttributeNode(i);e&&this.removeAttributeNode(e)},appendChild:function(i){return i.nodeType===ga?this.insertBefore(i,null):wN(this,i)},setAttributeNode:function(i){return this.attributes.setNamedItem(i)},setAttributeNodeNS:function(i){return this.attributes.setNamedItemNS(i)},removeAttributeNode:function(i){return this.attributes.removeNamedItem(i.nodeName)},removeAttributeNS:function(i,e){var t=this.getAttributeNodeNS(i,e);t&&this.removeAttributeNode(t)},hasAttributeNS:function(i,e){return this.getAttributeNodeNS(i,e)!=null},getAttributeNS:function(i,e){var t=this.getAttributeNodeNS(i,e);return t&&t.value||""},setAttributeNS:function(i,e,t){var r=this.ownerDocument.createAttributeNS(i,e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},getAttributeNodeNS:function(i,e){return this.attributes.getNamedItemNS(i,e)},getElementsByTagName:function(i){return new gl(this,function(e){var t=[];return Do(e,function(r){r!==e&&r.nodeType==Fi&&(i==="*"||r.tagName==i)&&t.push(r)}),t})},getElementsByTagNameNS:function(i,e){return new gl(this,function(t){var r=[];return Do(t,function(n){n!==t&&n.nodeType===Fi&&(i==="*"||n.namespaceURI===i)&&(e==="*"||n.localName==e)&&r.push(n)}),r})}};Io.prototype.getElementsByTagName=Ns.prototype.getElementsByTagName;Io.prototype.getElementsByTagNameNS=Ns.prototype.getElementsByTagNameNS;zn(Ns,Dr);function mf(){}mf.prototype.nodeType=vl;zn(mf,Dr);function Ro(){}Ro.prototype={data:"",substringData:function(i,e){return this.data.substring(i,i+e)},appendData:function(i){i=this.data+i,this.nodeValue=this.data=i,this.length=i.length},insertData:function(i,e){this.replaceData(i,0,e)},appendChild:function(i){throw new Error(un[Hn])},deleteData:function(i,e){this.replaceData(i,e,"")},replaceData:function(i,e,t){var r=this.data.substring(0,i),n=this.data.substring(i+e);t=r+t+n,this.nodeValue=this.data=t,this.length=t.length}};zn(Ro,Dr);function vd(){}vd.prototype={nodeName:"#text",nodeType:_f,splitText:function(i){var e=this.data,t=e.substring(i);e=e.substring(0,i),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(t);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}};zn(vd,Ro);function gd(){}gd.prototype={nodeName:"#comment",nodeType:h2};zn(gd,Ro);function md(){}md.prototype={nodeName:"#cdata-section",nodeType:u2};zn(md,Ro);function Ff(){}Ff.prototype.nodeType=p2;zn(Ff,Dr);function E2(){}E2.prototype.nodeType=pN;zn(E2,Dr);function D2(){}D2.prototype.nodeType=dN;zn(D2,Dr);function bd(){}bd.prototype.nodeType=f2;zn(bd,Dr);function Of(){}Of.prototype.nodeName="#document-fragment";Of.prototype.nodeType=ga;zn(Of,Dr);function wd(){}wd.prototype.nodeType=c2;zn(wd,Dr);function A2(){}A2.prototype.serializeToString=function(i,e,t){return k2.call(i,e,t)};Dr.prototype.toString=k2;function k2(i,e){var t=[],r=this.nodeType==9&&this.documentElement||this,n=r.prefix,s=r.namespaceURI;if(s&&n==null){var n=r.lookupPrefix(s);if(n==null)var a=[{namespace:s,prefix:null}]}return dl(this,t,i,e,a),t.join("")}function h0(i,e,t){var r=i.prefix||"",n=i.namespaceURI;if(!n||r==="xml"&&n===Eo.XML||n===Eo.XMLNS)return!1;for(var s=t.length;s--;){var a=t[s];if(a.prefix===r)return a.namespace!==n}return!0}function ph(i,e,t){i.push(" ",e,'="',t.replace(/[<>&"\t\n\r]/g,m2),'"')}function dl(i,e,t,r,n){if(n||(n=[]),r)if(i=r(i),i){if(typeof i=="string"){e.push(i);return}}else return;switch(i.nodeType){case Fi:var s=i.attributes,a=s.length,A=i.firstChild,l=i.tagName;t=Eo.isHTML(i.namespaceURI)||t;var u=l;if(!t&&!i.prefix&&i.namespaceURI){for(var f,h=0;h<s.length;h++)if(s.item(h).name==="xmlns"){f=s.item(h).value;break}if(!f)for(var _=n.length-1;_>=0;_--){var p=n[_];if(p.prefix===""&&p.namespace===i.namespaceURI){f=p.namespace;break}}if(f!==i.namespaceURI)for(var _=n.length-1;_>=0;_--){var p=n[_];if(p.namespace===i.namespaceURI){p.prefix&&(u=p.prefix+":"+l);break}}}e.push("<",u);for(var d=0;d<a;d++){var v=s.item(d);v.prefix=="xmlns"?n.push({prefix:v.localName,namespace:v.value}):v.nodeName=="xmlns"&&n.push({prefix:"",namespace:v.value})}for(var d=0;d<a;d++){var v=s.item(d);if(h0(v,t,n)){var m=v.prefix||"",b=v.namespaceURI;ph(e,m?"xmlns:"+m:"xmlns",b),n.push({prefix:m,namespace:b})}dl(v,e,t,r,n)}if(l===u&&h0(i,t,n)){var m=i.prefix||"",b=i.namespaceURI;ph(e,m?"xmlns:"+m:"xmlns",b),n.push({prefix:m,namespace:b})}if(A||t&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(e.push(">"),t&&/^script$/i.test(l))for(;A;)A.data?e.push(A.data):dl(A,e,t,r,n.slice()),A=A.nextSibling;else for(;A;)dl(A,e,t,r,n.slice()),A=A.nextSibling;e.push("</",u,">")}else e.push("/>");return;case d2:case ga:for(var A=i.firstChild;A;)dl(A,e,t,r,n.slice()),A=A.nextSibling;return;case vl:return ph(e,i.name,i.value);case _f:return e.push(i.data.replace(/[<&>]/g,m2));case u2:return e.push("<![CDATA[",i.data,"]]>");case h2:return e.push("<!--",i.data,"-->");case p2:var U=i.publicId,I=i.systemId;if(e.push("<!DOCTYPE ",i.name),U)e.push(" PUBLIC ",U),I&&I!="."&&e.push(" ",I),e.push(">");else if(I&&I!=".")e.push(" SYSTEM ",I,">");else{var O=i.internalSubset;O&&e.push(" [",O,"]"),e.push(">")}return;case c2:return e.push("<?",i.target," ",i.data,"?>");case f2:return e.push("&",i.nodeName,";");default:e.push("??",i.nodeName)}}function C2(i,e,t){var r;switch(e.nodeType){case Fi:r=e.cloneNode(!1),r.ownerDocument=i;case ga:break;case vl:t=!0;break}if(r||(r=e.cloneNode(!1)),r.ownerDocument=i,r.parentNode=null,t)for(var n=e.firstChild;n;)r.appendChild(C2(i,n,t)),n=n.nextSibling;return r}function Vh(i,e,t){var r=new e.constructor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var s=e[n];typeof s!="object"&&s!=r[n]&&(r[n]=s)}switch(e.childNodes&&(r.childNodes=new da),r.ownerDocument=i,r.nodeType){case Fi:var a=e.attributes,l=r.attributes=new vf,u=a.length;l._ownerElement=r;for(var f=0;f<u;f++)r.setAttributeNode(Vh(i,a.item(f),!0));break;case vl:t=!0}if(t)for(var h=e.firstChild;h;)r.appendChild(Vh(i,h,t)),h=h.nextSibling;return r}function T2(i,e,t){i[e]=t}try{if(Object.defineProperty){let i=function(e){switch(e.nodeType){case Fi:case ga:var t=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&t.push(i(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}};Object.defineProperty(gl.prototype,"length",{get:function(){return dd(this),this.$$length}}),Object.defineProperty(Dr.prototype,"textContent",{get:function(){return i(this)},set:function(e){switch(this.nodeType){case Fi:case ga:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),T2=function(e,t,r){e["$$"+t]=r}}}catch{}Za.DocumentType=Ff;Za.DOMException=Kr;Za.DOMImplementation=g2;Za.Element=Ns;Za.Node=Dr;Za.NodeList=da;Za.XMLSerializer=A2;var Lf={},N2={};(function(i){var e=Da.freeze;i.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),i.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),i.entityMap=i.HTML_ENTITIES})(N2);var yd={},Ao=Da.NAMESPACE,zh=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,d0=new RegExp("[\\-\\.0-9"+zh.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),p0=new RegExp("^"+zh.source+d0.source+"*(?::"+zh.source+d0.source+"*)?$"),ao=0,Ha=1,rl=2,so=3,nl=4,il=5,lo=6,Gu=7;function ml(i,e){this.message=i,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,ml)}ml.prototype=new Error;ml.prototype.name=ml.name;function S2(){}S2.prototype={parse:function(i,e,t){var r=this.domBuilder;r.startDocument(),I2(e,e={}),yN(i,e,t,r,this.errorHandler),r.endDocument()}};function yN(i,e,t,r,n){function s(H){if(H>65535){H-=65536;var oe=55296+(H>>10),re=56320+(H&1023);return String.fromCharCode(oe,re)}else return String.fromCharCode(H)}function a(H){var oe=H.slice(1,-1);return Object.hasOwnProperty.call(t,oe)?t[oe]:oe.charAt(0)==="#"?s(parseInt(oe.substr(1).replace("x","0x"))):(n.error("entity not found:"+H),H)}function l(H){if(H>m){var oe=i.substring(m,H).replace(/&#?\w+;/g,a);p&&u(m),r.characters(oe,0,H-m),m=H}}function u(H,oe){for(;H>=h&&(oe=_.exec(i));)f=oe.index,h=f+oe[0].length,p.lineNumber++;p.columnNumber=H-f+1}for(var f=0,h=0,_=/.*(?:\r\n?|\n)|.*$/g,p=r.locator,d=[{currentNSMap:e}],v={},m=0;;){try{var b=i.indexOf("<",m);if(b<0){if(!i.substr(m).match(/^\s*$/)){var A=r.doc,U=A.createTextNode(i.substr(m));A.appendChild(U),r.currentElement=U}return}switch(b>m&&l(b),i.charAt(b+1)){case"/":var k=i.indexOf(">",b+3),I=i.substring(b+2,k).replace(/[ \t\n\r]+$/g,""),O=d.pop();k<0?(I=i.substring(b+2).replace(/[\s<].*/,""),n.error("end tag name: "+I+" is not complete:"+O.tagName),k=b+1+I.length):I.match(/\s</)&&(I=I.replace(/[\s<].*/,""),n.error("end tag name: "+I+" maybe not complete"),k=b+1+I.length);var y=O.localNSMap,N=O.tagName==I,T=N||O.tagName&&O.tagName.toLowerCase()==I.toLowerCase();if(T){if(r.endElement(O.uri,O.localName,I),y)for(var j in y)Object.prototype.hasOwnProperty.call(y,j)&&r.endPrefixMapping(j);N||n.fatalError("end tag name: "+I+" is not match the current start tagName:"+O.tagName)}else d.push(O);k++;break;case"?":p&&u(b),k=CN(i,b,r);break;case"!":p&&u(b),k=kN(i,b,r,n);break;default:p&&u(b);var F=new R2,q=d[d.length-1].currentNSMap,k=EN(i,b,F,q,a,n),L=F.length;if(!F.closed&&AN(i,k,F.tagName,v)&&(F.closed=!0,t.nbsp||n.warning("unclosed xml attribute")),p&&L){for(var D=_0(p,{}),P=0;P<L;P++){var Q=F[P];u(Q.offset),Q.locator=_0(p,{})}r.locator=D,v0(F,r,q)&&d.push(F),r.locator=p}else v0(F,r,q)&&d.push(F);Ao.isHTML(F.uri)&&!F.closed?k=DN(i,k,F.tagName,a,r):k++}}catch(H){if(H instanceof ml)throw H;n.error("element parse error: "+H),k=-1}k>m?m=k:l(Math.max(b,m)+1)}}function _0(i,e){return e.lineNumber=i.lineNumber,e.columnNumber=i.columnNumber,e}function EN(i,e,t,r,n,s){function a(p,d,v){t.attributeNames.hasOwnProperty(p)&&s.fatalError("Attribute "+p+" redefined"),t.addValue(p,d.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,n),v)}for(var l,u,f=++e,h=ao;;){var _=i.charAt(f);switch(_){case"=":if(h===Ha)l=i.slice(e,f),h=so;else if(h===rl)h=so;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(h===so||h===Ha)if(h===Ha&&(s.warning('attribute value must after "="'),l=i.slice(e,f)),e=f+1,f=i.indexOf(_,e),f>0)u=i.slice(e,f),a(l,u,e-1),h=il;else throw new Error("attribute value no end '"+_+"' match");else if(h==nl)u=i.slice(e,f),a(l,u,e),s.warning('attribute "'+l+'" missed start quot('+_+")!!"),e=f+1,h=il;else throw new Error('attribute value must after "="');break;case"/":switch(h){case ao:t.setTagName(i.slice(e,f));case il:case lo:case Gu:h=Gu,t.closed=!0;case nl:case Ha:break;case rl:t.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),h==ao&&t.setTagName(i.slice(e,f)),f;case">":switch(h){case ao:t.setTagName(i.slice(e,f));case il:case lo:case Gu:break;case nl:case Ha:u=i.slice(e,f),u.slice(-1)==="/"&&(t.closed=!0,u=u.slice(0,-1));case rl:h===rl&&(u=l),h==nl?(s.warning('attribute "'+u+'" missed quot(")!'),a(l,u,e)):((!Ao.isHTML(r[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),a(u,u,e));break;case so:throw new Error("attribute value missed!!")}return f;case"":_=" ";default:if(_<=" ")switch(h){case ao:t.setTagName(i.slice(e,f)),h=lo;break;case Ha:l=i.slice(e,f),h=rl;break;case nl:var u=i.slice(e,f);s.warning('attribute "'+u+'" missed quot(")!!'),a(l,u,e);case il:h=lo;break}else switch(h){case rl:t.tagName,(!Ao.isHTML(r[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),a(l,l,e),e=f,h=Ha;break;case il:s.warning('attribute space is required"'+l+'"!!');case lo:h=Ha,e=f;break;case so:h=nl,e=f;break;case Gu:throw new Error("elements closed character '/' and '>' must be connected to")}}f++}}function v0(i,e,t){for(var r=i.tagName,n=null,_=i.length;_--;){var s=i[_],a=s.qName,l=s.value,p=a.indexOf(":");if(p>0)var u=s.prefix=a.slice(0,p),f=a.slice(p+1),h=u==="xmlns"&&f;else f=a,u=null,h=a==="xmlns"&&"";s.localName=f,h!==!1&&(n==null&&(n={},I2(t,t={})),t[h]=n[h]=l,s.uri=Ao.XMLNS,e.startPrefixMapping(h,l))}for(var _=i.length;_--;){s=i[_];var u=s.prefix;u&&(u==="xml"&&(s.uri=Ao.XML),u!=="xmlns"&&(s.uri=t[u||""]))}var p=r.indexOf(":");p>0?(u=i.prefix=r.slice(0,p),f=i.localName=r.slice(p+1)):(u=null,f=i.localName=r);var d=i.uri=t[u||""];if(e.startElement(d,f,r,i),i.closed){if(e.endElement(d,f,r),n)for(u in n)Object.prototype.hasOwnProperty.call(n,u)&&e.endPrefixMapping(u)}else return i.currentNSMap=t,i.localNSMap=n,!0}function DN(i,e,t,r,n){if(/^(?:script|textarea)$/i.test(t)){var s=i.indexOf("</"+t+">",e),a=i.substring(e+1,s);if(/[&<]/.test(a))return/^script$/i.test(t)?(n.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,r),n.characters(a,0,a.length),s)}return e+1}function AN(i,e,t,r){var n=r[t];return n==null&&(n=i.lastIndexOf("</"+t+">"),n<e&&(n=i.lastIndexOf("</"+t)),r[t]=n),n<e}function I2(i,e){for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}function kN(i,e,t,r){var n=i.charAt(e+2);switch(n){case"-":if(i.charAt(e+3)==="-"){var s=i.indexOf("-->",e+4);return s>e?(t.comment(i,e+4,s-e-4),s+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(i.substr(e+3,6)=="CDATA["){var s=i.indexOf("]]>",e+9);return t.startCDATA(),t.characters(i,e+9,s-e-9),t.endCDATA(),s+3}var a=TN(i,e),l=a.length;if(l>1&&/!doctype/i.test(a[0][0])){var u=a[1][0],f=!1,h=!1;l>3&&(/^public$/i.test(a[2][0])?(f=a[3][0],h=l>4&&a[4][0]):/^system$/i.test(a[2][0])&&(h=a[3][0]));var _=a[l-1];return t.startDTD(u,f,h),t.endDTD(),_.index+_[0].length}}return-1}function CN(i,e,t){var r=i.indexOf("?>",e);if(r){var n=i.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return n?(n[0].length,t.processingInstruction(n[1],n[2]),r+2):-1}return-1}function R2(){this.attributeNames={}}R2.prototype={setTagName:function(i){if(!p0.test(i))throw new Error("invalid tagName:"+i);this.tagName=i},addValue:function(i,e,t){if(!p0.test(i))throw new Error("invalid attribute:"+i);this.attributeNames[i]=this.length,this[this.length++]={qName:i,value:e,offset:t}},length:0,getLocalName:function(i){return this[i].localName},getLocator:function(i){return this[i].locator},getQName:function(i){return this[i].qName},getURI:function(i){return this[i].uri},getValue:function(i){return this[i].value}};function TN(i,e){var t,r=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=e,n.exec(i);t=n.exec(i);)if(r.push(t),t[1])return r}yd.XMLReader=S2;yd.ParseError=ml;var NN=Da,SN=Za,g0=N2,P2=yd,IN=SN.DOMImplementation,m0=NN.NAMESPACE,RN=P2.ParseError,PN=P2.XMLReader;function F2(i){return i.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function O2(i){this.options=i||{locator:{}}}O2.prototype.parseFromString=function(i,e){var t=this.options,r=new PN,n=t.domBuilder||new Po,s=t.errorHandler,a=t.locator,l=t.xmlns||{},u=/\/x?html?$/.test(e),f=u?g0.HTML_ENTITIES:g0.XML_ENTITIES;a&&n.setDocumentLocator(a),r.errorHandler=FN(s,n,a),r.domBuilder=t.domBuilder||n,u&&(l[""]=m0.HTML),l.xml=l.xml||m0.XML;var h=t.normalizeLineEndings||F2;return i&&typeof i=="string"?r.parse(h(i),l,f):r.errorHandler.error("invalid doc source"),n.doc};function FN(i,e,t){if(!i){if(e instanceof Po)return e;i=e}var r={},n=i instanceof Function;t=t||{};function s(a){var l=i[a];!l&&n&&(l=i.length==2?function(u){i(a,u)}:i),r[a]=l&&function(u){l("[xmldom "+a+"]	"+u+$h(t))}||function(){}}return s("warning"),s("error"),s("fatalError"),r}function Po(){this.cdata=!1}function al(i,e){e.lineNumber=i.lineNumber,e.columnNumber=i.columnNumber}Po.prototype={startDocument:function(){this.doc=new IN().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(i,e,t,r){var n=this.doc,s=n.createElementNS(i,t||e),a=r.length;Xu(this,s),this.currentElement=s,this.locator&&al(this.locator,s);for(var l=0;l<a;l++){var i=r.getURI(l),u=r.getValue(l),t=r.getQName(l),f=n.createAttributeNS(i,t);this.locator&&al(r.getLocator(l),f),f.value=f.nodeValue=u,s.setAttributeNode(f)}},endElement:function(i,e,t){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(i,e){},endPrefixMapping:function(i){},processingInstruction:function(i,e){var t=this.doc.createProcessingInstruction(i,e);this.locator&&al(this.locator,t),Xu(this,t)},ignorableWhitespace:function(i,e,t){},characters:function(i,e,t){if(i=b0.apply(this,arguments),i){if(this.cdata)var r=this.doc.createCDATASection(i);else var r=this.doc.createTextNode(i);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(i)&&this.doc.appendChild(r),this.locator&&al(this.locator,r)}},skippedEntity:function(i){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(i){(this.locator=i)&&(i.lineNumber=0)},comment:function(i,e,t){i=b0.apply(this,arguments);var r=this.doc.createComment(i);this.locator&&al(this.locator,r),Xu(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(i,e,t){var r=this.doc.implementation;if(r&&r.createDocumentType){var n=r.createDocumentType(i,e,t);this.locator&&al(this.locator,n),Xu(this,n),this.doc.doctype=n}},warning:function(i){console.warn("[xmldom warning]	"+i,$h(this.locator))},error:function(i){console.error("[xmldom error]	"+i,$h(this.locator))},fatalError:function(i){throw new RN(i,this.locator)}};function $h(i){if(i)return`
@`+(i.systemId||"")+"#[line:"+i.lineNumber+",col:"+i.columnNumber+"]"}function b0(i,e,t){return typeof i=="string"?i.substr(e,t):i.length>=e+t||e?new java.lang.String(i,e,t)+"":i}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(i){Po.prototype[i]=function(){return null}});function Xu(i,e){i.currentElement?i.currentElement.appendChild(e):i.doc.appendChild(e)}Lf.__DOMHandler=Po;Lf.normalizeLineEndings=F2;Lf.DOMParser=O2;var w0=Lf.DOMParser;function ON(i){return i=i.split(";")[0].trim(),new vn("http://www.w3.org/ns/iana/media-types/"+i+"#Resource")}function LN(i,e){i.callbacks={};for(var t=e.length-1;t>=0;t--)i.callbacks[e[t]]=[];i.addHook=function(r){i.callbacks[r]||(i.callbacks[r]=[])},i.addCallback=function(r,n){i.callbacks[r].push(n)},i.removeCallback=function(r,n){for(var s=0;s<i.callbacks[r].length;s++)if(i.callbacks[r][s].name===n)return i.callbacks[r].splice(s,1),!0;return!1},i.insertCallback=function(r,n){i.callbacks[r].unshift(n)},i.fireCallbacks=function(n,s){var a=[],l=[],u=i.callbacks[n].length,f,h;for(f=u-1;f>=0;f--)h=i.callbacks[n][f],h&&h.apply(i,s)&&a.push(h);for(f=a.length-1;f>=0;f--)l.push(a[f]);for(f=u;f<i.callbacks[n].length;f++)l.push(i.callbacks[n][f]);i.callbacks[n]=l}}function BN(i,e){e=e||{};var t=[];e&&e.selfClosing&&e.selfClosing.split(" ").forEach(function(n){t[n]=!0});var r=[];return e&&e.skipAttributes&&e.skipAttributes.split(" ").forEach(function(n){r[n]=!0}),L2(i,e,t,r)}function L2(i,e,t,r){var n,s="",a=[!1];if(typeof i.nodeType>"u")return s;if(i.nodeType===1){if(i.hasAttribute("class")&&e&&e.classWithChildText&&i.matches(e.classWithChildText.class))s+=i.querySelector(e.classWithChildText.element).textContent;else if(!(e&&e.skipNodeWithClass&&i.matches("."+e.skipNodeWithClass))){var l=i.nodeName.toLowerCase();s+="<"+l;var u=[];for(n=i.attributes.length-1;n>=0;n--){var f=i.attributes[n];if(!(r&&r.length>0&&r[f.name])&&!/^\d+$/.test(f.name)){if(f.name==="class"&&e&&e.replaceClassItemWith&&f.value.split(" ").indexOf(e.replaceClassItemWith.source)>-1){var h=new RegExp(e.replaceClassItemWith.source,"g");f.value=f.value.replace(h,e.replaceClassItemWith.target).trim()}f.name==="class"&&e&&e.skipClassWithValue&&e.skipClassWithValue===f.value||u.push(f.name+"='"+f.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&quot;")+"'")}}if(u.length>0&&(e&&e.sortAttributes&&u.sort(function(p,d){return p.toLowerCase().localeCompare(d.toLowerCase())}),s+=" "+u.join(" ")),t&&t.ename)s+=" />";else{for(s+=">",s+=l==="html"?`
  `:"",a.push(l==="style"||l==="script"),n=0;n<i.childNodes.length;n++)s+=L2(i.childNodes[n]);a.pop(),s+=l==="body"?"</"+l+`>
`:"</"+l+">"}}}else if(i.nodeType===8)s+="<!--"+i.nodeValue+"-->";else if(i.nodeType===3||i.nodeType===4){var _=i.nodeValue.replace(/\n+$/,"");s+=a[a.length-1]?_:_.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}else console.log("Warning; Cannot handle serialising nodes of type: "+i.nodeType),console.log(i);return s}function _h(i,e,t,r){var n=function(u){return u.termType==="BlankNode"?null:u},s=function(u){var f=t.statementsMatching(u).map(function(h){return""+n(h.subject)+" "+n(h.predicate)+" "+n(h.object)}).concat(t.statementsMatching(void 0,void 0,u).map(function(h){return""+n(h.subject)+" "+n(h.predicate)+" "+n(h.object)}));return f.sort(),f.join(`
`)},a=Object.prototype.hasOwnProperty.call(t,"compareTerms")?t.compareTerms(i,e):i.compareTerm(e);return i.termType==="BlankNode"&&e.termType==="BlankNode"?a===0?0:s(i)>s(e)?1:s(i)<s(e)?-1:a:r&&i.uri&&e.uri?(r[i.uri]||i.uri).localeCompare(r[e.uri]||e.uri):a}function UN(i,e,t,r){return _h(i.subject,e.subject,t,r)||_h(i.predicate,e.predicate,t,r)||_h(i.object,e.object,t,r)}function pl(i,e){var t;if(e=e||{},typeof module<"u"&&module&&module.exports){var r=new w0().parseFromString(i,e.contentType||"application/xhtml+xml");return r}else typeof window<"u"&&window.DOMParser?t=new window.DOMParser:t=new w0;return t.parseFromString(i,"application/xml")}function MN(i,e){for(var t=0;t<i.length;t++)if(i[t].subject.equals(e.subject)&&i[t].predicate.equals(e.predicate)&&i[t].object.equals(e.object)&&i[t].why.equals(e.why)){i.splice(t,1);return}throw new Error("RDFArrayRemove: Array did not contain "+e+" "+e.why)}function B2(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pi;return{boolean:i.namedNode("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:i.namedNode("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:i.namedNode("http://www.w3.org/2001/XMLSchema#decimal"),double:i.namedNode("http://www.w3.org/2001/XMLSchema#double"),integer:i.namedNode("http://www.w3.org/2001/XMLSchema#integer"),langString:i.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:i.namedNode("http://www.w3.org/2001/XMLSchema#string")}}B2(Pi);const y0={acl:"http://www.w3.org/ns/auth/acl#",arg:"http://www.w3.org/ns/pim/arg#",as:"https://www.w3.org/ns/activitystreams#",cal:"http://www.w3.org/2002/12/cal/ical#",cert:"http://www.w3.org/ns/auth/cert#",contact:"http://www.w3.org/2000/10/swap/pim/contact#",dc:"http://purl.org/dc/elements/1.1/",dct:"http://purl.org/dc/terms/",doap:"http://usefulinc.com/ns/doap#",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",gpx:"http://www.w3.org/ns/pim/gpx#",http:"http://www.w3.org/2007/ont/http#",httph:"http://www.w3.org/2007/ont/httph#",icalTZ:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",link:"http://www.w3.org/2007/ont/link#",log:"http://www.w3.org/2000/10/swap/log#",meeting:"http://www.w3.org/ns/pim/meeting#",mo:"http://purl.org/ontology/mo/",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",pad:"http://www.w3.org/ns/pim/pad#",patch:"http://www.w3.org/ns/pim/patch#",prov:"http://www.w3.org/ns/prov#",qu:"http://www.w3.org/2000/10/swap/pim/qif#",trip:"http://www.w3.org/ns/pim/trip#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rss:"http://purl.org/rss/1.0/",sched:"http://www.w3.org/ns/pim/schedule#",schema:"http://schema.org/",sioc:"http://rdfs.org/sioc/ns#",solid:"http://www.w3.org/ns/solid/terms#",space:"http://www.w3.org/ns/pim/space#",stat:"http://www.w3.org/ns/posix/stat#",tab:"http://www.w3.org/2007/ont/link#",tabont:"http://www.w3.org/2007/ont/link#",ui:"http://www.w3.org/ns/ui#",vcard:"http://www.w3.org/2006/vcard/ns#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#",cco:"http://www.ontologyrepository.com/CommonCoreOntologies/",skos:"http://www.w3.org/2004/02/skos/core#",bookmark:"http://www.w3.org/2002/01/bookmark#",vann:"http://purl.org/vocab/vann/"};function qN(i={namedNode:e=>e}){const e={};for(const t in y0){const r=y0[t];e[t]=function(n=""){return i.namedNode(r+n)}}return e}var jN=qN;const E0=Ss(jN);var U2={exports:{}};(function(i){(function(e,t){i.exports?i.exports=t():e.ttl2jsonld=t()})(ha,function(){function e(n,s){function a(){this.constructor=n}a.prototype=s.prototype,n.prototype=new a}function t(n,s,a,l){this.message=n,this.expected=s,this.found=a,this.location=l,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}e(t,Error),t.buildMessage=function(n,s){var a={literal:function(d){return'"'+u(d.text)+'"'},class:function(d){var v="",m;for(m=0;m<d.parts.length;m++)v+=d.parts[m]instanceof Array?f(d.parts[m][0])+"-"+f(d.parts[m][1]):f(d.parts[m]);return"["+(d.inverted?"^":"")+v+"]"},any:function(d){return"any character"},end:function(d){return"end of input"},other:function(d){return d.description}};function l(d){return d.charCodeAt(0).toString(16).toUpperCase()}function u(d){return d.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+l(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+l(v)})}function f(d){return d.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+l(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+l(v)})}function h(d){return a[d.type](d)}function _(d){var v=new Array(d.length),m,b;for(m=0;m<d.length;m++)v[m]=h(d[m]);if(v.sort(),v.length>0){for(m=1,b=1;m<v.length;m++)v[m-1]!==v[m]&&(v[b]=v[m],b++);v.length=b}switch(v.length){case 1:return v[0];case 2:return v[0]+" or "+v[1];default:return v.slice(0,-1).join(", ")+", or "+v[v.length-1]}}function p(d){return d?'"'+u(d)+'"':"end of input"}return"Expected "+_(n)+" but "+p(s)+" found."};function r(n,s){s=s!==void 0?s:{};var a={},l={turtleDoc:ou},u=ou,f=function(E){var x=tr.toJSON();return x["@graph"]=[],E.filter(X=>Array.isArray(X)).forEach(X=>{X.forEach(ne=>{x["@graph"].push(ne)})}),x["@graph"].length===1&&(Object.assign(x,x["@graph"][0]),delete x["@graph"]),x},h=".",_=Mt(".",!1),p=function(E){return E},d="#",v=Mt("#",!1),m=/^[^\n]/,b=br([`
`],!0,!1),A=`
`,U=Mt(`
`,!1),I=function(E){return E.join("")},O="@prefix",y=Mt("@prefix",!1),N=function(E,x){return tr.addPrefix(E===""?"0":E,x),{}},T="@base",j=Mt("@base",!1),F=function(E){return tr.addBase(E),{}},q=/^[Bb]/,k=br(["B","b"],!1,!1),L=/^[Aa]/,D=br(["A","a"],!1,!1),P=/^[Ss]/,Q=br(["S","s"],!1,!1),H=/^[Ee]/,oe=br(["E","e"],!1,!1),re=/^[Pp]/,te=br(["P","p"],!1,!1),$=/^[Rr]/,W=br(["R","r"],!1,!1),de=/^[Ff]/,J=br(["F","f"],!1,!1),pe=/^[Ii]/,it=br(["I","i"],!1,!1),tt=/^[Xx]/,Fe=br(["X","x"],!1,!1),He=function(E,x){var X={};return typeof E=="string"&&E!=="[]"?X["@id"]=E:typeof E=="object"&&Object.assign(X,E),x&&Object.assign(X,x),[X]},Ce=function(E,x){var X={};return E&&Object.assign(X,E),x&&Object.assign(X,x),[X]},De=";",Ge=Mt(";",!1),gt=function(E,x,X,ne){var le={};return le[X]=ne,le},rt=function(E,x,X){return X},me=function(E,x,X){var ne={};return X.unshift(fs(E,x)),X.forEach(le=>{le&&Object.keys(le).forEach(ye=>{le[ye].forEach(Ae=>{ye==="@type"&&Ae["@id"]!==void 0&&(Ae=Ae["@id"]),ne[ye]===void 0?ne[ye]=Ae:Array.isArray(ne[ye])?ne[ye].push(Ae):ne[ye]=[ne[ye],Ae]})})}),ne},Be=",",Vt=Mt(",",!1),ir=function(E,x){return x},lr=function(E,x){return x.unshift(E),x},or="a",pr=Mt("a",!1),rr=function(){return"@type"},Ft=function(E){return Ba(E,!0)},jt=function(E){return Ba(E,!1)},_r=function(E){return E==="[]"?{}:{"@id":E}},vr=function(E){return{"@id":E}},rn="[",K=Mt("[",!1),S="]",M=Mt("]",!1),Z="(",_e=Mt("(",!1),Ie=")",Ue=Mt(")",!1),ct=function(E){return{"@list":E}},wt=function(E,x){return{"@value":E,"@language":x}},pt="^^",mt=Mt("^^",!1),Ve=function(E,x){if(x==="http://www.w3.org/2001/XMLSchema#boolean"&&E==="true")return!0;if(x==="http://www.w3.org/2001/XMLSchema#boolean"&&E==="false")return!1;if(x==="http://www.w3.org/2001/XMLSchema#integer")return parseInt(E);if(x==="http://www.w3.org/2001/XMLSchema#double")return parseFloat(E);const X=tr.resolve(x,!0);if(X){const ne=x.split(":")[0];if(X==="http://www.w3.org/2001/XMLSchema#boolean"&&E==="true")return tr.decrement(ne),!0;if(X==="http://www.w3.org/2001/XMLSchema#boolean"&&E==="false")return tr.decrement(ne),!1;if(X==="http://www.w3.org/2001/XMLSchema#integer")return tr.decrement(ne),parseInt(E);if(X==="http://www.w3.org/2001/XMLSchema#double")return tr.decrement(ne),parseFloat(E)}return{"@value":E,"@type":x}},yt="true",fr=Mt("true",!1),Cr=function(){return!0},fn="false",Gn=Mt("false",!1),nn=function(){return!1},ii=function(E){return E+":"},Ls="<",Bs=Mt("<",!1),Ca=/^[^\0- <>"{}|\^`\\]/,ts=br([["\0"," "],"<",">",'"',"{","}","|","^","`","\\"],!0,!1),Tl=">",Ta=Mt(">",!1),Nl=function(E){const x=E.map(ne=>65536<=ne.codePointAt(0)&&ne.codePointAt(0)<=983039?"a":ne.length===1?ne:ne.length===6?String.fromCharCode("0x"+ne.substring(2)):ne.length===10?String.fromCodePoint("0x"+ne.substring(2)):ne).join("");if(x.match(/^[^\u0000-\u0020<>"{}|^`\\]*$/)){var X=E.join("");try{return tr.resolve(X)}catch{ss("Invalid IRIREF "+X)}}else ss("Invalid IRIREF "+E.join("")+" / "+x)},gn=":",Ee=Mt(":",!1),ce=function(E){return E=E||"0",tr.hasPrefix(E)===!1&&ss("undefined prefix "+E),E},Te=function(E){return E||""},xe=function(E,x){return tr.increment(E),tr.resolve(E+":"+x)},qe="_:",Et=Mt("_:",!1),ft=/^[0-9]/,Ct=br([["0","9"]],!1,!1),gr="@",Mr=Mt("@",!1),$t=/^[a-zA-Z]/,cr=br([["a","z"],["A","Z"]],!1,!1),Tr="-",Ot=Mt("-",!1),hr=/^[a-zA-Z0-9]/,mr=br([["a","z"],["A","Z"],["0","9"]],!1,!1),yr=function(E,x){return"-"+x.join("")},An=function(E,x){return E.join("")+x.join("")},cn=/^[+\-]/,hn=br(["+","-"],!1,!1),Ui=function(E){return E.match(/^[0+][0-9]+$/)?{"@value":E,"@type":"http://www.w3.org/2001/XMLSchema#integer"}:parseInt(E)},ai=function(E){return{"@value":E,"@type":"http://www.w3.org/2001/XMLSchema#decimal"}},dn=function(E){return{"@value":E,"@type":"http://www.w3.org/2001/XMLSchema#double"}},kn=/^[eE]/,ki=br(["e","E"],!1,!1),mn='"',si=Mt('"',!1),rs=/^[^"\\\n\r]/,Na=br(['"',"\\",`
`,"\r"],!0,!1),li="'",oi=Mt("'",!1),Ci=/^[^'\\\n\r]/,ns=br(["'","\\",`
`,"\r"],!0,!1),Mi="'''",Xn=Mt("'''",!1),Wn=/^[^'\\]/,ui=br(["'","\\"],!0,!1),is="''",Sl=Mt("''",!1),Us=function(E,x){return"''"+x.join("")},qo=function(E,x){return"'"+x.join("")},Il=function(E,x){return E.join("")+x.join("")},Sa='"""',Ms=Mt('"""',!1),pn=/^[^"\\]/,Qn=br(['"',"\\"],!0,!1),as='""',jo=Mt('""',!1),Rl=function(E,x){return'""'+x.join("")},Pl=function(E,x){return'"'+x.join("")},Fl="\\U",xo=Mt("\\U",!1),Hf=function(E){return String.fromCodePoint(parseInt(E.join(""),16))},Ho="\\u",Vf=Mt("\\u",!1),Vo=function(E){return String.fromCharCode(parseInt(E.join(""),16))},zo="\\t",zf=Mt("\\t",!1),$f=function(){return"	"},$o="\\b",Ol=Mt("\\b",!1),Gf=function(){return"\b"},Go="\\n",Xf=Mt("\\n",!1),Wf=function(){return`
`},Xo="\\r",Nr=Mt("\\r",!1),Ar=function(){return"\r"},Wo="\\f",Qf=Mt("\\f",!1),Yf=function(){return"\f"},Qo='\\"',Kf=Mt('\\"',!1),Jf=function(){return'"'},Ll="\\'",Zf=Mt("\\'",!1),en=function(){return"'"},qs="\\\\",ta=Mt("\\\\",!1),Yo=function(){return"\\"},Bl=/^[ \t\r\n]/,Fn=br([" ","	","\r",`
`],!1,!1),Ko=function(){return"[]"},Jo=/^[\uD800-\uDBFF]/,Zo=br([["\uD800","\uDBFF"]],!1,!1),eu=/^[\uDC00-\uDFFF]/,tu=br([["\uDC00","\uDFFF"]],!1,!1),ru=function(E,x){return E+x},Cn=/^[A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ec=br([["A","Z"],["a","z"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],!1,!1),On="_",tc=Mt("_",!1),nu="",qi=Mt("",!1),js=/^[\u0300-\u036F]/,Ul=br([["",""]],!1,!1),Ir=/^[\u203F-\u2040]/,ji=br([["",""]],!1,!1),xs=function(E,x,X,ne){return X.join("")+ne.join("")},rc=function(E,x,X){return E+x.join("")+X.join("")},Ml="%",nc=Mt("%",!1),ic=/^[0-9A-Fa-f]/,ac=br([["0","9"],["A","F"],["a","f"]],!1,!1),iu="\\",Hs=Mt("\\",!1),Ia=/^[_~.!$&'()*+,;=\/?#@%\-]/,sc=br(["_","~",".","!","$","&","'","(",")","*","+",",",";","=","/","?","#","@","%","-"],!1,!1),C=0,ot=0,Ra=[{line:1,column:1}],Ln=0,Vs=[],zs;if("startRule"in s){if(!(s.startRule in l))throw new Error(`Can't start parsing from rule "`+s.startRule+'".');u=l[s.startRule]}function ss(E,x){throw x=x!==void 0?x:ls(ot,C),su(E,x)}function Mt(E,x){return{type:"literal",text:E,ignoreCase:x}}function br(E,x,X){return{type:"class",parts:E,inverted:x,ignoreCase:X}}function au(){return{type:"end"}}function bn(E){var x=Ra[E],X;if(x)return x;for(X=E-1;!Ra[X];)X--;for(x=Ra[X],x={line:x.line,column:x.column};X<E;)n.charCodeAt(X)===10?(x.line++,x.column=1):x.column++,X++;return Ra[E]=x,x}function ls(E,x){var X=bn(E),ne=bn(x);return{start:{offset:E,line:X.line,column:X.column},end:{offset:x,line:ne.line,column:ne.column}}}function Le(E){C<Ln||(C>Ln&&(Ln=C,Vs=[]),Vs.push(E))}function su(E,x){return new t(E,null,null,x)}function lu(E,x,X){return new t(t.buildMessage(E,x),E,x,X)}function ou(){var E,x,X,ne;for(E=C,x=[],X=uu();X!==a;)x.push(X),X=uu();if(x!==a){for(X=[],ne=ut();ne!==a;)X.push(ne),ne=ut();X!==a?(ot=E,x=f(x),E=x):(C=E,E=a)}else C=E,E=a;return E}function uu(){var E,x,X,ne;if(E=oc(),E===a)if(E=C,x=fu(),x!==a){for(X=[],ne=ut();ne!==a;)X.push(ne),ne=ut();X!==a?(n.charCodeAt(C)===46?(ne=h,C++):(ne=a,Le(_)),ne!==a?(ot=E,x=p(x),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;return E}function lc(){var E,x,X,ne;if(E=C,n.charCodeAt(C)===35?(x=d,C++):(x=a,Le(v)),x!==a){for(X=[],m.test(n.charAt(C))?(ne=n.charAt(C),C++):(ne=a,Le(b));ne!==a;)X.push(ne),m.test(n.charAt(C))?(ne=n.charAt(C),C++):(ne=a,Le(b));X!==a?(n.charCodeAt(C)===10?(ne=A,C++):(ne=a,Le(U)),ne!==a?(ot=E,x=I(X),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;return E}function ut(){var E;return E=hu(),E===a&&(E=lc()),E}function oc(){var E;return E=Pa(),E===a&&(E=uc(),E===a&&(E=ql(),E===a&&(E=fc()))),E}function Pa(){var E,x,X,ne,le,ye,Ae,ue,dt;for(E=C,x=[],X=ut();X!==a;)x.push(X),X=ut();if(x!==a)if(n.substr(C,7)===O?(X=O,C+=7):(X=a,Le(y)),X!==a){for(ne=[],le=ut();le!==a;)ne.push(le),le=ut();if(ne!==a)if(le=Ut(),le!==a){for(ye=[],Ae=ut();Ae!==a;)ye.push(Ae),Ae=ut();if(ye!==a)if(Ae=je(),Ae!==a){for(ue=[],dt=ut();dt!==a;)ue.push(dt),dt=ut();ue!==a?(n.charCodeAt(C)===46?(dt=h,C++):(dt=a,Le(_)),dt!==a?(ot=E,x=N(le,Ae),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;else C=E,E=a}else C=E,E=a;else C=E,E=a}else C=E,E=a;else C=E,E=a;return E}function uc(){var E,x,X,ne,le,ye,Ae;for(E=C,x=[],X=ut();X!==a;)x.push(X),X=ut();if(x!==a)if(n.substr(C,5)===T?(X=T,C+=5):(X=a,Le(j)),X!==a){for(ne=[],le=ut();le!==a;)ne.push(le),le=ut();if(ne!==a)if(le=je(),le!==a){for(ye=[],Ae=ut();Ae!==a;)ye.push(Ae),Ae=ut();ye!==a?(n.charCodeAt(C)===46?(Ae=h,C++):(Ae=a,Le(_)),Ae!==a?(ot=E,x=F(le),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;else C=E,E=a}else C=E,E=a;else C=E,E=a;return E}function fc(){var E,x,X,ne,le,ye,Ae,ue;for(E=C,x=[],X=ut();X!==a;)x.push(X),X=ut();if(x!==a)if(q.test(n.charAt(C))?(X=n.charAt(C),C++):(X=a,Le(k)),X!==a)if(L.test(n.charAt(C))?(ne=n.charAt(C),C++):(ne=a,Le(D)),ne!==a)if(P.test(n.charAt(C))?(le=n.charAt(C),C++):(le=a,Le(Q)),le!==a)if(H.test(n.charAt(C))?(ye=n.charAt(C),C++):(ye=a,Le(oe)),ye!==a){for(Ae=[],ue=ut();ue!==a;)Ae.push(ue),ue=ut();Ae!==a?(ue=je(),ue!==a?(ot=E,x=F(ue),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;else C=E,E=a;else C=E,E=a;else C=E,E=a;else C=E,E=a;return E}function ql(){var E,x,X,ne,le,ye,Ae,ue,dt,dr,Sr,qr;for(E=C,x=[],X=ut();X!==a;)x.push(X),X=ut();if(x!==a)if(re.test(n.charAt(C))?(X=n.charAt(C),C++):(X=a,Le(te)),X!==a)if($.test(n.charAt(C))?(ne=n.charAt(C),C++):(ne=a,Le(W)),ne!==a)if(H.test(n.charAt(C))?(le=n.charAt(C),C++):(le=a,Le(oe)),le!==a)if(de.test(n.charAt(C))?(ye=n.charAt(C),C++):(ye=a,Le(J)),ye!==a)if(pe.test(n.charAt(C))?(Ae=n.charAt(C),C++):(Ae=a,Le(it)),Ae!==a)if(tt.test(n.charAt(C))?(ue=n.charAt(C),C++):(ue=a,Le(Fe)),ue!==a){for(dt=[],dr=ut();dr!==a;)dt.push(dr),dr=ut();if(dt!==a)if(dr=Ut(),dr!==a){for(Sr=[],qr=ut();qr!==a;)Sr.push(qr),qr=ut();Sr!==a?(qr=je(),qr!==a?(ot=E,x=N(dr,qr),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;else C=E,E=a}else C=E,E=a;else C=E,E=a;else C=E,E=a;else C=E,E=a;else C=E,E=a;else C=E,E=a;else C=E,E=a;return E}function fu(){var E,x,X;return E=C,x=cc(),x!==a?(X=fi(),X!==a?(ot=E,x=He(x,X),E=x):(C=E,E=a)):(C=E,E=a),E===a&&(E=C,x=xl(),x!==a?(X=fi(),X===a&&(X=null),X!==a?(ot=E,x=Ce(x,X),E=x):(C=E,E=a)):(C=E,E=a)),E}function fi(){var E,x,X,ne,le,ye,Ae,ue,dt,dr;if(E=C,x=jl(),x!==a)if(X=Fa(),X!==a){for(ne=[],le=C,ye=[],Ae=ut();Ae!==a;)ye.push(Ae),Ae=ut();for(ye!==a?(n.charCodeAt(C)===59?(Ae=De,C++):(Ae=a,Le(Ge)),Ae!==a?(ue=C,dt=jl(),dt!==a?(dr=Fa(),dr!==a?(ot=ue,dt=gt(x,X,dt,dr),ue=dt):(C=ue,ue=a)):(C=ue,ue=a),ue===a&&(ue=null),ue!==a?(ot=le,ye=rt(x,X,ue),le=ye):(C=le,le=a)):(C=le,le=a)):(C=le,le=a);le!==a;){for(ne.push(le),le=C,ye=[],Ae=ut();Ae!==a;)ye.push(Ae),Ae=ut();ye!==a?(n.charCodeAt(C)===59?(Ae=De,C++):(Ae=a,Le(Ge)),Ae!==a?(ue=C,dt=jl(),dt!==a?(dr=Fa(),dr!==a?(ot=ue,dt=gt(x,X,dt,dr),ue=dt):(C=ue,ue=a)):(C=ue,ue=a),ue===a&&(ue=null),ue!==a?(ot=le,ye=rt(x,X,ue),le=ye):(C=le,le=a)):(C=le,le=a)):(C=le,le=a)}ne!==a?(ot=E,x=me(x,X,ne),E=x):(C=E,E=a)}else C=E,E=a;else C=E,E=a;return E}function Fa(){var E,x,X,ne,le,ye,Ae;if(E=C,x=ci(),x!==a){for(X=[],ne=C,le=[],ye=ut();ye!==a;)le.push(ye),ye=ut();for(le!==a?(n.charCodeAt(C)===44?(ye=Be,C++):(ye=a,Le(Vt)),ye!==a?(Ae=ci(),Ae!==a?(ot=ne,le=ir(x,Ae),ne=le):(C=ne,ne=a)):(C=ne,ne=a)):(C=ne,ne=a);ne!==a;){for(X.push(ne),ne=C,le=[],ye=ut();ye!==a;)le.push(ye),ye=ut();le!==a?(n.charCodeAt(C)===44?(ye=Be,C++):(ye=a,Le(Vt)),ye!==a?(Ae=ci(),Ae!==a?(ot=ne,le=ir(x,Ae),ne=le):(C=ne,ne=a)):(C=ne,ne=a)):(C=ne,ne=a)}X!==a?(ot=E,x=lr(x,X),E=x):(C=E,E=a)}else C=E,E=a;return E}function jl(){var E,x,X;if(E=C,x=hc(),x!==a&&(ot=E,x=p(x)),E=x,E===a){for(E=C,x=[],X=ut();X!==a;)x.push(X),X=ut();x!==a?(n.charCodeAt(C)===97?(X=or,C++):(X=a,Le(pr)),X!==a?(ot=E,x=rr(),E=x):(C=E,E=a)):(C=E,E=a)}return E}function cc(){var E,x;return E=C,x=cu(),x!==a&&(ot=E,x=Ft(x)),E=x,E===a&&(E=$e(),E===a&&(E=Ti())),E}function hc(){var E,x,X;for(E=C,x=[],X=ut();X!==a;)x.push(X),X=ut();return x!==a?(X=Ti(),X!==a?(ot=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a),E}function ci(){var E,x;return E=Yn(),E===a&&(E=C,x=cu(),x!==a&&(ot=E,x=jt(x)),E=x,E===a&&(E=C,x=$e(),x!==a&&(ot=E,x=_r(x)),E=x,E===a&&(E=C,x=xl(),x!==a&&(ot=E,x=p(x)),E=x,E===a&&(E=C,x=Ti(),x!==a&&(ot=E,x=vr(x)),E=x)))),E}function Yn(){var E;return E=pc(),E===a&&(E=dc(),E===a&&(E=_c())),E}function xl(){var E,x,X,ne,le,ye;for(E=C,x=[],X=ut();X!==a;)x.push(X),X=ut();if(x!==a)if(n.charCodeAt(C)===91?(X=rn,C++):(X=a,Le(K)),X!==a)if(ne=fi(),ne!==a){for(le=[],ye=ut();ye!==a;)le.push(ye),ye=ut();le!==a?(n.charCodeAt(C)===93?(ye=S,C++):(ye=a,Le(M)),ye!==a?(ot=E,x=p(ne),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;else C=E,E=a;else C=E,E=a;return E}function cu(){var E,x,X,ne,le,ye;for(E=C,x=[],X=ut();X!==a;)x.push(X),X=ut();if(x!==a)if(n.charCodeAt(C)===40?(X=Z,C++):(X=a,Le(_e)),X!==a){for(ne=[],le=ci();le!==a;)ne.push(le),le=ci();if(ne!==a){for(le=[],ye=ut();ye!==a;)le.push(ye),ye=ut();le!==a?(n.charCodeAt(C)===41?(ye=Ie,C++):(ye=a,Le(Ue)),ye!==a?(ot=E,x=ct(ne),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a}else C=E,E=a;else C=E,E=a;return E}function dc(){var E,x,X;for(E=C,x=[],X=ut();X!==a;)x.push(X),X=ut();return x!==a?(X=Bn(),X===a&&(X=vc(),X===a&&(X=Vl())),X!==a?(ot=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a),E}function pc(){var E,x,X,ne,le,ye,Ae;for(E=C,x=[],X=ut();X!==a;)x.push(X),X=ut();if(x!==a)if(X=Hl(),X!==a){for(ne=[],le=ut();le!==a;)ne.push(le),le=ut();ne!==a?(le=Er(),le!==a?(ot=E,x=wt(X,le),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;else C=E,E=a;if(E===a){for(E=C,x=[],X=ut();X!==a;)x.push(X),X=ut();if(x!==a)if(X=Hl(),X!==a){for(ne=[],le=ut();le!==a;)ne.push(le),le=ut();if(ne!==a)if(n.substr(C,2)===pt?(le=pt,C+=2):(le=a,Le(mt)),le!==a){for(ye=[],Ae=ut();Ae!==a;)ye.push(Ae),Ae=ut();ye!==a?(Ae=Ti(),Ae!==a?(ot=E,x=Ve(X,Ae),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;else C=E,E=a}else C=E,E=a;else C=E,E=a;if(E===a){for(E=C,x=[],X=ut();X!==a;)x.push(X),X=ut();x!==a?(X=Hl(),X!==a?(ot=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a)}}return E}function _c(){var E,x,X;for(E=C,x=[],X=ut();X!==a;)x.push(X),X=ut();if(x!==a?(n.substr(C,4)===yt?(X=yt,C+=4):(X=a,Le(fr)),X!==a?(ot=E,x=Cr(),E=x):(C=E,E=a)):(C=E,E=a),E===a){for(E=C,x=[],X=ut();X!==a;)x.push(X),X=ut();x!==a?(n.substr(C,5)===fn?(X=fn,C+=5):(X=a,Le(Gn)),X!==a?(ot=E,x=nn(),E=x):(C=E,E=a)):(C=E,E=a)}return E}function Hl(){var E,x,X;for(E=C,x=[],X=ut();X!==a;)x.push(X),X=ut();return x!==a?(X=$s(),X===a&&(X=Gs(),X===a&&(X=La(),X===a&&(X=gc()))),X!==a?(ot=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a),E}function Ti(){var E,x,X;for(E=C,x=[],X=ut();X!==a;)x.push(X),X=ut();if(x!==a?(X=je(),X!==a?(ot=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a),E===a){for(E=C,x=[],X=ut();X!==a;)x.push(X),X=ut();x!==a?(X=Re(),X!==a?(ot=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a)}return E}function Re(){var E,x;return E=ur(),E===a&&(E=C,x=_t(),x!==a&&(ot=E,x=ii(x)),E=x),E}function $e(){var E,x,X;for(E=C,x=[],X=ut();X!==a;)x.push(X),X=ut();if(x!==a?(X=Xr(),X!==a?(ot=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a),E===a){for(E=C,x=[],X=ut();X!==a;)x.push(X),X=ut();x!==a?(X=Xs(),X!==a?(ot=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a)}return E}function je(){var E,x,X,ne;if(E=C,n.charCodeAt(C)===60?(x=Ls,C++):(x=a,Le(Bs)),x!==a){for(X=[],Ca.test(n.charAt(C))?(ne=n.charAt(C),C++):(ne=a,Le(ts)),ne===a&&(ne=Tt());ne!==a;)X.push(ne),Ca.test(n.charAt(C))?(ne=n.charAt(C),C++):(ne=a,Le(ts)),ne===a&&(ne=Tt());X!==a?(n.charCodeAt(C)===62?(ne=Tl,C++):(ne=a,Le(Ta)),ne!==a?(ot=E,x=Nl(X),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;return E}function _t(){var E,x,X;return E=C,x=os(),x===a&&(x=null),x!==a?(n.charCodeAt(C)===58?(X=gn,C++):(X=a,Le(Ee)),X!==a?(ot=E,x=ce(x),E=x):(C=E,E=a)):(C=E,E=a),E}function Ut(){var E,x,X;return E=C,x=os(),x===a&&(x=null),x!==a?(n.charCodeAt(C)===58?(X=gn,C++):(X=a,Le(Ee)),X!==a?(ot=E,x=Te(x),E=x):(C=E,E=a)):(C=E,E=a),E}function ur(){var E,x,X;return E=C,x=_t(),x!==a?(X=xi(),X!==a?(ot=E,x=xe(x,X),E=x):(C=E,E=a)):(C=E,E=a),E}function Xr(){var E,x,X,ne,le,ye,Ae,ue,dt,dr;if(E=C,x=C,n.substr(C,2)===qe?(X=qe,C+=2):(X=a,Le(Et)),X!==a)if(ne=zl(),ne===a&&(ft.test(n.charAt(C))?(ne=n.charAt(C),C++):(ne=a,Le(Ct))),ne!==a){for(le=[],ye=Jr();ye!==a;)le.push(ye),ye=Jr();if(le!==a){if(ye=[],Ae=C,ue=[],n.charCodeAt(C)===46?(dt=h,C++):(dt=a,Le(_)),dt!==a)for(;dt!==a;)ue.push(dt),n.charCodeAt(C)===46?(dt=h,C++):(dt=a,Le(_));else ue=a;if(ue!==a){if(dt=[],dr=Jr(),dr!==a)for(;dr!==a;)dt.push(dr),dr=Jr();else dt=a;dt!==a?(ue=[ue,dt],Ae=ue):(C=Ae,Ae=a)}else C=Ae,Ae=a;for(;Ae!==a;){if(ye.push(Ae),Ae=C,ue=[],n.charCodeAt(C)===46?(dt=h,C++):(dt=a,Le(_)),dt!==a)for(;dt!==a;)ue.push(dt),n.charCodeAt(C)===46?(dt=h,C++):(dt=a,Le(_));else ue=a;if(ue!==a){if(dt=[],dr=Jr(),dr!==a)for(;dr!==a;)dt.push(dr),dr=Jr();else dt=a;dt!==a?(ue=[ue,dt],Ae=ue):(C=Ae,Ae=a)}else C=Ae,Ae=a}ye!==a?(X=[X,ne,le,ye],x=X):(C=x,x=a)}else C=x,x=a}else C=x,x=a;else C=x,x=a;return x!==a?E=n.substring(E,C):E=x,E}function Er(){var E,x,X,ne,le,ye,Ae,ue;if(E=C,n.charCodeAt(C)===64?(x=gr,C++):(x=a,Le(Mr)),x!==a){if(X=[],$t.test(n.charAt(C))?(ne=n.charAt(C),C++):(ne=a,Le(cr)),ne!==a)for(;ne!==a;)X.push(ne),$t.test(n.charAt(C))?(ne=n.charAt(C),C++):(ne=a,Le(cr));else X=a;if(X!==a){if(ne=[],le=C,n.charCodeAt(C)===45?(ye=Tr,C++):(ye=a,Le(Ot)),ye!==a){if(Ae=[],hr.test(n.charAt(C))?(ue=n.charAt(C),C++):(ue=a,Le(mr)),ue!==a)for(;ue!==a;)Ae.push(ue),hr.test(n.charAt(C))?(ue=n.charAt(C),C++):(ue=a,Le(mr));else Ae=a;Ae!==a?(ot=le,ye=yr(X,Ae),le=ye):(C=le,le=a)}else C=le,le=a;for(;le!==a;)if(ne.push(le),le=C,n.charCodeAt(C)===45?(ye=Tr,C++):(ye=a,Le(Ot)),ye!==a){if(Ae=[],hr.test(n.charAt(C))?(ue=n.charAt(C),C++):(ue=a,Le(mr)),ue!==a)for(;ue!==a;)Ae.push(ue),hr.test(n.charAt(C))?(ue=n.charAt(C),C++):(ue=a,Le(mr));else Ae=a;Ae!==a?(ot=le,ye=yr(X,Ae),le=ye):(C=le,le=a)}else C=le,le=a;ne!==a?(ot=E,x=An(X,ne),E=x):(C=E,E=a)}else C=E,E=a}else C=E,E=a;return E}function Vl(){var E,x,X,ne,le,ye;if(E=C,x=C,X=C,cn.test(n.charAt(C))?(ne=n.charAt(C),C++):(ne=a,Le(hn)),ne===a&&(ne=null),ne!==a){if(le=[],ft.test(n.charAt(C))?(ye=n.charAt(C),C++):(ye=a,Le(Ct)),ye!==a)for(;ye!==a;)le.push(ye),ft.test(n.charAt(C))?(ye=n.charAt(C),C++):(ye=a,Le(Ct));else le=a;le!==a?(ne=[ne,le],X=ne):(C=X,X=a)}else C=X,X=a;return X!==a?x=n.substring(x,C):x=X,x!==a&&(ot=E,x=Ui(x)),E=x,E}function vc(){var E,x,X,ne,le,ye,Ae,ue;if(E=C,x=C,X=C,cn.test(n.charAt(C))?(ne=n.charAt(C),C++):(ne=a,Le(hn)),ne===a&&(ne=null),ne!==a){for(le=[],ft.test(n.charAt(C))?(ye=n.charAt(C),C++):(ye=a,Le(Ct));ye!==a;)le.push(ye),ft.test(n.charAt(C))?(ye=n.charAt(C),C++):(ye=a,Le(Ct));if(le!==a)if(n.charCodeAt(C)===46?(ye=h,C++):(ye=a,Le(_)),ye!==a){if(Ae=[],ft.test(n.charAt(C))?(ue=n.charAt(C),C++):(ue=a,Le(Ct)),ue!==a)for(;ue!==a;)Ae.push(ue),ft.test(n.charAt(C))?(ue=n.charAt(C),C++):(ue=a,Le(Ct));else Ae=a;Ae!==a?(ne=[ne,le,ye,Ae],X=ne):(C=X,X=a)}else C=X,X=a;else C=X,X=a}else C=X,X=a;return X!==a?x=n.substring(x,C):x=X,x!==a&&(ot=E,x=ai(x)),E=x,E}function Bn(){var E,x,X,ne,le,ye,Ae,ue,dt;if(E=C,x=C,X=C,cn.test(n.charAt(C))?(ne=n.charAt(C),C++):(ne=a,Le(hn)),ne===a&&(ne=null),ne!==a){if(le=C,ye=[],ft.test(n.charAt(C))?(Ae=n.charAt(C),C++):(Ae=a,Le(Ct)),Ae!==a)for(;Ae!==a;)ye.push(Ae),ft.test(n.charAt(C))?(Ae=n.charAt(C),C++):(Ae=a,Le(Ct));else ye=a;if(ye!==a)if(n.charCodeAt(C)===46?(Ae=h,C++):(Ae=a,Le(_)),Ae!==a){for(ue=[],ft.test(n.charAt(C))?(dt=n.charAt(C),C++):(dt=a,Le(Ct));dt!==a;)ue.push(dt),ft.test(n.charAt(C))?(dt=n.charAt(C),C++):(dt=a,Le(Ct));ue!==a?(dt=Oa(),dt!==a?(ye=[ye,Ae,ue,dt],le=ye):(C=le,le=a)):(C=le,le=a)}else C=le,le=a;else C=le,le=a;if(le===a){if(le=C,n.charCodeAt(C)===46?(ye=h,C++):(ye=a,Le(_)),ye!==a){if(Ae=[],ft.test(n.charAt(C))?(ue=n.charAt(C),C++):(ue=a,Le(Ct)),ue!==a)for(;ue!==a;)Ae.push(ue),ft.test(n.charAt(C))?(ue=n.charAt(C),C++):(ue=a,Le(Ct));else Ae=a;Ae!==a?(ue=Oa(),ue!==a?(ye=[ye,Ae,ue],le=ye):(C=le,le=a)):(C=le,le=a)}else C=le,le=a;if(le===a){if(le=C,ye=[],ft.test(n.charAt(C))?(Ae=n.charAt(C),C++):(Ae=a,Le(Ct)),Ae!==a)for(;Ae!==a;)ye.push(Ae),ft.test(n.charAt(C))?(Ae=n.charAt(C),C++):(Ae=a,Le(Ct));else ye=a;ye!==a?(Ae=Oa(),Ae!==a?(ye=[ye,Ae],le=ye):(C=le,le=a)):(C=le,le=a)}}le!==a?(ne=[ne,le],X=ne):(C=X,X=a)}else C=X,X=a;return X!==a?x=n.substring(x,C):x=X,x!==a&&(ot=E,x=dn(x)),E=x,E}function Oa(){var E,x,X,ne,le,ye;if(E=C,x=C,kn.test(n.charAt(C))?(X=n.charAt(C),C++):(X=a,Le(ki)),X!==a)if(cn.test(n.charAt(C))?(ne=n.charAt(C),C++):(ne=a,Le(hn)),ne===a&&(ne=null),ne!==a){if(le=[],ft.test(n.charAt(C))?(ye=n.charAt(C),C++):(ye=a,Le(Ct)),ye!==a)for(;ye!==a;)le.push(ye),ft.test(n.charAt(C))?(ye=n.charAt(C),C++):(ye=a,Le(Ct));else le=a;le!==a?(X=[X,ne,le],x=X):(C=x,x=a)}else C=x,x=a;else C=x,x=a;return x!==a?E=n.substring(E,C):E=x,E}function gc(){var E,x,X,ne;if(E=C,n.charCodeAt(C)===34?(x=mn,C++):(x=a,Le(si)),x!==a){for(X=[],rs.test(n.charAt(C))?(ne=n.charAt(C),C++):(ne=a,Le(Na)),ne===a&&(ne=Rr(),ne===a&&(ne=Tt()));ne!==a;)X.push(ne),rs.test(n.charAt(C))?(ne=n.charAt(C),C++):(ne=a,Le(Na)),ne===a&&(ne=Rr(),ne===a&&(ne=Tt()));X!==a?(n.charCodeAt(C)===34?(ne=mn,C++):(ne=a,Le(si)),ne!==a?(ot=E,x=I(X),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;return E}function La(){var E,x,X,ne;if(E=C,n.charCodeAt(C)===39?(x=li,C++):(x=a,Le(oi)),x!==a){for(X=[],Ci.test(n.charAt(C))?(ne=n.charAt(C),C++):(ne=a,Le(ns)),ne===a&&(ne=Rr(),ne===a&&(ne=Tt()));ne!==a;)X.push(ne),Ci.test(n.charAt(C))?(ne=n.charAt(C),C++):(ne=a,Le(ns)),ne===a&&(ne=Rr(),ne===a&&(ne=Tt()));X!==a?(n.charCodeAt(C)===39?(ne=li,C++):(ne=a,Le(oi)),ne!==a?(ot=E,x=I(X),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;return E}function $s(){var E,x,X,ne,le,ye,Ae,ue;if(E=C,n.substr(C,3)===Mi?(x=Mi,C+=3):(x=a,Le(Xn)),x!==a){for(X=[],Wn.test(n.charAt(C))?(ne=n.charAt(C),C++):(ne=a,Le(ui)),ne===a&&(ne=Rr(),ne===a&&(ne=Tt()));ne!==a;)X.push(ne),Wn.test(n.charAt(C))?(ne=n.charAt(C),C++):(ne=a,Le(ui)),ne===a&&(ne=Rr(),ne===a&&(ne=Tt()));if(X!==a){if(ne=[],le=C,n.substr(C,2)===is?(ye=is,C+=2):(ye=a,Le(Sl)),ye!==a){if(Ae=[],Wn.test(n.charAt(C))?(ue=n.charAt(C),C++):(ue=a,Le(ui)),ue===a&&(ue=Rr(),ue===a&&(ue=Tt())),ue!==a)for(;ue!==a;)Ae.push(ue),Wn.test(n.charAt(C))?(ue=n.charAt(C),C++):(ue=a,Le(ui)),ue===a&&(ue=Rr(),ue===a&&(ue=Tt()));else Ae=a;Ae!==a?(ot=le,ye=Us(X,Ae),le=ye):(C=le,le=a)}else C=le,le=a;if(le===a)if(le=C,n.charCodeAt(C)===39?(ye=li,C++):(ye=a,Le(oi)),ye!==a){if(Ae=[],Wn.test(n.charAt(C))?(ue=n.charAt(C),C++):(ue=a,Le(ui)),ue===a&&(ue=Rr(),ue===a&&(ue=Tt())),ue!==a)for(;ue!==a;)Ae.push(ue),Wn.test(n.charAt(C))?(ue=n.charAt(C),C++):(ue=a,Le(ui)),ue===a&&(ue=Rr(),ue===a&&(ue=Tt()));else Ae=a;Ae!==a?(ot=le,ye=qo(X,Ae),le=ye):(C=le,le=a)}else C=le,le=a;for(;le!==a;){if(ne.push(le),le=C,n.substr(C,2)===is?(ye=is,C+=2):(ye=a,Le(Sl)),ye!==a){if(Ae=[],Wn.test(n.charAt(C))?(ue=n.charAt(C),C++):(ue=a,Le(ui)),ue===a&&(ue=Rr(),ue===a&&(ue=Tt())),ue!==a)for(;ue!==a;)Ae.push(ue),Wn.test(n.charAt(C))?(ue=n.charAt(C),C++):(ue=a,Le(ui)),ue===a&&(ue=Rr(),ue===a&&(ue=Tt()));else Ae=a;Ae!==a?(ot=le,ye=Us(X,Ae),le=ye):(C=le,le=a)}else C=le,le=a;if(le===a)if(le=C,n.charCodeAt(C)===39?(ye=li,C++):(ye=a,Le(oi)),ye!==a){if(Ae=[],Wn.test(n.charAt(C))?(ue=n.charAt(C),C++):(ue=a,Le(ui)),ue===a&&(ue=Rr(),ue===a&&(ue=Tt())),ue!==a)for(;ue!==a;)Ae.push(ue),Wn.test(n.charAt(C))?(ue=n.charAt(C),C++):(ue=a,Le(ui)),ue===a&&(ue=Rr(),ue===a&&(ue=Tt()));else Ae=a;Ae!==a?(ot=le,ye=qo(X,Ae),le=ye):(C=le,le=a)}else C=le,le=a}ne!==a?(n.substr(C,3)===Mi?(le=Mi,C+=3):(le=a,Le(Xn)),le!==a?(ot=E,x=Il(X,ne),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a}else C=E,E=a;return E}function Gs(){var E,x,X,ne,le,ye,Ae,ue;if(E=C,n.substr(C,3)===Sa?(x=Sa,C+=3):(x=a,Le(Ms)),x!==a){for(X=[],pn.test(n.charAt(C))?(ne=n.charAt(C),C++):(ne=a,Le(Qn)),ne===a&&(ne=Rr(),ne===a&&(ne=Tt()));ne!==a;)X.push(ne),pn.test(n.charAt(C))?(ne=n.charAt(C),C++):(ne=a,Le(Qn)),ne===a&&(ne=Rr(),ne===a&&(ne=Tt()));if(X!==a){if(ne=[],le=C,n.substr(C,2)===as?(ye=as,C+=2):(ye=a,Le(jo)),ye!==a){if(Ae=[],pn.test(n.charAt(C))?(ue=n.charAt(C),C++):(ue=a,Le(Qn)),ue===a&&(ue=Rr(),ue===a&&(ue=Tt())),ue!==a)for(;ue!==a;)Ae.push(ue),pn.test(n.charAt(C))?(ue=n.charAt(C),C++):(ue=a,Le(Qn)),ue===a&&(ue=Rr(),ue===a&&(ue=Tt()));else Ae=a;Ae!==a?(ot=le,ye=Rl(X,Ae),le=ye):(C=le,le=a)}else C=le,le=a;if(le===a)if(le=C,n.charCodeAt(C)===34?(ye=mn,C++):(ye=a,Le(si)),ye!==a){if(Ae=[],pn.test(n.charAt(C))?(ue=n.charAt(C),C++):(ue=a,Le(Qn)),ue===a&&(ue=Rr(),ue===a&&(ue=Tt())),ue!==a)for(;ue!==a;)Ae.push(ue),pn.test(n.charAt(C))?(ue=n.charAt(C),C++):(ue=a,Le(Qn)),ue===a&&(ue=Rr(),ue===a&&(ue=Tt()));else Ae=a;Ae!==a?(ot=le,ye=Pl(X,Ae),le=ye):(C=le,le=a)}else C=le,le=a;for(;le!==a;){if(ne.push(le),le=C,n.substr(C,2)===as?(ye=as,C+=2):(ye=a,Le(jo)),ye!==a){if(Ae=[],pn.test(n.charAt(C))?(ue=n.charAt(C),C++):(ue=a,Le(Qn)),ue===a&&(ue=Rr(),ue===a&&(ue=Tt())),ue!==a)for(;ue!==a;)Ae.push(ue),pn.test(n.charAt(C))?(ue=n.charAt(C),C++):(ue=a,Le(Qn)),ue===a&&(ue=Rr(),ue===a&&(ue=Tt()));else Ae=a;Ae!==a?(ot=le,ye=Rl(X,Ae),le=ye):(C=le,le=a)}else C=le,le=a;if(le===a)if(le=C,n.charCodeAt(C)===34?(ye=mn,C++):(ye=a,Le(si)),ye!==a){if(Ae=[],pn.test(n.charAt(C))?(ue=n.charAt(C),C++):(ue=a,Le(Qn)),ue===a&&(ue=Rr(),ue===a&&(ue=Tt())),ue!==a)for(;ue!==a;)Ae.push(ue),pn.test(n.charAt(C))?(ue=n.charAt(C),C++):(ue=a,Le(Qn)),ue===a&&(ue=Rr(),ue===a&&(ue=Tt()));else Ae=a;Ae!==a?(ot=le,ye=Pl(X,Ae),le=ye):(C=le,le=a)}else C=le,le=a}ne!==a?(n.substr(C,3)===Sa?(le=Sa,C+=3):(le=a,Le(Ms)),le!==a?(ot=E,x=Il(X,ne),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a}else C=E,E=a;return E}function Tt(){var E,x,X,ne,le,ye,Ae,ue,dt,dr,Sr;return E=C,n.substr(C,2)===Fl?(x=Fl,C+=2):(x=a,Le(xo)),x!==a?(X=C,ne=tn(),ne!==a?(le=tn(),le!==a?(ye=tn(),ye!==a?(Ae=tn(),Ae!==a?(ue=tn(),ue!==a?(dt=tn(),dt!==a?(dr=tn(),dr!==a?(Sr=tn(),Sr!==a?(ne=[ne,le,ye,Ae,ue,dt,dr,Sr],X=ne):(C=X,X=a)):(C=X,X=a)):(C=X,X=a)):(C=X,X=a)):(C=X,X=a)):(C=X,X=a)):(C=X,X=a)):(C=X,X=a),X!==a?(ot=E,x=Hf(X),E=x):(C=E,E=a)):(C=E,E=a),E===a&&(E=C,n.substr(C,2)===Ho?(x=Ho,C+=2):(x=a,Le(Vf)),x!==a?(X=C,ne=tn(),ne!==a?(le=tn(),le!==a?(ye=tn(),ye!==a?(Ae=tn(),Ae!==a?(ne=[ne,le,ye,Ae],X=ne):(C=X,X=a)):(C=X,X=a)):(C=X,X=a)):(C=X,X=a),X!==a?(ot=E,x=Vo(X),E=x):(C=E,E=a)):(C=E,E=a)),E}function Rr(){var E,x;return E=C,n.substr(C,2)===zo?(x=zo,C+=2):(x=a,Le(zf)),x!==a&&(ot=E,x=$f()),E=x,E===a&&(E=C,n.substr(C,2)===$o?(x=$o,C+=2):(x=a,Le(Ol)),x!==a&&(ot=E,x=Gf()),E=x,E===a&&(E=C,n.substr(C,2)===Go?(x=Go,C+=2):(x=a,Le(Xf)),x!==a&&(ot=E,x=Wf()),E=x,E===a&&(E=C,n.substr(C,2)===Xo?(x=Xo,C+=2):(x=a,Le(Nr)),x!==a&&(ot=E,x=Ar()),E=x,E===a&&(E=C,n.substr(C,2)===Wo?(x=Wo,C+=2):(x=a,Le(Qf)),x!==a&&(ot=E,x=Yf()),E=x,E===a&&(E=C,n.substr(C,2)===Qo?(x=Qo,C+=2):(x=a,Le(Kf)),x!==a&&(ot=E,x=Jf()),E=x,E===a&&(E=C,n.substr(C,2)===Ll?(x=Ll,C+=2):(x=a,Le(Zf)),x!==a&&(ot=E,x=en()),E=x,E===a&&(E=C,n.substr(C,2)===qs?(x=qs,C+=2):(x=a,Le(ta)),x!==a&&(ot=E,x=Yo()),E=x))))))),E}function hu(){var E;return Bl.test(n.charAt(C))?(E=n.charAt(C),C++):(E=a,Le(Fn)),E}function Xs(){var E,x,X,ne;if(E=C,n.charCodeAt(C)===91?(x=rn,C++):(x=a,Le(K)),x!==a){for(X=[],ne=ut();ne!==a;)X.push(ne),ne=ut();X!==a?(n.charCodeAt(C)===93?(ne=S,C++):(ne=a,Le(M)),ne!==a?(ot=E,x=Ko(),E=x):(C=E,E=a)):(C=E,E=a)}else C=E,E=a;return E}function du(){var E,x,X;return E=C,Jo.test(n.charAt(C))?(x=n.charAt(C),C++):(x=a,Le(Zo)),x!==a?(eu.test(n.charAt(C))?(X=n.charAt(C),C++):(X=a,Le(tu)),X!==a?(ot=E,x=ru(x,X),E=x):(C=E,E=a)):(C=E,E=a),E===a&&(Cn.test(n.charAt(C))?(E=n.charAt(C),C++):(E=a,Le(ec))),E}function zl(){var E;return E=du(),E===a&&(n.charCodeAt(C)===95?(E=On,C++):(E=a,Le(tc))),E}function Jr(){var E;return E=zl(),E===a&&(n.charCodeAt(C)===45?(E=Tr,C++):(E=a,Le(Ot)),E===a&&(ft.test(n.charAt(C))?(E=n.charAt(C),C++):(E=a,Le(Ct)),E===a&&(n.charCodeAt(C)===183?(E=nu,C++):(E=a,Le(qi)),E===a&&(js.test(n.charAt(C))?(E=n.charAt(C),C++):(E=a,Le(Ul)),E===a&&(Ir.test(n.charAt(C))?(E=n.charAt(C),C++):(E=a,Le(ji))))))),E}function os(){var E,x,X,ne,le,ye,Ae,ue,dt;if(E=C,x=C,X=du(),X!==a){for(ne=[],le=Jr();le!==a;)ne.push(le),le=Jr();if(ne!==a){if(le=[],ye=C,Ae=[],n.charCodeAt(C)===46?(ue=h,C++):(ue=a,Le(_)),ue!==a)for(;ue!==a;)Ae.push(ue),n.charCodeAt(C)===46?(ue=h,C++):(ue=a,Le(_));else Ae=a;if(Ae!==a){if(ue=[],dt=Jr(),dt!==a)for(;dt!==a;)ue.push(dt),dt=Jr();else ue=a;ue!==a?(Ae=[Ae,ue],ye=Ae):(C=ye,ye=a)}else C=ye,ye=a;for(;ye!==a;){if(le.push(ye),ye=C,Ae=[],n.charCodeAt(C)===46?(ue=h,C++):(ue=a,Le(_)),ue!==a)for(;ue!==a;)Ae.push(ue),n.charCodeAt(C)===46?(ue=h,C++):(ue=a,Le(_));else Ae=a;if(Ae!==a){if(ue=[],dt=Jr(),dt!==a)for(;dt!==a;)ue.push(dt),dt=Jr();else ue=a;ue!==a?(Ae=[Ae,ue],ye=Ae):(C=ye,ye=a)}else C=ye,ye=a}le!==a?(X=[X,ne,le],x=X):(C=x,x=a)}else C=x,x=a}else C=x,x=a;return x!==a?E=n.substring(E,C):E=x,E}function xi(){var E,x,X,ne,le,ye,Ae,ue;if(E=C,x=zl(),x===a&&(n.charCodeAt(C)===58?(x=gn,C++):(x=a,Le(Ee)),x===a&&(ft.test(n.charAt(C))?(x=n.charAt(C),C++):(x=a,Le(Ct)),x===a&&(x=hi()))),x!==a){for(X=[],ne=Jr(),ne===a&&(n.charCodeAt(C)===58?(ne=gn,C++):(ne=a,Le(Ee)),ne===a&&(ne=hi()));ne!==a;)X.push(ne),ne=Jr(),ne===a&&(n.charCodeAt(C)===58?(ne=gn,C++):(ne=a,Le(Ee)),ne===a&&(ne=hi()));if(X!==a){if(ne=[],le=C,ye=[],n.charCodeAt(C)===46?(Ae=h,C++):(Ae=a,Le(_)),Ae!==a)for(;Ae!==a;)ye.push(Ae),n.charCodeAt(C)===46?(Ae=h,C++):(Ae=a,Le(_));else ye=a;if(ye!==a){if(Ae=[],ue=Jr(),ue===a&&(n.charCodeAt(C)===58?(ue=gn,C++):(ue=a,Le(Ee)),ue===a&&(ue=hi())),ue!==a)for(;ue!==a;)Ae.push(ue),ue=Jr(),ue===a&&(n.charCodeAt(C)===58?(ue=gn,C++):(ue=a,Le(Ee)),ue===a&&(ue=hi()));else Ae=a;Ae!==a?(ot=le,ye=xs(x,X,ye,Ae),le=ye):(C=le,le=a)}else C=le,le=a;for(;le!==a;){if(ne.push(le),le=C,ye=[],n.charCodeAt(C)===46?(Ae=h,C++):(Ae=a,Le(_)),Ae!==a)for(;Ae!==a;)ye.push(Ae),n.charCodeAt(C)===46?(Ae=h,C++):(Ae=a,Le(_));else ye=a;if(ye!==a){if(Ae=[],ue=Jr(),ue===a&&(n.charCodeAt(C)===58?(ue=gn,C++):(ue=a,Le(Ee)),ue===a&&(ue=hi())),ue!==a)for(;ue!==a;)Ae.push(ue),ue=Jr(),ue===a&&(n.charCodeAt(C)===58?(ue=gn,C++):(ue=a,Le(Ee)),ue===a&&(ue=hi()));else Ae=a;Ae!==a?(ot=le,ye=xs(x,X,ye,Ae),le=ye):(C=le,le=a)}else C=le,le=a}ne!==a?(ot=E,x=rc(x,X,ne),E=x):(C=E,E=a)}else C=E,E=a}else C=E,E=a;return E}function hi(){var E;return E=pu(),E===a&&(E=_u()),E}function pu(){var E,x,X,ne,le;return E=C,x=C,n.charCodeAt(C)===37?(X=Ml,C++):(X=a,Le(nc)),X!==a?(ne=tn(),ne!==a?(le=tn(),le!==a?(X=[X,ne,le],x=X):(C=x,x=a)):(C=x,x=a)):(C=x,x=a),x!==a?E=n.substring(E,C):E=x,E}function tn(){var E;return ic.test(n.charAt(C))?(E=n.charAt(C),C++):(E=a,Le(ac)),E}function _u(){var E,x,X;return E=C,n.charCodeAt(C)===92?(x=iu,C++):(x=a,Le(Hs)),x!==a?(Ia.test(n.charAt(C))?(X=n.charAt(C),C++):(X=a,Le(sc)),X!==a?(ot=E,x=p(X),E=x):(C=E,E=a)):(C=E,E=a),E}var vu=new Function("try {return this===window;}catch(e){ return false;}"),us=vu()?window.URL:$A.URL,$l=function(E){return E.match(/^[a-z](.*?):(.+?)/g)};function fs(E,x){var X={};return X[E]=x,X}var tr={base:[],data:{},addBase:function(E){if(tr.base.length===0){tr.base.push(E);return}const x=tr.base[tr.base.length-1];x!==E&&tr.base.push(new us(E,x).toString())},addPrefix:function(E,x){const X=tr.data[E];X===void 0?tr.data[E]=[{uri:x,count:0}]:X[X.length-1].uri!==x&&X.push({uri:x,count:0})},hasPrefix:function(E){return this.data[E]!==void 0},resolve:function(E,x){const X=Object.keys(tr.data).find(le=>E.indexOf(le+":")===0);if(X!==void 0){const le=tr.data[X];if(le.length===1&&x!==!0&&$l(le[0].uri))return E;const ye=le[le.length-1].uri;return E.replace(X+":",ye)}else{var ne=tr.base.length===0?s.baseIRI:tr.base[tr.base.length-1];return!ne||E.match(/^(http:|https:|urn:|file:)/)?E:E.indexOf("//")===0&&ne?ne.split("//")[0]+E:new us(E,ne).toString()}},increment:function(E){const x=tr.data[E];x!==void 0&&x[x.length-1].count++},decrement:function(E){const x=tr.data[E];x!==void 0&&x[x.length-1].count--},toJSON:function(){const E={};return tr.base.length>0&&(E["@context"]===void 0&&(E["@context"]={}),E["@context"]["@base"]=tr.base[0]),Object.keys(tr.data).forEach(x=>{const X=tr.data[x][0];X.uri==="http://www.w3.org/2001/XMLSchema#"&&X.count<1||$l(X.uri)&&(E["@context"]===void 0&&(E["@context"]={}),E["@context"][x]=X.uri)}),E}};function Ba(E,x){if(E["@list"]===void 0||!x&&!E["@list"].find(le=>le["@list"]!==void 0))return E;if(E["@list"].length===0)return{"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};var X={},ne=null;return E["@list"].forEach(le=>{ne===null?ne=X:(ne["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={},ne=ne["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]),ne["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"]=Ba(le,!0),ne["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}),X}if(zs=u(),zs!==a&&C===n.length)return zs;throw zs!==a&&C<n.length&&Le(au()),lu(Vs,Ln<n.length?n.charAt(Ln):null,Ln<n.length?ls(Ln,Ln+1):ls(Ln,Ln))}return{SyntaxError:t,parse:r}})})(U2);var xN=U2.exports;function HN(i){return new VN(i)}var VN=function(){function i(e){Hr(this,i),et(this,"_notQNameChars",`	\r
 !"#$%&'()*.,+/;<=>?@[\\]^\`{|}~`),et(this,"_notNameChars",this._notQNameChars+":"),et(this,"validPrefix",new RegExp(/^[a-zA-Z][a-zA-Z0-9]*$/)),et(this,"forbidden1",new RegExp(/[\\"\b\f\r\v\t\n\u0080-\uffff]/gm)),et(this,"forbidden3",new RegExp(/[\\"\b\f\r\v\u0080-\uffff]/gm)),this.flags="",this.base=null,this.prefixes=[],this.namespaces=[];var t=Object.keys(E0());for(var r in t){var n=E0()[t[r]](""),s=t[r];this.prefixes[n]=s,this.namespaces[s]=n}this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.suggestPrefix("xml","reserved:reservedForFutureUse"),this.namespacesUsed=[],this.keywords=["a"],this.prefixchars="abcdefghijklmnopqustuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",this.incoming=null,this.formulas=[],this.store=e,this.rdfFactory=e.rdfFactory||Pi,this.xsd=B2(this.rdfFactory)}return xr(i,[{key:"setBase",value:function(t){return this.base=t,this}},{key:"setFlags",value:function(t){return this.flags=t||"",this}},{key:"toStr",value:function(t){var r=t.toNT();return t.termType==="Graph"&&(this.formulas[r]=t),r}},{key:"fromStr",value:function(t){if(t[0]==="{"){var r=this.formulas[t];return r||console.log("No formula object for "+t),r}return this.store.fromNT(t)}},{key:"setNamespaces",value:function(t){for(var r in t)this.setPrefix(r,t[r]);return this}},{key:"setPrefix",value:function(t,r){if(t.slice(0,7)!=="default"&&t.slice(0,2)!=="ns"&&!(!t||!r)){for(var n in this.prefixes)this.prefixes[n]==t&&delete this.prefixes[n];this.prefixes[r]=t,this.namespaces[t]=r}}},{key:"suggestPrefix",value:function(t,r){t.slice(0,7)!=="default"&&t.slice(0,2)!=="ns"&&(!t||!r||t in this.namespaces||r in this.prefixes||(this.prefixes[r]=t,this.namespaces[t]=r))}},{key:"suggestNamespaces",value:function(t){for(var r in t)this.suggestPrefix(r,t[r]);return this}},{key:"checkIntegrity",value:function(){var t,r;for(t in this.namespaces)if(this.prefixes[this.namespaces[t]]!==t)throw new Error("Serializer integity error 1: "+t+", "+this.namespaces[t]+", "+this.prefixes[this.namespaces[t]]+"!");for(r in this.prefixes)if(this.namespaces[this.prefixes[r]]!==r)throw new Error("Serializer integity error 2: "+r+", "+this.prefixs[r]+", "+this.namespaces[this.prefixes[r]]+"!")}},{key:"makeUpPrefix",value:function(t){var r=t;function n(f){return!this.validPrefix.test(f)||f==="ns"||f in this.namespaces?!1:(this.prefixes[t]=f,this.namespaces[f]=t,f)}var s=n.bind(this);"#/".indexOf(r[r.length-1])>=0&&(r=r.slice(0,-1));var a=r.lastIndexOf("/");a>=0&&(r=r.slice(a+1));for(var l=0;l<r.length&&this.prefixchars.indexOf(r[l]);)l++;if(r=r.slice(0,l),r.length<6&&s(r))return r;if(s(r.slice(0,3)))return r.slice(0,3);if(s(r.slice(0,2)))return r.slice(0,2);if(s(r.slice(0,4)))return r.slice(0,4);if(s(r.slice(0,1)))return r.slice(0,1);if(s(r.slice(0,5)))return r.slice(0,5);this.validPrefix.test(r)||(r="n");for(var u=0;;u++)if(s(r.slice(0,3)+u))return r.slice(0,3)+u}},{key:"rootSubjects",value:function(t){for(var r={},n={},s={},a=0;a<t.length;a++){var l=t[a],u=function(A){r.hasOwnProperty(A)||(r[A]=[]),r[A].push(l.subject)},f=[l.subject,l.predicate,l.object];f.map(function(b){b.termType==="BlankNode"?s[b.toNT()]=!0:b.termType==="Collection"&&b.elements.forEach(function(A){u(A)})}),u(t[a].object);var h=n[this.toStr(l.subject)];h||(h=[]),h.push(l),n[this.toStr(l.subject)]=h}var _=[];for(var p in n)if(n.hasOwnProperty(p)){var d=this.fromStr(p);if(d.termType!=="BlankNode"||!r[d]||r[d].length!==1){_.push(d);continue}}this.incoming=r;for(var v={},m=0;m<_.length;m++)v[_[m].toNT()]=!0;return{roots:_,subjects:n,rootsHash:v,incoming:r}}},{key:"toN3",value:function(t){return this.statementsToN3(t.statements)}},{key:"explicitURI",value:function(t){return this.flags.indexOf("r")<0&&this.base?t=dh(this.base,t):this.flags.indexOf("u")>=0?t=$N(t):t=zN(decodeURI(t)),"<"+t+">"}},{key:"statementsToNTriples",value:function(t){var r=t.slice();r.sort();for(var n="",s="http://www.w3.org/1999/02/22-rdf-syntax-ns#",a=this,l=this.store,u=this.rdfFactory,f=function d(v){if(v.termType!=="Collection")return a.atomicTermToN3(v);for(var m=v.elements,b=l.sym(s+"nill"),A=m.length-1;A>=0;A--){var U=u.blankNode();n+=d(U)+" "+d(l.sym(s+"first"))+" "+d(m[A])+`.
`,n+=d(U)+" "+d(l.sym(s+"rest"))+" "+d(b)+`.
`,b=U}return a.atomicTermToN3(b)},h=0;h<r.length;h++){var _=r[h],p="";p+=f(_.subject)+" ",p+=f(_.predicate)+" ",p+=f(_.object)+" ",this.flags.indexOf("q")>=0&&(p+=f(_.why)+" "),p+=`.
`,n+=p}return n}},{key:"statementsToN3",value:function(t){var r=4,n=80,s=this.store,a={"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":"aaa:00"},l=function(F,q){return UN(F,q,s,a)};t.sort(l),this.base&&!this.defaultNamespace&&(this.defaultNamespace=this.base+"#");var u={};this.flags.indexOf("s")<0&&(u["http://www.w3.org/2002/07/owl#sameAs"]="="),this.flags.indexOf("t")<0&&(u["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]="a"),this.flags.indexOf("i")<0&&(u["http://www.w3.org/2000/10/swap/log#implies"]="=>");var f=function(F){for(var q="",k=0;k<F;k++)q+=" ";return q},h=function j(F){for(var q="",k=0;k<F.length;k++){var L=F[k],D=typeof L=="string"?L:j(L);if(k!==0){var P=q.slice(-1)||" ";D===","||D===";"||D==="."&&!"0123456789.:".includes(P)||(q+=" ")}q+=D}return q},_=function j(F,q){var k="",L=1e5;q===void 0&&(q=-1);for(var D=0;D<F.length;D++){var P=F[D];if(typeof P!="string"){var Q=j(P,q+1);if(Q.length<10*(n-r*q)&&Q.indexOf('"""')<0){var H=h(P);H.length<n-r*q&&(P=H,Q="")}Q&&(L=1e4),k+=Q}if(typeof P=="string"){if(P.length===1&&k.slice(-1)===`
`&&",.;".indexOf(P)>=0){k=k.slice(0,-1),P=="."&&"0123456789.:".includes(k.charAt(k.length-1))&&(k+=" ",L+=1),k+=P+`
`,L+=1;continue}if(L<r*q+4||L+P.length+1<n&&";.".indexOf(k[k.length-2])<0)k=k.slice(0,-1)+" "+P+`
`,L+=P.length+1;else{var oe=f(r*q)+P;k+=oe+`
`,L=oe.length,q<0&&(k+=`
`,L=1e5)}}}return k};function p(j){for(var F=this.rootSubjects(j),q=F.roots,k=[],L=0;L<q.length;L++){var D=q[L];k.push(v(D,F))}return k}var d=p.bind(this);function v(j,F){return j.termType==="BlankNode"&&!F.incoming[j]?U(j,F,!0).concat(["."]):[O(j,F)].concat([b(j,F)]).concat(["."])}function m(j,F){var q=[],k=null,L=F.subjects[this.toStr(j)]||[];if(typeof L>"u")throw new Error("Cant find statements for "+j);for(var D=[],P=0;P<L.length;P++){var Q=L[P];Q.predicate.uri===k?D.push(","):(k&&(q=q.concat([D]).concat([";"]),D=[]),q.push(u[Q.predicate.uri]?u[Q.predicate.uri]:O(Q.predicate,F))),k=Q.predicate.uri,D.push(U(Q.object,F))}return q=q.concat([D]),q}var b=m.bind(this);function A(j,F,q){return j.termType==="BlankNode"&&(q||F.rootsHash[j.toNT()]===void 0)?F.subjects[this.toStr(j)]?["[",b(j,F),"]"]:"[]":O(j,F)}var U=A.bind(this);function I(j,F){var q,k;switch(j.termType){case"Graph":return k=["{"],k=k.concat(d(j.statements)),k.concat(["}"]);case"Collection":for(k=["("],q=0;q<j.elements.length;q++)k.push([U(j.elements[q],F)]);return k.push(")"),k;default:return this.atomicTermToN3(j)}}i.prototype.termToN3=O;var O=I.bind(this);function y(){var j="";this.flags.indexOf("d")<0&&this.defaultNamespace&&(j+="@prefix : "+this.explicitURI(this.defaultNamespace)+`.
`);for(var F in this.prefixes)this.prefixes.hasOwnProperty(F)&&this.namespacesUsed[F]&&(j+="@prefix "+this.prefixes[F]+": "+this.explicitURI(F)+`.
`);return j+`
`}var N=y.bind(this),T=d(t);return N()+_(T)}},{key:"atomicTermToN3",value:function(t,r){switch(t.termType){case"BlankNode":case"Variable":return t.toNT();case"Literal":var n=t.value;if(typeof n!="string")throw new TypeError("Value of RDF literal node must be a string");if(t.datatype&&this.flags.indexOf("x")<0)switch(t.datatype.uri){case"http://www.w3.org/2001/XMLSchema#integer":return n;case"http://www.w3.org/2001/XMLSchema#decimal":return n.indexOf(".")<0&&(n+=".0"),n;case"http://www.w3.org/2001/XMLSchema#double":{var s=n.toLowerCase().indexOf("e")>0;return n.indexOf(".")<0&&!s&&(n+=".0"),s||(n+="e0"),n}case"http://www.w3.org/2001/XMLSchema#boolean":return t.value==="1"?"true":"false"}var a=this.stringToN3(t.value);return t.language?a+="@"+t.language:t.datatype.equals(this.xsd.string)||(a+="^^"+this.atomicTermToN3(t.datatype,r)),a;case"NamedNode":return this.symbolToN3(t);case"DefaultGraph":return"";default:throw new Error("Internal: atomicTermToN3 cannot handle "+t+" of termType: "+t.termType)}}},{key:"stringToN3",value:function(t,r){r||(r="e");var n="",s,a,l,u,f;for(t.length>20&&t.slice(-1)!=='"'&&r.indexOf("n")<0&&(t.indexOf(`
`)>0||t.indexOf('"')>0)?(u='"""',f=this.forbidden3):(u='"',f=this.forbidden1),s=0;s<t.length;){f.lastIndex=0;var h=f.exec(t.slice(s));if(h==null)break;a=s+f.lastIndex-1,n+=t.slice(s,a);var _=t[a];_==='"'&&u==='"""'&&t.slice(a,a+3)!=='"""'?n+=_:(l=`\b\f\r	\v
\\"`.indexOf(_),l>=0?n+="\\"+'bfrtvn\\"'[l]:r.indexOf("e")>=0?n+="\\u"+("000"+_.charCodeAt(0).toString(16).toLowerCase()).slice(-4):n+=_),s=a+1}return u+n+t.slice(s)+u}},{key:"symbolToN3",value:function(t){var r=t.uri,n=r.indexOf("#");if(n<0&&this.flags.indexOf("/")<0&&(n=r.lastIndexOf("/")),n>=0&&this.flags.indexOf("p")<0&&(r.indexOf("http")===0||r.indexOf("ws")===0||r.indexOf("file")===0)){for(var s=!0,a=n+1;a<r.length;a++)if(this._notNameChars.indexOf(r[a])>=0){s=!1;break}if(s){var l=r.slice(n+1),u=r.slice(0,n+1);if(this.defaultNamespace&&this.defaultNamespace===u&&this.flags.indexOf("d")<0)return this.flags.indexOf("k")>=0&&this.keyords.indexOf(l)<0?l:":"+l;var f=this.prefixes[u];if(f||(f=this.makeUpPrefix(u)),f)return this.namespacesUsed[u]=!0,f+":"+l}}return this.explicitURI(r)}},{key:"writeStore",value:function(t){var r=this.store,n=r.fetcher,s=n&&n.appNode,a=this.store.index[3];for(var l in a){var u=r.fromNT(l);s&&u.equals(s)||t(`
`+this.atomicTermToN3(u)+" "+this.atomicTermToN3(r.sym("http://www.w3.org/2000/10/swap/log#semantics"))+" { "+this.statementsToN3(r.statementsMatching(void 0,void 0,void 0,u))+` }.
`)}r.statementsMatching(void 0,r.sym("http://www.w3.org/2007/ont/link#requestedURI")).map(function(_){t(`
<`+_.object.value+`> log:metadata {
`);var p=r.statementsMatching(void 0,void 0,void 0,_.subject);t(this.statementsToN3(this.statementsToN3(p))),t(`}.
`)});var f=[];s&&f.push(s);var h=[];f.map(function(_){h=h.concat(r.statementsMatching(void 0,void 0,void 0,_))}),t(this.statementsToN3(h))}},{key:"statementsToXML",value:function(t){var r=4,n=80,s=[];s["http://www.w3.org/1999/02/22-rdf-syntax-ns#"]=!0;var a="http://www.w3.org/1999/02/22-rdf-syntax-ns#_",l=function(L){for(var D="",P=0;P<L;P++)D+=" ";return D},u=function k(L){for(var D="",P=0;P<L.length;P++){var Q=L[P],H=typeof Q=="string"?Q:k(Q);D+=H}return D},f=function k(L,D){var P="",Q,H=1e5;D||(D=0);for(var oe=0;oe<L.length;oe++){var re=L[oe];if(typeof re!="string"){var te=k(re,D+1);te.length<10*(n-r*D)&&te.indexOf('"""')<0&&(Q=u(re),Q.length<n-r*D&&(re="   "+Q,te="")),te&&(H=1e4),P+=te}typeof re=="string"&&(H<r*D+4?(P=P.slice(0,-1)+" "+re+`
`,H+=re.length+1):(Q=l(r*D)+re,P+=Q+`
`,H=Q.length))}return P};function h(k){this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#");for(var L=this.rootSubjects(k),D=L.roots,P=[],Q=0;Q<D.length;Q++){var H=D[Q];P.push(b(H,L))}return P}var _=h.bind(this);function p(k){return typeof k>"u"?"@@@undefined@@@@":k.replace(/[&<"]/g,function(L){switch(L[0]){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;"}})}function d(k){return p(this.base?dh(this.base,k.uri):k.uri)}var v=d.bind(this);function m(k,L){var D=[],P,Q,H,oe,re=L.subjects[this.toStr(k)];if(typeof re>"u")return I(k,L);re.sort(function(pe,it){var tt=pe.predicate.uri,Fe=it.predicate.uri;if(tt.substring(0,a.length)===a||Fe.substring(0,a.length)===a)return tt.localeCompare(Fe);var He=tt.substring(a.length),Ce=Fe.substring(a.length),De=parseInt(He,10),Ge=parseInt(Ce,10);return isNaN(De)||isNaN(Ge)||De!==He||Ge!==Ce?tt.localeCompare(Fe):De-Ge});for(var te=0;te<re.length;te++){if(H=re[te],H.predicate.uri==="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"&&!P&&H.object.termType==="NamedNode"){P=H.object;continue}if(oe=H.predicate,oe.uri.substr(0,a.length)===a){var $=oe.uri.substr(a.length),W=parseInt($,10);$===W.toString()&&(oe=this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#li"))}switch(Q=y(oe),H.object.termType){case"BlankNode":L.incoming[H.object].length===1?D=D.concat(["<"+Q+' rdf:parseType="Resource">',b(H.object,L),"</"+Q+">"]):D=D.concat(["<"+Q+' rdf:nodeID="'+H.object.toNT().slice(2)+'"/>']);break;case"NamedNode":D=D.concat(["<"+Q+' rdf:resource="'+v(H.object)+'"/>']);break;case"Literal":D=D.concat(["<"+Q+(H.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+p(H.object.datatype.uri)+'"')+(H.object.language?' xml:lang="'+H.object.language+'"':"")+">"+p(H.object.value)+"</"+Q+">"]);break;case"Collection":D=D.concat(["<"+Q+' rdf:parseType="Collection">',A(H.object,L),"</"+Q+">"]);break;default:throw new Error("Can't serialize object of type "+H.object.termType+" into XML")}}var de=P?y(P):"rdf:Description",J="";return k.termType==="BlankNode"?(!L.incoming[k]||L.incoming[k].length!==1)&&(J=' rdf:nodeID="'+k.toNT().slice(2)+'"'):J=' rdf:about="'+v(k)+'"',["<"+de+J+">"].concat([D]).concat(["</"+de+">"])}var b=m.bind(this);function A(k,L){for(var D=[],P=0;P<k.elements.length;P++)D.push(b(k.elements[P],L));return D}function U(k,L){var D=[],P=L.subjects[this.toStr(k)];if(!P)return D;P.sort();for(var Q=0;Q<P.length;Q++){var H=P[Q];switch(H.object.termType){case"BlankNode":L.rootsHash[H.object.toNT()]?D=D.concat(["<"+y(H.predicate)+' rdf:nodeID="'+H.object.toNT().slice(2)+'">',"</"+y(H.predicate)+">"]):D=D.concat(["<"+y(H.predicate)+' rdf:parseType="Resource">',I(H.object,L),"</"+y(H.predicate)+">"]);break;case"NamedNode":D=D.concat(["<"+y(H.predicate)+' rdf:resource="'+v(H.object)+'"/>']);break;case"Literal":D=D.concat(["<"+y(H.predicate)+(H.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+p(H.object.datatype.value)+'"')+(H.object.language?' xml:lang="'+H.object.language+'"':"")+">"+p(H.object.value)+"</"+y(H.predicate)+">"]);break;case"Collection":D=D.concat(["<"+y(H.predicate)+' rdf:parseType="Collection">',A(H.object,L),"</"+y(H.predicate)+">"]);break;default:throw new Error("Can't serialize object of type "+H.object.termType+" into XML")}}return D}var I=U.bind(this);function O(k){var L=k.uri,D=L.indexOf("#");if(D<0&&this.flags.indexOf("/")<0&&(D=L.lastIndexOf("/")),D<0)throw new Error("Cannot make qname out of <"+L+">");for(var P=D+1;P<L.length;P++)if(this._notNameChars.indexOf(L[P])>=0)throw new Error('Invalid character "'+L[P]+'" cannot be in XML qname for URI: '+L);var Q=L.slice(D+1),H=L.slice(0,D+1);if(this.defaultNamespace&&this.defaultNamespace===H&&this.flags.indexOf("d")<0)return Q;var oe=this.prefixes[H];return oe||(oe=this.makeUpPrefix(H)),s[H]=!0,oe+":"+Q}var y=O.bind(this),N=_(t),T="<rdf:RDF";this.defaultNamespace&&(T+=' xmlns="'+p(this.defaultNamespace)+'"');for(var j in s)if(s.hasOwnProperty(j)){var F=this.base&&this.flags.includes("z")?dh(this.base,j):j;T+=`
 xmlns:`+this.prefixes[j]+'="'+p(F)+'"'}T+=">";var q=[T,N,"</rdf:RDF>"];return f(q,-1)}},{key:"statementsToJsonld",value:function(t){var r=this.statementsToN3(t),n=xN.parse(r);return JSON.stringify(n,null,2)}}])}();function zN(i){return encodeURI(i)}function $N(i){for(var e="",t,r=0;r<i.length;r++)t=i.charCodeAt(r),t>65535?e+="\\U"+("00000000"+t.toString(16)).slice(-8):t>126?e+="\\u"+("0000"+t.toString(16)).slice(-4):e+=i[r];return e}function ko(i,e,t,r,n,s){t=t||(i==null?void 0:i.value);var a=s||{};r=r||Es;var l=void 0;try{var u=HN(e);a.flags&&u.setFlags(a.flags);var f=e.statementsMatching(void 0,void 0,void 0,i);switch("namespaces"in e&&u.suggestNamespaces(e.namespaces),a.namespaces&&u.setNamespaces(a.namespaces),u.setBase(t),r){case wo:return l=u.statementsToXML(f),h(null,l);case W1:case qT:return l=u.statementsToN3(f),h(null,l);case Es:case VT:return u.setFlags("si"),l=u.statementsToN3(f),h(null,l);case jT:return u.setFlags("deinprstux"),l=u.statementsToNTriples(f),h(null,l);case qh:return u.setFlags("si dr"),l=u.statementsToJsonld(f),h(null,l);case xh:case jh:return u.setFlags("deinprstux q"),l=u.statementsToNTriples(f),h(null,l);default:throw new Error("Serialize: Content-type "+r+" not supported for data write.")}}catch(_){if(n)return n(_,void 0);throw _}function h(_,p){if(n){n(_,p);return}else return p}}var GN=["blankNode","defaultGraph","literal","namedNode","quad","variable","supports"],Wu={first:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",rest:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",nil:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};function M2(i,e,t){var r=[];return t.reduce(function(n,s,a,l){r.push(i.quad(n,i.namedNode(Wu.first),l[a]));var u;return a<l.length-1?(u=i.blankNode(),r.push(i.quad(n,i.namedNode(Wu.rest),u))):r.push(i.quad(n,i.namedNode(Wu.rest),i.namedNode(Wu.nil))),u},e),r}function yi(i,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=i.length;for(t<0&&(t=r+t);t<r;t++)if(i[t]===e)return t;return-1}function XN(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=WN(i))||e){t&&(i=t);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(f){throw f},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,l;return{s:function(){t=t.call(i)},n:function(){var f=t.next();return s=f.done,f},e:function(f){a=!0,l=f},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(a)throw l}}}}function WN(i,e){if(i){if(typeof i=="string")return D0(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return D0(i,e)}}function D0(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}function QN(i,e,t){return e=Zr(e),Ea(i,q2()?Reflect.construct(e,t||[],Zr(i).constructor):e.apply(i,t))}function q2(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q2=function(){return!!i})()}var j2=function(i){function e(){var t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};Hr(this,e),t=QN(this,e,[""]),t.statements=r,t.constraints=n,t.initBindings=s,t.optional=a,et(t,"termType",No),et(t,"classOrder",Qi.Graph),et(t,"fetcher",void 0),et(t,"isVar",0),et(t,"ns",Rn),et(t,"rdfFactory",void 0),t.rdfFactory=l&&l.rdfFactory||Pi;var u=XN(GN),f;try{var h=function(){var p=f.value;t[p]=function(){var d;return(d=t.rdfFactory)[p].apply(d,arguments)}};for(u.s();!(f=u.n()).done;)h()}catch(_){u.e(_)}finally{u.f()}return t}return Pn(e,i),xr(e,[{key:"add",value:function(r,n,s,a){var l=this;return arguments.length===1&&r.forEach(function(u){return l.add(u.subject,u.predicate,u.object,u.graph)}),this.statements.push(this.rdfFactory.quad(r,n,s,a))}},{key:"addStatement",value:function(r){return this.add(r)}},{key:"bnode",value:function(r){return this.rdfFactory.blankNode(r)}},{key:"addAll",value:function(r){var n=this;r.forEach(function(s){n.add(s.subject,s.predicate,s.object,s.graph)})}},{key:"any",value:function(r,n,s,a){var l=this.anyStatementMatching(r,n,s,a);return l==null?null:r==null?l.subject:n==null?l.predicate:s==null?l.object:null}},{key:"anyValue",value:function(r,n,s,a){var l=this.any(r,n,s,a);return l?l.value:void 0}},{key:"anyJS",value:function(r,n,s,a){var l=this.any(r,n,s,a);return l?Pr.toJS(l):void 0}},{key:"anyStatementMatching",value:function(r,n,s,a){var l=this.statementsMatching(r,n,s,a,!0);if(!(!l||l.length===0))return l[0]}},{key:"id",value:function(r){return this.rdfFactory.id(r)}},{key:"statementsMatching",value:function(r,n,s,a,l){var u=this.statements.filter(function(f){return(!r||r.equals(f.subject))&&(!n||n.equals(f.predicate))&&(!s||s.equals(f.object))&&(!a||a.equals(f.graph))});return l?u.length===0?[]:[u[0]]:u}},{key:"bottomTypeURIs",value:function(r){var n,s,a,l,u,f,h,_;n=[];for(var p in r)if(r.hasOwnProperty(p)){for(_=r[p],h=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),this.rdfFactory.namedNode(p)),s=!0,l=0,u=h.length;l<u;l++)if(a=h[l],f=a.uri,f in r){s=!1;break}s&&(n[p]=_)}return n}},{key:"collection",value:function(){return new Wa}},{key:"each",value:function(r,n,s,a){var l=[],u=this.statementsMatching(r,n,s,a,!1);if(r==null)for(var f=0,h=u.length;f<h;f++)l.push(u[f].subject);else if(n==null)for(var _=0,p=u.length;_<p;_++)l.push(u[_].predicate);else if(s==null)for(var d=0,v=u.length;d<v;d++)l.push(u[d].object);else if(a==null)for(var m=0,b=u.length;m<b;m++)l.push(new vn(u[m].graph.value));return l}},{key:"equals",value:function(r){return r?this.hashString()===r.hashString():!1}},{key:"findMembersNT",value:function(r){var n,s,a,l,u,f,h,_,p,d,v,m,b,A;m={},m[r.toNT()]=!0,l={},f=this.transitiveClosure(m,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0);for(var U in f)if(f.hasOwnProperty(U)){h=this.statementsMatching(void 0,this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.fromNT(U));for(var I=0,O=h.length;I<O;I++)b=h[I],l[b.subject.toNT()]=b;_=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"),this.fromNT(U));for(var y=0,N=_.length;y<N;y++)for(u=_[y],p=this.statementsMatching(void 0,u),a=0,n=p.length;a<n;a++)b=p[a],l[b.subject.toNT()]=b;d=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"),this.fromNT(U));for(var T=0,j=d.length;T<j;T++)for(u=d[T],v=this.statementsMatching(void 0,u),A=0,s=v.length;A<s;A++)b=v[A],l[b.object.toNT()]=b}return l}},{key:"findMemberURIs",value:function(r){return this.NTtoURI(this.findMembersNT(r))}},{key:"findSubClassesNT",value:function(r){var n={};return n[r.toNT()]=!0,this.transitiveClosure(n,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0)}},{key:"findSuperClassesNT",value:function(r){var n={};return n[r.toNT()]=!0,this.transitiveClosure(n,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypesNT",value:function(r){var n,s,a,l,u,f,h,_,p;a="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",p=[],l=this.statementsMatching(r,void 0,void 0);for(var d=0,v=l.length;d<v;d++)if(_=l[d],_.predicate.uri===a)p[_.object.toNT()]=_;else{u=this.each(_.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"));for(var m=0,b=u.length;m<b;m++)s=u[m],p[s.toNT()]=_}f=this.statementsMatching(void 0,void 0,r);for(var A=0,U=f.length;A<U;A++){_=f[A],h=this.each(_.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"));for(var I=0,O=h.length;I<O;I++)n=h[I],p[n.toNT()]=_}return this.transitiveClosure(p,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypeURIs",value:function(r){return this.NTtoURI(this.findTypesNT(r))}},{key:"connectedStatements",value:function(r,n,s){s=s||[];for(var a=[r],l={},u={},f=[],h=this,_=function(d){var v=function(A){A.termType==="BlankNode"&&!l[A.value]&&(l[A.value]=!0,a.push(A))},m=h.statementsMatching(null,null,d,n).concat(h.statementsMatching(d,null,null,n));m=m.filter(function(b){if(s[b.predicate.value])return!1;var A=b.toNT();return u[A]?!1:(u[A]=!0,!0)}),m.forEach(function(b){v(b.subject),v(b.object)}),f=f.concat(m)};a.length;)_(a.shift());return f}},{key:"formula",value:function(r){return new e}},{key:"fromNT",value:function(r){var n,s,a;switch(r[0]){case"<":return this.sym(r.slice(1,-1));case'"':if(a=void 0,n=void 0,s=r.lastIndexOf('"'),s<r.length-1)if(r[s+1]==="@")a=r.slice(s+2);else if(r.slice(s+1,s+3)==="^^")n=this.fromNT(r.slice(s+3));else throw new Error("Can't convert string from NT: "+r);return r=r.slice(1,s),r=r.replace(/\\"/g,'"'),r=r.replace(/\\n/g,`
`),r=r.replace(/\\\\/g,"\\"),this.rdfFactory.literal(r,a||n);case"_":return this.rdfFactory.blankNode(r.slice(2));case"?":return new Ts(r.slice(1))}throw new Error("Can't convert from NT: "+r)}},{key:"holds",value:function(r,n,s,a){var l;if(arguments.length===1){if(!r)return!0;if(r instanceof Array){for(l=0;l<r.length;l++)if(!this.holds(r[l]))return!1;return!0}else{if($T(r))return this.holds(r.subject,r.predicate,r.object,r.graph);if(r.statements)return this.holds(r.statements)}}var u=this.anyStatementMatching(r,n,s,a);return u!=null}},{key:"holdsStatement",value:function(r){return this.holds(r.subject,r.predicate,r.object,r.graph)}},{key:"list",value:function(r,n){if(n.rdfFactory.supports.COLLECTIONS){var s=n.rdfFactory.collection();return r.forEach(function(u){s.append(u)}),s}else{var a=n.rdfFactory.blankNode(),l=M2(n.rdfFactory,a,r);return n.addAll(l),a}}},{key:"NTtoURI",value:function(r){var n,s,a={};for(n in r)r.hasOwnProperty(n)&&(s=r[n],n[0]==="<"&&(a[n.slice(1,-1)]=s));return a}},{key:"serialize",value:function(r,n,s,a){return ko(s,this,r,n,void 0,a)}},{key:"substitute",value:function(r){var n=this.statements.map(function(a){return a.substitute(r)}),s=new e;return s.addAll(n),s}},{key:"sym",value:function(r,n){if(n)throw new Error("This feature (kb.sym with 2 args) is removed. Do not assume prefix mappings.");return this.rdfFactory.namedNode(r)}},{key:"the",value:function(r,n,s,a){var l=this.any(r,n,s,a);return l}},{key:"transitiveClosure",value:function(r,n,s){var a,l,u,f,h,_,p={};Object.assign(p,r);for(var d={};;){if(_=function(){for(var v in p)if(p.hasOwnProperty(v))return v}(),_==null)return d;for(h=s?this.each(void 0,n,this.fromNT(_)):this.each(this.fromNT(_),n),l=0,u=h.length;l<u;l++)a=h[l],f=a.toNT(),!(f in d)&&(f in p||(p[f]=p[_]));d[_]=p[_],delete p[_]}}},{key:"topTypeURIs",value:function(r){var n,s,a,l,u,f,h,_;h=[];for(a in r)if(r.hasOwnProperty(a)){for(_=r[a],u=0,f=this.each(this.rdfFactory.namedNode(a),this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf")),n=0,l=f.length;n<l;n++)if(s=f[n],s.uri!=="http://www.w3.org/2000/01/rdf-schema#Resource"){u++;break}u||(h[a]=_)}return h["http://www.w3.org/2000/01/rdf-schema#Resource"]&&delete h["http://www.w3.org/2000/01/rdf-schema#Resource"],h["http://www.w3.org/2002/07/owl#Thing"]&&delete h["http://www.w3.org/2002/07/owl#Thing"],h}},{key:"toString",value:function(){return"{"+this.statements.join(`
`)+"}"}},{key:"variable",value:function(r){return new Ts(r)}},{key:"whether",value:function(r,n,s,a){return this.statementsMatching(r,n,s,a,!1).length}}])}(Pr);Pr.fromValue=e2;var sl={xsd:Rn("http://www.w3.org/2001/XMLSchema#")};Pr.toJS=function(i){return fd(i)?i.elements.map(Pr.toJS):Y1(i)?i.datatype.equals(sl.xsd("boolean"))?i.value==="1"||i.value==="true":i.datatype.equals(sl.xsd("dateTime"))||i.datatype.equals(sl.xsd("date"))?new Date(i.value):i.datatype.equals(sl.xsd("integer"))||i.datatype.equals(sl.xsd("float"))||i.datatype.equals(sl.xsd("decimal"))?Number(i.value):i.value:i};var YN=xr(function i(e,t){Hr(this,i),this.pat=new Fo,this.vars=[],this.name=e,this.id=t});function A0(i,e,t,r){function n(y){var N="",T;for(T in y)y.hasOwnProperty(T)&&(N+="    "+T+" -> "+y[T]);return N}function s(y){var N="Bindings: ",T,j=y.length;for(T=0;T<j;T++)N+=n(y[T][0])+`;
	`;return N}function a(y,N,T,j){var F=T[y];if(F===void 0){if(y.isVar){var q=[];return q[y]=N,[[q,null]]}F=y}if(!F.complexType)return j.redirections[F]&&(F=j.redirections[F]),j.redirections[N]&&(N=j.redirections[N]),F.equals(N)||F.uri&&F.uri===yo?[[[],null]]:[];if(y instanceof Array)return N instanceof Array?l(y,N,T):[];throw new Error("query.js: oops - code not written yet")}function l(y,N,T,j){var F;if(y.length!==N.length)return[];if(!y.length)return[[[],null]];var q=a(y[0],N[0],T,j);if(q.length===0)return q;var k=[],L,D=q.length,P,Q,H,oe,re,te;for(L=0;L<D;L++){P=q[L][0],te=[];for(oe in P)P.hasOwnProperty(oe)&&(te[oe]=P[oe]);for(oe in T)T.hasOwnProperty(oe)&&(te[oe]=T[oe]);for(F=l(y.slice(1),N.slice(1),te,j),H=F.length,Q=0;Q<H;Q++){re=F[Q][0];for(oe in P)P.hasOwnProperty(oe)&&(re[oe]=P[oe]);k.push([re,null])}}return k}function u(y,N){var T=N[y];return T===void 0?y:T}function f(y,N){var T={},j;for(j in y)y.hasOwnProperty(j)&&(T[j]=y[j]);for(j in N)N.hasOwnProperty(j)&&(T[j]=N[j]);return T}function h(y,N){return this.trunkBindings=N,this.originalCallback=y,this.branches=[],this}h.prototype.checkAllDone=function(){var y;for(y=0;y<this.branches.length;y++)if(!this.branches[y].done)return;this.doCallBacks(this.branches.length-1,this.trunkBindings)},h.prototype.doCallBacks=function(y,N){var T;if(y<0)return this.originalCallback(N);for(T=0;T<this.branches[y].results.length;T++)this.doCallBacks(y-1,f(N,this.branches[y].results[T]))};function _(y,N){return this.count=0,this.success=!1,this.done=!1,this.callback=y,this.onDone=N,this}_.prototype.reportMatch=function(y){this.callback(y),this.success=!0},_.prototype.reportDone=function(){this.done=!0,this.onDone!==void 0&&this.onDone()};var p=function(N){return this.count=0,this.done=!1,this.results=[],this.junction=N,N.branches.push(this),this};p.prototype.reportMatch=function(y){this.results.push(y)},p.prototype.reportDone=function(){$i.debug("Optional branch finished - results.length = "+this.results.length),this.results.length===0&&this.results.push({}),this.done=!0,this.junction.checkAllDone()};function d(y,N,T){var j,F,q,k;for(N.nvars=0,N.index=null,j=[N.subject,N.predicate,N.object,N.why],k=[y.subjectIndex,y.predicateIndex,y.objectIndex,y.whyIndex],q=0;q<4;q++){var L=j[q];if(!(L.uri&&L.uri===yo))if(L.isVar&&T[L]===void 0)N.nvars++;else{if(L=u(j[q],T),y.redirections[y.id(L)]&&(L=y.redirections[y.id(L)]),F=k[q][y.id(L)],!F)return N.index=[],!1;(N.index===null||N.index.length>F.length)&&(N.index=F)}}return N.index===null&&(N.index=y.statements),!0}function v(y,N){return y.nvars!==N.nvars?y.nvars-N.nvars:y.index.length-N.index.length}var m=0,b=function y(N,T,j,F,q,k,L){$i.debug("Match begins, Branch count now: "+L.count+" for "+L.pattern_debug);var D=T.statements;if(D.length===0){if($i.debug("FOUND MATCH WITH BINDINGS:"+n(j)),T.optional.length===0)L.reportMatch(j);else{$i.debug("OPTIONAL: "+T.optional);var P=new h(e,j),Q=[],H;for(H=0;H<T.optional.length;H++)Q[H]=new p(P),Q[H].pattern_debug=T.optional[H];for(H=0;H<T.optional.length;H++)Q[H].count=Q[H].count+1,y(N,T.optional[H],j,"",q,e,Q[H])}L.count--,$i.debug("Match ends -- success , Branch count now: "+L.count+" for "+L.pattern_debug);return}var oe,re,te=D.length;if(q){var $="match"+m++,W=function(J,pe){var it=J.uri.split("#")[0];q.nowOrWhenFetched(it,void 0,function(tt,Fe,He){tt||console.log("Error following link to <"+J.uri+"> in query: "+Fe),y(N,T,j,F,q,k,L)})};for(re=0;re<te;re++){if(oe=D[re],j[oe.subject]!==void 0&&j[oe.subject].uri&&q&&q.getState(hl(j[oe.subject].uri))==="unrequested"){W(j[oe.subject],$);return}if(j[oe.object]!==void 0&&j[oe.object].uri&&q&&q.getState(hl(j[oe.object].uri))==="unrequested"){W(j[oe.object],$);return}}}U(N,T,j,F,q,k,L)},A=function(N,T){var j=!0,F,q;for(F in N)N.hasOwnProperty(F)&&T[F]&&(q=T[F].test,q&&!q(N[F])&&(j=!1));return j},U=function(N,T,j,F,q,k,L){var D=T.statements,P=D.length,Q,H,oe,re,te,$,W;for(Q=0;Q<P;Q++)W=D[Q],d(N,W,j);D.sort(v),W=D[0];var de=N.formula();de.optional=T.optional,de.constraints=T.constraints,de.statements=D.slice(1),$i.debug(F+"match2 searching "+W.index.length+" for "+W+"; bindings so far="+n(j));var J,pe=W.index.length,it,tt;for(J=0;J<pe;J++)for(tt=W.index[J],it=l([W.subject,W.predicate,W.object,W.why],[tt.subject,tt.predicate,tt.object,tt.why],j,N),$i.info(F+" From first: "+it.length+": "+s(it)),oe=it.length,H=0;H<oe;H++)if(te=[],$=it[H][0],!A($,T.constraints))$i.debug("Branch count CS: "+L.count);else{for(re in $)$.hasOwnProperty(re)&&(te[re]=$[re]);for(re in j)j.hasOwnProperty(re)&&(te[re]=j[re]);L.count++,b(N,de,te,F+"  ",q,k,L)}L.count--,$i.debug("Match2 ends, Branch count: "+L.count+" for "+L.pattern_debug),L.count===0&&L.reportDone()},I=this;$i.debug("Query on "+this.statements.length);var O=new _(e,r);O.count++,i.sync?b(I,i.pat,i.pat.initBindings,"",t,e,O):setTimeout(function(){b(I,i.pat,i.pat.initBindings,"",t,e,O)},0)}function k0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function oo(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?k0(Object(t),!0).forEach(function(r){et(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):k0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function KN(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=JN(i))||e){t&&(i=t);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(f){throw f},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,l;return{s:function(){t=t.call(i)},n:function(){var f=t.next();return s=f.done,f},e:function(f){a=!0,l=f},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(a)throw l}}}}function JN(i,e){if(i){if(typeof i=="string")return C0(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return C0(i,e)}}function C0(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}function ZN(i,e,t){return e=Zr(e),Ea(i,x2()?Reflect.construct(e,t||[],Zr(i).constructor):e.apply(i,t))}function x2(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x2=function(){return!!i})()}var vh="http://www.w3.org/2002/07/owl#";function eS(i,e,t,r){var n=i.any(e,t,void 0);return n?(i.equate(n,r),!0):!1}function tS(i,e,t,r){var n=i.any(void 0,t,r);return n?(i.equate(n,e),!0):!1}function H2(i,e,t,r,n){i.typeCallback&&i.typeCallback(i,r,n);var s=i.classActions[i.id(r)],a=!1;if(s)for(var l=0;l<s.length;l++)a=a||s[l](i,e,t,r,n);return a}var Fo=function(i){function e(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Hr(this,e),r=ZN(this,e,[void 0,void 0,void 0,void 0,n]),et(r,"updater",void 0),et(r,"namespaces",void 0),et(r,"classActions",void 0),et(r,"propertyActions",void 0),et(r,"redirections",void 0),et(r,"aliases",void 0),et(r,"HTTPRedirects",void 0),et(r,"subjectIndex",void 0),et(r,"predicateIndex",void 0),et(r,"objectIndex",void 0),et(r,"whyIndex",void 0),et(r,"index",void 0),et(r,"features",void 0),et(r,"_universalVariables",void 0),et(r,"_existentialVariables",void 0),et(r,"rdfArrayRemove",void 0),et(r,"dataCallbacks",void 0),r.propertyActions={},r.classActions={},r.redirections=[],r.aliases=[],r.HTTPRedirects=[],r.subjectIndex=[],r.predicateIndex=[],r.objectIndex=[],r.whyIndex=[],r.index=[r.subjectIndex,r.predicateIndex,r.objectIndex,r.whyIndex],r.namespaces={},r.features=t||[],r.rdfArrayRemove=n.rdfArrayRemove||MN,n.dataCallback&&(r.dataCallbacks=[n.dataCallback]),r.initPropertyActions(r.features),r}return Pn(e,i),xr(e,[{key:"substitute",value:function(r){var n=this.statements.map(function(a){return a.substitute(r)}),s=new e;return s.add(n),s}},{key:"addDataCallback",value:function(r){this.dataCallbacks||(this.dataCallbacks=[]),this.dataCallbacks.push(r)}},{key:"applyPatch",value:function(r,n,s){var a=this,l,u=null;function f(p){if(r.delete){l=r.delete,u&&(l=l.substitute(u)),l=l.statements;var d=[],v=l.map(function(m){var b=a.statementsMatching(m.subject,m.predicate,m.object,n);return b.length===0?(d.push(m),null):b[0]});if(d.length)return s("Could not find to delete: "+d.join(`
 or `));v.map(function(m){a.remove(m)})}r.insert&&(l=r.insert,u&&(l=l.substitute(u)),l=l.statements,l.map(function(m){m.graph=n,a.add(m.subject,m.predicate,m.object,m.graph)})),p()}if(r.where){var h=new YN("patch");h.pat=r.where,h.pat.statements.map(function(p){p.graph=sb(n.value)}),h.sync=!0;var _=[];a.query(h,function(d){_.push(d)},a.fetcher,function(){if(_.length===0)return s("No match found to be patched:"+r.where);if(_.length>1)return s("Patch ambiguous. No patch done.");u=_[0],f(s)})}else f(s)}},{key:"declareExistential",value:function(r){return this._existentialVariables||(this._existentialVariables=[]),this._existentialVariables.push(r),r}},{key:"initPropertyActions",value:function(r){this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))]=[H2],yi(r,"sameAs")>=0&&(this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(vh,"sameAs")))]=[function(n,s,a,l,u){return n.equate(s,l),!0}]),yi(r,"InverseFunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(vh,"InverseFunctionalProperty")))]=[function(n,s,a,l,u){return n.newPropertyAction(s,tS)}]),yi(r,"FunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(vh,"FunctionalProperty")))]=[function(n,s,a,l,u){return n.newPropertyAction(s,eS)}])}},{key:"addStatement",value:function(r){return this.add(r.subject,r.predicate,r.object,r.graph),this.statements.length}},{key:"add",value:function(r,n,s,a){var l;if(arguments.length===1){if(r instanceof Array)for(l=0;l<r.length;l++)this.add(r[l]);else fl(r)?this.add(r.subject,r.predicate,r.object,r.graph):Z_(r)&&this.add(r.statements);return this}var u,f;a||(a=this.fetcher?this.fetcher.appNode:this.rdfFactory.defaultGraph()),typeof r=="string"&&(r=this.rdfFactory.namedNode(r)),n=Pr.fromValue(n);var h=Pr.fromValue(s);if(a=Pr.fromValue(a),!XT(r))throw new Error("Subject is not a subject type");if(!WT(n))throw new Error("Predicate ".concat(n," is not a predicate type"));if(!GT(h))throw new Error("Object ".concat(h," is not an object type"));if(!YT(a))throw new Error("Why is not a graph type");this.predicateCallback&&this.predicateCallback(this,n,a);var _=this.id(this.canon(n));u=this.propertyActions[_];var p=!1;if(u)for(l=0;l<u.length;l++)p=p||u[l](this,r,n,h,a);if(this.holds(r,n,h,a))return null;var d=[this.id(this.canon(r)),_,this.id(this.canon(h)),this.id(this.canon(a))];for(f=this.rdfFactory.quad(r,n,h,a),l=0;l<4;l++){var v=this.index[l],m=d[l];v[m]||(v[m]=[]),v[m].push(f)}if(this.statements.push(f),this.dataCallbacks){var b=KN(this.dataCallbacks),A;try{for(b.s();!(A=b.n()).done;){var U=A.value;U(f)}}catch(I){b.e(I)}finally{b.f()}}return f}},{key:"canon",value:function(r){if(!r)return r;var n=this.redirections[this.id(r)];if(n)return n;switch(r.termType){case Rs:return new Yi(r.value);case Ja:return r;case Cs:return new cd;case X1:return r;case No:return r;case El:return new Gi(r.value,r.language,r.datatype);case Is:return new vn(r.value);case Ka:return new Ts(r.value);default:throw new Error("Term Type not recognized for canonization: ".concat(r.termType))}}},{key:"check",value:function(){this.checkStatementList(this.statements);for(var r=0;r<4;r++){var n=this.index[r];for(var s in n)n.hasOwnProperty(s)&&this.checkStatementList(n[s],r)}}},{key:"checkStatementList",value:function(r,n){n===void 0&&(n=0);for(var s=["subject","predicate","object","why"],a=" found in "+s[n]+" index.",l,u=0;u<r.length;u++){l=r[u];for(var f=[l.subject,l.predicate,l.object,l.graph],h=function(m,b){for(var A=0;A<m.length;A++)if(m[A].subject.equals(b.subject)&&m[A].predicate.equals(b.predicate)&&m[A].object.equals(b.object)&&m[A].why.equals(b.graph))return!0},_=0;_<4;_++){var p=this.canon(f[_]),d=this.id(p);this.index[_][d]&&h(this.index[_][d],l)}if(!h(this.statements,l))throw new Error("Statement list does not statement "+l+"@"+l.graph+a)}}},{key:"close",value:function(){return this}},{key:"compareTerms",value:function(r,n){return Object.prototype.hasOwnProperty.call(r,"compareTerm")?r.compareTerm(n):Qi[r.termType]<Qi[n.termType]?-1:Qi[r.termType]>Qi[n.termType]?1:r.value<n.value?-1:r.value>n.value?1:0}},{key:"copyTo",value:function(r,n,s){s||(s=[]);var a=this.statementsMatching(r);yi(s,"two-direction")!==-1&&a.concat(this.statementsMatching(void 0,void 0,r));for(var l=0;l<a.length;l++){var u=a[l];switch(u.object.termType){case"NamedNode":this.add(n,u.predicate,u.object);break;case"Literal":case"BlankNode":case"Collection":this.add(n,u.predicate,u.object.copy(this))}yi(s,"delete")!==-1&&this.remove(u)}}},{key:"equate",value:function(r,n){var s=this.canon(r),a=this.canon(n),l=this.compareTerms(s,a);return l?l<0?this.replaceWith(a,s):this.replaceWith(s,a):!0}},{key:"formula",value:function(r){return new e(r)}},{key:"length",get:function(){return this.statements.length}},{key:"match",value:function(r,n,s,a){return this.statementsMatching(Pr.fromValue(r),Pr.fromValue(n),Pr.fromValue(s),Pr.fromValue(a))}},{key:"mentionsURI",value:function(r){var n="<"+r+">";return!!this.subjectIndex[n]||!!this.objectIndex[n]||!!this.predicateIndex[n]}},{key:"newExistential",value:function(r){if(!r)return this.bnode();var n=this.sym(r);return this.declareExistential(n)}},{key:"newPropertyAction",value:function(r,n){var s=this.id(r);this.propertyActions[s]||(this.propertyActions[s]=[]),this.propertyActions[s].push(n);for(var a=this.statementsMatching(void 0,r,void 0),l=!1,u=0;u<a.length;u++)l=l||n(this,a[u].subject,r,a[u].object);return l}},{key:"newUniversal",value:function(r){var n=this.sym(r);return this._universalVariables||(this._universalVariables=[]),this._universalVariables.push(n),n}},{key:"variable",value:function(r){return new Ts(r)}},{key:"nextSymbol",value:function(r){for(var n=0;;n++){var s=r.value+"#n"+n;if(!this.mentionsURI(s))return this.sym(s)}}},{key:"query",value:function(r,n,s,a){return A0.call(this,r,n,s,a)}},{key:"querySync",value:function(r){var n=[];function s(u){n.push(u)}function a(){l=!0}var l=!1;if(r.sync=!0,A0.call(this,r,s,null,a),!l)throw new Error("Sync query should have called done function");return n}},{key:"remove",value:function(r){if(r instanceof Array){for(var n=0;n<r.length;n++)this.remove(r[n]);return this}if(Z_(r))return this.remove(r.statements);var s=this.statementsMatching(r.subject,r.predicate,r.object,r.graph);if(!s.length)throw new Error("Statement to be removed is not on store: "+r);return this.removeStatement(s[0]),this}},{key:"removeDocument",value:function(r){this.removeMetadata(r);for(var n=this.statementsMatching(void 0,void 0,void 0,r).slice(),s=0;s<n.length;s++)this.removeStatement(n[s]);return this.removeMatches(r,null,null),this}},{key:"removeMetadata",value:function(r){for(var n=this.sym("chrome://TheCurrentSession"),s="http://www.w3.org/2007/ont/link#",a=this.statementsMatching(void 0,this.sym("".concat(s,"requestedURI")),this.rdfFactory.literal(r.value),n).map(function(d){return d.subject}),l=0;l<a.length;l++){var u=a[l];if(u!=null){var f=void 0,h=this.any(u,this.sym("".concat(s,"status")),null,n);if(h!=null){f=this.statementsMatching(h,this.sym("".concat(s,"status")),null,n).slice();for(var _=0;_<f.length;_++)this.removeStatement(f[_])}var p=this.any(u,this.sym("".concat(s,"response")),null,n);if(p!=null){f=this.statementsMatching(p,null,null,n).slice();for(var _=0;_<f.length;_++)this.removeStatement(f[_])}f=this.statementsMatching(u,null,null,n).slice();for(var _=0;_<f.length;_++)this.removeStatement(f[_])}}return this.removeMatches(this.sym(r.value),null,null,n),this}},{key:"removeMany",value:function(r,n,s,a,l){for(var u=this.statementsMatching(r,n,s,a,!1),f=[],h=0;h<u.length;h++)f.push(u[h]);for(l&&(f=f.slice(0,l)),h=0;h<f.length;h++)this.remove(f[h])}},{key:"removeMatches",value:function(r,n,s,a){return this.removeMany(r,n,s,a),this}},{key:"removeStatement",value:function(r){for(var n=[r.subject,r.predicate,r.object,r.graph],s=0;s<4;s++){var a=this.canon(n[s]),l=this.id(a);this.index[s][l]&&this.rdfArrayRemove(this.index[s][l],r)}return this.rdfArrayRemove(this.statements,r),this}},{key:"removeStatements",value:function(r){for(var n=0;n<r.length;n++)this.remove(r[n]);return this}},{key:"replaceWith",value:function(r,n){for(var s=this.id(r),a=this.id(n),l=function(h){var _=h[s];if(_){var p=h[a];p?h[a]=_.concat(p):h[a]=_,delete h[s]}},u=0;u<4;u++)l(this.index[u]);if(this.redirections[s]=n,r.value){if(this.aliases[a]||(this.aliases[a]=[]),this.aliases[a].push(r),this.aliases[s])for(u=0;u<this.aliases[s].length;u++)this.redirections[this.id(this.aliases[s][u])]=n,this.aliases[a].push(this.aliases[s][u]);this.add(n,this.sym("http://www.w3.org/2007/ont/link#uri"),r),this.fetcher&&this.fetcher.nowKnownAs(r,n)}return l(this.classActions),l(this.propertyActions),!0}},{key:"allAliases",value:function(r){var n=this.aliases[this.id(this.canon(r))]||[];return n.push(this.canon(r)),n}},{key:"sameThings",value:function(r,n){if(r.equals(n))return!0;var s=this.canon(r);if(!s)return!1;var a=this.canon(n);return a?s.value===a.value:!1}},{key:"setPrefixForURI",value:function(r,n){if(!(r==="tab"&&this.namespaces.tab)&&!(r.slice(0,2)==="ns"||r.slice(0,7)==="default")){for(var s in this.namespaces)this.namespaces[s]==n&&delete this.namespaces[s];this.namespaces[r]=n}}},{key:"statementsMatching",value:function(r,n,s,a,l){var u=[r,n,s,a],f=[],h=[],_=[],p,d;for(p=0;p<4;p++)f[p]=this.canon(Pr.fromValue(u[p])),f[p]&&(_.push(p),h[p]=this.id(f[p]));if(_.length===0)return this.statements;if(_.length===1)return p=_[0],d=this.index[p][h[p]],d&&l&&d.length>1&&(d=d.slice(0,1)),d=d||[],d;var v=1e10,m,b;for(b=0;b<_.length;b++){if(p=_[b],d=this.index[p][h[p]],!d)return[];d.length<v&&(v=d.length,m=b)}for(var A=_[m],U=this.index[A][h[A]],I=_.slice(0,m).concat(_.slice(m+1)),O=[],y=["subject","predicate","object","why"],N=0;N<U.length;N++){var T=U[N];for(b=0;b<I.length;b++)if(p=I[b],!this.canon(T[y[p]]).equals(f[p])){T=null;break}if(T!=null&&(O.push(T),l))break}return O}},{key:"uris",value:function(r){var n=this.canon(r),s=this.aliases[this.id(n)];if(!n.value)return[];var a=[n.value];if(s)for(var l=0;l<s.length;l++)a.push(s[l].uri);return a}},{key:"serialize",value:function(r,n,s,a){var l,u=(l=a)!==null&&l!==void 0&&l.namespaces?oo(oo({},this.namespaces),a.namespaces):oo({},this.namespaces);return a=oo(oo({},a||{}),{},{namespaces:u}),ko(s,this,r,n,void 0,a)}}],[{key:"defaultGraphURI",get:function(){return yo}}])}(j2);et(Fo,"handleRDFType",void 0);Fo.handleRDFType=H2;function bo(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=rS(i))||e){t&&(i=t);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(f){throw f},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,l;return{s:function(){t=t.call(i)},n:function(){var f=t.next();return s=f.done,f},e:function(f){a=!0,l=f},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(a)throw l}}}}function rS(i,e){if(i){if(typeof i=="string")return T0(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return T0(i,e)}}function T0(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}var ws=Rn("http://www.w3.org/1999/02/22-rdf-syntax-ns#");function nS(i,e,t,r){var n=bo(i.statementsMatching(t,null,null,r)),s;try{for(n.s();!(s=n.n()).done;){var a=s.value,l=new Ds(e,a.predicate,a.object,r);i.remove(a),i.add(l)}}catch(v){n.e(v)}finally{n.f()}var u=bo(i.statementsMatching(null,t,null,r)),f;try{for(u.s();!(f=u.n()).done;){var h=f.value;i.remove(h),i.add(new Ds(h.subject,e,h.object,r))}}catch(v){u.e(v)}finally{u.f()}var _=bo(i.statementsMatching(null,null,t,r)),p;try{for(_.s();!(p=_.n()).done;){var d=p.value;i.remove(d),i.add(new Ds(d.subject,d.predicate,e,r))}}catch(v){_.e(v)}finally{_.f()}}function iS(i,e){var t=ws("nil"),r=bo(i.statementsMatching(t,null,null,e)),n;try{for(r.s();!(n=r.n()).done;){var s=n.value;i.remove(s);var a=new Wa;i.add(new Ds(a,s.predicate,s.object,e))}}catch(_){r.e(_)}finally{r.f()}var l=bo(i.statementsMatching(null,null,t,e)),u;try{for(l.s();!(u=l.n()).done;){var f=u.value;if(!f.predicate.sameTerm(ws("rest"))){i.remove(f);var h=new Wa;i.add(new Ds(f.subject,f.predicate,h,e))}}}catch(_){l.e(_)}finally{l.f()}}function aS(i,e){function t(n,s,a){var l=i.statementsMatching(n,ws("rest"),null,e);if(l.length!==1)throw new Error("Bad list structure: no rest at ".concat(n));var u=i.statementsMatching(n,ws("first"),null,e);if(u.length!==1)throw new Error("Bad list structure: rest but ".concat(u.length," firsts at ").concat(n));var f=u[0].object,h=[f].concat(s),_=a.concat(l).concat(u),p=i.statementsMatching(null,ws("rest"),n,e);if(p.length===0){var d=new Wa(h);i.remove(_),nS(i,d,n,e);return}if(p.length!==1)throw new Error("Bad list structure: ".concat(p.length," pres at ").concat(n));var v=p[0].subject;if(v.termType!=="BlankNode")throw new Error("Bad list element node ".concat(v," type: ").concat(v.termType," "));t(v,h,_)}iS(i,e);var r=i.statementsMatching(null,ws("rest"),ws("nil"),e);r.forEach(function(n){if(n.subject.termType!=="BlankNode")throw new Error("Bad list element node ".concat(n.subject," type: ").concat(n.subject.termType," "));t(n.subject,[],[])})}function sS(i){return encodeURI(i)}var lS={encode:function(e){e=e.replace(/\r\n/g,`
`);for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(n&63|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(n&63|128))}return t},decode:function(e){for(var t="",r=0;r<e.length;){var n=e.charCodeAt(r);n<128?(t+=String.fromCharCode(n),r++):n>191&&n<224?(t+=String.fromCharCode((n&31)<<6|e.charCodeAt(r+1)&63),r+=2):(t+=String.fromCharCode((n&15)<<12|(e.charCodeAt(r+1)&63)<<6|e.charCodeAt(r+2)&63),r+=3)}return t}},gh="http://www.w3.org/2000/10/swap/log#",sn=function(e){return e},ln=function(e){return e},uo=function(e){if(e.length>0)throw"missing.js: oops nnonempty dict not imp";return[]},mi=function(e){return e.length},mh=function(e,t,r){if(typeof e.slice>"u")throw"@@ mising.js: No .slice function for "+e+" of type "+ri(e);return typeof r>"u"||r==null?e.slice(t):e.slice(t,r)},_o=Error("dummy error stop iteration"),Qu=function(e){return this.last=0,this.li=e,this.next=function(){if(this.last==this.li.length)throw _o;return this.li[this.last++]},this},bh=function(e,t){return e.indexOf(t)},ms=function(e,t){if(!e)throw t?"python Assertion failed: "+t:"(python) Assertion failed."},oS=function(e){return String.fromCharCode(e)};String.prototype.encode=function(i){if(i!="utf-8")throw"UTF8_converter: can only do utf-8";return lS.encode(this)};String.prototype.decode=function(i){if(i!="utf-8")throw"UTF8_converter: can only do utf-8";return this};var wh=function(e,t){return Ei(t,e)},uS=null,fS="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",N0="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",S0="http://www.w3.org/2002/07/owl#sameAs",cS="#",hS="http://www.w3.org/2001/XMLSchema#integer",dS="http://www.w3.org/2001/XMLSchema#double",pS="http://www.w3.org/2001/XMLSchema#decimal",_S="http://www.w3.org/2001/XMLSchema#date",vS="http://www.w3.org/2001/XMLSchema#dateTime",V2=`	\r
 !"#$%&'()*.,+/;<=>?@[\\]^\`{|}~`,bs=V2+":",yh=new RegExp("^([-+]?[0-9]+)(\\.[0-9]+)?(e[-+]?[0-9]+)?","g"),I0=new RegExp("^[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9](T[0-9][0-9]:[0-9][0-9](:[0-9][0-9](\\.[0-9]*)?)?)?Z?"),Eh=new RegExp('[\\\\\\r\\n\\"]',"g"),Dh=new RegExp("^[a-zA-Z0-9]+(-[a-zA-Z0-9]+)*","g");function Ed(i,e,t,r,n,s,a,l){return new gS(i,e,t,r,n,s,a,l)}var gS=function(){function i(e,t,r,n,s,a,l,u){Hr(this,i),typeof t>"u"&&(t=null),typeof r>"u"&&(r=""),typeof n>"u"&&(n=null),typeof s>"u"&&(s=""),typeof l>"u"&&(l=""),typeof u>"u"&&(u=null),this._bindings=new uo([]),this._flags=l,r!=""&&(ms(r.indexOf(":")>=0,"Document URI not absolute: "+r),this._bindings[""]=r+"#"),this._store=e,s&&e.setGenPrefix(s),this._thisDoc=r,this.source=e.sym(r),this.lines=0,this.statementCount=0,this.hasNil=!1,this.startOfLine=0,this.previousLine=0,this._genPrefix=s,this.keywords=new ln(["a","this","bind","has","is","of","true","false"]),this.keywordsSet=0,this._anonymousNodes=new uo([]),this._variables=new uo([]),this._parentVariables=new uo([]),this._reason=u,this._reason2=null,n?this._baseURI=n:r?this._baseURI=r:this._baseURI=null,ms(!this._baseURI||this._baseURI.indexOf(":")>=0),this._genPrefix||(this._thisDoc?this._genPrefix=this._thisDoc+"#_g":this._genPrefix=RDFSink_uniqueURI()),t==null?this._thisDoc?this._formula=e.formula(r+"#_formula"):this._formula=e.formula():this._formula=t,this._context=this._formula,this._parentContext=null}return xr(i,[{key:"here",value:function(t){return this._genPrefix+"_L"+this.lines+"C"+(t-this.startOfLine+1)}},{key:"formula",value:function(){return this._formula}},{key:"loadStream",value:function(t){return this.loadBuf(t.read())}},{key:"loadBuf",value:function(t){return this.startDoc(),this.feed(t),this.endDoc()}},{key:"feed",value:function(t){for(var r=t.decode("utf-8"),n=0;n>=0;){var s=this.skipSpace(r,n);if(s<0)return;var n=this.directiveOrStatement(r,s);if(n<0)throw Nt(this._thisDoc,this.lines,r,s,"expected directive or statement")}}},{key:"directiveOrStatement",value:function(t,r){var n=this.skipSpace(t,r);if(n<0)return n;var s=this.directive(t,n);if(s>=0)return this.checkDot(t,s);var s=this.statement(t,n);return s>=0?this.checkDot(t,s):s}},{key:"tok",value:function(t,r,n){if(r.slice(n,n+1)=="@")var n=n+1;else if(yi(this.keywords,t)<0)return-1;var s=n+mi(t);return r.slice(n,s)==t&&V2.indexOf(r.charAt(s))>=0?s:-1}},{key:"directive",value:function(t,r){var f=this.skipSpace(t,r);if(f<0)return f;var n=new ln([]),f=this.tok("bind",t,r);if(f>0)throw Nt(this._thisDoc,this.lines,t,r,"keyword bind is obsolete: use @prefix");var f=this.tok("keywords",t,r);if(f>0){var r=this.commaSeparatedList(t,f,n,!1);if(r<0)throw Nt(this._thisDoc,this.lines,t,r,"'@keywords' needs comma separated list of words");return this.setKeywords(mh(n,null,null)),r}var f=this.tok("forAll",t,r);if(f>0){var r=this.commaSeparatedList(t,f,n,!0);if(r<0)throw Nt(this._thisDoc,this.lines,t,r,"Bad variable list after @forAll");var s=new Qu(n);try{for(;;){var a=s.next();(yi(this._variables,a)<0||yi(this._parentVariables,a)>=0)&&(this._variables[a]=this._context.newUniversal(a))}}catch(_){if(_!=_o)throw _}return r}var f=this.tok("forSome",t,r);if(f>0){var r=this.commaSeparatedList(t,f,n,this.uri_ref2);if(r<0)throw Nt(this._thisDoc,this.lines,t,r,"Bad variable list after @forSome");var s=new Qu(n);try{for(;;){var a=s.next();this._context.declareExistential(a)}}catch(p){if(p!=_o)throw p}return r}var f=this.tok("prefix",t,r);if(f>=0){var l=new ln([]),r=this.qname(t,f,l);if(r<0)throw Nt(this._thisDoc,this.lines,t,f,"expected qname after @prefix");var f=this.uri_ref2(t,r,l);if(f<0)throw Nt(this._thisDoc,this.lines,t,r,"expected <uriref> after @prefix _qname_");var u=l[1].uri;if(this._baseURI)var u=wh(this._baseURI,u);else ms(u.indexOf(":")>=0,"With no base URI, cannot handle relative URI for NS");return ms(u.indexOf(":")>=0),this._bindings[l[0][0]]=u,this.bind(l[0][0],sS(u)),f}var f=this.tok("base",t,r);if(f>=0){var l=new ln([]),r=this.uri_ref2(t,f,l);if(r<0)throw Nt(this._thisDoc,this.lines,t,f,"expected <uri> after @base ");var u=l[0].uri;if(this._baseURI)var u=wh(this._baseURI,u);else throw Nt(this._thisDoc,this.lines,t,f,"With no previous base URI, cannot use relative URI in @base  <"+u+">");return ms(u.indexOf(":")>=0),this._baseURI=u,r}return-1}},{key:"bind",value:function(t,r){t==""||this._store.setPrefixForURI(t,r)}},{key:"setKeywords",value:function(t){t==null?this.keywordsSet=0:(this.keywords=t,this.keywordsSet=1)}},{key:"startDoc",value:function(){}},{key:"endDoc",value:function(){return this.hasNil&&this._store.rdfFactory.supports.COLLECTIONS&&aS(this._store,this.source),this._formula}},{key:"makeStatement",value:function(t){t[0].add(t[2],t[1],t[3],this.source),(t[2].uri&&t[2].uri===N0||t[3].uri&&t[3].uri===N0)&&(this.hasNil=!0),this.statementCount+=1}},{key:"statement",value:function(t,s){var n=new ln([]),s=this.object(t,s,n);if(s<0)return s;var a=this.property_list(t,s,n[0]);if(a<0)throw Nt(this._thisDoc,this.lines,t,s,"expected propertylist");return a}},{key:"subject",value:function(t,r,n){return this.item(t,r,n)}},{key:"verb",value:function(t,r,n){var a=this.skipSpace(t,r);if(a<0)return a;var s=new ln([]),a=this.tok("has",t,r);if(a>=0){var r=this.prop(t,a,s);if(r<0)throw Nt(this._thisDoc,this.lines,t,a,"expected property after 'has'");return n.push(new sn(["->",s[0]])),r}var a=this.tok("is",t,r);if(a>=0){var r=this.prop(t,a,s);if(r<0)throw Nt(this._thisDoc,this.lines,t,a,"expected <property> after 'is'");var a=this.skipSpace(t,r);if(a<0)throw Nt(this._thisDoc,this.lines,t,r,"End of file found, expected property after 'is'");var r=a,a=this.tok("of",t,r);if(a<0)throw Nt(this._thisDoc,this.lines,t,r,"expected 'of' after 'is' <prop>");return n.push(new sn(["<-",s[0]])),a}var a=this.tok("a",t,r);if(a>=0)return n.push(new sn(["->",this._store.sym(fS)])),a;if(t.slice(r,r+2)=="<=")return n.push(new sn(["<-",this._store.sym(gh+"implies")])),r+2;if(t.slice(r,r+1)=="=")return t.slice(r+1,r+2)==">"?(n.push(new sn(["->",this._store.sym(gh+"implies")])),r+2):(n.push(new sn(["->",this._store.sym(S0)])),r+1);if(t.slice(r,r+2)==":=")return n.push(new sn(["->",gh+"becomes"])),r+2;var a=this.prop(t,r,s);if(a>=0)return n.push(new sn(["->",s[0]])),a;if(t.slice(r,r+2)==">-"||t.slice(r,r+2)=="<-")throw Nt(this._thisDoc,this.lines,t,a,">- ... -> syntax is obsolete.");return-1}},{key:"prop",value:function(t,r,n){return this.item(t,r,n)}},{key:"item",value:function(t,r,n){return this.path(t,r,n)}},{key:"blankNode",value:function(t){return this._context.bnode(t,this._reason2)}},{key:"path",value:function(t,r,n){var s=this.nodeOrLiteral(t,r,n);if(s<0)return s;for(;"!^.".indexOf(t.slice(s,s+1))>=0;){var a=t.slice(s,s+1);if(a=="."){var l=t.slice(s+1,s+2);if(!l||bs.indexOf(l)>=0&&":?<[{(".indexOf(l)<0)break}var u=n.pop(),f=this.blankNode(this.here(s)),s=this.node(t,s+1,n);if(s<0)throw Nt(this._thisDoc,this.lines,t,s,"EOF found in middle of path syntax");var h=n.pop();a=="^"?this.makeStatement(new sn([this._context,h,f,u])):this.makeStatement(new sn([this._context,h,u,f])),n.push(f)}return s}},{key:"anonymousNode",value:function(t){var r=this._anonymousNodes[t];if(r)return r;var r=this._store.bnode(t);return this._anonymousNodes[t]=r,r}},{key:"node",value:function(t,l,n,s){typeof s>"u"&&(s=null);var a=s,N=this.skipSpace(t,l);if(N<0)return N;var l=N,u=t.slice(l,l+1);if(u=="["){var f=this.here(l),N=this.skipSpace(t,l+1);if(N<0)throw Nt(this._thisDoc,this.lines,t,l,"EOF after '['");if(t.slice(N,N+1)=="="){var l=N+1,h=new ln([]),N=this.objectList(t,l,h);if(N>=0){var a=h[0];if(mi(h)>1){var _=new Qu(h);try{for(;;){var p=_.next();this.makeStatement(new sn([this._context,this._store.sym(S0),a,p]))}}catch(D){if(D!=_o)throw D}}var N=this.skipSpace(t,N);if(N<0)throw Nt(this._thisDoc,this.lines,t,l,"EOF when objectList expected after [ = ");if(t.slice(N,N+1)==";")var N=N+1}else throw Nt(this._thisDoc,this.lines,t,l,"objectList expected after [= ")}if(a==null)var a=this.blankNode(f);var l=this.property_list(t,N,a);if(l<0)throw Nt(this._thisDoc,this.lines,t,N,"property_list expected");var N=this.skipSpace(t,l);if(N<0)throw Nt(this._thisDoc,this.lines,t,l,"EOF when ']' expected after [ <propertyList>");if(t.slice(N,N+1)!="]")throw Nt(this._thisDoc,this.lines,t,N,"']' expected");return n.push(a),N+1}if(u=="{"){var d=t.slice(l+1,l+2);if(d=="$"){l+=1;for(var N=l+1,v=new ln([]),m=!0;;){var l=this.skipSpace(t,N);if(l<0)throw Nt(this._thisDoc,this.lines,t,l,"needed '$}', found end.");if(t.slice(l,l+2)=="$}"){var N=l+2;break}if(m)var m=!1;else if(t.slice(l,l+1)==",")l+=1;else throw Nt(this._thisDoc,this.lines,t,l,"expected: ','");var b=new ln([]),N=this.item(t,l,b);if(N<0)throw Nt(this._thisDoc,this.lines,t,l,"expected item in set or '$}'");v.push(b[0])}return n.push(this._store.newSet(v,this._context)),N}else{var N=l+1,A=this._parentContext;this._parentContext=this._context;var U=this._anonymousNodes,I=this._parentVariables;this._parentVariables=this._variables,this._anonymousNodes=new uo([]),this._variables=this._variables.slice();var O=this._reason2;if(this._reason2=uS,a==null)var a=this._store.formula();for(this._context=a;;){var l=this.skipSpace(t,N);if(l<0)throw Nt(this._thisDoc,this.lines,t,l,"needed '}', found end.");if(t.slice(l,l+1)=="}"){var N=l+1;break}var N=this.directiveOrStatement(t,l);if(N<0)throw Nt(this._thisDoc,this.lines,t,l,"expected statement or '}'")}return this._anonymousNodes=U,this._variables=this._parentVariables,this._parentVariables=I,this._context=this._parentContext,this._reason2=O,this._parentContext=A,n.push(a.close()),N}}if(u=="("){var y=this._store.list,d=t.slice(l+1,l+2);if(d=="$"){var y=this._store.newSet;l+=1}for(var N=l+1,v=new ln([]);;){var l=this.skipSpace(t,N);if(l<0)throw Nt(this._thisDoc,this.lines,t,l,"needed ')', found end.");if(t.slice(l,l+1)==")"){var N=l+1;break}var b=new ln([]),N=this.item(t,l,b);if(N<0)throw Nt(this._thisDoc,this.lines,t,l,"expected item in list or ')'");v.push(b[0])}return n.push(y(v,this._context)),N}var N=this.tok("this",t,l);if(N>=0)throw Nt(this._thisDoc,this.lines,t,l,"Keyword 'this' was ancient N3. Now use @forSome and @forAll keywords.");var N=this.tok("true",t,l);if(N>=0)return n.push(!0),N;var N=this.tok("false",t,l);if(N>=0)return n.push(!1),N;if(a==null){var N=this.uri_ref2(t,l,n);if(N>=0)return N}return-1}},{key:"property_list",value:function(t,r,n){for(;;){var d=this.skipSpace(t,r);if(d<0)throw Nt(this._thisDoc,this.lines,t,r,"EOF found when expected verb in property list");if(t.slice(d,d+2)==":-"){var r=d+2,s=new ln([]),d=this.node(t,r,s,n);if(d<0)throw Nt(this._thisDoc,this.lines,t,r,"bad {} or () or [] node after :- ");var r=d;continue}var r=d,a=new ln([]),d=this.verb(t,r,a);if(d<=0)return r;var l=new ln([]),r=this.objectList(t,d,l);if(r<0)throw Nt(this._thisDoc,this.lines,t,d,"objectList expected");var u=new Qu(l);try{for(;;){var f=u.next(),h=a[0],_=h[0],p=h[1];_=="->"?this.makeStatement(new sn([this._context,p,n,f])):this.makeStatement(new sn([this._context,p,f,n]))}}catch(m){if(m!=_o)throw m}var d=this.skipSpace(t,r);if(d<0)throw Nt(this._thisDoc,this.lines,t,d,"EOF found in list of objects");if(t.slice(r,r+1)!=";")return r;var r=r+1}}},{key:"commaSeparatedList",value:function(t,r,n,s){var a=this.skipSpace(t,r);if(a<0)throw Nt(this._thisDoc,this.lines,t,a,"EOF found expecting comma sep list");if(t.charAt(a)==".")return r;if(s)var a=this.uri_ref2(t,a,n);else var a=this.bareWord(t,a,n);if(a<0)return-1;for(;;){var r=this.skipSpace(t,a);if(r<0)return r;var l=t.slice(r,r+1);if(l!=",")return l!="."?-1:r;if(s)var a=this.uri_ref2(t,r+1,n);else var a=this.bareWord(t,r+1,n);if(a<0)throw Nt(this._thisDoc,this.lines,t,a,"bad list content")}}},{key:"objectList",value:function(t,s,n){var s=this.object(t,s,n);if(s<0)return-1;for(;;){var a=this.skipSpace(t,s);if(a<0)throw Nt(this._thisDoc,this.lines,t,a,"EOF found after object");if(t.slice(a,a+1)!=",")return a;var s=this.object(t,a+1,n);if(s<0)return s}}},{key:"checkDot",value:function(t,r){var n=this.skipSpace(t,r);if(n<0)return n;if(t.slice(n,n+1)==".")return n+1;if(t.slice(n,n+1)=="}"||t.slice(n,n+1)=="]")return n;throw Nt(this._thisDoc,this.lines,t,n,"expected '.' or '}' or ']' at end of statement")}},{key:"uri_ref2",value:function(t,p,n){var s=new ln([]),a=this.qname(t,p,s);if(a>=0){var l=s[0],u=l[0],f=l[1];if(u==null){ms(0,"not used?");var h=this._baseURI+cS}else{var h=this._bindings[u];if(!h){if(u=="_")return n.push(this.anonymousNode(f)),a;throw Nt(this._thisDoc,this.lines,t,p,"Prefix "+u+" not bound.")}}var _=this._store.sym(h+f);return yi(this._variables,_)>=0?n.push(this._variables[_]):n.push(_),a}var p=this.skipSpace(t,p);if(p<0)return-1;if(t.charAt(p)=="?"){var d=new ln([]),a=this.variable(t,p,d);return a>0?(n.push(d[0]),a):-1}else if(t.charAt(p)=="<"){for(var p=p+1,v=p;p<mi(t);){if(t.charAt(p)==">"){var m=t.slice(v,p);if(this._baseURI)var m=wh(this._baseURI,m);else ms(m.indexOf(":")>=0,"With no base URI, cannot deal with relative URIs");if(t.slice(p-1,p)=="#"&&mh(m,-1,null)!="#")var m=m+"#";var _=this._store.sym(m);return yi(this._variables,_)>=0?n.push(this._variables[_]):n.push(_),p+1}var p=p+1}throw Nt(this._thisDoc,this.lines,t,a,"unterminated URI reference")}else if(this.keywordsSet){var d=new ln([]),a=this.bareWord(t,p,d);if(a<0)return-1;if(yi(this.keywords,d[0])>=0)throw Nt(this._thisDoc,this.lines,t,p,'Keyword "'+d[0]+'" not allowed here.');return n.push(this._store.sym(this._bindings[""]+d[0])),a}else return-1}},{key:"skipSpace",value:function(t,r){for(var n=` 
\r	\f\v\u2028\u2029`,s=r||0;s<t.length;s++){var a=t.charAt(s);if(n.indexOf(a)<0)if(t.charAt(s)==="#")for(;;s++){if(s===t.length)return-1;if(t.charAt(s)===`
`){this.lines=this.lines+1;break}}else return s;else t.charAt(s)===`
`&&(this.lines=this.lines+1)}return-1}},{key:"variable",value:function(t,a,n){var s=this.skipSpace(t,a);if(s<0||t.slice(s,s+1)!="?")return-1;var s=s+1,a=s;if("0123456789-".indexOf(t.charAt(s))>=0)throw Nt(this._thisDoc,this.lines,t,s,"Varible name can't start with '"+t.charAt(s)+"s'");for(;a<mi(t)&&bs.indexOf(t.charAt(a))<0;)var a=a+1;if(this._parentContext==null)throw Nt(this._thisDoc,this.lines,t,s,"Can't use ?xxx syntax for variable in outermost level: "+t.slice(s-1,a));return n.push(this._store.variable(t.slice(s,a))),a}},{key:"bareWord",value:function(t,l,n){var s=this.skipSpace(t,l);if(s<0)return-1;var a=t.charAt(s);if("0123456789-".indexOf(a)>=0||bs.indexOf(a)>=0)return-1;for(var l=s;l<mi(t)&&bs.indexOf(t.charAt(l))<0;)var l=l+1;return n.push(t.slice(s,l)),l}},{key:"qname",value:function(t,s,n){var s=this.skipSpace(t,s);if(s<0)return-1;var a=t.charAt(s);if("0123456789-+".indexOf(a)>=0)return-1;if(bs.indexOf(a)<0)for(var l=a,s=s+1;s<mi(t);){var a=t.charAt(s);if(bs.indexOf(a)<0)var l=l+a,s=s+1;else break}else var l="";if(s<mi(t)&&t.charAt(s)==":"){for(var u=l,s=s+1,l="";s<mi(t);){var a=t.charAt(s);if(bs.indexOf(a)<0)var l=l+a,s=s+1;else break}return n.push(new sn([u,l])),s}else return l&&this.keywordsSet&&yi(this.keywords,l)<0?(n.push(new sn(["",l])),s):-1}},{key:"object",value:function(t,r,n){var s=this.subject(t,r,n);if(s>=0)return s;var s=this.skipSpace(t,r);if(s<0)return-1;var r=s,a=null,l=t.charAt(r);if(l=='"'||l=="'"){t.slice(r,r+3==l+l)?a=l+l+l:a=l;var r=r+mi(a),u=this.strconst(t,r,a),s=u[0],f=u[1];return n.push(this._store.literal(f)),s}else return-1}},{key:"nodeOrLiteral",value:function(t,r,n){var s=this.node(t,r,n);if(s>=0)return s;var s=this.skipSpace(t,r);if(s<0)return-1;var r=s,a=t.charAt(r);if("-+0987654321".indexOf(a)>=0){I0.lastIndex=0;var l=I0.exec(t.slice(r));if(l!=null){var u=l[0];s=r+u.length,u.indexOf("T")>=0?n.push(this._store.literal(u,this._store.sym(vS))):n.push(this._store.literal(u,this._store.sym(_S)))}else{yh.lastIndex=0;var l=yh.exec(t.slice(r));if(l==null)throw Nt(this._thisDoc,this.lines,t,r,"Bad number or date syntax");s=r+yh.lastIndex;var u=t.slice(r,s);u.indexOf("e")>=0?n.push(this._store.literal(parseFloat(u),this._store.sym(dS))):t.slice(r,s).indexOf(".")>=0?n.push(this._store.literal(parseFloat(u),this._store.sym(pS))):n.push(this._store.literal(parseInt(u),this._store.sym(hS)))}return s}if(t.charAt(r)=='"'){if(t.slice(r,r+3)=='"""')var f='"""';else var f='"';var r=r+mi(f),h=null,_=this.strconst(t,r,f),s=_[0],p=_[1],d=null;if(t.slice(s,s+1)=="@"){Dh.lastIndex=0;var l=Dh.exec(t.slice(s+1));if(l==null)throw Nt(this._thisDoc,startline,t,r,"Bad language code syntax on string literal, after @");var r=Dh.lastIndex+s+1,d=t.slice(s+1,r),s=r}if(t.slice(s,s+2)=="^^")var v=new ln([]),s=this.uri_ref2(t,s+2,v),h=v[0];return n.push(this._store.literal(p,d||h)),s}else return-1}},{key:"strconst",value:function(t,r,n){for(var s=r,a="",l=this.lines;s<mi(t);){var r=s+mi(n);if(t.slice(s,r)==n)return new sn([r,a]);if(t.charAt(s)=='"'){var a=a+'"',s=s+1;continue}Eh.lastIndex=0;var u=Eh.exec(t.slice(s));if(!u)throw Nt(this._thisDoc,l,t,s,"Closing quote missing in string at ^ in "+t.slice(s-20,s)+"^"+t.slice(s,s+20));var r=s+Eh.lastIndex-1,a=a+t.slice(s,r),f=t.charAt(r);if(f=='"'){var s=r;continue}else if(f=="\r"){var s=r+1;continue}else if(f==`
`){if(n=='"')throw Nt(this._thisDoc,l,t,r,"newline found in string literal");this.lines=this.lines+1;var a=a+f,s=r+1;this.previousLine=this.startOfLine,this.startOfLine=s}else if(f=="\\"){var s=r+1,f=t.slice(s,s+1);if(!f)throw Nt(this._thisDoc,l,t,r,"unterminated string literal (2)");var h=bh('abfrtvn\\"',f);if(h>=0)var _=`a\b\f\r	\v
\\"`.charAt(h),a=a+_,s=s+1;else if(f=="u")var p=this.uEscape(t,s+1,l),s=p[0],f=p[1],a=a+f;else if(f=="U")var p=this.UEscape(t,s+1,l),s=p[0],f=p[1],a=a+f;else throw Nt(this._thisDoc,this.lines,t,r,"bad escape")}}throw Nt(this._thisDoc,this.lines,t,r,"unterminated string literal")}},{key:"uEscape",value:function(t,r,n){for(var s=r,a=0,l=0;a<4;){var u=t.slice(s,s+1),f=u.toLowerCase(),s=s+1;if(f=="")throw Nt(this._thisDoc,n,t,r,"unterminated string literal(3)");var h=bh("0123456789abcdef",f);if(h<0)throw Nt(this._thisDoc,n,t,r,"bad string literal hex escape");var l=l*16+h,a=a+1}var _=String.fromCharCode(l);return new sn([s,_])}},{key:"UEscape",value:function(t,r,n){for(var s=r,a=0,l="\\U";a<8;){var u=t.slice(s,s+1),f=u.toLowerCase(),s=s+1;if(f=="")throw Nt(this._thisDoc,n,t,r,"unterminated string literal(3)");var h=bh("0123456789abcdef",f);if(h<0)throw Nt(this._thisDoc,n,t,r,"bad string literal hex escape");var l=l+f,a=a+1}var _=oS("0x"+mh(l,2,10)-0);return new sn([s,_])}}])}();function Nt(i,e,t,r,n){var s=e+1,a="Line "+s+" of <"+i+">: Bad syntax: "+n+`
at: "`+t.slice(r,r+30)+'"',l=new SyntaxError(a,i,s);return l.lineNo=s,l.characterInFile=r,l.syntaxProblem=n,l}function R0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function P0(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?R0(Object(t),!0).forEach(function(r){et(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):R0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var Gh=P0(P0({},Pi),{},{supports:et(et(et(et(et(et(et({},xn.collections,!0),xn.defaultGraphType,!1),xn.equalsMethod,!0),xn.identity,!1),xn.id,!0),xn.reversibleId,!1),xn.variableType,!0),collection:function(e){return new Wa(e)},id:function(e){var t=this;return fd(e)?"( ".concat(e.elements.map(function(r){return t.id(r)}).join(", ")," )"):QT(e)?Ts.toString(e):Pi.id(e)},termToNQ:function(e){return e.termType===Ja?Wa.toNT(e):Pi.termToNQ(e)}});function Dd(i,e){return typeof e=="string"?i.rdfFactory.literal(e):Object.prototype.hasOwnProperty.call(e,"@list")?i.rdfFactory.supports.COLLECTIONS===!0?bS(i,e["@list"]):mS(i,e):Object.prototype.hasOwnProperty.call(e,"@id")?Ad(i,e):Object.prototype.hasOwnProperty.call(e,"@language")?i.rdfFactory.literal(e["@value"],e["@language"]):Object.prototype.hasOwnProperty.call(e,"@type")?i.rdfFactory.literal(e["@value"],i.rdfFactory.namedNode(e["@type"])):Object.prototype.hasOwnProperty.call(e,"@value")?i.rdfFactory.literal(e["@value"]):i.rdfFactory.literal(e)}function mS(i,e){var t=e["@id"]?Ad(i,e):i.rdfFactory.blankNode(),r=e["@list"].map(function(s){return Dd(i,s)}),n=M2(i.rdfFactory,t,r);return i.addAll(n),t}function bS(i,e){if(!Array.isArray(e))throw new TypeError("Object must be an array");return i.rdfFactory.collection(e.map(function(t){return Dd(i,t)}))}function z2(i,e,t,r){var n=t&&Object.prototype.hasOwnProperty.call(t,"termType")?t.value:t;return GA(()=>import("../chunks/jsonld.CYnguqZs.js").then(s=>s.j),__vite__mapDeps([0,1,2]),import.meta.url).then(function(s){return s.flatten(JSON.parse(i),null,{base:n})}).then(function(s){return s.reduce(function(a,l){return e=$2(e,t,l),e},e)}).then(r).catch(r)}function Ad(i,e){return e["@id"].startsWith("_:")?i.rdfFactory.blankNode(e["@id"].substring(2)):i.rdfFactory.namedNode(e["@id"])}function $2(i,e,t){for(var r=t["@id"]?Ad(i,t):i.rdfFactory.blankNode(),n=0,s=Object.keys(t);n<s.length;n++){var a=s[n];if(a!=="@id"){if(a=="@graph")for(var l=r,u=t[a],f=0;f<u.length;f++)i=$2(i,l,u[f]);var h=t[a];if(Array.isArray(h))for(var _=0;_<h.length;_++)i.addStatement(F0(i,r,a,h[_],e));else i.addStatement(F0(i,r,a,h,e))}}return i}function F0(i,e,t,r,n){var s,a;return t==="@type"?(s=i.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),a=i.rdfFactory.namedNode(r)):(s=i.rdfFactory.namedNode(t),a=Dd(i,r)),i.rdfFactory.quad(e,s,a,i.rdfFactory.namedNode(n))}var G2={},Bf={};Bf.byteLength=ES;Bf.toByteArray=AS;Bf.fromByteArray=TS;var Xi=[],wi=[],wS=typeof Uint8Array<"u"?Uint8Array:Array,Ah="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ll=0,yS=Ah.length;ll<yS;++ll)Xi[ll]=Ah[ll],wi[Ah.charCodeAt(ll)]=ll;wi[45]=62;wi[95]=63;function X2(i){var e=i.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=i.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function ES(i){var e=X2(i),t=e[0],r=e[1];return(t+r)*3/4-r}function DS(i,e,t){return(e+t)*3/4-t}function AS(i){var e,t=X2(i),r=t[0],n=t[1],s=new wS(DS(i,r,n)),a=0,l=n>0?r-4:r,u;for(u=0;u<l;u+=4)e=wi[i.charCodeAt(u)]<<18|wi[i.charCodeAt(u+1)]<<12|wi[i.charCodeAt(u+2)]<<6|wi[i.charCodeAt(u+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return n===2&&(e=wi[i.charCodeAt(u)]<<2|wi[i.charCodeAt(u+1)]>>4,s[a++]=e&255),n===1&&(e=wi[i.charCodeAt(u)]<<10|wi[i.charCodeAt(u+1)]<<4|wi[i.charCodeAt(u+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function kS(i){return Xi[i>>18&63]+Xi[i>>12&63]+Xi[i>>6&63]+Xi[i&63]}function CS(i,e,t){for(var r,n=[],s=e;s<t;s+=3)r=(i[s]<<16&16711680)+(i[s+1]<<8&65280)+(i[s+2]&255),n.push(kS(r));return n.join("")}function TS(i){for(var e,t=i.length,r=t%3,n=[],s=16383,a=0,l=t-r;a<l;a+=s)n.push(CS(i,a,a+s>l?l:a+s));return r===1?(e=i[t-1],n.push(Xi[e>>2]+Xi[e<<4&63]+"==")):r===2&&(e=(i[t-2]<<8)+i[t-1],n.push(Xi[e>>10]+Xi[e>>4&63]+Xi[e<<2&63]+"=")),n.join("")}var kd={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */kd.read=function(i,e,t,r,n){var s,a,l=n*8-r-1,u=(1<<l)-1,f=u>>1,h=-7,_=t?n-1:0,p=t?-1:1,d=i[e+_];for(_+=p,s=d&(1<<-h)-1,d>>=-h,h+=l;h>0;s=s*256+i[e+_],_+=p,h-=8);for(a=s&(1<<-h)-1,s>>=-h,h+=r;h>0;a=a*256+i[e+_],_+=p,h-=8);if(s===0)s=1-f;else{if(s===u)return a?NaN:(d?-1:1)*(1/0);a=a+Math.pow(2,r),s=s-f}return(d?-1:1)*a*Math.pow(2,s-r)};kd.write=function(i,e,t,r,n,s){var a,l,u,f=s*8-n-1,h=(1<<f)-1,_=h>>1,p=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,v=r?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+_>=1?e+=p/u:e+=p*Math.pow(2,1-_),e*u>=2&&(a++,u/=2),a+_>=h?(l=0,a=h):a+_>=1?(l=(e*u-1)*Math.pow(2,n),a=a+_):(l=e*Math.pow(2,_-1)*Math.pow(2,n),a=0));n>=8;i[t+d]=l&255,d+=v,l/=256,n-=8);for(a=a<<n|l,f+=n;f>0;i[t+d]=a&255,d+=v,a/=256,f-=8);i[t+d-v]|=m*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(i){const e=Bf,t=kd,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;i.Buffer=l,i.SlowBuffer=U,i.INSPECT_MAX_BYTES=50;const n=2147483647;i.kMaxLength=n,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const K=new Uint8Array(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,Uint8Array.prototype),Object.setPrototypeOf(K,S),K.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function a(K){if(K>n)throw new RangeError('The value "'+K+'" is invalid for option "size"');const S=new Uint8Array(K);return Object.setPrototypeOf(S,l.prototype),S}function l(K,S,M){if(typeof K=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(K)}return u(K,S,M)}l.poolSize=8192;function u(K,S,M){if(typeof K=="string")return p(K,S);if(ArrayBuffer.isView(K))return v(K);if(K==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(Ft(K,ArrayBuffer)||K&&Ft(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ft(K,SharedArrayBuffer)||K&&Ft(K.buffer,SharedArrayBuffer)))return m(K,S,M);if(typeof K=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Z=K.valueOf&&K.valueOf();if(Z!=null&&Z!==K)return l.from(Z,S,M);const _e=b(K);if(_e)return _e;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof K[Symbol.toPrimitive]=="function")return l.from(K[Symbol.toPrimitive]("string"),S,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}l.from=function(K,S,M){return u(K,S,M)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function f(K){if(typeof K!="number")throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function h(K,S,M){return f(K),K<=0?a(K):S!==void 0?typeof M=="string"?a(K).fill(S,M):a(K).fill(S):a(K)}l.alloc=function(K,S,M){return h(K,S,M)};function _(K){return f(K),a(K<0?0:A(K)|0)}l.allocUnsafe=function(K){return _(K)},l.allocUnsafeSlow=function(K){return _(K)};function p(K,S){if((typeof S!="string"||S==="")&&(S="utf8"),!l.isEncoding(S))throw new TypeError("Unknown encoding: "+S);const M=I(K,S)|0;let Z=a(M);const _e=Z.write(K,S);return _e!==M&&(Z=Z.slice(0,_e)),Z}function d(K){const S=K.length<0?0:A(K.length)|0,M=a(S);for(let Z=0;Z<S;Z+=1)M[Z]=K[Z]&255;return M}function v(K){if(Ft(K,Uint8Array)){const S=new Uint8Array(K);return m(S.buffer,S.byteOffset,S.byteLength)}return d(K)}function m(K,S,M){if(S<0||K.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<S+(M||0))throw new RangeError('"length" is outside of buffer bounds');let Z;return S===void 0&&M===void 0?Z=new Uint8Array(K):M===void 0?Z=new Uint8Array(K,S):Z=new Uint8Array(K,S,M),Object.setPrototypeOf(Z,l.prototype),Z}function b(K){if(l.isBuffer(K)){const S=A(K.length)|0,M=a(S);return M.length===0||K.copy(M,0,0,S),M}if(K.length!==void 0)return typeof K.length!="number"||jt(K.length)?a(0):d(K);if(K.type==="Buffer"&&Array.isArray(K.data))return d(K.data)}function A(K){if(K>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return K|0}function U(K){return+K!=K&&(K=0),l.alloc(+K)}l.isBuffer=function(S){return S!=null&&S._isBuffer===!0&&S!==l.prototype},l.compare=function(S,M){if(Ft(S,Uint8Array)&&(S=l.from(S,S.offset,S.byteLength)),Ft(M,Uint8Array)&&(M=l.from(M,M.offset,M.byteLength)),!l.isBuffer(S)||!l.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(S===M)return 0;let Z=S.length,_e=M.length;for(let Ie=0,Ue=Math.min(Z,_e);Ie<Ue;++Ie)if(S[Ie]!==M[Ie]){Z=S[Ie],_e=M[Ie];break}return Z<_e?-1:_e<Z?1:0},l.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(S,M){if(!Array.isArray(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return l.alloc(0);let Z;if(M===void 0)for(M=0,Z=0;Z<S.length;++Z)M+=S[Z].length;const _e=l.allocUnsafe(M);let Ie=0;for(Z=0;Z<S.length;++Z){let Ue=S[Z];if(Ft(Ue,Uint8Array))Ie+Ue.length>_e.length?(l.isBuffer(Ue)||(Ue=l.from(Ue)),Ue.copy(_e,Ie)):Uint8Array.prototype.set.call(_e,Ue,Ie);else if(l.isBuffer(Ue))Ue.copy(_e,Ie);else throw new TypeError('"list" argument must be an Array of Buffers');Ie+=Ue.length}return _e};function I(K,S){if(l.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||Ft(K,ArrayBuffer))return K.byteLength;if(typeof K!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);const M=K.length,Z=arguments.length>2&&arguments[2]===!0;if(!Z&&M===0)return 0;let _e=!1;for(;;)switch(S){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return ir(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M*2;case"hex":return M>>>1;case"base64":return pr(K).length;default:if(_e)return Z?-1:ir(K).length;S=(""+S).toLowerCase(),_e=!0}}l.byteLength=I;function O(K,S,M){let Z=!1;if((S===void 0||S<0)&&(S=0),S>this.length||((M===void 0||M>this.length)&&(M=this.length),M<=0)||(M>>>=0,S>>>=0,M<=S))return"";for(K||(K="utf8");;)switch(K){case"hex":return te(this,S,M);case"utf8":case"utf-8":return P(this,S,M);case"ascii":return oe(this,S,M);case"latin1":case"binary":return re(this,S,M);case"base64":return D(this,S,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,S,M);default:if(Z)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),Z=!0}}l.prototype._isBuffer=!0;function y(K,S,M){const Z=K[S];K[S]=K[M],K[M]=Z}l.prototype.swap16=function(){const S=this.length;if(S%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<S;M+=2)y(this,M,M+1);return this},l.prototype.swap32=function(){const S=this.length;if(S%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<S;M+=4)y(this,M,M+3),y(this,M+1,M+2);return this},l.prototype.swap64=function(){const S=this.length;if(S%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<S;M+=8)y(this,M,M+7),y(this,M+1,M+6),y(this,M+2,M+5),y(this,M+3,M+4);return this},l.prototype.toString=function(){const S=this.length;return S===0?"":arguments.length===0?P(this,0,S):O.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(S){if(!l.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S?!0:l.compare(this,S)===0},l.prototype.inspect=function(){let S="";const M=i.INSPECT_MAX_BYTES;return S=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(S+=" ... "),"<Buffer "+S+">"},r&&(l.prototype[r]=l.prototype.inspect),l.prototype.compare=function(S,M,Z,_e,Ie){if(Ft(S,Uint8Array)&&(S=l.from(S,S.offset,S.byteLength)),!l.isBuffer(S))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof S);if(M===void 0&&(M=0),Z===void 0&&(Z=S?S.length:0),_e===void 0&&(_e=0),Ie===void 0&&(Ie=this.length),M<0||Z>S.length||_e<0||Ie>this.length)throw new RangeError("out of range index");if(_e>=Ie&&M>=Z)return 0;if(_e>=Ie)return-1;if(M>=Z)return 1;if(M>>>=0,Z>>>=0,_e>>>=0,Ie>>>=0,this===S)return 0;let Ue=Ie-_e,ct=Z-M;const wt=Math.min(Ue,ct),pt=this.slice(_e,Ie),mt=S.slice(M,Z);for(let Ve=0;Ve<wt;++Ve)if(pt[Ve]!==mt[Ve]){Ue=pt[Ve],ct=mt[Ve];break}return Ue<ct?-1:ct<Ue?1:0};function N(K,S,M,Z,_e){if(K.length===0)return-1;if(typeof M=="string"?(Z=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),M=+M,jt(M)&&(M=_e?0:K.length-1),M<0&&(M=K.length+M),M>=K.length){if(_e)return-1;M=K.length-1}else if(M<0)if(_e)M=0;else return-1;if(typeof S=="string"&&(S=l.from(S,Z)),l.isBuffer(S))return S.length===0?-1:T(K,S,M,Z,_e);if(typeof S=="number")return S=S&255,typeof Uint8Array.prototype.indexOf=="function"?_e?Uint8Array.prototype.indexOf.call(K,S,M):Uint8Array.prototype.lastIndexOf.call(K,S,M):T(K,[S],M,Z,_e);throw new TypeError("val must be string, number or Buffer")}function T(K,S,M,Z,_e){let Ie=1,Ue=K.length,ct=S.length;if(Z!==void 0&&(Z=String(Z).toLowerCase(),Z==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if(K.length<2||S.length<2)return-1;Ie=2,Ue/=2,ct/=2,M/=2}function wt(mt,Ve){return Ie===1?mt[Ve]:mt.readUInt16BE(Ve*Ie)}let pt;if(_e){let mt=-1;for(pt=M;pt<Ue;pt++)if(wt(K,pt)===wt(S,mt===-1?0:pt-mt)){if(mt===-1&&(mt=pt),pt-mt+1===ct)return mt*Ie}else mt!==-1&&(pt-=pt-mt),mt=-1}else for(M+ct>Ue&&(M=Ue-ct),pt=M;pt>=0;pt--){let mt=!0;for(let Ve=0;Ve<ct;Ve++)if(wt(K,pt+Ve)!==wt(S,Ve)){mt=!1;break}if(mt)return pt}return-1}l.prototype.includes=function(S,M,Z){return this.indexOf(S,M,Z)!==-1},l.prototype.indexOf=function(S,M,Z){return N(this,S,M,Z,!0)},l.prototype.lastIndexOf=function(S,M,Z){return N(this,S,M,Z,!1)};function j(K,S,M,Z){M=Number(M)||0;const _e=K.length-M;Z?(Z=Number(Z),Z>_e&&(Z=_e)):Z=_e;const Ie=S.length;Z>Ie/2&&(Z=Ie/2);let Ue;for(Ue=0;Ue<Z;++Ue){const ct=parseInt(S.substr(Ue*2,2),16);if(jt(ct))return Ue;K[M+Ue]=ct}return Ue}function F(K,S,M,Z){return rr(ir(S,K.length-M),K,M,Z)}function q(K,S,M,Z){return rr(lr(S),K,M,Z)}function k(K,S,M,Z){return rr(pr(S),K,M,Z)}function L(K,S,M,Z){return rr(or(S,K.length-M),K,M,Z)}l.prototype.write=function(S,M,Z,_e){if(M===void 0)_e="utf8",Z=this.length,M=0;else if(Z===void 0&&typeof M=="string")_e=M,Z=this.length,M=0;else if(isFinite(M))M=M>>>0,isFinite(Z)?(Z=Z>>>0,_e===void 0&&(_e="utf8")):(_e=Z,Z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ie=this.length-M;if((Z===void 0||Z>Ie)&&(Z=Ie),S.length>0&&(Z<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");_e||(_e="utf8");let Ue=!1;for(;;)switch(_e){case"hex":return j(this,S,M,Z);case"utf8":case"utf-8":return F(this,S,M,Z);case"ascii":case"latin1":case"binary":return q(this,S,M,Z);case"base64":return k(this,S,M,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,S,M,Z);default:if(Ue)throw new TypeError("Unknown encoding: "+_e);_e=(""+_e).toLowerCase(),Ue=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function D(K,S,M){return S===0&&M===K.length?e.fromByteArray(K):e.fromByteArray(K.slice(S,M))}function P(K,S,M){M=Math.min(K.length,M);const Z=[];let _e=S;for(;_e<M;){const Ie=K[_e];let Ue=null,ct=Ie>239?4:Ie>223?3:Ie>191?2:1;if(_e+ct<=M){let wt,pt,mt,Ve;switch(ct){case 1:Ie<128&&(Ue=Ie);break;case 2:wt=K[_e+1],(wt&192)===128&&(Ve=(Ie&31)<<6|wt&63,Ve>127&&(Ue=Ve));break;case 3:wt=K[_e+1],pt=K[_e+2],(wt&192)===128&&(pt&192)===128&&(Ve=(Ie&15)<<12|(wt&63)<<6|pt&63,Ve>2047&&(Ve<55296||Ve>57343)&&(Ue=Ve));break;case 4:wt=K[_e+1],pt=K[_e+2],mt=K[_e+3],(wt&192)===128&&(pt&192)===128&&(mt&192)===128&&(Ve=(Ie&15)<<18|(wt&63)<<12|(pt&63)<<6|mt&63,Ve>65535&&Ve<1114112&&(Ue=Ve))}}Ue===null?(Ue=65533,ct=1):Ue>65535&&(Ue-=65536,Z.push(Ue>>>10&1023|55296),Ue=56320|Ue&1023),Z.push(Ue),_e+=ct}return H(Z)}const Q=4096;function H(K){const S=K.length;if(S<=Q)return String.fromCharCode.apply(String,K);let M="",Z=0;for(;Z<S;)M+=String.fromCharCode.apply(String,K.slice(Z,Z+=Q));return M}function oe(K,S,M){let Z="";M=Math.min(K.length,M);for(let _e=S;_e<M;++_e)Z+=String.fromCharCode(K[_e]&127);return Z}function re(K,S,M){let Z="";M=Math.min(K.length,M);for(let _e=S;_e<M;++_e)Z+=String.fromCharCode(K[_e]);return Z}function te(K,S,M){const Z=K.length;(!S||S<0)&&(S=0),(!M||M<0||M>Z)&&(M=Z);let _e="";for(let Ie=S;Ie<M;++Ie)_e+=_r[K[Ie]];return _e}function $(K,S,M){const Z=K.slice(S,M);let _e="";for(let Ie=0;Ie<Z.length-1;Ie+=2)_e+=String.fromCharCode(Z[Ie]+Z[Ie+1]*256);return _e}l.prototype.slice=function(S,M){const Z=this.length;S=~~S,M=M===void 0?Z:~~M,S<0?(S+=Z,S<0&&(S=0)):S>Z&&(S=Z),M<0?(M+=Z,M<0&&(M=0)):M>Z&&(M=Z),M<S&&(M=S);const _e=this.subarray(S,M);return Object.setPrototypeOf(_e,l.prototype),_e};function W(K,S,M){if(K%1!==0||K<0)throw new RangeError("offset is not uint");if(K+S>M)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(S,M,Z){S=S>>>0,M=M>>>0,Z||W(S,M,this.length);let _e=this[S],Ie=1,Ue=0;for(;++Ue<M&&(Ie*=256);)_e+=this[S+Ue]*Ie;return _e},l.prototype.readUintBE=l.prototype.readUIntBE=function(S,M,Z){S=S>>>0,M=M>>>0,Z||W(S,M,this.length);let _e=this[S+--M],Ie=1;for(;M>0&&(Ie*=256);)_e+=this[S+--M]*Ie;return _e},l.prototype.readUint8=l.prototype.readUInt8=function(S,M){return S=S>>>0,M||W(S,1,this.length),this[S]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(S,M){return S=S>>>0,M||W(S,2,this.length),this[S]|this[S+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(S,M){return S=S>>>0,M||W(S,2,this.length),this[S]<<8|this[S+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(S,M){return S=S>>>0,M||W(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+this[S+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(S,M){return S=S>>>0,M||W(S,4,this.length),this[S]*16777216+(this[S+1]<<16|this[S+2]<<8|this[S+3])},l.prototype.readBigUInt64LE=vr(function(S){S=S>>>0,rt(S,"offset");const M=this[S],Z=this[S+7];(M===void 0||Z===void 0)&&me(S,this.length-8);const _e=M+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24,Ie=this[++S]+this[++S]*2**8+this[++S]*2**16+Z*2**24;return BigInt(_e)+(BigInt(Ie)<<BigInt(32))}),l.prototype.readBigUInt64BE=vr(function(S){S=S>>>0,rt(S,"offset");const M=this[S],Z=this[S+7];(M===void 0||Z===void 0)&&me(S,this.length-8);const _e=M*2**24+this[++S]*2**16+this[++S]*2**8+this[++S],Ie=this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+Z;return(BigInt(_e)<<BigInt(32))+BigInt(Ie)}),l.prototype.readIntLE=function(S,M,Z){S=S>>>0,M=M>>>0,Z||W(S,M,this.length);let _e=this[S],Ie=1,Ue=0;for(;++Ue<M&&(Ie*=256);)_e+=this[S+Ue]*Ie;return Ie*=128,_e>=Ie&&(_e-=Math.pow(2,8*M)),_e},l.prototype.readIntBE=function(S,M,Z){S=S>>>0,M=M>>>0,Z||W(S,M,this.length);let _e=M,Ie=1,Ue=this[S+--_e];for(;_e>0&&(Ie*=256);)Ue+=this[S+--_e]*Ie;return Ie*=128,Ue>=Ie&&(Ue-=Math.pow(2,8*M)),Ue},l.prototype.readInt8=function(S,M){return S=S>>>0,M||W(S,1,this.length),this[S]&128?(255-this[S]+1)*-1:this[S]},l.prototype.readInt16LE=function(S,M){S=S>>>0,M||W(S,2,this.length);const Z=this[S]|this[S+1]<<8;return Z&32768?Z|4294901760:Z},l.prototype.readInt16BE=function(S,M){S=S>>>0,M||W(S,2,this.length);const Z=this[S+1]|this[S]<<8;return Z&32768?Z|4294901760:Z},l.prototype.readInt32LE=function(S,M){return S=S>>>0,M||W(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},l.prototype.readInt32BE=function(S,M){return S=S>>>0,M||W(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},l.prototype.readBigInt64LE=vr(function(S){S=S>>>0,rt(S,"offset");const M=this[S],Z=this[S+7];(M===void 0||Z===void 0)&&me(S,this.length-8);const _e=this[S+4]+this[S+5]*2**8+this[S+6]*2**16+(Z<<24);return(BigInt(_e)<<BigInt(32))+BigInt(M+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24)}),l.prototype.readBigInt64BE=vr(function(S){S=S>>>0,rt(S,"offset");const M=this[S],Z=this[S+7];(M===void 0||Z===void 0)&&me(S,this.length-8);const _e=(M<<24)+this[++S]*2**16+this[++S]*2**8+this[++S];return(BigInt(_e)<<BigInt(32))+BigInt(this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+Z)}),l.prototype.readFloatLE=function(S,M){return S=S>>>0,M||W(S,4,this.length),t.read(this,S,!0,23,4)},l.prototype.readFloatBE=function(S,M){return S=S>>>0,M||W(S,4,this.length),t.read(this,S,!1,23,4)},l.prototype.readDoubleLE=function(S,M){return S=S>>>0,M||W(S,8,this.length),t.read(this,S,!0,52,8)},l.prototype.readDoubleBE=function(S,M){return S=S>>>0,M||W(S,8,this.length),t.read(this,S,!1,52,8)};function de(K,S,M,Z,_e,Ie){if(!l.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>_e||S<Ie)throw new RangeError('"value" argument is out of bounds');if(M+Z>K.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(S,M,Z,_e){if(S=+S,M=M>>>0,Z=Z>>>0,!_e){const ct=Math.pow(2,8*Z)-1;de(this,S,M,Z,ct,0)}let Ie=1,Ue=0;for(this[M]=S&255;++Ue<Z&&(Ie*=256);)this[M+Ue]=S/Ie&255;return M+Z},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(S,M,Z,_e){if(S=+S,M=M>>>0,Z=Z>>>0,!_e){const ct=Math.pow(2,8*Z)-1;de(this,S,M,Z,ct,0)}let Ie=Z-1,Ue=1;for(this[M+Ie]=S&255;--Ie>=0&&(Ue*=256);)this[M+Ie]=S/Ue&255;return M+Z},l.prototype.writeUint8=l.prototype.writeUInt8=function(S,M,Z){return S=+S,M=M>>>0,Z||de(this,S,M,1,255,0),this[M]=S&255,M+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(S,M,Z){return S=+S,M=M>>>0,Z||de(this,S,M,2,65535,0),this[M]=S&255,this[M+1]=S>>>8,M+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(S,M,Z){return S=+S,M=M>>>0,Z||de(this,S,M,2,65535,0),this[M]=S>>>8,this[M+1]=S&255,M+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(S,M,Z){return S=+S,M=M>>>0,Z||de(this,S,M,4,4294967295,0),this[M+3]=S>>>24,this[M+2]=S>>>16,this[M+1]=S>>>8,this[M]=S&255,M+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(S,M,Z){return S=+S,M=M>>>0,Z||de(this,S,M,4,4294967295,0),this[M]=S>>>24,this[M+1]=S>>>16,this[M+2]=S>>>8,this[M+3]=S&255,M+4};function J(K,S,M,Z,_e){gt(S,Z,_e,K,M,7);let Ie=Number(S&BigInt(4294967295));K[M++]=Ie,Ie=Ie>>8,K[M++]=Ie,Ie=Ie>>8,K[M++]=Ie,Ie=Ie>>8,K[M++]=Ie;let Ue=Number(S>>BigInt(32)&BigInt(4294967295));return K[M++]=Ue,Ue=Ue>>8,K[M++]=Ue,Ue=Ue>>8,K[M++]=Ue,Ue=Ue>>8,K[M++]=Ue,M}function pe(K,S,M,Z,_e){gt(S,Z,_e,K,M,7);let Ie=Number(S&BigInt(4294967295));K[M+7]=Ie,Ie=Ie>>8,K[M+6]=Ie,Ie=Ie>>8,K[M+5]=Ie,Ie=Ie>>8,K[M+4]=Ie;let Ue=Number(S>>BigInt(32)&BigInt(4294967295));return K[M+3]=Ue,Ue=Ue>>8,K[M+2]=Ue,Ue=Ue>>8,K[M+1]=Ue,Ue=Ue>>8,K[M]=Ue,M+8}l.prototype.writeBigUInt64LE=vr(function(S,M=0){return J(this,S,M,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=vr(function(S,M=0){return pe(this,S,M,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(S,M,Z,_e){if(S=+S,M=M>>>0,!_e){const wt=Math.pow(2,8*Z-1);de(this,S,M,Z,wt-1,-wt)}let Ie=0,Ue=1,ct=0;for(this[M]=S&255;++Ie<Z&&(Ue*=256);)S<0&&ct===0&&this[M+Ie-1]!==0&&(ct=1),this[M+Ie]=(S/Ue>>0)-ct&255;return M+Z},l.prototype.writeIntBE=function(S,M,Z,_e){if(S=+S,M=M>>>0,!_e){const wt=Math.pow(2,8*Z-1);de(this,S,M,Z,wt-1,-wt)}let Ie=Z-1,Ue=1,ct=0;for(this[M+Ie]=S&255;--Ie>=0&&(Ue*=256);)S<0&&ct===0&&this[M+Ie+1]!==0&&(ct=1),this[M+Ie]=(S/Ue>>0)-ct&255;return M+Z},l.prototype.writeInt8=function(S,M,Z){return S=+S,M=M>>>0,Z||de(this,S,M,1,127,-128),S<0&&(S=255+S+1),this[M]=S&255,M+1},l.prototype.writeInt16LE=function(S,M,Z){return S=+S,M=M>>>0,Z||de(this,S,M,2,32767,-32768),this[M]=S&255,this[M+1]=S>>>8,M+2},l.prototype.writeInt16BE=function(S,M,Z){return S=+S,M=M>>>0,Z||de(this,S,M,2,32767,-32768),this[M]=S>>>8,this[M+1]=S&255,M+2},l.prototype.writeInt32LE=function(S,M,Z){return S=+S,M=M>>>0,Z||de(this,S,M,4,2147483647,-2147483648),this[M]=S&255,this[M+1]=S>>>8,this[M+2]=S>>>16,this[M+3]=S>>>24,M+4},l.prototype.writeInt32BE=function(S,M,Z){return S=+S,M=M>>>0,Z||de(this,S,M,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),this[M]=S>>>24,this[M+1]=S>>>16,this[M+2]=S>>>8,this[M+3]=S&255,M+4},l.prototype.writeBigInt64LE=vr(function(S,M=0){return J(this,S,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=vr(function(S,M=0){return pe(this,S,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function it(K,S,M,Z,_e,Ie){if(M+Z>K.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function tt(K,S,M,Z,_e){return S=+S,M=M>>>0,_e||it(K,S,M,4),t.write(K,S,M,Z,23,4),M+4}l.prototype.writeFloatLE=function(S,M,Z){return tt(this,S,M,!0,Z)},l.prototype.writeFloatBE=function(S,M,Z){return tt(this,S,M,!1,Z)};function Fe(K,S,M,Z,_e){return S=+S,M=M>>>0,_e||it(K,S,M,8),t.write(K,S,M,Z,52,8),M+8}l.prototype.writeDoubleLE=function(S,M,Z){return Fe(this,S,M,!0,Z)},l.prototype.writeDoubleBE=function(S,M,Z){return Fe(this,S,M,!1,Z)},l.prototype.copy=function(S,M,Z,_e){if(!l.isBuffer(S))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),!_e&&_e!==0&&(_e=this.length),M>=S.length&&(M=S.length),M||(M=0),_e>0&&_e<Z&&(_e=Z),_e===Z||S.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(_e<0)throw new RangeError("sourceEnd out of bounds");_e>this.length&&(_e=this.length),S.length-M<_e-Z&&(_e=S.length-M+Z);const Ie=_e-Z;return this===S&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(M,Z,_e):Uint8Array.prototype.set.call(S,this.subarray(Z,_e),M),Ie},l.prototype.fill=function(S,M,Z,_e){if(typeof S=="string"){if(typeof M=="string"?(_e=M,M=0,Z=this.length):typeof Z=="string"&&(_e=Z,Z=this.length),_e!==void 0&&typeof _e!="string")throw new TypeError("encoding must be a string");if(typeof _e=="string"&&!l.isEncoding(_e))throw new TypeError("Unknown encoding: "+_e);if(S.length===1){const Ue=S.charCodeAt(0);(_e==="utf8"&&Ue<128||_e==="latin1")&&(S=Ue)}}else typeof S=="number"?S=S&255:typeof S=="boolean"&&(S=Number(S));if(M<0||this.length<M||this.length<Z)throw new RangeError("Out of range index");if(Z<=M)return this;M=M>>>0,Z=Z===void 0?this.length:Z>>>0,S||(S=0);let Ie;if(typeof S=="number")for(Ie=M;Ie<Z;++Ie)this[Ie]=S;else{const Ue=l.isBuffer(S)?S:l.from(S,_e),ct=Ue.length;if(ct===0)throw new TypeError('The value "'+S+'" is invalid for argument "value"');for(Ie=0;Ie<Z-M;++Ie)this[Ie+M]=Ue[Ie%ct]}return this};const He={};function Ce(K,S,M){He[K]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:S.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${K}]`,this.stack,delete this.name}get code(){return K}set code(_e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:_e,writable:!0})}toString(){return`${this.name} [${K}]: ${this.message}`}}}Ce("ERR_BUFFER_OUT_OF_BOUNDS",function(K){return K?`${K} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ce("ERR_INVALID_ARG_TYPE",function(K,S){return`The "${K}" argument must be of type number. Received type ${typeof S}`},TypeError),Ce("ERR_OUT_OF_RANGE",function(K,S,M){let Z=`The value of "${K}" is out of range.`,_e=M;return Number.isInteger(M)&&Math.abs(M)>2**32?_e=De(String(M)):typeof M=="bigint"&&(_e=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(_e=De(_e)),_e+="n"),Z+=` It must be ${S}. Received ${_e}`,Z},RangeError);function De(K){let S="",M=K.length;const Z=K[0]==="-"?1:0;for(;M>=Z+4;M-=3)S=`_${K.slice(M-3,M)}${S}`;return`${K.slice(0,M)}${S}`}function Ge(K,S,M){rt(S,"offset"),(K[S]===void 0||K[S+M]===void 0)&&me(S,K.length-(M+1))}function gt(K,S,M,Z,_e,Ie){if(K>M||K<S){const Ue=typeof S=="bigint"?"n":"";let ct;throw S===0||S===BigInt(0)?ct=`>= 0${Ue} and < 2${Ue} ** ${(Ie+1)*8}${Ue}`:ct=`>= -(2${Ue} ** ${(Ie+1)*8-1}${Ue}) and < 2 ** ${(Ie+1)*8-1}${Ue}`,new He.ERR_OUT_OF_RANGE("value",ct,K)}Ge(Z,_e,Ie)}function rt(K,S){if(typeof K!="number")throw new He.ERR_INVALID_ARG_TYPE(S,"number",K)}function me(K,S,M){throw Math.floor(K)!==K?(rt(K,M),new He.ERR_OUT_OF_RANGE("offset","an integer",K)):S<0?new He.ERR_BUFFER_OUT_OF_BOUNDS:new He.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${S}`,K)}const Be=/[^+/0-9A-Za-z-_]/g;function Vt(K){if(K=K.split("=")[0],K=K.trim().replace(Be,""),K.length<2)return"";for(;K.length%4!==0;)K=K+"=";return K}function ir(K,S){S=S||1/0;let M;const Z=K.length;let _e=null;const Ie=[];for(let Ue=0;Ue<Z;++Ue){if(M=K.charCodeAt(Ue),M>55295&&M<57344){if(!_e){if(M>56319){(S-=3)>-1&&Ie.push(239,191,189);continue}else if(Ue+1===Z){(S-=3)>-1&&Ie.push(239,191,189);continue}_e=M;continue}if(M<56320){(S-=3)>-1&&Ie.push(239,191,189),_e=M;continue}M=(_e-55296<<10|M-56320)+65536}else _e&&(S-=3)>-1&&Ie.push(239,191,189);if(_e=null,M<128){if((S-=1)<0)break;Ie.push(M)}else if(M<2048){if((S-=2)<0)break;Ie.push(M>>6|192,M&63|128)}else if(M<65536){if((S-=3)<0)break;Ie.push(M>>12|224,M>>6&63|128,M&63|128)}else if(M<1114112){if((S-=4)<0)break;Ie.push(M>>18|240,M>>12&63|128,M>>6&63|128,M&63|128)}else throw new Error("Invalid code point")}return Ie}function lr(K){const S=[];for(let M=0;M<K.length;++M)S.push(K.charCodeAt(M)&255);return S}function or(K,S){let M,Z,_e;const Ie=[];for(let Ue=0;Ue<K.length&&!((S-=2)<0);++Ue)M=K.charCodeAt(Ue),Z=M>>8,_e=M%256,Ie.push(_e),Ie.push(Z);return Ie}function pr(K){return e.toByteArray(Vt(K))}function rr(K,S,M,Z){let _e;for(_e=0;_e<Z&&!(_e+M>=S.length||_e>=K.length);++_e)S[_e+M]=K[_e];return _e}function Ft(K,S){return K instanceof S||K!=null&&K.constructor!=null&&K.constructor.name!=null&&K.constructor.name===S.name}function jt(K){return K!==K}const _r=function(){const K="0123456789abcdef",S=new Array(256);for(let M=0;M<16;++M){const Z=M*16;for(let _e=0;_e<16;++_e)S[Z+_e]=K[M]+K[_e]}return S}();function vr(K){return typeof BigInt>"u"?rn:K}function rn(){throw new Error("BigInt not supported")}})(G2);/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let O0;var NS=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:ha):i=>(O0||(O0=Promise.resolve())).then(i).catch(e=>setTimeout(()=>{throw e},0));const SS=Ss(NS),fo="http://www.w3.org/1999/02/22-rdf-syntax-ns#",co="http://www.w3.org/2001/XMLSchema#",kh="http://www.w3.org/2000/10/swap/",Ri={xsd:{decimal:`${co}decimal`,boolean:`${co}boolean`,double:`${co}double`,integer:`${co}integer`,string:`${co}string`},rdf:{type:`${fo}type`,nil:`${fo}nil`,first:`${fo}first`,rest:`${fo}rest`,langString:`${fo}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${kh}reify#forSome`,forAll:`${kh}reify#forAll`},log:{implies:`${kh}log#implies`}},{xsd:Yu}=Ri,IS=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,L0={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},RS=/[\x00-\x20<>\\"\{\}\|\^\`]/,PS={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},FS=/$0^/;class OS{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const t in this)!(t in PS)&&this[t]instanceof RegExp&&(this[t]=FS)}else this._n3Mode=e.n3!==!1;this.comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,t){let r=this._input,n=r.length;for(;;){let l,u;for(;l=this._newline.exec(r);)this.comments&&(u=this._comment.exec(l[0]))&&s("comment",u[1],"",this._line,l[0].length),r=r.substr(l[0].length,r.length),n=r.length,this._line++;if(!l&&(l=this._whitespace.exec(r))&&(r=r.substr(l[0].length,r.length)),this._endOfFile.test(r))return t&&(this.comments&&(u=this._comment.exec(r))&&s("comment",u[1],"",this._line,r.length),r=null,s("eof","","",this._line,0)),this._input=r;const f=this._line,h=r[0];let _="",p="",d="",v=null,m=0,b=!1;switch(h){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){b=!0;break}}else{this._n3Mode&&(m=1,_="^");break}case"<":if(v=this._unescapedIri.exec(r))_="IRI",p=v[1];else if(v=this._iri.exec(r)){if(p=this._unescape(v[1]),p===null||RS.test(p))return a(this);_="IRI"}else r.length>1&&r[1]==="<"?(_="<<",m=2):this._n3Mode&&r.length>1&&r[1]==="="&&(_="inverse",m=2,p=">");break;case">":r.length>1&&r[1]===">"&&(_=">>",m=2);break;case"_":((v=this._blank.exec(r))||t&&(v=this._blank.exec(`${r} `)))&&(_="blank",d="_",p=v[1]);break;case'"':if(v=this._simpleQuotedString.exec(r))p=v[1];else if({value:p,matchLength:m}=this._parseLiteral(r),p===null)return a(this);(v!==null||m!==0)&&(_="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(v=this._simpleApostropheString.exec(r))p=v[1];else if({value:p,matchLength:m}=this._parseLiteral(r),p===null)return a(this);(v!==null||m!==0)&&(_="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(v=this._variable.exec(r))&&(_="var",p=v[0]);break;case"@":this._previousMarker==="literal"&&(v=this._langcode.exec(r))?(_="langcode",p=v[1]):(v=this._keyword.exec(r))&&(_=v[0]);break;case".":if(r.length===1?t:r[1]<"0"||r[1]>"9"){_=".",m=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(v=this._number.exec(r)||t&&(v=this._number.exec(`${r} `)))&&(_="literal",p=v[0],d=typeof v[1]=="string"?Yu.double:typeof v[2]=="string"?Yu.decimal:Yu.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(v=this._sparqlKeyword.exec(r))?_=v[0].toUpperCase():b=!0;break;case"f":case"t":(v=this._boolean.exec(r))?(_="literal",p=v[0],d=Yu.boolean):b=!0;break;case"a":(v=this._shortPredicates.exec(r))?(_="abbreviation",p="a"):b=!0;break;case"=":this._n3Mode&&r.length>1&&(_="abbreviation",r[1]!==">"?(m=1,p="="):(m=2,p=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(m=1,_=h);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(_="{|",m=2):(_=h,m=1));break;case"|":r.length>=2&&r[1]==="}"&&(_="|}",m=2);break;default:b=!0}if(b&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(v=this._prefix.exec(r))?(_="prefix",p=v[1]||""):((v=this._prefixed.exec(r))||t&&(v=this._prefixed.exec(`${r} `)))&&(_="prefixed",d=v[1]||"",p=this._unescape(v[2]))),this._previousMarker==="^^")switch(_){case"prefixed":_="type";break;case"IRI":_="typeIRI";break;default:_=""}if(!_)return t||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?a(this):this._input=r;const A=m||v[0].length,U=s(_,p,d,f,A);this.previousToken=U,this._previousMarker=_,r=r.substr(A,r.length)}function s(l,u,f,h,_){const p=r?n-r.length:n,d=p+_,v={type:l,value:u,prefix:f,line:h,start:p,end:d};return e(null,v),v}function a(l){e(l._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(e){let t=!1;const r=e.replace(IS,(n,s,a,l)=>{if(typeof s=="string")return String.fromCharCode(Number.parseInt(s,16));if(typeof a=="string"){let u=Number.parseInt(a,16);return u<=65535?String.fromCharCode(Number.parseInt(a,16)):String.fromCharCode(55296+((u-=65536)>>10),56320+(u&1023))}return l in L0?L0[l]:(t=!0,"")});return t?null:r}_parseLiteral(e){if(e.length>=3){const t=e.match(/^(?:"""|"|'''|'|)/)[0],r=t.length;let n=Math.max(this._literalClosingPos,r);for(;(n=e.indexOf(t,n))>0;){let s=0;for(;e[n-s-1]==="\\";)s++;if(s%2===0){const a=e.substring(r,n),l=a.split(/\r\n|\r|\n/).length-1,u=n+r;if(r===1&&l!==0||r===3&&this._lineMode)break;return this._line+=l,{value:this._unescape(a),matchLength:u}}n++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const t=new Error(`Unexpected "${e}" on line ${this._line}.`);return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,t){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof t=="function")SS(()=>this._tokenizeToEnd(t,!0));else{const r=[];let n;if(this._tokenizeToEnd((s,a)=>s?n=s:r.push(a),!0),n)throw n;return r}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=G2.Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(t,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(t,!0)}),e.on("error",t)}}const{rdf:LS,xsd:cl}=Ri;let Uf,BS=0;const Cd={namedNode:xS,blankNode:HS,variable:zS,literal:VS,defaultGraph:$S,quad:B0,triple:B0};class Aa{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof Aa?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}let W2=class extends Aa{get termType(){return"NamedNode"}},Ch=class Q2 extends Aa{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let t=e.lastIndexOf('"')+1;return t<e.length&&e[t++]==="@"?e.substr(t).toLowerCase():""}get datatype(){return new W2(this.datatypeString)}get datatypeString(){const e=this.id,t=e.lastIndexOf('"')+1,r=t<e.length?e[t]:"";return r==="^"?e.substr(t+2):r!=="@"?cl.string:LS.langString}equals(e){return e instanceof Q2?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},US=class extends Aa{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},MS=class extends Aa{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},qS=class extends Aa{constructor(){return super(""),Uf||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};Uf=new qS;let jS=class extends Aa{constructor(e,t,r,n){super(""),this._subject=e,this._predicate=t,this._object=r,this._graph=n||Uf}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}};function xS(i){return new W2(i)}function HS(i){return new US(i||`n3-${BS++}`)}function VS(i,e){if(typeof e=="string")return new Ch(`"${i}"@${e.toLowerCase()}`);let t=e?e.value:"";return t===""&&(typeof i=="boolean"?t=cl.boolean:typeof i=="number"&&(Number.isFinite(i)?t=Number.isInteger(i)?cl.integer:cl.double:(t=cl.double,Number.isNaN(i)||(i=i>0?"INF":"-INF")))),t===""||t===cl.string?new Ch(`"${i}"`):new Ch(`"${i}"^^${t}`)}function zS(i){return new MS(i)}function $S(){return Uf}function B0(i,e,t,r){return new jS(i,e,t,r)}let U0=0;class Y2{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&K2(this,e.factory);const t=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(t),n=/trig/.test(t),s=/triple/.test(t),a=/quad/.test(t),l=this._n3Mode=/n3/.test(t),u=s||a;(this._supportsNamedGraphs=!(r||l))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||n||s||l),this._supportsRDFStar=t===""||/star|\*$/.test(t),u&&(this._resolveRelativeIRI=f=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new OS({lineMode:u,n3:l}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){U0=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,t,r,n,s){const a=this._n3Mode;this._contextStack.push({type:e,subject:r,predicate:n,object:s,graph:t,inverse:a?this._inversePredicate:!1,blankPrefix:a?this._prefixes._:"",quantified:a?this._quantified:null}),a&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,t){const r=this._contextStack.pop();if(!r||r.type!==e)return this._error(`Unexpected ${t.type}`,t);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,t){let r;switch(e.type){case"IRI":case"typeIRI":const n=this._resolveIRI(e.value);if(n===null)return this._error("Invalid IRI",e);r=this._namedNode(n);break;case"type":case"prefixed":const s=this._prefixes[e.prefix];if(s===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);r=this._namedNode(s+e.value);break;case"blank":r=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!t&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${t}`,e):(this._subject=null,t==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const t=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let t=null,r=null,n=this._readListItem;const s=this._subject,a=this._contextStack,l=a[a.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=t=this._blankNode()),n=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),a.length!==0&&a[a.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(n=this._readPredicate,this._subject===this.RDF_NIL)return n}else if(n=this._getContextEndReader(),this._object===this.RDF_NIL)return n;r=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,n=this._readListItemDataTypeOrLang):(t=this._literal(e.value,this._namedNode(e.prefix)),n=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((t=this._readEntity(e))===void 0)return}if(r===null&&(this._subject=r=this._blankNode()),s===null?l.predicate===null?l.subject=r:l.object=r:this._emit(s,this.RDF_REST,r,this._graph),t!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,t,this._graph)}return n}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let t=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const r=this._readEntity(e);if(r===void 0)return;t=this._literal(this._literalValue,r),e=null;break;case"langcode":t=this._literal(this._literalValue,e.value),e=null;break}return{token:e,literal:t}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,t){const r=this._completeLiteral(e);if(r)return this._object=r.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let t,r=this._graph;const n=this._subject,s=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,s&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",e);const a=this._predicate,l=this._object;this._subject=this._quad(n,a,l,this.DEFAULTGRAPH),t=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,t=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(e))!==void 0){t=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(n!==null){const a=this._predicate,l=this._object;s?this._emit(l,a,n,r):this._emit(n,a,l,r)}return t}_readBlankNodePunctuation(e){let t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}_readBaseIRI(e){const t=e.type==="IRI"&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let t;switch(e.type){case"IRI":case"prefixed":if((t=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const t=this._contextStack,r=t.length&&t[t.length-1];if(r&&r.type==="item"){const n=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,n,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let t,r;const n=this._blankNode();if((r=this._readEntity(e))!==void 0)return this._predicate===null?(t=this._subject,this._subject=n):(t=this._object,this._object=n),this._emit(t,r,n,this._graph),this._readPath}_readBackwardPath(e){const t=this._blankNode();let r,n;if((r=this._readEntity(e))!==void 0)return this._predicate===null?(n=this._subject,this._subject=t):(n=this._object,this._object=t),this._emit(t,r,n,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const t=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=t,this._readPredicate):(this._object=t,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,t,r,n){this._callback(null,this._quad(e,t,r,n||this.DEFAULTGRAPH))}_error(e,t){const r=new Error(`${e} on line ${t.line}.`);r.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=Ku}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const t=e.length;let r="",n=-1,s=-1,a=0,l="/";for(;n<t;){switch(l){case":":if(s<0&&e[++n]==="/"&&e[++n]==="/")for(;(s=n+1)<t&&e[s]!=="/";)n=s;break;case"?":case"#":n=t;break;case"/":if(e[n+1]===".")switch(l=e[++n+1],l){case"/":r+=e.substring(a,n-1),a=n+1;break;case void 0:case"?":case"#":return r+e.substring(a,n)+e.substr(n+1);case".":if(l=e[++n+1],l===void 0||l==="/"||l==="?"||l==="#"){if(r+=e.substring(a,n-2),(a=r.lastIndexOf("/"))>=s&&(r=r.substr(0,a)),l!=="/")return`${r}/${e.substr(n+1)}`;a=n+1}}}l=e[++n]}return r+e.substring(a)}parse(e,t,r){let n,s,a;if(t&&(t.onQuad||t.onPrefix||t.onComment)?(n=t.onQuad,s=t.onPrefix,a=t.onComment):(n=t,s=r),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${U0++}_`,this._prefixCallback=s||Ku,this._inversePredicate=!1,this._quantified=Object.create(null),!n){const u=[];let f;if(this._callback=(h,_)=>{h?f=h:_&&u.push(_)},this._lexer.tokenize(e).every(h=>this._readCallback=this._readCallback(h)),f)throw f;return u}let l=(u,f)=>{u!==null?(this._callback(u),this._callback=Ku):this._readCallback&&(this._readCallback=this._readCallback(f))};a&&(this._lexer.comments=!0,l=(u,f)=>{u!==null?(this._callback(u),this._callback=Ku):this._readCallback&&(f.type==="comment"?a(f.value):this._readCallback=this._readCallback(f))}),this._callback=n,this._lexer.tokenize(e,l)}}function Ku(){}function K2(i,e){const t=e.namedNode;i._namedNode=t,i._blankNode=e.blankNode,i._literal=e.literal,i._variable=e.variable,i._quad=e.quad,i.DEFAULTGRAPH=e.defaultGraph(),i.RDF_FIRST=t(Ri.rdf.first),i.RDF_REST=t(Ri.rdf.rest),i.RDF_NIL=t(Ri.rdf.nil),i.N3_FORALL=t(Ri.r.forAll),i.N3_FORSOME=t(Ri.r.forSome),i.ABBREVIATIONS={a:t(Ri.rdf.type),"=":t(Ri.owl.sameAs),">":t(Ri.log.implies)},i.QUANTIFIERS_GRAPH=t("urn:n3:quantifiers")}K2(Y2.prototype,Cd);function GS(i){return!!i&&i.termType==="DefaultGraph"}const ho=Cd.defaultGraph(),{rdf:XS,xsd:ol}=Ri,M0=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,q0=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,WS={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class po extends Aa{equals(e){return e===this}}class QS{constructor(e,t){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(t=e,e=null),t=t||{},this._lists=t.lists,e)this._outputStream=e,this._endStream=t.end===void 0?!0:!!t.end;else{let r="";this._outputStream={write(n,s,a){r+=n,a&&a()},end:n=>{n&&n(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(t.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=ho,this._prefixIRIs=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes),t.baseIRI&&(this._baseMatcher=new RegExp(`^${x0(t.baseIRI)}${t.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=t.baseIRI.length))}get _inDefaultGraph(){return ho.equals(this._graph)}_write(e,t){this._outputStream.write(e,"utf8",t)}_writeQuad(e,t,r,n,s){try{n.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(ho.equals(n)?"":`${this._encodeIriOrBlank(n)} {
`)),this._graph=n,this._subject=null),e.equals(this._subject)?t.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,s):this._write(`;
    ${this._encodePredicate(this._predicate=t)} ${this._encodeObject(r)}`,s):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=t)} ${this._encodeObject(r)}`,s)}catch(a){s&&s(a)}}_writeQuadLine(e,t,r,n,s){delete this._prefixMatch,this._write(this.quadToString(e,t,r,n),s)}quadToString(e,t,r,n){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(t)} ${this._encodeObject(r)}${n&&n.value?` ${this._encodeIriOrBlank(n)} .
`:` .
`}`}quadsToString(e){let t="";for(const r of e)t+=this.quadToString(r.subject,r.predicate,r.object,r.graph);return t}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let t=e.value;this._baseMatcher&&this._baseMatcher.test(t)&&(t=t.substr(this._baseLength)),M0.test(t)&&(t=t.replace(q0,j0));const r=this._prefixRegex.exec(t);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:t:`<${t}>`}_encodeLiteral(e){let t=e.value;if(M0.test(t)&&(t=t.replace(q0,j0)),e.language)return`"${t}"@${e.language}`;if(this._lineMode){if(e.datatype.value===ol.string)return`"${t}"`}else switch(e.datatype.value){case ol.string:return`"${t}"`;case ol.boolean:if(t==="true"||t==="false")return t;break;case ol.integer:if(/^[+-]?\d+$/.test(t))return t;break;case ol.decimal:if(/^[+-]?\d*\.\d+$/.test(t))return t;break;case ol.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(t))return t;break}return`"${t}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===XS.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:t,object:r,graph:n}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(t)} ${this._encodeObject(r)}${GS(n)?"":` ${this._encodeIriOrBlank(n)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,t,r,n,s){r===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,t):typeof n=="function"?this._writeQuad(e,t,r,ho,n):this._writeQuad(e,t,r,n||ho,s)}addQuads(e){for(let t=0;t<e.length;t++)this.addQuad(e[t])}addPrefix(e,t,r){const n={};n[e]=t,this.addPrefixes(n,r)}addPrefixes(e,t){if(!this._prefixIRIs)return t&&t();let r=!1;for(let n in e){let s=e[n];typeof s!="string"&&(s=s.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[s]=n+=":",this._write(`@prefix ${n} <${s}>.
`)}if(r){let n="",s="";for(const a in this._prefixIRIs)n+=n?`|${a}`:a,s+=(s?"|":"")+this._prefixIRIs[a];n=x0(n),this._prefixRegex=new RegExp(`^(?:${s})[^/]*$|^(${n})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",t)}blank(e,t){let r=e,n,s;switch(e===void 0?r=[]:e.termType?r=[{predicate:e,object:t}]:"length"in e||(r=[e]),s=r.length){case 0:return new po("[]");case 1:if(n=r[0],!(n.object instanceof po))return new po(`[ ${this._encodePredicate(n.predicate)} ${this._encodeObject(n.object)} ]`);default:let a="[";for(let l=0;l<s;l++)n=r[l],n.predicate.equals(e)?a+=`, ${this._encodeObject(n.object)}`:(a+=`${(l?`;
  `:`
  `)+this._encodePredicate(n.predicate)} ${this._encodeObject(n.object)}`,e=n.predicate);return new po(`${a}
]`)}}list(e){const t=e&&e.length||0,r=new Array(t);for(let n=0;n<t;n++)r[n]=this._encodeObject(e[n]);return new po(`(${r.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let t=e&&((r,n)=>{t=null,e(r,n)});if(this._endStream)try{return this._outputStream.end(t)}catch{}t&&t()}}function j0(i){let e=WS[i];return e===void 0&&(i.length===1?(e=i.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function x0(i){return i.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}if(typeof Va>"u")var Va={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};var Di=function(){function i(e,t){Hr(this,i),this.options=t||{},this.kb=e,this.target=t.target||{graph:{subjects:{},prefixes:{},terms:{}}},this.blankNodes=[],this.htmlOptions={selfClosing:"br img input area base basefont col colgroup source wbr isindex link meta param hr"},this.theOne="_:"+new Date().getTime(),this.language=null,this.vocabulary=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()}return xr(i,[{key:"addTriple",value:function(t,r,n,s){var a,l,u,f;typeof r>"u"?a=Pi.namedNode(this.options.base):a=this.toRDFNodeObject(r),u=this.toRDFNodeObject(n),l=this.toRDFNodeObject(s),f=Pi.namedNode(this.options.base),this.kb.add(a,u,l,f)}},{key:"ancestorPath",value:function(t){for(var r="";t&&t.nodeType!==Va.DOCUMENT_NODE;)r="/"+t.localName+r,t=t.parentNode;return r}},{key:"copyMappings",value:function(t){var r={};for(var n in t)r[n]=t[n];return r}},{key:"copyProperties",value:function(){}},{key:"deriveDateTimeType",value:function(t){for(var r=0;r<i.dateTimeTypes.length;r++){var n=i.dateTimeTypes[r].pattern.exec(t);if(n&&n[0].length===t.length)return i.dateTimeTypes[r].type}return null}},{key:"init",value:function(){}},{key:"newBlankNode",value:function(){return this.blankCounter++,"_:"+this.blankCounter}},{key:"newSubjectOrigin",value:function(t,r){}},{key:"parseCURIE",value:function(t,r,n){var s=t.indexOf(":"),a;if(s>=0){var l=t.substring(0,s);if(l==="")return a=r[""],a?a+t.substring(s+1):null;if(l==="_")return"_:"+t.substring(s+1);if(i.NCNAME.test(l)&&(a=r[l],a))return a+t.substring(s+1)}return null}},{key:"parseCURIEOrURI",value:function(t,r,n){var s=this.parseCURIE(t,r,n);return s||this.resolveAndNormalize(n,t)}},{key:"parsePredicate",value:function(t,r,n,s,a,l){if(t==="")return null;var u=this.parseTermOrCURIEOrAbsURI(t,r,l?null:n,s,a);return u&&u.indexOf("_:")===0?null:u}},{key:"parsePrefixMappings",value:function(t,r){for(var n=this.tokenize(t),s=null,a=0;a<n.length;a++)n[a][n[a].length-1]===":"?s=n[a].substring(0,n[a].length-1):s&&(r[s]=this.options.base?Ei(n[a],this.options.base):n[a],s=null)}},{key:"parseSafeCURIEOrCURIEOrURI",value:function(t,r,n){return t=this.trim(t),t.charAt(0)==="["&&t.charAt(t.length-1)==="]"?(t=t.substring(1,t.length-1),t=t.trim(t),t.length===0?null:t==="_:"?this.theOne:this.parseCURIE(t,r,n)):this.parseCURIEOrURI(t,r,n)}},{key:"parseTermOrCURIEOrAbsURI",value:function(t,r,n,s,a){t=this.trim(t);var l=this.parseCURIE(t,s,a);if(l)return l;if(n){if(r&&!this.absURIRE.exec(t))return r+t;var u=n[t];if(u)return u;var f=t.toLowerCase();if(u=n[f],u)return u}return this.absURIRE.exec(t)?this.resolveAndNormalize(a,t):null}},{key:"parseTermOrCURIEOrURI",value:function(t,r,n,s,a){t=this.trim(t);var l=this.parseCURIE(t,s,a);if(l)return l;var u=n[t];if(u)return u;var f=t.toLowerCase();return u=n[f],u||(r&&!this.absURIRE.exec(t)?r+t:this.resolveAndNormalize(a,t))}},{key:"parseURI",value:function(t){return t}},{key:"process",value:function(t,r){r=r||{};var n;t.nodeType===Va.DOCUMENT_NODE?(t.baseURI&&!r.baseURI&&(r.baseURI=t.baseURI),n=t.baseURI,t=t.documentElement,t.baseURI||(t.baseURI=n),this.setContext(t)):t.parentNode.nodeType===Va.DOCUMENT_NODE&&this.setContext(t);var s=[],a=function(Cr){if(!Cr&&r&&r.baseURI)return r.baseURI;var fn=Cr.indexOf("#");return fn>=0&&(Cr=Cr.substring(0,fn)),r&&r.baseURIMap&&(Cr=r.baseURIMap(Cr)),Cr};for(s.push({current:t,context:this.push(null,a(t.baseURI))});s.length>0;){var l=s.shift();if(l.parent){if(l.context.parent&&l.context.parent.listMapping===l.listMapping)continue;for(var u in l.listMapping){var f=l.listMapping[u];if(f.length===0){this.addTriple(l.parent,l.subject,u,{type:i.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});continue}for(var h=[],_=0;_<f.length;_++)h.push(this.newBlankNode());for(var p=0;p<h.length;p++)this.addTriple(l.parent,h[p],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",f[p]),this.addTriple(l.parent,h[p],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:i.objectURI,value:p+1<h.length?h[p+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(l.parent,l.subject,u,{type:i.objectURI,value:h[0]})}continue}var d=l.current,v=l.context,m=!1,b=null,A=null,U=null,I=v.prefixes,O=!1,y=[],N=v.listMapping,T=!v.parent,j=v.language,F=v.vocabulary;n=this.parseURI(a(d.baseURI)),d.item=null;var q=d.getAttributeNode("vocab");if(q){var k=this.trim(q.value);if(k.length>0){F=k;var L=n.spec;this.addTriple(d,L,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:i.objectURI,value:F})}else F=this.vocabulary}for(var D=0;D<d.attributes.length;D++){var P=d.attributes[D];if(P.nodeName.charAt(0)==="x"&&P.nodeName.indexOf("xmlns:")===0){O||(I=this.copyMappings(I),O=!0);var Q=P.nodeName.substring(6),H=i.trim(P.value);I[Q]=this.options.base?Ei(H,this.options.base):H}}var oe=d.getAttributeNode("prefix");oe&&(O||(I=this.copyMappings(I),O=!0),this.parsePrefixMappings(oe.value,I));for(var re=null,te=0;!re&&te<this.langAttributes.length;te++)re=d.getAttributeNodeNS(this.langAttributes[te].namespaceURI,this.langAttributes[te].localName);if(re){var $=i.trim(re.value);$.length>0?j=$:j=null}var W=d.getAttributeNode("rel"),de=d.getAttributeNode("rev"),J=d.getAttributeNode("typeof"),pe=d.getAttributeNode("property"),it=d.getAttributeNode("datatype"),tt=this.inHTMLMode?d.getAttributeNode("datetime"):null,Fe=d.getAttributeNode("content"),He=d.getAttributeNode("about"),Ce=d.getAttributeNode("src"),De=d.getAttributeNode("resource"),Ge=d.getAttributeNode("href"),gt=d.getAttributeNode("inlist"),rt=[],me,Be;if(W){Be=this.tokenize(W.value);for(var Vt=0;Vt<Be.length;Vt++)me=this.parsePredicate(Be[Vt],F,v.terms,I,n,this.inHTMLMode&&pe!==null),me&&rt.push(me)}var ir=[];if(de){Be=this.tokenize(de.value);for(var lr=0;lr<Be.length;lr++)me=this.parsePredicate(Be[lr],F,v.terms,I,n,this.inHTMLMode&&pe),me&&ir.push(me)}if(this.inHTMLMode&&(W||de)&&pe&&(rt.length===0&&(W=null),ir.length===0&&(de=null)),W||de?(He&&(b=this.parseSafeCURIEOrCURIEOrURI(He.value,I,n)),J&&(U=b),b||(d.parentNode.nodeType===Va.DOCUMENT_NODE?b=a(d.baseURI):v.parentObject&&(b=a(d.parentNode.baseURI)===v.parentObject?a(d.baseURI):v.parentObject)),De&&(A=this.parseSafeCURIEOrCURIEOrURI(De.value,I,n)),A||(Ge?A=this.resolveAndNormalize(n,encodeURI(Ge.value)):Ce?A=this.resolveAndNormalize(n,encodeURI(Ce.value)):J&&!He&&!(this.inXHTMLMode&&(d.localName==="head"||d.localName==="body"))&&(A=this.newBlankNode())),J&&!He&&this.inXHTMLMode&&(d.localName==="head"||d.localName==="body")?U=b:J&&!He&&(U=A)):pe&&!Fe&&!it?(He&&(b=this.parseSafeCURIEOrCURIEOrURI(He.value,I,n),J&&(U=b)),!b&&d.parentNode.nodeType===Va.DOCUMENT_NODE?(b=a(d.baseURI),J&&(U=b)):!b&&v.parentObject&&(b=a(d.parentNode.baseURI)===v.parentObject?a(d.baseURI):v.parentObject),J&&!U&&(De&&(U=this.parseSafeCURIEOrCURIEOrURI(De.value,I,n)),!U&&Ge&&(U=this.resolveAndNormalize(n,encodeURI(Ge.value))),!U&&Ce&&(U=this.resolveAndNormalize(n,encodeURI(Ce.value))),!U&&(this.inXHTMLMode||this.inHTMLMode)&&(d.localName==="head"||d.localName==="body")&&(U=b),U||(U=this.newBlankNode()),A=U)):(He&&(b=this.parseSafeCURIEOrCURIEOrURI(He.value,I,n)),!b&&De&&(b=this.parseSafeCURIEOrCURIEOrURI(De.value,I,n)),!b&&Ge&&(b=this.resolveAndNormalize(n,encodeURI(Ge.value))),!b&&Ce&&(b=this.resolveAndNormalize(n,encodeURI(Ce.value))),b||(d.parentNode.nodeType===Va.DOCUMENT_NODE?b=a(d.baseURI):(this.inXHTMLMode||this.inHTMLMode)&&(d.localName==="head"||d.localName==="body")?b=a(d.parentNode.baseURI)===v.parentObject?a(d.baseURI):v.parentObject:J?b=this.newBlankNode():v.parentObject&&(b=a(d.parentNode.baseURI)===v.parentObject?a(d.baseURI):v.parentObject,pe||(m=!0))),J&&(U=b)),b&&(He||De||U)){var or=b;J&&!He&&!De&&A&&(or=A),this.newSubjectOrigin(d,or)}if(U){Be=this.tokenize(J.value);for(var pr=0;pr<Be.length;pr++){var rr=this.parseTermOrCURIEOrAbsURI(Be[pr],F,v.terms,I,n);rr&&this.addTriple(d,U,i.typeURI,{type:i.objectURI,value:rr})}}if(b&&b!==v.parentObject&&(N={},T=!0),A){if(W&&gt)for(var Ft=0;Ft<rt.length;Ft++){var jt=N[rt[Ft]];jt||(jt=[],N[rt[Ft]]=jt),jt.push({type:i.objectURI,value:A})}else if(W)for(var _r=0;_r<rt.length;_r++)this.addTriple(d,b,rt[_r],{type:i.objectURI,value:A});if(de)for(var vr=0;vr<ir.length;vr++)this.addTriple(d,A,ir[vr],{type:i.objectURI,value:b})}else{if(b&&!A&&(W||de)&&(A=this.newBlankNode()),W&&gt)for(var rn=0;rn<rt.length;rn++){var K=N[rt[rn]];K||(K=[],N[me]=K),y.push({predicate:rt[rn],list:K})}else if(W)for(var S=0;S<rt.length;S++)y.push({predicate:rt[S],forward:!0});if(de)for(var M=0;M<ir.length;M++)y.push({predicate:ir[M],forward:!1})}if(pe){var Z=null,_e=null;it?(Z=it.value===""?i.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(it.value,F,v.terms,I,n),tt&&!Fe?_e=tt.value:_e=Z===i.XMLLiteralURI||Z===i.HTMLLiteralURI?null:Fe?Fe.value:d.textContent):Fe?(Z=i.PlainLiteralURI,_e=Fe.value):tt?(_e=tt.value,Z=i.deriveDateTimeType(_e),Z||(Z=i.PlainLiteralURI)):!W&&!de&&(De&&(_e=this.parseSafeCURIEOrCURIEOrURI(De.value,I,n)),!_e&&Ge?_e=this.resolveAndNormalize(n,encodeURI(Ge.value)):!_e&&Ce&&(_e=this.resolveAndNormalize(n,encodeURI(Ce.value))),_e&&(Z=i.objectURI)),Z||(J&&!He?(Z=i.objectURI,_e=U):(_e=d.textContent,this.inHTMLMode&&d.localName==="time"&&(Z=i.deriveDateTimeType(_e)),Z||(Z=i.PlainLiteralURI))),Be=this.tokenize(pe.value);for(var Ie=0;Ie<Be.length;Ie++){var Ue=this.parsePredicate(Be[Ie],F,v.terms,I,n);if(Ue)if(gt){var ct=N[Ue];ct||(ct=[],N[Ue]=ct),ct.push(Z===i.XMLLiteralURI||Z===i.HTMLLiteralURI?{type:Z,value:d.childNodes}:{type:Z||i.PlainLiteralURI,value:_e,language:j})}else Z===i.XMLLiteralURI||Z===i.HTMLLiteralURI?this.addTriple(d,b,Ue,{type:Z,value:d.childNodes}):this.addTriple(d,b,Ue,{type:Z||i.PlainLiteralURI,value:_e,language:j})}}if(b&&!m)for(var wt=0;wt<v.incomplete.length;wt++)v.incomplete[wt].list?v.incomplete[wt].list.push({type:i.objectURI,value:b}):v.incomplete[wt].forward?this.addTriple(d,v.subject,v.incomplete[wt].predicate,{type:i.objectURI,value:b}):this.addTriple(d,b,v.incomplete[wt].predicate,{type:i.objectURI,value:v.subject});var pt=null,mt=b;m?(pt=this.push(v,v.subject),pt.parentObject=a(d.parentNode.baseURI)===v.parentObject?a(d.baseURI):v.parentObject,pt.incomplete=v.incomplete,pt.language=j,pt.prefixes=I,pt.vocabulary=F):(pt=this.push(v,b),pt.parentObject=A||b||v.subject,pt.prefixes=I,pt.incomplete=y,A&&(mt=A,N={},T=!0),pt.listMapping=N,pt.language=j,pt.vocabulary=F),T&&s.unshift({parent:d,context:v,subject:mt,listMapping:N});for(var Ve=d.lastChild;Ve;Ve=Ve.previousSibling)Ve.nodeType===Va.ELEMENT_NODE&&s.unshift({current:Ve,context:pt})}this.inHTMLMode&&this.copyProperties();for(var yt=0;yt<this.finishedHandlers.length;yt++)this.finishedHandlers[yt](t)}},{key:"push",value:function(t,r){return{parent:t,subject:r||(t?t.subject:null),parentObject:null,incomplete:[],listMapping:t?t.listMapping:{},language:t?t.language:this.language,prefixes:t?t.prefixes:this.target.graph.prefixes,terms:t?t.terms:this.target.graph.terms,vocabulary:t?t.vocabulary:this.vocabulary}}},{key:"resolveAndNormalize",value:function(t,r){return Ei(r,t)}},{key:"setContext",value:function(t){t.localName==="html"&&t.getAttribute("version")==="XHTML+RDFa 1.1"?this.setXHTMLContext():t.localName==="html"||t.namespaceURI==="http://www.w3.org/1999/xhtml"?typeof document<"u"&&document.doctype?document.doctype.publicId==="-//W3C//DTD XHTML+RDFa 1.0//EN"&&document.doctype.systemId==="http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"?(console.log("WARNING: RDF 1.0 is not supported.  Defaulting to HTML5 mode."),this.setHTMLContext()):document.doctype.publicId==="-//W3C//DTD XHTML+RDFa 1.1//EN"&&document.doctype.systemId==="http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"?this.setXHTMLContext():this.setHTMLContext():this.setHTMLContext():this.setXMLContext()}},{key:"setHTMLContext",value:function(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.inXHTMLMode=!1,this.inHTMLMode=!0}},{key:"setInitialContext",value:function(){this.vocabulary=null,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}]}},{key:"setXHTMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.target.graph.terms.alternate="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.graph.terms.appendix="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.graph.terms.bookmark="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.graph.terms.cite="http://www.w3.org/1999/xhtml/vocab#cite",this.target.graph.terms.chapter="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.graph.terms.contents="http://www.w3.org/1999/xhtml/vocab#contents",this.target.graph.terms.copyright="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.graph.terms.first="http://www.w3.org/1999/xhtml/vocab#first",this.target.graph.terms.glossary="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.graph.terms.help="http://www.w3.org/1999/xhtml/vocab#help",this.target.graph.terms.icon="http://www.w3.org/1999/xhtml/vocab#icon",this.target.graph.terms.index="http://www.w3.org/1999/xhtml/vocab#index",this.target.graph.terms.last="http://www.w3.org/1999/xhtml/vocab#last",this.target.graph.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms.meta="http://www.w3.org/1999/xhtml/vocab#meta",this.target.graph.terms.next="http://www.w3.org/1999/xhtml/vocab#next",this.target.graph.terms.prev="http://www.w3.org/1999/xhtml/vocab#prev",this.target.graph.terms.previous="http://www.w3.org/1999/xhtml/vocab#previous",this.target.graph.terms.section="http://www.w3.org/1999/xhtml/vocab#section",this.target.graph.terms.stylesheet="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.graph.terms.subsection="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.graph.terms.start="http://www.w3.org/1999/xhtml/vocab#start",this.target.graph.terms.top="http://www.w3.org/1999/xhtml/vocab#top",this.target.graph.terms.up="http://www.w3.org/1999/xhtml/vocab#up",this.target.graph.terms.p3pv1="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.graph.terms.related="http://www.w3.org/1999/xhtml/vocab#related",this.target.graph.terms.role="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.terms.transformation="http://www.w3.org/1999/xhtml/vocab#transformation"}},{key:"setXMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!1,this.inHTMLMode=!1}},{key:"tokenize",value:function(t){return this.trim(t).split(/\s+/)}},{key:"toRDFNodeObject",value:function(t){var r=this;if(!(typeof t>"u")){if(typeof t=="string")return t.substring(0,2)==="_:"?(typeof this.blankNodes[t.substring(2)]>"u"&&(this.blankNodes[t.substring(2)]=new Yi(t.substring(2))),this.blankNodes[t.substring(2)]):Pi.namedNode(t);switch(t.type){case i.objectURI:return t.value.substring(0,2)==="_:"?(typeof this.blankNodes[t.value.substring(2)]>"u"&&(this.blankNodes[t.value.substring(2)]=new Yi(t.value.substring(2))),this.blankNodes[t.value.substring(2)]):Pi.namedNode(t.value);case i.PlainLiteralURI:return new Gi(t.value,t.language||"");case i.XMLLiteralURI:case i.HTMLLiteralURI:var n="";return Object.keys(t.value).forEach(function(s){n+=BN(t.value[s],r.htmlOptions)}),new Gi(n,"",new vn(t.type));default:return new Gi(t.value,"",new vn(t.type))}}}},{key:"trim",value:function(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}],[{key:"parseRDFaDOM",value:function(t,r,n){var s=new i(r,{base:n});t.baseURI||(t.baseURI=n),s.process(t,{baseURI:n})}},{key:"tokenize",value:function(t){return this.trim(t).split(/\s+/)}},{key:"trim",value:function(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}])}();Di.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral";Di.HTMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML";Di.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral";Di.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object";Di.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type";Di.nameChar="[-A-Z_a-z-----------0-F.0-9--]";Di.nameStartChar="[A-Za-z------------------------------------------------------------------------------------------------------------------------------------------------------_]";Di.NCNAME=new RegExp("^"+Di.nameStartChar+Di.nameChar+"*$");Di.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:"http://www.w3.org/2001/XMLSchema#duration"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#dateTime"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#date"},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#time"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:"http://www.w3.org/2001/XMLSchema#gYearMonth"},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:"http://www.w3.org/2001/XMLSchema#gYear"}];var bf=Di.parseRDFaDOM,Mf=function(){function i(e){Hr(this,i),this.store=e,this.bnodes={},this.why=null,this.reify=!1}return xr(i,[{key:"frameFactory",value:function(t,r,n){return{NODE:1,ARC:2,parent:r,parser:t,store:t.store,element:n,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:!1,terminateFrame:function(){this.collection&&this.node.close()},addSymbol:function(a,l){l=Ei(l,this.base),this.node=this.store.sym(l),this.nodeType=a},loadTriple:function(){if(this.parent.parent.collection?this.parent.parent.node.append(this.node):this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why),this.parent.rdfid!=null){var a=this.store.sym(Ei("#"+this.parent.rdfid,this.base));this.store.add(a,this.store.sym(i.ns.RDF+"type"),this.store.sym(i.ns.RDF+"Statement"),this.parser.why),this.store.add(a,this.store.sym(i.ns.RDF+"subject"),this.parent.parent.node,this.parser.why),this.store.add(a,this.store.sym(i.ns.RDF+"predicate"),this.parent.node,this.parser.why),this.store.add(a,this.store.sym(i.ns.RDF+"object"),this.node,this.parser.why)}},isTripleToLoad:function(){return this.parent!=null&&this.parent.parent!=null&&this.nodeType===this.NODE&&this.parent.nodeType===this.ARC&&this.parent.parent.nodeType===this.NODE},addNode:function(a){this.addSymbol(this.NODE,a),this.isTripleToLoad()&&this.loadTriple()},addCollection:function(){this.nodeType=this.NODE,this.node=this.store.collection(),this.collection=!0,this.isTripleToLoad()&&this.loadTriple()},addCollectionArc:function(){this.nodeType=this.ARC},addBNode:function(a){a!=null?this.parser.bnodes[a]!=null?this.node=this.parser.bnodes[a]:this.node=this.parser.bnodes[a]=this.store.bnode():this.node=this.store.bnode(),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()},addArc:function(a){a===i.ns.RDF+"li"&&(a=i.ns.RDF+"_"+this.parent.listIndex,this.parent.listIndex++),this.addSymbol(this.ARC,a)},addLiteral:function(a){this.parent.datatype&&this.parent.datatype!==i.ns.RDF+"langString"?this.node=this.store.literal(a,this.store.sym(this.parent.datatype)):this.node=this.store.literal(a,this.lang),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}}}},{key:"getAttributeNodeNS",value:function(t,r,n){var s=null;if(t.getAttributeNodeNS)s=t.getAttributeNodeNS(r,n);else for(var a=t.attributes,l,u,f=0;f<a.length;++f)if(l=a[f],l.namespaceURI===r&&(u=l.prefix?l.prefix+":"+n:n,u===l.nodeName)){s=l;break}return s}},{key:"parse",value:function(t,r,n){var s=t.childNodes;this.cleanParser();var a;if(t.nodeType===i.nodeType.DOCUMENT){for(var l=0;l<s.length;l++)if(s[l].nodeType===i.nodeType.ELEMENT){a=s[l];break}}else if(t.nodeType===i.nodeType.ELEMENT)a=t;else throw new Error("RDFParser: can't find root in "+r+". Halting. ");this.why=n;var u=this.frameFactory(this);return this.base=r,u.base=r,u.lang=null,this.parseDOM(this.buildFrame(u,a)),!0}},{key:"parseDOM",value:function(t){for(var r,n=(function(y){var N="";if(y.namespaceURI==null)throw new Error("RDF/XML syntax error: No namespace for "+y.localName+" in "+this.base);return y.namespaceURI&&(N=N+y.namespaceURI),y.localName?N=N+y.localName:y.nodeName&&(y.nodeName.indexOf(":")>=0?N=N+y.nodeName.split(":")[1]:N=N+y.nodeName),N}).bind(this),s=!0;t.parent;){var a=t.element,l=a.attributes;if(a.nodeType===i.nodeType.TEXT||a.nodeType===i.nodeType.CDATA_SECTION)t.parent.nodeType===t.NODE&&(t.addArc(i.ns.RDF+"value"),t=this.buildFrame(t)),t.addLiteral(a.nodeValue);else if(n(a)!==i.ns.RDF+"RDF")if(t.parent&&t.parent.collection&&(t.addCollectionArc(),t=this.buildFrame(t,t.element),t.parent.element=null),!t.parent||!t.parent.nodeType||t.parent.nodeType===t.ARC){var u=this.getAttributeNodeNS(a,i.ns.RDF,"about");if(r=this.getAttributeNodeNS(a,i.ns.RDF,"ID"),u&&r)throw new Error("RDFParser: "+a.nodeName+" has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.");if(!u&&r)t.addNode("#"+r.nodeValue),a.removeAttributeNode(r);else if(u==null&&r==null){var f=this.getAttributeNodeNS(a,i.ns.RDF,"nodeID");f?(t.addBNode(f.nodeValue),a.removeAttributeNode(f)):t.addBNode()}else t.addNode(u.nodeValue),a.removeAttributeNode(u);var h=this.getAttributeNodeNS(a,i.ns.RDF,"type");i.ns.RDF+"Description"!==n(a)&&(h={nodeValue:n(a)}),h!=null&&(this.store.add(t.node,this.store.sym(i.ns.RDF+"type"),this.store.sym(Ei(h.nodeValue,t.base)),this.why),h.nodeName&&a.removeAttributeNode(h));for(var _=l.length-1;_>=0;_--)this.store.add(t.node,this.store.sym(n(l[_])),this.store.literal(l[_].nodeValue,t.lang),this.why)}else{t.addArc(n(a)),this.reify&&(r=this.getAttributeNodeNS(a,i.ns.RDF,"ID"),r&&(t.rdfid=r.nodeValue,a.removeAttributeNode(r)));var p=this.getAttributeNodeNS(a,i.ns.RDF,"parseType"),d=this.getAttributeNodeNS(a,i.ns.RDF,"datatype");if(d&&(t.datatype=d.nodeValue,a.removeAttributeNode(d)),p){var v=p.nodeValue;v==="Literal"?(t.datatype=i.ns.RDF+"XMLLiteral",t=this.buildFrame(t),t.addLiteral(a.innerHTML||a.childNodes),s=!1):v==="Resource"?(t=this.buildFrame(t,t.element),t.parent.element=null,t.addBNode()):v==="Collection"&&(t=this.buildFrame(t,t.element),t.parent.element=null,t.addCollection()),a.removeAttributeNode(p)}if(l.length!==0){var m=this.getAttributeNodeNS(a,i.ns.RDF,"resource"),b=this.getAttributeNodeNS(a,i.ns.RDF,"nodeID");t=this.buildFrame(t),m?(t.addNode(m.nodeValue),a.removeAttributeNode(m)):b?(t.addBNode(b.nodeValue),a.removeAttributeNode(b)):t.addBNode();for(var A=l.length-1;A>=0;A--){var U=this.buildFrame(t);U.addArc(n(l[A])),n(l[A])===i.ns.RDF+"type"?this.buildFrame(U).addNode(l[A].nodeValue):this.buildFrame(U).addLiteral(l[A].nodeValue)}}else a.childNodes.length===0&&this.buildFrame(t).addLiteral("")}for(a=t.element;t.parent;){for(var I=t;a==null;)t=t.parent,a=t.element;var O=a.childNodes&&a.childNodes[t.lastChild];if(!O||!s){if(t.terminateFrame(),!(t=t.parent))break;a=t.element,s=!0}else if(O.nodeType!==i.nodeType.ELEMENT&&O.nodeType!==i.nodeType.TEXT&&O.nodeType!==i.nodeType.CDATA_SECTION||(O.nodeType===i.nodeType.TEXT||O.nodeType===i.nodeType.CDATA_SECTION)&&a.childNodes.length!==1)t.lastChild++;else{t.lastChild++,t=this.buildFrame(I,a.childNodes[t.lastChild-1]);break}}}}},{key:"cleanParser",value:function(){this.bnodes={},this.why=null}},{key:"buildFrame",value:function(t,r){var n=this.frameFactory(this,t,r);if(t&&(n.base=t.base,n.lang=t.lang),!r||r.nodeType===i.nodeType.TEXT||r.nodeType===i.nodeType.CDATA_SECTION)return n;var s=r.attributes,a=r.getAttributeNode("xml:base");a!=null&&(n.base=a.nodeValue,r.removeAttribute("xml:base"));var l=r.getAttributeNode("xml:lang");l!=null&&(n.lang=l.nodeValue,r.removeAttribute("xml:lang"));for(var u=s.length-1;u>=0;u--)if(s[u].nodeName.substr(0,3)==="xml"){if(s[u].name.slice(0,6)==="xmlns:"){var f=s[u].nodeValue;this.base&&(f=Ei(f,this.base)),this.store.setPrefixForURI(s[u].name.slice(6),f)}r.removeAttributeNode(s[u])}return n}}])}();et(Mf,"ns",{RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"});et(Mf,"nodeType",{ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12});function YS(i,e,t){var r,n,s,a=["INSERT","DELETE","WHERE"],l=Rn("http://www.w3.org/ns/pim/patch#"),u=Ed(e,e,t,t,null,null,"",null),f={},h=function(b,A,U,I,O){return"Line "+(A+1)+" of <"+b+`>: Bad syntax:
   `+O+`
   at: "`+U.slice(I,I+30)+'"'};r=0;var _=e.sym(t+"#query");for(f.query=_;;){if(n=u.skipSpace(i,r),n<0)return f;if(i[n]===";"){if(r=u.skipSpace(i,n+1),r<0)return f;n=r}var p=!1;for(s=0;s<a.length;s++){var d=a[s];if(i.slice(n,n+d.length)===d){if(r=u.skipSpace(i,n+d.length),r<0)throw h(u._thisDoc,u.lines,i,n+d.length,"found EOF, needed {...} after "+d);if((d==="INSERT"||d==="DELETE")&&i.slice(r,r+4)==="DATA"){if(n=u.skipSpace(i,r+4),n<0)throw h(u._thisDoc,u.lines,i,r+4,"needed {...} after INSERT DATA "+d);r=n}var v=[];if(n=u.node(i,r,v),n<0)throw h(u._thisDoc,u.lines,i,r,"bad syntax or EOF in {...} after "+d);f[d.toLowerCase()]=v[0],e.add(_,l(d.toLowerCase()),v[0]),p=!0,r=n}}if(!p&&i.slice(n,n+7)==="@prefix"){if(r=u.directive(i,n),r<0)throw h(u._thisDoc,u.lines,i,r,"bad syntax or EOF after @prefix ");r=u.checkDot(i,r),p=!0}if(!p)throw h(u._thisDoc,u.lines,i,n,"Unknown syntax at start of statememt: '"+i.slice(n).slice(0,20)+"'")}}function Xh(i,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"text/turtle",n=arguments.length>4?arguments[4]:void 0;r=r||Es,r=r.split(";")[0];try{if(r===W1||r===Es){var s=Ed(e,e,t,t,null,null,"",null);s.loadBuf(i),u()}else if(r===wo){var a=new Mf(e);a.parse(pl(i),t,e.sym(t)),u()}else if(r===Hh)bf(pl(i,{contentType:Hh}),e,t),u();else if(r===J_)bf(pl(i,{contentType:J_}),e,t),u();else if(r===xT||r===HT)YS(i,e,t),u();else if(r===qh)z2(i,e,t,u);else if(r===xh||r===jh){var l=new Y2({factory:Gh});h(null,i)}else throw r===void 0?new Error("contentType is undefined"):new Error("Don't know how to parse "+r+" yet")}catch(p){f(p)}Xh.handled={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/sparql-update":!0,"application/sparql-update-single-match":!0,"application/ld+json":!0,"application/nquads":!0,"application/n-quads":!0};function u(){if(n)n(null,e);else return}function f(p){if(r!==qh||r!==xh||r!==jh)if(n)n(p,e);else{var d=new Error(""+p+" while trying to parse <"+t+"> as "+r);throw d.cause=p,d}}function h(p,d){try{l.parse(d,_)}catch(v){n(v,e)}}function _(p,d){d?e.add(d.subject,d.predicate,d.object,d.graph):n(p,e)}}var Wh={exports:{}};(function(i,e){var t=typeof self<"u"?self:ha,r=function(){function s(){this.fetch=!1,this.DOMException=t.DOMException}return s.prototype=t,new s}();(function(s){(function(a){var l={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function u(P){return P&&DataView.prototype.isPrototypeOf(P)}if(l.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(P){return P&&f.indexOf(Object.prototype.toString.call(P))>-1};function _(P){if(typeof P!="string"&&(P=String(P)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(P))throw new TypeError("Invalid character in header field name");return P.toLowerCase()}function p(P){return typeof P!="string"&&(P=String(P)),P}function d(P){var Q={next:function(){var H=P.shift();return{done:H===void 0,value:H}}};return l.iterable&&(Q[Symbol.iterator]=function(){return Q}),Q}function v(P){this.map={},P instanceof v?P.forEach(function(Q,H){this.append(H,Q)},this):Array.isArray(P)?P.forEach(function(Q){this.append(Q[0],Q[1])},this):P&&Object.getOwnPropertyNames(P).forEach(function(Q){this.append(Q,P[Q])},this)}v.prototype.append=function(P,Q){P=_(P),Q=p(Q);var H=this.map[P];this.map[P]=H?H+", "+Q:Q},v.prototype.delete=function(P){delete this.map[_(P)]},v.prototype.get=function(P){return P=_(P),this.has(P)?this.map[P]:null},v.prototype.has=function(P){return this.map.hasOwnProperty(_(P))},v.prototype.set=function(P,Q){this.map[_(P)]=p(Q)},v.prototype.forEach=function(P,Q){for(var H in this.map)this.map.hasOwnProperty(H)&&P.call(Q,this.map[H],H,this)},v.prototype.keys=function(){var P=[];return this.forEach(function(Q,H){P.push(H)}),d(P)},v.prototype.values=function(){var P=[];return this.forEach(function(Q){P.push(Q)}),d(P)},v.prototype.entries=function(){var P=[];return this.forEach(function(Q,H){P.push([H,Q])}),d(P)},l.iterable&&(v.prototype[Symbol.iterator]=v.prototype.entries);function m(P){if(P.bodyUsed)return Promise.reject(new TypeError("Already read"));P.bodyUsed=!0}function b(P){return new Promise(function(Q,H){P.onload=function(){Q(P.result)},P.onerror=function(){H(P.error)}})}function A(P){var Q=new FileReader,H=b(Q);return Q.readAsArrayBuffer(P),H}function U(P){var Q=new FileReader,H=b(Q);return Q.readAsText(P),H}function I(P){for(var Q=new Uint8Array(P),H=new Array(Q.length),oe=0;oe<Q.length;oe++)H[oe]=String.fromCharCode(Q[oe]);return H.join("")}function O(P){if(P.slice)return P.slice(0);var Q=new Uint8Array(P.byteLength);return Q.set(new Uint8Array(P)),Q.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(P){this._bodyInit=P,P?typeof P=="string"?this._bodyText=P:l.blob&&Blob.prototype.isPrototypeOf(P)?this._bodyBlob=P:l.formData&&FormData.prototype.isPrototypeOf(P)?this._bodyFormData=P:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)?this._bodyText=P.toString():l.arrayBuffer&&l.blob&&u(P)?(this._bodyArrayBuffer=O(P.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(P)||h(P))?this._bodyArrayBuffer=O(P):this._bodyText=P=Object.prototype.toString.call(P):this._bodyText="",this.headers.get("content-type")||(typeof P=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var P=m(this);if(P)return P;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(A)}),this.text=function(){var P=m(this);if(P)return P;if(this._bodyBlob)return U(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(I(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}var N=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function T(P){var Q=P.toUpperCase();return N.indexOf(Q)>-1?Q:P}function j(P,Q){Q=Q||{};var H=Q.body;if(P instanceof j){if(P.bodyUsed)throw new TypeError("Already read");this.url=P.url,this.credentials=P.credentials,Q.headers||(this.headers=new v(P.headers)),this.method=P.method,this.mode=P.mode,this.signal=P.signal,!H&&P._bodyInit!=null&&(H=P._bodyInit,P.bodyUsed=!0)}else this.url=String(P);if(this.credentials=Q.credentials||this.credentials||"same-origin",(Q.headers||!this.headers)&&(this.headers=new v(Q.headers)),this.method=T(Q.method||this.method||"GET"),this.mode=Q.mode||this.mode||null,this.signal=Q.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&H)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(H)}j.prototype.clone=function(){return new j(this,{body:this._bodyInit})};function F(P){var Q=new FormData;return P.trim().split("&").forEach(function(H){if(H){var oe=H.split("="),re=oe.shift().replace(/\+/g," "),te=oe.join("=").replace(/\+/g," ");Q.append(decodeURIComponent(re),decodeURIComponent(te))}}),Q}function q(P){var Q=new v,H=P.replace(/\r?\n[\t ]+/g," ");return H.split(/\r?\n/).forEach(function(oe){var re=oe.split(":"),te=re.shift().trim();if(te){var $=re.join(":").trim();Q.append(te,$)}}),Q}y.call(j.prototype);function k(P,Q){Q||(Q={}),this.type="default",this.status=Q.status===void 0?200:Q.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Q?Q.statusText:"OK",this.headers=new v(Q.headers),this.url=Q.url||"",this._initBody(P)}y.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},k.error=function(){var P=new k(null,{status:0,statusText:""});return P.type="error",P};var L=[301,302,303,307,308];k.redirect=function(P,Q){if(L.indexOf(Q)===-1)throw new RangeError("Invalid status code");return new k(null,{status:Q,headers:{location:P}})},a.DOMException=s.DOMException;try{new a.DOMException}catch{a.DOMException=function(Q,H){this.message=Q,this.name=H;var oe=Error(Q);this.stack=oe.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function D(P,Q){return new Promise(function(H,oe){var re=new j(P,Q);if(re.signal&&re.signal.aborted)return oe(new a.DOMException("Aborted","AbortError"));var te=new XMLHttpRequest;function $(){te.abort()}te.onload=function(){var W={status:te.status,statusText:te.statusText,headers:q(te.getAllResponseHeaders()||"")};W.url="responseURL"in te?te.responseURL:W.headers.get("X-Request-URL");var de="response"in te?te.response:te.responseText;H(new k(de,W))},te.onerror=function(){oe(new TypeError("Network request failed"))},te.ontimeout=function(){oe(new TypeError("Network request failed"))},te.onabort=function(){oe(new a.DOMException("Aborted","AbortError"))},te.open(re.method,re.url,!0),re.credentials==="include"?te.withCredentials=!0:re.credentials==="omit"&&(te.withCredentials=!1),"responseType"in te&&l.blob&&(te.responseType="blob"),re.headers.forEach(function(W,de){te.setRequestHeader(de,W)}),re.signal&&(re.signal.addEventListener("abort",$),te.onreadystatechange=function(){te.readyState===4&&re.signal.removeEventListener("abort",$)}),te.send(typeof re._bodyInit>"u"?null:re._bodyInit)})}return D.polyfill=!0,s.fetch||(s.fetch=D,s.Headers=v,s.Request=j,s.Response=k),a.Headers=v,a.Request=j,a.Response=k,a.fetch=D,Object.defineProperty(a,"__esModule",{value:!0}),a})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var n=r;e=n.fetch,e.default=n.fetch,e.fetch=n.fetch,e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response,i.exports=e})(Wh,Wh.exports);var rf=Wh.exports;const KS=Ss(rf);function JS(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=ZS(i))||e){t&&(i=t);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(f){throw f},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,l;return{s:function(){t=t.call(i)},n:function(){var f=t.next();return s=f.done,f},e:function(f){a=!0,l=f},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(a)throw l}}}}function ZS(i,e){if(i){if(typeof i=="string")return H0(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return H0(i,e)}}function H0(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}function Ps(i,e,t){return e=Zr(e),Ea(i,J2()?Reflect.construct(e,t||[],Zr(i).constructor):e.apply(i,t))}function J2(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J2=function(){return!!i})()}var e9={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/ld+json":!0},Z2={rdf:wo,owl:wo,n3:"text/n3",ttl:"text/turtle",nt:"text/n3",acl:"text/n3",html:"text/html",xml:"text/xml"},eb=function(e){return{link:Rn("http://www.w3.org/2007/ont/link#",e),http:Rn("http://www.w3.org/2007/ont/http#",e),httph:Rn("http://www.w3.org/2007/ont/httph#",e),rdf:Rn("http://www.w3.org/1999/02/22-rdf-syntax-ns#",e),rdfs:Rn("http://www.w3.org/2000/01/rdf-schema#",e),dc:Rn("http://purl.org/dc/elements/1.1/",e),ldp:Rn("http://www.w3.org/ns/ldp#",e)}},Zi=eb(),es=xr(function i(e,t){Hr(this,i),et(this,"response",void 0),et(this,"dom",void 0),this.response=e,this.dom=t});et(es,"pattern",void 0);var Td=function(i){function e(){return Hr(this,e),Ps(this,e,arguments)}return Pn(e,i),xr(e,[{key:"parse",value:function(r,n,s){var a=r.store;this.dom||(this.dom=pl(n));var l=this.dom.documentElement;if(l.nodeName==="parsererror")return r.failFetch(s,"Badly formed XML in "+s.resource.value,"parse_error");var u=new Mf(a);try{u.parse(this.dom,s.original.value,s.original)}catch(f){return r.failFetch(s,"Syntax error parsing RDF/XML! "+f,"parse_error")}return s.noMeta||a.add(s.original,Zi.rdf("type"),Zi.link("RDFDocument"),r.appNode),r.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"RDFXMLHandler"}},{key:"register",value:function(r){r.mediatypes[wo]={q:.9}}}])}(es);Td.pattern=new RegExp("application/rdf\\+xml");var As=function(i){function e(){return Hr(this,e),Ps(this,e,arguments)}return Pn(e,i),xr(e,[{key:"parse",value:function(r,n,s){var a,l;this.dom||(this.dom=pl(n));var u=r.store,f=this.dom.getElementsByTagName("title");f.length>0&&u.add(s.resource,Zi.dc("title"),u.rdfFactory.literal(f[0].textContent),s.resource);for(var h=this.dom.getElementsByTagName("link"),_=h.length-1;_>=0;_--)a=h[_].getAttribute("rel"),l=!1,a||(a=h[_].getAttribute("rev"),l=!0),a&&r.linkData(s.original,a,h[_].getAttribute("href"),s.resource,l);for(var p=this.dom.getElementsByTagName("script"),d=0;d<p.length;d++){var v=p[d].getAttribute("type");e9[v]&&(Xh(p[d].textContent,u,s.original.value,v),Xh(p[d].textContent,u,s.original.value,v))}if(s.noMeta||u.add(s.resource,Zi.rdf("type"),Zi.link("WebPage"),r.appNode),!s.noRDFa&&bf)try{bf(this.dom,u,s.original.value)}catch(b){var m="Error trying to parse "+s.resource+` as RDFa:
`+b+`:
`+b.stack;return r.failFetch(s,m,"parse_error")}return r.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"XHTMLHandler"}},{key:"register",value:function(r){r.mediatypes[Hh]={}}}])}(es);As.pattern=new RegExp("application/xhtml");var wf=function(i){function e(){return Hr(this,e),Ps(this,e,arguments)}return Pn(e,i),xr(e,[{key:"parse",value:function(r,n,s){for(var a=pl(n),l=0;l<a.childNodes.length;l++){var u=a.childNodes[l];if(e.isElement(u)){var f=u.namespaceURI;if(f&&f===f.rdf){r.addStatus(s.req,"Has XML root element in the RDF namespace, so assume RDF/XML.");var h=new Td(this.response,a);return h.parse(r,n,s)}break}}if(a.doctype&&a.doctype.name==="html"&&a.doctype.publicId.match(/^-\/\/W3C\/\/DTD XHTML/)&&a.doctype.systemId.match(/http:\/\/www.w3.org\/TR\/xhtml/)){r.addStatus(s.req,`Has XHTML DOCTYPE. Switching to XHTML Handler.
`);var _=new As(this.response,a);return _.parse(r,n,s)}var p=a.getElementsByTagName("html")[0];if(p){var d=p.getAttribute("xmlns");if(d&&d.match(/^http:\/\/www.w3.org\/1999\/xhtml/)){r.addStatus(s.req,`Has a default namespace for XHTML. Switching to XHTMLHandler.
`);var v=new As(this.response,a);return v.parse(r,n,s)}}return r.failFetch(s,`Unsupported dialect of XML: not RDF or XHTML namespace, etc.
`+n.slice(0,80),901)}}],[{key:"toString",value:function(){return"XMLHandler"}},{key:"register",value:function(r){r.mediatypes["text/xml"]={q:.5},r.mediatypes["application/xml"]={q:.5}}},{key:"isElement",value:function(r){return r.nodeType===Node.ELEMENT_NODE}}])}(es);wf.pattern=new RegExp("(text|application)/(.*)xml");var tb=function(i){function e(){return Hr(this,e),Ps(this,e,arguments)}return Pn(e,i),xr(e,[{key:"parse",value:function(r,n,s){var a=r.store;if(ab(n)){r.addStatus(s.req,`Has an XML declaration. We'll assume it's XHTML as the content-type was text/html.
`);var l=new As(this.response);return l.parse(r,n,s)}if(t9(n)){r.addStatus(s.req,`Has XHTML DOCTYPE. Switching to XHTMLHandler.
`);var u=new As(this.response);return u.parse(r,n,s)}if(r9(n)){r.addStatus(s.req,`Has default namespace for XHTML, so switching to XHTMLHandler.
`);var f=new As(this.response);return f.parse(r,n,s)}var h=new RegExp("<title>([\\s\\S]+?)</title>","im").exec(n);return h&&a.add(s.resource,Zi.dc("title"),a.rdfFactory.literal(h[1]),s.resource),a.add(s.resource,Zi.rdf("type"),Zi.link("WebPage"),r.appNode),r.addStatus(s.req,"non-XML HTML document, not parsed for data."),r.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"HTMLHandler"}},{key:"register",value:function(r){r.mediatypes["text/html"]={q:.9}}}])}(es);tb.pattern=new RegExp("text/html");var rb=function(i){function e(){return Hr(this,e),Ps(this,e,arguments)}return Pn(e,i),xr(e,[{key:"parse",value:function(r,n,s,a){var l=r.store;return new Promise(function(u,f){try{z2(n,l,s.original.value,function(){u(r.doneFetch(s,a))})}catch(_){var h="Error trying to parse "+s.resource+` as JSON-LD:
`+_;u(r.failFetch(s,h,"parse_error",a))}})}}],[{key:"toString",value:function(){return"JsonLdHandler"}},{key:"register",value:function(r){r.mediatypes["application/ld+json"]={q:.9}}}])}(es);rb.pattern=/application\/ld\+json/;var nb=function(i){function e(){return Hr(this,e),Ps(this,e,arguments)}return Pn(e,i),xr(e,[{key:"parse",value:function(r,n,s){if(ab(n)){r.addStatus(s.req,"Warning: "+s.resource+` has an XML declaration. We'll assume it's XML but its content-type wasn't XML.
`);var a=new wf(this.response);return a.parse(r,n,s)}if(n.slice(0,500).match(/xmlns:/)){r.addStatus(s.req,`May have an XML namespace. We'll assume it's XML but its content-type wasn't XML.
`);var l=new wf(this.response);return l.parse(r,n,s)}return r.addStatus(s.req,"Plain text document, no known RDF semantics."),r.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"TextHandler"}},{key:"register",value:function(r){r.mediatypes["text/plain"]={q:.5}}}])}(es);nb.pattern=new RegExp("text/plain");var ib=function(i){function e(){return Hr(this,e),Ps(this,e,arguments)}return Pn(e,i),xr(e,[{key:"parse",value:function(r,n,s,a){var l=r.store,u=Ed(l,l,s.original.value,s.original.value,null,null,"",null);try{u.loadBuf(n)}catch(h){var f="Error trying to parse "+s.resource+` as Notation3:
`+h;return r.failFetch(s,f,"parse_error",a)}return r.addStatus(s.req,"N3 parsed: "+u.statementCount+" triples in "+u.lines+" lines."),r.store.add(s.original,Zi.rdf("type"),Zi.link("RDFDocument"),r.appNode),r.doneFetch(s,this.response)}}],[{key:"toString",value:function(){return"N3Handler"}},{key:"register",value:function(r){r.mediatypes["text/n3"]={q:"1.0"},r.mediatypes["text/turtle"]={q:1}}}])}(es);ib.pattern=new RegExp("(application|text)/(x-)?(rdf\\+)?(n3|turtle)");var Qh={RDFXMLHandler:Td,XHTMLHandler:As,XMLHandler:wf,HTMLHandler:tb,TextHandler:nb,N3Handler:ib,JsonLdHandler:rb};function t9(i){var e=i.indexOf("<!DOCTYPE html"),t=i.indexOf(">");return e===-1||t===-1||e>t?!1:i.substr(e,t-e).indexOf("XHTML")!==-1}function ab(i){var e=i.match(/\s*<\?xml\s+version\s*=[^<>]+\?>/);return!!e}function r9(i){var e=i.match(/[^(<html)]*<html\s+[^<]*xmlns=['"]http:\/\/www.w3.org\/1999\/xhtml["'][^<]*>/);return!!e}var Dl=function(){function i(e){var t=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Hr(this,i),et(this,"store",void 0),et(this,"timeout",void 0),et(this,"_fetch",void 0),et(this,"mediatypes",void 0),et(this,"appNode",void 0),et(this,"requested",void 0),et(this,"timeouts",void 0),et(this,"redirectedTo",void 0),et(this,"fetchQueue",void 0),et(this,"fetchCallbacks",void 0),et(this,"nonexistent",void 0),et(this,"lookedUp",void 0),et(this,"handlers",void 0),et(this,"ns",void 0),et(this,"fireCallbacks",void 0),this.store=e||new Fo,this.ns=eb(this.store.rdfFactory),this.timeout=r.timeout||3e4,this._fetch=r.fetch||typeof global<"u"&&(global.solidFetcher||global.solidFetch)||typeof window<"u"&&(window.solidFetcher||window.solidFetch)||KS,!this._fetch)throw new Error("No _fetch function available for Fetcher");this.appNode=this.store.sym("chrome://TheCurrentSession"),this.store.fetcher=this,this.requested={},this.timeouts={},this.redirectedTo={},this.fetchQueue={},this.fetchCallbacks={},this.nonexistent={},this.lookedUp={},this.handlers=[],this.mediatypes={"image/*":{q:.9},"*/*":{q:.1}},LN(this,["request","fail","refresh","retract","done"]),Object.keys(r.handlers||Qh).map(function(n){return t.addHandler(Qh[n])})}return xr(i,[{key:"load",value:function(t){var r=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n=Object.assign({},n),t instanceof Array)return Promise.all(t.map(function(b){return r.load(b,Object.assign({},n))}));var s=t,a=ul(s);a=a.split("#")[0],n=this.initFetchOptions(a,n);var l=this.appNode,u=this.store,f=u.statementsMatching(void 0,this.ns.link("requestedURI"),u.sym(a),l).map(function(b){return b.subject}),h=JS(f),_;try{for(h.s();!(_=h.n()).done;){var p=_.value,d=u.any(p,this.ns.link("response"),null,l);if(d!=null){var v=u.statementsMatching(d,this.ns.link("outOfDate"),!0,l);u.remove(v),n.force=!0,n.clearPreviousData=!0}}}catch(b){h.e(b)}finally{h.f()}var m=this.initFetchOptions(a,n);return this.pendingFetchPromise(a,m.baseURI,m)}},{key:"pendingFetchPromise",value:function(){var e=r0($u.mark(function r(n,s,a){var l=this,u;return $u.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(h.t0=!a.force,!h.t0){h.next=5;break}return h.next=4,this.fetchQueue[s];case 4:h.t0=h.sent;case 5:if(!h.t0){h.next=9;break}u=this.fetchQueue[s],h.next=12;break;case 9:u=Promise.race([this.setRequestTimeout(n,a),this.fetchUri(n,a)]),this.fetchQueue[s]=u,this.cleanupFetchRequest(s,void 0,this.timeout);case 12:return h.abrupt("return",u.then(function(_){return n in l.timeouts&&(l.timeouts[n].forEach(clearTimeout),delete l.timeouts[n]),_}));case 13:case"end":return h.stop()}},r,this)}));function t(r,n,s){return e.apply(this,arguments)}return t}()},{key:"cleanupFetchRequest",value:function(t,r,n){var s=this;r!==void 0&&console.warn("_options is deprecated"),this.timeouts[t]=(this.timeouts[t]||[]).concat(setTimeout(function(){s.isPending(t)||delete s.fetchQueue[t]},n))}},{key:"initFetchOptions",value:function(t,r){var n=this.store,s=!r.method||r.method.toUpperCase()==="GET";s||(r.force=!0),r.resource=n.rdfFactory.namedNode(t),r.baseURI=r.baseURI||t,r.original=n.rdfFactory.namedNode(r.baseURI),r.req=n.bnode(),r.headers=r.headers||new rf.Headers,r.contentType&&(r.headers["content-type"]=r.contentType),r.force&&(r.cache="no-cache");var a=this.acceptString();r.headers.accept=a;var l=i.offlineOverride(t);r.requestedURI=l,i.setCredentials(l,r);var u=i.proxyIfNecessary(l);return l!==u&&(r.proxyUsed=!0),r.actualProxyURI=u,r}},{key:"fetchUri",value:function(t,r){var n=this;if(!t)return Promise.reject(new Error("Cannot fetch an empty uri"));if(i.unsupportedProtocol(t))return this.failFetch(r,"fetcher: Unsupported protocol","unsupported_protocol");var s=this.getState(t);if(r.force)delete this.nonexistent[t];else{if(s==="fetched")return Promise.resolve(this.doneFetch(r,{status:200,ok:!0,statusText:"Already loaded into quadstore."}));if(s==="failed"&&this.requested[t]===404){var a="Previously failed: "+this.requested[t],l={url:t,status:this.requested[t],statusText:a,responseText:a,headers:new rf.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return this.failFetch(r,a,this.requested[t],l)}}this.fireCallbacks("request",[t]),this.requested[t]=!0,r.noMeta||this.saveRequestMetadata(t,r);var u=r.actualProxyURI;return this._fetch(u,r).then(function(f){return n.handleResponse(f,t,r)},function(f){var h={url:u,status:999,statusText:(f.name||"network failure")+": "+(f.errno||f.code||f.type),responseText:f.message,headers:new rf.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return n.handleError(h,t,r)})}},{key:"nowOrWhenFetched",value:function(t,r,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=ul(t);typeof r=="function"?n=r:typeof r>"u"||(e0(r)?s.referringTerm=r:s=r),this.load(a,s).then(function(l){if(n)if(l)if(l.ok)n(!0,"OK",l);else{var u="HTTP error: Status "+l.status+" ("+l.statusText+")";l.responseText&&(u+=" "+l.responseText),n(!1,u,l)}else{var f="@@ nowOrWhenFetched:  no response object!";n(!1,f)}},function(l){var u=l.message||l.statusText;u="Failed to load  <"+a+"> "+u,l.response&&l.response.status&&(u+=" status: "+l.response.status),n(!1,u,l.response)})}},{key:"addStatus",value:function(t,r){var n=new Date;r="["+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()+"."+n.getMilliseconds()+"] "+r;var s=this.store,a=s.the(t,this.ns.link("status"));fd(a)&&a.append(s.rdfFactory.literal(r))}},{key:"failFetch",value:function(t,r,n,s){this.addStatus(t.req,r),t.noMeta||this.store.add(t.original,this.ns.link("error"),this.store.rdfFactory.literal(r));var a=(t.method||"GET").toUpperCase(),l=a==="GET"||a==="HEAD";l&&(t.resource.equals(t.original),this.requested[hl(t.original.value)]=n,this.fireCallbacks("fail",[t.original.value,r]));var u=new Error("Fetcher: "+r);return u.status=n,u.statusText=r,u.response=s,Promise.reject(u)}},{key:"linkData",value:function(t,r,n,s,a){if(n){var l=this.store,u,f=l.rdfFactory.namedNode(Ei(n,t.value));if(r==="alternate"||r==="seeAlso"||r==="meta"||r==="describedby"){if(f.value===t.value)return;u=this.ns.rdfs("seeAlso")}else r==="type"?u=l.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):u=l.rdfFactory.namedNode(Ei(encodeURIComponent(r),"http://www.iana.org/assignments/link-relations/"));a?l.add(f,u,t,s):l.add(t,u,f,s)}}},{key:"parseLinkHeader",value:function(t,r,n){if(t){var s=/<[^>]*>\s*(\s*;\s*[^()<>@,;:"/[\]?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*")))*(,|$)/g,a=/[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*"))/g,l=t.match(s);if(l!=null)for(var u=0;u<l.length;u++){var f=l[u].split(">"),h=f[0].substring(1),_=f[1],p=_.match(a);if(p==null)return;for(var d=0;d<p.length;d++){var v=p[d],m=v.split("="),b=m[1].replace(/["']/g,"");this.linkData(r,b,h,n)}}}}},{key:"doneFetch",value:function(t,r){return this.addStatus(t.req,"Done."),this.requested[t.original.value]="done",this.fireCallbacks("done",[t.original.value]),r.req=t.req,r}},{key:"nowKnownAs",value:function(t,r){this.lookedUp[t.value]?this.lookedUp[r.value]||this.lookUpThing(r,t):this.lookedUp[r.value]&&(this.lookedUp[t.value]||this.lookUpThing(t,r))}},{key:"putBack",value:function(t){var r=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=ul(t),a=new vn(s).doc();return n.contentType=n["content-type"]||n["Content-Type"]||n.contentType||Es,n.contentType==="application/ld+json"?new Promise(function(l,u){ko(a,r.store,a.uri,n.contentType,function(f,h){f?u(f):(n.data=h,r.webOperation("PUT",t,n).then(function(_){return l(_)}).catch(function(_){return u(_)}))})}):(n.data=ko(a,this.store,a.value,n.contentType),this.webOperation("PUT",s,n))}},{key:"webCopy",value:function(t,r,n){var s=this;return this.webOperation("GET",t).then(function(a){return s.webOperation("PUT",r,{data:a.responseText,contentType:n})})}},{key:"delete",value:function(t,r){var n=this;return this.webOperation("DELETE",t,r).then(function(s){return n.requested[t]=404,n.nonexistent[t]=!0,n.unload(n.store.rdfFactory.namedNode(t)),s})}},{key:"createIfNotExists",value:function(){var e=r0($u.mark(function r(n){var s,a,l,u,f=arguments;return $u.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return s=f.length>1&&f[1]!==void 0?f[1]:Es,a=f.length>2&&f[2]!==void 0?f[2]:"",l=this,_.prev=3,_.next=6,l.load(n);case 6:u=_.sent,_.next=26;break;case 9:if(_.prev=9,_.t0=_.catch(3),_.t0.response.status!==404){_.next=25;break}return _.prev=12,_.next=15,l.webOperation("PUT",n.value,{data:a,contentType:s});case 15:u=_.sent,_.next=21;break;case 18:throw _.prev=18,_.t1=_.catch(12),_.t1;case 21:return delete l.requested[n.value],_.abrupt("return",u);case 25:throw _.t0;case 26:return _.abrupt("return",u);case 27:case"end":return _.stop()}},r,this,[[3,9],[12,18]])}));function t(r){return e.apply(this,arguments)}return t}()},{key:"createContainer",value:function(t,r,n){var s={"content-type":Es,link:this.ns.ldp("BasicContainer")+'; rel="type"'};r&&(s.slug=r);var a={headers:s};return n&&(a.body=n),this.webOperation("POST",t,a)}},{key:"invalidateCache",value:function(t){var r=ul(t),n=this;if(n.fetchQueue&&n.fetchQueue[r]){var s=n.fetchQueue[r];s.PromiseStatus,delete n.fetchQueue[r]}if(n.requested[r]&&n.requested[r]!=="done"&&n.requested[r]!=="failed"&&n.requested[r]!==404){var a="Rdflib: fetcher: Destructive operation on <".concat(n.requested[r],"> file being fetched! ")+r;console.error(a)}else delete n.requested[r],delete n.nonexistent[r]}},{key:"webOperation",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=ul(r);n.method=t,n.body=n.data||n.body,n.force=!0;var a=this;if(n.body&&!n.contentType)throw new Error("Web operation sending data must have a defined contentType.");return n.contentType&&(n.headers=n.headers||{},n.headers["content-type"]=n.contentType),i.setCredentials(s,n),new Promise(function(l,u){a._fetch(s,n).then(function(f){if(f.ok)(t==="PUT"||t==="PATCH"||t==="POST"||t==="DELETE")&&a.invalidateCache(s),f.text?f.text().then(function(p){f.responseText=p,l(f)}):l(f);else{var h="Web error: "+f.status;f.statusText&&(h+=" ("+f.statusText+")"),h+=" on "+t+" of <"+s+">",f.responseText&&(h+=": "+f.responseText);var _=new Error(h);_.response=f,u(_)}},function(f){var h="Fetch error for "+t+" of <"+s+">:"+f;u(new Error(h))})})}},{key:"lookUpThing",value:function(t,r){var n=this,s=this.store.uris(t);return s=s.map(function(a){return hl(a)}),s.forEach(function(a){n.lookedUp[a]=!0}),this.load(s,{referringTerm:r})}},{key:"getHeader",value:function(t,r){for(var n=this.store,s=t.value,a=n.each(void 0,this.ns.link("requestedURI"),n.rdfFactory.literal(s)),l=0;l<a.length;l++){var u=a[l];if(u!==void 0){var f=n.any(u,this.ns.link("response"));if(f!==void 0&&n.anyValue(f,this.ns.http("status"))&&n.anyValue(f,this.ns.http("status")).startsWith("2")){var h=n.each(f,this.ns.httph(r.toLowerCase()));return h.length?h.map(function(_){return _.value}):[]}}}}},{key:"saveRequestMetadata",value:function(t,r){var n=r.req,s=this.store,a=r.referringTerm;this.addStatus(r.req,"Accept: "+r.headers.accept),e0(a)&&s.add(s.rdfFactory.namedNode(t),this.ns.link("requestedBy"),a,this.appNode),r.original&&r.original.value!==t&&s.add(n,this.ns.link("orginalURI"),s.rdfFactory.literal(r.original.value),this.appNode);var l=new Date,u="["+l.getHours()+":"+l.getMinutes()+":"+l.getSeconds()+"] ";s.add(n,this.ns.rdfs("label"),s.rdfFactory.literal(u+" Request for "+t),this.appNode),s.add(n,this.ns.link("requestedURI"),s.rdfFactory.literal(t),this.appNode),s.add(n,this.ns.link("status"),s.collection(),this.appNode)}},{key:"saveResponseMetadata",value:function(t,r){var n=this,s=this.store,a=s.bnode();return s.add(r.req,this.ns.link("response"),a,this.appNode),s.add(a,this.ns.http("status"),s.rdfFactory.literal(t.status),this.appNode),s.add(a,this.ns.http("statusText"),s.rdfFactory.literal(t.statusText),this.appNode),t.headers.forEach(function(l,u){s.add(a,n.ns.httph(u),n.store.rdfFactory.literal(l),n.appNode),u==="content-type"&&s.add(r.resource,n.ns.rdf("type"),s.rdfFactory.namedNode(ON(l).value),n.appNode)}),a}},{key:"objectRefresh",value:function(t){var r=this.store.uris(t);if(typeof r<"u")for(var n=0;n<r.length;n++)this.refresh(this.store.rdfFactory.namedNode(hl(r[n])))}},{key:"refresh",value:function(t,r){this.fireCallbacks("refresh",arguments),this.nowOrWhenFetched(t,{force:!0,clearPreviousData:!0},r)}},{key:"refreshIfExpired",value:function(t,r){var n=this.getHeader(t,"Expires");!n||new Date(n[0]).getTime()<=new Date().getTime()?this.refresh(t,r):r(!0,"Not expired",{})}},{key:"retract",value:function(t){this.store.removeMany(void 0,void 0,void 0,t),t.value&&delete this.requested[hl(t.value)],this.fireCallbacks("retract",arguments)}},{key:"getState",value:function(t){return typeof this.requested[t]>"u"?"unrequested":this.requested[t]===!0?"requested":this.requested[t]==="done"?"fetched":this.requested[t]==="redirected"?this.getState(this.redirectedTo[t]):"failed"}},{key:"isPending",value:function(t){return this.requested[t]===!0}},{key:"unload",value:function(t){this.store.removeDocument(t),delete this.requested[t.value]}},{key:"addHandler",value:function(t){this.handlers.push(t),t.register(this)}},{key:"retryNoCredentials",value:function(t,r){r.retriedWithNoCredentials=!0,delete this.requested[t],delete this.fetchQueue[t];var n=Object.assign({},r,{credentials:"omit"});return this.addStatus(r.req,"Abort: Will retry with credentials SUPPRESSED to see if that helps"),this.load(t,n)}},{key:"isCrossSite",value:function(t){if(typeof document>"u"||!document.location)return!1;var r=aN,n=""+document.location;return(r(n)&&r(t)&&r(n))!==r(t)}},{key:"handleError",value:function(t,r,n){if(this.isCrossSite(r)){if(n.credentials&&n.credentials==="include"&&!n.retriedWithNoCredentials)return this.retryNoCredentials(r,n);var s=i.crossSiteProxy(r);if(s&&!n.proxyUsed)return this.redirectToProxy(s,n)}var a;return t instanceof Error?a="Fetch error: "+t.message:(a=t.statusText,t.responseText&&(a+=" ".concat(t.responseText))),this.failFetch(n,a,t.status||998,t)}},{key:"addType",value:function(t,r,n,s){var a=r;if(s){var l=n.any(a,this.ns.link("requestedURI"));l&&l.value!==s&&n.add(n.rdfFactory.namedNode(s),this.ns.rdf("type"),t,this.appNode)}for(;;){var u=n.any(a,this.ns.link("requestedURI"));if(u&&u.value&&n.add(n.rdfFactory.namedNode(u.value),this.ns.rdf("type"),t,this.appNode),a=n.any(void 0,n.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#redirectedRequest"),a),!a)break;var f=n.any(a,n.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#response"));if(!f)break;var h=n.any(f,n.rdfFactory.namedNode("http://www.w3.org/2007/ont/http#status"));if(!h||h!=="301"&&h!=="302")break}}},{key:"handleResponse",value:function(t,r,n){var s=this,a=this.store,l=t.headers,u=n.req,f=this.saveResponseMetadata(t,n),h=this.normalizedContentType(n,l)||"",_=l.get("content-location");if(t.status===0)return this.handleError(t,r,n);if(t.status>=400)return t.status===404&&(this.nonexistent[n.original.value]=!0,this.nonexistent[r]=!0),this.saveErrorResponse(t,f).then(function(){var U=n.resource+" "+t.statusText;return s.failFetch(n,U,t.status,t)});var p=null,d=null;if(_&&(d=Ei(_,r),d!==r&&(p=d)),t.status===200){if(this.addType(this.ns.link("Document"),u,a,r),p&&this.addType(this.ns.link("Document"),u,a,p),n.clearPreviousData)for(var v=a.statementsMatching(void 0,void 0,void 0,n.resource).slice(),m=0;m<v.length;m++)a.removeStatement(v[m]);var b=h.includes("image/")||h.includes("application/pdf");h&&b&&(this.addType(a.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),u,a,r),p&&this.addType(a.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),u,a,p))}if(_){if(!n.force&&p&&this.requested[d]==="done")return this.doneFetch(n,t);this.requested[d]=!0}this.parseLinkHeader(l.get("link"),n.original,u);var A=this.handlerForContentType(h,t);return A?t.text().then(function(U){return t.responseText=U,A.parse(s,U,n,t)}):(this.addStatus(u,"Fetch over. No data handled."),this.doneFetch(n,t))}},{key:"saveErrorResponse",value:function(t,r){var n=this,s=this.store;return t.text().then(function(a){a.length>10&&s.add(r,n.ns.http("content"),s.rdfFactory.literal(a),r)})}},{key:"handlerForContentType",value:function(t,r){if(!t)return null;var n=this.handlers.find(function(s){return t.match(s.pattern)});return n?new n(r):null}},{key:"guessContentType",value:function(t){return Z2[t.split(".").pop()]}},{key:"normalizedContentType",value:function(t,r){if(t.forceContentType)return t.forceContentType;var n=r.get("content-type");if(!n||n.includes("application/octet-stream")){var s=this.guessContentType(t.resource.value);if(s)return s}var a=i0(t.resource.value);return!n&&["file","chrome"].includes(a)?"text/xml":n}},{key:"redirectToProxy",value:function(t,r){var n=this;this.addStatus(r.req,"BLOCKED -> Cross-site Proxy to <"+t+">"),r.proxyUsed=!0;var s=this.store,a=r.req;r.noMeta||(s.add(a,this.ns.link("redirectedTo"),s.rdfFactory.namedNode(t),a),this.addStatus(a,"redirected to new request")),this.requested[r.resource.value]="redirected",this.redirectedTo[r.resource.value]=t;var l=Object.assign({},r);return l.baseURI=r.resource.value,this.fetchUri(t,l).then(function(u){return l.noMeta||s.add(a,n.ns.link("redirectedRequest"),l.req,n.appNode),u})}},{key:"setRequestTimeout",value:function(t,r){var n=this;return new Promise(function(s){n.timeouts[t]=(n.timeouts[t]||[]).concat(setTimeout(function(){n.isPending(t)&&!r.retriedWithNoCredentials&&!r.proxyUsed&&s(n.failFetch(r,"Request to ".concat(t," timed out"),"timeout"))},n.timeout))})}},{key:"addFetchCallback",value:function(t,r){this.fetchCallbacks[t]?this.fetchCallbacks[t].push(r):this.fetchCallbacks[t]=[r]}},{key:"acceptString",value:function(){var t="";for(var r in this.mediatypes){t!==""&&(t+=", "),t+=r;for(var n in this.mediatypes[r])t+=";"+n+"="+this.mediatypes[r][n]}return t}}],[{key:"crossSiteProxy",value:function(t){if(i.crossSiteProxyTemplate)return i.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(t))}},{key:"offlineOverride",value:function(t){var r=t,n;return typeof window<"u"&&window.panes&&(n=window.panes.UI)&&n.preferences&&n.preferences.get("offlineModeUsingLocalhost")&&r.slice(0,7)==="http://"&&r.slice(7,17)!=="localhost/"&&(r="http://localhost/"+r.slice(7)),r}},{key:"proxyIfNecessary",value:function(t){var r;if(typeof window<"u"&&window.panes&&(r=window.panes.UI)&&r.isExtension)return t;if(typeof $SolidTestEnvironment<"u"&&$SolidTestEnvironment.localSiteMap){var n=t.split("/").slice(2),s=function l(u,f){var h=f[u.shift()];return h?typeof h=="string"?h+u.join("/"):u?l(u,h):null:null},a=s(n,$SolidTestEnvironment.localSiteMap);if(a)return a}return i.crossSiteProxyTemplate&&typeof document<"u"&&document.location&&(""+document.location).slice(0,6)==="https:"&&t.slice(0,5)==="http:"?i.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(t)):t}},{key:"unsupportedProtocol",value:function(t){var r=i0(t);return r==="tel"||r==="mailto"||r==="urn"}},{key:"setCredentials",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r.credentials===void 0&&(r.withCredentials!==void 0?r.credentials=r.withCredentials?"include":"omit":r.credentials="include")}}])}();et(Dl,"HANDLERS",void 0);et(Dl,"CONTENT_TYPE_BY_EXT",void 0);et(Dl,"crossSiteProxyTemplate",void 0);Dl.HANDLERS=Qh;Dl.CONTENT_TYPE_BY_EXT=Z2;function V0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function z0(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?V0(Object(t),!0).forEach(function(r){et(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):V0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var Ju=z0(z0({},Gh),{},{fetcher:function(e,t){return new Dl(e,t)},graph:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return new Fo(e,t||{rdfFactory:Gh})},lit:function(e,t,r){return this.literal(""+e,t||r)},st:function(e,t,r,n){return this.quad(e,t,r,n)}}),qf={};for(var Th in Ju)typeof Ju[Th]=="function"&&(qf[Th]=Ju[Th].bind(Ju));var n9=qf.graph,sb=qf.namedNode,i9=qf.literal;new j2;Pr.fromValue;Yi.nextId;let Ne,Oi=0,vo=null;function nf(){return(vo===null||vo.byteLength===0)&&(vo=new Uint8Array(Ne.memory.buffer)),vo}const af=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},a9=typeof af.encodeInto=="function"?function(i,e){return af.encodeInto(i,e)}:function(i,e){const t=af.encode(i);return e.set(t),{read:i.length,written:t.length}};function pa(i,e,t){if(t===void 0){const l=af.encode(i),u=e(l.length,1)>>>0;return nf().subarray(u,u+l.length).set(l),Oi=l.length,u}let r=i.length,n=e(r,1)>>>0;const s=nf();let a=0;for(;a<r;a++){const l=i.charCodeAt(a);if(l>127)break;s[n+a]=l}if(a!==r){a!==0&&(i=i.slice(a)),n=t(n,r,r=a+i.length*3,1)>>>0;const l=nf().subarray(n+a,n+r),u=a9(i,l);a+=u.written,n=t(n,r,a,1)>>>0}return Oi=a,n}function Nd(i){return i==null}let go=null;function st(){return(go===null||go.byteLength===0)&&(go=new Int32Array(Ne.memory.buffer)),go}const lb=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&lb.decode();function kr(i,e){return i=i>>>0,lb.decode(nf().subarray(i,i+e))}function Yr(i){const e=Ne.__wbindgen_export_2.get(i);return Ne.__externref_table_dealloc(i),e}function s9(i){try{const n=Ne.__wbindgen_add_to_stack_pointer(-16),s=pa(i,Ne.__wbindgen_malloc,Ne.__wbindgen_realloc),a=Oi;Ne.namedNode(n,s,a);var e=st()[n/4+0],t=st()[n/4+1],r=st()[n/4+2];if(r)throw Yr(t);return Al.__wrap(e)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}function l9(i){try{const a=Ne.__wbindgen_add_to_stack_pointer(-16);var e=Nd(i)?0:pa(i,Ne.__wbindgen_malloc,Ne.__wbindgen_realloc),t=Oi;Ne.blankNode(a,e,t);var r=st()[a/4+0],n=st()[a/4+1],s=st()[a/4+2];if(s)throw Yr(n);return Oo.__wrap(r)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}function o9(i,e){try{const l=Ne.__wbindgen_add_to_stack_pointer(-16);var t=Nd(i)?0:pa(i,Ne.__wbindgen_malloc,Ne.__wbindgen_realloc),r=Oi;Ne.literal(l,t,r,e);var n=st()[l/4+0],s=st()[l/4+1],a=st()[l/4+2];if(a)throw Yr(s);return Bo.__wrap(n)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}function u9(){const i=Ne.defaultGraph();return Lo.__wrap(i)}function f9(i){try{const n=Ne.__wbindgen_add_to_stack_pointer(-16),s=pa(i,Ne.__wbindgen_malloc,Ne.__wbindgen_realloc),a=Oi;Ne.variable(n,s,a);var e=st()[n/4+0],t=st()[n/4+1],r=st()[n/4+2];if(r)throw Yr(t);return Uo.__wrap(e)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}function c9(i,e,t){try{const a=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.triple(a,i,e,t);var r=st()[a/4+0],n=st()[a/4+1],s=st()[a/4+2];if(s)throw Yr(n);return kl.__wrap(r)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}function h9(i,e,t,r){try{const l=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.quad(l,i,e,t,r);var n=st()[l/4+0],s=st()[l/4+1],a=st()[l/4+2];if(a)throw Yr(s);return kl.__wrap(n)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}function d9(i){try{const n=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.fromTerm(n,i);var e=st()[n/4+0],t=st()[n/4+1],r=st()[n/4+2];if(r)throw Yr(t);return Yr(e)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}function p9(i){try{const n=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.fromQuad(n,i);var e=st()[n/4+0],t=st()[n/4+1],r=st()[n/4+2];if(r)throw Yr(t);return Yr(e)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}let mo=null;function _9(){return(mo===null||mo.byteLength===0)&&(mo=new Uint32Array(Ne.memory.buffer)),mo}function v9(i,e){i=i>>>0;const r=_9().subarray(i/4,i/4+e),n=[];for(let s=0;s<r.length;s++)n.push(Ne.__wbindgen_export_2.get(r[s]));return Ne.__externref_drop_slice(i,e),n}function g9(){Ne.main()}function m9(i){const e=Ne.__externref_table_alloc();return Ne.__wbindgen_export_2.set(e,i),e}function bi(i,e){try{return i.apply(this,e)}catch(t){const r=m9(t);Ne.__wbindgen_exn_store(r)}}const $0=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(i=>Ne.__wbg_blanknode_free(i>>>0));class Oo{static __wrap(e){e=e>>>0;const t=Object.create(Oo.prototype);return t.__wbg_ptr=e,$0.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,$0.unregister(this),e}free(){const e=this.__destroy_into_raw();Ne.__wbg_blanknode_free(e)}get termType(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.blanknode_term_type(s,this.__wbg_ptr);var r=st()[s/4+0],n=st()[s/4+1];return e=r,t=n,kr(r,n)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}get value(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.blanknode_value(s,this.__wbg_ptr);var r=st()[s/4+0],n=st()[s/4+1];return e=r,t=n,kr(r,n)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}toString(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.blanknode_toString(s,this.__wbg_ptr);var r=st()[s/4+0],n=st()[s/4+1];return e=r,t=n,kr(r,n)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}equals(e){return Ne.blanknode_equals(this.__wbg_ptr,e)!==0}}const G0=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(i=>Ne.__wbg_defaultgraph_free(i>>>0));class Lo{static __wrap(e){e=e>>>0;const t=Object.create(Lo.prototype);return t.__wbg_ptr=e,G0.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,G0.unregister(this),e}free(){const e=this.__destroy_into_raw();Ne.__wbg_defaultgraph_free(e)}get termType(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.defaultgraph_term_type(s,this.__wbg_ptr);var r=st()[s/4+0],n=st()[s/4+1];return e=r,t=n,kr(r,n)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}get value(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.defaultgraph_value(s,this.__wbg_ptr);var r=st()[s/4+0],n=st()[s/4+1];return e=r,t=n,kr(r,n)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}toString(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.defaultgraph_toString(s,this.__wbg_ptr);var r=st()[s/4+0],n=st()[s/4+1];return e=r,t=n,kr(r,n)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}equals(e){return Ne.defaultgraph_equals(this.__wbg_ptr,e)!==0}}const X0=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(i=>Ne.__wbg_literal_free(i>>>0));class Bo{static __wrap(e){e=e>>>0;const t=Object.create(Bo.prototype);return t.__wbg_ptr=e,X0.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,X0.unregister(this),e}free(){const e=this.__destroy_into_raw();Ne.__wbg_literal_free(e)}get termType(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.literal_term_type(s,this.__wbg_ptr);var r=st()[s/4+0],n=st()[s/4+1];return e=r,t=n,kr(r,n)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}get value(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.literal_value(s,this.__wbg_ptr);var r=st()[s/4+0],n=st()[s/4+1];return e=r,t=n,kr(r,n)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}get language(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.literal_language(s,this.__wbg_ptr);var r=st()[s/4+0],n=st()[s/4+1];return e=r,t=n,kr(r,n)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}get datatype(){const e=Ne.literal_datatype(this.__wbg_ptr);return Al.__wrap(e)}toString(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.literal_toString(s,this.__wbg_ptr);var r=st()[s/4+0],n=st()[s/4+1];return e=r,t=n,kr(r,n)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}equals(e){return Ne.literal_equals(this.__wbg_ptr,e)!==0}}const W0=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(i=>Ne.__wbg_namednode_free(i>>>0));class Al{static __wrap(e){e=e>>>0;const t=Object.create(Al.prototype);return t.__wbg_ptr=e,W0.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,W0.unregister(this),e}free(){const e=this.__destroy_into_raw();Ne.__wbg_namednode_free(e)}get termType(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.namednode_term_type(s,this.__wbg_ptr);var r=st()[s/4+0],n=st()[s/4+1];return e=r,t=n,kr(r,n)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}get value(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.namednode_value(s,this.__wbg_ptr);var r=st()[s/4+0],n=st()[s/4+1];return e=r,t=n,kr(r,n)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}toString(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.namednode_toString(s,this.__wbg_ptr);var r=st()[s/4+0],n=st()[s/4+1];return e=r,t=n,kr(r,n)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}equals(e){return Ne.namednode_equals(this.__wbg_ptr,e)!==0}}const Q0=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(i=>Ne.__wbg_quad_free(i>>>0));class kl{static __wrap(e){e=e>>>0;const t=Object.create(kl.prototype);return t.__wbg_ptr=e,Q0.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Q0.unregister(this),e}free(){const e=this.__destroy_into_raw();Ne.__wbg_quad_free(e)}get termType(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.quad_term_type(s,this.__wbg_ptr);var r=st()[s/4+0],n=st()[s/4+1];return e=r,t=n,kr(r,n)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}get value(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.defaultgraph_value(s,this.__wbg_ptr);var r=st()[s/4+0],n=st()[s/4+1];return e=r,t=n,kr(r,n)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}get subject(){return Ne.quad_subject(this.__wbg_ptr)}get predicate(){return Ne.quad_predicate(this.__wbg_ptr)}get object(){return Ne.quad_object(this.__wbg_ptr)}get graph(){return Ne.quad_graph(this.__wbg_ptr)}toString(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.quad_toString(s,this.__wbg_ptr);var r=st()[s/4+0],n=st()[s/4+1];return e=r,t=n,kr(r,n)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}equals(e){return Ne.quad_equals(this.__wbg_ptr,e)!==0}}const b9=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(i=>Ne.__wbg_store_free(i>>>0));class ob{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,b9.unregister(this),e}free(){const e=this.__destroy_into_raw();Ne.__wbg_store_free(e)}constructor(e){try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.store_new(s,e);var t=st()[s/4+0],r=st()[s/4+1],n=st()[s/4+2];if(n)throw Yr(r);return this.__wbg_ptr=t>>>0,this}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}add(e){try{const n=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.store_add(n,this.__wbg_ptr,e);var t=st()[n/4+0],r=st()[n/4+1];if(r)throw Yr(t)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}delete(e){try{const n=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.store_delete(n,this.__wbg_ptr,e);var t=st()[n/4+0],r=st()[n/4+1];if(r)throw Yr(t)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}has(e){try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.store_has(s,this.__wbg_ptr,e);var t=st()[s/4+0],r=st()[s/4+1],n=st()[s/4+2];if(n)throw Yr(r);return t!==0}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}get size(){try{const n=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.store_size(n,this.__wbg_ptr);var e=st()[n/4+0],t=st()[n/4+1],r=st()[n/4+2];if(r)throw Yr(t);return e>>>0}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}match(e,t,r,n){try{const h=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.store_match(h,this.__wbg_ptr,e,t,r,n);var s=st()[h/4+0],a=st()[h/4+1],l=st()[h/4+2],u=st()[h/4+3];if(u)throw Yr(l);var f=v9(s,a).slice();return Ne.__wbindgen_free(s,a*4,4),f}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}query(e,t){try{const a=Ne.__wbindgen_add_to_stack_pointer(-16),l=pa(e,Ne.__wbindgen_malloc,Ne.__wbindgen_realloc),u=Oi;Ne.store_query(a,this.__wbg_ptr,l,u,t);var r=st()[a/4+0],n=st()[a/4+1],s=st()[a/4+2];if(s)throw Yr(n);return Yr(r)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}update(e,t){try{const s=Ne.__wbindgen_add_to_stack_pointer(-16),a=pa(e,Ne.__wbindgen_malloc,Ne.__wbindgen_realloc),l=Oi;Ne.store_update(s,this.__wbg_ptr,a,l,t);var r=st()[s/4+0],n=st()[s/4+1];if(n)throw Yr(r)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}load(e,t,r,n){try{const l=Ne.__wbindgen_add_to_stack_pointer(-16),u=pa(e,Ne.__wbindgen_malloc,Ne.__wbindgen_realloc),f=Oi;Ne.store_load(l,this.__wbg_ptr,u,f,t,r,n);var s=st()[l/4+0],a=st()[l/4+1];if(a)throw Yr(s)}finally{Ne.__wbindgen_add_to_stack_pointer(16)}}dump(e,t){let r,n;try{const _=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.store_dump(_,this.__wbg_ptr,e,t);var s=st()[_/4+0],a=st()[_/4+1],l=st()[_/4+2],u=st()[_/4+3],f=s,h=a;if(u)throw f=0,h=0,Yr(l);return r=f,n=h,kr(f,h)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(r,n,1)}}}const Y0=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(i=>Ne.__wbg_variable_free(i>>>0));class Uo{static __wrap(e){e=e>>>0;const t=Object.create(Uo.prototype);return t.__wbg_ptr=e,Y0.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Y0.unregister(this),e}free(){const e=this.__destroy_into_raw();Ne.__wbg_variable_free(e)}get termType(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.variable_term_type(s,this.__wbg_ptr);var r=st()[s/4+0],n=st()[s/4+1];return e=r,t=n,kr(r,n)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}get value(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.variable_value(s,this.__wbg_ptr);var r=st()[s/4+0],n=st()[s/4+1];return e=r,t=n,kr(r,n)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}toString(){let e,t;try{const s=Ne.__wbindgen_add_to_stack_pointer(-16);Ne.variable_toString(s,this.__wbg_ptr);var r=st()[s/4+0],n=st()[s/4+1];return e=r,t=n,kr(r,n)}finally{Ne.__wbindgen_add_to_stack_pointer(16),Ne.__wbindgen_free(e,t,1)}}equals(e){return Ne.variable_equals(this.__wbg_ptr,e)!==0}}async function w9(i,e){if(typeof Response=="function"&&i instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(i,e)}catch(r){if(i.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const t=await i.arrayBuffer();return await WebAssembly.instantiate(t,e)}else{const t=await WebAssembly.instantiate(i,e);return t instanceof WebAssembly.Instance?{instance:t,module:i}:t}}function ub(){const i={};return i.wbg={},i.wbg.__wbindgen_is_undefined=function(e){return e===void 0},i.wbg.__wbindgen_is_null=function(e){return e===null},i.wbg.__wbindgen_string_get=function(e,t){const r=t,n=typeof r=="string"?r:void 0;var s=Nd(n)?0:pa(n,Ne.__wbindgen_malloc,Ne.__wbindgen_realloc),a=Oi;st()[e/4+1]=a,st()[e/4+0]=s},i.wbg.__wbindgen_is_falsy=function(e){return!e},i.wbg.__wbindgen_error_new=function(e,t){return new Error(kr(e,t))},i.wbg.__wbg_quad_new=function(e){return kl.__wrap(e)},i.wbg.__wbg_namednode_new=function(e){return Al.__wrap(e)},i.wbg.__wbg_blanknode_new=function(e){return Oo.__wrap(e)},i.wbg.__wbg_literal_new=function(e){return Bo.__wrap(e)},i.wbg.__wbg_defaultgraph_new=function(e){return Lo.__wrap(e)},i.wbg.__wbg_variable_new=function(e){return Uo.__wrap(e)},i.wbg.__wbg_new_28c511d9baebfa89=function(e,t){return new Error(kr(e,t))},i.wbg.__wbindgen_string_new=function(e,t){return kr(e,t)},i.wbg.__wbg_new_57421e8974065233=function(e,t){return new URIError(kr(e,t))},i.wbg.__wbindgen_is_string=function(e){return typeof e=="string"},i.wbg.__wbg_iterator_2cee6dadfd956dfa=function(){return Symbol.iterator},i.wbg.__wbg_get_e3c254076557e348=function(){return bi(function(e,t){return Reflect.get(e,t)},arguments)},i.wbg.__wbindgen_is_function=function(e){return typeof e=="function"},i.wbg.__wbg_call_27c0f87801dedf93=function(){return bi(function(e,t){return e.call(t)},arguments)},i.wbg.__wbindgen_is_object=function(e){const t=e;return typeof t=="object"&&t!==null},i.wbg.__wbg_next_40fc327bfc8770e6=function(e){return e.next},i.wbg.__wbg_next_196c84450b364254=function(){return bi(function(e){return e.next()},arguments)},i.wbg.__wbg_done_298b57d23c0fc80c=function(e){return e.done},i.wbg.__wbg_value_d93c65011f51a456=function(e){return e.value},i.wbg.__wbg_new_16b304a2cfa7ff4a=function(){return new Array},i.wbg.__wbg_new_d9bc3a0147634640=function(){return new Map},i.wbg.__wbg_push_a5b05aedc7234f9f=function(e,t){return e.push(t)},i.wbg.__wbg_set_8417257aaedc936b=function(e,t,r){return e.set(t,r)},i.wbg.__wbg_warn_e3cf7681777e295c=function(e,t){console.warn(kr(e,t))},i.wbg.__wbg_new_abda76e883ba8a5f=function(){return new Error},i.wbg.__wbg_stack_658279fe44541cf6=function(e,t){const r=t.stack,n=pa(r,Ne.__wbindgen_malloc,Ne.__wbindgen_realloc),s=Oi;st()[e/4+1]=s,st()[e/4+0]=n},i.wbg.__wbg_error_f851667af71bcfc6=function(e,t){let r,n;try{r=e,n=t,console.error(kr(e,t))}finally{Ne.__wbindgen_free(r,n,1)}},i.wbg.__wbg_crypto_1d1f22824a6a080c=function(e){return e.crypto},i.wbg.__wbg_process_4a72847cc503995b=function(e){return e.process},i.wbg.__wbg_versions_f686565e586dd935=function(e){return e.versions},i.wbg.__wbg_node_104a2ff8d6ea03a2=function(e){return e.node},i.wbg.__wbg_require_cca90b1a94a0255b=function(){return bi(function(){return module.require},arguments)},i.wbg.__wbg_msCrypto_eb05e62b530a1508=function(e){return e.msCrypto},i.wbg.__wbg_newwithlength_e9b4878cebadb3d3=function(e){return new Uint8Array(e>>>0)},i.wbg.__wbg_self_ce0dbfc45cf2f5be=function(){return bi(function(){return self.self},arguments)},i.wbg.__wbg_window_c6fb939a7f436783=function(){return bi(function(){return window.window},arguments)},i.wbg.__wbg_globalThis_d1e6af4856ba331b=function(){return bi(function(){return globalThis.globalThis},arguments)},i.wbg.__wbg_global_207b558942527489=function(){return bi(function(){return global.global},arguments)},i.wbg.__wbg_newnoargs_e258087cd0daa0ea=function(e,t){return new Function(kr(e,t))},i.wbg.__wbg_call_b3ca7c6051f9bec1=function(){return bi(function(e,t,r){return e.call(t,r)},arguments)},i.wbg.__wbg_has_0af94d20077affa2=function(){return bi(function(e,t){return Reflect.has(e,t)},arguments)},i.wbg.__wbg_now_3014639a94423537=function(){return Date.now()},i.wbg.__wbindgen_memory=function(){return Ne.memory},i.wbg.__wbg_buffer_12d079cc21e14bdb=function(e){return e.buffer},i.wbg.__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb=function(e,t,r){return new Uint8Array(e,t>>>0,r>>>0)},i.wbg.__wbg_randomFillSync_5c9c955aa56b6049=function(){return bi(function(e,t){e.randomFillSync(t)},arguments)},i.wbg.__wbg_subarray_a1f73cd4b5b42fe1=function(e,t,r){return e.subarray(t>>>0,r>>>0)},i.wbg.__wbg_getRandomValues_3aa56aa6edec874c=function(){return bi(function(e,t){e.getRandomValues(t)},arguments)},i.wbg.__wbg_new_63b92bc8671ed464=function(e){return new Uint8Array(e)},i.wbg.__wbg_set_a47bac70306a19a7=function(e,t,r){e.set(t,r>>>0)},i.wbg.__wbindgen_throw=function(e,t){throw new Error(kr(e,t))},i.wbg.__wbindgen_init_externref_table=function(){const e=Ne.__wbindgen_export_2,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},i}function fb(i,e){return Ne=i.exports,yf.__wbindgen_wasm_module=e,go=null,mo=null,vo=null,Ne.__wbindgen_start(),Ne}function y9(i){if(Ne!==void 0)return Ne;const e=ub();i instanceof WebAssembly.Module||(i=new WebAssembly.Module(i));const t=new WebAssembly.Instance(i,e);return fb(t,i)}async function yf(i){if(Ne!==void 0)return Ne;typeof i>"u"&&(i=new URL(""+new URL("../assets/web_bg.gKr3Fjqn.wasm",import.meta.url).href,import.meta.url));const e=ub();(typeof i=="string"||typeof Request=="function"&&i instanceof Request||typeof URL=="function"&&i instanceof URL)&&(i=fetch(i));const{instance:t,module:r}=await w9(await i,e);return fb(t,r)}const E9=Object.freeze(Object.defineProperty({__proto__:null,BlankNode:Oo,DefaultGraph:Lo,Literal:Bo,NamedNode:Al,Quad:kl,Store:ob,Variable:Uo,blankNode:l9,default:yf,defaultGraph:u9,fromQuad:p9,fromTerm:d9,initSync:y9,literal:o9,main:g9,namedNode:s9,quad:h9,triple:c9,variable:f9},Symbol.toStringTag,{value:"Module"})),D9="/ontologies/d3fend.ttl",cb="http://d3fend.mitre.org/ontologies/d3fend.owl#",A9="http://d3fend.mitre.org/ontologies/cad/instances#",k9="http://d3fend.mitre.org/ontologies/cad/",Mo="d3f",hb="dct",db="cad",_a="owl",Fs="rdf",Cl="rdfs",pb="skos",_b="xsd",bl={[Mo]:cb,[db]:A9,[_a]:"http://www.w3.org/2002/07/owl#",[Fs]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",[Cl]:"http://www.w3.org/2000/01/rdf-schema#",[_b]:"http://www.w3.org/2001/XMLSchema#",[hb]:"http://purl.org/dc/terms/",[pb]:"http://www.w3.org/2004/02/skos/core#"},ti={[Mo]:cb,[_a]:"http://www.w3.org/2002/07/owl#",[Fs]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",[Cl]:"http://www.w3.org/2000/01/rdf-schema#",[_b]:"http://www.w3.org/2001/XMLSchema#",[hb]:"http://purl.org/dc/terms/",[pb]:"http://www.w3.org/2004/02/skos/core#"};function C9(){const{subscribe:i,set:e,update:t}=on({initalized:!1,store:null,erorr:null});async function r(){try{console.log("Starting Oxigraph initialization"),console.time("Initialize Oxigraph"),console.log("Oxigraph module:",E9),console.log("Init function:",yf),await yf(),console.log("WebAssembly initialized successfully");const s=new ob;console.log("Oxigraph store created"),e({initialized:!0,store:s,error:null}),await n(s),console.log(`Oxigraph store initialized with ${s.size} triples.`)}catch(s){e({initialized:!1,store:null,error:s.message}),console.error("Failed to initialize Oxigraph store:",s)}}async function n(s){try{console.time("Load D3FEND ontology");const l=await(await fetch(D9)).text();s.load(l,{format:"ttl"}),console.timeEnd("Load D3FEND ontology"),console.log(`D3FEND ontology loaded, total triples: ${s.size}`)}catch(a){console.error("Failed to load D3FEND ontology:",a)}}return{subscribe:i,initialize:r,query:s=>new Promise((a,l)=>{t(u=>{if(!u.initialized)l(new Error("Oxigraph store not initialized"));else try{const f=u.store.query(s);a(f)}catch(f){l(f)}return u})})}}const jf=C9();async function vb(i){let e=null;return console.log("Calling lookup_valid_property..."),e=await S9(i),console.log(`Property from lookup IRI ${e}`),e==null&&(console.log("Calling lookup_valid_property_by_label..."),e=await N9(i)),e}async function T9(i){const e="lookup_valid_class_by_IRI("+i+")";console.info(e);const t=`PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX d3f: <http://d3fend.mitre.org/ontologies/d3fend.owl#>

SELECT ?class
WHERE
{
  VALUES ?class { ${i} }
  ?class rdfs:subClassOf* d3f:D3FENDThing .
}
LIMIT 1`;console.log({valid_value_query:t});let r=null;try{const n=await jf.query(t);n?(console.info(`Type of queryResult for class lookup by IRI ${i} is: `+Object.prototype.toString.call(n).slice(8,-1)),console.log({query_result:n}),Array.isArray(n)?n.length>0?r=n[0].get("class").value:console.warn(`Empty query results for valid class lookup by IRI ${i}.`):console.warn(`Query result not the expected Array type for class lookup by IRI of ${i}.`)):console.error(`Query results: ${n} for valid class lookup by IRI ${i}.`)}catch(n){console.warn(`Error executing oxigraph query for class lookup by IRI of: ${i}, error: ${n}`)}return console.info(r+" <- "+e),r}async function N9(i){const e="lookup_valid_property_by_label("+i+")";console.info(e);const t=`PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX d3f: <http://d3fend.mitre.org/ontologies/d3fend.owl#>

SELECT ?property
WHERE
{
  ?property rdfs:subPropertyOf* d3f:may-be-associated-with .
  ?property rdfs:label "${i}" .
}
LIMIT 1`;console.log({valid_value_query:t});let r=null;try{const n=await jf.query(t);n?(console.info(`Type of queryResult for property lookup by label ${i} is: `+Object.prototype.toString.call(n).slice(8,-1)),console.log({query_result:n}),Array.isArray(n)?n.length>0?r=n[0].get("property").value:console.warn(`Empty query results for valid property lookup by label ${i}.`):console.warn(`Query result not the expected Array type for property lookup by label of ${i}.`)):console.error(`Query results: ${n} for valid property lookup by label ${i}.`)}catch(n){console.warn(`Error executing oxigraph query for property lookup by label of: ${i}, error: ${n}`)}return console.info(r+" <- "+e),r}async function S9(i){const e="lookup_valid_property_by_IRI("+i+")";console.info(e);const t=`PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX d3f: <http://d3fend.mitre.org/ontologies/d3fend.owl#>

SELECT ?property
WHERE
{
  VALUES ?property { ${i} }
  ?property rdfs:subPropertyOf* d3f:may-be-associated-with .
}
LIMIT 1`;let r=null;if(i.includes(":"))try{const n=await jf.query(t);console.info({query_result:n}),n?Array.isArray(n)?n.length>0?r=n[0].get("property").value:console.warn(`Empty array returned for property lookup by iri of ${i}.`):console.warn(`Query result not the expected Array type for property lookup by iri of ${i}.`):console.warn(`Undefined query result returned for property lookup by iri of ${i}.`)}catch(n){console.warn(`Error executing oxigraph query for property lookup by iri of: ${i}, error: ${n}`)}else console.warn("Attempted lookup by iri of: "+i+" but iri has no ':' char");return console.info(r+" <- "+e),r}var Ef={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Ef.exports;(function(i,e){(function(){var t,r="4.17.21",n=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",l="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",f=500,h="__lodash_placeholder__",_=1,p=2,d=4,v=1,m=2,b=1,A=2,U=4,I=8,O=16,y=32,N=64,T=128,j=256,F=512,q=30,k="...",L=800,D=16,P=1,Q=2,H=3,oe=1/0,re=9007199254740991,te=17976931348623157e292,$=NaN,W=4294967295,de=W-1,J=W>>>1,pe=[["ary",T],["bind",b],["bindKey",A],["curry",I],["curryRight",O],["flip",F],["partial",y],["partialRight",N],["rearg",j]],it="[object Arguments]",tt="[object Array]",Fe="[object AsyncFunction]",He="[object Boolean]",Ce="[object Date]",De="[object DOMException]",Ge="[object Error]",gt="[object Function]",rt="[object GeneratorFunction]",me="[object Map]",Be="[object Number]",Vt="[object Null]",ir="[object Object]",lr="[object Promise]",or="[object Proxy]",pr="[object RegExp]",rr="[object Set]",Ft="[object String]",jt="[object Symbol]",_r="[object Undefined]",vr="[object WeakMap]",rn="[object WeakSet]",K="[object ArrayBuffer]",S="[object DataView]",M="[object Float32Array]",Z="[object Float64Array]",_e="[object Int8Array]",Ie="[object Int16Array]",Ue="[object Int32Array]",ct="[object Uint8Array]",wt="[object Uint8ClampedArray]",pt="[object Uint16Array]",mt="[object Uint32Array]",Ve=/\b__p \+= '';/g,yt=/\b(__p \+=) '' \+/g,fr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Cr=/&(?:amp|lt|gt|quot|#39);/g,fn=/[&<>"']/g,Gn=RegExp(Cr.source),nn=RegExp(fn.source),ii=/<%-([\s\S]+?)%>/g,Ls=/<%([\s\S]+?)%>/g,Bs=/<%=([\s\S]+?)%>/g,Ca=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ts=/^\w*$/,Tl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ta=/[\\^$.*+?()[\]{}|]/g,Nl=RegExp(Ta.source),gn=/^\s+/,Ee=/\s/,ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Te=/\{\n\/\* \[wrapped with (.+)\] \*/,xe=/,? & /,qe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Et=/[()=,{}\[\]\/\s]/,ft=/\\(\\)?/g,Ct=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gr=/\w*$/,Mr=/^[-+]0x[0-9a-f]+$/i,$t=/^0b[01]+$/i,cr=/^\[object .+?Constructor\]$/,Tr=/^0o[0-7]+$/i,Ot=/^(?:0|[1-9]\d*)$/,hr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mr=/($^)/,yr=/['\n\r\u2028\u2029\\]/g,An="\\ud800-\\udfff",cn="\\u0300-\\u036f",hn="\\ufe20-\\ufe2f",Ui="\\u20d0-\\u20ff",ai=cn+hn+Ui,dn="\\u2700-\\u27bf",kn="a-z\\xdf-\\xf6\\xf8-\\xff",ki="\\xac\\xb1\\xd7\\xf7",mn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",si="\\u2000-\\u206f",rs=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Na="A-Z\\xc0-\\xd6\\xd8-\\xde",li="\\ufe0e\\ufe0f",oi=ki+mn+si+rs,Ci="[']",ns="["+An+"]",Mi="["+oi+"]",Xn="["+ai+"]",Wn="\\d+",ui="["+dn+"]",is="["+kn+"]",Sl="[^"+An+oi+Wn+dn+kn+Na+"]",Us="\\ud83c[\\udffb-\\udfff]",qo="(?:"+Xn+"|"+Us+")",Il="[^"+An+"]",Sa="(?:\\ud83c[\\udde6-\\uddff]){2}",Ms="[\\ud800-\\udbff][\\udc00-\\udfff]",pn="["+Na+"]",Qn="\\u200d",as="(?:"+is+"|"+Sl+")",jo="(?:"+pn+"|"+Sl+")",Rl="(?:"+Ci+"(?:d|ll|m|re|s|t|ve))?",Pl="(?:"+Ci+"(?:D|LL|M|RE|S|T|VE))?",Fl=qo+"?",xo="["+li+"]?",Hf="(?:"+Qn+"(?:"+[Il,Sa,Ms].join("|")+")"+xo+Fl+")*",Ho="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Vf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Vo=xo+Fl+Hf,zo="(?:"+[ui,Sa,Ms].join("|")+")"+Vo,zf="(?:"+[Il+Xn+"?",Xn,Sa,Ms,ns].join("|")+")",$f=RegExp(Ci,"g"),$o=RegExp(Xn,"g"),Ol=RegExp(Us+"(?="+Us+")|"+zf+Vo,"g"),Gf=RegExp([pn+"?"+is+"+"+Rl+"(?="+[Mi,pn,"$"].join("|")+")",jo+"+"+Pl+"(?="+[Mi,pn+as,"$"].join("|")+")",pn+"?"+as+"+"+Rl,pn+"+"+Pl,Vf,Ho,Wn,zo].join("|"),"g"),Go=RegExp("["+Qn+An+ai+li+"]"),Xf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Wf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xo=-1,Nr={};Nr[M]=Nr[Z]=Nr[_e]=Nr[Ie]=Nr[Ue]=Nr[ct]=Nr[wt]=Nr[pt]=Nr[mt]=!0,Nr[it]=Nr[tt]=Nr[K]=Nr[He]=Nr[S]=Nr[Ce]=Nr[Ge]=Nr[gt]=Nr[me]=Nr[Be]=Nr[ir]=Nr[pr]=Nr[rr]=Nr[Ft]=Nr[vr]=!1;var Ar={};Ar[it]=Ar[tt]=Ar[K]=Ar[S]=Ar[He]=Ar[Ce]=Ar[M]=Ar[Z]=Ar[_e]=Ar[Ie]=Ar[Ue]=Ar[me]=Ar[Be]=Ar[ir]=Ar[pr]=Ar[rr]=Ar[Ft]=Ar[jt]=Ar[ct]=Ar[wt]=Ar[pt]=Ar[mt]=!0,Ar[Ge]=Ar[gt]=Ar[vr]=!1;var Wo={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Qf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Yf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Qo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Kf=parseFloat,Jf=parseInt,Ll=typeof ha=="object"&&ha&&ha.Object===Object&&ha,Zf=typeof self=="object"&&self&&self.Object===Object&&self,en=Ll||Zf||Function("return this")(),qs=e&&!e.nodeType&&e,ta=qs&&!0&&i&&!i.nodeType&&i,Yo=ta&&ta.exports===qs,Bl=Yo&&Ll.process,Fn=function(){try{var Re=ta&&ta.require&&ta.require("util").types;return Re||Bl&&Bl.binding&&Bl.binding("util")}catch{}}(),Ko=Fn&&Fn.isArrayBuffer,Jo=Fn&&Fn.isDate,Zo=Fn&&Fn.isMap,eu=Fn&&Fn.isRegExp,tu=Fn&&Fn.isSet,ru=Fn&&Fn.isTypedArray;function Cn(Re,$e,je){switch(je.length){case 0:return Re.call($e);case 1:return Re.call($e,je[0]);case 2:return Re.call($e,je[0],je[1]);case 3:return Re.call($e,je[0],je[1],je[2])}return Re.apply($e,je)}function ec(Re,$e,je,_t){for(var Ut=-1,ur=Re==null?0:Re.length;++Ut<ur;){var Xr=Re[Ut];$e(_t,Xr,je(Xr),Re)}return _t}function On(Re,$e){for(var je=-1,_t=Re==null?0:Re.length;++je<_t&&$e(Re[je],je,Re)!==!1;);return Re}function tc(Re,$e){for(var je=Re==null?0:Re.length;je--&&$e(Re[je],je,Re)!==!1;);return Re}function nu(Re,$e){for(var je=-1,_t=Re==null?0:Re.length;++je<_t;)if(!$e(Re[je],je,Re))return!1;return!0}function qi(Re,$e){for(var je=-1,_t=Re==null?0:Re.length,Ut=0,ur=[];++je<_t;){var Xr=Re[je];$e(Xr,je,Re)&&(ur[Ut++]=Xr)}return ur}function js(Re,$e){var je=Re==null?0:Re.length;return!!je&&Ia(Re,$e,0)>-1}function Ul(Re,$e,je){for(var _t=-1,Ut=Re==null?0:Re.length;++_t<Ut;)if(je($e,Re[_t]))return!0;return!1}function Ir(Re,$e){for(var je=-1,_t=Re==null?0:Re.length,Ut=Array(_t);++je<_t;)Ut[je]=$e(Re[je],je,Re);return Ut}function ji(Re,$e){for(var je=-1,_t=$e.length,Ut=Re.length;++je<_t;)Re[Ut+je]=$e[je];return Re}function xs(Re,$e,je,_t){var Ut=-1,ur=Re==null?0:Re.length;for(_t&&ur&&(je=Re[++Ut]);++Ut<ur;)je=$e(je,Re[Ut],Ut,Re);return je}function rc(Re,$e,je,_t){var Ut=Re==null?0:Re.length;for(_t&&Ut&&(je=Re[--Ut]);Ut--;)je=$e(je,Re[Ut],Ut,Re);return je}function Ml(Re,$e){for(var je=-1,_t=Re==null?0:Re.length;++je<_t;)if($e(Re[je],je,Re))return!0;return!1}var nc=Ra("length");function ic(Re){return Re.split("")}function ac(Re){return Re.match(qe)||[]}function iu(Re,$e,je){var _t;return je(Re,function(Ut,ur,Xr){if($e(Ut,ur,Xr))return _t=ur,!1}),_t}function Hs(Re,$e,je,_t){for(var Ut=Re.length,ur=je+(_t?1:-1);_t?ur--:++ur<Ut;)if($e(Re[ur],ur,Re))return ur;return-1}function Ia(Re,$e,je){return $e===$e?cc(Re,$e,je):Hs(Re,C,je)}function sc(Re,$e,je,_t){for(var Ut=je-1,ur=Re.length;++Ut<ur;)if(_t(Re[Ut],$e))return Ut;return-1}function C(Re){return Re!==Re}function ot(Re,$e){var je=Re==null?0:Re.length;return je?ss(Re,$e)/je:$}function Ra(Re){return function($e){return $e==null?t:$e[Re]}}function Ln(Re){return function($e){return Re==null?t:Re[$e]}}function Vs(Re,$e,je,_t,Ut){return Ut(Re,function(ur,Xr,Er){je=_t?(_t=!1,ur):$e(je,ur,Xr,Er)}),je}function zs(Re,$e){var je=Re.length;for(Re.sort($e);je--;)Re[je]=Re[je].value;return Re}function ss(Re,$e){for(var je,_t=-1,Ut=Re.length;++_t<Ut;){var ur=$e(Re[_t]);ur!==t&&(je=je===t?ur:je+ur)}return je}function Mt(Re,$e){for(var je=-1,_t=Array(Re);++je<Re;)_t[je]=$e(je);return _t}function br(Re,$e){return Ir($e,function(je){return[je,Re[je]]})}function au(Re){return Re&&Re.slice(0,xl(Re)+1).replace(gn,"")}function bn(Re){return function($e){return Re($e)}}function ls(Re,$e){return Ir($e,function(je){return Re[je]})}function Le(Re,$e){return Re.has($e)}function su(Re,$e){for(var je=-1,_t=Re.length;++je<_t&&Ia($e,Re[je],0)>-1;);return je}function lu(Re,$e){for(var je=Re.length;je--&&Ia($e,Re[je],0)>-1;);return je}function ou(Re,$e){for(var je=Re.length,_t=0;je--;)Re[je]===$e&&++_t;return _t}var uu=Ln(Wo),lc=Ln(Qf);function ut(Re){return"\\"+Qo[Re]}function oc(Re,$e){return Re==null?t:Re[$e]}function Pa(Re){return Go.test(Re)}function uc(Re){return Xf.test(Re)}function fc(Re){for(var $e,je=[];!($e=Re.next()).done;)je.push($e.value);return je}function ql(Re){var $e=-1,je=Array(Re.size);return Re.forEach(function(_t,Ut){je[++$e]=[Ut,_t]}),je}function fu(Re,$e){return function(je){return Re($e(je))}}function fi(Re,$e){for(var je=-1,_t=Re.length,Ut=0,ur=[];++je<_t;){var Xr=Re[je];(Xr===$e||Xr===h)&&(Re[je]=h,ur[Ut++]=je)}return ur}function Fa(Re){var $e=-1,je=Array(Re.size);return Re.forEach(function(_t){je[++$e]=_t}),je}function jl(Re){var $e=-1,je=Array(Re.size);return Re.forEach(function(_t){je[++$e]=[_t,_t]}),je}function cc(Re,$e,je){for(var _t=je-1,Ut=Re.length;++_t<Ut;)if(Re[_t]===$e)return _t;return-1}function hc(Re,$e,je){for(var _t=je+1;_t--;)if(Re[_t]===$e)return _t;return _t}function ci(Re){return Pa(Re)?dc(Re):nc(Re)}function Yn(Re){return Pa(Re)?pc(Re):ic(Re)}function xl(Re){for(var $e=Re.length;$e--&&Ee.test(Re.charAt($e)););return $e}var cu=Ln(Yf);function dc(Re){for(var $e=Ol.lastIndex=0;Ol.test(Re);)++$e;return $e}function pc(Re){return Re.match(Ol)||[]}function _c(Re){return Re.match(Gf)||[]}var Hl=function Re($e){$e=$e==null?en:Ti.defaults(en.Object(),$e,Ti.pick(en,Wf));var je=$e.Array,_t=$e.Date,Ut=$e.Error,ur=$e.Function,Xr=$e.Math,Er=$e.Object,Vl=$e.RegExp,vc=$e.String,Bn=$e.TypeError,Oa=je.prototype,gc=ur.prototype,La=Er.prototype,$s=$e["__core-js_shared__"],Gs=gc.toString,Tt=La.hasOwnProperty,Rr=0,hu=function(){var o=/[^.]+$/.exec($s&&$s.keys&&$s.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),Xs=La.toString,du=Gs.call(Er),zl=en._,Jr=Vl("^"+Gs.call(Tt).replace(Ta,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),os=Yo?$e.Buffer:t,xi=$e.Symbol,hi=$e.Uint8Array,pu=os?os.allocUnsafe:t,tn=fu(Er.getPrototypeOf,Er),_u=Er.create,vu=La.propertyIsEnumerable,us=Oa.splice,$l=xi?xi.isConcatSpreadable:t,fs=xi?xi.iterator:t,tr=xi?xi.toStringTag:t,Ba=function(){try{var o=_s(Er,"defineProperty");return o({},"",{}),o}catch{}}(),E=$e.clearTimeout!==en.clearTimeout&&$e.clearTimeout,x=_t&&_t.now!==en.Date.now&&_t.now,X=$e.setTimeout!==en.setTimeout&&$e.setTimeout,ne=Xr.ceil,le=Xr.floor,ye=Er.getOwnPropertySymbols,Ae=os?os.isBuffer:t,ue=$e.isFinite,dt=Oa.join,dr=fu(Er.keys,Er),Sr=Xr.max,qr=Xr.min,kb=_t.now,Cb=$e.parseInt,Rd=Xr.random,Tb=Oa.reverse,mc=_s($e,"DataView"),Gl=_s($e,"Map"),bc=_s($e,"Promise"),Ws=_s($e,"Set"),Xl=_s($e,"WeakMap"),Wl=_s(Er,"create"),gu=Xl&&new Xl,Qs={},Nb=vs(mc),Sb=vs(Gl),Ib=vs(bc),Rb=vs(Ws),Pb=vs(Xl),mu=xi?xi.prototype:t,Ql=mu?mu.valueOf:t,Pd=mu?mu.toString:t;function ee(o){if(zr(o)&&!xt(o)&&!(o instanceof ar)){if(o instanceof di)return o;if(Tt.call(o,"__wrapped__"))return Fp(o)}return new di(o)}var Ys=function(){function o(){}return function(c){if(!Vr(c))return{};if(_u)return _u(c);o.prototype=c;var g=new o;return o.prototype=t,g}}();function bu(){}function di(o,c){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=t}ee.templateSettings={escape:ii,evaluate:Ls,interpolate:Bs,variable:"",imports:{_:ee}},ee.prototype=bu.prototype,ee.prototype.constructor=ee,di.prototype=Ys(bu.prototype),di.prototype.constructor=di;function ar(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=W,this.__views__=[]}function Fb(){var o=new ar(this.__wrapped__);return o.__actions__=Un(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=Un(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=Un(this.__views__),o}function Ob(){if(this.__filtered__){var o=new ar(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function Lb(){var o=this.__wrapped__.value(),c=this.__dir__,g=xt(o),B=c<0,Y=g?o.length:0,ie=Xw(0,Y,this.__views__),we=ie.start,ke=ie.end,Oe=ke-we,Xe=B?ke:we-1,We=this.__iteratees__,nt=We.length,ht=0,Dt=qr(Oe,this.__takeCount__);if(!g||!B&&Y==Oe&&Dt==Oe)return rp(o,this.__actions__);var Lt=[];e:for(;Oe--&&ht<Dt;){Xe+=c;for(var Qt=-1,Bt=o[Xe];++Qt<nt;){var nr=We[Qt],sr=nr.iteratee,Zn=nr.type,Sn=sr(Bt);if(Zn==Q)Bt=Sn;else if(!Sn){if(Zn==P)continue e;break e}}Lt[ht++]=Bt}return Lt}ar.prototype=Ys(bu.prototype),ar.prototype.constructor=ar;function cs(o){var c=-1,g=o==null?0:o.length;for(this.clear();++c<g;){var B=o[c];this.set(B[0],B[1])}}function Bb(){this.__data__=Wl?Wl(null):{},this.size=0}function Ub(o){var c=this.has(o)&&delete this.__data__[o];return this.size-=c?1:0,c}function Mb(o){var c=this.__data__;if(Wl){var g=c[o];return g===u?t:g}return Tt.call(c,o)?c[o]:t}function qb(o){var c=this.__data__;return Wl?c[o]!==t:Tt.call(c,o)}function jb(o,c){var g=this.__data__;return this.size+=this.has(o)?0:1,g[o]=Wl&&c===t?u:c,this}cs.prototype.clear=Bb,cs.prototype.delete=Ub,cs.prototype.get=Mb,cs.prototype.has=qb,cs.prototype.set=jb;function ra(o){var c=-1,g=o==null?0:o.length;for(this.clear();++c<g;){var B=o[c];this.set(B[0],B[1])}}function xb(){this.__data__=[],this.size=0}function Hb(o){var c=this.__data__,g=wu(c,o);if(g<0)return!1;var B=c.length-1;return g==B?c.pop():us.call(c,g,1),--this.size,!0}function Vb(o){var c=this.__data__,g=wu(c,o);return g<0?t:c[g][1]}function zb(o){return wu(this.__data__,o)>-1}function $b(o,c){var g=this.__data__,B=wu(g,o);return B<0?(++this.size,g.push([o,c])):g[B][1]=c,this}ra.prototype.clear=xb,ra.prototype.delete=Hb,ra.prototype.get=Vb,ra.prototype.has=zb,ra.prototype.set=$b;function na(o){var c=-1,g=o==null?0:o.length;for(this.clear();++c<g;){var B=o[c];this.set(B[0],B[1])}}function Gb(){this.size=0,this.__data__={hash:new cs,map:new(Gl||ra),string:new cs}}function Xb(o){var c=Pu(this,o).delete(o);return this.size-=c?1:0,c}function Wb(o){return Pu(this,o).get(o)}function Qb(o){return Pu(this,o).has(o)}function Yb(o,c){var g=Pu(this,o),B=g.size;return g.set(o,c),this.size+=g.size==B?0:1,this}na.prototype.clear=Gb,na.prototype.delete=Xb,na.prototype.get=Wb,na.prototype.has=Qb,na.prototype.set=Yb;function hs(o){var c=-1,g=o==null?0:o.length;for(this.__data__=new na;++c<g;)this.add(o[c])}function Kb(o){return this.__data__.set(o,u),this}function Jb(o){return this.__data__.has(o)}hs.prototype.add=hs.prototype.push=Kb,hs.prototype.has=Jb;function Ni(o){var c=this.__data__=new ra(o);this.size=c.size}function Zb(){this.__data__=new ra,this.size=0}function ew(o){var c=this.__data__,g=c.delete(o);return this.size=c.size,g}function tw(o){return this.__data__.get(o)}function rw(o){return this.__data__.has(o)}function nw(o,c){var g=this.__data__;if(g instanceof ra){var B=g.__data__;if(!Gl||B.length<n-1)return B.push([o,c]),this.size=++g.size,this;g=this.__data__=new na(B)}return g.set(o,c),this.size=g.size,this}Ni.prototype.clear=Zb,Ni.prototype.delete=ew,Ni.prototype.get=tw,Ni.prototype.has=rw,Ni.prototype.set=nw;function Fd(o,c){var g=xt(o),B=!g&&gs(o),Y=!g&&!B&&xa(o),ie=!g&&!B&&!Y&&el(o),we=g||B||Y||ie,ke=we?Mt(o.length,vc):[],Oe=ke.length;for(var Xe in o)(c||Tt.call(o,Xe))&&!(we&&(Xe=="length"||Y&&(Xe=="offset"||Xe=="parent")||ie&&(Xe=="buffer"||Xe=="byteLength"||Xe=="byteOffset")||la(Xe,Oe)))&&ke.push(Xe);return ke}function Od(o){var c=o.length;return c?o[Ic(0,c-1)]:t}function iw(o,c){return Fu(Un(o),ds(c,0,o.length))}function aw(o){return Fu(Un(o))}function wc(o,c,g){(g!==t&&!Si(o[c],g)||g===t&&!(c in o))&&ia(o,c,g)}function Yl(o,c,g){var B=o[c];(!(Tt.call(o,c)&&Si(B,g))||g===t&&!(c in o))&&ia(o,c,g)}function wu(o,c){for(var g=o.length;g--;)if(Si(o[g][0],c))return g;return-1}function sw(o,c,g,B){return Ua(o,function(Y,ie,we){c(B,Y,g(Y),we)}),B}function Ld(o,c){return o&&Vi(c,an(c),o)}function lw(o,c){return o&&Vi(c,qn(c),o)}function ia(o,c,g){c=="__proto__"&&Ba?Ba(o,c,{configurable:!0,enumerable:!0,value:g,writable:!0}):o[c]=g}function yc(o,c){for(var g=-1,B=c.length,Y=je(B),ie=o==null;++g<B;)Y[g]=ie?t:th(o,c[g]);return Y}function ds(o,c,g){return o===o&&(g!==t&&(o=o<=g?o:g),c!==t&&(o=o>=c?o:c)),o}function pi(o,c,g,B,Y,ie){var we,ke=c&_,Oe=c&p,Xe=c&d;if(g&&(we=Y?g(o,B,Y,ie):g(o)),we!==t)return we;if(!Vr(o))return o;var We=xt(o);if(We){if(we=Qw(o),!ke)return Un(o,we)}else{var nt=wn(o),ht=nt==gt||nt==rt;if(xa(o))return ap(o,ke);if(nt==ir||nt==it||ht&&!Y){if(we=Oe||ht?{}:Ap(o),!ke)return Oe?Mw(o,lw(we,o)):Uw(o,Ld(we,o))}else{if(!Ar[nt])return Y?o:{};we=Yw(o,nt,ke)}}ie||(ie=new Ni);var Dt=ie.get(o);if(Dt)return Dt;ie.set(o,we),Zp(o)?o.forEach(function(Bt){we.add(pi(Bt,c,g,Bt,o,ie))}):Kp(o)&&o.forEach(function(Bt,nr){we.set(nr,pi(Bt,c,g,nr,o,ie))});var Lt=Xe?Oe?xc:jc:Oe?qn:an,Qt=We?t:Lt(o);return On(Qt||o,function(Bt,nr){Qt&&(nr=Bt,Bt=o[nr]),Yl(we,nr,pi(Bt,c,g,nr,o,ie))}),we}function ow(o){var c=an(o);return function(g){return Bd(g,o,c)}}function Bd(o,c,g){var B=g.length;if(o==null)return!B;for(o=Er(o);B--;){var Y=g[B],ie=c[Y],we=o[Y];if(we===t&&!(Y in o)||!ie(we))return!1}return!0}function Ud(o,c,g){if(typeof o!="function")throw new Bn(a);return no(function(){o.apply(t,g)},c)}function Kl(o,c,g,B){var Y=-1,ie=js,we=!0,ke=o.length,Oe=[],Xe=c.length;if(!ke)return Oe;g&&(c=Ir(c,bn(g))),B?(ie=Ul,we=!1):c.length>=n&&(ie=Le,we=!1,c=new hs(c));e:for(;++Y<ke;){var We=o[Y],nt=g==null?We:g(We);if(We=B||We!==0?We:0,we&&nt===nt){for(var ht=Xe;ht--;)if(c[ht]===nt)continue e;Oe.push(We)}else ie(c,nt,B)||Oe.push(We)}return Oe}var Ua=fp(Hi),Md=fp(Dc,!0);function uw(o,c){var g=!0;return Ua(o,function(B,Y,ie){return g=!!c(B,Y,ie),g}),g}function yu(o,c,g){for(var B=-1,Y=o.length;++B<Y;){var ie=o[B],we=c(ie);if(we!=null&&(ke===t?we===we&&!Jn(we):g(we,ke)))var ke=we,Oe=ie}return Oe}function fw(o,c,g,B){var Y=o.length;for(g=Gt(g),g<0&&(g=-g>Y?0:Y+g),B=B===t||B>Y?Y:Gt(B),B<0&&(B+=Y),B=g>B?0:t_(B);g<B;)o[g++]=c;return o}function qd(o,c){var g=[];return Ua(o,function(B,Y,ie){c(B,Y,ie)&&g.push(B)}),g}function _n(o,c,g,B,Y){var ie=-1,we=o.length;for(g||(g=Jw),Y||(Y=[]);++ie<we;){var ke=o[ie];c>0&&g(ke)?c>1?_n(ke,c-1,g,B,Y):ji(Y,ke):B||(Y[Y.length]=ke)}return Y}var Ec=cp(),jd=cp(!0);function Hi(o,c){return o&&Ec(o,c,an)}function Dc(o,c){return o&&jd(o,c,an)}function Eu(o,c){return qi(c,function(g){return oa(o[g])})}function ps(o,c){c=qa(c,o);for(var g=0,B=c.length;o!=null&&g<B;)o=o[zi(c[g++])];return g&&g==B?o:t}function xd(o,c,g){var B=c(o);return xt(o)?B:ji(B,g(o))}function Tn(o){return o==null?o===t?_r:Vt:tr&&tr in Er(o)?Gw(o):ay(o)}function Ac(o,c){return o>c}function cw(o,c){return o!=null&&Tt.call(o,c)}function hw(o,c){return o!=null&&c in Er(o)}function dw(o,c,g){return o>=qr(c,g)&&o<Sr(c,g)}function kc(o,c,g){for(var B=g?Ul:js,Y=o[0].length,ie=o.length,we=ie,ke=je(ie),Oe=1/0,Xe=[];we--;){var We=o[we];we&&c&&(We=Ir(We,bn(c))),Oe=qr(We.length,Oe),ke[we]=!g&&(c||Y>=120&&We.length>=120)?new hs(we&&We):t}We=o[0];var nt=-1,ht=ke[0];e:for(;++nt<Y&&Xe.length<Oe;){var Dt=We[nt],Lt=c?c(Dt):Dt;if(Dt=g||Dt!==0?Dt:0,!(ht?Le(ht,Lt):B(Xe,Lt,g))){for(we=ie;--we;){var Qt=ke[we];if(!(Qt?Le(Qt,Lt):B(o[we],Lt,g)))continue e}ht&&ht.push(Lt),Xe.push(Dt)}}return Xe}function pw(o,c,g,B){return Hi(o,function(Y,ie,we){c(B,g(Y),ie,we)}),B}function Jl(o,c,g){c=qa(c,o),o=Np(o,c);var B=o==null?o:o[zi(vi(c))];return B==null?t:Cn(B,o,g)}function Hd(o){return zr(o)&&Tn(o)==it}function _w(o){return zr(o)&&Tn(o)==K}function vw(o){return zr(o)&&Tn(o)==Ce}function Zl(o,c,g,B,Y){return o===c?!0:o==null||c==null||!zr(o)&&!zr(c)?o!==o&&c!==c:gw(o,c,g,B,Zl,Y)}function gw(o,c,g,B,Y,ie){var we=xt(o),ke=xt(c),Oe=we?tt:wn(o),Xe=ke?tt:wn(c);Oe=Oe==it?ir:Oe,Xe=Xe==it?ir:Xe;var We=Oe==ir,nt=Xe==ir,ht=Oe==Xe;if(ht&&xa(o)){if(!xa(c))return!1;we=!0,We=!1}if(ht&&!We)return ie||(ie=new Ni),we||el(o)?yp(o,c,g,B,Y,ie):zw(o,c,Oe,g,B,Y,ie);if(!(g&v)){var Dt=We&&Tt.call(o,"__wrapped__"),Lt=nt&&Tt.call(c,"__wrapped__");if(Dt||Lt){var Qt=Dt?o.value():o,Bt=Lt?c.value():c;return ie||(ie=new Ni),Y(Qt,Bt,g,B,ie)}}return ht?(ie||(ie=new Ni),$w(o,c,g,B,Y,ie)):!1}function mw(o){return zr(o)&&wn(o)==me}function Cc(o,c,g,B){var Y=g.length,ie=Y,we=!B;if(o==null)return!ie;for(o=Er(o);Y--;){var ke=g[Y];if(we&&ke[2]?ke[1]!==o[ke[0]]:!(ke[0]in o))return!1}for(;++Y<ie;){ke=g[Y];var Oe=ke[0],Xe=o[Oe],We=ke[1];if(we&&ke[2]){if(Xe===t&&!(Oe in o))return!1}else{var nt=new Ni;if(B)var ht=B(Xe,We,Oe,o,c,nt);if(!(ht===t?Zl(We,Xe,v|m,B,nt):ht))return!1}}return!0}function Vd(o){if(!Vr(o)||ey(o))return!1;var c=oa(o)?Jr:cr;return c.test(vs(o))}function bw(o){return zr(o)&&Tn(o)==pr}function ww(o){return zr(o)&&wn(o)==rr}function yw(o){return zr(o)&&qu(o.length)&&!!Nr[Tn(o)]}function zd(o){return typeof o=="function"?o:o==null?jn:typeof o=="object"?xt(o)?Xd(o[0],o[1]):Gd(o):h_(o)}function Tc(o){if(!ro(o))return dr(o);var c=[];for(var g in Er(o))Tt.call(o,g)&&g!="constructor"&&c.push(g);return c}function Ew(o){if(!Vr(o))return iy(o);var c=ro(o),g=[];for(var B in o)B=="constructor"&&(c||!Tt.call(o,B))||g.push(B);return g}function Nc(o,c){return o<c}function $d(o,c){var g=-1,B=Mn(o)?je(o.length):[];return Ua(o,function(Y,ie,we){B[++g]=c(Y,ie,we)}),B}function Gd(o){var c=Vc(o);return c.length==1&&c[0][2]?Cp(c[0][0],c[0][1]):function(g){return g===o||Cc(g,o,c)}}function Xd(o,c){return $c(o)&&kp(c)?Cp(zi(o),c):function(g){var B=th(g,o);return B===t&&B===c?rh(g,o):Zl(c,B,v|m)}}function Du(o,c,g,B,Y){o!==c&&Ec(c,function(ie,we){if(Y||(Y=new Ni),Vr(ie))Dw(o,c,we,g,Du,B,Y);else{var ke=B?B(Xc(o,we),ie,we+"",o,c,Y):t;ke===t&&(ke=ie),wc(o,we,ke)}},qn)}function Dw(o,c,g,B,Y,ie,we){var ke=Xc(o,g),Oe=Xc(c,g),Xe=we.get(Oe);if(Xe){wc(o,g,Xe);return}var We=ie?ie(ke,Oe,g+"",o,c,we):t,nt=We===t;if(nt){var ht=xt(Oe),Dt=!ht&&xa(Oe),Lt=!ht&&!Dt&&el(Oe);We=Oe,ht||Dt||Lt?xt(ke)?We=ke:Wr(ke)?We=Un(ke):Dt?(nt=!1,We=ap(Oe,!0)):Lt?(nt=!1,We=sp(Oe,!0)):We=[]:io(Oe)||gs(Oe)?(We=ke,gs(ke)?We=r_(ke):(!Vr(ke)||oa(ke))&&(We=Ap(Oe))):nt=!1}nt&&(we.set(Oe,We),Y(We,Oe,B,ie,we),we.delete(Oe)),wc(o,g,We)}function Wd(o,c){var g=o.length;if(g)return c+=c<0?g:0,la(c,g)?o[c]:t}function Qd(o,c,g){c.length?c=Ir(c,function(ie){return xt(ie)?function(we){return ps(we,ie.length===1?ie[0]:ie)}:ie}):c=[jn];var B=-1;c=Ir(c,bn(Pt()));var Y=$d(o,function(ie,we,ke){var Oe=Ir(c,function(Xe){return Xe(ie)});return{criteria:Oe,index:++B,value:ie}});return zs(Y,function(ie,we){return Bw(ie,we,g)})}function Aw(o,c){return Yd(o,c,function(g,B){return rh(o,B)})}function Yd(o,c,g){for(var B=-1,Y=c.length,ie={};++B<Y;){var we=c[B],ke=ps(o,we);g(ke,we)&&eo(ie,qa(we,o),ke)}return ie}function kw(o){return function(c){return ps(c,o)}}function Sc(o,c,g,B){var Y=B?sc:Ia,ie=-1,we=c.length,ke=o;for(o===c&&(c=Un(c)),g&&(ke=Ir(o,bn(g)));++ie<we;)for(var Oe=0,Xe=c[ie],We=g?g(Xe):Xe;(Oe=Y(ke,We,Oe,B))>-1;)ke!==o&&us.call(ke,Oe,1),us.call(o,Oe,1);return o}function Kd(o,c){for(var g=o?c.length:0,B=g-1;g--;){var Y=c[g];if(g==B||Y!==ie){var ie=Y;la(Y)?us.call(o,Y,1):Fc(o,Y)}}return o}function Ic(o,c){return o+le(Rd()*(c-o+1))}function Cw(o,c,g,B){for(var Y=-1,ie=Sr(ne((c-o)/(g||1)),0),we=je(ie);ie--;)we[B?ie:++Y]=o,o+=g;return we}function Rc(o,c){var g="";if(!o||c<1||c>re)return g;do c%2&&(g+=o),c=le(c/2),c&&(o+=o);while(c);return g}function Zt(o,c){return Wc(Tp(o,c,jn),o+"")}function Tw(o){return Od(tl(o))}function Nw(o,c){var g=tl(o);return Fu(g,ds(c,0,g.length))}function eo(o,c,g,B){if(!Vr(o))return o;c=qa(c,o);for(var Y=-1,ie=c.length,we=ie-1,ke=o;ke!=null&&++Y<ie;){var Oe=zi(c[Y]),Xe=g;if(Oe==="__proto__"||Oe==="constructor"||Oe==="prototype")return o;if(Y!=we){var We=ke[Oe];Xe=B?B(We,Oe,ke):t,Xe===t&&(Xe=Vr(We)?We:la(c[Y+1])?[]:{})}Yl(ke,Oe,Xe),ke=ke[Oe]}return o}var Jd=gu?function(o,c){return gu.set(o,c),o}:jn,Sw=Ba?function(o,c){return Ba(o,"toString",{configurable:!0,enumerable:!1,value:ih(c),writable:!0})}:jn;function Iw(o){return Fu(tl(o))}function _i(o,c,g){var B=-1,Y=o.length;c<0&&(c=-c>Y?0:Y+c),g=g>Y?Y:g,g<0&&(g+=Y),Y=c>g?0:g-c>>>0,c>>>=0;for(var ie=je(Y);++B<Y;)ie[B]=o[B+c];return ie}function Rw(o,c){var g;return Ua(o,function(B,Y,ie){return g=c(B,Y,ie),!g}),!!g}function Au(o,c,g){var B=0,Y=o==null?B:o.length;if(typeof c=="number"&&c===c&&Y<=J){for(;B<Y;){var ie=B+Y>>>1,we=o[ie];we!==null&&!Jn(we)&&(g?we<=c:we<c)?B=ie+1:Y=ie}return Y}return Pc(o,c,jn,g)}function Pc(o,c,g,B){var Y=0,ie=o==null?0:o.length;if(ie===0)return 0;c=g(c);for(var we=c!==c,ke=c===null,Oe=Jn(c),Xe=c===t;Y<ie;){var We=le((Y+ie)/2),nt=g(o[We]),ht=nt!==t,Dt=nt===null,Lt=nt===nt,Qt=Jn(nt);if(we)var Bt=B||Lt;else Xe?Bt=Lt&&(B||ht):ke?Bt=Lt&&ht&&(B||!Dt):Oe?Bt=Lt&&ht&&!Dt&&(B||!Qt):Dt||Qt?Bt=!1:Bt=B?nt<=c:nt<c;Bt?Y=We+1:ie=We}return qr(ie,de)}function Zd(o,c){for(var g=-1,B=o.length,Y=0,ie=[];++g<B;){var we=o[g],ke=c?c(we):we;if(!g||!Si(ke,Oe)){var Oe=ke;ie[Y++]=we===0?0:we}}return ie}function ep(o){return typeof o=="number"?o:Jn(o)?$:+o}function Kn(o){if(typeof o=="string")return o;if(xt(o))return Ir(o,Kn)+"";if(Jn(o))return Pd?Pd.call(o):"";var c=o+"";return c=="0"&&1/o==-oe?"-0":c}function Ma(o,c,g){var B=-1,Y=js,ie=o.length,we=!0,ke=[],Oe=ke;if(g)we=!1,Y=Ul;else if(ie>=n){var Xe=c?null:Hw(o);if(Xe)return Fa(Xe);we=!1,Y=Le,Oe=new hs}else Oe=c?[]:ke;e:for(;++B<ie;){var We=o[B],nt=c?c(We):We;if(We=g||We!==0?We:0,we&&nt===nt){for(var ht=Oe.length;ht--;)if(Oe[ht]===nt)continue e;c&&Oe.push(nt),ke.push(We)}else Y(Oe,nt,g)||(Oe!==ke&&Oe.push(nt),ke.push(We))}return ke}function Fc(o,c){return c=qa(c,o),o=Np(o,c),o==null||delete o[zi(vi(c))]}function tp(o,c,g,B){return eo(o,c,g(ps(o,c)),B)}function ku(o,c,g,B){for(var Y=o.length,ie=B?Y:-1;(B?ie--:++ie<Y)&&c(o[ie],ie,o););return g?_i(o,B?0:ie,B?ie+1:Y):_i(o,B?ie+1:0,B?Y:ie)}function rp(o,c){var g=o;return g instanceof ar&&(g=g.value()),xs(c,function(B,Y){return Y.func.apply(Y.thisArg,ji([B],Y.args))},g)}function Oc(o,c,g){var B=o.length;if(B<2)return B?Ma(o[0]):[];for(var Y=-1,ie=je(B);++Y<B;)for(var we=o[Y],ke=-1;++ke<B;)ke!=Y&&(ie[Y]=Kl(ie[Y]||we,o[ke],c,g));return Ma(_n(ie,1),c,g)}function np(o,c,g){for(var B=-1,Y=o.length,ie=c.length,we={};++B<Y;){var ke=B<ie?c[B]:t;g(we,o[B],ke)}return we}function Lc(o){return Wr(o)?o:[]}function Bc(o){return typeof o=="function"?o:jn}function qa(o,c){return xt(o)?o:$c(o,c)?[o]:Pp(wr(o))}var Pw=Zt;function ja(o,c,g){var B=o.length;return g=g===t?B:g,!c&&g>=B?o:_i(o,c,g)}var ip=E||function(o){return en.clearTimeout(o)};function ap(o,c){if(c)return o.slice();var g=o.length,B=pu?pu(g):new o.constructor(g);return o.copy(B),B}function Uc(o){var c=new o.constructor(o.byteLength);return new hi(c).set(new hi(o)),c}function Fw(o,c){var g=c?Uc(o.buffer):o.buffer;return new o.constructor(g,o.byteOffset,o.byteLength)}function Ow(o){var c=new o.constructor(o.source,gr.exec(o));return c.lastIndex=o.lastIndex,c}function Lw(o){return Ql?Er(Ql.call(o)):{}}function sp(o,c){var g=c?Uc(o.buffer):o.buffer;return new o.constructor(g,o.byteOffset,o.length)}function lp(o,c){if(o!==c){var g=o!==t,B=o===null,Y=o===o,ie=Jn(o),we=c!==t,ke=c===null,Oe=c===c,Xe=Jn(c);if(!ke&&!Xe&&!ie&&o>c||ie&&we&&Oe&&!ke&&!Xe||B&&we&&Oe||!g&&Oe||!Y)return 1;if(!B&&!ie&&!Xe&&o<c||Xe&&g&&Y&&!B&&!ie||ke&&g&&Y||!we&&Y||!Oe)return-1}return 0}function Bw(o,c,g){for(var B=-1,Y=o.criteria,ie=c.criteria,we=Y.length,ke=g.length;++B<we;){var Oe=lp(Y[B],ie[B]);if(Oe){if(B>=ke)return Oe;var Xe=g[B];return Oe*(Xe=="desc"?-1:1)}}return o.index-c.index}function op(o,c,g,B){for(var Y=-1,ie=o.length,we=g.length,ke=-1,Oe=c.length,Xe=Sr(ie-we,0),We=je(Oe+Xe),nt=!B;++ke<Oe;)We[ke]=c[ke];for(;++Y<we;)(nt||Y<ie)&&(We[g[Y]]=o[Y]);for(;Xe--;)We[ke++]=o[Y++];return We}function up(o,c,g,B){for(var Y=-1,ie=o.length,we=-1,ke=g.length,Oe=-1,Xe=c.length,We=Sr(ie-ke,0),nt=je(We+Xe),ht=!B;++Y<We;)nt[Y]=o[Y];for(var Dt=Y;++Oe<Xe;)nt[Dt+Oe]=c[Oe];for(;++we<ke;)(ht||Y<ie)&&(nt[Dt+g[we]]=o[Y++]);return nt}function Un(o,c){var g=-1,B=o.length;for(c||(c=je(B));++g<B;)c[g]=o[g];return c}function Vi(o,c,g,B){var Y=!g;g||(g={});for(var ie=-1,we=c.length;++ie<we;){var ke=c[ie],Oe=B?B(g[ke],o[ke],ke,g,o):t;Oe===t&&(Oe=o[ke]),Y?ia(g,ke,Oe):Yl(g,ke,Oe)}return g}function Uw(o,c){return Vi(o,zc(o),c)}function Mw(o,c){return Vi(o,Ep(o),c)}function Cu(o,c){return function(g,B){var Y=xt(g)?ec:sw,ie=c?c():{};return Y(g,o,Pt(B,2),ie)}}function Ks(o){return Zt(function(c,g){var B=-1,Y=g.length,ie=Y>1?g[Y-1]:t,we=Y>2?g[2]:t;for(ie=o.length>3&&typeof ie=="function"?(Y--,ie):t,we&&Nn(g[0],g[1],we)&&(ie=Y<3?t:ie,Y=1),c=Er(c);++B<Y;){var ke=g[B];ke&&o(c,ke,B,ie)}return c})}function fp(o,c){return function(g,B){if(g==null)return g;if(!Mn(g))return o(g,B);for(var Y=g.length,ie=c?Y:-1,we=Er(g);(c?ie--:++ie<Y)&&B(we[ie],ie,we)!==!1;);return g}}function cp(o){return function(c,g,B){for(var Y=-1,ie=Er(c),we=B(c),ke=we.length;ke--;){var Oe=we[o?ke:++Y];if(g(ie[Oe],Oe,ie)===!1)break}return c}}function qw(o,c,g){var B=c&b,Y=to(o);function ie(){var we=this&&this!==en&&this instanceof ie?Y:o;return we.apply(B?g:this,arguments)}return ie}function hp(o){return function(c){c=wr(c);var g=Pa(c)?Yn(c):t,B=g?g[0]:c.charAt(0),Y=g?ja(g,1).join(""):c.slice(1);return B[o]()+Y}}function Js(o){return function(c){return xs(f_(u_(c).replace($f,"")),o,"")}}function to(o){return function(){var c=arguments;switch(c.length){case 0:return new o;case 1:return new o(c[0]);case 2:return new o(c[0],c[1]);case 3:return new o(c[0],c[1],c[2]);case 4:return new o(c[0],c[1],c[2],c[3]);case 5:return new o(c[0],c[1],c[2],c[3],c[4]);case 6:return new o(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new o(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var g=Ys(o.prototype),B=o.apply(g,c);return Vr(B)?B:g}}function jw(o,c,g){var B=to(o);function Y(){for(var ie=arguments.length,we=je(ie),ke=ie,Oe=Zs(Y);ke--;)we[ke]=arguments[ke];var Xe=ie<3&&we[0]!==Oe&&we[ie-1]!==Oe?[]:fi(we,Oe);if(ie-=Xe.length,ie<g)return gp(o,c,Tu,Y.placeholder,t,we,Xe,t,t,g-ie);var We=this&&this!==en&&this instanceof Y?B:o;return Cn(We,this,we)}return Y}function dp(o){return function(c,g,B){var Y=Er(c);if(!Mn(c)){var ie=Pt(g,3);c=an(c),g=function(ke){return ie(Y[ke],ke,Y)}}var we=o(c,g,B);return we>-1?Y[ie?c[we]:we]:t}}function pp(o){return sa(function(c){var g=c.length,B=g,Y=di.prototype.thru;for(o&&c.reverse();B--;){var ie=c[B];if(typeof ie!="function")throw new Bn(a);if(Y&&!we&&Ru(ie)=="wrapper")var we=new di([],!0)}for(B=we?B:g;++B<g;){ie=c[B];var ke=Ru(ie),Oe=ke=="wrapper"?Hc(ie):t;Oe&&Gc(Oe[0])&&Oe[1]==(T|I|y|j)&&!Oe[4].length&&Oe[9]==1?we=we[Ru(Oe[0])].apply(we,Oe[3]):we=ie.length==1&&Gc(ie)?we[ke]():we.thru(ie)}return function(){var Xe=arguments,We=Xe[0];if(we&&Xe.length==1&&xt(We))return we.plant(We).value();for(var nt=0,ht=g?c[nt].apply(this,Xe):We;++nt<g;)ht=c[nt].call(this,ht);return ht}})}function Tu(o,c,g,B,Y,ie,we,ke,Oe,Xe){var We=c&T,nt=c&b,ht=c&A,Dt=c&(I|O),Lt=c&F,Qt=ht?t:to(o);function Bt(){for(var nr=arguments.length,sr=je(nr),Zn=nr;Zn--;)sr[Zn]=arguments[Zn];if(Dt)var Sn=Zs(Bt),ei=ou(sr,Sn);if(B&&(sr=op(sr,B,Y,Dt)),ie&&(sr=up(sr,ie,we,Dt)),nr-=ei,Dt&&nr<Xe){var Qr=fi(sr,Sn);return gp(o,c,Tu,Bt.placeholder,g,sr,Qr,ke,Oe,Xe-nr)}var Ii=nt?g:this,fa=ht?Ii[o]:o;return nr=sr.length,ke?sr=sy(sr,ke):Lt&&nr>1&&sr.reverse(),We&&Oe<nr&&(sr.length=Oe),this&&this!==en&&this instanceof Bt&&(fa=Qt||to(fa)),fa.apply(Ii,sr)}return Bt}function _p(o,c){return function(g,B){return pw(g,o,c(B),{})}}function Nu(o,c){return function(g,B){var Y;if(g===t&&B===t)return c;if(g!==t&&(Y=g),B!==t){if(Y===t)return B;typeof g=="string"||typeof B=="string"?(g=Kn(g),B=Kn(B)):(g=ep(g),B=ep(B)),Y=o(g,B)}return Y}}function Mc(o){return sa(function(c){return c=Ir(c,bn(Pt())),Zt(function(g){var B=this;return o(c,function(Y){return Cn(Y,B,g)})})})}function Su(o,c){c=c===t?" ":Kn(c);var g=c.length;if(g<2)return g?Rc(c,o):c;var B=Rc(c,ne(o/ci(c)));return Pa(c)?ja(Yn(B),0,o).join(""):B.slice(0,o)}function xw(o,c,g,B){var Y=c&b,ie=to(o);function we(){for(var ke=-1,Oe=arguments.length,Xe=-1,We=B.length,nt=je(We+Oe),ht=this&&this!==en&&this instanceof we?ie:o;++Xe<We;)nt[Xe]=B[Xe];for(;Oe--;)nt[Xe++]=arguments[++ke];return Cn(ht,Y?g:this,nt)}return we}function vp(o){return function(c,g,B){return B&&typeof B!="number"&&Nn(c,g,B)&&(g=B=t),c=ua(c),g===t?(g=c,c=0):g=ua(g),B=B===t?c<g?1:-1:ua(B),Cw(c,g,B,o)}}function Iu(o){return function(c,g){return typeof c=="string"&&typeof g=="string"||(c=gi(c),g=gi(g)),o(c,g)}}function gp(o,c,g,B,Y,ie,we,ke,Oe,Xe){var We=c&I,nt=We?we:t,ht=We?t:we,Dt=We?ie:t,Lt=We?t:ie;c|=We?y:N,c&=~(We?N:y),c&U||(c&=~(b|A));var Qt=[o,c,Y,Dt,nt,Lt,ht,ke,Oe,Xe],Bt=g.apply(t,Qt);return Gc(o)&&Sp(Bt,Qt),Bt.placeholder=B,Ip(Bt,o,c)}function qc(o){var c=Xr[o];return function(g,B){if(g=gi(g),B=B==null?0:qr(Gt(B),292),B&&ue(g)){var Y=(wr(g)+"e").split("e"),ie=c(Y[0]+"e"+(+Y[1]+B));return Y=(wr(ie)+"e").split("e"),+(Y[0]+"e"+(+Y[1]-B))}return c(g)}}var Hw=Ws&&1/Fa(new Ws([,-0]))[1]==oe?function(o){return new Ws(o)}:lh;function mp(o){return function(c){var g=wn(c);return g==me?ql(c):g==rr?jl(c):br(c,o(c))}}function aa(o,c,g,B,Y,ie,we,ke){var Oe=c&A;if(!Oe&&typeof o!="function")throw new Bn(a);var Xe=B?B.length:0;if(Xe||(c&=~(y|N),B=Y=t),we=we===t?we:Sr(Gt(we),0),ke=ke===t?ke:Gt(ke),Xe-=Y?Y.length:0,c&N){var We=B,nt=Y;B=Y=t}var ht=Oe?t:Hc(o),Dt=[o,c,g,B,Y,We,nt,ie,we,ke];if(ht&&ny(Dt,ht),o=Dt[0],c=Dt[1],g=Dt[2],B=Dt[3],Y=Dt[4],ke=Dt[9]=Dt[9]===t?Oe?0:o.length:Sr(Dt[9]-Xe,0),!ke&&c&(I|O)&&(c&=~(I|O)),!c||c==b)var Lt=qw(o,c,g);else c==I||c==O?Lt=jw(o,c,ke):(c==y||c==(b|y))&&!Y.length?Lt=xw(o,c,g,B):Lt=Tu.apply(t,Dt);var Qt=ht?Jd:Sp;return Ip(Qt(Lt,Dt),o,c)}function bp(o,c,g,B){return o===t||Si(o,La[g])&&!Tt.call(B,g)?c:o}function wp(o,c,g,B,Y,ie){return Vr(o)&&Vr(c)&&(ie.set(c,o),Du(o,c,t,wp,ie),ie.delete(c)),o}function Vw(o){return io(o)?t:o}function yp(o,c,g,B,Y,ie){var we=g&v,ke=o.length,Oe=c.length;if(ke!=Oe&&!(we&&Oe>ke))return!1;var Xe=ie.get(o),We=ie.get(c);if(Xe&&We)return Xe==c&&We==o;var nt=-1,ht=!0,Dt=g&m?new hs:t;for(ie.set(o,c),ie.set(c,o);++nt<ke;){var Lt=o[nt],Qt=c[nt];if(B)var Bt=we?B(Qt,Lt,nt,c,o,ie):B(Lt,Qt,nt,o,c,ie);if(Bt!==t){if(Bt)continue;ht=!1;break}if(Dt){if(!Ml(c,function(nr,sr){if(!Le(Dt,sr)&&(Lt===nr||Y(Lt,nr,g,B,ie)))return Dt.push(sr)})){ht=!1;break}}else if(!(Lt===Qt||Y(Lt,Qt,g,B,ie))){ht=!1;break}}return ie.delete(o),ie.delete(c),ht}function zw(o,c,g,B,Y,ie,we){switch(g){case S:if(o.byteLength!=c.byteLength||o.byteOffset!=c.byteOffset)return!1;o=o.buffer,c=c.buffer;case K:return!(o.byteLength!=c.byteLength||!ie(new hi(o),new hi(c)));case He:case Ce:case Be:return Si(+o,+c);case Ge:return o.name==c.name&&o.message==c.message;case pr:case Ft:return o==c+"";case me:var ke=ql;case rr:var Oe=B&v;if(ke||(ke=Fa),o.size!=c.size&&!Oe)return!1;var Xe=we.get(o);if(Xe)return Xe==c;B|=m,we.set(o,c);var We=yp(ke(o),ke(c),B,Y,ie,we);return we.delete(o),We;case jt:if(Ql)return Ql.call(o)==Ql.call(c)}return!1}function $w(o,c,g,B,Y,ie){var we=g&v,ke=jc(o),Oe=ke.length,Xe=jc(c),We=Xe.length;if(Oe!=We&&!we)return!1;for(var nt=Oe;nt--;){var ht=ke[nt];if(!(we?ht in c:Tt.call(c,ht)))return!1}var Dt=ie.get(o),Lt=ie.get(c);if(Dt&&Lt)return Dt==c&&Lt==o;var Qt=!0;ie.set(o,c),ie.set(c,o);for(var Bt=we;++nt<Oe;){ht=ke[nt];var nr=o[ht],sr=c[ht];if(B)var Zn=we?B(sr,nr,ht,c,o,ie):B(nr,sr,ht,o,c,ie);if(!(Zn===t?nr===sr||Y(nr,sr,g,B,ie):Zn)){Qt=!1;break}Bt||(Bt=ht=="constructor")}if(Qt&&!Bt){var Sn=o.constructor,ei=c.constructor;Sn!=ei&&"constructor"in o&&"constructor"in c&&!(typeof Sn=="function"&&Sn instanceof Sn&&typeof ei=="function"&&ei instanceof ei)&&(Qt=!1)}return ie.delete(o),ie.delete(c),Qt}function sa(o){return Wc(Tp(o,t,Bp),o+"")}function jc(o){return xd(o,an,zc)}function xc(o){return xd(o,qn,Ep)}var Hc=gu?function(o){return gu.get(o)}:lh;function Ru(o){for(var c=o.name+"",g=Qs[c],B=Tt.call(Qs,c)?g.length:0;B--;){var Y=g[B],ie=Y.func;if(ie==null||ie==o)return Y.name}return c}function Zs(o){var c=Tt.call(ee,"placeholder")?ee:o;return c.placeholder}function Pt(){var o=ee.iteratee||ah;return o=o===ah?zd:o,arguments.length?o(arguments[0],arguments[1]):o}function Pu(o,c){var g=o.__data__;return Zw(c)?g[typeof c=="string"?"string":"hash"]:g.map}function Vc(o){for(var c=an(o),g=c.length;g--;){var B=c[g],Y=o[B];c[g]=[B,Y,kp(Y)]}return c}function _s(o,c){var g=oc(o,c);return Vd(g)?g:t}function Gw(o){var c=Tt.call(o,tr),g=o[tr];try{o[tr]=t;var B=!0}catch{}var Y=Xs.call(o);return B&&(c?o[tr]=g:delete o[tr]),Y}var zc=ye?function(o){return o==null?[]:(o=Er(o),qi(ye(o),function(c){return vu.call(o,c)}))}:oh,Ep=ye?function(o){for(var c=[];o;)ji(c,zc(o)),o=tn(o);return c}:oh,wn=Tn;(mc&&wn(new mc(new ArrayBuffer(1)))!=S||Gl&&wn(new Gl)!=me||bc&&wn(bc.resolve())!=lr||Ws&&wn(new Ws)!=rr||Xl&&wn(new Xl)!=vr)&&(wn=function(o){var c=Tn(o),g=c==ir?o.constructor:t,B=g?vs(g):"";if(B)switch(B){case Nb:return S;case Sb:return me;case Ib:return lr;case Rb:return rr;case Pb:return vr}return c});function Xw(o,c,g){for(var B=-1,Y=g.length;++B<Y;){var ie=g[B],we=ie.size;switch(ie.type){case"drop":o+=we;break;case"dropRight":c-=we;break;case"take":c=qr(c,o+we);break;case"takeRight":o=Sr(o,c-we);break}}return{start:o,end:c}}function Ww(o){var c=o.match(Te);return c?c[1].split(xe):[]}function Dp(o,c,g){c=qa(c,o);for(var B=-1,Y=c.length,ie=!1;++B<Y;){var we=zi(c[B]);if(!(ie=o!=null&&g(o,we)))break;o=o[we]}return ie||++B!=Y?ie:(Y=o==null?0:o.length,!!Y&&qu(Y)&&la(we,Y)&&(xt(o)||gs(o)))}function Qw(o){var c=o.length,g=new o.constructor(c);return c&&typeof o[0]=="string"&&Tt.call(o,"index")&&(g.index=o.index,g.input=o.input),g}function Ap(o){return typeof o.constructor=="function"&&!ro(o)?Ys(tn(o)):{}}function Yw(o,c,g){var B=o.constructor;switch(c){case K:return Uc(o);case He:case Ce:return new B(+o);case S:return Fw(o,g);case M:case Z:case _e:case Ie:case Ue:case ct:case wt:case pt:case mt:return sp(o,g);case me:return new B;case Be:case Ft:return new B(o);case pr:return Ow(o);case rr:return new B;case jt:return Lw(o)}}function Kw(o,c){var g=c.length;if(!g)return o;var B=g-1;return c[B]=(g>1?"& ":"")+c[B],c=c.join(g>2?", ":" "),o.replace(ce,`{
/* [wrapped with `+c+`] */
`)}function Jw(o){return xt(o)||gs(o)||!!($l&&o&&o[$l])}function la(o,c){var g=typeof o;return c=c??re,!!c&&(g=="number"||g!="symbol"&&Ot.test(o))&&o>-1&&o%1==0&&o<c}function Nn(o,c,g){if(!Vr(g))return!1;var B=typeof c;return(B=="number"?Mn(g)&&la(c,g.length):B=="string"&&c in g)?Si(g[c],o):!1}function $c(o,c){if(xt(o))return!1;var g=typeof o;return g=="number"||g=="symbol"||g=="boolean"||o==null||Jn(o)?!0:ts.test(o)||!Ca.test(o)||c!=null&&o in Er(c)}function Zw(o){var c=typeof o;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?o!=="__proto__":o===null}function Gc(o){var c=Ru(o),g=ee[c];if(typeof g!="function"||!(c in ar.prototype))return!1;if(o===g)return!0;var B=Hc(g);return!!B&&o===B[0]}function ey(o){return!!hu&&hu in o}var ty=$s?oa:uh;function ro(o){var c=o&&o.constructor,g=typeof c=="function"&&c.prototype||La;return o===g}function kp(o){return o===o&&!Vr(o)}function Cp(o,c){return function(g){return g==null?!1:g[o]===c&&(c!==t||o in Er(g))}}function ry(o){var c=Uu(o,function(B){return g.size===f&&g.clear(),B}),g=c.cache;return c}function ny(o,c){var g=o[1],B=c[1],Y=g|B,ie=Y<(b|A|T),we=B==T&&g==I||B==T&&g==j&&o[7].length<=c[8]||B==(T|j)&&c[7].length<=c[8]&&g==I;if(!(ie||we))return o;B&b&&(o[2]=c[2],Y|=g&b?0:U);var ke=c[3];if(ke){var Oe=o[3];o[3]=Oe?op(Oe,ke,c[4]):ke,o[4]=Oe?fi(o[3],h):c[4]}return ke=c[5],ke&&(Oe=o[5],o[5]=Oe?up(Oe,ke,c[6]):ke,o[6]=Oe?fi(o[5],h):c[6]),ke=c[7],ke&&(o[7]=ke),B&T&&(o[8]=o[8]==null?c[8]:qr(o[8],c[8])),o[9]==null&&(o[9]=c[9]),o[0]=c[0],o[1]=Y,o}function iy(o){var c=[];if(o!=null)for(var g in Er(o))c.push(g);return c}function ay(o){return Xs.call(o)}function Tp(o,c,g){return c=Sr(c===t?o.length-1:c,0),function(){for(var B=arguments,Y=-1,ie=Sr(B.length-c,0),we=je(ie);++Y<ie;)we[Y]=B[c+Y];Y=-1;for(var ke=je(c+1);++Y<c;)ke[Y]=B[Y];return ke[c]=g(we),Cn(o,this,ke)}}function Np(o,c){return c.length<2?o:ps(o,_i(c,0,-1))}function sy(o,c){for(var g=o.length,B=qr(c.length,g),Y=Un(o);B--;){var ie=c[B];o[B]=la(ie,g)?Y[ie]:t}return o}function Xc(o,c){if(!(c==="constructor"&&typeof o[c]=="function")&&c!="__proto__")return o[c]}var Sp=Rp(Jd),no=X||function(o,c){return en.setTimeout(o,c)},Wc=Rp(Sw);function Ip(o,c,g){var B=c+"";return Wc(o,Kw(B,ly(Ww(B),g)))}function Rp(o){var c=0,g=0;return function(){var B=kb(),Y=D-(B-g);if(g=B,Y>0){if(++c>=L)return arguments[0]}else c=0;return o.apply(t,arguments)}}function Fu(o,c){var g=-1,B=o.length,Y=B-1;for(c=c===t?B:c;++g<c;){var ie=Ic(g,Y),we=o[ie];o[ie]=o[g],o[g]=we}return o.length=c,o}var Pp=ry(function(o){var c=[];return o.charCodeAt(0)===46&&c.push(""),o.replace(Tl,function(g,B,Y,ie){c.push(Y?ie.replace(ft,"$1"):B||g)}),c});function zi(o){if(typeof o=="string"||Jn(o))return o;var c=o+"";return c=="0"&&1/o==-oe?"-0":c}function vs(o){if(o!=null){try{return Gs.call(o)}catch{}try{return o+""}catch{}}return""}function ly(o,c){return On(pe,function(g){var B="_."+g[0];c&g[1]&&!js(o,B)&&o.push(B)}),o.sort()}function Fp(o){if(o instanceof ar)return o.clone();var c=new di(o.__wrapped__,o.__chain__);return c.__actions__=Un(o.__actions__),c.__index__=o.__index__,c.__values__=o.__values__,c}function oy(o,c,g){(g?Nn(o,c,g):c===t)?c=1:c=Sr(Gt(c),0);var B=o==null?0:o.length;if(!B||c<1)return[];for(var Y=0,ie=0,we=je(ne(B/c));Y<B;)we[ie++]=_i(o,Y,Y+=c);return we}function uy(o){for(var c=-1,g=o==null?0:o.length,B=0,Y=[];++c<g;){var ie=o[c];ie&&(Y[B++]=ie)}return Y}function fy(){var o=arguments.length;if(!o)return[];for(var c=je(o-1),g=arguments[0],B=o;B--;)c[B-1]=arguments[B];return ji(xt(g)?Un(g):[g],_n(c,1))}var cy=Zt(function(o,c){return Wr(o)?Kl(o,_n(c,1,Wr,!0)):[]}),hy=Zt(function(o,c){var g=vi(c);return Wr(g)&&(g=t),Wr(o)?Kl(o,_n(c,1,Wr,!0),Pt(g,2)):[]}),dy=Zt(function(o,c){var g=vi(c);return Wr(g)&&(g=t),Wr(o)?Kl(o,_n(c,1,Wr,!0),t,g):[]});function py(o,c,g){var B=o==null?0:o.length;return B?(c=g||c===t?1:Gt(c),_i(o,c<0?0:c,B)):[]}function _y(o,c,g){var B=o==null?0:o.length;return B?(c=g||c===t?1:Gt(c),c=B-c,_i(o,0,c<0?0:c)):[]}function vy(o,c){return o&&o.length?ku(o,Pt(c,3),!0,!0):[]}function gy(o,c){return o&&o.length?ku(o,Pt(c,3),!0):[]}function my(o,c,g,B){var Y=o==null?0:o.length;return Y?(g&&typeof g!="number"&&Nn(o,c,g)&&(g=0,B=Y),fw(o,c,g,B)):[]}function Op(o,c,g){var B=o==null?0:o.length;if(!B)return-1;var Y=g==null?0:Gt(g);return Y<0&&(Y=Sr(B+Y,0)),Hs(o,Pt(c,3),Y)}function Lp(o,c,g){var B=o==null?0:o.length;if(!B)return-1;var Y=B-1;return g!==t&&(Y=Gt(g),Y=g<0?Sr(B+Y,0):qr(Y,B-1)),Hs(o,Pt(c,3),Y,!0)}function Bp(o){var c=o==null?0:o.length;return c?_n(o,1):[]}function by(o){var c=o==null?0:o.length;return c?_n(o,oe):[]}function wy(o,c){var g=o==null?0:o.length;return g?(c=c===t?1:Gt(c),_n(o,c)):[]}function yy(o){for(var c=-1,g=o==null?0:o.length,B={};++c<g;){var Y=o[c];B[Y[0]]=Y[1]}return B}function Up(o){return o&&o.length?o[0]:t}function Ey(o,c,g){var B=o==null?0:o.length;if(!B)return-1;var Y=g==null?0:Gt(g);return Y<0&&(Y=Sr(B+Y,0)),Ia(o,c,Y)}function Dy(o){var c=o==null?0:o.length;return c?_i(o,0,-1):[]}var Ay=Zt(function(o){var c=Ir(o,Lc);return c.length&&c[0]===o[0]?kc(c):[]}),ky=Zt(function(o){var c=vi(o),g=Ir(o,Lc);return c===vi(g)?c=t:g.pop(),g.length&&g[0]===o[0]?kc(g,Pt(c,2)):[]}),Cy=Zt(function(o){var c=vi(o),g=Ir(o,Lc);return c=typeof c=="function"?c:t,c&&g.pop(),g.length&&g[0]===o[0]?kc(g,t,c):[]});function Ty(o,c){return o==null?"":dt.call(o,c)}function vi(o){var c=o==null?0:o.length;return c?o[c-1]:t}function Ny(o,c,g){var B=o==null?0:o.length;if(!B)return-1;var Y=B;return g!==t&&(Y=Gt(g),Y=Y<0?Sr(B+Y,0):qr(Y,B-1)),c===c?hc(o,c,Y):Hs(o,C,Y,!0)}function Sy(o,c){return o&&o.length?Wd(o,Gt(c)):t}var Iy=Zt(Mp);function Mp(o,c){return o&&o.length&&c&&c.length?Sc(o,c):o}function Ry(o,c,g){return o&&o.length&&c&&c.length?Sc(o,c,Pt(g,2)):o}function Py(o,c,g){return o&&o.length&&c&&c.length?Sc(o,c,t,g):o}var Fy=sa(function(o,c){var g=o==null?0:o.length,B=yc(o,c);return Kd(o,Ir(c,function(Y){return la(Y,g)?+Y:Y}).sort(lp)),B});function Oy(o,c){var g=[];if(!(o&&o.length))return g;var B=-1,Y=[],ie=o.length;for(c=Pt(c,3);++B<ie;){var we=o[B];c(we,B,o)&&(g.push(we),Y.push(B))}return Kd(o,Y),g}function Qc(o){return o==null?o:Tb.call(o)}function Ly(o,c,g){var B=o==null?0:o.length;return B?(g&&typeof g!="number"&&Nn(o,c,g)?(c=0,g=B):(c=c==null?0:Gt(c),g=g===t?B:Gt(g)),_i(o,c,g)):[]}function By(o,c){return Au(o,c)}function Uy(o,c,g){return Pc(o,c,Pt(g,2))}function My(o,c){var g=o==null?0:o.length;if(g){var B=Au(o,c);if(B<g&&Si(o[B],c))return B}return-1}function qy(o,c){return Au(o,c,!0)}function jy(o,c,g){return Pc(o,c,Pt(g,2),!0)}function xy(o,c){var g=o==null?0:o.length;if(g){var B=Au(o,c,!0)-1;if(Si(o[B],c))return B}return-1}function Hy(o){return o&&o.length?Zd(o):[]}function Vy(o,c){return o&&o.length?Zd(o,Pt(c,2)):[]}function zy(o){var c=o==null?0:o.length;return c?_i(o,1,c):[]}function $y(o,c,g){return o&&o.length?(c=g||c===t?1:Gt(c),_i(o,0,c<0?0:c)):[]}function Gy(o,c,g){var B=o==null?0:o.length;return B?(c=g||c===t?1:Gt(c),c=B-c,_i(o,c<0?0:c,B)):[]}function Xy(o,c){return o&&o.length?ku(o,Pt(c,3),!1,!0):[]}function Wy(o,c){return o&&o.length?ku(o,Pt(c,3)):[]}var Qy=Zt(function(o){return Ma(_n(o,1,Wr,!0))}),Yy=Zt(function(o){var c=vi(o);return Wr(c)&&(c=t),Ma(_n(o,1,Wr,!0),Pt(c,2))}),Ky=Zt(function(o){var c=vi(o);return c=typeof c=="function"?c:t,Ma(_n(o,1,Wr,!0),t,c)});function Jy(o){return o&&o.length?Ma(o):[]}function Zy(o,c){return o&&o.length?Ma(o,Pt(c,2)):[]}function e3(o,c){return c=typeof c=="function"?c:t,o&&o.length?Ma(o,t,c):[]}function Yc(o){if(!(o&&o.length))return[];var c=0;return o=qi(o,function(g){if(Wr(g))return c=Sr(g.length,c),!0}),Mt(c,function(g){return Ir(o,Ra(g))})}function qp(o,c){if(!(o&&o.length))return[];var g=Yc(o);return c==null?g:Ir(g,function(B){return Cn(c,t,B)})}var t3=Zt(function(o,c){return Wr(o)?Kl(o,c):[]}),r3=Zt(function(o){return Oc(qi(o,Wr))}),n3=Zt(function(o){var c=vi(o);return Wr(c)&&(c=t),Oc(qi(o,Wr),Pt(c,2))}),i3=Zt(function(o){var c=vi(o);return c=typeof c=="function"?c:t,Oc(qi(o,Wr),t,c)}),a3=Zt(Yc);function s3(o,c){return np(o||[],c||[],Yl)}function l3(o,c){return np(o||[],c||[],eo)}var o3=Zt(function(o){var c=o.length,g=c>1?o[c-1]:t;return g=typeof g=="function"?(o.pop(),g):t,qp(o,g)});function jp(o){var c=ee(o);return c.__chain__=!0,c}function u3(o,c){return c(o),o}function Ou(o,c){return c(o)}var f3=sa(function(o){var c=o.length,g=c?o[0]:0,B=this.__wrapped__,Y=function(ie){return yc(ie,o)};return c>1||this.__actions__.length||!(B instanceof ar)||!la(g)?this.thru(Y):(B=B.slice(g,+g+(c?1:0)),B.__actions__.push({func:Ou,args:[Y],thisArg:t}),new di(B,this.__chain__).thru(function(ie){return c&&!ie.length&&ie.push(t),ie}))});function c3(){return jp(this)}function h3(){return new di(this.value(),this.__chain__)}function d3(){this.__values__===t&&(this.__values__=e_(this.value()));var o=this.__index__>=this.__values__.length,c=o?t:this.__values__[this.__index__++];return{done:o,value:c}}function p3(){return this}function _3(o){for(var c,g=this;g instanceof bu;){var B=Fp(g);B.__index__=0,B.__values__=t,c?Y.__wrapped__=B:c=B;var Y=B;g=g.__wrapped__}return Y.__wrapped__=o,c}function v3(){var o=this.__wrapped__;if(o instanceof ar){var c=o;return this.__actions__.length&&(c=new ar(this)),c=c.reverse(),c.__actions__.push({func:Ou,args:[Qc],thisArg:t}),new di(c,this.__chain__)}return this.thru(Qc)}function g3(){return rp(this.__wrapped__,this.__actions__)}var m3=Cu(function(o,c,g){Tt.call(o,g)?++o[g]:ia(o,g,1)});function b3(o,c,g){var B=xt(o)?nu:uw;return g&&Nn(o,c,g)&&(c=t),B(o,Pt(c,3))}function w3(o,c){var g=xt(o)?qi:qd;return g(o,Pt(c,3))}var y3=dp(Op),E3=dp(Lp);function D3(o,c){return _n(Lu(o,c),1)}function A3(o,c){return _n(Lu(o,c),oe)}function k3(o,c,g){return g=g===t?1:Gt(g),_n(Lu(o,c),g)}function xp(o,c){var g=xt(o)?On:Ua;return g(o,Pt(c,3))}function Hp(o,c){var g=xt(o)?tc:Md;return g(o,Pt(c,3))}var C3=Cu(function(o,c,g){Tt.call(o,g)?o[g].push(c):ia(o,g,[c])});function T3(o,c,g,B){o=Mn(o)?o:tl(o),g=g&&!B?Gt(g):0;var Y=o.length;return g<0&&(g=Sr(Y+g,0)),ju(o)?g<=Y&&o.indexOf(c,g)>-1:!!Y&&Ia(o,c,g)>-1}var N3=Zt(function(o,c,g){var B=-1,Y=typeof c=="function",ie=Mn(o)?je(o.length):[];return Ua(o,function(we){ie[++B]=Y?Cn(c,we,g):Jl(we,c,g)}),ie}),S3=Cu(function(o,c,g){ia(o,g,c)});function Lu(o,c){var g=xt(o)?Ir:$d;return g(o,Pt(c,3))}function I3(o,c,g,B){return o==null?[]:(xt(c)||(c=c==null?[]:[c]),g=B?t:g,xt(g)||(g=g==null?[]:[g]),Qd(o,c,g))}var R3=Cu(function(o,c,g){o[g?0:1].push(c)},function(){return[[],[]]});function P3(o,c,g){var B=xt(o)?xs:Vs,Y=arguments.length<3;return B(o,Pt(c,4),g,Y,Ua)}function F3(o,c,g){var B=xt(o)?rc:Vs,Y=arguments.length<3;return B(o,Pt(c,4),g,Y,Md)}function O3(o,c){var g=xt(o)?qi:qd;return g(o,Mu(Pt(c,3)))}function L3(o){var c=xt(o)?Od:Tw;return c(o)}function B3(o,c,g){(g?Nn(o,c,g):c===t)?c=1:c=Gt(c);var B=xt(o)?iw:Nw;return B(o,c)}function U3(o){var c=xt(o)?aw:Iw;return c(o)}function M3(o){if(o==null)return 0;if(Mn(o))return ju(o)?ci(o):o.length;var c=wn(o);return c==me||c==rr?o.size:Tc(o).length}function q3(o,c,g){var B=xt(o)?Ml:Rw;return g&&Nn(o,c,g)&&(c=t),B(o,Pt(c,3))}var j3=Zt(function(o,c){if(o==null)return[];var g=c.length;return g>1&&Nn(o,c[0],c[1])?c=[]:g>2&&Nn(c[0],c[1],c[2])&&(c=[c[0]]),Qd(o,_n(c,1),[])}),Bu=x||function(){return en.Date.now()};function x3(o,c){if(typeof c!="function")throw new Bn(a);return o=Gt(o),function(){if(--o<1)return c.apply(this,arguments)}}function Vp(o,c,g){return c=g?t:c,c=o&&c==null?o.length:c,aa(o,T,t,t,t,t,c)}function zp(o,c){var g;if(typeof c!="function")throw new Bn(a);return o=Gt(o),function(){return--o>0&&(g=c.apply(this,arguments)),o<=1&&(c=t),g}}var Kc=Zt(function(o,c,g){var B=b;if(g.length){var Y=fi(g,Zs(Kc));B|=y}return aa(o,B,c,g,Y)}),$p=Zt(function(o,c,g){var B=b|A;if(g.length){var Y=fi(g,Zs($p));B|=y}return aa(c,B,o,g,Y)});function Gp(o,c,g){c=g?t:c;var B=aa(o,I,t,t,t,t,t,c);return B.placeholder=Gp.placeholder,B}function Xp(o,c,g){c=g?t:c;var B=aa(o,O,t,t,t,t,t,c);return B.placeholder=Xp.placeholder,B}function Wp(o,c,g){var B,Y,ie,we,ke,Oe,Xe=0,We=!1,nt=!1,ht=!0;if(typeof o!="function")throw new Bn(a);c=gi(c)||0,Vr(g)&&(We=!!g.leading,nt="maxWait"in g,ie=nt?Sr(gi(g.maxWait)||0,c):ie,ht="trailing"in g?!!g.trailing:ht);function Dt(Qr){var Ii=B,fa=Y;return B=Y=t,Xe=Qr,we=o.apply(fa,Ii),we}function Lt(Qr){return Xe=Qr,ke=no(nr,c),We?Dt(Qr):we}function Qt(Qr){var Ii=Qr-Oe,fa=Qr-Xe,d_=c-Ii;return nt?qr(d_,ie-fa):d_}function Bt(Qr){var Ii=Qr-Oe,fa=Qr-Xe;return Oe===t||Ii>=c||Ii<0||nt&&fa>=ie}function nr(){var Qr=Bu();if(Bt(Qr))return sr(Qr);ke=no(nr,Qt(Qr))}function sr(Qr){return ke=t,ht&&B?Dt(Qr):(B=Y=t,we)}function Zn(){ke!==t&&ip(ke),Xe=0,B=Oe=Y=ke=t}function Sn(){return ke===t?we:sr(Bu())}function ei(){var Qr=Bu(),Ii=Bt(Qr);if(B=arguments,Y=this,Oe=Qr,Ii){if(ke===t)return Lt(Oe);if(nt)return ip(ke),ke=no(nr,c),Dt(Oe)}return ke===t&&(ke=no(nr,c)),we}return ei.cancel=Zn,ei.flush=Sn,ei}var H3=Zt(function(o,c){return Ud(o,1,c)}),V3=Zt(function(o,c,g){return Ud(o,gi(c)||0,g)});function z3(o){return aa(o,F)}function Uu(o,c){if(typeof o!="function"||c!=null&&typeof c!="function")throw new Bn(a);var g=function(){var B=arguments,Y=c?c.apply(this,B):B[0],ie=g.cache;if(ie.has(Y))return ie.get(Y);var we=o.apply(this,B);return g.cache=ie.set(Y,we)||ie,we};return g.cache=new(Uu.Cache||na),g}Uu.Cache=na;function Mu(o){if(typeof o!="function")throw new Bn(a);return function(){var c=arguments;switch(c.length){case 0:return!o.call(this);case 1:return!o.call(this,c[0]);case 2:return!o.call(this,c[0],c[1]);case 3:return!o.call(this,c[0],c[1],c[2])}return!o.apply(this,c)}}function $3(o){return zp(2,o)}var G3=Pw(function(o,c){c=c.length==1&&xt(c[0])?Ir(c[0],bn(Pt())):Ir(_n(c,1),bn(Pt()));var g=c.length;return Zt(function(B){for(var Y=-1,ie=qr(B.length,g);++Y<ie;)B[Y]=c[Y].call(this,B[Y]);return Cn(o,this,B)})}),Jc=Zt(function(o,c){var g=fi(c,Zs(Jc));return aa(o,y,t,c,g)}),Qp=Zt(function(o,c){var g=fi(c,Zs(Qp));return aa(o,N,t,c,g)}),X3=sa(function(o,c){return aa(o,j,t,t,t,c)});function W3(o,c){if(typeof o!="function")throw new Bn(a);return c=c===t?c:Gt(c),Zt(o,c)}function Q3(o,c){if(typeof o!="function")throw new Bn(a);return c=c==null?0:Sr(Gt(c),0),Zt(function(g){var B=g[c],Y=ja(g,0,c);return B&&ji(Y,B),Cn(o,this,Y)})}function Y3(o,c,g){var B=!0,Y=!0;if(typeof o!="function")throw new Bn(a);return Vr(g)&&(B="leading"in g?!!g.leading:B,Y="trailing"in g?!!g.trailing:Y),Wp(o,c,{leading:B,maxWait:c,trailing:Y})}function K3(o){return Vp(o,1)}function J3(o,c){return Jc(Bc(c),o)}function Z3(){if(!arguments.length)return[];var o=arguments[0];return xt(o)?o:[o]}function eE(o){return pi(o,d)}function tE(o,c){return c=typeof c=="function"?c:t,pi(o,d,c)}function rE(o){return pi(o,_|d)}function nE(o,c){return c=typeof c=="function"?c:t,pi(o,_|d,c)}function iE(o,c){return c==null||Bd(o,c,an(c))}function Si(o,c){return o===c||o!==o&&c!==c}var aE=Iu(Ac),sE=Iu(function(o,c){return o>=c}),gs=Hd(function(){return arguments}())?Hd:function(o){return zr(o)&&Tt.call(o,"callee")&&!vu.call(o,"callee")},xt=je.isArray,lE=Ko?bn(Ko):_w;function Mn(o){return o!=null&&qu(o.length)&&!oa(o)}function Wr(o){return zr(o)&&Mn(o)}function oE(o){return o===!0||o===!1||zr(o)&&Tn(o)==He}var xa=Ae||uh,uE=Jo?bn(Jo):vw;function fE(o){return zr(o)&&o.nodeType===1&&!io(o)}function cE(o){if(o==null)return!0;if(Mn(o)&&(xt(o)||typeof o=="string"||typeof o.splice=="function"||xa(o)||el(o)||gs(o)))return!o.length;var c=wn(o);if(c==me||c==rr)return!o.size;if(ro(o))return!Tc(o).length;for(var g in o)if(Tt.call(o,g))return!1;return!0}function hE(o,c){return Zl(o,c)}function dE(o,c,g){g=typeof g=="function"?g:t;var B=g?g(o,c):t;return B===t?Zl(o,c,t,g):!!B}function Zc(o){if(!zr(o))return!1;var c=Tn(o);return c==Ge||c==De||typeof o.message=="string"&&typeof o.name=="string"&&!io(o)}function pE(o){return typeof o=="number"&&ue(o)}function oa(o){if(!Vr(o))return!1;var c=Tn(o);return c==gt||c==rt||c==Fe||c==or}function Yp(o){return typeof o=="number"&&o==Gt(o)}function qu(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=re}function Vr(o){var c=typeof o;return o!=null&&(c=="object"||c=="function")}function zr(o){return o!=null&&typeof o=="object"}var Kp=Zo?bn(Zo):mw;function _E(o,c){return o===c||Cc(o,c,Vc(c))}function vE(o,c,g){return g=typeof g=="function"?g:t,Cc(o,c,Vc(c),g)}function gE(o){return Jp(o)&&o!=+o}function mE(o){if(ty(o))throw new Ut(s);return Vd(o)}function bE(o){return o===null}function wE(o){return o==null}function Jp(o){return typeof o=="number"||zr(o)&&Tn(o)==Be}function io(o){if(!zr(o)||Tn(o)!=ir)return!1;var c=tn(o);if(c===null)return!0;var g=Tt.call(c,"constructor")&&c.constructor;return typeof g=="function"&&g instanceof g&&Gs.call(g)==du}var eh=eu?bn(eu):bw;function yE(o){return Yp(o)&&o>=-re&&o<=re}var Zp=tu?bn(tu):ww;function ju(o){return typeof o=="string"||!xt(o)&&zr(o)&&Tn(o)==Ft}function Jn(o){return typeof o=="symbol"||zr(o)&&Tn(o)==jt}var el=ru?bn(ru):yw;function EE(o){return o===t}function DE(o){return zr(o)&&wn(o)==vr}function AE(o){return zr(o)&&Tn(o)==rn}var kE=Iu(Nc),CE=Iu(function(o,c){return o<=c});function e_(o){if(!o)return[];if(Mn(o))return ju(o)?Yn(o):Un(o);if(fs&&o[fs])return fc(o[fs]());var c=wn(o),g=c==me?ql:c==rr?Fa:tl;return g(o)}function ua(o){if(!o)return o===0?o:0;if(o=gi(o),o===oe||o===-oe){var c=o<0?-1:1;return c*te}return o===o?o:0}function Gt(o){var c=ua(o),g=c%1;return c===c?g?c-g:c:0}function t_(o){return o?ds(Gt(o),0,W):0}function gi(o){if(typeof o=="number")return o;if(Jn(o))return $;if(Vr(o)){var c=typeof o.valueOf=="function"?o.valueOf():o;o=Vr(c)?c+"":c}if(typeof o!="string")return o===0?o:+o;o=au(o);var g=$t.test(o);return g||Tr.test(o)?Jf(o.slice(2),g?2:8):Mr.test(o)?$:+o}function r_(o){return Vi(o,qn(o))}function TE(o){return o?ds(Gt(o),-re,re):o===0?o:0}function wr(o){return o==null?"":Kn(o)}var NE=Ks(function(o,c){if(ro(c)||Mn(c)){Vi(c,an(c),o);return}for(var g in c)Tt.call(c,g)&&Yl(o,g,c[g])}),n_=Ks(function(o,c){Vi(c,qn(c),o)}),xu=Ks(function(o,c,g,B){Vi(c,qn(c),o,B)}),SE=Ks(function(o,c,g,B){Vi(c,an(c),o,B)}),IE=sa(yc);function RE(o,c){var g=Ys(o);return c==null?g:Ld(g,c)}var PE=Zt(function(o,c){o=Er(o);var g=-1,B=c.length,Y=B>2?c[2]:t;for(Y&&Nn(c[0],c[1],Y)&&(B=1);++g<B;)for(var ie=c[g],we=qn(ie),ke=-1,Oe=we.length;++ke<Oe;){var Xe=we[ke],We=o[Xe];(We===t||Si(We,La[Xe])&&!Tt.call(o,Xe))&&(o[Xe]=ie[Xe])}return o}),FE=Zt(function(o){return o.push(t,wp),Cn(i_,t,o)});function OE(o,c){return iu(o,Pt(c,3),Hi)}function LE(o,c){return iu(o,Pt(c,3),Dc)}function BE(o,c){return o==null?o:Ec(o,Pt(c,3),qn)}function UE(o,c){return o==null?o:jd(o,Pt(c,3),qn)}function ME(o,c){return o&&Hi(o,Pt(c,3))}function qE(o,c){return o&&Dc(o,Pt(c,3))}function jE(o){return o==null?[]:Eu(o,an(o))}function xE(o){return o==null?[]:Eu(o,qn(o))}function th(o,c,g){var B=o==null?t:ps(o,c);return B===t?g:B}function HE(o,c){return o!=null&&Dp(o,c,cw)}function rh(o,c){return o!=null&&Dp(o,c,hw)}var VE=_p(function(o,c,g){c!=null&&typeof c.toString!="function"&&(c=Xs.call(c)),o[c]=g},ih(jn)),zE=_p(function(o,c,g){c!=null&&typeof c.toString!="function"&&(c=Xs.call(c)),Tt.call(o,c)?o[c].push(g):o[c]=[g]},Pt),$E=Zt(Jl);function an(o){return Mn(o)?Fd(o):Tc(o)}function qn(o){return Mn(o)?Fd(o,!0):Ew(o)}function GE(o,c){var g={};return c=Pt(c,3),Hi(o,function(B,Y,ie){ia(g,c(B,Y,ie),B)}),g}function XE(o,c){var g={};return c=Pt(c,3),Hi(o,function(B,Y,ie){ia(g,Y,c(B,Y,ie))}),g}var WE=Ks(function(o,c,g){Du(o,c,g)}),i_=Ks(function(o,c,g,B){Du(o,c,g,B)}),QE=sa(function(o,c){var g={};if(o==null)return g;var B=!1;c=Ir(c,function(ie){return ie=qa(ie,o),B||(B=ie.length>1),ie}),Vi(o,xc(o),g),B&&(g=pi(g,_|p|d,Vw));for(var Y=c.length;Y--;)Fc(g,c[Y]);return g});function YE(o,c){return a_(o,Mu(Pt(c)))}var KE=sa(function(o,c){return o==null?{}:Aw(o,c)});function a_(o,c){if(o==null)return{};var g=Ir(xc(o),function(B){return[B]});return c=Pt(c),Yd(o,g,function(B,Y){return c(B,Y[0])})}function JE(o,c,g){c=qa(c,o);var B=-1,Y=c.length;for(Y||(Y=1,o=t);++B<Y;){var ie=o==null?t:o[zi(c[B])];ie===t&&(B=Y,ie=g),o=oa(ie)?ie.call(o):ie}return o}function ZE(o,c,g){return o==null?o:eo(o,c,g)}function eD(o,c,g,B){return B=typeof B=="function"?B:t,o==null?o:eo(o,c,g,B)}var s_=mp(an),l_=mp(qn);function tD(o,c,g){var B=xt(o),Y=B||xa(o)||el(o);if(c=Pt(c,4),g==null){var ie=o&&o.constructor;Y?g=B?new ie:[]:Vr(o)?g=oa(ie)?Ys(tn(o)):{}:g={}}return(Y?On:Hi)(o,function(we,ke,Oe){return c(g,we,ke,Oe)}),g}function rD(o,c){return o==null?!0:Fc(o,c)}function nD(o,c,g){return o==null?o:tp(o,c,Bc(g))}function iD(o,c,g,B){return B=typeof B=="function"?B:t,o==null?o:tp(o,c,Bc(g),B)}function tl(o){return o==null?[]:ls(o,an(o))}function aD(o){return o==null?[]:ls(o,qn(o))}function sD(o,c,g){return g===t&&(g=c,c=t),g!==t&&(g=gi(g),g=g===g?g:0),c!==t&&(c=gi(c),c=c===c?c:0),ds(gi(o),c,g)}function lD(o,c,g){return c=ua(c),g===t?(g=c,c=0):g=ua(g),o=gi(o),dw(o,c,g)}function oD(o,c,g){if(g&&typeof g!="boolean"&&Nn(o,c,g)&&(c=g=t),g===t&&(typeof c=="boolean"?(g=c,c=t):typeof o=="boolean"&&(g=o,o=t)),o===t&&c===t?(o=0,c=1):(o=ua(o),c===t?(c=o,o=0):c=ua(c)),o>c){var B=o;o=c,c=B}if(g||o%1||c%1){var Y=Rd();return qr(o+Y*(c-o+Kf("1e-"+((Y+"").length-1))),c)}return Ic(o,c)}var uD=Js(function(o,c,g){return c=c.toLowerCase(),o+(g?o_(c):c)});function o_(o){return nh(wr(o).toLowerCase())}function u_(o){return o=wr(o),o&&o.replace(hr,uu).replace($o,"")}function fD(o,c,g){o=wr(o),c=Kn(c);var B=o.length;g=g===t?B:ds(Gt(g),0,B);var Y=g;return g-=c.length,g>=0&&o.slice(g,Y)==c}function cD(o){return o=wr(o),o&&nn.test(o)?o.replace(fn,lc):o}function hD(o){return o=wr(o),o&&Nl.test(o)?o.replace(Ta,"\\$&"):o}var dD=Js(function(o,c,g){return o+(g?"-":"")+c.toLowerCase()}),pD=Js(function(o,c,g){return o+(g?" ":"")+c.toLowerCase()}),_D=hp("toLowerCase");function vD(o,c,g){o=wr(o),c=Gt(c);var B=c?ci(o):0;if(!c||B>=c)return o;var Y=(c-B)/2;return Su(le(Y),g)+o+Su(ne(Y),g)}function gD(o,c,g){o=wr(o),c=Gt(c);var B=c?ci(o):0;return c&&B<c?o+Su(c-B,g):o}function mD(o,c,g){o=wr(o),c=Gt(c);var B=c?ci(o):0;return c&&B<c?Su(c-B,g)+o:o}function bD(o,c,g){return g||c==null?c=0:c&&(c=+c),Cb(wr(o).replace(gn,""),c||0)}function wD(o,c,g){return(g?Nn(o,c,g):c===t)?c=1:c=Gt(c),Rc(wr(o),c)}function yD(){var o=arguments,c=wr(o[0]);return o.length<3?c:c.replace(o[1],o[2])}var ED=Js(function(o,c,g){return o+(g?"_":"")+c.toLowerCase()});function DD(o,c,g){return g&&typeof g!="number"&&Nn(o,c,g)&&(c=g=t),g=g===t?W:g>>>0,g?(o=wr(o),o&&(typeof c=="string"||c!=null&&!eh(c))&&(c=Kn(c),!c&&Pa(o))?ja(Yn(o),0,g):o.split(c,g)):[]}var AD=Js(function(o,c,g){return o+(g?" ":"")+nh(c)});function kD(o,c,g){return o=wr(o),g=g==null?0:ds(Gt(g),0,o.length),c=Kn(c),o.slice(g,g+c.length)==c}function CD(o,c,g){var B=ee.templateSettings;g&&Nn(o,c,g)&&(c=t),o=wr(o),c=xu({},c,B,bp);var Y=xu({},c.imports,B.imports,bp),ie=an(Y),we=ls(Y,ie),ke,Oe,Xe=0,We=c.interpolate||mr,nt="__p += '",ht=Vl((c.escape||mr).source+"|"+We.source+"|"+(We===Bs?Ct:mr).source+"|"+(c.evaluate||mr).source+"|$","g"),Dt="//# sourceURL="+(Tt.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xo+"]")+`
`;o.replace(ht,function(Bt,nr,sr,Zn,Sn,ei){return sr||(sr=Zn),nt+=o.slice(Xe,ei).replace(yr,ut),nr&&(ke=!0,nt+=`' +
__e(`+nr+`) +
'`),Sn&&(Oe=!0,nt+=`';
`+Sn+`;
__p += '`),sr&&(nt+=`' +
((__t = (`+sr+`)) == null ? '' : __t) +
'`),Xe=ei+Bt.length,Bt}),nt+=`';
`;var Lt=Tt.call(c,"variable")&&c.variable;if(!Lt)nt=`with (obj) {
`+nt+`
}
`;else if(Et.test(Lt))throw new Ut(l);nt=(Oe?nt.replace(Ve,""):nt).replace(yt,"$1").replace(fr,"$1;"),nt="function("+(Lt||"obj")+`) {
`+(Lt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ke?", __e = _.escape":"")+(Oe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+nt+`return __p
}`;var Qt=c_(function(){return ur(ie,Dt+"return "+nt).apply(t,we)});if(Qt.source=nt,Zc(Qt))throw Qt;return Qt}function TD(o){return wr(o).toLowerCase()}function ND(o){return wr(o).toUpperCase()}function SD(o,c,g){if(o=wr(o),o&&(g||c===t))return au(o);if(!o||!(c=Kn(c)))return o;var B=Yn(o),Y=Yn(c),ie=su(B,Y),we=lu(B,Y)+1;return ja(B,ie,we).join("")}function ID(o,c,g){if(o=wr(o),o&&(g||c===t))return o.slice(0,xl(o)+1);if(!o||!(c=Kn(c)))return o;var B=Yn(o),Y=lu(B,Yn(c))+1;return ja(B,0,Y).join("")}function RD(o,c,g){if(o=wr(o),o&&(g||c===t))return o.replace(gn,"");if(!o||!(c=Kn(c)))return o;var B=Yn(o),Y=su(B,Yn(c));return ja(B,Y).join("")}function PD(o,c){var g=q,B=k;if(Vr(c)){var Y="separator"in c?c.separator:Y;g="length"in c?Gt(c.length):g,B="omission"in c?Kn(c.omission):B}o=wr(o);var ie=o.length;if(Pa(o)){var we=Yn(o);ie=we.length}if(g>=ie)return o;var ke=g-ci(B);if(ke<1)return B;var Oe=we?ja(we,0,ke).join(""):o.slice(0,ke);if(Y===t)return Oe+B;if(we&&(ke+=Oe.length-ke),eh(Y)){if(o.slice(ke).search(Y)){var Xe,We=Oe;for(Y.global||(Y=Vl(Y.source,wr(gr.exec(Y))+"g")),Y.lastIndex=0;Xe=Y.exec(We);)var nt=Xe.index;Oe=Oe.slice(0,nt===t?ke:nt)}}else if(o.indexOf(Kn(Y),ke)!=ke){var ht=Oe.lastIndexOf(Y);ht>-1&&(Oe=Oe.slice(0,ht))}return Oe+B}function FD(o){return o=wr(o),o&&Gn.test(o)?o.replace(Cr,cu):o}var OD=Js(function(o,c,g){return o+(g?" ":"")+c.toUpperCase()}),nh=hp("toUpperCase");function f_(o,c,g){return o=wr(o),c=g?t:c,c===t?uc(o)?_c(o):ac(o):o.match(c)||[]}var c_=Zt(function(o,c){try{return Cn(o,t,c)}catch(g){return Zc(g)?g:new Ut(g)}}),LD=sa(function(o,c){return On(c,function(g){g=zi(g),ia(o,g,Kc(o[g],o))}),o});function BD(o){var c=o==null?0:o.length,g=Pt();return o=c?Ir(o,function(B){if(typeof B[1]!="function")throw new Bn(a);return[g(B[0]),B[1]]}):[],Zt(function(B){for(var Y=-1;++Y<c;){var ie=o[Y];if(Cn(ie[0],this,B))return Cn(ie[1],this,B)}})}function UD(o){return ow(pi(o,_))}function ih(o){return function(){return o}}function MD(o,c){return o==null||o!==o?c:o}var qD=pp(),jD=pp(!0);function jn(o){return o}function ah(o){return zd(typeof o=="function"?o:pi(o,_))}function xD(o){return Gd(pi(o,_))}function HD(o,c){return Xd(o,pi(c,_))}var VD=Zt(function(o,c){return function(g){return Jl(g,o,c)}}),zD=Zt(function(o,c){return function(g){return Jl(o,g,c)}});function sh(o,c,g){var B=an(c),Y=Eu(c,B);g==null&&!(Vr(c)&&(Y.length||!B.length))&&(g=c,c=o,o=this,Y=Eu(c,an(c)));var ie=!(Vr(g)&&"chain"in g)||!!g.chain,we=oa(o);return On(Y,function(ke){var Oe=c[ke];o[ke]=Oe,we&&(o.prototype[ke]=function(){var Xe=this.__chain__;if(ie||Xe){var We=o(this.__wrapped__),nt=We.__actions__=Un(this.__actions__);return nt.push({func:Oe,args:arguments,thisArg:o}),We.__chain__=Xe,We}return Oe.apply(o,ji([this.value()],arguments))})}),o}function $D(){return en._===this&&(en._=zl),this}function lh(){}function GD(o){return o=Gt(o),Zt(function(c){return Wd(c,o)})}var XD=Mc(Ir),WD=Mc(nu),QD=Mc(Ml);function h_(o){return $c(o)?Ra(zi(o)):kw(o)}function YD(o){return function(c){return o==null?t:ps(o,c)}}var KD=vp(),JD=vp(!0);function oh(){return[]}function uh(){return!1}function ZD(){return{}}function eA(){return""}function tA(){return!0}function rA(o,c){if(o=Gt(o),o<1||o>re)return[];var g=W,B=qr(o,W);c=Pt(c),o-=W;for(var Y=Mt(B,c);++g<o;)c(g);return Y}function nA(o){return xt(o)?Ir(o,zi):Jn(o)?[o]:Un(Pp(wr(o)))}function iA(o){var c=++Rr;return wr(o)+c}var aA=Nu(function(o,c){return o+c},0),sA=qc("ceil"),lA=Nu(function(o,c){return o/c},1),oA=qc("floor");function uA(o){return o&&o.length?yu(o,jn,Ac):t}function fA(o,c){return o&&o.length?yu(o,Pt(c,2),Ac):t}function cA(o){return ot(o,jn)}function hA(o,c){return ot(o,Pt(c,2))}function dA(o){return o&&o.length?yu(o,jn,Nc):t}function pA(o,c){return o&&o.length?yu(o,Pt(c,2),Nc):t}var _A=Nu(function(o,c){return o*c},1),vA=qc("round"),gA=Nu(function(o,c){return o-c},0);function mA(o){return o&&o.length?ss(o,jn):0}function bA(o,c){return o&&o.length?ss(o,Pt(c,2)):0}return ee.after=x3,ee.ary=Vp,ee.assign=NE,ee.assignIn=n_,ee.assignInWith=xu,ee.assignWith=SE,ee.at=IE,ee.before=zp,ee.bind=Kc,ee.bindAll=LD,ee.bindKey=$p,ee.castArray=Z3,ee.chain=jp,ee.chunk=oy,ee.compact=uy,ee.concat=fy,ee.cond=BD,ee.conforms=UD,ee.constant=ih,ee.countBy=m3,ee.create=RE,ee.curry=Gp,ee.curryRight=Xp,ee.debounce=Wp,ee.defaults=PE,ee.defaultsDeep=FE,ee.defer=H3,ee.delay=V3,ee.difference=cy,ee.differenceBy=hy,ee.differenceWith=dy,ee.drop=py,ee.dropRight=_y,ee.dropRightWhile=vy,ee.dropWhile=gy,ee.fill=my,ee.filter=w3,ee.flatMap=D3,ee.flatMapDeep=A3,ee.flatMapDepth=k3,ee.flatten=Bp,ee.flattenDeep=by,ee.flattenDepth=wy,ee.flip=z3,ee.flow=qD,ee.flowRight=jD,ee.fromPairs=yy,ee.functions=jE,ee.functionsIn=xE,ee.groupBy=C3,ee.initial=Dy,ee.intersection=Ay,ee.intersectionBy=ky,ee.intersectionWith=Cy,ee.invert=VE,ee.invertBy=zE,ee.invokeMap=N3,ee.iteratee=ah,ee.keyBy=S3,ee.keys=an,ee.keysIn=qn,ee.map=Lu,ee.mapKeys=GE,ee.mapValues=XE,ee.matches=xD,ee.matchesProperty=HD,ee.memoize=Uu,ee.merge=WE,ee.mergeWith=i_,ee.method=VD,ee.methodOf=zD,ee.mixin=sh,ee.negate=Mu,ee.nthArg=GD,ee.omit=QE,ee.omitBy=YE,ee.once=$3,ee.orderBy=I3,ee.over=XD,ee.overArgs=G3,ee.overEvery=WD,ee.overSome=QD,ee.partial=Jc,ee.partialRight=Qp,ee.partition=R3,ee.pick=KE,ee.pickBy=a_,ee.property=h_,ee.propertyOf=YD,ee.pull=Iy,ee.pullAll=Mp,ee.pullAllBy=Ry,ee.pullAllWith=Py,ee.pullAt=Fy,ee.range=KD,ee.rangeRight=JD,ee.rearg=X3,ee.reject=O3,ee.remove=Oy,ee.rest=W3,ee.reverse=Qc,ee.sampleSize=B3,ee.set=ZE,ee.setWith=eD,ee.shuffle=U3,ee.slice=Ly,ee.sortBy=j3,ee.sortedUniq=Hy,ee.sortedUniqBy=Vy,ee.split=DD,ee.spread=Q3,ee.tail=zy,ee.take=$y,ee.takeRight=Gy,ee.takeRightWhile=Xy,ee.takeWhile=Wy,ee.tap=u3,ee.throttle=Y3,ee.thru=Ou,ee.toArray=e_,ee.toPairs=s_,ee.toPairsIn=l_,ee.toPath=nA,ee.toPlainObject=r_,ee.transform=tD,ee.unary=K3,ee.union=Qy,ee.unionBy=Yy,ee.unionWith=Ky,ee.uniq=Jy,ee.uniqBy=Zy,ee.uniqWith=e3,ee.unset=rD,ee.unzip=Yc,ee.unzipWith=qp,ee.update=nD,ee.updateWith=iD,ee.values=tl,ee.valuesIn=aD,ee.without=t3,ee.words=f_,ee.wrap=J3,ee.xor=r3,ee.xorBy=n3,ee.xorWith=i3,ee.zip=a3,ee.zipObject=s3,ee.zipObjectDeep=l3,ee.zipWith=o3,ee.entries=s_,ee.entriesIn=l_,ee.extend=n_,ee.extendWith=xu,sh(ee,ee),ee.add=aA,ee.attempt=c_,ee.camelCase=uD,ee.capitalize=o_,ee.ceil=sA,ee.clamp=sD,ee.clone=eE,ee.cloneDeep=rE,ee.cloneDeepWith=nE,ee.cloneWith=tE,ee.conformsTo=iE,ee.deburr=u_,ee.defaultTo=MD,ee.divide=lA,ee.endsWith=fD,ee.eq=Si,ee.escape=cD,ee.escapeRegExp=hD,ee.every=b3,ee.find=y3,ee.findIndex=Op,ee.findKey=OE,ee.findLast=E3,ee.findLastIndex=Lp,ee.findLastKey=LE,ee.floor=oA,ee.forEach=xp,ee.forEachRight=Hp,ee.forIn=BE,ee.forInRight=UE,ee.forOwn=ME,ee.forOwnRight=qE,ee.get=th,ee.gt=aE,ee.gte=sE,ee.has=HE,ee.hasIn=rh,ee.head=Up,ee.identity=jn,ee.includes=T3,ee.indexOf=Ey,ee.inRange=lD,ee.invoke=$E,ee.isArguments=gs,ee.isArray=xt,ee.isArrayBuffer=lE,ee.isArrayLike=Mn,ee.isArrayLikeObject=Wr,ee.isBoolean=oE,ee.isBuffer=xa,ee.isDate=uE,ee.isElement=fE,ee.isEmpty=cE,ee.isEqual=hE,ee.isEqualWith=dE,ee.isError=Zc,ee.isFinite=pE,ee.isFunction=oa,ee.isInteger=Yp,ee.isLength=qu,ee.isMap=Kp,ee.isMatch=_E,ee.isMatchWith=vE,ee.isNaN=gE,ee.isNative=mE,ee.isNil=wE,ee.isNull=bE,ee.isNumber=Jp,ee.isObject=Vr,ee.isObjectLike=zr,ee.isPlainObject=io,ee.isRegExp=eh,ee.isSafeInteger=yE,ee.isSet=Zp,ee.isString=ju,ee.isSymbol=Jn,ee.isTypedArray=el,ee.isUndefined=EE,ee.isWeakMap=DE,ee.isWeakSet=AE,ee.join=Ty,ee.kebabCase=dD,ee.last=vi,ee.lastIndexOf=Ny,ee.lowerCase=pD,ee.lowerFirst=_D,ee.lt=kE,ee.lte=CE,ee.max=uA,ee.maxBy=fA,ee.mean=cA,ee.meanBy=hA,ee.min=dA,ee.minBy=pA,ee.stubArray=oh,ee.stubFalse=uh,ee.stubObject=ZD,ee.stubString=eA,ee.stubTrue=tA,ee.multiply=_A,ee.nth=Sy,ee.noConflict=$D,ee.noop=lh,ee.now=Bu,ee.pad=vD,ee.padEnd=gD,ee.padStart=mD,ee.parseInt=bD,ee.random=oD,ee.reduce=P3,ee.reduceRight=F3,ee.repeat=wD,ee.replace=yD,ee.result=JE,ee.round=vA,ee.runInContext=Re,ee.sample=L3,ee.size=M3,ee.snakeCase=ED,ee.some=q3,ee.sortedIndex=By,ee.sortedIndexBy=Uy,ee.sortedIndexOf=My,ee.sortedLastIndex=qy,ee.sortedLastIndexBy=jy,ee.sortedLastIndexOf=xy,ee.startCase=AD,ee.startsWith=kD,ee.subtract=gA,ee.sum=mA,ee.sumBy=bA,ee.template=CD,ee.times=rA,ee.toFinite=ua,ee.toInteger=Gt,ee.toLength=t_,ee.toLower=TD,ee.toNumber=gi,ee.toSafeInteger=TE,ee.toString=wr,ee.toUpper=ND,ee.trim=SD,ee.trimEnd=ID,ee.trimStart=RD,ee.truncate=PD,ee.unescape=FD,ee.uniqueId=iA,ee.upperCase=OD,ee.upperFirst=nh,ee.each=xp,ee.eachRight=Hp,ee.first=Up,sh(ee,function(){var o={};return Hi(ee,function(c,g){Tt.call(ee.prototype,g)||(o[g]=c)}),o}(),{chain:!1}),ee.VERSION=r,On(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){ee[o].placeholder=ee}),On(["drop","take"],function(o,c){ar.prototype[o]=function(g){g=g===t?1:Sr(Gt(g),0);var B=this.__filtered__&&!c?new ar(this):this.clone();return B.__filtered__?B.__takeCount__=qr(g,B.__takeCount__):B.__views__.push({size:qr(g,W),type:o+(B.__dir__<0?"Right":"")}),B},ar.prototype[o+"Right"]=function(g){return this.reverse()[o](g).reverse()}}),On(["filter","map","takeWhile"],function(o,c){var g=c+1,B=g==P||g==H;ar.prototype[o]=function(Y){var ie=this.clone();return ie.__iteratees__.push({iteratee:Pt(Y,3),type:g}),ie.__filtered__=ie.__filtered__||B,ie}}),On(["head","last"],function(o,c){var g="take"+(c?"Right":"");ar.prototype[o]=function(){return this[g](1).value()[0]}}),On(["initial","tail"],function(o,c){var g="drop"+(c?"":"Right");ar.prototype[o]=function(){return this.__filtered__?new ar(this):this[g](1)}}),ar.prototype.compact=function(){return this.filter(jn)},ar.prototype.find=function(o){return this.filter(o).head()},ar.prototype.findLast=function(o){return this.reverse().find(o)},ar.prototype.invokeMap=Zt(function(o,c){return typeof o=="function"?new ar(this):this.map(function(g){return Jl(g,o,c)})}),ar.prototype.reject=function(o){return this.filter(Mu(Pt(o)))},ar.prototype.slice=function(o,c){o=Gt(o);var g=this;return g.__filtered__&&(o>0||c<0)?new ar(g):(o<0?g=g.takeRight(-o):o&&(g=g.drop(o)),c!==t&&(c=Gt(c),g=c<0?g.dropRight(-c):g.take(c-o)),g)},ar.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},ar.prototype.toArray=function(){return this.take(W)},Hi(ar.prototype,function(o,c){var g=/^(?:filter|find|map|reject)|While$/.test(c),B=/^(?:head|last)$/.test(c),Y=ee[B?"take"+(c=="last"?"Right":""):c],ie=B||/^find/.test(c);Y&&(ee.prototype[c]=function(){var we=this.__wrapped__,ke=B?[1]:arguments,Oe=we instanceof ar,Xe=ke[0],We=Oe||xt(we),nt=function(nr){var sr=Y.apply(ee,ji([nr],ke));return B&&ht?sr[0]:sr};We&&g&&typeof Xe=="function"&&Xe.length!=1&&(Oe=We=!1);var ht=this.__chain__,Dt=!!this.__actions__.length,Lt=ie&&!ht,Qt=Oe&&!Dt;if(!ie&&We){we=Qt?we:new ar(this);var Bt=o.apply(we,ke);return Bt.__actions__.push({func:Ou,args:[nt],thisArg:t}),new di(Bt,ht)}return Lt&&Qt?o.apply(this,ke):(Bt=this.thru(nt),Lt?B?Bt.value()[0]:Bt.value():Bt)})}),On(["pop","push","shift","sort","splice","unshift"],function(o){var c=Oa[o],g=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",B=/^(?:pop|shift)$/.test(o);ee.prototype[o]=function(){var Y=arguments;if(B&&!this.__chain__){var ie=this.value();return c.apply(xt(ie)?ie:[],Y)}return this[g](function(we){return c.apply(xt(we)?we:[],Y)})}}),Hi(ar.prototype,function(o,c){var g=ee[c];if(g){var B=g.name+"";Tt.call(Qs,B)||(Qs[B]=[]),Qs[B].push({name:c,func:g})}}),Qs[Tu(t,A).name]=[{name:"wrapper",func:t}],ar.prototype.clone=Fb,ar.prototype.reverse=Ob,ar.prototype.value=Lb,ee.prototype.at=f3,ee.prototype.chain=c3,ee.prototype.commit=h3,ee.prototype.next=d3,ee.prototype.plant=_3,ee.prototype.reverse=v3,ee.prototype.toJSON=ee.prototype.valueOf=ee.prototype.value=g3,ee.prototype.first=ee.prototype.head,fs&&(ee.prototype[fs]=p3),ee},Ti=Hl();ta?((ta.exports=Ti)._=Ti,qs._=Ti):en._=Ti}).call(ha)})(Ef,Ef.exports);var I9=Ef.exports;const R9=Ss(I9);var gb={exports:{}},P9=["the","a","an","some"],F9=["a","abaft","aboard","about","above","absent","across","afore","after","against","along","alongside","amid","amidst","among","amongst","an","apropos","apud","around","as","aside","astride","at","athwart","atop","barring","before","behind","below","beneath","beside","besides","between","beyond","but","by","circa","concerning","despite","down","during","except","excluding","failing","following","for","forenenst","from","given","in","including","inside","into","like","mid","midst","minus","modulo","near","next","notwithstanding","o'","of","off","on","onto","opposite","out","outside","over","pace","past","per","plus","pro","qua","regarding","round","sans","save","since","than","through","throughout","thru","thruout","till","times","to","toward","towards","under","underneath","unlike","until","unto","up","upon","versus","via","vice","vis--vis","with","within","without","worth"],O9=["as","because","for","and","nor","but","or","yet","so"];(function(i){var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;i.exports=function(a){return n(a,e)},i.exports.toTitleCase=i.exports;var t=P9.concat(F9).concat(O9).concat(e.source.replace(/(^\^\(|\)\$$)/g,"").split("|")).concat(["is"]),r=new RegExp("^("+t.join("|")+")$","i");i.exports.toLaxTitleCase=function(a){return n(a,r)};function n(s,a){return s&&s.replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(l,u,f){return u>0&&u+l.length!==f.length&&l.search(a)>-1&&f.charAt(u-2)!==":"&&(f.charAt(u+l.length)!=="-"||f.charAt(u-1)==="-")&&f.charAt(u-1).search(/[^\s-]/)<0?l.toLowerCase():l.substr(1).search(/[A-Z]|\../)>-1?l:l.charAt(0).toUpperCase()+l.substr(1)})}})(gb);var L9=gb.exports;const mb=Ss(L9),{blankNode:B9,namedNode:$r,literal:U9,quad:ea}=Cd,za=Rn(bl[Mo]),Df=Rn(bl[db]),bb=Rn(bl[Fs]),wb=Rn(bl[Cl]);function sf(i,e){Vn.set(i),Co.set(e)}function M9(){sf([],[])}const Vn=on([]),St=on(null),Co=on([]);let xf=[],Sd=[];Vn.subscribe(i=>{xf=i});Co.subscribe(i=>{Sd=i});function q9(i){const e=i.type;return{artifactSelectorNode:za("Artifact"),vulnerabilitySelectorNode:za("Vulnerability"),attackSelectorNode:za("OffensiveTechnique"),countermeasureSelectorNode:za("DefensiveTechnique"),informationSelectorNode:za("DigitalInformation"),agentSelectorNode:za("Agent"),eventNode:za("Event")}[e]}async function j9(i){const e=Eb(i);console.log(`Called _map_node_to_default_class_IRI ${JSON.stringify(i)} for class_string: ${e}`);let t=null;if(e.startsWith("d3f:"))if(await Db(e)){const[n,s]=e.split(":");t=za(s)}else console.error(`Class name ${e} is not valid d3fend class.`),t=null;else if(e.startsWith(":")){const r=e.substring(1);t=Df(r)}else if(e.includes(":"))console.error(`Failed to create class for node: ${JSON.stringify(i)}`),t=null;else{const r=yb(e);console.log(`pascal_cased_label: ${r}`);const n=Df(r);console.log(`pascal_cased_label as cad IRI ${r}`),t=n}return console.log(`Returning ${t} for_map_node_to_default_class_IRI ${JSON.stringify(i)}`),t}function yb(i){return mb(i).replace(/ /g,"")}function Eb(i){let e="";return i.data.hasOwnProperty("d3f_class")?e=i.data.d3f_class:i.data.hasOwnProperty("techniqueId")?e=i.data.techniqueId:e=i.data.label,e.toString()}function x9(i,e,t){const r=$r(t);console.log(`extension_prefixes: ${JSON.stringify(e)}`),console.log(`cad_extension_node: ${r.value}`),i.addQuad(ea(r,$r(e[Fs]+"type"),$r(e[_a]+"Ontology"))),i.addQuad(ea(r,$r(e[_a]+"imports"),$r(e[Mo])))}async function Db(i){let e;try{e=await T9(i)}catch(t){console.warn(`Problem calling lookup_valid_class_by_IRI(${i}):`,t),e=null}return e}function Yh(i,e,t){const r=$r(ti[Cl]+"subClassOf");i.addQuad(ea(e,r,t))}function H9(i,e){i.addQuad(ea(e,$r(ti[Fs]+"type"),$r(ti[_a]+"ObjectProperty"))),i.addQuad(ea(e,$r(ti[Cl]+"subPropertyOf"),$r(ti[Mo]+"d3fend-object-property")))}function K0(i,e,t,r){const n=B9("");Yh(i,e,n),i.addQuad(ea(n,$r(ti[Fs]+"type"),$r(ti[_a]+"Restriction"))),i.addQuad(ea(n,$r(ti[_a]+"onProperty"),t)),i.addQuad(ea(n,$r(ti[_a]+"someValuesFrom"),r))}function Ab(i){const e=i.replace(/\./g,"_");return Df(e)}function V9(i,e){const t=Object.prototype.toString.call(e).slice(8,-1);console.log(`${i} references ${e} of type ${t}`)}async function z9(){console.info("Calling serialize_graph_to_turtle...");const i=n9();Object.keys(bl).forEach(n=>{const s=bl[n];console.info("Adding prefix ",n," for ",s),i.setPrefixForURI(n,s)}),console.info("Echo store.namespaces: "+i.namespaces);const e=[],t=[];console.info("Starting node processing..."),await G9(xf,i,e),console.info("Completed node processing."),console.info("Starting edge processing..."),await W9(Sd,i,t),console.info("Completed edge processing promise.");const r=await new Promise((n,s)=>{ko(null,i,null,"text/turtle",(a,l)=>{if(a)s(a);else{let u=l;e.length>0&&(u+=`
# Skipped nodes (no d3f_class):
`,e.forEach(f=>{u+=`# Node ID: ${f.id}
`,JSON.stringify(f.data,null,2).split(`
`).forEach(p=>{u+=`# ${p}
`})})),t.length>0&&(u+=`#
# Skipped edges (no label lookup found.):
`,t.forEach(f=>{u+=`# Edge ID: ${f.id}
`,JSON.stringify(f.data,null,2).split(`
`).forEach(p=>{u+=`# ${p}
`})}),u+=`
`),n(u)}})});return console.info("Completed serialize_graph_to_turtle"),r}async function $9(i){console.info("Calling serialize_graph_as_d3fend_extension_in_turtle()...");const e=k9+i+"#";let t={...ti};t[""]=e;const r=new QS({prefixes:t}),n={},s={},a=[],l=[];x9(r,t,e),await X9(xf,r,e,a,n,s),await Q9(Sd,r,l,n,s);let u=null;return r.end((f,h)=>{f?console.error(f):(u=h,a.length>0&&(u+=`
# Skipped nodes (no d3f_class):
`,a.forEach(_=>{u+=`# Node ID: ${_.id}
`,JSON.stringify(_.data,null,2).split(`
`).forEach(v=>{u+=`# ${v}
`})})),l.length>0&&(u+=`#
# Skipped edges (no label lookup found.):
`,l.forEach(_=>{u+=`# Edge ID: ${_.id}
`,JSON.stringify(_.data,null,2).split(`
`).forEach(v=>{u+=`# ${v}
`})}),u+=`
`),console.log(u))}),console.info("Completed serialize_graph_as_d3fend_extension_in_turtle()."),u}async function G9(i,e,t){console.info("Processing nodes as instances...");for(const r of i){const n=r.id,s=r.type,a=r.data.label;try{const l=await j9(r);if(console.info("Processing node as instance:",{node:r,node_id:n,d3f_class_node:l,label:a}),l){const u=Ab(n),f=i9(a.toString());V9("Processing node and data properties and using rdflib node name: ",l),e.add(u,bb("type"),l),e.add(u,wb("label"),f)}else t.push({id:n,type:s,data:r.data})}catch{console.error(`Lookup error for node: ${n}`)}}console.info("Done processing nodes as instances."),t.length>1&&console.warn("Skipped nodes:",t)}async function X9(i,e,t,r,n,s){console.info("Processing nodes as D3FEND extension classes...");for(const a of i){const l=a.id,u=a.type,f=Eb(a);let h=a.data.label.toString();console.log(`Processing node as class node_id: ${l} class_name: ${f}, class_label: ${h}`);let _=null;if(f.includes(":")){if(f.startsWith(":")){console.log(`new class for class_name: ${f}`);const p=f.substring(1);_=$r(t+p),n[l]=_}else if(f.startsWith("d3f:")){let p=await Db(f);p?(console.log(`Lookup of ${f} gives: ${p}`),console.log(`Use d3fend class for class_name: ${f}`),_=$r(f),s[l]=_):console.warn(`d3fend class: ${f} is invalid (not found).`)}}else console.log(`Use class_label as basis for class_name: ${h}`),console.warn("Class only had class label, treating label as local class name."),_=$r(t+yb(h)),n[l]=_;_?(console.log("Class node is defined: "+JSON.stringify(_)),n[l]!==void 0&&(console.log("Class is in extension nodes."),e.addQuad(ea(_,$r(ti[Fs]+"type"),$r(ti[_a]+"Class"))),h.startsWith(":")&&(h=mb(R9.startCase(h))),e.addQuad(ea(_,$r(ti[Cl]+"label"),U9(h))))):r.push({id:l,type:u,data:a.data})}console.log("Extension nodes: ",JSON.stringify(n)),console.log("Valid d3fend nodes: ",JSON.stringify(s)),console.log("Done processing nodes as D3FEND extension classes."),r.length>1&&console.warn("Skipped nodes:",r)}async function W9(i,e,t){console.info("Processing edges now!"),t.length=0;for(const r of i){const n=r.id,s=r.data.label,a=r.source,l=r.target;console.log(`edgeLabel: ${s}`);try{let u=null;if(s==="rdfs:subClassOf"?u=wb("subClassOf"):s==="rdf:type"||s==="a"?u=bb("type"):u=await vb(s),u){console.log(`Found property ${u} for ${s}`),console.info(`Adding subject inst:${a} property ${u} object inst:${l}`);try{const f=Ab(a),h=Df(l.replace(/\./g,"_"));e.add(f,sb(u),h),console.info(e.length)}catch{console.error(`Error adding triple for edgeId = ${n}, edgeLabel = ${s}`)}}else console.warn(`Bad property ${u} found for ${s}`),t.push({id:n,data:r.data})}catch(u){console.error(`Lookup error for edgeId: ${n} with edgeLabel: ${s} - ${u}`),t.push({id:n,data:r.data})}}console.info("Done processing edges."),t.length>1&&console.warn("Skipped edges:",t)}async function Q9(i,e,t,r,n){console.info("Processing edges as properties and restrictions..."),t.length=0,console.info("Edges being processed; current_edges: ",JSON.stringify(i)),console.log(`Extension node keys: ${Object.keys(r)}`);const s=new Set(Object.keys(r));console.log(`Extension classes with no parent class at before processing edges for subClassOf ${JSON.stringify(Array.from(s))}`);for(const a of i){const l=a.id,u=a.data.label;let f=null;a.data.d3f_property!==void 0?f=a.data.d3f_property:a.data.techniqueId!==void 0&&(f=a.data.techniqueId),f=u,console.log(`d3f_property: ${f}, edge_label: ${u}`);const h=a.source,_=a.target;console.log(`subject id: ${h}, object id: ${_}`);let p=r[h];p||(p=n[h]);let d=r[_];if(d||(d=n[_]),console.log(`subject_named_node ${p} object_named_node ${d}`),typeof p>"u"||typeof d>"u")console.warn(`Either subject IRI ${p==null?void 0:p.value} or object IRI ${d==null?void 0:d.value} is still undefined after lookups.`);else if(!p||!d)console.warn(`Either subject IRI ${p==null?void 0:p.value} or object IRI ${d==null?void 0:d.value} is null after lookups.`);else{let v=f;if(v==="rdfs:subClassOf")if(h in n)console.warn(`Attempted to subclass d3fend class ${p.value} to another class (${d.value}).  Disallowed.`),t.push({id:l,label:u,data:a.data}),v=null;else{Yh(e,p,d),console.log(`Subclassed non-d3f subject for rdfs:subClassOf edge: '${p.value} rdfs:subClassOf .' ${d.value}`);for(const m of s)console.log(`${m} is of type ${typeof m}.`);s.delete(h),console.log(`Deleted ${h} of type ${typeof h} from unsubclassed extension nodes, leaving ${JSON.stringify(Array.from(s))}`)}else if(f.startsWith("d3f:")||!f.includes(":")){console.log(`Checking to see d3fend property ${f} exists`);try{const m=await vb(v);if(m){console.log(`Resolved d3f_property ${v} as: ${f}`),console.info(`Adding subject inst: ${p.value} property ${m} object inst: ${d.value}`);const b=$r(m);K0(e,p,b,d)}else console.warn(`Bad property ${v} found for resolved d3f_property: ${f}`),t.push({id:l,label:u,data:a.data})}catch(m){console.error(`Lookup error for edge_id: ${l} with resolved d3f_property: ${f} - ${m}`),t.push({id:l,label:u,data:a.data})}}else if(console.log(`Checking to see if new property name makes sense: ${f}`),f.startsWith(":")?console.log(`${f} starts with a ':'!`):(console.warn(`${f} does not start with a ':'`),t.push({id:l,label:u,data:a.data}),f=null),f){console.log(`Writing restriction and property for ${f}`);const m=$r(f);K0(e,p,m,d),H9(e,m)}}}if(console.log(`Extension classes with no parent class after processing edges for subClassOf ${JSON.stringify(Array.from(s))}`),s.size>0){const a=xf.reduce((l,u)=>(l[u.id]=u,l),{});for(const l of s){const u=r[l],f=a[l];f.node_type;const h=q9(f);Yh(e,u,h)}}console.info("Done processing edges as properties and restrictions."),t.length>1&&console.warn("Skipped edges:",t)}function ka(i,e,t,r,n,s,a,l,u,f,h,_,p){const d={id:`${Math.random()}`,type:r,position:{x:l,y:u},data:{label:n,sequence:a,d3f_class:s,user_properties:[]},measured:{width:f,height:h},origin:[.5,0],selected:!1,dragging:!1};let v,m;p?(v=d.id,m=t.id):(v=t.id,m=d.id);const b={type:"editableEdge",data:{label:_},source:m,sourceHandle:"source",target:v,targetHandle:"target",id:`xy-edge__${m}source-${v}target`,selected:!1};e.update(A=>[...A,b]),i.update(A=>[...A,d])}function J0(i,e,t){const r=i.slice();return r[18]=e[t],r}const Y9=i=>({}),Z0=i=>({});function K9(i){let e;return{c(){e=V("No related offensive techniques in this release.")},l(t){e=z(t,"No related offensive techniques in this release.")},m(t,r){R(t,e,r)},p:at,i:at,o:at,d(t){t&&w(e)}}}function J9(i){let e,t;return e=new wa({props:{$$slots:{default:[rI]},$$scope:{ctx:i}}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n&16394&&(s.$$scope={dirty:n,ctx:r}),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function Z9(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(r){e=se(r,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(r,n){R(r,e,n)},p:at,i:at,o:at,d(r){r&&w(e)}}}function ev(i){let e=i[18].off_tech_id.value.replace(/ |\./g,"")+"",t,r,n=i[18].off_tech_label.value+"",s,a,l="-->",u,f,h=i[18].off_artifact_rel_label.value.replace(/ /g,"")+"",_,p,d=Ze(i[18].off_artifact.value)+"",v,m,b=i[18].off_artifact_label.value+"",A,U,I,O,y=Ze(i[18].off_artifact.value)+"",N,T,j=i[18].off_tech_id.value.replace(/ |\./g,"")+"",F,q,k=i[18].off_tech_id.value.replace(/ |\./g,"")+"",L,D,P=Ze(i[18].off_artifact.value)+"",Q,H,oe=Ze(i[18].off_artifact.value)+"",re,te;function $(J,pe){return pe&10&&(I=null),I==null&&(I=!!J[3].includes(J[18].off_tech_id.value.replace(/ |\./g,""))),I?tI:eI}let W=$(i,-1),de=W(i);return{c(){t=V(e),r=V('["'),s=V(n),a=V('"] '),u=V(l),f=V(" |"),_=V(h),p=V("| "),v=V(d),m=V('["'),A=V(b),U=V(`"];
            `),de.c(),O=V(`
            class `),N=V(y),T=V(" ArtifactNode; click "),F=V(j),q=V(` href "javascript:da_to_off_callback('`),L=V(k),D=V(`')"; click `),Q=V(P),H=V(' href "/dao/artifact/d3f:'),re=V(oe),te=V('";')},l(J){t=z(J,e),r=z(J,'["'),s=z(J,n),a=z(J,'"] '),u=z(J,l),f=z(J," |"),_=z(J,h),p=z(J,"| "),v=z(J,d),m=z(J,'["'),A=z(J,b),U=z(J,`"];
            `),de.l(J),O=z(J,`
            class `),N=z(J,y),T=z(J," ArtifactNode; click "),F=z(J,j),q=z(J,` href "javascript:da_to_off_callback('`),L=z(J,k),D=z(J,`')"; click `),Q=z(J,P),H=z(J,' href "/dao/artifact/d3f:'),re=z(J,oe),te=z(J,'";')},m(J,pe){R(J,t,pe),R(J,r,pe),R(J,s,pe),R(J,a,pe),R(J,u,pe),R(J,f,pe),R(J,_,pe),R(J,p,pe),R(J,v,pe),R(J,m,pe),R(J,A,pe),R(J,U,pe),de.m(J,pe),R(J,O,pe),R(J,N,pe),R(J,T,pe),R(J,F,pe),R(J,q,pe),R(J,L,pe),R(J,D,pe),R(J,Q,pe),R(J,H,pe),R(J,re,pe),R(J,te,pe)},p(J,pe){pe&2&&e!==(e=J[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(t,e),pe&2&&n!==(n=J[18].off_tech_label.value+"")&&Se(s,n),pe&2&&h!==(h=J[18].off_artifact_rel_label.value.replace(/ /g,"")+"")&&Se(_,h),pe&2&&d!==(d=Ze(J[18].off_artifact.value)+"")&&Se(v,d),pe&2&&b!==(b=J[18].off_artifact_label.value+"")&&Se(A,b),W===(W=$(J,pe))&&de?de.p(J,pe):(de.d(1),de=W(J),de&&(de.c(),de.m(O.parentNode,O))),pe&2&&y!==(y=Ze(J[18].off_artifact.value)+"")&&Se(N,y),pe&2&&j!==(j=J[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(F,j),pe&2&&k!==(k=J[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(L,k),pe&2&&P!==(P=Ze(J[18].off_artifact.value)+"")&&Se(Q,P),pe&2&&oe!==(oe=Ze(J[18].off_artifact.value)+"")&&Se(re,oe)},d(J){J&&(w(t),w(r),w(s),w(a),w(u),w(f),w(_),w(p),w(v),w(m),w(A),w(U),w(O),w(N),w(T),w(F),w(q),w(L),w(D),w(Q),w(H),w(re),w(te)),de.d(J)}}}function eI(i){let e,t=i[18].off_tech_id.value.replace(/ |\./g,"")+"",r,n;return{c(){e=V("class "),r=V(t),n=V(" OffensiveTechniqueNode;")},l(s){e=z(s,"class "),r=z(s,t),n=z(s," OffensiveTechniqueNode;")},m(s,a){R(s,e,a),R(s,r,a),R(s,n,a)},p(s,a){a&2&&t!==(t=s[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(r,t)},d(s){s&&(w(e),w(r),w(n))}}}function tI(i){let e,t=i[18].off_tech_id.value.replace(/ |\./g,"")+"",r,n;return{c(){e=V("class "),r=V(t),n=V(" SelectedOffensiveTechniqueNode;")},l(s){e=z(s,"class "),r=z(s,t),n=z(s," SelectedOffensiveTechniqueNode;")},m(s,a){R(s,e,a),R(s,r,a),R(s,n,a)},p(s,a){a&2&&t!==(t=s[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(r,t)},d(s){s&&(w(e),w(r),w(n))}}}function tv(i){let e=i[6].edge_is_unique(i[18].off_tech_label.value,i[18].off_artifact_rel_label.value,i[18].off_artifact_label.value),t,r=e&&ev(i);return{c(){r&&r.c(),t=ze()},l(n){r&&r.l(n),t=ze()},m(n,s){r&&r.m(n,s),R(n,t,s)},p(n,s){s&2&&(e=n[6].edge_is_unique(n[18].off_tech_label.value,n[18].off_artifact_rel_label.value,n[18].off_artifact_label.value)),e?r?r.p(n,s):(r=ev(n),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(n){n&&w(t),r&&r.d(n)}}}function rI(i){let e,t,r=lt(i[1].da_to_off.results.bindings),n=[];for(let s=0;s<r.length;s+=1)n[s]=tv(J0(i,r,s));return{c(){e=V(`graph LR;
        `);for(let s=0;s<n.length;s+=1)n[s].c();t=ze()},l(s){e=z(s,`graph LR;
        `);for(let a=0;a<n.length;a+=1)n[a].l(s);t=ze()},m(s,a){R(s,e,a);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(s,a);R(s,t,a)},p(s,a){if(a&74){r=lt(s[1].da_to_off.results.bindings);let l;for(l=0;l<r.length;l+=1){const u=J0(s,r,l);n[l]?n[l].p(u,a):(n[l]=tv(u),n[l].c(),n[l].m(t.parentNode,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=r.length}},d(s){s&&(w(e),w(t)),er(n,s)}}}function nI(i){let e,t,r,n,s,a,l,u,f,h,_,p,d,v=i[3].length+"",m,b,A,U,I;const O=i[9].header,y=Or(O,i,i[14],Z0),N=i[9].default,T=Or(N,i,i[14],null),j=[Z9,J9,K9],F=[];function q(k,L){return k[1]?k[1].da_to_off.results.bindings.length>0?1:2:0}return l=q(i),u=F[l]=j[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),r=V(`
    Select Attack Techniques
    `),T&&T.c(),n=ve(),s=ae("hr"),a=ve(),u.c(),f=ve(),h=ae("hr"),_=ve(),p=ae("button"),d=V("Insert ("),m=V(v),b=V(")"),this.h()},l(k){e=se(k,"DIALOG",{class:!0});var L=Me(e);t=se(L,"DIV",{class:!0});var D=Me(t);y&&y.l(D),r=z(D,`
    Select Attack Techniques
    `),T&&T.l(D),n=ge(D),s=se(D,"HR",{}),a=ge(D),u.l(D),f=ge(D),h=se(D,"HR",{}),_=ge(D),p=se(D,"BUTTON",{class:!0});var P=Me(p);d=z(P,"Insert ("),m=z(P,v),b=z(P,")"),P.forEach(w),D.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,fe(p,"class","svelte-1ai9hff"),fe(t,"class","svelte-1ai9hff"),fe(e,"class","svelte-1ai9hff")},m(k,L){R(k,e,L),G(e,t),y&&y.m(t,null),G(t,r),T&&T.m(t,null),G(t,n),G(t,s),G(t,a),F[l].m(t,null),G(t,f),G(t,h),G(t,_),G(t,p),G(p,d),G(p,m),G(p,b),i[11](e),A=!0,p.focus(),U||(I=[Pe(p,"click",i[7]),Pe(t,"click",jr(i[10])),Pe(e,"close",i[12]),Pe(e,"click",ba(i[13]))],U=!0)},p(k,[L]){y&&y.p&&(!A||L&16384)&&Lr(y,O,k,k[14],A?Ur(O,k[14],L,Y9):Br(k[14]),Z0),T&&T.p&&(!A||L&16384)&&Lr(T,N,k,k[14],A?Ur(N,k[14],L,null):Br(k[14]),null);let D=l;l=q(k),l===D?F[l].p(k,L):(It(),be(F[D],1,1,()=>{F[D]=null}),Rt(),u=F[l],u?u.p(k,L):(u=F[l]=j[l](k),u.c()),he(u,1),u.m(t,f)),(!A||L&8)&&v!==(v=k[3].length+"")&&Se(m,v)},i(k){A||(he(y,k),he(T,k),he(u),A=!0)},o(k){be(y,k),be(T,k),be(u),A=!1},d(k){k&&w(e),y&&y.d(k),T&&T.d(k),F[l].d(),i[11](null),U=!1,zt(I)}}}function iI(i,e,t){let r,n,s,{$$slots:a={},$$scope:l}=e,{show_attack_modal:u}=e,{parent_node:f}=e,{data:h}=e,_;const p=Li();At(i,p,y=>t(16,s=y));const d=Bi();At(i,d,y=>t(15,n=y));let v=new Xa;function m(y){r.includes(y)?t(3,r=r.filter(N=>N!==y)):r.push(y),t(3,r)}window.da_to_off_callback=function(y){m(y)};function b(){let y=0,N=200,T=100;for(const j of r){let F=h.da_to_off.results.bindings.find(q=>q.off_tech_id.value.replace(/ |\./g,"")==j);F&&(ka(p,d,f,"attackSelectorNode",F.off_tech_label.value,"d3f:"+F.off_tech_id.value,f.data.sequence,f.position.x+y*N,f.position.y+T,182,63,F.off_artifact_rel_label.value,!1),y+=1)}p.set(s),d.set(n),_&&_.close(),t(3,r=[])}function A(y){ni.call(this,i,y)}function U(y){Fr[y?"unshift":"push"](()=>{_=y,t(2,_)})}const I=()=>t(0,u=!1),O=()=>{_.close(),t(3,r=[])};return i.$$set=y=>{"show_attack_modal"in y&&t(0,u=y.show_attack_modal),"parent_node"in y&&t(8,f=y.parent_node),"data"in y&&t(1,h=y.data),"$$scope"in y&&t(14,l=y.$$scope)},i.$$.update=()=>{i.$$.dirty&5&&u&&_&&(_.showModal(),v.reset()),i.$$.dirty&5&&!u&&_&&(_.close(),v.reset())},t(3,r=[]),[u,h,_,r,p,d,v,b,f,a,A,U,I,O,l]}class aI extends Xt{constructor(e){super(),Wt(this,e,iI,nI,kt,{show_attack_modal:0,parent_node:8,data:1})}}function rv(i,e,t){const r=i.slice();return r[23]=e[t],r}const sI=i=>({}),nv=i=>({});function lI(i){let e;return{c(){e=V("No related defensive techniques in this release.")},l(t){e=z(t,"No related defensive techniques in this release.")},m(t,r){R(t,e,r)},p:at,i:at,o:at,d(t){t&&w(e)}}}function oI(i){let e,t,r,n,s,a=i[4],l,u;function f(p){i[14](p)}let h={toggles:i[5]};i[4]!==void 0&&(h.selected=i[4]),r=new l1({props:h}),Fr.push(()=>En(r,"selected",f));let _=lv(i);return{c(){e=ae("br"),t=ve(),Qe(r.$$.fragment),s=ve(),_.c(),l=ze()},l(p){e=se(p,"BR",{}),t=ge(p),Ye(r.$$.fragment,p),s=ge(p),_.l(p),l=ze()},m(p,d){R(p,e,d),R(p,t,d),Ke(r,p,d),R(p,s,d),_.m(p,d),R(p,l,d),u=!0},p(p,d){const v={};d&32&&(v.toggles=p[5]),!n&&d&16&&(n=!0,v.selected=p[4],yn(()=>n=!1)),r.$set(v),d&16&&kt(a,a=p[4])?(It(),be(_,1,1,at),Rt(),_=lv(p),_.c(),he(_,1),_.m(l.parentNode,l)):_.p(p,d)},i(p){u||(he(r.$$.fragment,p),he(_),u=!0)},o(p){be(r.$$.fragment,p),be(_),u=!1},d(p){p&&(w(e),w(t),w(s),w(l)),Je(r,p),_.d(p)}}}function uI(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(r){e=se(r,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(r,n){R(r,e,n)},p:at,i:at,o:at,d(r){r&&w(e)}}}function iv(i){let e=!i[4].includes(i[23].def_tactic_label.value),t,r=e&&av(i);return{c(){r&&r.c(),t=ze()},l(n){r&&r.l(n),t=ze()},m(n,s){r&&r.m(n,s),R(n,t,s)},p(n,s){s&18&&(e=!n[4].includes(n[23].def_tactic_label.value)),e?r?r.p(n,s):(r=av(n),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(n){n&&w(t),r&&r.d(n)}}}function av(i){let e=Ze(i[23].def_tech.value)+"",t,r,n=i[23].def_tech_label.value+"",s,a,l="-->",u,f,h=i[23].def_artifact_rel_label.value.replace(/ /g,"")+"",_,p,d=Ze(i[23].def_artifact.value)+"",v,m,b=i[23].def_artifact_label.value+"",A,U,I,O,y=Ze(i[23].def_artifact.value)+"",N,T,j=Ze(i[23].def_tech.value)+"",F,q,k=Ze(i[23].def_tech.value)+"",L,D,P=Ze(i[23].def_artifact.value)+"",Q,H,oe=Ze(i[23].def_artifact.value)+"",re,te;function $(J,pe){return pe&66&&(I=null),I==null&&(I=!!J[6].includes(Ze(J[23].def_tech.value))),I?cI:fI}let W=$(i,-1),de=W(i);return{c(){t=V(e),r=V('["'),s=V(n),a=V('"] '),u=V(l),f=V(`
                | `),_=V(h),p=V(" | "),v=V(d),m=V('["'),A=V(b),U=V(`"];
                `),de.c(),O=V(` 
                class `),N=V(y),T=V(` ArtifactNode;
                click `),F=V(j),q=V(` href "javascript:da_to_def_callback('`),L=V(k),D=V(`')";
                click `),Q=V(P),H=V(' href "/dao/artifact/d3f:'),re=V(oe),te=V('";')},l(J){t=z(J,e),r=z(J,'["'),s=z(J,n),a=z(J,'"] '),u=z(J,l),f=z(J,`
                | `),_=z(J,h),p=z(J," | "),v=z(J,d),m=z(J,'["'),A=z(J,b),U=z(J,`"];
                `),de.l(J),O=z(J,` 
                class `),N=z(J,y),T=z(J,` ArtifactNode;
                click `),F=z(J,j),q=z(J,` href "javascript:da_to_def_callback('`),L=z(J,k),D=z(J,`')";
                click `),Q=z(J,P),H=z(J,' href "/dao/artifact/d3f:'),re=z(J,oe),te=z(J,'";')},m(J,pe){R(J,t,pe),R(J,r,pe),R(J,s,pe),R(J,a,pe),R(J,u,pe),R(J,f,pe),R(J,_,pe),R(J,p,pe),R(J,v,pe),R(J,m,pe),R(J,A,pe),R(J,U,pe),de.m(J,pe),R(J,O,pe),R(J,N,pe),R(J,T,pe),R(J,F,pe),R(J,q,pe),R(J,L,pe),R(J,D,pe),R(J,Q,pe),R(J,H,pe),R(J,re,pe),R(J,te,pe)},p(J,pe){pe&2&&e!==(e=Ze(J[23].def_tech.value)+"")&&Se(t,e),pe&2&&n!==(n=J[23].def_tech_label.value+"")&&Se(s,n),pe&2&&h!==(h=J[23].def_artifact_rel_label.value.replace(/ /g,"")+"")&&Se(_,h),pe&2&&d!==(d=Ze(J[23].def_artifact.value)+"")&&Se(v,d),pe&2&&b!==(b=J[23].def_artifact_label.value+"")&&Se(A,b),W===(W=$(J,pe))&&de?de.p(J,pe):(de.d(1),de=W(J),de&&(de.c(),de.m(O.parentNode,O))),pe&2&&y!==(y=Ze(J[23].def_artifact.value)+"")&&Se(N,y),pe&2&&j!==(j=Ze(J[23].def_tech.value)+"")&&Se(F,j),pe&2&&k!==(k=Ze(J[23].def_tech.value)+"")&&Se(L,k),pe&2&&P!==(P=Ze(J[23].def_artifact.value)+"")&&Se(Q,P),pe&2&&oe!==(oe=Ze(J[23].def_artifact.value)+"")&&Se(re,oe)},d(J){J&&(w(t),w(r),w(s),w(a),w(u),w(f),w(_),w(p),w(v),w(m),w(A),w(U),w(O),w(N),w(T),w(F),w(q),w(L),w(D),w(Q),w(H),w(re),w(te)),de.d(J)}}}function fI(i){let e,t=Ze(i[23].def_tech.value)+"",r,n;return{c(){e=V("class "),r=V(t),n=V(" DefensiveTechniqueNode;")},l(s){e=z(s,"class "),r=z(s,t),n=z(s," DefensiveTechniqueNode;")},m(s,a){R(s,e,a),R(s,r,a),R(s,n,a)},p(s,a){a&2&&t!==(t=Ze(s[23].def_tech.value)+"")&&Se(r,t)},d(s){s&&(w(e),w(r),w(n))}}}function cI(i){let e,t=Ze(i[23].def_tech.value)+"",r,n;return{c(){e=V("class "),r=V(t),n=V(" SelectedDefensiveTechniqueNode;")},l(s){e=z(s,"class "),r=z(s,t),n=z(s," SelectedDefensiveTechniqueNode;")},m(s,a){R(s,e,a),R(s,r,a),R(s,n,a)},p(s,a){a&2&&t!==(t=Ze(s[23].def_tech.value)+"")&&Se(r,t)},d(s){s&&(w(e),w(r),w(n))}}}function sv(i){let e=i[3].edge_is_unique(i[23].def_tech_label.value,i[23].def_artifact_rel_label.value,i[23].def_artifact_label.value),t,r=e&&iv(i);return{c(){r&&r.c(),t=ze()},l(n){r&&r.l(n),t=ze()},m(n,s){r&&r.m(n,s),R(n,t,s)},p(n,s){s&10&&(e=n[3].edge_is_unique(n[23].def_tech_label.value,n[23].def_artifact_rel_label.value,n[23].def_artifact_label.value)),e?r?r.p(n,s):(r=iv(n),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(n){n&&w(t),r&&r.d(n)}}}function hI(i){let e,t,r=lt(i[1].da_to_def.results.bindings),n=[];for(let s=0;s<r.length;s+=1)n[s]=sv(rv(i,r,s));return{c(){e=V(`graph LR;
          `);for(let s=0;s<n.length;s+=1)n[s].c();t=ze()},l(s){e=z(s,`graph LR;
          `);for(let a=0;a<n.length;a+=1)n[a].l(s);t=ze()},m(s,a){R(s,e,a);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(s,a);R(s,t,a)},p(s,a){if(a&90){r=lt(s[1].da_to_def.results.bindings);let l;for(l=0;l<r.length;l+=1){const u=rv(s,r,l);n[l]?n[l].p(u,a):(n[l]=sv(u),n[l].c(),n[l].m(t.parentNode,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=r.length}},d(s){s&&(w(e),w(t)),er(n,s)}}}function lv(i){let e,t;return e=new wa({props:{$$slots:{default:[hI]},$$scope:{ctx:i}}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n&262234&&(s.$$scope={dirty:n,ctx:r}),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function dI(i){let e,t,r,n,s,a,l,u,f,h,_,p,d,v=i[6].length+"",m,b,A,U,I;const O=i[12].header,y=Or(O,i,i[18],nv),N=i[12].default,T=Or(N,i,i[18],null),j=[uI,oI,lI],F=[];function q(k,L){return k[1]?k[1].da_to_def.results.bindings.length>0?1:2:0}return l=q(i),u=F[l]=j[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),r=V(`
    Select Countermeasure Techniques
    `),T&&T.c(),n=ve(),s=ae("hr"),a=ve(),u.c(),f=ve(),h=ae("hr"),_=ve(),p=ae("button"),d=V("Insert ("),m=V(v),b=V(")"),this.h()},l(k){e=se(k,"DIALOG",{class:!0});var L=Me(e);t=se(L,"DIV",{class:!0});var D=Me(t);y&&y.l(D),r=z(D,`
    Select Countermeasure Techniques
    `),T&&T.l(D),n=ge(D),s=se(D,"HR",{}),a=ge(D),u.l(D),f=ge(D),h=se(D,"HR",{}),_=ge(D),p=se(D,"BUTTON",{class:!0});var P=Me(p);d=z(P,"Insert ("),m=z(P,v),b=z(P,")"),P.forEach(w),D.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,fe(p,"class","svelte-1yq7x1p"),fe(t,"class","svelte-1yq7x1p"),fe(e,"class","svelte-1yq7x1p")},m(k,L){R(k,e,L),G(e,t),y&&y.m(t,null),G(t,r),T&&T.m(t,null),G(t,n),G(t,s),G(t,a),F[l].m(t,null),G(t,f),G(t,h),G(t,_),G(t,p),G(p,d),G(p,m),G(p,b),i[15](e),A=!0,p.focus(),U||(I=[Pe(p,"click",i[9]),Pe(t,"click",jr(i[13])),Pe(e,"close",i[16]),Pe(e,"click",ba(i[17]))],U=!0)},p(k,[L]){y&&y.p&&(!A||L&262144)&&Lr(y,O,k,k[18],A?Ur(O,k[18],L,sI):Br(k[18]),nv),T&&T.p&&(!A||L&262144)&&Lr(T,N,k,k[18],A?Ur(N,k[18],L,null):Br(k[18]),null);let D=l;l=q(k),l===D?F[l].p(k,L):(It(),be(F[D],1,1,()=>{F[D]=null}),Rt(),u=F[l],u?u.p(k,L):(u=F[l]=j[l](k),u.c()),he(u,1),u.m(t,f)),(!A||L&64)&&v!==(v=k[6].length+"")&&Se(m,v)},i(k){A||(he(y,k),he(T,k),he(u),A=!0)},o(k){be(y,k),be(T,k),be(u),A=!1},d(k){k&&w(e),y&&y.d(k),T&&T.d(k),F[l].d(),i[15](null),U=!1,zt(I)}}}function pI(i,e,t){let r,n,s,{$$slots:a={},$$scope:l}=e,{show_defend_modal:u}=e,{parent_node:f}=e,{data:h}=e,_;const p=Li();At(i,p,q=>t(20,s=q));const d=Bi();At(i,d,q=>t(19,n=q));let v=new Xa;function m(q){r.includes(q)?t(6,r=r.filter(k=>k!==q)):r.push(q),t(6,r)}window.da_to_def_callback=function(q){m(q)};function b(){let q=0,k=200,L=100;for(const D of r){let P=h.da_to_def.results.bindings.find(Q=>Ze(Q.def_tech.value)==D);P&&(ka(p,d,f,"countermeasureSelectorNode",P.def_tech_label.value,"d3f:"+Ze(P.def_tech.value),f.data.sequence,f.position.x+q*k,f.position.y-L,182,63,P.def_artifact_rel_label.value,!1),q+=1)}p.set(s),d.set(n),_&&_.close(),t(6,r=[])}let A=new Set,U=[],I=[];a1(U,I)&&(I=[]);function O(q){for(const k of r){let L=h.da_to_def.results.bindings.find(D=>Ze(D.def_tech.value)==k);q.includes(L.def_tactic_label.value)&&t(6,r=r.filter(D=>D!==k))}t(6,r)}function y(q){ni.call(this,i,q)}function N(q){I=q,t(4,I)}function T(q){Fr[q?"unshift":"push"](()=>{_=q,t(2,_)})}const j=()=>t(0,u=!1),F=()=>{_.close(),t(6,r=[])};return i.$$set=q=>{"show_defend_modal"in q&&t(0,u=q.show_defend_modal),"parent_node"in q&&t(10,f=q.parent_node),"data"in q&&t(1,h=q.data),"$$scope"in q&&t(18,l=q.$$scope)},i.$$.update=()=>{i.$$.dirty&5&&u&&_&&(_.showModal(),t(3,v=new Xa)),i.$$.dirty&5&&!u&&_&&_.close(),i.$$.dirty&2050&&h&&(h.da_to_def.results.bindings.forEach(q=>{A.add(q.def_tactic_label.value)}),t(11,A),t(1,h)),i.$$.dirty&2048&&t(5,U=Array.from(A).sort(function(q,k){return uf[q]-uf[k]})),i.$$.dirty&16&&O(I),i.$$.dirty&24&&v.reset(I)},t(6,r=[]),[u,h,_,v,I,U,r,p,d,b,f,A,a,y,N,T,j,F,l]}class _I extends Xt{constructor(e){super(),Wt(this,e,pI,dI,kt,{show_defend_modal:0,parent_node:10,data:1})}}function ov(i,e,t){const r=i.slice();return r[26]=e[t],r}function uv(i,e,t){const r=i.slice();return r[29]=e[t],r}function fv(i,e,t){const r=i.slice();return r[32]=e[t],r}function cv(i,e,t){const r=i.slice();return r[26]=e[t],r}function hv(i,e,t){const r=i.slice();return r[29]=e[t],r}const vI=i=>({}),dv=i=>({});function gI(i){let e;return{c(){e=V("No related weaknesses in this release.")},l(t){e=z(t,"No related weaknesses in this release.")},m(t,r){R(t,e,r)},p:at,i:at,o:at,d(t){t&&w(e)}}}function mI(i){let e,t;return e=new wa({props:{$$slots:{default:[wI]},$$scope:{ctx:i}}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n[0]&4194750&&(s.$$scope={dirty:n,ctx:r}),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function bI(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(r){e=se(r,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(r,n){R(r,e,n)},p:at,i:at,o:at,d(r){r&&w(e)}}}function pv(i){let e,t=lt(i[32]["d3f:outbound"]),r=[];for(let n=0;n<t.length;n+=1)r[n]=gv(cv(i,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ze()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=ze()},m(n,s){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(n,s);R(n,e,s)},p(n,s){if(s[0]&430){t=lt(n[32]["d3f:outbound"]);let a;for(a=0;a<t.length;a+=1){const l=cv(n,t,a);r[a]?r[a].p(l,s):(r[a]=gv(l),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(n){n&&w(e),er(r,n)}}}function _v(i){let e,t=i[32]["@id"]+"",r,n;return{c(){e=V("class "),r=V(t),n=V(" selected_inbound_node;")},l(s){e=z(s,"class "),r=z(s,t),n=z(s," selected_inbound_node;")},m(s,a){R(s,e,a),R(s,r,a),R(s,n,a)},p(s,a){a[0]&160&&t!==(t=s[32]["@id"]+"")&&Se(r,t)},d(s){s&&(w(e),w(r),w(n))}}}function vv(i){let e=i[32]["@id"]+"",t,r,n=i[32]["rdfs:label"][0]+"",s,a,l="-->",u,f,h=Ze(i[26]["@id"])+"",_,p,d=i[29]["@id"]+"",v,m,b=i[7].i(i[29]["@id"])["rdfs:label"][0]+"",A,U,I=i[32]["@id"]+"",O,y,N=i[32]["@id"]+"",T,j,F,q,k=i[8].includes(i[32]["@id"]),L,D=i[29]["@id"]+"",P,Q,H=i[29]["@id"]+"",oe,re,te,$,W=i[32]["@id"]+"",de,J,pe=i[32]["@id"]+"",it,tt,Fe=i[29]["@id"]+"",He,Ce,De=i[3](i[29])+"",Ge,gt,rt=k&&_v(i);return{c(){t=V(e),r=V('["'),s=V(n),a=V('"] '),u=V(l),f=V(" | "),_=V(h),p=V(" | "),v=V(d),m=V('["'),A=V(b),U=V(`"];
                class `),O=V(I),y=V(" inbound_node; style "),T=V(N),j=V(" fill:"),F=V(i[1]),q=V(`;
                `),rt&&rt.c(),L=V(`
                class `),P=V(D),Q=V(" RootArtifactNode; style "),oe=V(H),re=V(" fill:"),te=V(i[2]),$=V(`;
                click `),de=V(W),J=V(` href "javascript:da_to_weak_callback('`),it=V(pe),tt=V(`')"; click `),He=V(Fe),Ce=V(' href "'),Ge=V(De),gt=V('";')},l(me){t=z(me,e),r=z(me,'["'),s=z(me,n),a=z(me,'"] '),u=z(me,l),f=z(me," | "),_=z(me,h),p=z(me," | "),v=z(me,d),m=z(me,'["'),A=z(me,b),U=z(me,`"];
                class `),O=z(me,I),y=z(me," inbound_node; style "),T=z(me,N),j=z(me," fill:"),F=z(me,i[1]),q=z(me,`;
                `),rt&&rt.l(me),L=z(me,`
                class `),P=z(me,D),Q=z(me," RootArtifactNode; style "),oe=z(me,H),re=z(me," fill:"),te=z(me,i[2]),$=z(me,`;
                click `),de=z(me,W),J=z(me,` href "javascript:da_to_weak_callback('`),it=z(me,pe),tt=z(me,`')"; click `),He=z(me,Fe),Ce=z(me,' href "'),Ge=z(me,De),gt=z(me,'";')},m(me,Be){R(me,t,Be),R(me,r,Be),R(me,s,Be),R(me,a,Be),R(me,u,Be),R(me,f,Be),R(me,_,Be),R(me,p,Be),R(me,v,Be),R(me,m,Be),R(me,A,Be),R(me,U,Be),R(me,O,Be),R(me,y,Be),R(me,T,Be),R(me,j,Be),R(me,F,Be),R(me,q,Be),rt&&rt.m(me,Be),R(me,L,Be),R(me,P,Be),R(me,Q,Be),R(me,oe,Be),R(me,re,Be),R(me,te,Be),R(me,$,Be),R(me,de,Be),R(me,J,Be),R(me,it,Be),R(me,tt,Be),R(me,He,Be),R(me,Ce,Be),R(me,Ge,Be),R(me,gt,Be)},p(me,Be){Be[0]&160&&e!==(e=me[32]["@id"]+"")&&Se(t,e),Be[0]&160&&n!==(n=me[32]["rdfs:label"][0]+"")&&Se(s,n),Be[0]&160&&h!==(h=Ze(me[26]["@id"])+"")&&Se(_,h),Be[0]&160&&d!==(d=me[29]["@id"]+"")&&Se(v,d),Be[0]&160&&b!==(b=me[7].i(me[29]["@id"])["rdfs:label"][0]+"")&&Se(A,b),Be[0]&160&&I!==(I=me[32]["@id"]+"")&&Se(O,I),Be[0]&160&&N!==(N=me[32]["@id"]+"")&&Se(T,N),Be[0]&2&&Se(F,me[1]),Be[0]&416&&(k=me[8].includes(me[32]["@id"])),k?rt?rt.p(me,Be):(rt=_v(me),rt.c(),rt.m(L.parentNode,L)):rt&&(rt.d(1),rt=null),Be[0]&160&&D!==(D=me[29]["@id"]+"")&&Se(P,D),Be[0]&160&&H!==(H=me[29]["@id"]+"")&&Se(oe,H),Be[0]&4&&Se(te,me[2]),Be[0]&160&&W!==(W=me[32]["@id"]+"")&&Se(de,W),Be[0]&160&&pe!==(pe=me[32]["@id"]+"")&&Se(it,pe),Be[0]&160&&Fe!==(Fe=me[29]["@id"]+"")&&Se(He,Fe),Be[0]&168&&De!==(De=me[3](me[29])+"")&&Se(Ge,De)},d(me){me&&(w(t),w(r),w(s),w(a),w(u),w(f),w(_),w(p),w(v),w(m),w(A),w(U),w(O),w(y),w(T),w(j),w(F),w(q),w(L),w(P),w(Q),w(oe),w(re),w(te),w($),w(de),w(J),w(it),w(tt),w(He),w(Ce),w(Ge),w(gt)),rt&&rt.d(me)}}}function gv(i){let e,t=lt(i[32][i[26]["@id"]]),r=[];for(let n=0;n<t.length;n+=1)r[n]=vv(hv(i,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ze()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=ze()},m(n,s){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(n,s);R(n,e,s)},p(n,s){if(s[0]&430){t=lt(n[32][n[26]["@id"]]);let a;for(a=0;a<t.length;a+=1){const l=hv(n,t,a);r[a]?r[a].p(l,s):(r[a]=vv(l),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(n){n&&w(e),er(r,n)}}}function mv(i){let e,t=i[32]["d3f:outbound"]&&pv(i);return{c(){t&&t.c(),e=ze()},l(r){t&&t.l(r),e=ze()},m(r,n){t&&t.m(r,n),R(r,e,n)},p(r,n){r[32]["d3f:outbound"]?t?t.p(r,n):(t=pv(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){r&&w(e),t&&t.d(r)}}}function bv(i){let e,t=lt(i[7].i(i[5].description["@id"])["d3f:outbound"]),r=[];for(let n=0;n<t.length;n+=1)r[n]=yv(ov(i,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ze()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=ze()},m(n,s){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(n,s);R(n,e,s)},p(n,s){if(s[0]&184){t=lt(n[7].i(n[5].description["@id"])["d3f:outbound"]);let a;for(a=0;a<t.length;a+=1){const l=ov(n,t,a);r[a]?r[a].p(l,s):(r[a]=yv(l),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(n){n&&w(e),er(r,n)}}}function wv(i){let e=i[5].description["@id"]+"",t,r,n=i[7].i(i[5].description["@id"])["rdfs:label"][0]+"",s,a,l="-->",u,f,h=Ze(i[26]["@id"])+"",_,p,d=i[29]["@id"]+"",v,m,b=i[7].graph[i[7].index[i[29]["@id"]]]["rdfs:label"][0]+"",A,U,I=i[5].description["@id"]+"",O,y,N=i[29]["@id"]+"",T,j,F=i[5].description["@id"]+"",q,k,L=i[3](i[5].description["@id"])+"",D,P,Q=i[29]["@id"]+"",H,oe,re=i[4](i[29])+"",te,$;return{c(){t=V(e),r=V('["'),s=V(n),a=V('"] '),u=V(l),f=V(" | "),_=V(h),p=V(" | "),v=V(d),m=V('["'),A=V(b),U=V('"]; class '),O=V(I),y=V(" RootArtifactNode; class "),T=V(N),j=V(` ArtifactNode;
              click `),q=V(F),k=V(' href "'),D=V(L),P=V('"; click '),H=V(Q),oe=V(' href "'),te=V(re),$=V('";')},l(W){t=z(W,e),r=z(W,'["'),s=z(W,n),a=z(W,'"] '),u=z(W,l),f=z(W," | "),_=z(W,h),p=z(W," | "),v=z(W,d),m=z(W,'["'),A=z(W,b),U=z(W,'"]; class '),O=z(W,I),y=z(W," RootArtifactNode; class "),T=z(W,N),j=z(W,` ArtifactNode;
              click `),q=z(W,F),k=z(W,' href "'),D=z(W,L),P=z(W,'"; click '),H=z(W,Q),oe=z(W,' href "'),te=z(W,re),$=z(W,'";')},m(W,de){R(W,t,de),R(W,r,de),R(W,s,de),R(W,a,de),R(W,u,de),R(W,f,de),R(W,_,de),R(W,p,de),R(W,v,de),R(W,m,de),R(W,A,de),R(W,U,de),R(W,O,de),R(W,y,de),R(W,T,de),R(W,j,de),R(W,q,de),R(W,k,de),R(W,D,de),R(W,P,de),R(W,H,de),R(W,oe,de),R(W,te,de),R(W,$,de)},p(W,de){de[0]&32&&e!==(e=W[5].description["@id"]+"")&&Se(t,e),de[0]&160&&n!==(n=W[7].i(W[5].description["@id"])["rdfs:label"][0]+"")&&Se(s,n),de[0]&160&&h!==(h=Ze(W[26]["@id"])+"")&&Se(_,h),de[0]&160&&d!==(d=W[29]["@id"]+"")&&Se(v,d),de[0]&160&&b!==(b=W[7].graph[W[7].index[W[29]["@id"]]]["rdfs:label"][0]+"")&&Se(A,b),de[0]&32&&I!==(I=W[5].description["@id"]+"")&&Se(O,I),de[0]&160&&N!==(N=W[29]["@id"]+"")&&Se(T,N),de[0]&32&&F!==(F=W[5].description["@id"]+"")&&Se(q,F),de[0]&40&&L!==(L=W[3](W[5].description["@id"])+"")&&Se(D,L),de[0]&160&&Q!==(Q=W[29]["@id"]+"")&&Se(H,Q),de[0]&176&&re!==(re=W[4](W[29])+"")&&Se(te,re)},d(W){W&&(w(t),w(r),w(s),w(a),w(u),w(f),w(_),w(p),w(v),w(m),w(A),w(U),w(O),w(y),w(T),w(j),w(q),w(k),w(D),w(P),w(H),w(oe),w(te),w($))}}}function yv(i){let e,t=lt(i[7].i(i[5].description["@id"])[i[26]["@id"]]),r=[];for(let n=0;n<t.length;n+=1)r[n]=wv(uv(i,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ze()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=ze()},m(n,s){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(n,s);R(n,e,s)},p(n,s){if(s[0]&184){t=lt(n[7].i(n[5].description["@id"])[n[26]["@id"]]);let a;for(a=0;a<t.length;a+=1){const l=uv(n,t,a);r[a]?r[a].p(l,s):(r[a]=wv(l),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(n){n&&w(e),er(r,n)}}}function wI(i){let e,t,r=i[7].i(i[5].description["@id"])&&i[7].i(i[5].description["@id"])["d3f:outbound"],n,s=lt(i[7].graph.filter(i[18])),a=[];for(let u=0;u<s.length;u+=1)a[u]=mv(fv(i,s,u));let l=r&&bv(i);return{c(){e=V(`graph LR;
        `);for(let u=0;u<a.length;u+=1)a[u].c();t=ve(),l&&l.c(),n=ze()},l(u){e=z(u,`graph LR;
        `);for(let f=0;f<a.length;f+=1)a[f].l(u);t=ge(u),l&&l.l(u),n=ze()},m(u,f){R(u,e,f);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(u,f);R(u,t,f),l&&l.m(u,f),R(u,n,f)},p(u,f){if(f[0]&430){s=lt(u[7].graph.filter(u[18]));let h;for(h=0;h<s.length;h+=1){const _=fv(u,s,h);a[h]?a[h].p(_,f):(a[h]=mv(_),a[h].c(),a[h].m(t.parentNode,t))}for(;h<a.length;h+=1)a[h].d(1);a.length=s.length}f[0]&160&&(r=u[7].i(u[5].description["@id"])&&u[7].i(u[5].description["@id"])["d3f:outbound"]),r?l?l.p(u,f):(l=bv(u),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(u){u&&(w(e),w(t),w(n)),er(a,u),l&&l.d(u)}}}function yI(i){let e,t,r,n,s,a,l,u,f,h,_,p,d,v=i[8].length+"",m,b,A,U,I;const O=i[16].header,y=Or(O,i,i[22],dv),N=i[16].default,T=Or(N,i,i[22],null),j=[bI,mI,gI],F=[];function q(k,L){return k[5]?k[7].graph.length>0?1:2:0}return l=q(i),u=F[l]=j[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),r=V(`
    Select Weaknesses
    `),T&&T.c(),n=ve(),s=ae("hr"),a=ve(),u.c(),f=ve(),h=ae("hr"),_=ve(),p=ae("button"),d=V("Insert ("),m=V(v),b=V(")"),this.h()},l(k){e=se(k,"DIALOG",{class:!0});var L=Me(e);t=se(L,"DIV",{class:!0});var D=Me(t);y&&y.l(D),r=z(D,`
    Select Weaknesses
    `),T&&T.l(D),n=ge(D),s=se(D,"HR",{}),a=ge(D),u.l(D),f=ge(D),h=se(D,"HR",{}),_=ge(D),p=se(D,"BUTTON",{class:!0});var P=Me(p);d=z(P,"Insert ("),m=z(P,v),b=z(P,")"),P.forEach(w),D.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,fe(p,"class","svelte-1resfch"),fe(t,"class","svelte-1resfch"),fe(e,"class","svelte-1resfch")},m(k,L){R(k,e,L),G(e,t),y&&y.m(t,null),G(t,r),T&&T.m(t,null),G(t,n),G(t,s),G(t,a),F[l].m(t,null),G(t,f),G(t,h),G(t,_),G(t,p),G(p,d),G(p,m),G(p,b),i[19](e),A=!0,p.focus(),U||(I=[Pe(p,"click",i[11]),Pe(t,"click",jr(i[17])),Pe(e,"close",i[20]),Pe(e,"click",ba(i[21]))],U=!0)},p(k,L){y&&y.p&&(!A||L[0]&4194304)&&Lr(y,O,k,k[22],A?Ur(O,k[22],L,vI):Br(k[22]),dv),T&&T.p&&(!A||L[0]&4194304)&&Lr(T,N,k,k[22],A?Ur(N,k[22],L,null):Br(k[22]),null);let D=l;l=q(k),l===D?F[l].p(k,L):(It(),be(F[D],1,1,()=>{F[D]=null}),Rt(),u=F[l],u?u.p(k,L):(u=F[l]=j[l](k),u.c()),he(u,1),u.m(t,f)),(!A||L[0]&256)&&v!==(v=k[8].length+"")&&Se(m,v)},i(k){A||(he(y,k),he(T,k),he(u),A=!0)},o(k){be(y,k),be(T,k),be(u),A=!1},d(k){k&&w(e),y&&y.d(k),T&&T.d(k),F[l].d(),i[19](null),U=!1,zt(I)}}}function EI(i,e,t){let r,n,s,{$$slots:a={},$$scope:l}=e,{outbound_color:u="#fff4dd"}=e,{inbound_color:f="#fff4dd"}=e,{root_color:h="#fff4dd"}=e,{link_function:_=D=>`/dao/artifact/${D["@id"]}`}=e,{inbound_link_function:p=_}=e,{root_link_function:d=D=>`/dao/artifact/${D["@id"]}`}=e,{outbound_link_function:v=_}=e,{show_weakness_modal:m}=e,{parent_node:b}=e,{data:A}=e,U;const I=Li();At(i,I,D=>t(24,s=D));const O=Bi();At(i,O,D=>t(23,n=D));let y;function N(D){r.includes(D)?t(8,r=r.filter(P=>P!==D)):r.push(D),t(8,r),t(8,r)}window.da_to_weak_callback=function(D){N(D)};function T(){let D=0,P=200,Q=100;for(const H of r){let oe=A.da_to_weak["@graph"].find(re=>re["@id"]==H);oe&&(ka(I,O,b,"vulnerabilitySelectorNode",oe["rdfs:label"],oe["d3f:cwe-id"],b.data.sequence,b.position.x+D*P,b.position.y+Q,182,63,oe["d3f:outbound"][0]["@id"].replace("d3f:",""),!1),D+=1)}I.set(s),O.set(n),U&&U.close(),t(8,r=[])}function j(D){ni.call(this,i,D)}const F=D=>D["@id"]!=A.description["@id"];function q(D){Fr[D?"unshift":"push"](()=>{U=D,t(6,U)})}const k=()=>t(0,m=!1),L=()=>{U.close(),t(8,r=[])};return i.$$set=D=>{"outbound_color"in D&&t(12,u=D.outbound_color),"inbound_color"in D&&t(1,f=D.inbound_color),"root_color"in D&&t(2,h=D.root_color),"link_function"in D&&t(13,_=D.link_function),"inbound_link_function"in D&&t(14,p=D.inbound_link_function),"root_link_function"in D&&t(3,d=D.root_link_function),"outbound_link_function"in D&&t(4,v=D.outbound_link_function),"show_weakness_modal"in D&&t(0,m=D.show_weakness_modal),"parent_node"in D&&t(15,b=D.parent_node),"data"in D&&t(5,A=D.data),"$$scope"in D&&t(22,l=D.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&65&&m&&U&&U.showModal(),i.$$.dirty[0]&65&&!m&&U&&U.close(),i.$$.dirty[0]&32&&A&&t(7,y=new Jh(A.da_to_weak,{index:!0}))},t(8,r=[]),[m,f,h,d,v,A,U,y,r,I,O,T,u,_,p,b,a,j,F,q,k,L,l]}class DI extends Xt{constructor(e){super(),Wt(this,e,EI,yI,kt,{outbound_color:12,inbound_color:1,root_color:2,link_function:13,inbound_link_function:14,root_link_function:3,outbound_link_function:4,show_weakness_modal:0,parent_node:15,data:5},null,[-1,-1])}}function Ev(i,e,t){const r=i.slice();return r[31]=e[t],r}function Dv(i,e,t){const r=i.slice();return r[34]=e[t],r}function Av(i,e,t){const r=i.slice();return r[37]=e[t],r}const AI=i=>({}),kv=i=>({});function kI(i){let e;return{c(){e=V("No related parts/control in this release")},l(t){e=z(t,"No related parts/control in this release")},m(t,r){R(t,e,r)},p:at,i:at,o:at,d(t){t&&w(e)}}}function CI(i){let e,t;return e=new wa({props:{$$slots:{default:[NI]},$$scope:{ctx:i}}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n[0]&134217934&&(s.$$scope={dirty:n,ctx:r}),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function TI(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(r){e=se(r,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(r,n){R(r,e,n)},p:at,i:at,o:at,d(r){r&&w(e)}}}function Cv(i){let e,t=lt(i[31]["d3f:outbound"].filter(i[23])),r=[];for(let n=0;n<t.length;n+=1)r[n]=Fv(Dv(i,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ze()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=ze()},m(n,s){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(n,s);R(n,e,s)},p(n,s){if(s[0]&206){t=lt(n[31]["d3f:outbound"].filter(n[23]));let a;for(a=0;a<t.length;a+=1){const l=Dv(n,t,a);r[a]?r[a].p(l,s):(r[a]=Fv(l),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(n){n&&w(e),er(r,n)}}}function Tv(i){let e,t,r=i[31]["@id"]!=i[2].data.d3f_class&&Nv(i),n=i[37]["@id"]!=i[2].data.d3f_class&&Sv(i);return{c(){r&&r.c(),e=ve(),n&&n.c(),t=ze()},l(s){r&&r.l(s),e=ge(s),n&&n.l(s),t=ze()},m(s,a){r&&r.m(s,a),R(s,e,a),n&&n.m(s,a),R(s,t,a)},p(s,a){s[31]["@id"]!=s[2].data.d3f_class?r?r.p(s,a):(r=Nv(s),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),s[37]["@id"]!=s[2].data.d3f_class?n?n.p(s,a):(n=Sv(s),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(s){s&&(w(e),w(t)),r&&r.d(s),n&&n.d(s)}}}function Nv(i){let e,t=i[31]["@id"]+"",r,n;return{c(){e=V("class "),r=V(t),n=V(" selected_outbound_node;")},l(s){e=z(s,"class "),r=z(s,t),n=z(s," selected_outbound_node;")},m(s,a){R(s,e,a),R(s,r,a),R(s,n,a)},p(s,a){a[0]&72&&t!==(t=s[31]["@id"]+"")&&Se(r,t)},d(s){s&&(w(e),w(r),w(n))}}}function Sv(i){let e,t=i[37]["@id"]+"",r,n;return{c(){e=V("class "),r=V(t),n=V(" selected_outbound_node;")},l(s){e=z(s,"class "),r=z(s,t),n=z(s," selected_outbound_node;")},m(s,a){R(s,e,a),R(s,r,a),R(s,n,a)},p(s,a){a[0]&74&&t!==(t=s[37]["@id"]+"")&&Se(r,t)},d(s){s&&(w(e),w(r),w(n))}}}function Iv(i){let e,t=i[31]["@id"]+"",r,n,s=i[31]["@id"]+"",a,l,u=Ze(i[34]["@id"])+"",f,h,_=i[37]["@id"]+"",p,d;return{c(){e=V("click "),r=V(t),n=V(` href "javascript:da_to_neighbors_callback('`),a=V(s),l=V("', '"),f=V(u),h=V("','"),p=V(_),d=V(`')";`)},l(v){e=z(v,"click "),r=z(v,t),n=z(v,` href "javascript:da_to_neighbors_callback('`),a=z(v,s),l=z(v,"', '"),f=z(v,u),h=z(v,"','"),p=z(v,_),d=z(v,`')";`)},m(v,m){R(v,e,m),R(v,r,m),R(v,n,m),R(v,a,m),R(v,l,m),R(v,f,m),R(v,h,m),R(v,p,m),R(v,d,m)},p(v,m){m[0]&72&&t!==(t=v[31]["@id"]+"")&&Se(r,t),m[0]&72&&s!==(s=v[31]["@id"]+"")&&Se(a,s),m[0]&74&&u!==(u=Ze(v[34]["@id"])+"")&&Se(f,u),m[0]&74&&_!==(_=v[37]["@id"]+"")&&Se(p,_)},d(v){v&&(w(e),w(r),w(n),w(a),w(l),w(f),w(h),w(p),w(d))}}}function Rv(i){let e,t=i[37]["@id"]+"",r,n,s=i[31]["@id"]+"",a,l,u=Ze(i[34]["@id"])+"",f,h,_=i[37]["@id"]+"",p,d;return{c(){e=V("click "),r=V(t),n=V(` href "javascript:da_to_neighbors_callback('`),a=V(s),l=V("', '"),f=V(u),h=V("','"),p=V(_),d=V(`')";`)},l(v){e=z(v,"click "),r=z(v,t),n=z(v,` href "javascript:da_to_neighbors_callback('`),a=z(v,s),l=z(v,"', '"),f=z(v,u),h=z(v,"','"),p=z(v,_),d=z(v,`')";`)},m(v,m){R(v,e,m),R(v,r,m),R(v,n,m),R(v,a,m),R(v,l,m),R(v,f,m),R(v,h,m),R(v,p,m),R(v,d,m)},p(v,m){m[0]&74&&t!==(t=v[37]["@id"]+"")&&Se(r,t),m[0]&72&&s!==(s=v[31]["@id"]+"")&&Se(a,s),m[0]&74&&u!==(u=Ze(v[34]["@id"])+"")&&Se(f,u),m[0]&74&&_!==(_=v[37]["@id"]+"")&&Se(p,_)},d(v){v&&(w(e),w(r),w(n),w(a),w(l),w(f),w(h),w(p),w(d))}}}function Pv(i){let e=i[31]["@id"]+"",t,r,n=i[31]["rdfs:label"][0]+"",s,a,l="-->",u,f,h=Ze(i[34]["@id"])+"",_,p,d=i[37]["@id"]+"",v,m,b=i[6].i(i[37]["@id"])["rdfs:label"][0]+"",A,U,I=i[37]["@id"]+"",O,y,N=i[7].some(q),T,j,F;function q(...P){return i[21](i[31],i[34],i[37],...P)}let k=N&&Tv(i),L=i[31]["@id"]!=i[2].data.d3f_class&&Iv(i),D=i[37]["@id"]!=i[2].data.d3f_class&&Rv(i);return{c(){t=V(e),r=V('["'),s=V(n),a=V('"] '),u=V(l),f=V(" | "),_=V(h),p=V(" | "),v=V(d),m=V('["'),A=V(b),U=V(`"];
                class `),O=V(I),y=V(` outbound;
                `),k&&k.c(),T=ve(),L&&L.c(),j=ve(),D&&D.c(),F=ze()},l(P){t=z(P,e),r=z(P,'["'),s=z(P,n),a=z(P,'"] '),u=z(P,l),f=z(P," | "),_=z(P,h),p=z(P," | "),v=z(P,d),m=z(P,'["'),A=z(P,b),U=z(P,`"];
                class `),O=z(P,I),y=z(P,` outbound;
                `),k&&k.l(P),T=ge(P),L&&L.l(P),j=ge(P),D&&D.l(P),F=ze()},m(P,Q){R(P,t,Q),R(P,r,Q),R(P,s,Q),R(P,a,Q),R(P,u,Q),R(P,f,Q),R(P,_,Q),R(P,p,Q),R(P,v,Q),R(P,m,Q),R(P,A,Q),R(P,U,Q),R(P,O,Q),R(P,y,Q),k&&k.m(P,Q),R(P,T,Q),L&&L.m(P,Q),R(P,j,Q),D&&D.m(P,Q),R(P,F,Q)},p(P,Q){i=P,Q[0]&72&&e!==(e=i[31]["@id"]+"")&&Se(t,e),Q[0]&72&&n!==(n=i[31]["rdfs:label"][0]+"")&&Se(s,n),Q[0]&74&&h!==(h=Ze(i[34]["@id"])+"")&&Se(_,h),Q[0]&74&&d!==(d=i[37]["@id"]+"")&&Se(v,d),Q[0]&74&&b!==(b=i[6].i(i[37]["@id"])["rdfs:label"][0]+"")&&Se(A,b),Q[0]&74&&I!==(I=i[37]["@id"]+"")&&Se(O,I),Q[0]&202&&(N=i[7].some(q)),N?k?k.p(i,Q):(k=Tv(i),k.c(),k.m(T.parentNode,T)):k&&(k.d(1),k=null),i[31]["@id"]!=i[2].data.d3f_class?L?L.p(i,Q):(L=Iv(i),L.c(),L.m(j.parentNode,j)):L&&(L.d(1),L=null),i[37]["@id"]!=i[2].data.d3f_class?D?D.p(i,Q):(D=Rv(i),D.c(),D.m(F.parentNode,F)):D&&(D.d(1),D=null)},d(P){P&&(w(t),w(r),w(s),w(a),w(u),w(f),w(_),w(p),w(v),w(m),w(A),w(U),w(O),w(y),w(T),w(j),w(F)),k&&k.d(P),L&&L.d(P),D&&D.d(P)}}}function Fv(i){let e,t=lt(i[31][i[34]["@id"]]),r=[];for(let n=0;n<t.length;n+=1)r[n]=Pv(Av(i,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ze()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=ze()},m(n,s){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(n,s);R(n,e,s)},p(n,s){if(s[0]&206){t=lt(n[31][n[34]["@id"]]);let a;for(a=0;a<t.length;a+=1){const l=Av(n,t,a);r[a]?r[a].p(l,s):(r[a]=Pv(l),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(n){n&&w(e),er(r,n)}}}function Ov(i){let e,t=i[31]["d3f:outbound"]&&Cv(i);return{c(){t&&t.c(),e=ze()},l(r){t&&t.l(r),e=ze()},m(r,n){t&&t.m(r,n),R(r,e,n)},p(r,n){r[31]["d3f:outbound"]?t?t.p(r,n):(t=Cv(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){r&&w(e),t&&t.d(r)}}}function NI(i){let e,t,r=lt(i[6].graph.filter(i[22])),n=[];for(let s=0;s<r.length;s+=1)n[s]=Ov(Ev(i,r,s));return{c(){e=V(`graph LR;
        `);for(let s=0;s<n.length;s+=1)n[s].c();t=ze()},l(s){e=z(s,`graph LR;
        `);for(let a=0;a<n.length;a+=1)n[a].l(s);t=ze()},m(s,a){R(s,e,a);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(s,a);R(s,t,a)},p(s,a){if(a[0]&206){r=lt(s[6].graph.filter(s[22]));let l;for(l=0;l<r.length;l+=1){const u=Ev(s,r,l);n[l]?n[l].p(u,a):(n[l]=Ov(u),n[l].c(),n[l].m(t.parentNode,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=r.length}},d(s){s&&(w(e),w(t)),er(n,s)}}}function SI(i){let e,t,r,n,s,a,l,u,f,h,_,p,d,v=i[7].length+"",m,b,A,U,I;const O=i[19].header,y=Or(O,i,i[27],kv),N=i[19].default,T=Or(N,i,i[27],null),j=[TI,CI,kI],F=[];function q(k,L){return k[3]?k[5]&&k[6].graph.length>0?1:2:0}return l=q(i),u=F[l]=j[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),r=V(`
    Select Parts/Control Neighbors
    `),T&&T.c(),n=ve(),s=ae("hr"),a=ve(),u.c(),f=ve(),h=ae("hr"),_=ve(),p=ae("button"),d=V("Insert ("),m=V(v),b=V(")"),this.h()},l(k){e=se(k,"DIALOG",{class:!0});var L=Me(e);t=se(L,"DIV",{class:!0});var D=Me(t);y&&y.l(D),r=z(D,`
    Select Parts/Control Neighbors
    `),T&&T.l(D),n=ge(D),s=se(D,"HR",{}),a=ge(D),u.l(D),f=ge(D),h=se(D,"HR",{}),_=ge(D),p=se(D,"BUTTON",{class:!0});var P=Me(p);d=z(P,"Insert ("),m=z(P,v),b=z(P,")"),P.forEach(w),D.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,fe(p,"class","svelte-x2no78"),fe(t,"class","svelte-x2no78"),fe(e,"class","svelte-x2no78")},m(k,L){R(k,e,L),G(e,t),y&&y.m(t,null),G(t,r),T&&T.m(t,null),G(t,n),G(t,s),G(t,a),F[l].m(t,null),G(t,f),G(t,h),G(t,_),G(t,p),G(p,d),G(p,m),G(p,b),i[24](e),A=!0,p.focus(),U||(I=[Pe(p,"click",i[10]),Pe(t,"click",jr(i[20])),Pe(e,"close",i[25]),Pe(e,"click",ba(i[26]))],U=!0)},p(k,L){y&&y.p&&(!A||L[0]&134217728)&&Lr(y,O,k,k[27],A?Ur(O,k[27],L,AI):Br(k[27]),kv),T&&T.p&&(!A||L[0]&134217728)&&Lr(T,N,k,k[27],A?Ur(N,k[27],L,null):Br(k[27]),null);let D=l;l=q(k),l===D?F[l].p(k,L):(It(),be(F[D],1,1,()=>{F[D]=null}),Rt(),u=F[l],u?u.p(k,L):(u=F[l]=j[l](k),u.c()),he(u,1),u.m(t,f)),(!A||L[0]&128)&&v!==(v=k[7].length+"")&&Se(m,v)},i(k){A||(he(y,k),he(T,k),he(u),A=!0)},o(k){be(y,k),be(T,k),be(u),A=!1},d(k){k&&w(e),y&&y.d(k),T&&T.d(k),F[l].d(),i[24](null),U=!1,zt(I)}}}function II(i,e,t){let r,n,s,{$$slots:a={},$$scope:l}=e,{empty_message:u="has no direct neighbors in this release."}=e,{outbound_color:f="#fff4dd"}=e,{inbound_color:h="#fff4dd"}=e,{root_color:_="#fff4dd"}=e,{link_function:p=re=>`/dao/artifact/${re["@id"]}`}=e,{inbound_link_function:d=p}=e,{root_link_function:v=re=>`/dao/artifact/${re["@id"]}`}=e,{outbound_link_function:m=p}=e,{show_neighbors_modal:b}=e,{neighbor_filter_labels:A}=e,{parent_node:U}=e,{data:I}=e,O,y=!1;const N=Li();At(i,N,re=>t(29,s=re));const T=Bi();At(i,T,re=>t(28,n=re));let j;function F(re){r.some(te=>te.source==re.source&&te.relation==re.relation&&te.target==re.target)?t(7,r=r.filter(te=>te.source!=re.source||te.relation!=re.relation||te.target!=re.target)):r.push(re),t(7,r),t(7,r)}window.da_to_neighbors_callback=function(re,te,$){F({source:re,relation:te,target:$})};function q(){let re=0,te=200,$=100;for(const W of r){let de=I.neighbors["@graph"].find(pe=>pe["@id"]==W.source),J=I.neighbors["@graph"].find(pe=>pe["@id"]==W.target);if(de&&J){let pe=U.data.d3f_class==de["@id"],it=pe?J:de;ka(N,T,U,"artifactSelectorNode",it["rdfs:label"][0],it["@id"],U.data.sequence,U.position.x+re*te,pe?U.position.y+$:U.position.y-$,182,63,W.relation,pe),re+=1}}N.set(s),T.set(n),O&&(O.close(),t(5,y=!1)),t(7,r=[])}function k(re){ni.call(this,i,re)}const L=(re,te,$,W)=>W.source==re["@id"]&&W.relation==Ze(te["@id"])&&W.target==$["@id"],D=re=>re["@id"]!=I.description["@id"],P=re=>A.includes(re["@id"]);function Q(re){Fr[re?"unshift":"push"](()=>{O=re,t(4,O)})}const H=()=>t(0,b=!1),oe=()=>{O.close(),t(7,r=[])};return i.$$set=re=>{"empty_message"in re&&t(11,u=re.empty_message),"outbound_color"in re&&t(12,f=re.outbound_color),"inbound_color"in re&&t(13,h=re.inbound_color),"root_color"in re&&t(14,_=re.root_color),"link_function"in re&&t(15,p=re.link_function),"inbound_link_function"in re&&t(16,d=re.inbound_link_function),"root_link_function"in re&&t(17,v=re.root_link_function),"outbound_link_function"in re&&t(18,m=re.outbound_link_function),"show_neighbors_modal"in re&&t(0,b=re.show_neighbors_modal),"neighbor_filter_labels"in re&&t(1,A=re.neighbor_filter_labels),"parent_node"in re&&t(2,U=re.parent_node),"data"in re&&t(3,I=re.data),"$$scope"in re&&t(27,l=re.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&17&&b&&O&&O.showModal(),i.$$.dirty[0]&17&&!b&&O&&O.close(),i.$$.dirty[0]&14&&I&&(t(5,y=!1),I.neighbors["@graph"].find(re=>re["@id"]==U.data.d3f_class),I.neighbors["@graph"].some(re=>re["d3f:outbound"]&&A.some(te=>re["d3f:outbound"].some($=>$["@id"]==te)))&&(t(5,y=!0),t(6,j=new Jh(I.neighbors,{index:!0}))))},t(7,r=[]),[b,A,U,I,O,y,j,r,N,T,q,u,f,h,_,p,d,v,m,a,k,L,D,P,Q,H,oe,l]}class RI extends Xt{constructor(e){super(),Wt(this,e,II,SI,kt,{empty_message:11,outbound_color:12,inbound_color:13,root_color:14,link_function:15,inbound_link_function:16,root_link_function:17,outbound_link_function:18,show_neighbors_modal:0,neighbor_filter_labels:1,parent_node:2,data:3},null,[-1,-1])}}function Lv(i,e,t){const r=i.slice();return r[26]=e[t],r}function Bv(i,e,t){const r=i.slice();return r[29]=e[t],r}function Uv(i,e,t){const r=i.slice();return r[32]=e[t],r}function Mv(i,e,t){const r=i.slice();return r[26]=e[t],r}function qv(i,e,t){const r=i.slice();return r[29]=e[t],r}const PI=i=>({}),jv=i=>({});function FI(i){let e;return{c(){e=V("No related sensors in this release.")},l(t){e=z(t,"No related sensors in this release.")},m(t,r){R(t,e,r)},p:at,i:at,o:at,d(t){t&&w(e)}}}function OI(i){let e,t;return e=new wa({props:{$$slots:{default:[BI]},$$scope:{ctx:i}}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n[0]&4194750&&(s.$$scope={dirty:n,ctx:r}),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function LI(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(r){e=se(r,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(r,n){R(r,e,n)},p:at,i:at,o:at,d(r){r&&w(e)}}}function xv(i){let e,t=lt(i[32]["d3f:outbound"]),r=[];for(let n=0;n<t.length;n+=1)r[n]=zv(Mv(i,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ze()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=ze()},m(n,s){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(n,s);R(n,e,s)},p(n,s){if(s[0]&430){t=lt(n[32]["d3f:outbound"]);let a;for(a=0;a<t.length;a+=1){const l=Mv(n,t,a);r[a]?r[a].p(l,s):(r[a]=zv(l),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(n){n&&w(e),er(r,n)}}}function Hv(i){let e,t=i[32]["@id"]+"",r,n;return{c(){e=V("class "),r=V(t),n=V(" selected_inbound_node;")},l(s){e=z(s,"class "),r=z(s,t),n=z(s," selected_inbound_node;")},m(s,a){R(s,e,a),R(s,r,a),R(s,n,a)},p(s,a){a[0]&160&&t!==(t=s[32]["@id"]+"")&&Se(r,t)},d(s){s&&(w(e),w(r),w(n))}}}function Vv(i){let e=i[32]["@id"]+"",t,r,n=i[32]["rdfs:label"][0]+"",s,a,l="-->",u,f,h=Ze(i[26]["@id"])+"",_,p,d=i[29]["@id"]+"",v,m,b=i[7].i(i[29]["@id"])["rdfs:label"][0]+"",A,U,I=i[32]["@id"]+"",O,y,N=i[32]["@id"]+"",T,j,F,q,k=i[8].includes(i[32]["@id"]),L,D=i[29]["@id"]+"",P,Q,H=i[29]["@id"]+"",oe,re,te,$,W=i[32]["@id"]+"",de,J,pe=i[32]["@id"]+"",it,tt,Fe=i[29]["@id"]+"",He,Ce,De=i[3](i[29])+"",Ge,gt,rt=k&&Hv(i);return{c(){t=V(e),r=V('["'),s=V(n),a=V('"] '),u=V(l),f=V(" | "),_=V(h),p=V(" | "),v=V(d),m=V('["'),A=V(b),U=V(`"];
                  class `),O=V(I),y=V(" inbound_node; style "),T=V(N),j=V(" fill:"),F=V(i[1]),q=V(`;
                  `),rt&&rt.c(),L=V(`
                  class `),P=V(D),Q=V(" RootArtifactNode; style "),oe=V(H),re=V(" fill:"),te=V(i[2]),$=V(`;
                  click `),de=V(W),J=V(` href "javascript:da_to_sensor_callback('`),it=V(pe),tt=V(`')"; click `),He=V(Fe),Ce=V(' href "'),Ge=V(De),gt=V('";')},l(me){t=z(me,e),r=z(me,'["'),s=z(me,n),a=z(me,'"] '),u=z(me,l),f=z(me," | "),_=z(me,h),p=z(me," | "),v=z(me,d),m=z(me,'["'),A=z(me,b),U=z(me,`"];
                  class `),O=z(me,I),y=z(me," inbound_node; style "),T=z(me,N),j=z(me," fill:"),F=z(me,i[1]),q=z(me,`;
                  `),rt&&rt.l(me),L=z(me,`
                  class `),P=z(me,D),Q=z(me," RootArtifactNode; style "),oe=z(me,H),re=z(me," fill:"),te=z(me,i[2]),$=z(me,`;
                  click `),de=z(me,W),J=z(me,` href "javascript:da_to_sensor_callback('`),it=z(me,pe),tt=z(me,`')"; click `),He=z(me,Fe),Ce=z(me,' href "'),Ge=z(me,De),gt=z(me,'";')},m(me,Be){R(me,t,Be),R(me,r,Be),R(me,s,Be),R(me,a,Be),R(me,u,Be),R(me,f,Be),R(me,_,Be),R(me,p,Be),R(me,v,Be),R(me,m,Be),R(me,A,Be),R(me,U,Be),R(me,O,Be),R(me,y,Be),R(me,T,Be),R(me,j,Be),R(me,F,Be),R(me,q,Be),rt&&rt.m(me,Be),R(me,L,Be),R(me,P,Be),R(me,Q,Be),R(me,oe,Be),R(me,re,Be),R(me,te,Be),R(me,$,Be),R(me,de,Be),R(me,J,Be),R(me,it,Be),R(me,tt,Be),R(me,He,Be),R(me,Ce,Be),R(me,Ge,Be),R(me,gt,Be)},p(me,Be){Be[0]&160&&e!==(e=me[32]["@id"]+"")&&Se(t,e),Be[0]&160&&n!==(n=me[32]["rdfs:label"][0]+"")&&Se(s,n),Be[0]&160&&h!==(h=Ze(me[26]["@id"])+"")&&Se(_,h),Be[0]&160&&d!==(d=me[29]["@id"]+"")&&Se(v,d),Be[0]&160&&b!==(b=me[7].i(me[29]["@id"])["rdfs:label"][0]+"")&&Se(A,b),Be[0]&160&&I!==(I=me[32]["@id"]+"")&&Se(O,I),Be[0]&160&&N!==(N=me[32]["@id"]+"")&&Se(T,N),Be[0]&2&&Se(F,me[1]),Be[0]&416&&(k=me[8].includes(me[32]["@id"])),k?rt?rt.p(me,Be):(rt=Hv(me),rt.c(),rt.m(L.parentNode,L)):rt&&(rt.d(1),rt=null),Be[0]&160&&D!==(D=me[29]["@id"]+"")&&Se(P,D),Be[0]&160&&H!==(H=me[29]["@id"]+"")&&Se(oe,H),Be[0]&4&&Se(te,me[2]),Be[0]&160&&W!==(W=me[32]["@id"]+"")&&Se(de,W),Be[0]&160&&pe!==(pe=me[32]["@id"]+"")&&Se(it,pe),Be[0]&160&&Fe!==(Fe=me[29]["@id"]+"")&&Se(He,Fe),Be[0]&168&&De!==(De=me[3](me[29])+"")&&Se(Ge,De)},d(me){me&&(w(t),w(r),w(s),w(a),w(u),w(f),w(_),w(p),w(v),w(m),w(A),w(U),w(O),w(y),w(T),w(j),w(F),w(q),w(L),w(P),w(Q),w(oe),w(re),w(te),w($),w(de),w(J),w(it),w(tt),w(He),w(Ce),w(Ge),w(gt)),rt&&rt.d(me)}}}function zv(i){let e,t=lt(i[32][i[26]["@id"]]),r=[];for(let n=0;n<t.length;n+=1)r[n]=Vv(qv(i,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ze()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=ze()},m(n,s){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(n,s);R(n,e,s)},p(n,s){if(s[0]&430){t=lt(n[32][n[26]["@id"]]);let a;for(a=0;a<t.length;a+=1){const l=qv(n,t,a);r[a]?r[a].p(l,s):(r[a]=Vv(l),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(n){n&&w(e),er(r,n)}}}function $v(i){let e,t=i[32]["d3f:outbound"]&&xv(i);return{c(){t&&t.c(),e=ze()},l(r){t&&t.l(r),e=ze()},m(r,n){t&&t.m(r,n),R(r,e,n)},p(r,n){r[32]["d3f:outbound"]?t?t.p(r,n):(t=xv(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){r&&w(e),t&&t.d(r)}}}function Gv(i){let e,t=lt(i[7].i(i[5].description["@id"])["d3f:outbound"]),r=[];for(let n=0;n<t.length;n+=1)r[n]=Wv(Lv(i,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ze()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=ze()},m(n,s){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(n,s);R(n,e,s)},p(n,s){if(s[0]&184){t=lt(n[7].i(n[5].description["@id"])["d3f:outbound"]);let a;for(a=0;a<t.length;a+=1){const l=Lv(n,t,a);r[a]?r[a].p(l,s):(r[a]=Wv(l),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(n){n&&w(e),er(r,n)}}}function Xv(i){let e=i[5].description["@id"]+"",t,r,n=i[7].i(i[5].description["@id"])["rdfs:label"][0]+"",s,a,l="-->",u,f,h=Ze(i[26]["@id"])+"",_,p,d=i[29]["@id"]+"",v,m,b=i[7].graph[i[7].index[i[29]["@id"]]]["rdfs:label"][0]+"",A,U,I=i[5].description["@id"]+"",O,y,N=i[29]["@id"]+"",T,j,F=i[5].description["@id"]+"",q,k,L=i[3](i[5].description["@id"])+"",D,P,Q=i[29]["@id"]+"",H,oe,re=i[4](i[29])+"",te,$;return{c(){t=V(e),r=V('["'),s=V(n),a=V('"] '),u=V(l),f=V(" | "),_=V(h),p=V(" | "),v=V(d),m=V('["'),A=V(b),U=V('"]; class '),O=V(I),y=V(" RootArtifactNode; class "),T=V(N),j=V(` ArtifactNode;
                click `),q=V(F),k=V(' href "'),D=V(L),P=V('"; click '),H=V(Q),oe=V(' href "'),te=V(re),$=V('";')},l(W){t=z(W,e),r=z(W,'["'),s=z(W,n),a=z(W,'"] '),u=z(W,l),f=z(W," | "),_=z(W,h),p=z(W," | "),v=z(W,d),m=z(W,'["'),A=z(W,b),U=z(W,'"]; class '),O=z(W,I),y=z(W," RootArtifactNode; class "),T=z(W,N),j=z(W,` ArtifactNode;
                click `),q=z(W,F),k=z(W,' href "'),D=z(W,L),P=z(W,'"; click '),H=z(W,Q),oe=z(W,' href "'),te=z(W,re),$=z(W,'";')},m(W,de){R(W,t,de),R(W,r,de),R(W,s,de),R(W,a,de),R(W,u,de),R(W,f,de),R(W,_,de),R(W,p,de),R(W,v,de),R(W,m,de),R(W,A,de),R(W,U,de),R(W,O,de),R(W,y,de),R(W,T,de),R(W,j,de),R(W,q,de),R(W,k,de),R(W,D,de),R(W,P,de),R(W,H,de),R(W,oe,de),R(W,te,de),R(W,$,de)},p(W,de){de[0]&32&&e!==(e=W[5].description["@id"]+"")&&Se(t,e),de[0]&160&&n!==(n=W[7].i(W[5].description["@id"])["rdfs:label"][0]+"")&&Se(s,n),de[0]&160&&h!==(h=Ze(W[26]["@id"])+"")&&Se(_,h),de[0]&160&&d!==(d=W[29]["@id"]+"")&&Se(v,d),de[0]&160&&b!==(b=W[7].graph[W[7].index[W[29]["@id"]]]["rdfs:label"][0]+"")&&Se(A,b),de[0]&32&&I!==(I=W[5].description["@id"]+"")&&Se(O,I),de[0]&160&&N!==(N=W[29]["@id"]+"")&&Se(T,N),de[0]&32&&F!==(F=W[5].description["@id"]+"")&&Se(q,F),de[0]&40&&L!==(L=W[3](W[5].description["@id"])+"")&&Se(D,L),de[0]&160&&Q!==(Q=W[29]["@id"]+"")&&Se(H,Q),de[0]&176&&re!==(re=W[4](W[29])+"")&&Se(te,re)},d(W){W&&(w(t),w(r),w(s),w(a),w(u),w(f),w(_),w(p),w(v),w(m),w(A),w(U),w(O),w(y),w(T),w(j),w(q),w(k),w(D),w(P),w(H),w(oe),w(te),w($))}}}function Wv(i){let e,t=lt(i[7].i(i[5].description["@id"])[i[26]["@id"]]),r=[];for(let n=0;n<t.length;n+=1)r[n]=Xv(Bv(i,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ze()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=ze()},m(n,s){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(n,s);R(n,e,s)},p(n,s){if(s[0]&184){t=lt(n[7].i(n[5].description["@id"])[n[26]["@id"]]);let a;for(a=0;a<t.length;a+=1){const l=Bv(n,t,a);r[a]?r[a].p(l,s):(r[a]=Xv(l),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(n){n&&w(e),er(r,n)}}}function BI(i){let e,t,r=i[7].i(i[5].description["@id"])&&i[7].i(i[5].description["@id"])["d3f:outbound"],n,s=lt(i[7].graph.filter(i[18])),a=[];for(let u=0;u<s.length;u+=1)a[u]=$v(Uv(i,s,u));let l=r&&Gv(i);return{c(){e=V(`graph LR;
          `);for(let u=0;u<a.length;u+=1)a[u].c();t=ve(),l&&l.c(),n=ze()},l(u){e=z(u,`graph LR;
          `);for(let f=0;f<a.length;f+=1)a[f].l(u);t=ge(u),l&&l.l(u),n=ze()},m(u,f){R(u,e,f);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(u,f);R(u,t,f),l&&l.m(u,f),R(u,n,f)},p(u,f){if(f[0]&430){s=lt(u[7].graph.filter(u[18]));let h;for(h=0;h<s.length;h+=1){const _=Uv(u,s,h);a[h]?a[h].p(_,f):(a[h]=$v(_),a[h].c(),a[h].m(t.parentNode,t))}for(;h<a.length;h+=1)a[h].d(1);a.length=s.length}f[0]&160&&(r=u[7].i(u[5].description["@id"])&&u[7].i(u[5].description["@id"])["d3f:outbound"]),r?l?l.p(u,f):(l=Gv(u),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(u){u&&(w(e),w(t),w(n)),er(a,u),l&&l.d(u)}}}function UI(i){let e,t,r,n,s,a,l,u,f,h,_,p,d,v=i[8].length+"",m,b,A,U,I;const O=i[16].header,y=Or(O,i,i[22],jv),N=i[16].default,T=Or(N,i,i[22],null),j=[LI,OI,FI],F=[];function q(k,L){return k[5]?k[7].graph.length>0?1:2:0}return l=q(i),u=F[l]=j[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),r=V(`
      Select Sensors
      `),T&&T.c(),n=ve(),s=ae("hr"),a=ve(),u.c(),f=ve(),h=ae("hr"),_=ve(),p=ae("button"),d=V("Insert ("),m=V(v),b=V(")"),this.h()},l(k){e=se(k,"DIALOG",{class:!0});var L=Me(e);t=se(L,"DIV",{class:!0});var D=Me(t);y&&y.l(D),r=z(D,`
      Select Sensors
      `),T&&T.l(D),n=ge(D),s=se(D,"HR",{}),a=ge(D),u.l(D),f=ge(D),h=se(D,"HR",{}),_=ge(D),p=se(D,"BUTTON",{class:!0});var P=Me(p);d=z(P,"Insert ("),m=z(P,v),b=z(P,")"),P.forEach(w),D.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,fe(p,"class","svelte-akhii9"),fe(t,"class","svelte-akhii9"),fe(e,"class","svelte-akhii9")},m(k,L){R(k,e,L),G(e,t),y&&y.m(t,null),G(t,r),T&&T.m(t,null),G(t,n),G(t,s),G(t,a),F[l].m(t,null),G(t,f),G(t,h),G(t,_),G(t,p),G(p,d),G(p,m),G(p,b),i[19](e),A=!0,p.focus(),U||(I=[Pe(p,"click",i[11]),Pe(t,"click",jr(i[17])),Pe(e,"close",i[20]),Pe(e,"click",ba(i[21]))],U=!0)},p(k,L){y&&y.p&&(!A||L[0]&4194304)&&Lr(y,O,k,k[22],A?Ur(O,k[22],L,PI):Br(k[22]),jv),T&&T.p&&(!A||L[0]&4194304)&&Lr(T,N,k,k[22],A?Ur(N,k[22],L,null):Br(k[22]),null);let D=l;l=q(k),l===D?F[l].p(k,L):(It(),be(F[D],1,1,()=>{F[D]=null}),Rt(),u=F[l],u?u.p(k,L):(u=F[l]=j[l](k),u.c()),he(u,1),u.m(t,f)),(!A||L[0]&256)&&v!==(v=k[8].length+"")&&Se(m,v)},i(k){A||(he(y,k),he(T,k),he(u),A=!0)},o(k){be(y,k),be(T,k),be(u),A=!1},d(k){k&&w(e),y&&y.d(k),T&&T.d(k),F[l].d(),i[19](null),U=!1,zt(I)}}}function MI(i,e,t){let r,n,s,{$$slots:a={},$$scope:l}=e,{outbound_color:u="#fff4dd"}=e,{inbound_color:f="#fff4dd"}=e,{root_color:h="#fff4dd"}=e,{link_function:_=D=>`/dao/artifact/${D["@id"]}`}=e,{inbound_link_function:p=_}=e,{root_link_function:d=D=>`/dao/artifact/${D["@id"]}`}=e,{outbound_link_function:v=_}=e,{show_sensor_modal:m}=e,{parent_node:b}=e,{data:A}=e,U;const I=Li();At(i,I,D=>t(24,s=D));const O=Bi();At(i,O,D=>t(23,n=D));let y;function N(D){r.includes(D)?t(8,r=r.filter(P=>P!==D)):r.push(D),t(8,r),t(8,r)}window.da_to_sensor_callback=function(D){N(D)};function T(){let D=0,P=200,Q=100;for(const H of r){let oe=A.sensors["@graph"].find(re=>re["@id"]==H);oe&&(ka(I,O,b,"artifactSelectorNode",oe["rdfs:label"],oe["@id"],b.data.sequence,b.position.x+D*P,b.position.y+Q,182,63,oe["d3f:outbound"][0]["@id"].replace("d3f:",""),!1),D+=1)}I.set(s),O.set(n),U&&U.close(),t(8,r=[])}function j(D){ni.call(this,i,D)}const F=D=>D["@id"]!=A.description["@id"];function q(D){Fr[D?"unshift":"push"](()=>{U=D,t(6,U)})}const k=()=>t(0,m=!1),L=()=>{U.close(),t(8,r=[])};return i.$$set=D=>{"outbound_color"in D&&t(12,u=D.outbound_color),"inbound_color"in D&&t(1,f=D.inbound_color),"root_color"in D&&t(2,h=D.root_color),"link_function"in D&&t(13,_=D.link_function),"inbound_link_function"in D&&t(14,p=D.inbound_link_function),"root_link_function"in D&&t(3,d=D.root_link_function),"outbound_link_function"in D&&t(4,v=D.outbound_link_function),"show_sensor_modal"in D&&t(0,m=D.show_sensor_modal),"parent_node"in D&&t(15,b=D.parent_node),"data"in D&&t(5,A=D.data),"$$scope"in D&&t(22,l=D.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&65&&m&&U&&U.showModal(),i.$$.dirty[0]&65&&!m&&U&&U.close(),i.$$.dirty[0]&32&&A&&A.sensors&&t(7,y=new Jh(A.sensors,{index:!0}))},t(8,r=[]),[m,f,h,d,v,A,U,y,r,I,O,T,u,_,p,b,a,j,F,q,k,L,l]}class qI extends Xt{constructor(e){super(),Wt(this,e,MI,UI,kt,{outbound_color:12,inbound_color:1,root_color:2,link_function:13,inbound_link_function:14,root_link_function:3,outbound_link_function:4,show_sensor_modal:0,parent_node:15,data:5},null,[-1,-1])}}function jI(i){let e,t="attack the node",r,n,s,a,l,u="defend the node",f,h,_,p,d,v="add weaknesses",m,b,A,U,I,O="add sensors",y,N,T,j,F,q="explode parts",k,L,D="explode control",P,Q,H,oe,re,te;function $(De){i[11](De)}let W={parent_node:i[0],data:i[1]};i[7]!==void 0&&(W.show_attack_modal=i[7]),n=new aI({props:W}),Fr.push(()=>En(n,"show_attack_modal",$));function de(De){i[13](De)}let J={parent_node:i[0],data:i[1]};i[6]!==void 0&&(J.show_defend_modal=i[6]),h=new _I({props:J}),Fr.push(()=>En(h,"show_defend_modal",de));function pe(De){i[15](De)}let it={parent_node:i[0],inbound_color:"#f9d999",inbound_link_function:i[9],data:i[1]};i[5]!==void 0&&(it.show_weakness_modal=i[5]),b=new DI({props:it}),Fr.push(()=>En(b,"show_weakness_modal",pe));function tt(De){i[17](De)}let Fe={parent_node:i[0],inbound_color:"#f9d999",data:i[1]};i[3]!==void 0&&(Fe.show_sensor_modal=i[3]),N=new qI({props:Fe}),Fr.push(()=>En(N,"show_sensor_modal",tt));function He(De){i[20](De)}let Ce={neighbor_filter_labels:i[2],parent_node:i[0],empty_message:"has no related parts in this release.",inbound_color:"#f9d999",inbound_link_function:i[9],data:i[1]};return i[4]!==void 0&&(Ce.show_neighbors_modal=i[4]),Q=new RI({props:Ce}),Fr.push(()=>En(Q,"show_neighbors_modal",He)),{c(){e=ae("button"),e.textContent=t,r=ve(),Qe(n.$$.fragment),a=ve(),l=ae("button"),l.textContent=u,f=ve(),Qe(h.$$.fragment),p=ve(),d=ae("button"),d.textContent=v,m=ve(),Qe(b.$$.fragment),U=ve(),I=ae("button"),I.textContent=O,y=ve(),Qe(N.$$.fragment),j=ve(),F=ae("button"),F.textContent=q,k=ve(),L=ae("button"),L.textContent=D,P=ve(),Qe(Q.$$.fragment),this.h()},l(De){e=se(De,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(e)!=="svelte-1dkmztx"&&(e.textContent=t),r=ge(De),Ye(n.$$.fragment,De),a=ge(De),l=se(De,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(l)!=="svelte-22hxkb"&&(l.textContent=u),f=ge(De),Ye(h.$$.fragment,De),p=ge(De),d=se(De,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(d)!=="svelte-urtcr7"&&(d.textContent=v),m=ge(De),Ye(b.$$.fragment,De),U=ge(De),I=se(De,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(I)!=="svelte-1xhii68"&&(I.textContent=O),y=ge(De),Ye(N.$$.fragment,De),j=ge(De),F=se(De,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(F)!=="svelte-1hluius"&&(F.textContent=q),k=ge(De),L=se(De,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(L)!=="svelte-183zqvn"&&(L.textContent=D),P=ge(De),Ye(Q.$$.fragment,De),this.h()},h(){fe(e,"class","svelte-5he3i1"),fe(l,"class","svelte-5he3i1"),fe(d,"class","svelte-5he3i1"),fe(I,"class","svelte-5he3i1"),fe(F,"class","svelte-5he3i1"),fe(L,"class","svelte-5he3i1")},m(De,Ge){R(De,e,Ge),R(De,r,Ge),Ke(n,De,Ge),R(De,a,Ge),R(De,l,Ge),R(De,f,Ge),Ke(h,De,Ge),R(De,p,Ge),R(De,d,Ge),R(De,m,Ge),Ke(b,De,Ge),R(De,U,Ge),R(De,I,Ge),R(De,y,Ge),Ke(N,De,Ge),R(De,j,Ge),R(De,F,Ge),R(De,k,Ge),R(De,L,Ge),R(De,P,Ge),Ke(Q,De,Ge),oe=!0,re||(te=[Pe(e,"click",i[10]),Pe(l,"click",i[12]),Pe(d,"click",i[14]),Pe(I,"click",i[16]),Pe(F,"click",i[18]),Pe(L,"click",i[19])],re=!0)},p(De,[Ge]){const gt={};Ge&1&&(gt.parent_node=De[0]),Ge&2&&(gt.data=De[1]),!s&&Ge&128&&(s=!0,gt.show_attack_modal=De[7],yn(()=>s=!1)),n.$set(gt);const rt={};Ge&1&&(rt.parent_node=De[0]),Ge&2&&(rt.data=De[1]),!_&&Ge&64&&(_=!0,rt.show_defend_modal=De[6],yn(()=>_=!1)),h.$set(rt);const me={};Ge&1&&(me.parent_node=De[0]),Ge&2&&(me.data=De[1]),!A&&Ge&32&&(A=!0,me.show_weakness_modal=De[5],yn(()=>A=!1)),b.$set(me);const Be={};Ge&1&&(Be.parent_node=De[0]),Ge&2&&(Be.data=De[1]),!T&&Ge&8&&(T=!0,Be.show_sensor_modal=De[3],yn(()=>T=!1)),N.$set(Be);const Vt={};Ge&4&&(Vt.neighbor_filter_labels=De[2]),Ge&1&&(Vt.parent_node=De[0]),Ge&2&&(Vt.data=De[1]),!H&&Ge&16&&(H=!0,Vt.show_neighbors_modal=De[4],yn(()=>H=!1)),Q.$set(Vt)},i(De){oe||(he(n.$$.fragment,De),he(h.$$.fragment,De),he(b.$$.fragment,De),he(N.$$.fragment,De),he(Q.$$.fragment,De),oe=!0)},o(De){be(n.$$.fragment,De),be(h.$$.fragment,De),be(b.$$.fragment,De),be(N.$$.fragment,De),be(Q.$$.fragment,De),oe=!1},d(De){De&&(w(e),w(r),w(a),w(l),w(f),w(p),w(d),w(m),w(U),w(I),w(y),w(j),w(F),w(k),w(L),w(P)),Je(n,De),Je(h,De),Je(b,De),Je(N,De),Je(Q,De),re=!1,zt(te)}}}function xI(i,e,t){let r,n,s,a,l;var u=this&&this.__awaiter||function(q,k,L,D){function P(Q){return Q instanceof L?Q:new L(function(H){H(Q)})}return new(L||(L=Promise))(function(Q,H){function oe($){try{te(D.next($))}catch(W){H(W)}}function re($){try{te(D.throw($))}catch(W){H(W)}}function te($){$.done?Q($.value):P($.value).then(oe,re)}te((D=D.apply(q,k||[])).next())})};let{node:f}=e,h,_=[];function p(q){alert(q),t(7,r=!1),t(6,n=!1),t(5,s=!1),t(4,a=!1),t(3,l=!1)}function d(q){return u(this,void 0,void 0,function*(){if(q.data.d3f_class&&q.data.d3f_class.includes("d3f:")){const k=q.data.d3f_class,L=yield fetch(`/api/dao/artifact/${k}.json`),D=yield L.json();if(L.status!=200||D.description["@graph"].length==0)p(`D3FEND Artifact: "${k.replace("d3f:","")}" not found in ontology`);else return D}else p("Please specify a D3FEND Class for this node to enable inferential mapping")})}function v(q){return CA(q["d3f:cwe-id"][0])}const m=async()=>{t(1,h=null),t(7,r=!0),t(1,h=await d(f))};function b(q){r=q,t(7,r)}const A=async()=>{t(1,h=null),t(6,n=!0),t(1,h=await d(f))};function U(q){n=q,t(6,n)}const I=async()=>{t(1,h=null),t(5,s=!0),t(1,h=await d(f))};function O(q){s=q,t(5,s)}const y=async()=>{t(1,h=null),t(3,l=!0),t(1,h=await d(f))};function N(q){l=q,t(3,l)}const T=async()=>{t(1,h=null),t(4,a=!0),t(2,_=["d3f:contains","d3f:may-contains"]),t(1,h=await d(f))},j=async()=>{t(1,h=null),t(4,a=!0),t(2,_=["d3f:runs","d3f:loads","d3f:manages"]),t(1,h=await d(f))};function F(q){a=q,t(4,a)}return i.$$set=q=>{"node"in q&&t(0,f=q.node)},t(7,r=!1),t(6,n=!1),t(5,s=!1),t(4,a=!1),t(3,l=!1),[f,h,_,l,a,s,n,r,d,v,m,b,A,U,I,O,y,N,T,j,F]}class HI extends Xt{constructor(e){super(),Wt(this,e,xI,jI,kt,{node:0})}}function Qv(i,e,t){const r=i.slice();return r[18]=e[t],r[20]=t,r}const VI=i=>({}),Yv=i=>({});function zI(i){let e;return{c(){e=V("No related defensive techniques in this release.")},l(t){e=z(t,"No related defensive techniques in this release.")},m(t,r){R(t,e,r)},p:at,i:at,o:at,d(t){t&&w(e)}}}function $I(i){let e,t;return e=new wa({props:{$$slots:{default:[QI]},$$scope:{ctx:i}}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n&16406&&(s.$$scope={dirty:n,ctx:r}),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function GI(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(r){e=se(r,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(r,n){R(r,e,n)},p:at,i:at,o:at,d(r){r&&w(e)}}}function XI(i){let e,t=Ze(i[18].def_artifact.value)+"",r,n;return{c(){e=V("class "),r=V(t),n=V(" ArtifactNode;")},l(s){e=z(s,"class "),r=z(s,t),n=z(s," ArtifactNode;")},m(s,a){R(s,e,a),R(s,r,a),R(s,n,a)},p(s,a){a&4&&t!==(t=Ze(s[18].def_artifact.value)+"")&&Se(r,t)},d(s){s&&(w(e),w(r),w(n))}}}function WI(i){let e,t=Ze(i[18].def_artifact.value)+"",r,n;return{c(){e=V("class "),r=V(t),n=V(" SelectedArtifactNode;")},l(s){e=z(s,"class "),r=z(s,t),n=z(s," SelectedArtifactNode;")},m(s,a){R(s,e,a),R(s,r,a),R(s,n,a)},p(s,a){a&4&&t!==(t=Ze(s[18].def_artifact.value)+"")&&Se(r,t)},d(s){s&&(w(e),w(r),w(n))}}}function Kv(i){let e=i[1].data.d3f_class+"",t,r,n=i[2].description["@graph"][0]["rdfs:label"]+"",s,a,l="-->",u,f,h=i[18].def_artifact_rel_label.value+"",_,p,d=Ze(i[18].def_artifact.value)+"",v,m,b=i[18].def_artifact_label.value+"",A,U,I=i[1].data.d3f_class+"",O,y,N,T,j=Ze(i[18].def_artifact.value)+"",F,q,k=Ze(i[18].def_artifact.value)+"",L,D,P=`
`,Q;function H(te,$){return $&20&&(N=null),N==null&&(N=!!te[4].includes(Ze(te[18].def_artifact.value))),N?WI:XI}let oe=H(i,-1),re=oe(i);return{c(){t=V(e),r=V('["'),s=V(n),a=V('"] '),u=V(l),f=V(' |"'),_=V(h),p=V('" | '),v=V(d),m=V('["'),A=V(b),U=V(`"];
          class `),O=V(I),y=V(` DefensiveTechniqueNode;
          `),re.c(),T=V(`
          click `),F=V(j),q=V(` href "javascript:def_to_art_callback('`),L=V(k),D=V(`')";`),Q=V(P)},l(te){t=z(te,e),r=z(te,'["'),s=z(te,n),a=z(te,'"] '),u=z(te,l),f=z(te,' |"'),_=z(te,h),p=z(te,'" | '),v=z(te,d),m=z(te,'["'),A=z(te,b),U=z(te,`"];
          class `),O=z(te,I),y=z(te,` DefensiveTechniqueNode;
          `),re.l(te),T=z(te,`
          click `),F=z(te,j),q=z(te,` href "javascript:def_to_art_callback('`),L=z(te,k),D=z(te,`')";`),Q=z(te,P)},m(te,$){R(te,t,$),R(te,r,$),R(te,s,$),R(te,a,$),R(te,u,$),R(te,f,$),R(te,_,$),R(te,p,$),R(te,v,$),R(te,m,$),R(te,A,$),R(te,U,$),R(te,O,$),R(te,y,$),re.m(te,$),R(te,T,$),R(te,F,$),R(te,q,$),R(te,L,$),R(te,D,$),R(te,Q,$)},p(te,$){$&2&&e!==(e=te[1].data.d3f_class+"")&&Se(t,e),$&4&&n!==(n=te[2].description["@graph"][0]["rdfs:label"]+"")&&Se(s,n),$&4&&h!==(h=te[18].def_artifact_rel_label.value+"")&&Se(_,h),$&4&&d!==(d=Ze(te[18].def_artifact.value)+"")&&Se(v,d),$&4&&b!==(b=te[18].def_artifact_label.value+"")&&Se(A,b),$&2&&I!==(I=te[1].data.d3f_class+"")&&Se(O,I),oe===(oe=H(te,$))&&re?re.p(te,$):(re.d(1),re=oe(te),re&&(re.c(),re.m(T.parentNode,T))),$&4&&j!==(j=Ze(te[18].def_artifact.value)+"")&&Se(F,j),$&4&&k!==(k=Ze(te[18].def_artifact.value)+"")&&Se(L,k)},d(te){te&&(w(t),w(r),w(s),w(a),w(u),w(f),w(_),w(p),w(v),w(m),w(A),w(U),w(O),w(y),w(T),w(F),w(q),w(L),w(D),w(Q)),re.d(te)}}}function QI(i){let e,t,r=lt(i[2].digital_artifacts.results.bindings),n=[];for(let s=0;s<r.length;s+=1)n[s]=Kv(Qv(i,r,s));return{c(){e=V(`graph LR
        `);for(let s=0;s<n.length;s+=1)n[s].c();t=ze()},l(s){e=z(s,`graph LR
        `);for(let a=0;a<n.length;a+=1)n[a].l(s);t=ze()},m(s,a){R(s,e,a);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(s,a);R(s,t,a)},p(s,a){if(a&22){r=lt(s[2].digital_artifacts.results.bindings);let l;for(l=0;l<r.length;l+=1){const u=Qv(s,r,l);n[l]?n[l].p(u,a):(n[l]=Kv(u),n[l].c(),n[l].m(t.parentNode,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=r.length}},d(s){s&&(w(e),w(t)),er(n,s)}}}function YI(i){let e,t,r,n,s,a,l,u,f,h,_,p,d,v=i[4].length+"",m,b,A,U,I;const O=i[9].header,y=Or(O,i,i[14],Yv),N=i[9].default,T=Or(N,i,i[14],null),j=[GI,$I,zI],F=[];function q(k,L){return k[2]?k[2].digital_artifacts.results.bindings.length>0?1:2:0}return l=q(i),u=F[l]=j[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),r=V(`
    Select Related Artifacts To Insert
    `),T&&T.c(),n=ve(),s=ae("hr"),a=ve(),u.c(),f=ve(),h=ae("hr"),_=ve(),p=ae("button"),d=V("Insert ("),m=V(v),b=V(")"),this.h()},l(k){e=se(k,"DIALOG",{class:!0});var L=Me(e);t=se(L,"DIV",{class:!0});var D=Me(t);y&&y.l(D),r=z(D,`
    Select Related Artifacts To Insert
    `),T&&T.l(D),n=ge(D),s=se(D,"HR",{}),a=ge(D),u.l(D),f=ge(D),h=se(D,"HR",{}),_=ge(D),p=se(D,"BUTTON",{class:!0});var P=Me(p);d=z(P,"Insert ("),m=z(P,v),b=z(P,")"),P.forEach(w),D.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,fe(p,"class","svelte-x0618k"),fe(t,"class","svelte-x0618k"),fe(e,"class","svelte-x0618k")},m(k,L){R(k,e,L),G(e,t),y&&y.m(t,null),G(t,r),T&&T.m(t,null),G(t,n),G(t,s),G(t,a),F[l].m(t,null),G(t,f),G(t,h),G(t,_),G(t,p),G(p,d),G(p,m),G(p,b),i[11](e),A=!0,p.focus(),U||(I=[Pe(p,"click",i[7]),Pe(t,"click",jr(i[10])),Pe(e,"close",i[12]),Pe(e,"click",ba(i[13]))],U=!0)},p(k,[L]){y&&y.p&&(!A||L&16384)&&Lr(y,O,k,k[14],A?Ur(O,k[14],L,VI):Br(k[14]),Yv),T&&T.p&&(!A||L&16384)&&Lr(T,N,k,k[14],A?Ur(N,k[14],L,null):Br(k[14]),null);let D=l;l=q(k),l===D?F[l].p(k,L):(It(),be(F[D],1,1,()=>{F[D]=null}),Rt(),u=F[l],u?u.p(k,L):(u=F[l]=j[l](k),u.c()),he(u,1),u.m(t,f)),(!A||L&16)&&v!==(v=k[4].length+"")&&Se(m,v)},i(k){A||(he(y,k),he(T,k),he(u),A=!0)},o(k){be(y,k),be(T,k),be(u),A=!1},d(k){k&&w(e),y&&y.d(k),T&&T.d(k),F[l].d(),i[11](null),U=!1,zt(I)}}}function KI(i,e,t){let r,n,s,{$$slots:a={},$$scope:l}=e,{show_artifacts_modal:u}=e,{parent_node:f}=e,{data:h}=e,_;const p=Li();At(i,p,y=>t(16,s=y));const d=Bi();At(i,d,y=>t(15,n=y));let v=new Xa;function m(y){r.includes(y)?t(4,r=r.filter(N=>N!==y)):r.push(y),t(4,r)}window.def_to_art_callback=function(y){m(y)};function b(){let y=0,N=200,T=100;for(const j of r){let F=h.digital_artifacts.results.bindings.find(q=>Ze(q.def_artifact.value)==j);F&&(ka(p,d,f,"artifactSelectorNode",F.def_artifact_label.value,"d3f:"+Ze(F.def_artifact.value),f.data.sequence,f.position.x+y*N,f.position.y+T,182,82,F.def_artifact_rel_label.value,!0),y+=1)}p.set(s),d.set(n),_&&_.close(),t(4,r=[])}function A(y){ni.call(this,i,y)}function U(y){Fr[y?"unshift":"push"](()=>{_=y,t(3,_)})}const I=()=>t(0,u=!1),O=()=>{_.close(),t(4,r=[])};return i.$$set=y=>{"show_artifacts_modal"in y&&t(0,u=y.show_artifacts_modal),"parent_node"in y&&t(1,f=y.parent_node),"data"in y&&t(2,h=y.data),"$$scope"in y&&t(14,l=y.$$scope)},i.$$.update=()=>{i.$$.dirty&9&&u&&_&&(_.showModal(),t(8,v=new Xa)),i.$$.dirty&265&&!u&&_&&(_.close(),v.reset())},t(4,r=[]),[u,f,h,_,r,p,d,b,v,a,A,U,I,O,l]}class JI extends Xt{constructor(e){super(),Wt(this,e,KI,YI,kt,{show_artifacts_modal:0,parent_node:1,data:2})}}function Jv(i,e,t){const r=i.slice();return r[18]=e[t],r}const ZI=i=>({}),Zv=i=>({});function e4(i){let e;return{c(){e=V("No related offensive techniques in this release.")},l(t){e=z(t,"No related offensive techniques in this release.")},m(t,r){R(t,e,r)},p:at,i:at,o:at,d(t){t&&w(e)}}}function t4(i){let e,t;return e=new wa({props:{$$slots:{default:[a4]},$$scope:{ctx:i}}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n&16394&&(s.$$scope={dirty:n,ctx:r}),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function r4(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(r){e=se(r,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(r,n){R(r,e,n)},p:at,i:at,o:at,d(r){r&&w(e)}}}function eg(i){let e=Ze(i[18].def_tech.value).replace(/ |\./g,"")+"",t,r,n=i[18].def_tech_label.value+"",s,a,l="-->",u,f,h="May "+i[18].def_tactic_label.value.replace(/ /g,""),_,p,d=i[18].off_tech_id.value.replace(/ |\./g,"")+"",v,m,b=i[18].off_tech_label.value+"",A,U,I,O,y=Ze(i[18].def_tech.value)+"",N,T,j=i[18].off_tech_id.value.replace(/ |\./g,"")+"",F,q,k=i[18].off_tech_id.value.replace(/ |\./g,"")+"",L,D,P=Ze(i[18].def_tech.value)+"",Q,H,oe=Ze(i[18].def_tech.value)+"",re,te;function $(J,pe){return pe&10&&(I=null),I==null&&(I=!!J[3].includes(J[18].off_tech_id.value.replace(/ |\./g,""))),I?i4:n4}let W=$(i,-1),de=W(i);return{c(){t=V(e),r=V('["'),s=V(n),a=V('"] '),u=V(l),f=V(" | "),_=V(h),p=V("| "),v=V(d),m=V('["'),A=V(b),U=V(`"];
            `),de.c(),O=V(`
            class `),N=V(y),T=V(" CountermeasureNode; click "),F=V(j),q=V(` href "javascript:def_to_off_callback('`),L=V(k),D=V(`')"; click `),Q=V(P),H=V(' href "/technique/d3f:'),re=V(oe),te=V('";')},l(J){t=z(J,e),r=z(J,'["'),s=z(J,n),a=z(J,'"] '),u=z(J,l),f=z(J," | "),_=z(J,h),p=z(J,"| "),v=z(J,d),m=z(J,'["'),A=z(J,b),U=z(J,`"];
            `),de.l(J),O=z(J,`
            class `),N=z(J,y),T=z(J," CountermeasureNode; click "),F=z(J,j),q=z(J,` href "javascript:def_to_off_callback('`),L=z(J,k),D=z(J,`')"; click `),Q=z(J,P),H=z(J,' href "/technique/d3f:'),re=z(J,oe),te=z(J,'";')},m(J,pe){R(J,t,pe),R(J,r,pe),R(J,s,pe),R(J,a,pe),R(J,u,pe),R(J,f,pe),R(J,_,pe),R(J,p,pe),R(J,v,pe),R(J,m,pe),R(J,A,pe),R(J,U,pe),de.m(J,pe),R(J,O,pe),R(J,N,pe),R(J,T,pe),R(J,F,pe),R(J,q,pe),R(J,L,pe),R(J,D,pe),R(J,Q,pe),R(J,H,pe),R(J,re,pe),R(J,te,pe)},p(J,pe){pe&2&&e!==(e=Ze(J[18].def_tech.value).replace(/ |\./g,"")+"")&&Se(t,e),pe&2&&n!==(n=J[18].def_tech_label.value+"")&&Se(s,n),pe&2&&h!==(h="May "+J[18].def_tactic_label.value.replace(/ /g,""))&&Se(_,h),pe&2&&d!==(d=J[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(v,d),pe&2&&b!==(b=J[18].off_tech_label.value+"")&&Se(A,b),W===(W=$(J,pe))&&de?de.p(J,pe):(de.d(1),de=W(J),de&&(de.c(),de.m(O.parentNode,O))),pe&2&&y!==(y=Ze(J[18].def_tech.value)+"")&&Se(N,y),pe&2&&j!==(j=J[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(F,j),pe&2&&k!==(k=J[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(L,k),pe&2&&P!==(P=Ze(J[18].def_tech.value)+"")&&Se(Q,P),pe&2&&oe!==(oe=Ze(J[18].def_tech.value)+"")&&Se(re,oe)},d(J){J&&(w(t),w(r),w(s),w(a),w(u),w(f),w(_),w(p),w(v),w(m),w(A),w(U),w(O),w(N),w(T),w(F),w(q),w(L),w(D),w(Q),w(H),w(re),w(te)),de.d(J)}}}function n4(i){let e,t=i[18].off_tech_id.value.replace(/ |\./g,"")+"",r,n;return{c(){e=V("class "),r=V(t),n=V(" OffensiveTechniqueNode;")},l(s){e=z(s,"class "),r=z(s,t),n=z(s," OffensiveTechniqueNode;")},m(s,a){R(s,e,a),R(s,r,a),R(s,n,a)},p(s,a){a&2&&t!==(t=s[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(r,t)},d(s){s&&(w(e),w(r),w(n))}}}function i4(i){let e,t=i[18].off_tech_id.value.replace(/ |\./g,"")+"",r,n;return{c(){e=V("class "),r=V(t),n=V(" SelectedOffensiveTechniqueNode;")},l(s){e=z(s,"class "),r=z(s,t),n=z(s," SelectedOffensiveTechniqueNode;")},m(s,a){R(s,e,a),R(s,r,a),R(s,n,a)},p(s,a){a&2&&t!==(t=s[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(r,t)},d(s){s&&(w(e),w(r),w(n))}}}function tg(i){let e=i[6].edge_is_unique(i[18].def_tech_label.value,i[18].off_artifact_rel_label.value,i[18].off_artifact_label.value),t,r=e&&eg(i);return{c(){r&&r.c(),t=ze()},l(n){r&&r.l(n),t=ze()},m(n,s){r&&r.m(n,s),R(n,t,s)},p(n,s){s&2&&(e=n[6].edge_is_unique(n[18].def_tech_label.value,n[18].off_artifact_rel_label.value,n[18].off_artifact_label.value)),e?r?r.p(n,s):(r=eg(n),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(n){n&&w(t),r&&r.d(n)}}}function a4(i){let e,t,r=lt(i[1].def_to_off.results.bindings),n=[];for(let s=0;s<r.length;s+=1)n[s]=tg(Jv(i,r,s));return{c(){e=V(`graph LR;
        `);for(let s=0;s<n.length;s+=1)n[s].c();t=ze()},l(s){e=z(s,`graph LR;
        `);for(let a=0;a<n.length;a+=1)n[a].l(s);t=ze()},m(s,a){R(s,e,a);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(s,a);R(s,t,a)},p(s,a){if(a&74){r=lt(s[1].def_to_off.results.bindings);let l;for(l=0;l<r.length;l+=1){const u=Jv(s,r,l);n[l]?n[l].p(u,a):(n[l]=tg(u),n[l].c(),n[l].m(t.parentNode,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=r.length}},d(s){s&&(w(e),w(t)),er(n,s)}}}function s4(i){let e,t,r,n,s,a,l,u,f,h,_,p,d,v=i[3].length+"",m,b,A,U,I;const O=i[9].header,y=Or(O,i,i[14],Zv),N=i[9].default,T=Or(N,i,i[14],null),j=[r4,t4,e4],F=[];function q(k,L){return k[1]?k[1].def_to_off.results.bindings.length>0?1:2:0}return l=q(i),u=F[l]=j[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),r=V(`
    Select Attack Techniques
    `),T&&T.c(),n=ve(),s=ae("hr"),a=ve(),u.c(),f=ve(),h=ae("hr"),_=ve(),p=ae("button"),d=V("Insert ("),m=V(v),b=V(")"),this.h()},l(k){e=se(k,"DIALOG",{class:!0});var L=Me(e);t=se(L,"DIV",{class:!0});var D=Me(t);y&&y.l(D),r=z(D,`
    Select Attack Techniques
    `),T&&T.l(D),n=ge(D),s=se(D,"HR",{}),a=ge(D),u.l(D),f=ge(D),h=se(D,"HR",{}),_=ge(D),p=se(D,"BUTTON",{class:!0});var P=Me(p);d=z(P,"Insert ("),m=z(P,v),b=z(P,")"),P.forEach(w),D.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,fe(p,"class","svelte-1ai9hff"),fe(t,"class","svelte-1ai9hff"),fe(e,"class","svelte-1ai9hff")},m(k,L){R(k,e,L),G(e,t),y&&y.m(t,null),G(t,r),T&&T.m(t,null),G(t,n),G(t,s),G(t,a),F[l].m(t,null),G(t,f),G(t,h),G(t,_),G(t,p),G(p,d),G(p,m),G(p,b),i[11](e),A=!0,p.focus(),U||(I=[Pe(p,"click",i[7]),Pe(t,"click",jr(i[10])),Pe(e,"close",i[12]),Pe(e,"click",ba(i[13]))],U=!0)},p(k,[L]){y&&y.p&&(!A||L&16384)&&Lr(y,O,k,k[14],A?Ur(O,k[14],L,ZI):Br(k[14]),Zv),T&&T.p&&(!A||L&16384)&&Lr(T,N,k,k[14],A?Ur(N,k[14],L,null):Br(k[14]),null);let D=l;l=q(k),l===D?F[l].p(k,L):(It(),be(F[D],1,1,()=>{F[D]=null}),Rt(),u=F[l],u?u.p(k,L):(u=F[l]=j[l](k),u.c()),he(u,1),u.m(t,f)),(!A||L&8)&&v!==(v=k[3].length+"")&&Se(m,v)},i(k){A||(he(y,k),he(T,k),he(u),A=!0)},o(k){be(y,k),be(T,k),be(u),A=!1},d(k){k&&w(e),y&&y.d(k),T&&T.d(k),F[l].d(),i[11](null),U=!1,zt(I)}}}function l4(i,e,t){let r,n,s,{$$slots:a={},$$scope:l}=e,{show_attack_modal:u}=e,{parent_node:f}=e,{data:h}=e,_;const p=Li();At(i,p,y=>t(16,s=y));const d=Bi();At(i,d,y=>t(15,n=y));let v=new Xa;function m(y){r.includes(y)?t(3,r=r.filter(N=>N!==y)):r.push(y),t(3,r)}window.def_to_off_callback=function(y){m(y)};function b(){let y=0,N=200,T=100;for(const j of r){let F=h.def_to_off.results.bindings.find(q=>q.off_tech_id.value.replace(/ |\./g,"")==j);F&&(ka(p,d,f,"attackSelectorNode",F.off_tech_label.value,"d3f:"+F.off_tech_id.value,f.data.sequence,f.position.x+y*N,f.position.y+T,182,63,"May "+F.def_tactic_label.value,!0),y+=1)}p.set(s),d.set(n),_&&_.close(),t(3,r=[])}function A(y){ni.call(this,i,y)}function U(y){Fr[y?"unshift":"push"](()=>{_=y,t(2,_)})}const I=()=>t(0,u=!1),O=()=>{_.close(),t(3,r=[])};return i.$$set=y=>{"show_attack_modal"in y&&t(0,u=y.show_attack_modal),"parent_node"in y&&t(8,f=y.parent_node),"data"in y&&t(1,h=y.data),"$$scope"in y&&t(14,l=y.$$scope)},i.$$.update=()=>{i.$$.dirty&5&&u&&_&&(_.showModal(),v.reset()),i.$$.dirty&5&&!u&&_&&(_.close(),v.reset())},t(3,r=[]),[u,h,_,r,p,d,v,b,f,a,A,U,I,O,l]}class o4 extends Xt{constructor(e){super(),Wt(this,e,l4,s4,kt,{show_attack_modal:0,parent_node:8,data:1})}}function u4(i){let e,t="artifacts",r,n,s,a,l,u="offensive techniques",f,h,_,p,d,v="weaknesses (coming soon)",m,b,A;function U(N){i[6](N)}let I={parent_node:i[0],data:i[1]};i[3]!==void 0&&(I.show_artifacts_modal=i[3]),n=new JI({props:I}),Fr.push(()=>En(n,"show_artifacts_modal",U));function O(N){i[8](N)}let y={parent_node:i[0],data:i[1]};return i[2]!==void 0&&(y.show_attack_modal=i[2]),h=new o4({props:y}),Fr.push(()=>En(h,"show_attack_modal",O)),{c(){e=ae("button"),e.textContent=t,r=ve(),Qe(n.$$.fragment),a=ve(),l=ae("button"),l.textContent=u,f=ve(),Qe(h.$$.fragment),p=ve(),d=ae("button"),d.textContent=v,this.h()},l(N){e=se(N,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(e)!=="svelte-isgkpy"&&(e.textContent=t),r=ge(N),Ye(n.$$.fragment,N),a=ge(N),l=se(N,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(l)!=="svelte-17h5zge"&&(l.textContent=u),f=ge(N),Ye(h.$$.fragment,N),p=ge(N),d=se(N,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(d)!=="svelte-ivhbdc"&&(d.textContent=v),this.h()},h(){fe(e,"class","svelte-1x5dcdh"),fe(l,"class","svelte-1x5dcdh"),d.disabled=!0,fe(d,"class","svelte-1x5dcdh")},m(N,T){R(N,e,T),R(N,r,T),Ke(n,N,T),R(N,a,T),R(N,l,T),R(N,f,T),Ke(h,N,T),R(N,p,T),R(N,d,T),m=!0,b||(A=[Pe(e,"click",i[5]),Pe(l,"click",i[7])],b=!0)},p(N,[T]){const j={};T&1&&(j.parent_node=N[0]),T&2&&(j.data=N[1]),!s&&T&8&&(s=!0,j.show_artifacts_modal=N[3],yn(()=>s=!1)),n.$set(j);const F={};T&1&&(F.parent_node=N[0]),T&2&&(F.data=N[1]),!_&&T&4&&(_=!0,F.show_attack_modal=N[2],yn(()=>_=!1)),h.$set(F)},i(N){m||(he(n.$$.fragment,N),he(h.$$.fragment,N),m=!0)},o(N){be(n.$$.fragment,N),be(h.$$.fragment,N),m=!1},d(N){N&&(w(e),w(r),w(a),w(l),w(f),w(p),w(d)),Je(n,N),Je(h,N),b=!1,zt(A)}}}function f4(i,e,t){let r,n;var s=this&&this.__awaiter||function(v,m,b,A){function U(I){return I instanceof b?I:new b(function(O){O(I)})}return new(b||(b=Promise))(function(I,O){function y(j){try{T(A.next(j))}catch(F){O(F)}}function N(j){try{T(A.throw(j))}catch(F){O(F)}}function T(j){j.done?I(j.value):U(j.value).then(y,N)}T((A=A.apply(v,m||[])).next())})};let{node:a}=e,l;function u(v){alert(v),t(3,r=!1),t(2,n=!1)}function f(v){return s(this,void 0,void 0,function*(){if(v.data.d3f_class&&v.data.d3f_class.includes("d3f:")){const m=v.data.d3f_class,b=yield fetch(`/api/technique/${m}.json`),A=yield b.json();if(b.status!=200||A.description["@graph"].length==0)u(`D3FEND Technique: "${m.replace("d3f:","")}" not found in ontology`);else return A}else u("Please specify a D3FEND Class for this node to enable inferential mapping")})}const h=async()=>{t(1,l=null),t(3,r=!0),t(1,l=await f(a))};function _(v){r=v,t(3,r)}const p=async()=>{t(1,l=null),t(2,n=!0),t(1,l=await f(a))};function d(v){n=v,t(2,n)}return i.$$set=v=>{"node"in v&&t(0,a=v.node)},t(3,r=!1),t(2,n=!1),[a,l,n,r,f,h,_,p,d]}class c4 extends Xt{constructor(e){super(),Wt(this,e,f4,u4,kt,{node:0})}}function rg(i,e,t){const r=i.slice();return r[18]=e[t],r}const h4=i=>({}),ng=i=>({});function d4(i){let e;return{c(){e=V("No related artifacts in this release.")},l(t){e=z(t,"No related artifacts in this release.")},m(t,r){R(t,e,r)},p:at,i:at,o:at,d(t){t&&w(e)}}}function p4(i){let e,t;return e=new wa({props:{$$slots:{default:[m4]},$$scope:{ctx:i}}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n&16394&&(s.$$scope={dirty:n,ctx:r}),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function _4(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(r){e=se(r,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(r,n){R(r,e,n)},p:at,i:at,o:at,d(r){r&&w(e)}}}function ig(i){let e=i[18].off_tech_id.value.replace(/ |\./g,"")+"",t,r,n=i[18].off_tech_label.value+"",s,a,l="-->",u,f,h=i[18].off_artifact_rel_label.value.replace(/ /g,"")+"",_,p,d=Ze(i[18].off_artifact.value)+"",v,m,b=i[18].off_artifact_label.value+"",A,U,I=i[18].off_tech_id.value.replace(/ |\./g,"")+"",O,y,N,T,j=Ze(i[18].off_artifact.value)+"",F,q,k=Ze(i[18].off_artifact.value)+"",L,D,P=i[18].off_tech_id.value.replace(/ |\./g,"")+"",Q,H,oe=of(i[18].off_tech_id.value)+"",re,te,$=Ze(i[18].off_artifact.value)+"",W,de,J=Ze(i[18].off_artifact.value)+"",pe,it;function tt(Ce,De){return De&10&&(N=null),N==null&&(N=!!Ce[3].includes(Ze(Ce[18].off_artifact.value))),N?g4:v4}let Fe=tt(i,-1),He=Fe(i);return{c(){t=V(e),r=V('["'),s=V(n),a=V('"] '),u=V(l),f=V(" |"),_=V(h),p=V("| "),v=V(d),m=V('["'),A=V(b),U=V('"]; class '),O=V(I),y=V(` OffensiveTechniqueNode;
            `),He.c(),T=V(" ; click "),F=V(j),q=V(' href "/dao/artifact/d3f:'),L=V(k),D=V('"; click '),Q=V(P),H=V(' href "'),re=V(oe),te=V('"; click '),W=V($),de=V(` href "javascript:off_to_art_callback('`),pe=V(J),it=V(`')";`)},l(Ce){t=z(Ce,e),r=z(Ce,'["'),s=z(Ce,n),a=z(Ce,'"] '),u=z(Ce,l),f=z(Ce," |"),_=z(Ce,h),p=z(Ce,"| "),v=z(Ce,d),m=z(Ce,'["'),A=z(Ce,b),U=z(Ce,'"]; class '),O=z(Ce,I),y=z(Ce,` OffensiveTechniqueNode;
            `),He.l(Ce),T=z(Ce," ; click "),F=z(Ce,j),q=z(Ce,' href "/dao/artifact/d3f:'),L=z(Ce,k),D=z(Ce,'"; click '),Q=z(Ce,P),H=z(Ce,' href "'),re=z(Ce,oe),te=z(Ce,'"; click '),W=z(Ce,$),de=z(Ce,` href "javascript:off_to_art_callback('`),pe=z(Ce,J),it=z(Ce,`')";`)},m(Ce,De){R(Ce,t,De),R(Ce,r,De),R(Ce,s,De),R(Ce,a,De),R(Ce,u,De),R(Ce,f,De),R(Ce,_,De),R(Ce,p,De),R(Ce,v,De),R(Ce,m,De),R(Ce,A,De),R(Ce,U,De),R(Ce,O,De),R(Ce,y,De),He.m(Ce,De),R(Ce,T,De),R(Ce,F,De),R(Ce,q,De),R(Ce,L,De),R(Ce,D,De),R(Ce,Q,De),R(Ce,H,De),R(Ce,re,De),R(Ce,te,De),R(Ce,W,De),R(Ce,de,De),R(Ce,pe,De),R(Ce,it,De)},p(Ce,De){De&2&&e!==(e=Ce[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(t,e),De&2&&n!==(n=Ce[18].off_tech_label.value+"")&&Se(s,n),De&2&&h!==(h=Ce[18].off_artifact_rel_label.value.replace(/ /g,"")+"")&&Se(_,h),De&2&&d!==(d=Ze(Ce[18].off_artifact.value)+"")&&Se(v,d),De&2&&b!==(b=Ce[18].off_artifact_label.value+"")&&Se(A,b),De&2&&I!==(I=Ce[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(O,I),Fe===(Fe=tt(Ce,De))&&He?He.p(Ce,De):(He.d(1),He=Fe(Ce),He&&(He.c(),He.m(T.parentNode,T))),De&2&&j!==(j=Ze(Ce[18].off_artifact.value)+"")&&Se(F,j),De&2&&k!==(k=Ze(Ce[18].off_artifact.value)+"")&&Se(L,k),De&2&&P!==(P=Ce[18].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(Q,P),De&2&&oe!==(oe=of(Ce[18].off_tech_id.value)+"")&&Se(re,oe),De&2&&$!==($=Ze(Ce[18].off_artifact.value)+"")&&Se(W,$),De&2&&J!==(J=Ze(Ce[18].off_artifact.value)+"")&&Se(pe,J)},d(Ce){Ce&&(w(t),w(r),w(s),w(a),w(u),w(f),w(_),w(p),w(v),w(m),w(A),w(U),w(O),w(y),w(T),w(F),w(q),w(L),w(D),w(Q),w(H),w(re),w(te),w(W),w(de),w(pe),w(it)),He.d(Ce)}}}function v4(i){let e,t=Ze(i[18].off_artifact.value)+"",r,n;return{c(){e=V("class "),r=V(t),n=V(" ArtifactNode;")},l(s){e=z(s,"class "),r=z(s,t),n=z(s," ArtifactNode;")},m(s,a){R(s,e,a),R(s,r,a),R(s,n,a)},p(s,a){a&2&&t!==(t=Ze(s[18].off_artifact.value)+"")&&Se(r,t)},d(s){s&&(w(e),w(r),w(n))}}}function g4(i){let e,t=Ze(i[18].off_artifact.value)+"",r,n;return{c(){e=V("class "),r=V(t),n=V(" SelectedArtifactNode;")},l(s){e=z(s,"class "),r=z(s,t),n=z(s," SelectedArtifactNode;")},m(s,a){R(s,e,a),R(s,r,a),R(s,n,a)},p(s,a){a&2&&t!==(t=Ze(s[18].off_artifact.value)+"")&&Se(r,t)},d(s){s&&(w(e),w(r),w(n))}}}function ag(i){let e=i[6].edge_is_unique(i[18].off_tech_label.value,i[18].off_artifact_rel_label.value,i[18].off_artifact_label.value),t,r=e&&ig(i);return{c(){r&&r.c(),t=ze()},l(n){r&&r.l(n),t=ze()},m(n,s){r&&r.m(n,s),R(n,t,s)},p(n,s){s&2&&(e=n[6].edge_is_unique(n[18].off_tech_label.value,n[18].off_artifact_rel_label.value,n[18].off_artifact_label.value)),e?r?r.p(n,s):(r=ig(n),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(n){n&&w(t),r&&r.d(n)}}}function m4(i){let e,t,r=lt(i[1].off_to_def.results.bindings),n=[];for(let s=0;s<r.length;s+=1)n[s]=ag(rg(i,r,s));return{c(){e=V(`graph LR;
        `);for(let s=0;s<n.length;s+=1)n[s].c();t=ze()},l(s){e=z(s,`graph LR;
        `);for(let a=0;a<n.length;a+=1)n[a].l(s);t=ze()},m(s,a){R(s,e,a);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(s,a);R(s,t,a)},p(s,a){if(a&74){r=lt(s[1].off_to_def.results.bindings);let l;for(l=0;l<r.length;l+=1){const u=rg(s,r,l);n[l]?n[l].p(u,a):(n[l]=ag(u),n[l].c(),n[l].m(t.parentNode,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=r.length}},d(s){s&&(w(e),w(t)),er(n,s)}}}function b4(i){let e,t,r,n,s,a,l,u,f,h,_,p,d,v=i[3].length+"",m,b,A,U,I;const O=i[9].header,y=Or(O,i,i[14],ng),N=i[9].default,T=Or(N,i,i[14],null),j=[_4,p4,d4],F=[];function q(k,L){return k[1]?k[1].off_to_def.results.bindings.length>0?1:2:0}return l=q(i),u=F[l]=j[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),r=V(`
    Select Related Artifacts To Insert
    `),T&&T.c(),n=ve(),s=ae("hr"),a=ve(),u.c(),f=ve(),h=ae("hr"),_=ve(),p=ae("button"),d=V("Insert ("),m=V(v),b=V(")"),this.h()},l(k){e=se(k,"DIALOG",{class:!0});var L=Me(e);t=se(L,"DIV",{class:!0});var D=Me(t);y&&y.l(D),r=z(D,`
    Select Related Artifacts To Insert
    `),T&&T.l(D),n=ge(D),s=se(D,"HR",{}),a=ge(D),u.l(D),f=ge(D),h=se(D,"HR",{}),_=ge(D),p=se(D,"BUTTON",{class:!0});var P=Me(p);d=z(P,"Insert ("),m=z(P,v),b=z(P,")"),P.forEach(w),D.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,fe(p,"class","svelte-x0618k"),fe(t,"class","svelte-x0618k"),fe(e,"class","svelte-x0618k")},m(k,L){R(k,e,L),G(e,t),y&&y.m(t,null),G(t,r),T&&T.m(t,null),G(t,n),G(t,s),G(t,a),F[l].m(t,null),G(t,f),G(t,h),G(t,_),G(t,p),G(p,d),G(p,m),G(p,b),i[11](e),A=!0,p.focus(),U||(I=[Pe(p,"click",i[7]),Pe(t,"click",jr(i[10])),Pe(e,"close",i[12]),Pe(e,"click",ba(i[13]))],U=!0)},p(k,[L]){y&&y.p&&(!A||L&16384)&&Lr(y,O,k,k[14],A?Ur(O,k[14],L,h4):Br(k[14]),ng),T&&T.p&&(!A||L&16384)&&Lr(T,N,k,k[14],A?Ur(N,k[14],L,null):Br(k[14]),null);let D=l;l=q(k),l===D?F[l].p(k,L):(It(),be(F[D],1,1,()=>{F[D]=null}),Rt(),u=F[l],u?u.p(k,L):(u=F[l]=j[l](k),u.c()),he(u,1),u.m(t,f)),(!A||L&8)&&v!==(v=k[3].length+"")&&Se(m,v)},i(k){A||(he(y,k),he(T,k),he(u),A=!0)},o(k){be(y,k),be(T,k),be(u),A=!1},d(k){k&&w(e),y&&y.d(k),T&&T.d(k),F[l].d(),i[11](null),U=!1,zt(I)}}}function w4(i,e,t){let r,n,s,{$$slots:a={},$$scope:l}=e,{show_artifacts_modal:u}=e,{parent_node:f}=e,{data:h}=e,_;const p=Li();At(i,p,y=>t(16,s=y));const d=Bi();At(i,d,y=>t(15,n=y));let v=new Xa;function m(y){r.includes(y)?t(3,r=r.filter(N=>N!==y)):r.push(y),t(3,r)}window.off_to_art_callback=function(y){m(y)};function b(){let y=0,N=200,T=100;for(const j of r){let F=h.off_to_def.results.bindings.find(q=>Ze(q.off_artifact.value)==j);F&&(ka(p,d,f,"artifactSelectorNode",F.off_artifact_label.value,"d3f:"+Ze(F.off_artifact.value),f.data.sequence,f.position.x+y*N,f.position.y+T,182,63,F.off_artifact_rel_label.value,!0),y+=1)}p.set(s),d.set(n),_&&_.close(),t(3,r=[])}function A(y){ni.call(this,i,y)}function U(y){Fr[y?"unshift":"push"](()=>{_=y,t(2,_)})}const I=()=>t(0,u=!1),O=()=>{_.close(),t(3,r=[])};return i.$$set=y=>{"show_artifacts_modal"in y&&t(0,u=y.show_artifacts_modal),"parent_node"in y&&t(8,f=y.parent_node),"data"in y&&t(1,h=y.data),"$$scope"in y&&t(14,l=y.$$scope)},i.$$.update=()=>{i.$$.dirty&5&&u&&_&&(_.showModal(),v.reset()),i.$$.dirty&5&&!u&&_&&(_.close(),v.reset())},t(3,r=[]),[u,h,_,r,p,d,v,b,f,a,A,U,I,O,l]}class y4 extends Xt{constructor(e){super(),Wt(this,e,w4,b4,kt,{show_artifacts_modal:0,parent_node:8,data:1})}}function sg(i,e,t){const r=i.slice();return r[23]=e[t],r}const E4=i=>({}),lg=i=>({});function D4(i){let e;return{c(){e=V("No related artifacts in this release.")},l(t){e=z(t,"No related artifacts in this release.")},m(t,r){R(t,e,r)},p:at,i:at,o:at,d(t){t&&w(e)}}}function A4(i){let e,t,r,n,s,a,l,u,f,h;function _(d){i[14](d)}let p={toggles:i[4]};return i[3]!==void 0&&(p.selected=i[3]),t=new l1({props:p}),Fr.push(()=>En(t,"selected",_)),f=new wa({props:{$$slots:{default:[N4]},$$scope:{ctx:i}}}),{c(){e=ae("div"),Qe(t.$$.fragment),n=ve(),s=ae("br"),a=ve(),l=ae("br"),u=ve(),Qe(f.$$.fragment),this.h()},l(d){e=se(d,"DIV",{class:!0});var v=Me(e);Ye(t.$$.fragment,v),v.forEach(w),n=ge(d),s=se(d,"BR",{}),a=ge(d),l=se(d,"BR",{}),u=ge(d),Ye(f.$$.fragment,d),this.h()},h(){fe(e,"class","center shrink")},m(d,v){R(d,e,v),Ke(t,e,null),R(d,n,v),R(d,s,v),R(d,a,v),R(d,l,v),R(d,u,v),Ke(f,d,v),h=!0},p(d,v){const m={};v&16&&(m.toggles=d[4]),!r&&v&8&&(r=!0,m.selected=d[3],yn(()=>r=!1)),t.$set(m);const b={};v&262186&&(b.$$scope={dirty:v,ctx:d}),f.$set(b)},i(d){h||(he(t.$$.fragment,d),he(f.$$.fragment,d),h=!0)},o(d){be(t.$$.fragment,d),be(f.$$.fragment,d),h=!1},d(d){d&&(w(e),w(n),w(s),w(a),w(l),w(u)),Je(t),Je(f,d)}}}function k4(i){let e,t="Loading...";return{c(){e=ae("div"),e.textContent=t},l(r){e=se(r,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(r,n){R(r,e,n)},p:at,i:at,o:at,d(r){r&&w(e)}}}function og(i){let e=i[8].edge_is_unique(i[23].def_tech_label.value,i[23].def_artifact_rel_label.value,i[23].off_artifact_label.value),t,r=e&&ug(i);return{c(){r&&r.c(),t=ze()},l(n){r&&r.l(n),t=ze()},m(n,s){r&&r.m(n,s),R(n,t,s)},p(n,s){s&2&&(e=n[8].edge_is_unique(n[23].def_tech_label.value,n[23].def_artifact_rel_label.value,n[23].off_artifact_label.value)),e?r?r.p(n,s):(r=ug(n),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(n){n&&w(t),r&&r.d(n)}}}function ug(i){let e=!i[3].includes(i[23].def_tactic_label.value),t,r=e&&fg(i);return{c(){r&&r.c(),t=ze()},l(n){r&&r.l(n),t=ze()},m(n,s){r&&r.m(n,s),R(n,t,s)},p(n,s){s&10&&(e=!n[3].includes(n[23].def_tactic_label.value)),e?r?r.p(n,s):(r=fg(n),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(n){n&&w(t),r&&r.d(n)}}}function fg(i){let e=Ze(i[23].def_tech.value)+"",t,r,n=i[23].def_tech_label.value+"",s,a,l="-->",u,f,h=i[23].def_artifact_rel_label.value.replace(/ /g,"")+"",_,p,d=Ze(i[23].off_artifact.value)+"",v,m,b=i[23].off_artifact_label.value+"",A,U,I=i[8].edge_is_unique(i[23].def_tech.value,i[23].def_tactic_label.value,i[23].off_tech_id.value),O,y,N,T=i[23].off_artifact_label.value.replace(/ /g,"")+"",j,F,q=Ze(i[23].def_tech.value)+"",k,L,D=i[23].def_tech_label.value.replace(/ |\./g,"")+"",P,Q,H=I&&cg(i);function oe($,W){return W&34&&(y=null),y==null&&(y=!!$[5].includes(Ze($[23].def_tech.value))),y?T4:C4}let re=oe(i,-1),te=re(i);return{c(){t=V(e),r=V('["'),s=V(n),a=V('"] '),u=V(l),f=V(`
                | `),_=V(h),p=V(" | "),v=V(d),m=V('["'),A=V(b),U=V(`"];

                `),H&&H.c(),O=ve(),te.c(),N=V(` 
                class `),j=V(T),F=V(` ArtifactNode;
                click `),k=V(q),L=V(` href "javascript:off_to_def_callback('`),P=V(D),Q=V(`')";`)},l($){t=z($,e),r=z($,'["'),s=z($,n),a=z($,'"] '),u=z($,l),f=z($,`
                | `),_=z($,h),p=z($," | "),v=z($,d),m=z($,'["'),A=z($,b),U=z($,`"];

                `),H&&H.l($),O=ge($),te.l($),N=z($,` 
                class `),j=z($,T),F=z($,` ArtifactNode;
                click `),k=z($,q),L=z($,` href "javascript:off_to_def_callback('`),P=z($,D),Q=z($,`')";`)},m($,W){R($,t,W),R($,r,W),R($,s,W),R($,a,W),R($,u,W),R($,f,W),R($,_,W),R($,p,W),R($,v,W),R($,m,W),R($,A,W),R($,U,W),H&&H.m($,W),R($,O,W),te.m($,W),R($,N,W),R($,j,W),R($,F,W),R($,k,W),R($,L,W),R($,P,W),R($,Q,W)},p($,W){W&2&&e!==(e=Ze($[23].def_tech.value)+"")&&Se(t,e),W&2&&n!==(n=$[23].def_tech_label.value+"")&&Se(s,n),W&2&&h!==(h=$[23].def_artifact_rel_label.value.replace(/ /g,"")+"")&&Se(_,h),W&2&&d!==(d=Ze($[23].off_artifact.value)+"")&&Se(v,d),W&2&&b!==(b=$[23].off_artifact_label.value+"")&&Se(A,b),W&2&&(I=$[8].edge_is_unique($[23].def_tech.value,$[23].def_tactic_label.value,$[23].off_tech_id.value)),I?H?H.p($,W):(H=cg($),H.c(),H.m(O.parentNode,O)):H&&(H.d(1),H=null),re===(re=oe($,W))&&te?te.p($,W):(te.d(1),te=re($),te&&(te.c(),te.m(N.parentNode,N))),W&2&&T!==(T=$[23].off_artifact_label.value.replace(/ /g,"")+"")&&Se(j,T),W&2&&q!==(q=Ze($[23].def_tech.value)+"")&&Se(k,q),W&2&&D!==(D=$[23].def_tech_label.value.replace(/ |\./g,"")+"")&&Se(P,D)},d($){$&&(w(t),w(r),w(s),w(a),w(u),w(f),w(_),w(p),w(v),w(m),w(A),w(U),w(O),w(N),w(j),w(F),w(k),w(L),w(P),w(Q)),H&&H.d($),te.d($)}}}function cg(i){let e=Ze(i[23].def_tech.value)+"",t,r,n=i[23].def_tech_label.value+"",s,a,l="-.->",u,f,h="May "+i[23].def_tactic_label.value,_,p,d=i[23].off_tech_id.value.replace(/ |\./g,"")+"",v,m,b=i[23].off_tech_label.value+"",A,U;return{c(){t=V(e),r=V('["'),s=V(n),a=V('"] '),u=V(l),f=V(`
                  | `),_=V(h),p=V(" | "),v=V(d),m=V('["'),A=V(b),U=V('"] ;')},l(I){t=z(I,e),r=z(I,'["'),s=z(I,n),a=z(I,'"] '),u=z(I,l),f=z(I,`
                  | `),_=z(I,h),p=z(I," | "),v=z(I,d),m=z(I,'["'),A=z(I,b),U=z(I,'"] ;')},m(I,O){R(I,t,O),R(I,r,O),R(I,s,O),R(I,a,O),R(I,u,O),R(I,f,O),R(I,_,O),R(I,p,O),R(I,v,O),R(I,m,O),R(I,A,O),R(I,U,O)},p(I,O){O&2&&e!==(e=Ze(I[23].def_tech.value)+"")&&Se(t,e),O&2&&n!==(n=I[23].def_tech_label.value+"")&&Se(s,n),O&2&&h!==(h="May "+I[23].def_tactic_label.value)&&Se(_,h),O&2&&d!==(d=I[23].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(v,d),O&2&&b!==(b=I[23].off_tech_label.value+"")&&Se(A,b)},d(I){I&&(w(t),w(r),w(s),w(a),w(u),w(f),w(_),w(p),w(v),w(m),w(A),w(U))}}}function C4(i){let e,t=Ze(i[23].def_tech.value)+"",r,n;return{c(){e=V("class "),r=V(t),n=V(" DefensiveTechniqueNode;")},l(s){e=z(s,"class "),r=z(s,t),n=z(s," DefensiveTechniqueNode;")},m(s,a){R(s,e,a),R(s,r,a),R(s,n,a)},p(s,a){a&2&&t!==(t=Ze(s[23].def_tech.value)+"")&&Se(r,t)},d(s){s&&(w(e),w(r),w(n))}}}function T4(i){let e,t=Ze(i[23].def_tech.value)+"",r,n;return{c(){e=V("class "),r=V(t),n=V(" SelectedDefensiveTechniqueNode;")},l(s){e=z(s,"class "),r=z(s,t),n=z(s," SelectedDefensiveTechniqueNode;")},m(s,a){R(s,e,a),R(s,r,a),R(s,n,a)},p(s,a){a&2&&t!==(t=Ze(s[23].def_tech.value)+"")&&Se(r,t)},d(s){s&&(w(e),w(r),w(n))}}}function hg(i){let e=i[23].off_tech_id.value.replace(/ |\./g,"")+"",t,r,n=i[23].off_tech_label.value+"",s,a,l="-->",u,f,h=i[23].off_artifact_rel_label.value.replace(/ /g,"")+"",_,p,d=Ze(i[23].off_artifact.value)+"",v,m,b=i[23].off_artifact_label.value+"",A,U,I=i[23].off_tech_id.value.replace(/ |\./g,"")+"",O,y,N=Ze(i[23].off_artifact.value)+"",T,j,F=Ze(i[23].off_artifact.value)+"",q,k,L=Ze(i[23].off_artifact.value)+"",D,P,Q=i[23].off_tech_id.value.replace(/ |\./g,"")+"",H,oe,re=of(i[23].off_tech_id.value)+"",te,$,W=Ze(i[23].off_artifact.value)+"",de,J,pe=Ze(i[23].off_artifact.value)+"",it,tt;return{c(){t=V(e),r=V('["'),s=V(n),a=V('"] '),u=V(l),f=V(" |"),_=V(h),p=V("| "),v=V(d),m=V('["'),A=V(b),U=V('"]; class '),O=V(I),y=V(` OffensiveTechniqueNode;
            class `),T=V(N),j=V(" ArtifactNode; click "),q=V(F),k=V(' href "/dao/artifact/d3f:'),D=V(L),P=V(`";
            click `),H=V(Q),oe=V(' href "'),te=V(re),$=V('"; click '),de=V(W),J=V(' href "/dao/artifact/d3f:'),it=V(pe),tt=V('";')},l(Fe){t=z(Fe,e),r=z(Fe,'["'),s=z(Fe,n),a=z(Fe,'"] '),u=z(Fe,l),f=z(Fe," |"),_=z(Fe,h),p=z(Fe,"| "),v=z(Fe,d),m=z(Fe,'["'),A=z(Fe,b),U=z(Fe,'"]; class '),O=z(Fe,I),y=z(Fe,` OffensiveTechniqueNode;
            class `),T=z(Fe,N),j=z(Fe," ArtifactNode; click "),q=z(Fe,F),k=z(Fe,' href "/dao/artifact/d3f:'),D=z(Fe,L),P=z(Fe,`";
            click `),H=z(Fe,Q),oe=z(Fe,' href "'),te=z(Fe,re),$=z(Fe,'"; click '),de=z(Fe,W),J=z(Fe,' href "/dao/artifact/d3f:'),it=z(Fe,pe),tt=z(Fe,'";')},m(Fe,He){R(Fe,t,He),R(Fe,r,He),R(Fe,s,He),R(Fe,a,He),R(Fe,u,He),R(Fe,f,He),R(Fe,_,He),R(Fe,p,He),R(Fe,v,He),R(Fe,m,He),R(Fe,A,He),R(Fe,U,He),R(Fe,O,He),R(Fe,y,He),R(Fe,T,He),R(Fe,j,He),R(Fe,q,He),R(Fe,k,He),R(Fe,D,He),R(Fe,P,He),R(Fe,H,He),R(Fe,oe,He),R(Fe,te,He),R(Fe,$,He),R(Fe,de,He),R(Fe,J,He),R(Fe,it,He),R(Fe,tt,He)},p(Fe,He){He&2&&e!==(e=Fe[23].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(t,e),He&2&&n!==(n=Fe[23].off_tech_label.value+"")&&Se(s,n),He&2&&h!==(h=Fe[23].off_artifact_rel_label.value.replace(/ /g,"")+"")&&Se(_,h),He&2&&d!==(d=Ze(Fe[23].off_artifact.value)+"")&&Se(v,d),He&2&&b!==(b=Fe[23].off_artifact_label.value+"")&&Se(A,b),He&2&&I!==(I=Fe[23].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(O,I),He&2&&N!==(N=Ze(Fe[23].off_artifact.value)+"")&&Se(T,N),He&2&&F!==(F=Ze(Fe[23].off_artifact.value)+"")&&Se(q,F),He&2&&L!==(L=Ze(Fe[23].off_artifact.value)+"")&&Se(D,L),He&2&&Q!==(Q=Fe[23].off_tech_id.value.replace(/ |\./g,"")+"")&&Se(H,Q),He&2&&re!==(re=of(Fe[23].off_tech_id.value)+"")&&Se(te,re),He&2&&W!==(W=Ze(Fe[23].off_artifact.value)+"")&&Se(de,W),He&2&&pe!==(pe=Ze(Fe[23].off_artifact.value)+"")&&Se(it,pe)},d(Fe){Fe&&(w(t),w(r),w(s),w(a),w(u),w(f),w(_),w(p),w(v),w(m),w(A),w(U),w(O),w(y),w(T),w(j),w(q),w(k),w(D),w(P),w(H),w(oe),w(te),w($),w(de),w(J),w(it),w(tt))}}}function dg(i){let e,t=i[8].edge_is_unique(i[23].off_tech_label.value,i[23].off_artifact_rel_label.value,i[23].off_artifact_label.value),r,n="def_tech"in i[23]&&og(i),s=t&&hg(i);return{c(){n&&n.c(),e=ve(),s&&s.c(),r=ze()},l(a){n&&n.l(a),e=ge(a),s&&s.l(a),r=ze()},m(a,l){n&&n.m(a,l),R(a,e,l),s&&s.m(a,l),R(a,r,l)},p(a,l){"def_tech"in a[23]?n?n.p(a,l):(n=og(a),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),l&2&&(t=a[8].edge_is_unique(a[23].off_tech_label.value,a[23].off_artifact_rel_label.value,a[23].off_artifact_label.value)),t?s?s.p(a,l):(s=hg(a),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},d(a){a&&(w(e),w(r)),n&&n.d(a),s&&s.d(a)}}}function N4(i){let e,t,r=lt(i[1].off_to_def.results.bindings),n=[];for(let s=0;s<r.length;s+=1)n[s]=dg(sg(i,r,s));return{c(){e=V(`graph LR;
        `);for(let s=0;s<n.length;s+=1)n[s].c();t=ze()},l(s){e=z(s,`graph LR;
        `);for(let a=0;a<n.length;a+=1)n[a].l(s);t=ze()},m(s,a){R(s,e,a);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(s,a);R(s,t,a)},p(s,a){if(a&298){r=lt(s[1].off_to_def.results.bindings);let l;for(l=0;l<r.length;l+=1){const u=sg(s,r,l);n[l]?n[l].p(u,a):(n[l]=dg(u),n[l].c(),n[l].m(t.parentNode,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=r.length}},d(s){s&&(w(e),w(t)),er(n,s)}}}function S4(i){let e,t,r,n,s,a,l,u,f,h,_,p,d,v=i[5].length+"",m,b,A,U,I;const O=i[12].header,y=Or(O,i,i[18],lg),N=i[12].default,T=Or(N,i,i[18],null),j=[k4,A4,D4],F=[];function q(k,L){return k[1]?k[1].off_to_def.results.bindings.length>0?1:2:0}return l=q(i),u=F[l]=j[l](i),{c(){e=ae("dialog"),t=ae("div"),y&&y.c(),r=V(`
    Select Related Artifacts To Insert
    `),T&&T.c(),n=ve(),s=ae("hr"),a=ve(),u.c(),f=ve(),h=ae("hr"),_=ve(),p=ae("button"),d=V("Insert ("),m=V(v),b=V(")"),this.h()},l(k){e=se(k,"DIALOG",{class:!0});var L=Me(e);t=se(L,"DIV",{class:!0});var D=Me(t);y&&y.l(D),r=z(D,`
    Select Related Artifacts To Insert
    `),T&&T.l(D),n=ge(D),s=se(D,"HR",{}),a=ge(D),u.l(D),f=ge(D),h=se(D,"HR",{}),_=ge(D),p=se(D,"BUTTON",{class:!0});var P=Me(p);d=z(P,"Insert ("),m=z(P,v),b=z(P,")"),P.forEach(w),D.forEach(w),L.forEach(w),this.h()},h(){p.autofocus=!0,fe(p,"class","svelte-x0618k"),fe(t,"class","svelte-x0618k"),fe(e,"class","svelte-x0618k")},m(k,L){R(k,e,L),G(e,t),y&&y.m(t,null),G(t,r),T&&T.m(t,null),G(t,n),G(t,s),G(t,a),F[l].m(t,null),G(t,f),G(t,h),G(t,_),G(t,p),G(p,d),G(p,m),G(p,b),i[15](e),A=!0,p.focus(),U||(I=[Pe(p,"click",i[9]),Pe(t,"click",jr(i[13])),Pe(e,"close",i[16]),Pe(e,"click",ba(i[17]))],U=!0)},p(k,[L]){y&&y.p&&(!A||L&262144)&&Lr(y,O,k,k[18],A?Ur(O,k[18],L,E4):Br(k[18]),lg),T&&T.p&&(!A||L&262144)&&Lr(T,N,k,k[18],A?Ur(N,k[18],L,null):Br(k[18]),null);let D=l;l=q(k),l===D?F[l].p(k,L):(It(),be(F[D],1,1,()=>{F[D]=null}),Rt(),u=F[l],u?u.p(k,L):(u=F[l]=j[l](k),u.c()),he(u,1),u.m(t,f)),(!A||L&32)&&v!==(v=k[5].length+"")&&Se(m,v)},i(k){A||(he(y,k),he(T,k),he(u),A=!0)},o(k){be(y,k),be(T,k),be(u),A=!1},d(k){k&&w(e),y&&y.d(k),T&&T.d(k),F[l].d(),i[15](null),U=!1,zt(I)}}}function I4(i,e,t){let r,n,s,{$$slots:a={},$$scope:l}=e,{show_defend_modal:u}=e,{parent_node:f}=e,{data:h}=e,_;const p=Li();At(i,p,q=>t(20,s=q));const d=Bi();At(i,d,q=>t(19,n=q));let v=new Xa;function m(q){r.includes(q)?t(5,r=r.filter(k=>k!==q)):r.push(q),t(5,r)}window.off_to_def_callback=function(q){m(q)};function b(){let q=0,k=200,L=100;for(const D of r){let P=h.off_to_def.results.bindings.find(Q=>"def_tech"in Q&&Ze(Q.def_tech.value)==D);P&&(ka(p,d,f,"countermeasureSelectorNode",P.def_tech_label.value,"d3f:"+Ze(P.def_tech.value),f.data.sequence,f.position.x+q*k,f.position.y+L,182,63,"May "+P.def_tactic_label.value,!1),q+=1)}p.set(s),d.set(n),_&&_.close(),t(5,r=[])}let A=new Set,U=[],I=[];a1(U,I)&&(I=[]);function O(q){for(const k of r){let L=h.off_to_def.results.bindings.find(D=>"def_tech"in D&&Ze(D.def_tech.value)==k);q.includes(L.def_tactic_label.value)&&t(5,r=r.filter(D=>D!==k))}t(5,r)}function y(q){ni.call(this,i,q)}function N(q){I=q,t(3,I)}function T(q){Fr[q?"unshift":"push"](()=>{_=q,t(2,_)})}const j=()=>t(0,u=!1),F=()=>{_.close(),t(5,r=[])};return i.$$set=q=>{"show_defend_modal"in q&&t(0,u=q.show_defend_modal),"parent_node"in q&&t(10,f=q.parent_node),"data"in q&&t(1,h=q.data),"$$scope"in q&&t(18,l=q.$$scope)},i.$$.update=()=>{i.$$.dirty&5&&u&&_&&(_.showModal(),v.reset()),i.$$.dirty&5&&!u&&_&&(_.close(),v.reset()),i.$$.dirty&2050&&h&&(h.off_to_def.results.bindings.forEach(q=>{"def_tactic_label"in q&&A.add(q.def_tactic_label.value)}),t(11,A),t(1,h)),i.$$.dirty&2048&&t(4,U=Array.from(A).sort(function(q,k){return uf[q]-uf[k]})),i.$$.dirty&8&&O(I),i.$$.dirty&8&&v.reset(I)},t(5,r=[]),[u,h,_,I,U,r,p,d,v,b,f,A,a,y,N,T,j,F,l]}class R4 extends Xt{constructor(e){super(),Wt(this,e,I4,S4,kt,{show_defend_modal:0,parent_node:10,data:1})}}function P4(i){let e,t="artifacts",r,n,s,a,l,u="defensive techniques",f,h,_,p,d,v;function m(I){i[6](I)}let b={parent_node:i[0],data:i[1]};i[3]!==void 0&&(b.show_artifacts_modal=i[3]),n=new y4({props:b}),Fr.push(()=>En(n,"show_artifacts_modal",m));function A(I){i[8](I)}let U={parent_node:i[0],data:i[1]};return i[2]!==void 0&&(U.show_defend_modal=i[2]),h=new R4({props:U}),Fr.push(()=>En(h,"show_defend_modal",A)),{c(){e=ae("button"),e.textContent=t,r=ve(),Qe(n.$$.fragment),a=ve(),l=ae("button"),l.textContent=u,f=ve(),Qe(h.$$.fragment),this.h()},l(I){e=se(I,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(e)!=="svelte-1t14z6m"&&(e.textContent=t),r=ge(I),Ye(n.$$.fragment,I),a=ge(I),l=se(I,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(l)!=="svelte-o3we0s"&&(l.textContent=u),f=ge(I),Ye(h.$$.fragment,I),this.h()},h(){fe(e,"class","svelte-1x5dcdh"),fe(l,"class","svelte-1x5dcdh")},m(I,O){R(I,e,O),R(I,r,O),Ke(n,I,O),R(I,a,O),R(I,l,O),R(I,f,O),Ke(h,I,O),p=!0,d||(v=[Pe(e,"click",i[5]),Pe(l,"click",i[7])],d=!0)},p(I,[O]){const y={};O&1&&(y.parent_node=I[0]),O&2&&(y.data=I[1]),!s&&O&8&&(s=!0,y.show_artifacts_modal=I[3],yn(()=>s=!1)),n.$set(y);const N={};O&1&&(N.parent_node=I[0]),O&2&&(N.data=I[1]),!_&&O&4&&(_=!0,N.show_defend_modal=I[2],yn(()=>_=!1)),h.$set(N)},i(I){p||(he(n.$$.fragment,I),he(h.$$.fragment,I),p=!0)},o(I){be(n.$$.fragment,I),be(h.$$.fragment,I),p=!1},d(I){I&&(w(e),w(r),w(a),w(l),w(f)),Je(n,I),Je(h,I),d=!1,zt(v)}}}function F4(i,e,t){let r,n;var s=this&&this.__awaiter||function(v,m,b,A){function U(I){return I instanceof b?I:new b(function(O){O(I)})}return new(b||(b=Promise))(function(I,O){function y(j){try{T(A.next(j))}catch(F){O(F)}}function N(j){try{T(A.throw(j))}catch(F){O(F)}}function T(j){j.done?I(j.value):U(j.value).then(y,N)}T((A=A.apply(v,m||[])).next())})};let{node:a}=e,l;function u(v){alert(v),t(3,r=!1),t(2,n=!1)}function f(v){return s(this,void 0,void 0,function*(){if(v.data.d3f_class&&v.data.d3f_class.includes("d3f:")){const m=v.data.d3f_class,b=yield fetch(`/api/offensive-technique/attack/${m.replace("d3f:","")}.json`),A=yield b.json();if(b.status!=200||A.description["@graph"].length==0)u(`Offensive Technique: "${m.replace("d3f:","")}" not found in ontology`);else return A}else u("Please specify a D3FEND Class for this node to enable inferential mapping")})}const h=async()=>{t(1,l=null),t(3,r=!0),t(1,l=await f(a))};function _(v){r=v,t(3,r)}const p=async()=>{t(1,l=null),t(2,n=!0),t(1,l=await f(a))};function d(v){n=v,t(2,n)}return i.$$set=v=>{"node"in v&&t(0,a=v.node)},t(3,r=!1),t(2,n=!1),[a,l,n,r,f,h,_,p,d]}class O4 extends Xt{constructor(e){super(),Wt(this,e,F4,P4,kt,{node:0})}}function pg(i){let e,t;return e=new O4({props:{node:i[1]}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n&2&&(s.node=r[1]),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function _g(i){let e,t;return e=new c4({props:{node:i[1]}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n&2&&(s.node=r[1]),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function vg(i){let e,t;return e=new HI({props:{node:i[1]}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n&2&&(s.node=r[1]),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function L4(i){let e,t,r,n,s,a,l,u,f,h,_="duplicate",p,d,v="delete",m,b,A,U,I=i[1]&&i[1].type=="attackSelectorNode"&&pg(i),O=i[1]&&i[1].type=="countermeasureSelectorNode"&&_g(i),y=i[1]&&i[1].type=="artifactSelectorNode"&&vg(i);return{c(){e=ae("div"),t=ae("p"),r=ae("small"),n=V("node: "),s=V(i[0]),a=ve(),I&&I.c(),l=ve(),O&&O.c(),u=ve(),y&&y.c(),f=ve(),h=ae("button"),h.textContent=_,p=ve(),d=ae("button"),d.textContent=v,this.h()},l(N){e=se(N,"DIV",{style:!0,class:!0});var T=Me(e);t=se(T,"P",{style:!0});var j=Me(t);r=se(j,"SMALL",{});var F=Me(r);n=z(F,"node: "),s=z(F,i[0]),F.forEach(w),j.forEach(w),a=ge(T),I&&I.l(T),l=ge(T),O&&O.l(T),u=ge(T),y&&y.l(T),f=ge(T),h=se(T,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(h)!=="svelte-1spbqw1"&&(h.textContent=_),p=ge(T),d=se(T,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(d)!=="svelte-1pyou7z"&&(d.textContent=v),T.forEach(w),this.h()},h(){Kt(t,"margin","0.5em"),fe(h,"class","svelte-1o17oqa"),fe(d,"class","svelte-1o17oqa"),fe(e,"style",m=i[2]()),fe(e,"class","context-menu svelte-1o17oqa")},m(N,T){R(N,e,T),G(e,t),G(t,r),G(r,n),G(r,s),G(e,a),I&&I.m(e,null),G(e,l),O&&O.m(e,null),G(e,u),y&&y.m(e,null),G(e,f),G(e,h),G(e,p),G(e,d),b=!0,A||(U=[Pe(h,"click",i[5]),Pe(d,"click",i[6])],A=!0)},p(N,[T]){(!b||T&1)&&Se(s,N[0]),N[1]&&N[1].type=="attackSelectorNode"?I?(I.p(N,T),T&2&&he(I,1)):(I=pg(N),I.c(),he(I,1),I.m(e,l)):I&&(It(),be(I,1,1,()=>{I=null}),Rt()),N[1]&&N[1].type=="countermeasureSelectorNode"?O?(O.p(N,T),T&2&&he(O,1)):(O=_g(N),O.c(),he(O,1),O.m(e,u)):O&&(It(),be(O,1,1,()=>{O=null}),Rt()),N[1]&&N[1].type=="artifactSelectorNode"?y?(y.p(N,T),T&2&&he(y,1)):(y=vg(N),y.c(),he(y,1),y.m(e,f)):y&&(It(),be(y,1,1,()=>{y=null}),Rt()),(!b||T&4&&m!==(m=N[2]()))&&fe(e,"style",m)},i(N){b||(he(I),he(O),he(y),b=!0)},o(N){be(I),be(O),be(y),b=!1},d(N){N&&w(e),I&&I.d(),O&&O.d(),y&&y.d(),A=!1,zt(U)}}}function B4(i,e,t){let r,n,s,a,{id:l}=e,{top:u}=e,{left:f}=e,{right:h}=e,{bottom:_}=e;const p=Li();At(i,p,b=>t(11,a=b));const d=Bi();At(i,d,b=>t(12,s=b));function v(){const b=a.find(A=>A.id===l);b&&(console.log(b),a.push(Object.assign(Object.assign({},b),{id:`${l}-copy${Math.random()}`.slice(-24),position:{x:b.position.x,y:b.position.y+50}}))),p.set(a)}function m(){Ht(p,a=a.filter(b=>b.id!==l),a),Ht(d,s=s.filter(b=>b.source!==l&&b.target!==l),s),p.set(a),d.set(s)}return i.$$set=b=>{"id"in b&&t(0,l=b.id),"top"in b&&t(7,u=b.top),"left"in b&&t(8,f=b.left),"right"in b&&t(9,h=b.right),"bottom"in b&&t(10,_=b.bottom)},i.$$.update=()=>{i.$$.dirty&2049&&t(1,r=a.find(b=>b.id===l)),i.$$.dirty&1920&&t(2,n=()=>{let b="";return u&&(b+=`top:${u}px;`),_&&(b+=`bottom:${_}px;`),f&&(b+=`left:${f}px;`),h&&(b+=`right:${h}px;`),b})},[l,r,n,p,d,v,m,u,f,h,_,a]}class U4 extends Xt{constructor(e){super(),Wt(this,e,B4,L4,kt,{id:0,top:7,left:8,right:9,bottom:10})}}function gg(i,e,t){const r=i.slice();return r[12]=e[t],r}function mg(i){let e,t,r,n,s,a,l,u,f,h,_,p,d;const v=i[8].default,m=Or(v,i,i[7],null);let b=lt(i[3]),A=[];for(let U=0;U<b.length;U+=1)A[U]=bg(gg(i,b,U));return{c(){e=ae("div"),t=ae("div"),r=ae("h2"),n=V(i[1]),s=ve(),a=ae("p"),l=V(i[2]),u=ve(),m&&m.c(),f=ve(),h=ae("div");for(let U=0;U<A.length;U+=1)A[U].c();this.h()},l(U){e=se(U,"DIV",{class:!0});var I=Me(e);t=se(I,"DIV",{class:!0});var O=Me(t);r=se(O,"H2",{});var y=Me(r);n=z(y,i[1]),y.forEach(w),s=ge(O),a=se(O,"P",{});var N=Me(a);l=z(N,i[2]),N.forEach(w),u=ge(O),m&&m.l(O),f=ge(O),h=se(O,"DIV",{class:!0});var T=Me(h);for(let j=0;j<A.length;j+=1)A[j].l(T);T.forEach(w),O.forEach(w),I.forEach(w),this.h()},h(){fe(h,"class","options svelte-zbcx3u"),fe(t,"class","modal-content center text-center svelte-zbcx3u"),fe(e,"class","modal-overlay svelte-zbcx3u")},m(U,I){R(U,e,I),G(e,t),G(t,r),G(r,n),G(t,s),G(t,a),G(a,l),G(t,u),m&&m.m(t,null),G(t,f),G(t,h);for(let O=0;O<A.length;O+=1)A[O]&&A[O].m(h,null);_=!0,p||(d=[Pe(t,"click",jr(i[9])),Pe(e,"click",i[4])],p=!0)},p(U,I){if((!_||I&2)&&Se(n,U[1]),(!_||I&4)&&Se(l,U[2]),m&&m.p&&(!_||I&128)&&Lr(m,v,U,U[7],_?Ur(v,U[7],I,null):Br(U[7]),null),I&40){b=lt(U[3]);let O;for(O=0;O<b.length;O+=1){const y=gg(U,b,O);A[O]?A[O].p(y,I):(A[O]=bg(y),A[O].c(),A[O].m(h,null))}for(;O<A.length;O+=1)A[O].d(1);A.length=b.length}},i(U){_||(he(m,U),_=!0)},o(U){be(m,U),_=!1},d(U){U&&w(e),m&&m.d(U),er(A,U),p=!1,zt(d)}}}function bg(i){let e,t=i[12].label+"",r,n,s,a;function l(){return i[10](i[12])}return{c(){e=ae("button"),r=V(t),n=ve(),this.h()},l(u){e=se(u,"BUTTON",{class:!0});var f=Me(e);r=z(f,t),n=ge(f),f.forEach(w),this.h()},h(){fe(e,"class","svelte-zbcx3u")},m(u,f){R(u,e,f),G(e,r),G(e,n),s||(a=Pe(e,"click",l),s=!0)},p(u,f){i=u,f&8&&t!==(t=i[12].label+"")&&Se(r,t)},d(u){u&&w(e),s=!1,a()}}}function M4(i){let e,t,r=i[0]&&mg(i);return{c(){r&&r.c(),e=ze()},l(n){r&&r.l(n),e=ze()},m(n,s){r&&r.m(n,s),R(n,e,s),t=!0},p(n,[s]){n[0]?r?(r.p(n,s),s&1&&he(r,1)):(r=mg(n),r.c(),he(r,1),r.m(e.parentNode,e)):r&&(It(),be(r,1,1,()=>{r=null}),Rt())},i(n){t||(he(r),t=!0)},o(n){be(r),t=!1},d(n){n&&w(e),r&&r.d(n)}}}function q4(i,e,t){let{$$slots:r={},$$scope:n}=e,{is_open:s=!1}=e,{title:a=""}=e,{content:l=""}=e,{imageSrc:u=""}=e,{options:f=[]}=e;const h=Cf();function _(){t(0,s=!1)}function p(m){h("optionSelected",m),_()}function d(m){ni.call(this,i,m)}const v=m=>p(m);return i.$$set=m=>{"is_open"in m&&t(0,s=m.is_open),"title"in m&&t(1,a=m.title),"content"in m&&t(2,l=m.content),"imageSrc"in m&&t(6,u=m.imageSrc),"options"in m&&t(3,f=m.options),"$$scope"in m&&t(7,n=m.$$scope)},[s,a,l,f,_,p,u,n,r,d,v]}class wg extends Xt{constructor(e){super(),Wt(this,e,q4,M4,kt,{is_open:0,title:1,content:2,imageSrc:6,options:3})}}function yg(i,e,t){const r=i.slice();return r[11]=e[t],r}function Eg(i){let e,t,r,n,s,a,l,u,f,h,_,p,d;const v=i[7].default,m=Or(v,i,i[6],null);let b=lt(i[3]),A=[];for(let U=0;U<b.length;U+=1)A[U]=Dg(yg(i,b,U));return{c(){e=ae("div"),t=ae("div"),r=ae("h2"),n=V(i[1]),s=ve(),a=ae("p"),l=V(i[2]),u=ve(),m&&m.c(),f=ve(),h=ae("div");for(let U=0;U<A.length;U+=1)A[U].c();this.h()},l(U){e=se(U,"DIV",{class:!0});var I=Me(e);t=se(I,"DIV",{class:!0});var O=Me(t);r=se(O,"H2",{});var y=Me(r);n=z(y,i[1]),y.forEach(w),s=ge(O),a=se(O,"P",{});var N=Me(a);l=z(N,i[2]),N.forEach(w),u=ge(O),m&&m.l(O),f=ge(O),h=se(O,"DIV",{class:!0});var T=Me(h);for(let j=0;j<A.length;j+=1)A[j].l(T);T.forEach(w),O.forEach(w),I.forEach(w),this.h()},h(){fe(h,"class","options svelte-2iwk9m"),fe(t,"class","modal-content center text-center svelte-2iwk9m"),fe(e,"class","modal-overlay svelte-2iwk9m")},m(U,I){R(U,e,I),G(e,t),G(t,r),G(r,n),G(t,s),G(t,a),G(a,l),G(t,u),m&&m.m(t,null),G(t,f),G(t,h);for(let O=0;O<A.length;O+=1)A[O]&&A[O].m(h,null);_=!0,p||(d=[Pe(t,"click",jr(i[8])),Pe(e,"click",i[4])],p=!0)},p(U,I){if((!_||I&2)&&Se(n,U[1]),(!_||I&4)&&Se(l,U[2]),m&&m.p&&(!_||I&64)&&Lr(m,v,U,U[6],_?Ur(v,U[6],I,null):Br(U[6]),null),I&40){b=lt(U[3]);let O;for(O=0;O<b.length;O+=1){const y=yg(U,b,O);A[O]?A[O].p(y,I):(A[O]=Dg(y),A[O].c(),A[O].m(h,null))}for(;O<A.length;O+=1)A[O].d(1);A.length=b.length}},i(U){_||(he(m,U),_=!0)},o(U){be(m,U),_=!1},d(U){U&&w(e),m&&m.d(U),er(A,U),p=!1,zt(d)}}}function Dg(i){let e,t=i[11].label+"",r,n,s,a;function l(){return i[9](i[11])}return{c(){e=ae("button"),r=V(t),n=ve(),this.h()},l(u){e=se(u,"BUTTON",{class:!0});var f=Me(e);r=z(f,t),n=ge(f),f.forEach(w),this.h()},h(){fe(e,"class","svelte-2iwk9m")},m(u,f){R(u,e,f),G(e,r),G(e,n),s||(a=Pe(e,"click",l),s=!0)},p(u,f){i=u,f&8&&t!==(t=i[11].label+"")&&Se(r,t)},d(u){u&&w(e),s=!1,a()}}}function j4(i){let e,t,r=i[0]&&Eg(i);return{c(){r&&r.c(),e=ze()},l(n){r&&r.l(n),e=ze()},m(n,s){r&&r.m(n,s),R(n,e,s),t=!0},p(n,[s]){n[0]?r?(r.p(n,s),s&1&&he(r,1)):(r=Eg(n),r.c(),he(r,1),r.m(e.parentNode,e)):r&&(It(),be(r,1,1,()=>{r=null}),Rt())},i(n){t||(he(r),t=!0)},o(n){be(r),t=!1},d(n){n&&w(e),r&&r.d(n)}}}function x4(i,e,t){let{$$slots:r={},$$scope:n}=e,{is_open:s=!1}=e,{title:a=""}=e,{content:l=""}=e,{options:u=[{label:"Cancel",value:"cancel"}]}=e;const f=Cf();function h(){t(0,s=!1)}function _(v){f("model_shared",v),h()}function p(v){ni.call(this,i,v)}const d=v=>_(v);return i.$$set=v=>{"is_open"in v&&t(0,s=v.is_open),"title"in v&&t(1,a=v.title),"content"in v&&t(2,l=v.content),"options"in v&&t(3,u=v.options),"$$scope"in v&&t(6,n=v.$$scope)},[s,a,l,u,h,_,n,r,p,d]}class H4 extends Xt{constructor(e){super(),Wt(this,e,x4,j4,kt,{is_open:0,title:1,content:2,options:3})}}function V4(i){let e,t="";return{c(){e=ae("icon"),e.textContent=t,this.h()},l(r){e=se(r,"ICON",{title:!0,"data-svelte-h":!0}),vt(e)!=="svelte-10dwkvf"&&(e.textContent=t),this.h()},h(){fe(e,"title","Full Screen Mode")},m(r,n){R(r,e,n)},d(r){r&&w(e)}}}function z4(i){let e,t=" Exit Fullscreen";return{c(){e=ae("icon"),e.textContent=t,this.h()},l(r){e=se(r,"ICON",{title:!0,"data-svelte-h":!0}),vt(e)!=="svelte-2wnxo3"&&(e.textContent=t),this.h()},h(){fe(e,"title","Exit Full Screen Mode")},m(r,n){R(r,e,n)},d(r){r&&w(e)}}}function $4(i){let e,t,r,n,s,a;function l(p,d){return p[1]?z4:V4}let u=l(i),f=u(i);const h=i[4].default,_=Or(h,i,i[3],null);return{c(){e=ae("div"),t=ae("button"),f.c(),r=ve(),_&&_.c(),this.h()},l(p){e=se(p,"DIV",{id:!0,class:!0});var d=Me(e);t=se(d,"BUTTON",{class:!0});var v=Me(t);f.l(v),v.forEach(w),r=ge(d),_&&_.l(d),d.forEach(w),this.h()},h(){fe(t,"class","fullscreen-toggle svelte-1jzyezl"),Wi(t,"left",i[0]==="left"),Wi(t,"right",i[0]==="right"),fe(e,"id","fullscreen-parent"),fe(e,"class","svelte-1jzyezl")},m(p,d){R(p,e,d),G(e,t),f.m(t,null),G(e,r),_&&_.m(e,null),n=!0,s||(a=Pe(t,"click",i[2]),s=!0)},p(p,[d]){u!==(u=l(p))&&(f.d(1),f=u(p),f&&(f.c(),f.m(t,null))),(!n||d&1)&&Wi(t,"left",p[0]==="left"),(!n||d&1)&&Wi(t,"right",p[0]==="right"),_&&_.p&&(!n||d&8)&&Lr(_,h,p,p[3],n?Ur(h,p[3],d,null):Br(p[3]),null)},i(p){n||(he(_,p),n=!0)},o(p){be(_,p),n=!1},d(p){p&&w(e),f.d(),_&&_.d(p),s=!1,a()}}}function G4(i,e,t){let{$$slots:r={},$$scope:n}=e,{position:s="right"}=e,a=!1,l;kf(()=>(l=document.getElementById("fullscreen-parent"),document.addEventListener("fullscreenchange",u),()=>{document.removeEventListener("fullscreenchange",u)}));function u(){t(1,a=!!document.fullscreenElement)}async function f(){if(a)try{await document.exitFullscreen()}catch(h){console.error("Error attempting to exit fullscreen:",h)}else try{await l.requestFullscreen()}catch(h){console.error("Error attempting to enable fullscreen:",h)}}return i.$$set=h=>{"position"in h&&t(0,s=h.position),"$$scope"in h&&t(3,n=h.$$scope)},[s,a,f,n,r]}class X4 extends Xt{constructor(e){super(),Wt(this,e,G4,$4,kt,{position:0})}}function W4(i){let e,t,r="drag these nodes to the canvas below",n,s,a,l,u="Action",f,h,_="Event",p,d,v="Attack",m,b,A="Countermeasure",U,I,O,y="Endurant",N,T,j="Artifact",F,q,k="Information",L,D,P="Agent",Q,H,oe,re="State",te,$,W="Vulnerability",de,J,pe="Condition",it,tt;return{c(){e=ae("aside"),t=ae("div"),t.textContent=r,n=ve(),s=ae("div"),a=ae("div"),l=ae("div"),l.textContent=u,f=ve(),h=ae("div"),h.textContent=_,p=ve(),d=ae("div"),d.textContent=v,m=ve(),b=ae("div"),b.textContent=A,U=ve(),I=ae("div"),O=ae("div"),O.textContent=y,N=ve(),T=ae("div"),T.textContent=j,F=ve(),q=ae("div"),q.textContent=k,L=ve(),D=ae("div"),D.textContent=P,Q=ve(),H=ae("div"),oe=ae("div"),oe.textContent=re,te=ve(),$=ae("div"),$.textContent=W,de=ve(),J=ae("div"),J.textContent=pe,this.h()},l(Fe){e=se(Fe,"ASIDE",{class:!0});var He=Me(e);t=se(He,"DIV",{class:!0,"data-svelte-h":!0}),vt(t)!=="svelte-1gs57dm"&&(t.textContent=r),n=ge(He),s=se(He,"DIV",{class:!0});var Ce=Me(s);a=se(Ce,"DIV",{class:!0});var De=Me(a);l=se(De,"DIV",{class:!0,"data-svelte-h":!0}),vt(l)!=="svelte-1yk6dej"&&(l.textContent=u),f=ge(De),h=se(De,"DIV",{class:!0,draggable:!0,style:!0,title:!0,"data-svelte-h":!0}),vt(h)!=="svelte-1hxo6k5"&&(h.textContent=_),p=ge(De),d=se(De,"DIV",{class:!0,draggable:!0,style:!0,title:!0,"data-svelte-h":!0}),vt(d)!=="svelte-1m30nhf"&&(d.textContent=v),m=ge(De),b=se(De,"DIV",{class:!0,draggable:!0,style:!0,title:!0,"data-svelte-h":!0}),vt(b)!=="svelte-xvztkt"&&(b.textContent=A),De.forEach(w),U=ge(Ce),I=se(Ce,"DIV",{class:!0});var Ge=Me(I);O=se(Ge,"DIV",{class:!0,"data-svelte-h":!0}),vt(O)!=="svelte-13fxc4g"&&(O.textContent=y),N=ge(Ge),T=se(Ge,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),vt(T)!=="svelte-p6iki9"&&(T.textContent=j),F=ge(Ge),q=se(Ge,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),vt(q)!=="svelte-gfucir"&&(q.textContent=k),L=ge(Ge),D=se(Ge,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),vt(D)!=="svelte-1k1k96h"&&(D.textContent=P),Ge.forEach(w),Q=ge(Ce),H=se(Ce,"DIV",{class:!0});var gt=Me(H);oe=se(gt,"DIV",{class:!0,"data-svelte-h":!0}),vt(oe)!=="svelte-82roym"&&(oe.textContent=re),te=ge(gt),$=se(gt,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),vt($)!=="svelte-tj9qj"&&($.textContent=W),de=ge(gt),J=se(gt,"DIV",{class:!0,draggable:!0,style:!0,"data-svelte-h":!0}),vt(J)!=="svelte-1mwlumu"&&(J.textContent=pe),gt.forEach(w),Ce.forEach(w),He.forEach(w),this.h()},h(){fe(t,"class","label svelte-1ubw31k"),fe(l,"class","text-center font-medium"),fe(h,"class","actionNode example-node svelte-1ubw31k"),fe(h,"draggable",!0),Kt(h,"text-align","center"),Kt(h,"background","white"),fe(h,"title","d3f:Event"),fe(d,"class","attackSelectorNode example-node svelte-1ubw31k"),fe(d,"draggable",!0),Kt(d,"text-align","center"),Kt(d,"background","#FFD0D0"),fe(d,"title","d3f:OffensiveTechnique"),fe(b,"class","countermeasureSelectorNode example-node svelte-1ubw31k"),fe(b,"draggable",!0),Kt(b,"text-align","center"),Kt(b,"background","#d6eaff"),fe(b,"title","d3f:DefensiveTechnique"),fe(a,"class","nodes-column svelte-1ubw31k"),fe(O,"class","text-center font-medium"),fe(T,"class","artifactSelectorNode art-node example-node svelte-1ubw31k"),fe(T,"draggable",!0),Kt(T,"text-align","center"),Kt(T,"background","#fff4dd"),fe(q,"class","informationSelectorNode example-node svelte-1ubw31k"),fe(q,"draggable",!0),Kt(q,"text-align","center"),Kt(q,"background","#e8f4ea"),fe(D,"class","agentSelectorNode example-node svelte-1ubw31k"),fe(D,"draggable",!0),Kt(D,"text-align","center"),Kt(D,"background","#f0e6e6"),fe(I,"class","nodes-column svelte-1ubw31k"),fe(oe,"class","text-center font-medium"),fe($,"class","vulnerabilitySelectorNode example-node svelte-1ubw31k"),fe($,"draggable",!0),Kt($,"text-align","center"),Kt($,"background","#f9d999"),fe(J,"class","conditionDefinitionNode example-node svelte-1ubw31k"),fe(J,"draggable",!0),Kt(J,"text-align","center"),Kt(J,"background","#ece6ff"),fe(H,"class","nodes-column svelte-1ubw31k"),fe(s,"class","nodes-container svelte-1ubw31k"),fe(e,"class","svelte-1ubw31k")},m(Fe,He){R(Fe,e,He),G(e,t),G(e,n),G(e,s),G(s,a),G(a,l),G(a,f),G(a,h),G(a,p),G(a,d),G(a,m),G(a,b),G(s,U),G(s,I),G(I,O),G(I,N),G(I,T),G(I,F),G(I,q),G(I,L),G(I,D),G(s,Q),G(s,H),G(H,oe),G(H,te),G(H,$),G(H,de),G(H,J),it||(tt=[Pe(h,"dragstart",i[1]),Pe(d,"dragstart",i[2]),Pe(b,"dragstart",i[3]),Pe(T,"dragstart",i[4]),Pe(q,"dragstart",i[5]),Pe(D,"dragstart",i[6]),Pe($,"dragstart",i[7]),Pe(J,"dragstart",i[8])],it=!0)},p:at,i:at,o:at,d(Fe){Fe&&w(e),it=!1,zt(tt)}}}function Q4(i){const e=(h,_)=>{if(!h.dataTransfer)return null;h.dataTransfer.setData("application/svelteflow",_),h.dataTransfer.effectAllowed="move"};return[e,h=>e(h,"eventNode"),h=>e(h,"attackSelectorNode"),h=>e(h,"countermeasureSelectorNode"),h=>e(h,"artifactSelectorNode"),h=>e(h,"informationSelectorNode"),h=>e(h,"agentSelectorNode"),h=>e(h,"vulnerabilitySelectorNode"),h=>e(h,"conditionDefinitionNode")]}class Y4 extends Xt{constructor(e){super(),Wt(this,e,Q4,W4,kt,{})}}function Ag(i,e,t){const r=i.slice();return r[11]=e[t],r[12]=e,r[13]=t,r}function kg(i){let e,t,r=i[0].id+"",n,s,a,l,u,f,h,_,p,d,v,m,b,A,U,I="+",O,y,N=(i[0].type=="attackSelectorNode"||i[0].type=="countermeasureSelectorNode")&&Cg(i),T=i[0].type=="vulnerabilitySelectorNode"&&Tg(i),j=lt(i[0].data.user_properties),F=[];for(let q=0;q<j.length;q+=1)F[q]=Sg(Ag(i,j,q));return{c(){e=ae("p"),t=V("id: "),n=V(r),s=ve(),a=ae("div"),N&&N.c(),l=ve(),T&&T.c(),u=ve(),f=ae("br"),h=V(`
                label:`),_=ae("br"),p=ae("input"),d=ae("br"),v=ve(),m=ae("br"),b=ve();for(let q=0;q<F.length;q+=1)F[q].c();A=ve(),U=ae("button"),U.textContent=I,this.h()},l(q){e=se(q,"P",{class:!0});var k=Me(e);t=z(k,"id: "),n=z(k,r),k.forEach(w),s=ge(q),a=se(q,"DIV",{class:!0});var L=Me(a);N&&N.l(L),l=ge(L),T&&T.l(L),u=ge(L),f=se(L,"BR",{}),h=z(L,`
                label:`),_=se(L,"BR",{}),p=se(L,"INPUT",{type:!0,name:!0}),d=se(L,"BR",{}),v=ge(L),m=se(L,"BR",{}),b=ge(L);for(let D=0;D<F.length;D+=1)F[D].l(L);A=ge(L),U=se(L,"BUTTON",{"data-svelte-h":!0}),vt(U)!=="svelte-y9choq"&&(U.textContent=I),L.forEach(w),this.h()},h(){fe(e,"class",""),fe(p,"type","text"),fe(p,"name","editableInput"),fe(a,"class","")},m(q,k){R(q,e,k),G(e,t),G(e,n),R(q,s,k),R(q,a,k),N&&N.m(a,null),G(a,l),T&&T.m(a,null),G(a,u),G(a,f),G(a,h),G(a,_),G(a,p),bt(p,i[0].data.label),G(a,d),G(a,v),G(a,m),G(a,b);for(let L=0;L<F.length;L+=1)F[L]&&F[L].m(a,null);G(a,A),G(a,U),O||(y=[Pe(p,"input",i[7]),Pe(U,"click",i[1])],O=!0)},p(q,k){if(k&1&&r!==(r=q[0].id+"")&&Se(n,r),q[0].type=="attackSelectorNode"||q[0].type=="countermeasureSelectorNode"?N?N.p(q,k):(N=Cg(q),N.c(),N.m(a,l)):N&&(N.d(1),N=null),q[0].type=="vulnerabilitySelectorNode"?T?T.p(q,k):(T=Tg(q),T.c(),T.m(a,u)):T&&(T.d(1),T=null),k&1&&p.value!==q[0].data.label&&bt(p,q[0].data.label),k&5){j=lt(q[0].data.user_properties);let L;for(L=0;L<j.length;L+=1){const D=Ag(q,j,L);F[L]?F[L].p(D,k):(F[L]=Sg(D),F[L].c(),F[L].m(a,A))}for(;L<F.length;L+=1)F[L].d(1);F.length=j.length}},d(q){q&&(w(e),w(s),w(a)),N&&N.d(),T&&T.d(),er(F,q),O=!1,zt(y)}}}function Cg(i){let e,t,r,n,s,a,l;return{c(){e=V("sequence: "),t=ae("br"),r=ae("input"),n=ve(),s=ae("br"),this.h()},l(u){e=z(u,"sequence: "),t=se(u,"BR",{}),r=se(u,"INPUT",{placeholder:!0,type:!0,name:!0}),n=ge(u),s=se(u,"BR",{}),this.h()},h(){fe(r,"placeholder","property"),fe(r,"type","text"),fe(r,"name","editableInput")},m(u,f){R(u,e,f),R(u,t,f),R(u,r,f),bt(r,i[0].data.sequence),R(u,n,f),R(u,s,f),a||(l=Pe(r,"input",i[5]),a=!0)},p(u,f){f&1&&r.value!==u[0].data.sequence&&bt(r,u[0].data.sequence)},d(u){u&&(w(e),w(t),w(r),w(n),w(s)),a=!1,l()}}}function Tg(i){let e,t,r,n,s,a,l,u;return{c(){e=V("weakness: "),t=ae("br"),r=ae("input"),n=ae("br"),s=ve(),a=ae("br"),this.h()},l(f){e=z(f,"weakness: "),t=se(f,"BR",{}),r=se(f,"INPUT",{placeholder:!0,type:!0,name:!0}),n=se(f,"BR",{}),s=ge(f),a=se(f,"BR",{}),this.h()},h(){fe(r,"placeholder","weakness"),fe(r,"type","text"),fe(r,"name","editableInput")},m(f,h){R(f,e,h),R(f,t,h),R(f,r,h),bt(r,i[0].data.weakness),R(f,n,h),R(f,s,h),R(f,a,h),l||(u=Pe(r,"input",i[6]),l=!0)},p(f,h){h&1&&r.value!==f[0].data.weakness&&bt(r,f[0].data.weakness)},d(f){f&&(w(e),w(t),w(r),w(n),w(s),w(a)),l=!1,u()}}}function Ng(i){let e,t,r,n,s,a,l,u,f="X",h,_,p,d,v;function m(){i[8].call(r,i[13])}function b(){i[9].call(a,i[13])}function A(){return i[10](i[13])}return{c(){e=ae("div"),t=ae("div"),r=ae("input"),n=ve(),s=ae("br"),a=ae("input"),l=ve(),u=ae("button"),u.textContent=f,h=ve(),_=ae("br"),p=ae("br"),this.h()},l(U){e=se(U,"DIV",{class:!0});var I=Me(e);t=se(I,"DIV",{});var O=Me(t);r=se(O,"INPUT",{placeholder:!0,type:!0,name:!0}),n=ge(O),s=se(O,"BR",{}),a=se(O,"INPUT",{placeholder:!0,type:!0,name:!0}),O.forEach(w),l=ge(I),u=se(I,"BUTTON",{"data-svelte-h":!0}),vt(u)!=="svelte-1nu8yn8"&&(u.textContent=f),I.forEach(w),h=ge(U),_=se(U,"BR",{}),p=se(U,"BR",{}),this.h()},h(){fe(r,"placeholder","property"),fe(r,"type","text"),fe(r,"name","editableInput"),fe(a,"placeholder","value"),fe(a,"type","text"),fe(a,"name","editableInput"),fe(e,"class","container svelte-no7kai")},m(U,I){R(U,e,I),G(e,t),G(t,r),bt(r,i[0].data.user_properties[i[13]][0]),G(t,n),G(t,s),G(t,a),bt(a,i[0].data.user_properties[i[13]][1]),G(e,l),G(e,u),R(U,h,I),R(U,_,I),R(U,p,I),d||(v=[Pe(r,"input",m),Pe(a,"input",b),Pe(u,"click",A)],d=!0)},p(U,I){i=U,I&1&&r.value!==i[0].data.user_properties[i[13]][0]&&bt(r,i[0].data.user_properties[i[13]][0]),I&1&&a.value!==i[0].data.user_properties[i[13]][1]&&bt(a,i[0].data.user_properties[i[13]][1])},d(U){U&&(w(e),w(h),w(_),w(p)),d=!1,zt(v)}}}function Sg(i){let e,t=i[0].data.user_properties[i[13]].length==2&&Ng(i);return{c(){t&&t.c(),e=ze()},l(r){t&&t.l(r),e=ze()},m(r,n){t&&t.m(r,n),R(r,e,n)},p(r,n){r[0].data.user_properties[r[13]].length==2?t?t.p(r,n):(t=Ng(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){r&&w(e),t&&t.d(r)}}}function K4(i){let e,t,r,n,s=i[0]&&i[0].data.user_properties&&kg(i);const a=i[4].default,l=Or(a,i,i[3],null);return{c(){e=ae("div"),t=ae("div"),s&&s.c(),r=ve(),l&&l.c(),this.h()},l(u){e=se(u,"DIV",{class:!0});var f=Me(e);t=se(f,"DIV",{class:!0});var h=Me(t);s&&s.l(h),r=ge(h),l&&l.l(h),h.forEach(w),f.forEach(w),this.h()},h(){fe(t,"class","side-panel svelte-no7kai"),fe(e,"class","side-panel-wrapper")},m(u,f){R(u,e,f),G(e,t),s&&s.m(t,null),G(t,r),l&&l.m(t,null),n=!0},p(u,[f]){u[0]&&u[0].data.user_properties?s?s.p(u,f):(s=kg(u),s.c(),s.m(t,r)):s&&(s.d(1),s=null),l&&l.p&&(!n||f&8)&&Lr(l,a,u,u[3],n?Ur(a,u[3],f,null):Br(u[3]),null)},i(u){n||(he(l,u),n=!0)},o(u){be(l,u),n=!1},d(u){u&&w(e),s&&s.d(),l&&l.d(u)}}}function J4(i,e,t){let r;At(i,St,v=>t(0,r=v));let{$$slots:n={},$$scope:s}=e;function a(){r.data.user_properties||Ht(St,r.data.user_properties=[],r),r.data.user_properties.push(["",""]),St.set(r)}function l(v){r.data.user_properties.splice(v.index,1),St.set(r)}function u(){r.data.sequence=this.value,St.set(r)}function f(){r.data.weakness=this.value,St.set(r)}function h(){r.data.label=this.value,St.set(r)}function _(v){r.data.user_properties[v][0]=this.value,St.set(r)}function p(v){r.data.user_properties[v][1]=this.value,St.set(r)}const d=v=>l({index:v});return i.$$set=v=>{"$$scope"in v&&t(3,s=v.$$scope)},[r,a,l,s,n,u,f,h,_,p,d]}class Z4 extends Xt{constructor(e){super(),Wt(this,e,J4,K4,kt,{})}}function Ig(i,e,t){const r=i.slice();return r[9]=e[t],r}function Rg(i){let e,t=i[9]["rdfs:label"]+"",r,n,s,a,l;function u(...h){return i[7](i[9],...h)}function f(...h){return i[8](i[9],...h)}return{c(){e=ae("div"),r=V(t),n=ve(),this.h()},l(h){e=se(h,"DIV",{class:!0,title:!0,tabindex:!0,role:!0});var _=Me(e);r=z(_,t),n=ge(_),_.forEach(w),this.h()},h(){fe(e,"class","select-technique"),fe(e,"title",s=i[9]["d3f:definition"]),fe(e,"tabindex","0"),fe(e,"role","button")},m(h,_){R(h,e,_),G(e,r),G(e,n),a||(l=[Pe(e,"click",jr(ks(u))),Pe(e,"keydown",jr(f))],a=!0)},p(h,_){i=h,_&8&&t!==(t=i[9]["rdfs:label"]+"")&&Se(r,t),_&8&&s!==(s=i[9]["d3f:definition"])&&fe(e,"title",s)},d(h){h&&w(e),a=!1,zt(l)}}}function eR(i){let e,t=lt(i[3]),r=[];for(let n=0;n<t.length;n+=1)r[n]=Rg(Ig(i,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ze()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=ze()},m(n,s){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(n,s);R(n,e,s)},p(n,[s]){if(s&12){t=lt(n[3]);let a;for(a=0;a<t.length;a+=1){const l=Ig(n,t,a);r[a]?r[a].p(l,s):(r[a]=Rg(l),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},i:at,o:at,d(n){n&&w(e),er(r,n)}}}function tR(i,e,t){let r,n=at,s=()=>(n(),n=Ai(h,b=>t(5,r=b)),h),a,l=at,u=()=>(l(),l=Ai(f,b=>t(6,a=b)),f);i.$$.on_destroy.push(()=>n()),i.$$.on_destroy.push(()=>l());let{list:f}=e;u();let{filter_value_store:h}=e;s();let{select_item:_}=e,{regex_search_keys:p=["rdfs:label","@id"]}=e,d=[];const v=(b,A)=>_(A,b),m=(b,A)=>_l(A,_,b);return i.$$set=b=>{"list"in b&&u(t(0,f=b.list)),"filter_value_store"in b&&s(t(1,h=b.filter_value_store)),"select_item"in b&&t(2,_=b.select_item),"regex_search_keys"in b&&t(4,p=b.regex_search_keys)},i.$$.update=()=>{i.$$.dirty&112&&t(3,d=KA(a,r,p))},[f,h,_,d,p,r,a,v,m]}class rR extends Xt{constructor(e){super(),Wt(this,e,tR,eR,kt,{list:0,filter_value_store:1,select_item:2,regex_search_keys:4})}}function Pg(i,e,t){const r=i.slice();return r[12]=e[t],r}function Fg(i,e,t){const r=i.slice();return r[15]=e[t],r}function Og(i){let e,t=lt(i[12].children),r=[];for(let n=0;n<t.length;n+=1)r[n]=Lg(Fg(i,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ze()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=ze()},m(n,s){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(n,s);R(n,e,s)},p(n,s){if(s&20){t=lt(n[12].children);let a;for(a=0;a<t.length;a+=1){const l=Fg(n,t,a);r[a]?r[a].p(l,s):(r[a]=Lg(l),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(n){n&&w(e),er(r,n)}}}function Lg(i){let e,t=i[15]["rdfs:label"]+"",r,n,s,a,l;function u(...h){return i[10](i[15],...h)}function f(...h){return i[11](i[15],...h)}return{c(){e=ae("div"),r=V(t),n=ve(),this.h()},l(h){e=se(h,"DIV",{class:!0,title:!0,tabindex:!0,role:!0});var _=Me(e);r=z(_,t),n=ge(_),_.forEach(w),this.h()},h(){fe(e,"class","select-technique"),fe(e,"title",s=i[15]["d3f:definition"]),fe(e,"tabindex","0"),fe(e,"role","button")},m(h,_){R(h,e,_),G(e,r),G(e,n),a||(l=[Pe(e,"click",jr(ks(u))),Pe(e,"keydown",jr(f))],a=!0)},p(h,_){i=h,_&16&&t!==(t=i[15]["rdfs:label"]+"")&&Se(r,t),_&16&&s!==(s=i[15]["d3f:definition"])&&fe(e,"title",s)},d(h){h&&w(e),a=!1,zt(l)}}}function Bg(i){let e,t,r=i[12]["rdfs:label"]+"",n,s,a,l,u,f,h,_=(i[3]===i[12]["@id"]||i[5])&&Og(i);return{c(){e=ae("details"),t=ae("summary"),n=V(r),a=ve(),_&&_.c(),l=ve(),this.h()},l(p){e=se(p,"DETAILS",{});var d=Me(e);t=se(d,"SUMMARY",{id:!0});var v=Me(t);n=z(v,r),v.forEach(w),a=ge(d),_&&_.l(d),l=ge(d),d.forEach(w),this.h()},h(){fe(t,"id",s=i[12]["@id"]),e.open=u=i[3]===i[12]["@id"]||i[5]},m(p,d){R(p,e,d),G(e,t),G(t,n),G(e,a),_&&_.m(e,null),G(e,l),f||(h=Pe(t,"click",jr(ks(i[6]))),f=!0)},p(p,d){d&16&&r!==(r=p[12]["rdfs:label"]+"")&&Se(n,r),d&16&&s!==(s=p[12]["@id"])&&fe(t,"id",s),p[3]===p[12]["@id"]||p[5]?_?_.p(p,d):(_=Og(p),_.c(),_.m(e,l)):_&&(_.d(1),_=null),d&56&&u!==(u=p[3]===p[12]["@id"]||p[5])&&(e.open=u)},d(p){p&&w(e),_&&_.d(),f=!1,h()}}}function nR(i){let e,t=lt(i[4]),r=[];for(let n=0;n<t.length;n+=1)r[n]=Bg(Pg(i,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ze()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=ze()},m(n,s){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(n,s);R(n,e,s)},p(n,[s]){if(s&124){t=lt(n[4]);let a;for(a=0;a<t.length;a+=1){const l=Pg(n,t,a);r[a]?r[a].p(l,s):(r[a]=Bg(l),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},i:at,o:at,d(n){n&&w(e),er(r,n)}}}function iR(i,e,t){let r,n,s=at,a=()=>(s(),s=Ai(_,I=>t(8,n=I)),_),l,u=at,f=()=>(u(),u=Ai(h,I=>t(9,l=I)),h);i.$$.on_destroy.push(()=>s()),i.$$.on_destroy.push(()=>u());let{list:h}=e;f();let{filter_value_store:_}=e;a();let{select_item:p}=e,{regex_search_keys:d=["d3f:definition","rdfs:label","@id","d3f:d3fend-id"]}=e,v=null,m=[];function b(I){const{id:O}=I.target;v===O?t(3,v=null):t(3,v=O)}const A=(I,O)=>p(O,I),U=(I,O)=>_l(O,p,I);return i.$$set=I=>{"list"in I&&f(t(0,h=I.list)),"filter_value_store"in I&&a(t(1,_=I.filter_value_store)),"select_item"in I&&t(2,p=I.select_item),"regex_search_keys"in I&&t(7,d=I.regex_search_keys)},i.$$.update=()=>{i.$$.dirty&896&&t(4,m=JA(l,n,d)),i.$$.dirty&256&&t(5,r=!!n)},[h,_,p,v,m,r,b,d,n,l,A,U]}class aR extends Xt{constructor(e){super(),Wt(this,e,iR,nR,kt,{list:0,filter_value_store:1,select_item:2,regex_search_keys:7})}}function Ug(i,e,t){const r=i.slice();return r[17]=e[t],r}function sR(i){let e,t,r,n;return{c(){e=ae("div"),t=V(i[7]),this.h()},l(s){e=se(s,"DIV",{id:!0,class:!0,role:!0,tabindex:!0});var a=Me(e);t=z(a,i[7]),a.forEach(w),this.h()},h(){var s;fe(e,"id","selectable-technique"),fe(e,"class","no-arrow svelte-1t0ebq3"),fe(e,"role","tree"),fe(e,"tabindex","0"),Wi(e,"current-selected",((s=i[9])==null?void 0:s["@id"])===i[0]["@id"])},m(s,a){R(s,e,a),G(e,t),r||(n=[Pe(e,"click",jr(ks(i[14]))),Pe(e,"keydown",jr(ks(i[15])))],r=!0)},p(s,a){var l;a&128&&Se(t,s[7]),a&513&&Wi(e,"current-selected",((l=s[9])==null?void 0:l["@id"])===s[0]["@id"])},i:at,o:at,d(s){s&&w(e),r=!1,zt(n)}}}function lR(i){let e,t,r="",n,s,a,l,u,f,h,_,p=i[5]&&Mg(i);return{c(){e=ae("span"),t=ae("span"),t.textContent=r,n=ve(),s=ae("span"),a=V(i[7]),l=ve(),p&&p.c(),u=ze(),this.h()},l(d){e=se(d,"SPAN",{class:!0,role:!0,tabindex:!0});var v=Me(e);t=se(v,"SPAN",{class:!0,"data-svelte-h":!0}),vt(t)!=="svelte-1xn7s3"&&(t.textContent=r),n=ge(v),s=se(v,"SPAN",{id:!0,class:!0});var m=Me(s);a=z(m,i[7]),m.forEach(w),v.forEach(w),l=ge(d),p&&p.l(d),u=ze(),this.h()},h(){var d;fe(t,"class","arrow svelte-1t0ebq3"),Wi(t,"arrowDown",i[6]),fe(s,"id","parent-selectable-technique"),fe(s,"class","label svelte-1t0ebq3"),fe(e,"class","parent-technique svelte-1t0ebq3"),fe(e,"role","tree"),fe(e,"tabindex","0"),Wi(e,"current-selected",((d=i[9])==null?void 0:d["@id"])===i[0]["@id"])},m(d,v){R(d,e,v),G(e,t),G(e,n),G(e,s),G(s,a),R(d,l,v),p&&p.m(d,v),R(d,u,v),f=!0,h||(_=[Pe(e,"click",jr(ks(i[12]))),Pe(e,"keydown",jr(ks(i[13])))],h=!0)},p(d,v){var m;(!f||v&64)&&Wi(t,"arrowDown",d[6]),(!f||v&128)&&Se(a,d[7]),(!f||v&513)&&Wi(e,"current-selected",((m=d[9])==null?void 0:m["@id"])===d[0]["@id"]),d[5]?p?(p.p(d,v),v&32&&he(p,1)):(p=Mg(d),p.c(),he(p,1),p.m(u.parentNode,u)):p&&(It(),be(p,1,1,()=>{p=null}),Rt())},i(d){f||(he(p),f=!0)},o(d){be(p),f=!1},d(d){d&&(w(e),w(l),w(u)),p&&p.d(d),h=!1,zt(_)}}}function Mg(i){let e,t,r=lt(i[8]),n=[];for(let a=0;a<r.length;a+=1)n[a]=qg(Ug(i,r,a));const s=a=>be(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=ze()},l(a){for(let l=0;l<n.length;l+=1)n[l].l(a);e=ze()},m(a,l){for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(a,l);R(a,e,l),t=!0},p(a,l){if(l&278){r=lt(a[8]);let u;for(u=0;u<r.length;u+=1){const f=Ug(a,r,u);n[u]?(n[u].p(f,l),he(n[u],1)):(n[u]=qg(f),n[u].c(),he(n[u],1),n[u].m(e.parentNode,e))}for(It(),u=r.length;u<n.length;u+=1)s(u);Rt()}},i(a){if(!t){for(let l=0;l<r.length;l+=1)he(n[l]);t=!0}},o(a){n=n.filter(Boolean);for(let l=0;l<n.length;l+=1)be(n[l]);t=!1},d(a){a&&w(e),er(n,a)}}}function qg(i){let e,t;return e=new Id({props:{tree:i[17],expanded_nodes:i[1],selected_node:i[2],first_node:!1,label_func:i[4]}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n&256&&(s.tree=r[17]),n&2&&(s.expanded_nodes=r[1]),n&4&&(s.selected_node=r[2]),n&16&&(s.label_func=r[4]),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function oR(i){let e,t,r,n,s;const a=[lR,sR],l=[];function u(f,h){return f[8]?0:1}return r=u(i),n=l[r]=a[r](i),{c(){e=ae("ul"),t=ae("li"),n.c(),this.h()},l(f){e=se(f,"UL",{style:!0,class:!0});var h=Me(e);t=se(h,"LI",{});var _=Me(t);n.l(_),_.forEach(w),h.forEach(w),this.h()},h(){Kt(e,"--first-node",i[3]?"0rem":"0.6rem"),fe(e,"class","svelte-1t0ebq3")},m(f,h){R(f,e,h),G(e,t),l[r].m(t,null),s=!0},p(f,[h]){let _=r;r=u(f),r===_?l[r].p(f,h):(It(),be(l[_],1,1,()=>{l[_]=null}),Rt(),n=l[r],n?n.p(f,h):(n=l[r]=a[r](f),n.c()),he(n,1),n.m(t,null)),(!s||h&8)&&Kt(e,"--first-node",f[3]?"0rem":"0.6rem")},i(f){s||(he(n),s=!0)},o(f){be(n),s=!1},d(f){f&&w(e),l[r].d()}}}function uR(i,e,t){let r,n,s,a,l=at,u=()=>(l(),l=Ai(v,j=>t(9,a=j)),v),f,h=at,_=()=>(h(),h=Ai(d,j=>t(16,f=j)),d);i.$$.on_destroy.push(()=>l()),i.$$.on_destroy.push(()=>h());let{tree:p}=e,{expanded_nodes:d}=e;_();let{selected_node:v}=e;u();let{first_node:m=!0}=e,{label_func:b}=e,A=f[r]||!1;function U(j,F){t(5,A=!A),Ht(v,a=F,a)}function I(j,F){Ht(v,a=F,a)}const O=j=>U(j,p),y=j=>_l(j,U,p),N=j=>I(j,p),T=j=>_l(j,I,p);return i.$$set=j=>{"tree"in j&&t(0,p=j.tree),"expanded_nodes"in j&&_(t(1,d=j.expanded_nodes)),"selected_node"in j&&u(t(2,v=j.selected_node)),"first_node"in j&&t(3,m=j.first_node),"label_func"in j&&t(4,b=j.label_func)},i.$$.update=()=>{i.$$.dirty&17&&t(7,r=b(p)),i.$$.dirty&1&&t(8,n=p.children),i.$$.dirty&32&&t(6,s=A)},[p,d,v,m,b,A,s,r,n,a,U,I,O,y,N,T]}class Id extends Xt{constructor(e){super(),Wt(this,e,uR,oR,kt,{tree:0,expanded_nodes:1,selected_node:2,first_node:3,label_func:4})}}function jg(i,e,t){const r=i.slice();return r[10]=e[t],r}function xg(i){let e,t;return e=new Id({props:{tree:i[10],expanded_nodes:i[4],selected_node:i[5],select_item:i[2],label_func:cR}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n&8&&(s.tree=r[10]),n&4&&(s.select_item=r[2]),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function fR(i){let e,t,r=lt(i[3]),n=[];for(let a=0;a<r.length;a+=1)n[a]=xg(jg(i,r,a));const s=a=>be(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=ze()},l(a){for(let l=0;l<n.length;l+=1)n[l].l(a);e=ze()},m(a,l){for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(a,l);R(a,e,l),t=!0},p(a,[l]){if(l&60){r=lt(a[3]);let u;for(u=0;u<r.length;u+=1){const f=jg(a,r,u);n[u]?(n[u].p(f,l),he(n[u],1)):(n[u]=xg(f),n[u].c(),he(n[u],1),n[u].m(e.parentNode,e))}for(It(),u=r.length;u<n.length;u+=1)s(u);Rt()}},i(a){if(!t){for(let l=0;l<r.length;l+=1)he(n[l]);t=!0}},o(a){n=n.filter(Boolean);for(let l=0;l<n.length;l+=1)be(n[l]);t=!1},d(a){a&&w(e),er(n,a)}}}function cR(i){var e;return((e=i==null?void 0:i["rdfs:label"])==null?void 0:e[0])??i["@id"]}function hR(i,e,t){let r,n,s=at,a=()=>(s(),s=Ai(_,A=>t(7,n=A)),_),l,u=at,f=()=>(u(),u=Ai(h,A=>t(8,l=A)),h);i.$$.on_destroy.push(()=>s()),i.$$.on_destroy.push(()=>u());let{list:h}=e;f();let{filter_value_store:_}=e;a();let{select_item:p}=e,{regex_search_keys:d=["rdfs:label","@id"]}=e,v=[];const m=on({}),b=on(null);return At(i,b,A=>t(9,r=A)),Af(()=>{r&&p(null,r,"d3f_property")}),i.$$set=A=>{"list"in A&&f(t(0,h=A.list)),"filter_value_store"in A&&a(t(1,_=A.filter_value_store)),"select_item"in A&&t(2,p=A.select_item),"regex_search_keys"in A&&t(6,d=A.regex_search_keys)},i.$$.update=()=>{i.$$.dirty&448&&t(3,v=o1(l.associated,n,d))},[h,_,p,v,m,b,d,n,l]}class dR extends Xt{constructor(e){super(),Wt(this,e,hR,fR,kt,{list:0,filter_value_store:1,select_item:2,regex_search_keys:6})}}function Hg(i,e,t){const r=i.slice();return r[10]=e[t],r}function Vg(i){let e,t;return e=new Id({props:{tree:i[10],expanded_nodes:i[4],selected_node:i[5],select_item:i[2],label_func:_R}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n&8&&(s.tree=r[10]),n&4&&(s.select_item=r[2]),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function pR(i){let e,t,r=lt(i[3]),n=[];for(let a=0;a<r.length;a+=1)n[a]=Vg(Hg(i,r,a));const s=a=>be(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=ze()},l(a){for(let l=0;l<n.length;l+=1)n[l].l(a);e=ze()},m(a,l){for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(a,l);R(a,e,l),t=!0},p(a,[l]){if(l&60){r=lt(a[3]);let u;for(u=0;u<r.length;u+=1){const f=Hg(a,r,u);n[u]?(n[u].p(f,l),he(n[u],1)):(n[u]=Vg(f),n[u].c(),he(n[u],1),n[u].m(e.parentNode,e))}for(It(),u=r.length;u<n.length;u+=1)s(u);Rt()}},i(a){if(!t){for(let l=0;l<r.length;l+=1)he(n[l]);t=!0}},o(a){n=n.filter(Boolean);for(let l=0;l<n.length;l+=1)be(n[l]);t=!1},d(a){a&&w(e),er(n,a)}}}function _R(i){return(i==null?void 0:i["rdfs:label"])??i["@id"]}function vR(i,e,t){let r,n,s=at,a=()=>(s(),s=Ai(_,A=>t(7,n=A)),_),l,u=at,f=()=>(u(),u=Ai(h,A=>t(8,l=A)),h);i.$$.on_destroy.push(()=>s()),i.$$.on_destroy.push(()=>u());let{list:h}=e;f();let{filter_value_store:_}=e;a();let{select_item:p}=e,{regex_search_keys:d=["rdfs:label","@id"]}=e,v=[];const m=on({}),b=on(null);return At(i,b,A=>t(9,r=A)),Af(()=>{r&&p(null,r)}),i.$$set=A=>{"list"in A&&f(t(0,h=A.list)),"filter_value_store"in A&&a(t(1,_=A.filter_value_store)),"select_item"in A&&t(2,p=A.select_item),"regex_search_keys"in A&&t(6,d=A.regex_search_keys)},i.$$.update=()=>{i.$$.dirty&448&&t(3,v=o1(l,n,d))},[h,_,p,v,m,b,d,n,l]}class gR extends Xt{constructor(e){super(),Wt(this,e,vR,pR,kt,{list:0,filter_value_store:1,select_item:2,regex_search_keys:6})}}const mR=i=>({}),zg=i=>({R:i[6],filter_value_store:i[4],select_item:i[9]});function $g(i){let e,t,r,n,s,a,l;const u=i[18].default,f=Or(u,i,i[17],zg);return{c(){e=ae("ul"),t=ae("input"),r=ve(),f&&f.c(),this.h()},l(h){e=se(h,"UL",{id:!0,class:!0});var _=Me(e);t=se(_,"INPUT",{type:!0,id:!0,name:!0,placeholder:!0,class:!0}),r=ge(_),f&&f.l(_),_.forEach(w),this.h()},h(){fe(t,"type","text"),fe(t,"id","filter"),fe(t,"name","filter"),fe(t,"placeholder","Filter / Save"),fe(t,"class","svelte-155p9qt"),fe(e,"id","d3fend-container"),fe(e,"class","dropdown-menu svelte-155p9qt")},m(h,_){R(h,e,_),G(e,t),G(e,r),f&&f.m(e,null),s=!0,a||(l=[p_(XA.call(null,t)),Pe(t,"click",jr(i[19])),Pe(t,"keyup",jr(i[20])),Pe(t,"keydown",jr(i[21])),p_(WA.call(null,e)),Pe(e,"outsideclick",i[7])],a=!0)},p(h,_){f&&f.p&&(!s||_&131072)&&Lr(f,u,h,h[17],s?Ur(u,h[17],_,mR):Br(h[17]),zg)},i(h){s||(he(f,h),h&&Nh(()=>{s&&(n||(n=m_(e,N_,{delay:50,duration:200,axis:"y"},!0)),n.run(1))}),s=!0)},o(h){be(f,h),h&&(n||(n=m_(e,N_,{delay:50,duration:200,axis:"y"},!1)),n.run(0)),s=!1},d(h){h&&w(e),f&&f.d(h),h&&n&&n.end(),a=!1,zt(l)}}}function bR(i){let e,t,r,n,s,a,l,u,f,h,_=i[2]&&$g(i);return{c(){e=ae("div"),t=ae("div"),r=ae("div"),n=ae("span"),s=V(i[1]),a=ve(),_&&_.c(),this.h()},l(p){e=se(p,"DIV",{class:!0,style:!0});var d=Me(e);t=se(d,"DIV",{class:!0,role:!0,tabindex:!0});var v=Me(t);r=se(v,"DIV",{class:!0});var m=Me(r);n=se(m,"SPAN",{class:!0});var b=Me(n);s=z(b,i[1]),b.forEach(w),m.forEach(w),a=ge(v),_&&_.l(v),v.forEach(w),d.forEach(w),this.h()},h(){fe(n,"class","selected svelte-155p9qt"),fe(r,"class","select autocomplete-dropdown svelte-155p9qt"),fe(t,"class",l="dropdown "+(i[2]?"active":"")+" svelte-155p9qt"),fe(t,"role","button"),fe(t,"tabindex","0"),fe(e,"class","container svelte-155p9qt"),Kt(e,"--input-color",i[0])},m(p,d){R(p,e,d),G(e,t),G(t,r),G(r,n),G(n,s),G(t,a),_&&_.m(t,null),u=!0,f||(h=[Pe(t,"click",i[8]),Pe(t,"keydown",i[22])],f=!0)},p(p,[d]){(!u||d&2)&&Se(s,p[1]),p[2]?_?(_.p(p,d),d&4&&he(_,1)):(_=$g(p),_.c(),he(_,1),_.m(t,null)):_&&(It(),be(_,1,1,()=>{_=null}),Rt()),(!u||d&4&&l!==(l="dropdown "+(p[2]?"active":"")+" svelte-155p9qt"))&&fe(t,"class",l),(!u||d&1)&&Kt(e,"--input-color",p[0])},i(p){u||(he(_),u=!0)},o(p){be(_),u=!1},d(p){p&&w(e),_&&_.d(),f=!1,zt(h)}}}function wR(i,e,t){let r,n,s,a,{$$slots:l={},$$scope:u}=e,{node_id:f}=e,{element_id:h}=e,{input_color:_="white"}=e,{place_holder:p="< d3fend class >"}=e,{flow_store_hook:d=Li}=e,{data_save_key:v="d3f_class"}=e;const m=on(!1);At(i,m,D=>t(2,a=D));const b=on(null);At(i,b,D=>t(24,n=D));const A=d();At(i,A,D=>t(25,s=D));const U={ItemTactic:aR,ItemList:rR,ItemProperty:dR,ItemInformation:gR};let I;Af(()=>{Ht(b,n="",n)});function O(){Ht(m,a=!1,a),Ht(b,n="",n)}function y(D){a?O():Ht(m,a=!0,a)}function N(D,P,Q="d3f_class"){let H=P["rdfs:label"];Array.isArray(P["rdfs:label"])&&(H=P["rdfs:label"][0]),s.forEach(oe=>{oe.id===f&&(oe.data=Object.assign(Object.assign({},oe.data),{[Q]:P["@id"],label:H}))}),A.set(s),O()}function T(D){clearTimeout(I),I=setTimeout(()=>{Ht(b,n=D.target.value,n)},400)}function j(D){const P=D.target.value;N(D,{"rdfs:label":P,"@id":P},v)}function F(D){ni.call(this,i,D)}const q=D=>T(D),k=D=>_l(D,j),L=D=>_l(D,y);return i.$$set=D=>{"node_id"in D&&t(12,f=D.node_id),"element_id"in D&&t(13,h=D.element_id),"input_color"in D&&t(0,_=D.input_color),"place_holder"in D&&t(14,p=D.place_holder),"flow_store_hook"in D&&t(15,d=D.flow_store_hook),"data_save_key"in D&&t(16,v=D.data_save_key),"$$scope"in D&&t(17,u=D.$$scope)},i.$$.update=()=>{i.$$.dirty&24576&&t(1,r=h||p)},[_,r,a,m,b,A,U,O,y,N,T,j,f,h,p,d,v,u,l,F,q,k,L]}class Os extends Xt{constructor(e){super(),Wt(this,e,wR,bR,kt,{node_id:12,element_id:13,input_color:0,place_holder:14,flow_store_hook:15,data_save_key:16})}}function Gg(i,e,t){const r=i.slice();return r[33]=e[t],r[34]=e,r[35]=t,r}function Xg(i){let e,t;return e=new Jt({props:{type:"target",class:"customHandle",position:qt.Left,id:"target",style:i[17](),isConnectableStart:!1,isConnectable:i[2]}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n[0]&4&&(s.isConnectable=r[2]),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function Wg(i){let e=i[7],t,r,n=Qg(i);return{c(){n.c(),t=ze()},l(s){n.l(s),t=ze()},m(s,a){n.m(s,a),R(s,t,a),r=!0},p(s,a){a[0]&128&&kt(e,e=s[7])?(It(),be(n,1,1,at),Rt(),n=Qg(s),n.c(),he(n,1),n.m(t.parentNode,t)):n.p(s,a)},i(s){r||(he(n),r=!0)},o(s){be(n),r=!1},d(s){s&&w(t),n.d(s)}}}function Qg(i){let e,t,r,n,s,a,l,u;return e=new Jt({props:{type:"source",position:qt.Top,id:"source",style:i[18](),isConnectable:i[2]}}),r=new Jt({props:{type:"source",position:qt.Left,id:"source",style:i[18](),isConnectable:i[2]}}),s=new Jt({props:{type:"source",position:qt.Right,id:"source",style:i[18](),isConnectable:i[2]}}),l=new Jt({props:{type:"source",position:qt.Bottom,id:"source",style:i[18](),isConnectable:i[2]}}),{c(){Qe(e.$$.fragment),t=ve(),Qe(r.$$.fragment),n=ve(),Qe(s.$$.fragment),a=ve(),Qe(l.$$.fragment)},l(f){Ye(e.$$.fragment,f),t=ge(f),Ye(r.$$.fragment,f),n=ge(f),Ye(s.$$.fragment,f),a=ge(f),Ye(l.$$.fragment,f)},m(f,h){Ke(e,f,h),R(f,t,h),Ke(r,f,h),R(f,n,h),Ke(s,f,h),R(f,a,h),Ke(l,f,h),u=!0},p(f,h){const _={};h[0]&4&&(_.isConnectable=f[2]),e.$set(_);const p={};h[0]&4&&(p.isConnectable=f[2]),r.$set(p);const d={};h[0]&4&&(d.isConnectable=f[2]),s.$set(d);const v={};h[0]&4&&(v.isConnectable=f[2]),l.$set(v)},i(f){u||(he(e.$$.fragment,f),he(r.$$.fragment,f),he(s.$$.fragment,f),he(l.$$.fragment,f),u=!0)},o(f){be(e.$$.fragment,f),be(r.$$.fragment,f),be(s.$$.fragment,f),be(l.$$.fragment,f),u=!1},d(f){f&&(w(t),w(n),w(a)),Je(e,f),Je(r,f),Je(s,f),Je(l,f)}}}function yR(i){let e,t;return e=new i[36].ItemList({props:{list:h1,filter_value_store:i[37],select_item:i[38]}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n[1]&64&&(s.filter_value_store=r[37]),n[1]&128&&(s.select_item=r[38]),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function Yg(i){let e,t=lt(i[0].user_properties),r=[];for(let n=0;n<t.length;n+=1)r[n]=Kg(Gg(i,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ze()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=ze()},m(n,s){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(n,s);R(n,e,s)},p(n,s){if(s[0]&801){t=lt(n[0].user_properties);let a;for(a=0;a<t.length;a+=1){const l=Gg(n,t,a);r[a]?r[a].p(l,s):(r[a]=Kg(l),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(n){n&&w(e),er(r,n)}}}function Kg(i){let e,t,r,n,s,a,l,u,f;function h(...v){return i[28](i[35],...v)}function _(){i[29].call(r,i[35])}function p(...v){return i[30](i[35],...v)}function d(){i[31].call(a,i[35])}return{c(){e=ae("div"),t=ae("div"),r=ae("input"),n=ve(),s=ae("div"),a=ae("input"),l=ve(),this.h()},l(v){e=se(v,"DIV",{class:!0});var m=Me(e);t=se(m,"DIV",{class:!0});var b=Me(t);r=se(b,"INPUT",{placeholder:!0}),b.forEach(w),n=ge(m),s=se(m,"DIV",{class:!0});var A=Me(s);a=se(A,"INPUT",{placeholder:!0}),A.forEach(w),l=ge(m),m.forEach(w),this.h()},h(){fe(r,"placeholder","property"),fe(t,"class","user-property flex-column"),fe(a,"placeholder","value"),fe(s,"class","user-value flex-column flex-grow-3"),fe(e,"class","user-properties flex")},m(v,m){R(v,e,m),G(e,t),G(t,r),bt(r,i[9][i[35]][0]),G(e,n),G(e,s),G(s,a),bt(a,i[8][i[35]][1]),G(e,l),u||(f=[Pe(r,"input",h),Pe(r,"input",_),Pe(a,"input",p),Pe(a,"input",d)],u=!0)},p(v,m){i=v,m[0]&512&&r.value!==i[9][i[35]][0]&&bt(r,i[9][i[35]][0]),m[0]&256&&a.value!==i[8][i[35]][1]&&bt(a,i[8][i[35]][1])},d(v){v&&w(e),u=!1,zt(f)}}}function ER(i){let e=i[4].inProgress,t,r,n,s,a,l,u,f,h,_,p,d,v,m,b,A,U,I,O,y,N,T="+",j,F,q,k=Xg(i),L=!i[6]&&Wg(i);a=new Qa({props:{isVisible:i[3]}}),v=new Os({props:{node_id:i[1],element_id:i[0].d3f_class,input_color:"#ffc3c7",$$slots:{default:[yR,({R:P,filter_value_store:Q,select_item:H})=>({36:P,37:Q,38:H}),({R:P,filter_value_store:Q,select_item:H})=>[0,(P?32:0)|(Q?64:0)|(H?128:0)]]},$$scope:{ctx:i}}});let D=i[0].user_properties&&Yg(i);return{c(){k.c(),t=ve(),r=ae("div"),L&&L.c(),n=ve(),s=ae("div"),Qe(a.$$.fragment),l=ve(),u=ae("i"),f=V(`Attack Action
        `),h=ae("input"),_=ve(),p=ae("br"),d=ve(),Qe(v.$$.fragment),m=ve(),b=ae("div"),A=ae("input"),U=ve(),I=ae("br"),O=ve(),D&&D.c(),y=ve(),N=ae("button"),N.textContent=T,this.h()},l(P){k.l(P),t=ge(P),r=se(P,"DIV",{class:!0});var Q=Me(r);L&&L.l(Q),n=ge(Q),s=se(Q,"DIV",{class:!0});var H=Me(s);Ye(a.$$.fragment,H),l=ge(H),u=se(H,"I",{});var oe=Me(u);f=z(oe,`Attack Action
        `),h=se(oe,"INPUT",{class:!0,type:!0,style:!0}),oe.forEach(w),_=ge(H),p=se(H,"BR",{}),d=ge(H),Ye(v.$$.fragment,H),m=ge(H),b=se(H,"DIV",{});var re=Me(b);A=se(re,"INPUT",{class:!0,type:!0,style:!0}),re.forEach(w),U=ge(H),I=se(H,"BR",{}),O=ge(H),D&&D.l(H),y=ge(H),N=se(H,"BUTTON",{"data-svelte-h":!0}),vt(N)!=="svelte-y9choq"&&(N.textContent=T),H.forEach(w),Q.forEach(w),this.h()},h(){fe(h,"class","nodrag sequence"),fe(h,"type","text"),Kt(h,"background","#ffc3c7"),fe(A,"class","nodrag"),fe(A,"type","text"),Kt(A,"text-align","center"),Kt(A,"background","#ffc3c7"),Kt(A,"font-weight","bold"),fe(s,"class","attack-node node-inner svelte-pkj1to"),fe(r,"class","attack-node node svelte-pkj1to")},m(P,Q){k.m(P,Q),R(P,t,Q),R(P,r,Q),L&&L.m(r,null),G(r,n),G(r,s),Ke(a,s,null),G(s,l),G(s,u),G(u,f),G(u,h),bt(h,i[10]),G(s,_),G(s,p),G(s,d),Ke(v,s,null),G(s,m),G(s,b),G(b,A),bt(A,i[11]),G(s,U),G(s,I),G(s,O),D&&D.m(s,null),G(s,y),G(s,N),j=!0,F||(q=[Pe(h,"input",i[24]),Pe(h,"input",i[25]),Pe(A,"input",i[26]),Pe(A,"input",i[27]),Pe(N,"click",i[12]),Pe(r,"click",i[13]),Pe(r,"mouseenter",i[15]),Pe(r,"mouseleave",i[16])],F=!0)},p(P,Q){Q[0]&16&&kt(e,e=P[4].inProgress)?(It(),be(k,1,1,at),Rt(),k=Xg(P),k.c(),he(k,1),k.m(t.parentNode,t)):k.p(P,Q),P[6]?L&&(It(),be(L,1,1,()=>{L=null}),Rt()):L?(L.p(P,Q),Q[0]&64&&he(L,1)):(L=Wg(P),L.c(),he(L,1),L.m(r,n));const H={};Q[0]&8&&(H.isVisible=P[3]),a.$set(H),Q[0]&1024&&h.value!==P[10]&&bt(h,P[10]);const oe={};Q[0]&2&&(oe.node_id=P[1]),Q[0]&1&&(oe.element_id=P[0].d3f_class),Q[1]&448&&(oe.$$scope={dirty:Q,ctx:P}),v.$set(oe),Q[0]&2048&&A.value!==P[11]&&bt(A,P[11]),P[0].user_properties?D?D.p(P,Q):(D=Yg(P),D.c(),D.m(s,y)):D&&(D.d(1),D=null)},i(P){j||(he(k),he(L),he(a.$$.fragment,P),he(v.$$.fragment,P),j=!0)},o(P){be(k),be(L),be(a.$$.fragment,P),be(v.$$.fragment,P),j=!1},d(P){P&&(w(t),w(r)),k.d(P),L&&L.d(),Je(a),Je(v),D&&D.d(),F=!1,zt(q)}}}function DR(i,e,t){let r,n,s,a,l,u,f;At(i,Vn,$=>t(32,u=$)),At(i,St,$=>t(5,f=$));var h,_,p,d,v;let{id:m}=e,{data:b}=e,{isConnectable:A}=e,{selected:U=void 0}=e;function I(){O(),b.user_properties.push(["",""])}function O(){for(let $=0;$<u.length;$++)u[$].data==b&&Ht(St,f=u[$],f)}const y=ya();At(i,y,$=>t(4,l=$));let N=!1,T=!1;function j(){t(7,T=!0)}function F(){t(7,T=!1)}function q(){return l.inProgress?"z-index: 999;":"z-index: -2; pointer-events: none;"}function k(){return T?"z-index: 2;":"visibility:hidden; pointer-events: none;"}const L=$=>{t(0,b.sequence=$.currentTarget.value,b),Ht(St,f.data.sequence=b.sequence,f)};function D(){n=this.value,t(10,n),t(0,b),t(5,f),t(1,m),t(20,_)}const P=$=>{t(0,b.label=$.currentTarget.value,b),Ht(St,f.data.label=b.label,f)};function Q(){r=this.value,t(11,r),t(0,b),t(5,f),t(1,m),t(19,h)}const H=($,W)=>{t(0,b.user_properties[$][0]=W.currentTarget.value,b),Ht(St,f.data.user_properties[$][0]=W.currentTarget.value,f)};function oe($){s[$][0]=this.value,t(9,s),t(0,b),t(5,f),t(1,m),t(21,p)}const re=($,W)=>{t(0,b.user_properties[$][1]=W.currentTarget.value,b),Ht(St,f.data.user_properties[$][1]=W.currentTarget.value,f)};function te($){a[$][1]=this.value,t(8,a),t(0,b),t(5,f),t(1,m),t(22,d)}return i.$$set=$=>{"id"in $&&t(1,m=$.id),"data"in $&&t(0,b=$.data),"isConnectable"in $&&t(2,A=$.isConnectable),"selected"in $&&t(3,U=$.selected)},i.$$.update=()=>{i.$$.dirty[0]&524323&&t(11,r=(b==null?void 0:b.label)||((f==null?void 0:f.id)==m?t(19,h=f==null?void 0:f.data)===null||h===void 0?void 0:h.label:"")||"< label >"),i.$$.dirty[0]&1048611&&t(10,n=(b==null?void 0:b.sequence)||((f==null?void 0:f.id)==m?t(20,_=f==null?void 0:f.data)===null||_===void 0?void 0:_.sequence:"")||"#"),i.$$.dirty[0]&2097187&&t(9,s=(b==null?void 0:b.user_properties)||((f==null?void 0:f.id)==m?t(21,p=f==null?void 0:f.data)===null||p===void 0?void 0:p.user_properties:"")||"< Property >"),i.$$.dirty[0]&4194339&&t(8,a=(b==null?void 0:b.user_properties)||((f==null?void 0:f.id)==m?t(22,d=f==null?void 0:f.data)===null||d===void 0?void 0:d.user_properties:"")||"< Value >"),i.$$.dirty[0]&8388626&&t(6,N=(t(23,v=l.toHandle)===null||v===void 0?void 0:v.nodeId)==m)},[b,m,A,U,l,f,N,T,a,s,n,r,I,O,y,j,F,q,k,h,_,p,d,v,L,D,P,Q,H,oe,re,te]}class AR extends Xt{constructor(e){super(),Wt(this,e,DR,ER,kt,{id:1,data:0,isConnectable:2,selected:3},null,[-1,-1])}}function Jg(i,e,t){const r=i.slice();return r[29]=e[t],r[30]=e,r[31]=t,r}function Zg(i){let e,t;return e=new Jt({props:{type:"target",class:"customHandle",position:qt.Left,id:"target",style:i[16](),isConnectableStart:!1,isConnectable:i[1]}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n[0]&2&&(s.isConnectable=r[1]),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function em(i){let e=i[7],t,r,n=tm(i);return{c(){n.c(),t=ze()},l(s){n.l(s),t=ze()},m(s,a){n.m(s,a),R(s,t,a),r=!0},p(s,a){a[0]&128&&kt(e,e=s[7])?(It(),be(n,1,1,at),Rt(),n=tm(s),n.c(),he(n,1),n.m(t.parentNode,t)):n.p(s,a)},i(s){r||(he(n),r=!0)},o(s){be(n),r=!1},d(s){s&&w(t),n.d(s)}}}function tm(i){let e,t,r,n,s,a,l,u;return e=new Jt({props:{type:"source",position:qt.Top,id:"source",style:i[17](),isConnectable:i[1]}}),r=new Jt({props:{type:"source",position:qt.Left,id:"source",style:i[17](),isConnectable:i[1]}}),s=new Jt({props:{type:"source",position:qt.Right,id:"source",style:i[17](),isConnectable:i[1]}}),l=new Jt({props:{type:"source",position:qt.Bottom,id:"source",style:i[17](),isConnectable:i[1]}}),{c(){Qe(e.$$.fragment),t=ve(),Qe(r.$$.fragment),n=ve(),Qe(s.$$.fragment),a=ve(),Qe(l.$$.fragment)},l(f){Ye(e.$$.fragment,f),t=ge(f),Ye(r.$$.fragment,f),n=ge(f),Ye(s.$$.fragment,f),a=ge(f),Ye(l.$$.fragment,f)},m(f,h){Ke(e,f,h),R(f,t,h),Ke(r,f,h),R(f,n,h),Ke(s,f,h),R(f,a,h),Ke(l,f,h),u=!0},p(f,h){const _={};h[0]&2&&(_.isConnectable=f[1]),e.$set(_);const p={};h[0]&2&&(p.isConnectable=f[1]),r.$set(p);const d={};h[0]&2&&(d.isConnectable=f[1]),s.$set(d);const v={};h[0]&2&&(v.isConnectable=f[1]),l.$set(v)},i(f){u||(he(e.$$.fragment,f),he(r.$$.fragment,f),he(s.$$.fragment,f),he(l.$$.fragment,f),u=!0)},o(f){be(e.$$.fragment,f),be(r.$$.fragment,f),be(s.$$.fragment,f),be(l.$$.fragment,f),u=!1},d(f){f&&(w(t),w(n),w(a)),Je(e,f),Je(r,f),Je(s,f),Je(l,f)}}}function kR(i){let e,t;return e=new i[32].ItemList({props:{list:p1,filter_value_store:i[33],select_item:i[34]}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n[1]&4&&(s.filter_value_store=r[33]),n[1]&8&&(s.select_item=r[34]),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function rm(i){let e,t=lt(i[0].user_properties),r=[];for(let n=0;n<t.length;n+=1)r[n]=nm(Jg(i,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ze()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=ze()},m(n,s){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(n,s);R(n,e,s)},p(n,s){if(s[0]&801){t=lt(n[0].user_properties);let a;for(a=0;a<t.length;a+=1){const l=Jg(n,t,a);r[a]?r[a].p(l,s):(r[a]=nm(l),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(n){n&&w(e),er(r,n)}}}function nm(i){let e,t,r,n,s,a,l,u,f;function h(...v){return i[24](i[31],...v)}function _(){i[25].call(r,i[31])}function p(...v){return i[26](i[31],...v)}function d(){i[27].call(a,i[31])}return{c(){e=ae("div"),t=ae("div"),r=ae("input"),n=ve(),s=ae("div"),a=ae("input"),l=ve(),this.h()},l(v){e=se(v,"DIV",{class:!0});var m=Me(e);t=se(m,"DIV",{class:!0});var b=Me(t);r=se(b,"INPUT",{placeholder:!0}),b.forEach(w),n=ge(m),s=se(m,"DIV",{class:!0});var A=Me(s);a=se(A,"INPUT",{placeholder:!0}),A.forEach(w),l=ge(m),m.forEach(w),this.h()},h(){fe(r,"placeholder","property"),fe(t,"class","user-property flex-column"),fe(a,"placeholder","value"),fe(s,"class","user-value flex-column flex-grow-3"),fe(e,"class","user-properties flex")},m(v,m){R(v,e,m),G(e,t),G(t,r),bt(r,i[9][i[31]][0]),G(e,n),G(e,s),G(s,a),bt(a,i[8][i[31]][1]),G(e,l),u||(f=[Pe(r,"input",h),Pe(r,"input",_),Pe(a,"input",p),Pe(a,"input",d)],u=!0)},p(v,m){i=v,m[0]&512&&r.value!==i[9][i[31]][0]&&bt(r,i[9][i[31]][0]),m[0]&256&&a.value!==i[8][i[31]][1]&&bt(a,i[8][i[31]][1])},d(v){v&&w(e),u=!1,zt(f)}}}function CR(i){let e=i[4].inProgress,t,r,n,s,a,l,u,f="Vulnerability",h,_,p,d,v,m,b,A,U,I,O,y="+",N,T,j,F=Zg(i),q=!i[6]&&em(i);a=new Qa({props:{isVisible:i[2]}}),v=new Os({props:{node_id:i[3],element_id:i[0].d3f_class,input_color:"#f9d999",place_holder:"< weakness >",$$slots:{default:[kR,({R:L,filter_value_store:D,select_item:P})=>({32:L,33:D,34:P}),({R:L,filter_value_store:D,select_item:P})=>[0,(L?2:0)|(D?4:0)|(P?8:0)]]},$$scope:{ctx:i}}});let k=i[0].user_properties&&rm(i);return{c(){F.c(),t=ve(),r=ae("div"),q&&q.c(),n=ve(),s=ae("div"),Qe(a.$$.fragment),l=ve(),u=ae("i"),u.textContent=f,h=ve(),_=ae("br"),p=ve(),d=ae("div"),Qe(v.$$.fragment),m=ve(),b=ae("div"),A=ae("input"),U=ve(),k&&k.c(),I=ve(),O=ae("button"),O.textContent=y,this.h()},l(L){F.l(L),t=ge(L),r=se(L,"DIV",{class:!0});var D=Me(r);q&&q.l(D),n=ge(D),s=se(D,"DIV",{class:!0});var P=Me(s);Ye(a.$$.fragment,P),l=ge(P),u=se(P,"I",{"data-svelte-h":!0}),vt(u)!=="svelte-qgxj0w"&&(u.textContent=f),h=ge(P),_=se(P,"BR",{}),p=ge(P),d=se(P,"DIV",{});var Q=Me(d);Ye(v.$$.fragment,Q),Q.forEach(w),m=ge(P),b=se(P,"DIV",{});var H=Me(b);A=se(H,"INPUT",{class:!0,type:!0,style:!0}),U=ge(H),k&&k.l(H),I=ge(H),O=se(H,"BUTTON",{"data-svelte-h":!0}),vt(O)!=="svelte-y9choq"&&(O.textContent=y),H.forEach(w),P.forEach(w),D.forEach(w),this.h()},h(){fe(A,"class","nodrag label"),fe(A,"type","text"),Kt(A,"background","#f9d999"),fe(s,"class","vulnerability node-inner svelte-17a4qd7"),fe(r,"class","vulnerability node svelte-17a4qd7")},m(L,D){F.m(L,D),R(L,t,D),R(L,r,D),q&&q.m(r,null),G(r,n),G(r,s),Ke(a,s,null),G(s,l),G(s,u),G(s,h),G(s,_),G(s,p),G(s,d),Ke(v,d,null),G(s,m),G(s,b),G(b,A),bt(A,i[10]),G(b,U),k&&k.m(b,null),G(b,I),G(b,O),N=!0,T||(j=[Pe(A,"input",i[22]),Pe(A,"input",i[23]),Pe(O,"click",i[11]),Pe(r,"click",i[12]),Pe(r,"mouseenter",i[14]),Pe(r,"mouseleave",i[15])],T=!0)},p(L,D){D[0]&16&&kt(e,e=L[4].inProgress)?(It(),be(F,1,1,at),Rt(),F=Zg(L),F.c(),he(F,1),F.m(t.parentNode,t)):F.p(L,D),L[6]?q&&(It(),be(q,1,1,()=>{q=null}),Rt()):q?(q.p(L,D),D[0]&64&&he(q,1)):(q=em(L),q.c(),he(q,1),q.m(r,n));const P={};D[0]&4&&(P.isVisible=L[2]),a.$set(P);const Q={};D[0]&8&&(Q.node_id=L[3]),D[0]&1&&(Q.element_id=L[0].d3f_class),D[1]&28&&(Q.$$scope={dirty:D,ctx:L}),v.$set(Q),D[0]&1024&&A.value!==L[10]&&bt(A,L[10]),L[0].user_properties?k?k.p(L,D):(k=rm(L),k.c(),k.m(b,I)):k&&(k.d(1),k=null)},i(L){N||(he(F),he(q),he(a.$$.fragment,L),he(v.$$.fragment,L),N=!0)},o(L){be(F),be(q),be(a.$$.fragment,L),be(v.$$.fragment,L),N=!1},d(L){L&&(w(t),w(r)),F.d(L),q&&q.d(),Je(a),Je(v),k&&k.d(),T=!1,zt(j)}}}function TR(i,e,t){let r,n,s,a,l,u;At(i,Vn,H=>t(28,l=H)),At(i,St,H=>t(5,u=H));var f,h,_,p;let{data:d}=e,{isConnectable:v}=e,{selected:m=void 0}=e,{id:b}=e;function A(){U(),d.user_properties.push(["",""])}function U(){for(let H=0;H<l.length;H++)l[H].data==d&&Ht(St,u=l[H],u)}const I=ya();At(i,I,H=>t(4,a=H));let O=!1,y=!1;function N(){t(7,y=!0)}function T(){t(7,y=!1)}function j(){return a.inProgress?"z-index: 999;":"z-index: -2; pointer-events: none;"}function F(){return y?"z-index: 2;":"visibility:hidden; pointer-events: none;"}const q=H=>{t(0,d.label=H.currentTarget.value,d),Ht(St,u.data.label=d.label,u)};function k(){r=this.value,t(10,r),t(0,d),t(5,u),t(3,b),t(18,f)}const L=(H,oe)=>{t(0,d.user_properties[H][0]=oe.currentTarget.value,d),Ht(St,u.data.user_properties[H][0]=oe.currentTarget.value,u)};function D(H){n[H][0]=this.value,t(9,n),t(0,d),t(5,u),t(3,b),t(19,h)}const P=(H,oe)=>{t(0,d.user_properties[H][1]=oe.currentTarget.value,d),Ht(St,u.data.user_properties[H][1]=oe.currentTarget.value,u)};function Q(H){s[H][1]=this.value,t(8,s),t(0,d),t(5,u),t(3,b),t(20,_)}return i.$$set=H=>{"data"in H&&t(0,d=H.data),"isConnectable"in H&&t(1,v=H.isConnectable),"selected"in H&&t(2,m=H.selected),"id"in H&&t(3,b=H.id)},i.$$.update=()=>{i.$$.dirty[0]&262185&&t(10,r=(d==null?void 0:d.label)||((u==null?void 0:u.id)==b?t(18,f=u==null?void 0:u.data)===null||f===void 0?void 0:f.label:"")||"< label >"),i.$$.dirty[0]&524329&&t(9,n=(d==null?void 0:d.user_properties)||((u==null?void 0:u.id)==b?t(19,h=u==null?void 0:u.data)===null||h===void 0?void 0:h.user_properties:"")||"< Property >"),i.$$.dirty[0]&1048617&&t(8,s=(d==null?void 0:d.user_properties)||((u==null?void 0:u.id)==b?t(20,_=u==null?void 0:u.data)===null||_===void 0?void 0:_.user_properties:"")||"< Value >"),i.$$.dirty[0]&2097176&&t(6,O=(t(21,p=a.toHandle)===null||p===void 0?void 0:p.nodeId)==b)},[d,v,m,b,a,u,O,y,s,n,r,A,U,I,N,T,j,F,f,h,_,p,q,k,L,D,P,Q]}class NR extends Xt{constructor(e){super(),Wt(this,e,TR,CR,kt,{data:0,isConnectable:1,selected:2,id:3},null,[-1,-1])}}function im(i,e,t){const r=i.slice();return r[29]=e[t],r[30]=e,r[31]=t,r}function am(i){let e,t;return e=new Jt({props:{type:"target",class:"customHandle",position:qt.Left,id:"target",style:i[16](),isConnectableStart:!1,isConnectable:i[1]}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n[0]&2&&(s.isConnectable=r[1]),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function sm(i){let e=i[7],t,r,n=lm(i);return{c(){n.c(),t=ze()},l(s){n.l(s),t=ze()},m(s,a){n.m(s,a),R(s,t,a),r=!0},p(s,a){a[0]&128&&kt(e,e=s[7])?(It(),be(n,1,1,at),Rt(),n=lm(s),n.c(),he(n,1),n.m(t.parentNode,t)):n.p(s,a)},i(s){r||(he(n),r=!0)},o(s){be(n),r=!1},d(s){s&&w(t),n.d(s)}}}function lm(i){let e,t,r,n,s,a,l,u;return e=new Jt({props:{type:"source",position:qt.Top,id:"source",style:i[17](),isConnectable:i[1]}}),r=new Jt({props:{type:"source",position:qt.Left,id:"source",style:i[17](),isConnectable:i[1]}}),s=new Jt({props:{type:"source",position:qt.Right,id:"source",style:i[17](),isConnectable:i[1]}}),l=new Jt({props:{type:"source",position:qt.Bottom,id:"source",style:i[17](),isConnectable:i[1]}}),{c(){Qe(e.$$.fragment),t=ve(),Qe(r.$$.fragment),n=ve(),Qe(s.$$.fragment),a=ve(),Qe(l.$$.fragment)},l(f){Ye(e.$$.fragment,f),t=ge(f),Ye(r.$$.fragment,f),n=ge(f),Ye(s.$$.fragment,f),a=ge(f),Ye(l.$$.fragment,f)},m(f,h){Ke(e,f,h),R(f,t,h),Ke(r,f,h),R(f,n,h),Ke(s,f,h),R(f,a,h),Ke(l,f,h),u=!0},p(f,h){const _={};h[0]&2&&(_.isConnectable=f[1]),e.$set(_);const p={};h[0]&2&&(p.isConnectable=f[1]),r.$set(p);const d={};h[0]&2&&(d.isConnectable=f[1]),s.$set(d);const v={};h[0]&2&&(v.isConnectable=f[1]),l.$set(v)},i(f){u||(he(e.$$.fragment,f),he(r.$$.fragment,f),he(s.$$.fragment,f),he(l.$$.fragment,f),u=!0)},o(f){be(e.$$.fragment,f),be(r.$$.fragment,f),be(s.$$.fragment,f),be(l.$$.fragment,f),u=!1},d(f){f&&(w(t),w(n),w(a)),Je(e,f),Je(r,f),Je(s,f),Je(l,f)}}}function SR(i){let e,t;return e=new i[32].ItemList({props:{list:c1,filter_value_store:i[33],select_item:i[34]}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n[1]&4&&(s.filter_value_store=r[33]),n[1]&8&&(s.select_item=r[34]),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function om(i){let e,t=lt(i[0].user_properties),r=[];for(let n=0;n<t.length;n+=1)r[n]=um(im(i,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ze()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=ze()},m(n,s){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(n,s);R(n,e,s)},p(n,s){if(s[0]&801){t=lt(n[0].user_properties);let a;for(a=0;a<t.length;a+=1){const l=im(n,t,a);r[a]?r[a].p(l,s):(r[a]=um(l),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(n){n&&w(e),er(r,n)}}}function um(i){let e,t,r,n,s,a,l,u,f;function h(...v){return i[24](i[31],...v)}function _(){i[25].call(r,i[31])}function p(...v){return i[26](i[31],...v)}function d(){i[27].call(a,i[31])}return{c(){e=ae("div"),t=ae("div"),r=ae("input"),n=ve(),s=ae("div"),a=ae("input"),l=ve(),this.h()},l(v){e=se(v,"DIV",{class:!0});var m=Me(e);t=se(m,"DIV",{class:!0});var b=Me(t);r=se(b,"INPUT",{placeholder:!0}),b.forEach(w),n=ge(m),s=se(m,"DIV",{class:!0});var A=Me(s);a=se(A,"INPUT",{placeholder:!0}),A.forEach(w),l=ge(m),m.forEach(w),this.h()},h(){fe(r,"placeholder","property"),fe(t,"class","user-property flex-column"),fe(a,"placeholder","value"),fe(s,"class","user-value flex-column flex-grow-3"),fe(e,"class","user-properties flex")},m(v,m){R(v,e,m),G(e,t),G(t,r),bt(r,i[9][i[31]][0]),G(e,n),G(e,s),G(s,a),bt(a,i[8][i[31]][1]),G(e,l),u||(f=[Pe(r,"input",h),Pe(r,"input",_),Pe(a,"input",p),Pe(a,"input",d)],u=!0)},p(v,m){i=v,m[0]&512&&r.value!==i[9][i[31]][0]&&bt(r,i[9][i[31]][0]),m[0]&256&&a.value!==i[8][i[31]][1]&&bt(a,i[8][i[31]][1])},d(v){v&&w(e),u=!1,zt(f)}}}function IR(i){let e=i[4].inProgress,t,r,n,s,a,l="Artifact",u,f,h,_,p,d,v,m,b,A,U="+",I,O,y,N=am(i),T=!i[6]&&sm(i);h=new Qa({props:{isVisible:i[2]}}),p=new Os({props:{node_id:i[3],element_id:i[0].d3f_class,input_color:"#fff4dd",$$slots:{default:[SR,({R:F,filter_value_store:q,select_item:k})=>({32:F,33:q,34:k}),({R:F,filter_value_store:q,select_item:k})=>[0,(F?2:0)|(q?4:0)|(k?8:0)]]},$$scope:{ctx:i}}});let j=i[0].user_properties&&om(i);return{c(){N.c(),t=ve(),r=ae("div"),T&&T.c(),n=ve(),s=ae("div"),a=ae("i"),a.textContent=l,u=ae("br"),f=ve(),Qe(h.$$.fragment),_=ve(),Qe(p.$$.fragment),d=ve(),v=ae("input"),m=ve(),j&&j.c(),b=ve(),A=ae("button"),A.textContent=U,this.h()},l(F){N.l(F),t=ge(F),r=se(F,"DIV",{class:!0});var q=Me(r);T&&T.l(q),n=ge(q),s=se(q,"DIV",{class:!0});var k=Me(s);a=se(k,"I",{"data-svelte-h":!0}),vt(a)!=="svelte-148na2y"&&(a.textContent=l),u=se(k,"BR",{}),f=ge(k),Ye(h.$$.fragment,k),_=ge(k),Ye(p.$$.fragment,k),d=ge(k),v=se(k,"INPUT",{class:!0,type:!0,style:!0}),m=ge(k),j&&j.l(k),b=ge(k),A=se(k,"BUTTON",{"data-svelte-h":!0}),vt(A)!=="svelte-y9choq"&&(A.textContent=U),k.forEach(w),q.forEach(w),this.h()},h(){fe(v,"class","nodrag label"),fe(v,"type","text"),Kt(v,"background","#fff4dd"),fe(s,"class","node-inner"),fe(r,"class","artifact node svelte-1q2d78v")},m(F,q){N.m(F,q),R(F,t,q),R(F,r,q),T&&T.m(r,null),G(r,n),G(r,s),G(s,a),G(s,u),G(s,f),Ke(h,s,null),G(s,_),Ke(p,s,null),G(s,d),G(s,v),bt(v,i[10]),G(s,m),j&&j.m(s,null),G(s,b),G(s,A),I=!0,O||(y=[Pe(v,"input",i[22]),Pe(v,"input",i[23]),Pe(A,"click",i[11]),Pe(r,"click",i[12]),Pe(r,"mouseenter",i[14]),Pe(r,"mouseleave",i[15])],O=!0)},p(F,q){q[0]&16&&kt(e,e=F[4].inProgress)?(It(),be(N,1,1,at),Rt(),N=am(F),N.c(),he(N,1),N.m(t.parentNode,t)):N.p(F,q),F[6]?T&&(It(),be(T,1,1,()=>{T=null}),Rt()):T?(T.p(F,q),q[0]&64&&he(T,1)):(T=sm(F),T.c(),he(T,1),T.m(r,n));const k={};q[0]&4&&(k.isVisible=F[2]),h.$set(k);const L={};q[0]&8&&(L.node_id=F[3]),q[0]&1&&(L.element_id=F[0].d3f_class),q[1]&28&&(L.$$scope={dirty:q,ctx:F}),p.$set(L),q[0]&1024&&v.value!==F[10]&&bt(v,F[10]),F[0].user_properties?j?j.p(F,q):(j=om(F),j.c(),j.m(s,b)):j&&(j.d(1),j=null)},i(F){I||(he(N),he(T),he(h.$$.fragment,F),he(p.$$.fragment,F),I=!0)},o(F){be(N),be(T),be(h.$$.fragment,F),be(p.$$.fragment,F),I=!1},d(F){F&&(w(t),w(r)),N.d(F),T&&T.d(),Je(h),Je(p),j&&j.d(),O=!1,zt(y)}}}function RR(i,e,t){let r,n,s,a,l,u;At(i,Vn,H=>t(28,l=H)),At(i,St,H=>t(5,u=H));var f,h,_,p;let{data:d}=e,{isConnectable:v}=e,{selected:m=void 0}=e,{id:b}=e;function A(){U(),d.user_properties.push(["",""])}function U(){for(let H=0;H<l.length;H++)l[H].data==d&&Ht(St,u=l[H],u)}const I=ya();At(i,I,H=>t(4,a=H));let O=!1,y=!1;function N(){t(7,y=!0)}function T(){t(7,y=!1)}function j(){return a.inProgress?"z-index: 999;":"z-index: -2; pointer-events: none;"}function F(){return y?"z-index: 2;":"visibility:hidden; pointer-events: none;"}const q=H=>{t(0,d.label=H.currentTarget.value,d),Ht(St,u.data.label=d.label,u)};function k(){r=this.value,t(10,r),t(0,d),t(5,u),t(3,b),t(18,f)}const L=(H,oe)=>{t(0,d.user_properties[H][0]=oe.currentTarget.value,d),Ht(St,u.data.user_properties[H][0]=oe.currentTarget.value,u)};function D(H){n[H][0]=this.value,t(9,n),t(0,d),t(5,u),t(3,b),t(19,h)}const P=(H,oe)=>{t(0,d.user_properties[H][1]=oe.currentTarget.value,d),Ht(St,u.data.user_properties[H][1]=oe.currentTarget.value,u)};function Q(H){s[H][1]=this.value,t(8,s),t(0,d),t(5,u),t(3,b),t(20,_)}return i.$$set=H=>{"data"in H&&t(0,d=H.data),"isConnectable"in H&&t(1,v=H.isConnectable),"selected"in H&&t(2,m=H.selected),"id"in H&&t(3,b=H.id)},i.$$.update=()=>{i.$$.dirty[0]&262185&&t(10,r=(d==null?void 0:d.label)||((u==null?void 0:u.id)==b?t(18,f=u==null?void 0:u.data)===null||f===void 0?void 0:f.label:"")||"< label >"),i.$$.dirty[0]&524329&&t(9,n=(d==null?void 0:d.user_properties)||((u==null?void 0:u.id)==b?t(19,h=u==null?void 0:u.data)===null||h===void 0?void 0:h.user_properties:"")||"< Property >"),i.$$.dirty[0]&1048617&&t(8,s=(d==null?void 0:d.user_properties)||((u==null?void 0:u.id)==b?t(20,_=u==null?void 0:u.data)===null||_===void 0?void 0:_.user_properties:"")||"< Value >"),i.$$.dirty[0]&2097176&&t(6,O=(t(21,p=a.toHandle)===null||p===void 0?void 0:p.nodeId)==b)},[d,v,m,b,a,u,O,y,s,n,r,A,U,I,N,T,j,F,f,h,_,p,q,k,L,D,P,Q]}class PR extends Xt{constructor(e){super(),Wt(this,e,RR,IR,kt,{data:0,isConnectable:1,selected:2,id:3},null,[-1,-1])}}function fm(i,e,t){const r=i.slice();return r[34]=e[t],r[35]=e,r[36]=t,r}function cm(i){let e,t;return e=new Jt({props:{type:"target",class:"customHandle",position:qt.Left,id:"target",style:i[17](),isConnectableStart:!1,isConnectable:i[1]}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n[0]&2&&(s.isConnectable=r[1]),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function hm(i){let e=i[7],t,r,n=dm(i);return{c(){n.c(),t=ze()},l(s){n.l(s),t=ze()},m(s,a){n.m(s,a),R(s,t,a),r=!0},p(s,a){a[0]&128&&kt(e,e=s[7])?(It(),be(n,1,1,at),Rt(),n=dm(s),n.c(),he(n,1),n.m(t.parentNode,t)):n.p(s,a)},i(s){r||(he(n),r=!0)},o(s){be(n),r=!1},d(s){s&&w(t),n.d(s)}}}function dm(i){let e,t,r,n,s,a,l,u;return e=new Jt({props:{type:"source",position:qt.Top,id:"source",style:i[18](),isConnectable:i[1]}}),r=new Jt({props:{type:"source",position:qt.Left,id:"source",style:i[18](),isConnectable:i[1]}}),s=new Jt({props:{type:"source",position:qt.Right,id:"source",style:i[18](),isConnectable:i[1]}}),l=new Jt({props:{type:"source",position:qt.Bottom,id:"source",style:i[18](),isConnectable:i[1]}}),{c(){Qe(e.$$.fragment),t=ve(),Qe(r.$$.fragment),n=ve(),Qe(s.$$.fragment),a=ve(),Qe(l.$$.fragment)},l(f){Ye(e.$$.fragment,f),t=ge(f),Ye(r.$$.fragment,f),n=ge(f),Ye(s.$$.fragment,f),a=ge(f),Ye(l.$$.fragment,f)},m(f,h){Ke(e,f,h),R(f,t,h),Ke(r,f,h),R(f,n,h),Ke(s,f,h),R(f,a,h),Ke(l,f,h),u=!0},p(f,h){const _={};h[0]&2&&(_.isConnectable=f[1]),e.$set(_);const p={};h[0]&2&&(p.isConnectable=f[1]),r.$set(p);const d={};h[0]&2&&(d.isConnectable=f[1]),s.$set(d);const v={};h[0]&2&&(v.isConnectable=f[1]),l.$set(v)},i(f){u||(he(e.$$.fragment,f),he(r.$$.fragment,f),he(s.$$.fragment,f),he(l.$$.fragment,f),u=!0)},o(f){be(e.$$.fragment,f),be(r.$$.fragment,f),be(s.$$.fragment,f),be(l.$$.fragment,f),u=!1},d(f){f&&(w(t),w(n),w(a)),Je(e,f),Je(r,f),Je(s,f),Je(l,f)}}}function FR(i){let e,t;return e=new i[37].ItemTactic({props:{list:f1,filter_value_store:i[38],select_item:i[39]}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n[1]&128&&(s.filter_value_store=r[38]),n[1]&256&&(s.select_item=r[39]),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function pm(i){let e,t=lt(i[0].user_properties),r=[];for(let n=0;n<t.length;n+=1)r[n]=_m(fm(i,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ze()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=ze()},m(n,s){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(n,s);R(n,e,s)},p(n,s){if(s[0]&801){t=lt(n[0].user_properties);let a;for(a=0;a<t.length;a+=1){const l=fm(n,t,a);r[a]?r[a].p(l,s):(r[a]=_m(l),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(n){n&&w(e),er(r,n)}}}function _m(i){let e,t,r,n,s,a,l,u,f;function h(...v){return i[28](i[36],...v)}function _(){i[29].call(r,i[36])}function p(...v){return i[30](i[36],...v)}function d(){i[31].call(a,i[36])}return{c(){e=ae("div"),t=ae("div"),r=ae("input"),n=ve(),s=ae("div"),a=ae("input"),l=ve(),this.h()},l(v){e=se(v,"DIV",{class:!0});var m=Me(e);t=se(m,"DIV",{class:!0});var b=Me(t);r=se(b,"INPUT",{placeholder:!0}),b.forEach(w),n=ge(m),s=se(m,"DIV",{class:!0});var A=Me(s);a=se(A,"INPUT",{placeholder:!0}),A.forEach(w),l=ge(m),m.forEach(w),this.h()},h(){fe(r,"placeholder","property"),fe(t,"class","user-property flex-column"),fe(a,"placeholder","value"),fe(s,"class","user-value flex-column flex-grow-3"),fe(e,"class","user-properties flex")},m(v,m){R(v,e,m),G(e,t),G(t,r),bt(r,i[9][i[36]][0]),G(e,n),G(e,s),G(s,a),bt(a,i[8][i[36]][1]),G(e,l),u||(f=[Pe(r,"input",h),Pe(r,"input",_),Pe(a,"input",p),Pe(a,"input",d)],u=!0)},p(v,m){i=v,m[0]&512&&r.value!==i[9][i[36]][0]&&bt(r,i[9][i[36]][0]),m[0]&256&&a.value!==i[8][i[36]][1]&&bt(a,i[8][i[36]][1])},d(v){v&&w(e),u=!1,zt(f)}}}function OR(i){let e=i[4].inProgress,t,r,n,s,a,l,u,f="Defense Action",h,_,p,d,v,m,b,A,U,I,O,y,N,T="+",j,F,q,k=cm(i),L=!i[6]&&hm(i);a=new Qa({props:{isVisible:i[2]}}),b=new Os({props:{node_id:i[3],element_id:i[0].d3f_class,input_color:"#d6eaff",$$slots:{default:[FR,({R:P,filter_value_store:Q,select_item:H})=>({37:P,38:Q,39:H}),({R:P,filter_value_store:Q,select_item:H})=>[0,(P?64:0)|(Q?128:0)|(H?256:0)]]},$$scope:{ctx:i}}});let D=i[0].user_properties&&pm(i);return{c(){k.c(),t=ve(),r=ae("div"),L&&L.c(),n=ve(),s=ae("div"),Qe(a.$$.fragment),l=ve(),u=ae("i"),u.textContent=f,h=ve(),_=ae("input"),p=ve(),d=ae("br"),v=ve(),m=ae("div"),Qe(b.$$.fragment),A=ve(),U=ae("div"),I=ae("input"),O=ve(),D&&D.c(),y=ve(),N=ae("button"),N.textContent=T,this.h()},l(P){k.l(P),t=ge(P),r=se(P,"DIV",{class:!0});var Q=Me(r);L&&L.l(Q),n=ge(Q),s=se(Q,"DIV",{class:!0});var H=Me(s);Ye(a.$$.fragment,H),l=ge(H),u=se(H,"I",{"data-svelte-h":!0}),vt(u)!=="svelte-1x9m2lq"&&(u.textContent=f),h=ge(H),_=se(H,"INPUT",{class:!0,type:!0,style:!0}),p=ge(H),d=se(H,"BR",{}),v=ge(H),m=se(H,"DIV",{});var oe=Me(m);Ye(b.$$.fragment,oe),oe.forEach(w),A=ge(H),U=se(H,"DIV",{});var re=Me(U);I=se(re,"INPUT",{class:!0,type:!0,style:!0}),O=ge(re),D&&D.l(re),y=ge(re),N=se(re,"BUTTON",{"data-svelte-h":!0}),vt(N)!=="svelte-y9choq"&&(N.textContent=T),re.forEach(w),H.forEach(w),Q.forEach(w),this.h()},h(){fe(_,"class","nodrag sequence"),fe(_,"type","text"),Kt(_,"background","#d6eaff"),fe(I,"class","nodrag label"),fe(I,"type","text"),Kt(I,"background","#d6eaff"),fe(s,"class","node-inner"),fe(r,"class","countermeasure node svelte-cdgs6j")},m(P,Q){k.m(P,Q),R(P,t,Q),R(P,r,Q),L&&L.m(r,null),G(r,n),G(r,s),Ke(a,s,null),G(s,l),G(s,u),G(s,h),G(s,_),bt(_,i[10]),G(s,p),G(s,d),G(s,v),G(s,m),Ke(b,m,null),G(s,A),G(s,U),G(U,I),bt(I,i[11]),G(U,O),D&&D.m(U,null),G(U,y),G(U,N),j=!0,F||(q=[Pe(_,"input",i[24]),Pe(_,"input",i[25]),Pe(I,"input",i[26]),Pe(I,"input",i[27]),Pe(N,"click",i[12]),Pe(r,"click",i[13]),Pe(r,"mouseenter",i[15]),Pe(r,"mouseleave",i[16])],F=!0)},p(P,Q){Q[0]&16&&kt(e,e=P[4].inProgress)?(It(),be(k,1,1,at),Rt(),k=cm(P),k.c(),he(k,1),k.m(t.parentNode,t)):k.p(P,Q),P[6]?L&&(It(),be(L,1,1,()=>{L=null}),Rt()):L?(L.p(P,Q),Q[0]&64&&he(L,1)):(L=hm(P),L.c(),he(L,1),L.m(r,n));const H={};Q[0]&4&&(H.isVisible=P[2]),a.$set(H),Q[0]&1024&&_.value!==P[10]&&bt(_,P[10]);const oe={};Q[0]&8&&(oe.node_id=P[3]),Q[0]&1&&(oe.element_id=P[0].d3f_class),Q[1]&896&&(oe.$$scope={dirty:Q,ctx:P}),b.$set(oe),Q[0]&2048&&I.value!==P[11]&&bt(I,P[11]),P[0].user_properties?D?D.p(P,Q):(D=pm(P),D.c(),D.m(U,y)):D&&(D.d(1),D=null)},i(P){j||(he(k),he(L),he(a.$$.fragment,P),he(b.$$.fragment,P),j=!0)},o(P){be(k),be(L),be(a.$$.fragment,P),be(b.$$.fragment,P),j=!1},d(P){P&&(w(t),w(r)),k.d(P),L&&L.d(),Je(a),Je(b),D&&D.d(),F=!1,zt(q)}}}function LR(i,e,t){let r,n,s,a,l,u,f;At(i,Vn,$=>t(32,u=$)),At(i,St,$=>t(5,f=$));var h,_,p,d,v;let{data:m}=e,{isConnectable:b}=e,{selected:A=void 0}=e,{id:U}=e;function I(){O(),m.user_properties.push(["",""])}function O(){for(let $=0;$<u.length;$++)u[$].data==m&&Ht(St,f=u[$],f)}const y=ya();At(i,y,$=>t(4,l=$));let N=!1,T=!1;function j(){t(7,T=!0)}function F(){t(7,T=!1)}function q(){return l.inProgress?"z-index: 999;":"z-index: -2; pointer-events: none;"}function k(){return T?"z-index: 2;":"visibility:hidden; pointer-events: none;"}const L=$=>{t(0,m.sequence=$.currentTarget.value,m),Ht(St,f.data.sequence=m.sequence,f)};function D(){n=this.value,t(10,n),t(0,m),t(5,f),t(3,U),t(20,_)}const P=$=>{t(0,m.label=$.currentTarget.value,m),Ht(St,f.data.label=m.label,f)};function Q(){r=this.value,t(11,r),t(0,m),t(5,f),t(3,U),t(19,h)}const H=($,W)=>{t(0,m.user_properties[$][0]=W.currentTarget.value,m),Ht(St,f.data.user_properties[$][0]=W.currentTarget.value,f)};function oe($){s[$][0]=this.value,t(9,s),t(0,m),t(5,f),t(3,U),t(21,p)}const re=($,W)=>{t(0,m.user_properties[$][1]=W.currentTarget.value,m),Ht(St,f.data.user_properties[$][1]=W.currentTarget.value,f)};function te($){a[$][1]=this.value,t(8,a),t(0,m),t(5,f),t(3,U),t(22,d)}return i.$$set=$=>{"data"in $&&t(0,m=$.data),"isConnectable"in $&&t(1,b=$.isConnectable),"selected"in $&&t(2,A=$.selected),"id"in $&&t(3,U=$.id)},i.$$.update=()=>{i.$$.dirty[0]&524329&&t(11,r=(m==null?void 0:m.label)||((f==null?void 0:f.id)==U?t(19,h=f==null?void 0:f.data)===null||h===void 0?void 0:h.label:"")||"< label >"),i.$$.dirty[0]&1048617&&t(10,n=(m==null?void 0:m.sequence)||((f==null?void 0:f.id)==U?t(20,_=f==null?void 0:f.data)===null||_===void 0?void 0:_.sequence:"")||"#"),i.$$.dirty[0]&2097193&&t(9,s=(m==null?void 0:m.user_properties)||((f==null?void 0:f.id)==U?t(21,p=f==null?void 0:f.data)===null||p===void 0?void 0:p.user_properties:"")||"< Property >"),i.$$.dirty[0]&4194345&&t(8,a=(m==null?void 0:m.user_properties)||((f==null?void 0:f.id)==U?t(22,d=f==null?void 0:f.data)===null||d===void 0?void 0:d.user_properties:"")||"< Value >"),i.$$.dirty[0]&8388632&&t(6,N=(t(23,v=l.toHandle)===null||v===void 0?void 0:v.nodeId)==U)},[m,b,A,U,l,f,N,T,a,s,n,r,I,O,y,j,F,q,k,h,_,p,d,v,L,D,P,Q,H,oe,re,te]}class BR extends Xt{constructor(e){super(),Wt(this,e,LR,OR,kt,{data:0,isConnectable:1,selected:2,id:3},null,[-1,-1])}}function vm(i,e,t){const r=i.slice();return r[28]=e[t],r[29]=e,r[30]=t,r}function gm(i){let e,t;return e=new Jt({props:{type:"target",class:"customHandle",position:qt.Left,id:"target",style:i[15](),isConnectableStart:!1,isConnectable:i[1]}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n[0]&2&&(s.isConnectable=r[1]),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function mm(i){let e=i[7],t,r,n=bm(i);return{c(){n.c(),t=ze()},l(s){n.l(s),t=ze()},m(s,a){n.m(s,a),R(s,t,a),r=!0},p(s,a){a[0]&128&&kt(e,e=s[7])?(It(),be(n,1,1,at),Rt(),n=bm(s),n.c(),he(n,1),n.m(t.parentNode,t)):n.p(s,a)},i(s){r||(he(n),r=!0)},o(s){be(n),r=!1},d(s){s&&w(t),n.d(s)}}}function bm(i){let e,t,r,n,s,a,l,u;return e=new Jt({props:{type:"source",position:qt.Top,id:"source",style:i[16](),isConnectable:i[1]}}),r=new Jt({props:{type:"source",position:qt.Left,id:"source",style:i[16](),isConnectable:i[1]}}),s=new Jt({props:{type:"source",position:qt.Right,id:"source",style:i[16](),isConnectable:i[1]}}),l=new Jt({props:{type:"source",position:qt.Bottom,id:"source",style:i[16](),isConnectable:i[1]}}),{c(){Qe(e.$$.fragment),t=ve(),Qe(r.$$.fragment),n=ve(),Qe(s.$$.fragment),a=ve(),Qe(l.$$.fragment)},l(f){Ye(e.$$.fragment,f),t=ge(f),Ye(r.$$.fragment,f),n=ge(f),Ye(s.$$.fragment,f),a=ge(f),Ye(l.$$.fragment,f)},m(f,h){Ke(e,f,h),R(f,t,h),Ke(r,f,h),R(f,n,h),Ke(s,f,h),R(f,a,h),Ke(l,f,h),u=!0},p(f,h){const _={};h[0]&2&&(_.isConnectable=f[1]),e.$set(_);const p={};h[0]&2&&(p.isConnectable=f[1]),r.$set(p);const d={};h[0]&2&&(d.isConnectable=f[1]),s.$set(d);const v={};h[0]&2&&(v.isConnectable=f[1]),l.$set(v)},i(f){u||(he(e.$$.fragment,f),he(r.$$.fragment,f),he(s.$$.fragment,f),he(l.$$.fragment,f),u=!0)},o(f){be(e.$$.fragment,f),be(r.$$.fragment,f),be(s.$$.fragment,f),be(l.$$.fragment,f),u=!1},d(f){f&&(w(t),w(n),w(a)),Je(e,f),Je(r,f),Je(s,f),Je(l,f)}}}function UR(i){let e,t;return e=new i[31].ItemInformation({props:{list:v1,filter_value_store:i[32],select_item:i[33]}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n[1]&2&&(s.filter_value_store=r[32]),n[1]&4&&(s.select_item=r[33]),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function wm(i){let e,t=lt(i[0].user_properties),r=[];for(let n=0;n<t.length;n+=1)r[n]=ym(vm(i,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ze()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=ze()},m(n,s){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(n,s);R(n,e,s)},p(n,s){if(s[0]&801){t=lt(n[0].user_properties);let a;for(a=0;a<t.length;a+=1){const l=vm(n,t,a);r[a]?r[a].p(l,s):(r[a]=ym(l),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(n){n&&w(e),er(r,n)}}}function ym(i){let e,t,r,n,s,a,l,u,f;function h(...v){return i[21](i[30],...v)}function _(){i[22].call(r,i[30])}function p(...v){return i[23](i[30],...v)}function d(){i[24].call(a,i[30])}return{c(){e=ae("div"),t=ae("div"),r=ae("input"),n=ve(),s=ae("div"),a=ae("input"),l=ve(),this.h()},l(v){e=se(v,"DIV",{class:!0});var m=Me(e);t=se(m,"DIV",{class:!0});var b=Me(t);r=se(b,"INPUT",{placeholder:!0}),b.forEach(w),n=ge(m),s=se(m,"DIV",{class:!0});var A=Me(s);a=se(A,"INPUT",{placeholder:!0}),A.forEach(w),l=ge(m),m.forEach(w),this.h()},h(){fe(r,"placeholder","property"),fe(t,"class","user-property flex-column"),fe(a,"placeholder","value"),fe(s,"class","user-value flex-column flex-grow-3"),fe(e,"class","user-properties flex")},m(v,m){R(v,e,m),G(e,t),G(t,r),bt(r,i[9][i[30]][0]),G(e,n),G(e,s),G(s,a),bt(a,i[8][i[30]][1]),G(e,l),u||(f=[Pe(r,"input",h),Pe(r,"input",_),Pe(a,"input",p),Pe(a,"input",d)],u=!0)},p(v,m){i=v,m[0]&512&&r.value!==i[9][i[30]][0]&&bt(r,i[9][i[30]][0]),m[0]&256&&a.value!==i[8][i[30]][1]&&bt(a,i[8][i[30]][1])},d(v){v&&w(e),u=!1,zt(f)}}}function MR(i){let e=i[4].inProgress,t,r,n,s,a,l="Information",u,f,h,_,p,d,v,m,b="+",A,U,I,O=gm(i),y=!i[6]&&mm(i);h=new Qa({props:{isVisible:i[2]}}),p=new Os({props:{node_id:i[3],element_id:i[0].d3f_class,input_color:"#e8f4ea",$$slots:{default:[UR,({R:T,filter_value_store:j,select_item:F})=>({31:T,32:j,33:F}),({R:T,filter_value_store:j,select_item:F})=>[0,(T?1:0)|(j?2:0)|(F?4:0)]]},$$scope:{ctx:i}}});let N=i[0].user_properties&&wm(i);return{c(){O.c(),t=ve(),r=ae("div"),y&&y.c(),n=ve(),s=ae("div"),a=ae("i"),a.textContent=l,u=ae("br"),f=ve(),Qe(h.$$.fragment),_=ve(),Qe(p.$$.fragment),d=ve(),N&&N.c(),v=ve(),m=ae("button"),m.textContent=b,this.h()},l(T){O.l(T),t=ge(T),r=se(T,"DIV",{class:!0});var j=Me(r);y&&y.l(j),n=ge(j),s=se(j,"DIV",{class:!0});var F=Me(s);a=se(F,"I",{"data-svelte-h":!0}),vt(a)!=="svelte-1ocpiyk"&&(a.textContent=l),u=se(F,"BR",{}),f=ge(F),Ye(h.$$.fragment,F),_=ge(F),Ye(p.$$.fragment,F),d=ge(F),N&&N.l(F),v=ge(F),m=se(F,"BUTTON",{"data-svelte-h":!0}),vt(m)!=="svelte-y9choq"&&(m.textContent=b),F.forEach(w),j.forEach(w),this.h()},h(){fe(s,"class","information node-inner svelte-1wgy9qw"),fe(r,"class","information node svelte-1wgy9qw")},m(T,j){O.m(T,j),R(T,t,j),R(T,r,j),y&&y.m(r,null),G(r,n),G(r,s),G(s,a),G(s,u),G(s,f),Ke(h,s,null),G(s,_),Ke(p,s,null),G(s,d),N&&N.m(s,null),G(s,v),G(s,m),A=!0,U||(I=[Pe(m,"click",i[10]),Pe(r,"click",i[11]),Pe(r,"mouseenter",i[13]),Pe(r,"mouseleave",i[14])],U=!0)},p(T,j){j[0]&16&&kt(e,e=T[4].inProgress)?(It(),be(O,1,1,at),Rt(),O=gm(T),O.c(),he(O,1),O.m(t.parentNode,t)):O.p(T,j),T[6]?y&&(It(),be(y,1,1,()=>{y=null}),Rt()):y?(y.p(T,j),j[0]&64&&he(y,1)):(y=mm(T),y.c(),he(y,1),y.m(r,n));const F={};j[0]&4&&(F.isVisible=T[2]),h.$set(F);const q={};j[0]&8&&(q.node_id=T[3]),j[0]&1&&(q.element_id=T[0].d3f_class),j[1]&14&&(q.$$scope={dirty:j,ctx:T}),p.$set(q),T[0].user_properties?N?N.p(T,j):(N=wm(T),N.c(),N.m(s,v)):N&&(N.d(1),N=null)},i(T){A||(he(O),he(y),he(h.$$.fragment,T),he(p.$$.fragment,T),A=!0)},o(T){be(O),be(y),be(h.$$.fragment,T),be(p.$$.fragment,T),A=!1},d(T){T&&(w(t),w(r)),O.d(T),y&&y.d(),Je(h),Je(p),N&&N.d(),U=!1,zt(I)}}}function qR(i,e,t){let r,n,s,a,l;At(i,Vn,D=>t(26,a=D)),At(i,St,D=>t(5,l=D));var u,f,h,_;let{data:p}=e,{isConnectable:d}=e,{selected:v=void 0}=e;function m(){b(),p.user_properties.push(["",""])}function b(){for(let D=0;D<a.length;D++)a[D].data==p&&Ht(St,l=a[D],l)}let{id:A}=e;const U=ya();At(i,U,D=>t(4,s=D));let I=!1,O=!1;function y(){t(7,O=!0)}function N(){t(7,O=!1)}function T(){return s.inProgress?"z-index: 999;":"z-index: -2; pointer-events: none;"}function j(){return O?"z-index: 2;":"visibility:hidden; pointer-events: none;"}const F=(D,P)=>{t(0,p.user_properties[D][0]=P.currentTarget.value,p),Ht(St,l.data.user_properties[D][0]=P.currentTarget.value,l)};function q(D){r[D][0]=this.value,t(9,r),t(0,p),t(5,l),t(3,A),t(18,f)}const k=(D,P)=>{t(0,p.user_properties[D][1]=P.currentTarget.value,p),Ht(St,l.data.user_properties[D][1]=P.currentTarget.value,l)};function L(D){n[D][1]=this.value,t(8,n),t(0,p),t(5,l),t(3,A),t(19,h)}return i.$$set=D=>{"data"in D&&t(0,p=D.data),"isConnectable"in D&&t(1,d=D.isConnectable),"selected"in D&&t(2,v=D.selected),"id"in D&&t(3,A=D.id)},i.$$.update=()=>{i.$$.dirty[0]&131113&&(p!=null&&p.label||(l==null?void 0:l.id)==A&&!(t(17,u=l==null?void 0:l.data)===null||u===void 0)&&u.label),i.$$.dirty[0]&262185&&t(9,r=(p==null?void 0:p.user_properties)||((l==null?void 0:l.id)==A?t(18,f=l==null?void 0:l.data)===null||f===void 0?void 0:f.user_properties:"")||"< Property >"),i.$$.dirty[0]&524329&&t(8,n=(p==null?void 0:p.user_properties)||((l==null?void 0:l.id)==A?t(19,h=l==null?void 0:l.data)===null||h===void 0?void 0:h.user_properties:"")||"< Value >"),i.$$.dirty[0]&1048600&&t(6,I=(t(20,_=s.toHandle)===null||_===void 0?void 0:_.nodeId)==A)},[p,d,v,A,s,l,I,O,n,r,m,b,U,y,N,T,j,u,f,h,_,F,q,k,L]}class jR extends Xt{constructor(e){super(),Wt(this,e,qR,MR,kt,{data:0,isConnectable:1,selected:2,id:3},null,[-1,-1])}}function Em(i,e,t){const r=i.slice();return r[30]=e[t],r[31]=e,r[32]=t,r}function Dm(i){let e,t;return e=new Jt({props:{type:"target",class:"customHandle",position:qt.Left,id:"target",style:i[13](),isConnectableStart:!1,isConnectable:i[1]}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n[0]&2&&(s.isConnectable=r[1]),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function Am(i){let e=i[6],t,r,n=km(i);return{c(){n.c(),t=ze()},l(s){n.l(s),t=ze()},m(s,a){n.m(s,a),R(s,t,a),r=!0},p(s,a){a[0]&64&&kt(e,e=s[6])?(It(),be(n,1,1,at),Rt(),n=km(s),n.c(),he(n,1),n.m(t.parentNode,t)):n.p(s,a)},i(s){r||(he(n),r=!0)},o(s){be(n),r=!1},d(s){s&&w(t),n.d(s)}}}function km(i){let e,t,r,n,s,a,l,u;return e=new Jt({props:{type:"source",position:qt.Top,id:"source",style:i[14](),isConnectable:i[1]}}),r=new Jt({props:{type:"source",position:qt.Left,id:"source",style:i[14](),isConnectable:i[1]}}),s=new Jt({props:{type:"source",position:qt.Right,id:"source",style:i[14](),isConnectable:i[1]}}),l=new Jt({props:{type:"source",position:qt.Bottom,id:"source",style:i[14](),isConnectable:i[1]}}),{c(){Qe(e.$$.fragment),t=ve(),Qe(r.$$.fragment),n=ve(),Qe(s.$$.fragment),a=ve(),Qe(l.$$.fragment)},l(f){Ye(e.$$.fragment,f),t=ge(f),Ye(r.$$.fragment,f),n=ge(f),Ye(s.$$.fragment,f),a=ge(f),Ye(l.$$.fragment,f)},m(f,h){Ke(e,f,h),R(f,t,h),Ke(r,f,h),R(f,n,h),Ke(s,f,h),R(f,a,h),Ke(l,f,h),u=!0},p(f,h){const _={};h[0]&2&&(_.isConnectable=f[1]),e.$set(_);const p={};h[0]&2&&(p.isConnectable=f[1]),r.$set(p);const d={};h[0]&2&&(d.isConnectable=f[1]),s.$set(d);const v={};h[0]&2&&(v.isConnectable=f[1]),l.$set(v)},i(f){u||(he(e.$$.fragment,f),he(r.$$.fragment,f),he(s.$$.fragment,f),he(l.$$.fragment,f),u=!0)},o(f){be(e.$$.fragment,f),be(r.$$.fragment,f),be(s.$$.fragment,f),be(l.$$.fragment,f),u=!1},d(f){f&&(w(t),w(n),w(a)),Je(e,f),Je(r,f),Je(s,f),Je(l,f)}}}function Cm(i){let e,t=lt(i[0].user_properties),r=[];for(let n=0;n<t.length;n+=1)r[n]=Tm(Em(i,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ze()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=ze()},m(n,s){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(n,s);R(n,e,s)},p(n,s){if(s[0]&393){t=lt(n[0].user_properties);let a;for(a=0;a<t.length;a+=1){const l=Em(n,t,a);r[a]?r[a].p(l,s):(r[a]=Tm(l),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(n){n&&w(e),er(r,n)}}}function Tm(i){let e,t,r,n,s,a,l,u,f;function h(...v){return i[24](i[32],...v)}function _(){i[25].call(r,i[32])}function p(...v){return i[26](i[32],...v)}function d(){i[27].call(a,i[32])}return{c(){e=ae("div"),t=ae("div"),r=ae("input"),n=ve(),s=ae("div"),a=ae("input"),l=ve(),this.h()},l(v){e=se(v,"DIV",{class:!0});var m=Me(e);t=se(m,"DIV",{class:!0});var b=Me(t);r=se(b,"INPUT",{placeholder:!0}),b.forEach(w),n=ge(m),s=se(m,"DIV",{class:!0});var A=Me(s);a=se(A,"INPUT",{placeholder:!0}),A.forEach(w),l=ge(m),m.forEach(w),this.h()},h(){fe(r,"placeholder","property"),fe(t,"class","user-property flex-column"),fe(a,"placeholder","value"),fe(s,"class","user-value flex-column flex-grow-3"),fe(e,"class","user-properties flex")},m(v,m){R(v,e,m),G(e,t),G(t,r),bt(r,i[8][i[32]][0]),G(e,n),G(e,s),G(s,a),bt(a,i[7][i[32]][1]),G(e,l),u||(f=[Pe(r,"input",h),Pe(r,"input",_),Pe(a,"input",p),Pe(a,"input",d)],u=!0)},p(v,m){i=v,m[0]&256&&r.value!==i[8][i[32]][0]&&bt(r,i[8][i[32]][0]),m[0]&128&&a.value!==i[7][i[32]][1]&&bt(a,i[7][i[32]][1])},d(v){v&&w(e),u=!1,zt(f)}}}function xR(i){let e=i[4].inProgress,t,r,n,s,a,l,u,f="Condition",h,_,p,d,v,m,b="+",A,U,I,O=Dm(i),y=!i[5]&&Am(i);a=new Qa({props:{isVisible:i[2]}});let N=i[0].user_properties&&Cm(i);return{c(){O.c(),t=ve(),r=ae("div"),y&&y.c(),n=ve(),s=ae("div"),Qe(a.$$.fragment),l=ve(),u=ae("i"),u.textContent=f,h=ae("br"),_=ve(),p=ae("input"),d=ve(),N&&N.c(),v=ve(),m=ae("button"),m.textContent=b,this.h()},l(T){O.l(T),t=ge(T),r=se(T,"DIV",{class:!0});var j=Me(r);y&&y.l(j),n=ge(j),s=se(j,"DIV",{class:!0});var F=Me(s);Ye(a.$$.fragment,F),l=ge(F),u=se(F,"I",{"data-svelte-h":!0}),vt(u)!=="svelte-26somz"&&(u.textContent=f),h=se(F,"BR",{}),_=ge(F),p=se(F,"INPUT",{class:!0,type:!0,style:!0}),d=ge(F),N&&N.l(F),v=ge(F),m=se(F,"BUTTON",{"data-svelte-h":!0}),vt(m)!=="svelte-y9choq"&&(m.textContent=b),F.forEach(w),j.forEach(w),this.h()},h(){fe(p,"class","nodrag label"),fe(p,"type","text"),Kt(p,"background","#ece6ff"),fe(s,"class","condition node-inner svelte-d75hej"),fe(r,"class","condition node svelte-d75hej")},m(T,j){O.m(T,j),R(T,t,j),R(T,r,j),y&&y.m(r,null),G(r,n),G(r,s),Ke(a,s,null),G(s,l),G(s,u),G(s,h),G(s,_),G(s,p),bt(p,i[9]),G(s,d),N&&N.m(s,null),G(s,v),G(s,m),A=!0,U||(I=[Pe(p,"input",i[22]),Pe(p,"input",i[23]),Pe(m,"click",i[15]),Pe(r,"click",i[16]),Pe(r,"mouseenter",i[11]),Pe(r,"mouseleave",i[12])],U=!0)},p(T,j){j[0]&16&&kt(e,e=T[4].inProgress)?(It(),be(O,1,1,at),Rt(),O=Dm(T),O.c(),he(O,1),O.m(t.parentNode,t)):O.p(T,j),T[5]?y&&(It(),be(y,1,1,()=>{y=null}),Rt()):y?(y.p(T,j),j[0]&32&&he(y,1)):(y=Am(T),y.c(),he(y,1),y.m(r,n));const F={};j[0]&4&&(F.isVisible=T[2]),a.$set(F),j[0]&512&&p.value!==T[9]&&bt(p,T[9]),T[0].user_properties?N?N.p(T,j):(N=Cm(T),N.c(),N.m(s,v)):N&&(N.d(1),N=null)},i(T){A||(he(O),he(y),he(a.$$.fragment,T),A=!0)},o(T){be(O),be(y),be(a.$$.fragment,T),A=!1},d(T){T&&(w(t),w(r)),O.d(T),y&&y.d(),Je(a),N&&N.d(),U=!1,zt(I)}}}function HR(i,e,t){let r,n,s,a,l,u;At(i,Vn,H=>t(28,a=H)),At(i,St,H=>t(3,l=H));var f,h,_,p;let{data:d}=e,{isConnectable:v}=e,{selected:m=void 0}=e,{id:b}=e;const A=ya();At(i,A,H=>t(4,u=H));let U=!1,I=!1;function O(){t(6,I=!0)}function y(){t(6,I=!1)}function N(){return u.inProgress?"z-index: 999;":"z-index: -2; pointer-events: none;"}function T(){return I?"z-index: 2;":"visibility:hidden; pointer-events: none;"}function j(){F(),d.user_properties.push(["",""])}function F(){for(let H=0;H<a.length;H++)a[H].data==d&&Ht(St,l=a[H],l)}const q=H=>{t(0,d.label=H.currentTarget.value,d),Ht(St,l.data.label=d.label,l)};function k(){r=this.value,t(9,r),t(0,d),t(3,l),t(17,b),t(19,h)}const L=(H,oe)=>{t(0,d.user_properties[H][0]=oe.currentTarget.value,d),Ht(St,l.data.user_properties[H][0]=oe.currentTarget.value,l)};function D(H){n[H][0]=this.value,t(8,n),t(0,d),t(3,l),t(17,b),t(20,_)}const P=(H,oe)=>{t(0,d.user_properties[H][1]=oe.currentTarget.value,d),Ht(St,l.data.user_properties[H][1]=oe.currentTarget.value,l)};function Q(H){s[H][1]=this.value,t(7,s),t(0,d),t(3,l),t(17,b),t(21,p)}return i.$$set=H=>{"data"in H&&t(0,d=H.data),"isConnectable"in H&&t(1,v=H.isConnectable),"selected"in H&&t(2,m=H.selected),"id"in H&&t(17,b=H.id)},i.$$.update=()=>{i.$$.dirty[0]&393232&&t(5,U=(t(18,f=u.toHandle)===null||f===void 0?void 0:f.nodeId)==b),i.$$.dirty[0]&655369&&t(9,r=(d==null?void 0:d.label)||((l==null?void 0:l.id)==b?t(19,h=l==null?void 0:l.data)===null||h===void 0?void 0:h.label:"")||"< label >"),i.$$.dirty[0]&1179657&&t(8,n=(d==null?void 0:d.user_properties)||((l==null?void 0:l.id)==b?t(20,_=l==null?void 0:l.data)===null||_===void 0?void 0:_.user_properties:"")||"< Property >"),i.$$.dirty[0]&2228233&&t(7,s=(d==null?void 0:d.user_properties)||((l==null?void 0:l.id)==b?t(21,p=l==null?void 0:l.data)===null||p===void 0?void 0:p.user_properties:"")||"< Value >")},[d,v,m,l,u,U,I,s,n,r,A,O,y,N,T,j,F,b,f,h,_,p,q,k,L,D,P,Q]}class VR extends Xt{constructor(e){super(),Wt(this,e,HR,xR,kt,{data:0,isConnectable:1,selected:2,id:17},null,[-1,-1])}}function Nm(i,e,t){const r=i.slice();return r[30]=e[t],r[31]=e,r[32]=t,r}function Sm(i){let e,t;return e=new Jt({props:{type:"target",class:"customHandle",position:qt.Left,id:"target",style:i[15](),isConnectableStart:!1,isConnectable:i[1]}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n[0]&2&&(s.isConnectable=r[1]),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function Im(i){let e=i[6],t,r,n=Rm(i);return{c(){n.c(),t=ze()},l(s){n.l(s),t=ze()},m(s,a){n.m(s,a),R(s,t,a),r=!0},p(s,a){a[0]&64&&kt(e,e=s[6])?(It(),be(n,1,1,at),Rt(),n=Rm(s),n.c(),he(n,1),n.m(t.parentNode,t)):n.p(s,a)},i(s){r||(he(n),r=!0)},o(s){be(n),r=!1},d(s){s&&w(t),n.d(s)}}}function Rm(i){let e,t,r,n,s,a,l,u;return e=new Jt({props:{type:"source",position:qt.Top,id:"source",style:i[16](),isConnectable:i[1]}}),r=new Jt({props:{type:"source",position:qt.Left,id:"source",style:i[16](),isConnectable:i[1]}}),s=new Jt({props:{type:"source",position:qt.Right,id:"source",style:i[16](),isConnectable:i[1]}}),l=new Jt({props:{type:"source",position:qt.Bottom,id:"source",style:i[16](),isConnectable:i[1]}}),{c(){Qe(e.$$.fragment),t=ve(),Qe(r.$$.fragment),n=ve(),Qe(s.$$.fragment),a=ve(),Qe(l.$$.fragment)},l(f){Ye(e.$$.fragment,f),t=ge(f),Ye(r.$$.fragment,f),n=ge(f),Ye(s.$$.fragment,f),a=ge(f),Ye(l.$$.fragment,f)},m(f,h){Ke(e,f,h),R(f,t,h),Ke(r,f,h),R(f,n,h),Ke(s,f,h),R(f,a,h),Ke(l,f,h),u=!0},p(f,h){const _={};h[0]&2&&(_.isConnectable=f[1]),e.$set(_);const p={};h[0]&2&&(p.isConnectable=f[1]),r.$set(p);const d={};h[0]&2&&(d.isConnectable=f[1]),s.$set(d);const v={};h[0]&2&&(v.isConnectable=f[1]),l.$set(v)},i(f){u||(he(e.$$.fragment,f),he(r.$$.fragment,f),he(s.$$.fragment,f),he(l.$$.fragment,f),u=!0)},o(f){be(e.$$.fragment,f),be(r.$$.fragment,f),be(s.$$.fragment,f),be(l.$$.fragment,f),u=!1},d(f){f&&(w(t),w(n),w(a)),Je(e,f),Je(r,f),Je(s,f),Je(l,f)}}}function Pm(i){let e,t=lt(i[0].user_properties),r=[];for(let n=0;n<t.length;n+=1)r[n]=Fm(Nm(i,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ze()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=ze()},m(n,s){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(n,s);R(n,e,s)},p(n,s){if(s[0]&401){t=lt(n[0].user_properties);let a;for(a=0;a<t.length;a+=1){const l=Nm(n,t,a);r[a]?r[a].p(l,s):(r[a]=Fm(l),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(n){n&&w(e),er(r,n)}}}function Fm(i){let e,t,r,n,s,a,l,u,f;function h(...v){return i[24](i[32],...v)}function _(){i[25].call(r,i[32])}function p(...v){return i[26](i[32],...v)}function d(){i[27].call(a,i[32])}return{c(){e=ae("div"),t=ae("div"),r=ae("input"),n=ve(),s=ae("div"),a=ae("input"),l=ve(),this.h()},l(v){e=se(v,"DIV",{class:!0});var m=Me(e);t=se(m,"DIV",{class:!0});var b=Me(t);r=se(b,"INPUT",{placeholder:!0}),b.forEach(w),n=ge(m),s=se(m,"DIV",{class:!0});var A=Me(s);a=se(A,"INPUT",{placeholder:!0}),A.forEach(w),l=ge(m),m.forEach(w),this.h()},h(){fe(r,"placeholder","property"),fe(t,"class","user-property flex-column"),fe(a,"placeholder","value"),fe(s,"class","user-value flex-column flex-grow-3"),fe(e,"class","user-properties flex")},m(v,m){R(v,e,m),G(e,t),G(t,r),bt(r,i[8][i[32]][0]),G(e,n),G(e,s),G(s,a),bt(a,i[7][i[32]][1]),G(e,l),u||(f=[Pe(r,"input",h),Pe(r,"input",_),Pe(a,"input",p),Pe(a,"input",d)],u=!0)},p(v,m){i=v,m[0]&256&&r.value!==i[8][i[32]][0]&&bt(r,i[8][i[32]][0]),m[0]&128&&a.value!==i[7][i[32]][1]&&bt(a,i[7][i[32]][1])},d(v){v&&w(e),u=!1,zt(f)}}}function zR(i){let e=i[3].inProgress,t,r,n,s,a,l="Agent",u,f,h,_,p,d,v,m,b,A="+",U,I,O,y=Sm(i),N=!i[5]&&Im(i);h=new Qa({props:{isVisible:i[2]}});let T=i[0].user_properties&&Pm(i);return{c(){y.c(),t=ve(),r=ae("div"),N&&N.c(),n=ve(),s=ae("div"),a=ae("i"),a.textContent=l,u=ae("br"),f=ve(),Qe(h.$$.fragment),_=ve(),p=ae("input"),d=ae("br"),v=ve(),T&&T.c(),m=ve(),b=ae("button"),b.textContent=A,this.h()},l(j){y.l(j),t=ge(j),r=se(j,"DIV",{class:!0});var F=Me(r);N&&N.l(F),n=ge(F),s=se(F,"DIV",{class:!0});var q=Me(s);a=se(q,"I",{"data-svelte-h":!0}),vt(a)!=="svelte-13s1fb"&&(a.textContent=l),u=se(q,"BR",{}),f=ge(q),Ye(h.$$.fragment,q),_=ge(q),p=se(q,"INPUT",{class:!0,type:!0,style:!0}),d=se(q,"BR",{}),v=ge(q),T&&T.l(q),m=ge(q),b=se(q,"BUTTON",{"data-svelte-h":!0}),vt(b)!=="svelte-y9choq"&&(b.textContent=A),q.forEach(w),F.forEach(w),this.h()},h(){fe(p,"class","nodrag label"),fe(p,"type","text"),Kt(p,"background","#f0e6e6"),fe(s,"class","agent-inner node-inner"),fe(r,"class","agent node svelte-n06ybh")},m(j,F){y.m(j,F),R(j,t,F),R(j,r,F),N&&N.m(r,null),G(r,n),G(r,s),G(s,a),G(s,u),G(s,f),Ke(h,s,null),G(s,_),G(s,p),bt(p,i[9]),G(s,d),G(s,v),T&&T.m(s,null),G(s,m),G(s,b),U=!0,I||(O=[Pe(p,"input",i[22]),Pe(p,"input",i[23]),Pe(b,"click",i[10]),Pe(r,"click",i[11]),Pe(r,"mouseenter",i[13]),Pe(r,"mouseleave",i[14])],I=!0)},p(j,F){F[0]&8&&kt(e,e=j[3].inProgress)?(It(),be(y,1,1,at),Rt(),y=Sm(j),y.c(),he(y,1),y.m(t.parentNode,t)):y.p(j,F),j[5]?N&&(It(),be(N,1,1,()=>{N=null}),Rt()):N?(N.p(j,F),F[0]&32&&he(N,1)):(N=Im(j),N.c(),he(N,1),N.m(r,n));const q={};F[0]&4&&(q.isVisible=j[2]),h.$set(q),F[0]&512&&p.value!==j[9]&&bt(p,j[9]),j[0].user_properties?T?T.p(j,F):(T=Pm(j),T.c(),T.m(s,m)):T&&(T.d(1),T=null)},i(j){U||(he(y),he(N),he(h.$$.fragment,j),U=!0)},o(j){be(y),be(N),be(h.$$.fragment,j),U=!1},d(j){j&&(w(t),w(r)),y.d(j),N&&N.d(),Je(h),T&&T.d(),I=!1,zt(O)}}}function $R(i,e,t){let r,n,s,a,l,u;At(i,Vn,H=>t(28,l=H)),At(i,St,H=>t(4,u=H));var f,h,_,p;let{data:d}=e,{isConnectable:v}=e,{selected:m=void 0}=e,{id:b}=e;function A(){U(),d.user_properties.push(["",""])}function U(){for(let H=0;H<l.length;H++)l[H].data==d&&Ht(St,u=l[H],u)}const I=ya();At(i,I,H=>t(3,a=H));let O=!1,y=!1;function N(){t(6,y=!0)}function T(){t(6,y=!1)}function j(){return a.inProgress?"z-index: 999;":"z-index: -2; pointer-events: none;"}function F(){return y?"z-index: 2;":"visibility:hidden; pointer-events: none;"}const q=H=>{t(0,d.label=H.currentTarget.value,d),Ht(St,u.data.label=d.label,u)};function k(){r=this.value,t(9,r),t(0,d),t(4,u),t(17,b),t(18,f)}const L=(H,oe)=>{t(0,d.user_properties[H][0]=oe.currentTarget.value,d),Ht(St,u.data.user_properties[H][0]=oe.currentTarget.value,u)};function D(H){n[H][0]=this.value,t(8,n),t(0,d),t(4,u),t(17,b),t(19,h)}const P=(H,oe)=>{t(0,d.user_properties[H][1]=oe.currentTarget.value,d),Ht(St,u.data.user_properties[H][1]=oe.currentTarget.value,u)};function Q(H){s[H][1]=this.value,t(7,s),t(0,d),t(4,u),t(17,b),t(20,_)}return i.$$set=H=>{"data"in H&&t(0,d=H.data),"isConnectable"in H&&t(1,v=H.isConnectable),"selected"in H&&t(2,m=H.selected),"id"in H&&t(17,b=H.id)},i.$$.update=()=>{i.$$.dirty[0]&393233&&t(9,r=(d==null?void 0:d.label)||((u==null?void 0:u.id)==b?t(18,f=u==null?void 0:u.data)===null||f===void 0?void 0:f.label:"")||"< label >"),i.$$.dirty[0]&655377&&t(8,n=(d==null?void 0:d.user_properties)||((u==null?void 0:u.id)==b?t(19,h=u==null?void 0:u.data)===null||h===void 0?void 0:h.user_properties:"")||"< Property >"),i.$$.dirty[0]&1179665&&t(7,s=(d==null?void 0:d.user_properties)||((u==null?void 0:u.id)==b?t(20,_=u==null?void 0:u.data)===null||_===void 0?void 0:_.user_properties:"")||"< Value >"),i.$$.dirty[0]&2228232&&t(5,O=(t(21,p=a.toHandle)===null||p===void 0?void 0:p.nodeId)==b)},[d,v,m,a,u,O,y,s,n,r,A,U,I,N,T,j,F,b,f,h,_,p,q,k,L,D,P,Q]}class GR extends Xt{constructor(e){super(),Wt(this,e,$R,zR,kt,{data:0,isConnectable:1,selected:2,id:17},null,[-1,-1])}}function Om(i,e,t){const r=i.slice();return r[31]=e[t],r[32]=e,r[33]=t,r}function Lm(i){let e,t;return e=new Jt({props:{type:"target",class:"customHandle",position:qt.Left,id:"target",style:i[17](),isConnectableStart:!1,isConnectable:i[1]}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n[0]&2&&(s.isConnectable=r[1]),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function Bm(i){let e=i[8],t,r,n=Um(i);return{c(){n.c(),t=ze()},l(s){n.l(s),t=ze()},m(s,a){n.m(s,a),R(s,t,a),r=!0},p(s,a){a[0]&256&&kt(e,e=s[8])?(It(),be(n,1,1,at),Rt(),n=Um(s),n.c(),he(n,1),n.m(t.parentNode,t)):n.p(s,a)},i(s){r||(he(n),r=!0)},o(s){be(n),r=!1},d(s){s&&w(t),n.d(s)}}}function Um(i){let e,t,r,n,s,a,l,u;return e=new Jt({props:{type:"source",position:qt.Top,id:"source",style:i[18](),isConnectable:i[1]}}),r=new Jt({props:{type:"source",position:qt.Left,id:"source",style:i[18](),isConnectable:i[1]}}),s=new Jt({props:{type:"source",position:qt.Right,id:"source",style:i[18](),isConnectable:i[1]}}),l=new Jt({props:{type:"source",position:qt.Bottom,id:"source",style:i[18](),isConnectable:i[1]}}),{c(){Qe(e.$$.fragment),t=ve(),Qe(r.$$.fragment),n=ve(),Qe(s.$$.fragment),a=ve(),Qe(l.$$.fragment)},l(f){Ye(e.$$.fragment,f),t=ge(f),Ye(r.$$.fragment,f),n=ge(f),Ye(s.$$.fragment,f),a=ge(f),Ye(l.$$.fragment,f)},m(f,h){Ke(e,f,h),R(f,t,h),Ke(r,f,h),R(f,n,h),Ke(s,f,h),R(f,a,h),Ke(l,f,h),u=!0},p(f,h){const _={};h[0]&2&&(_.isConnectable=f[1]),e.$set(_);const p={};h[0]&2&&(p.isConnectable=f[1]),r.$set(p);const d={};h[0]&2&&(d.isConnectable=f[1]),s.$set(d);const v={};h[0]&2&&(v.isConnectable=f[1]),l.$set(v)},i(f){u||(he(e.$$.fragment,f),he(r.$$.fragment,f),he(s.$$.fragment,f),he(l.$$.fragment,f),u=!0)},o(f){be(e.$$.fragment,f),be(r.$$.fragment,f),be(s.$$.fragment,f),be(l.$$.fragment,f),u=!1},d(f){f&&(w(t),w(n),w(a)),Je(e,f),Je(r,f),Je(s,f),Je(l,f)}}}function XR(i){let e,t;return e=new i[34].ItemTactic({props:{list:d1,filter_value_store:i[35],select_item:i[36]}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n[1]&16&&(s.filter_value_store=r[35]),n[1]&32&&(s.select_item=r[36]),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function Mm(i){let e,t=lt(i[0].user_properties),r=[];for(let n=0;n<t.length;n+=1)r[n]=qm(Om(i,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ze()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=ze()},m(n,s){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(n,s);R(n,e,s)},p(n,s){if(s[0]&1601){t=lt(n[0].user_properties);let a;for(a=0;a<t.length;a+=1){const l=Om(n,t,a);r[a]?r[a].p(l,s):(r[a]=qm(l),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(n){n&&w(e),er(r,n)}}}function qm(i){let e,t,r,n,s,a,l,u,f;function h(...v){return i[26](i[33],...v)}function _(){i[27].call(r,i[33])}function p(...v){return i[28](i[33],...v)}function d(){i[29].call(a,i[33])}return{c(){e=ae("div"),t=ae("div"),r=ae("input"),n=ve(),s=ae("div"),a=ae("input"),l=ve(),this.h()},l(v){e=se(v,"DIV",{class:!0});var m=Me(e);t=se(m,"DIV",{class:!0});var b=Me(t);r=se(b,"INPUT",{placeholder:!0}),b.forEach(w),n=ge(m),s=se(m,"DIV",{class:!0});var A=Me(s);a=se(A,"INPUT",{placeholder:!0}),A.forEach(w),l=ge(m),m.forEach(w),this.h()},h(){fe(r,"placeholder","property"),fe(t,"class","user-property flex-column"),fe(a,"placeholder","value"),fe(s,"class","user-value flex-column flex-grow-3"),fe(e,"class","user-properties flex")},m(v,m){R(v,e,m),G(e,t),G(t,r),bt(r,i[10][i[33]][0]),G(e,n),G(e,s),G(s,a),bt(a,i[9][i[33]][1]),G(e,l),u||(f=[Pe(r,"input",h),Pe(r,"input",_),Pe(a,"input",p),Pe(a,"input",d)],u=!0)},p(v,m){i=v,m[0]&1024&&r.value!==i[10][i[33]][0]&&bt(r,i[10][i[33]][0]),m[0]&512&&a.value!==i[9][i[33]][1]&&bt(a,i[9][i[33]][1])},d(v){v&&w(e),u=!1,zt(f)}}}function WR(i){let e=i[5].inProgress,t,r,n,s,a,l,u,f,h,_,p,d,v,m,b,A,U,I,O="+",y,N,T,j=Lm(i),F=!i[7]&&Bm(i);a=new Qa({props:{isVisible:i[4]}}),v=new Os({props:{node_id:i[2],element_id:i[0].d3f_class,input_color:"white",$$slots:{default:[XR,({R:k,filter_value_store:L,select_item:D})=>({34:k,35:L,36:D}),({R:k,filter_value_store:L,select_item:D})=>[0,(k?8:0)|(L?16:0)|(D?32:0)]]},$$scope:{ctx:i}}});let q=i[0].user_properties&&Mm(i);return{c(){j.c(),t=ve(),r=ae("div"),F&&F.c(),n=ve(),s=ae("div"),Qe(a.$$.fragment),l=ve(),u=ae("i"),f=V(i[3]),h=ae("br"),_=ve(),p=ae("br"),d=ve(),Qe(v.$$.fragment),m=ve(),b=ae("input"),A=ve(),q&&q.c(),U=ve(),I=ae("button"),I.textContent=O,this.h()},l(k){j.l(k),t=ge(k),r=se(k,"DIV",{class:!0});var L=Me(r);F&&F.l(L),n=ge(L),s=se(L,"DIV",{class:!0});var D=Me(s);Ye(a.$$.fragment,D),l=ge(D),u=se(D,"I",{});var P=Me(u);f=z(P,i[3]),P.forEach(w),h=se(D,"BR",{}),_=ge(D),p=se(D,"BR",{}),d=ge(D),Ye(v.$$.fragment,D),m=ge(D),b=se(D,"INPUT",{class:!0,type:!0,style:!0}),A=ge(D),q&&q.l(D),U=ge(D),I=se(D,"BUTTON",{"data-svelte-h":!0}),vt(I)!=="svelte-y9choq"&&(I.textContent=O),D.forEach(w),L.forEach(w),this.h()},h(){fe(b,"class","nodrag label"),fe(b,"type","text"),Kt(b,"background","white"),fe(s,"class","event node-inner svelte-r7gabh"),fe(r,"class","event node svelte-r7gabh")},m(k,L){j.m(k,L),R(k,t,L),R(k,r,L),F&&F.m(r,null),G(r,n),G(r,s),Ke(a,s,null),G(s,l),G(s,u),G(u,f),G(s,h),G(s,_),G(s,p),G(s,d),Ke(v,s,null),G(s,m),G(s,b),bt(b,i[11]),G(s,A),q&&q.m(s,null),G(s,U),G(s,I),y=!0,N||(T=[Pe(b,"input",i[24]),Pe(b,"input",i[25]),Pe(I,"click",i[12]),Pe(r,"click",i[13]),Pe(r,"mouseenter",i[15]),Pe(r,"mouseleave",i[16])],N=!0)},p(k,L){L[0]&32&&kt(e,e=k[5].inProgress)?(It(),be(j,1,1,at),Rt(),j=Lm(k),j.c(),he(j,1),j.m(t.parentNode,t)):j.p(k,L),k[7]?F&&(It(),be(F,1,1,()=>{F=null}),Rt()):F?(F.p(k,L),L[0]&128&&he(F,1)):(F=Bm(k),F.c(),he(F,1),F.m(r,n));const D={};L[0]&16&&(D.isVisible=k[4]),a.$set(D),(!y||L[0]&8)&&Se(f,k[3]);const P={};L[0]&4&&(P.node_id=k[2]),L[0]&1&&(P.element_id=k[0].d3f_class),L[1]&112&&(P.$$scope={dirty:L,ctx:k}),v.$set(P),L[0]&2048&&b.value!==k[11]&&bt(b,k[11]),k[0].user_properties?q?q.p(k,L):(q=Mm(k),q.c(),q.m(s,U)):q&&(q.d(1),q=null)},i(k){y||(he(j),he(F),he(a.$$.fragment,k),he(v.$$.fragment,k),y=!0)},o(k){be(j),be(F),be(a.$$.fragment,k),be(v.$$.fragment,k),y=!1},d(k){k&&(w(t),w(r)),j.d(k),F&&F.d(),Je(a),Je(v),q&&q.d(),N=!1,zt(T)}}}function QR(i,e,t){let r,n,s,a,l,u;At(i,Vn,re=>t(30,l=re)),At(i,St,re=>t(6,u=re));var f,h,_,p;let{data:d}=e,{isConnectable:v}=e,{id:m}=e,{nodeType:b="EventNode"}=e,{nodeTypeLabel:A="Event"}=e,{selected:U=void 0}=e;function I(){O(),d.user_properties.push(["",""])}function O(){for(let re=0;re<l.length;re++)l[re].data==d&&Ht(St,u=l[re],u)}const y=ya();At(i,y,re=>t(5,a=re));let N=!1,T=!1;function j(){t(8,T=!0)}function F(){t(8,T=!1)}function q(){return a.inProgress?"z-index: 999;":"z-index: -2; pointer-events: none;"}function k(){return T?"z-index: 2;":"visibility:hidden; pointer-events: none;"}const L=re=>{t(0,d.label=re.currentTarget.value,d),Ht(St,u.data.label=d.label,u)};function D(){r=this.value,t(11,r),t(0,d),t(6,u),t(2,m),t(20,f)}const P=(re,te)=>{t(0,d.user_properties[re][0]=te.currentTarget.value,d),Ht(St,u.data.user_properties[re][0]=te.currentTarget.value,u)};function Q(re){n[re][0]=this.value,t(10,n),t(0,d),t(6,u),t(2,m),t(21,h)}const H=(re,te)=>{t(0,d.user_properties[re][1]=te.currentTarget.value,d),Ht(St,u.data.user_properties[re][1]=te.currentTarget.value,u)};function oe(re){s[re][1]=this.value,t(9,s),t(0,d),t(6,u),t(2,m),t(22,_)}return i.$$set=re=>{"data"in re&&t(0,d=re.data),"isConnectable"in re&&t(1,v=re.isConnectable),"id"in re&&t(2,m=re.id),"nodeType"in re&&t(19,b=re.nodeType),"nodeTypeLabel"in re&&t(3,A=re.nodeTypeLabel),"selected"in re&&t(4,U=re.selected)},i.$$.update=()=>{i.$$.dirty[0]&1048645&&t(11,r=(d==null?void 0:d.label)||((u==null?void 0:u.id)==m?t(20,f=u==null?void 0:u.data)===null||f===void 0?void 0:f.label:"")||"< label >"),i.$$.dirty[0]&2097221&&t(10,n=(d==null?void 0:d.user_properties)||((u==null?void 0:u.id)==m?t(21,h=u==null?void 0:u.data)===null||h===void 0?void 0:h.user_properties:"")||"< Property >"),i.$$.dirty[0]&4194373&&t(9,s=(d==null?void 0:d.user_properties)||((u==null?void 0:u.id)==m?t(22,_=u==null?void 0:u.data)===null||_===void 0?void 0:_.user_properties:"")||"< Value >"),i.$$.dirty[0]&8388644&&t(7,N=(t(23,p=a.toHandle)===null||p===void 0?void 0:p.nodeId)==m)},[d,v,m,A,U,a,u,N,T,s,n,r,I,O,y,j,F,q,k,b,f,h,_,p,L,D,P,Q,H,oe]}class YR extends Xt{constructor(e){super(),Wt(this,e,QR,WR,kt,{data:0,isConnectable:1,id:2,nodeType:19,nodeTypeLabel:3,selected:4},null,[-1,-1])}}function jm(i,e){const t=i.internals.positionAbsolute||{x:0,y:0},r=e.internals.positionAbsolute||{x:0,y:0},n=(i.measured.width??0)/2,s=(i.measured.height??0)/2,a=t.x+n,l=t.y+s,u=r.x+(e.measured.width??0)/2,f=r.y+(e.measured.height??0)/2,h=(u-a)/(2*n)-(f-l)/(2*s),_=(u-a)/(2*n)+(f-l)/(2*s),p=1/(Math.abs(h)+Math.abs(_)),d=p*h,v=p*_,m=n*(d+v)+a,b=s*(-d+v)+l;return{x:m,y:b}}function xm(i,e){var a,l;if(!i.measured.width||!i.measured.height)return null;const t=Math.round(((a=i.internals.positionAbsolute)==null?void 0:a.x)??0),r=Math.round(((l=i.internals.positionAbsolute)==null?void 0:l.y)??0),n=Math.round(e.x),s=Math.round(e.y);return n<=t+1?qt.Left:n>=t+i.measured.width-1?qt.Right:s<=r+1?qt.Top:s>=r+i.measured.height-1?qt.Bottom:qt.Top}function Kh(i,e){const t=jm(i,e),r=jm(e,i),n=xm(i,t),s=xm(e,r);return{sx:t.x,sy:t.y,tx:r.x,ty:r.y,sourcePos:n,targetPos:s}}function KR(i){let e,t;return e=new i[19].ItemProperty({props:{list:_1,filter_value_store:i[20],select_item:i[21]}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n&1048576&&(s.filter_value_store=r[20]),n&2097152&&(s.select_item=r[21]),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function JR(i){let e,t,r=`translate(-50%, -50%) translate(${i[5]}px,${i[6]}px)`,n;return t=new Os({props:{node_id:i[0],element_id:i[1].label,input_color:"#ffffff00",place_holder:String(i[1].label),flow_store_hook:Bi,data_save_key:"d3f_property",$$slots:{default:[KR,({R:s,filter_value_store:a,select_item:l})=>({19:s,20:a,21:l}),({R:s,filter_value_store:a,select_item:l})=>(s?524288:0)|(a?1048576:0)|(l?2097152:0)]},$$scope:{ctx:i}}}),{c(){e=ae("div"),Qe(t.$$.fragment),this.h()},l(s){e=se(s,"DIV",{class:!0});var a=Me(e);Ye(t.$$.fragment,a),a.forEach(w),this.h()},h(){fe(e,"class","edge-label-container svelte-566npr"),Kt(e,"transform",r)},m(s,a){R(s,e,a),Ke(t,e,null),n=!0},p(s,a){const l={};a&1&&(l.node_id=s[0]),a&2&&(l.element_id=s[1].label),a&2&&(l.place_holder=String(s[1].label)),a&7340032&&(l.$$scope={dirty:a,ctx:s}),t.$set(l),a&96&&r!==(r=`translate(-50%, -50%) translate(${s[5]}px,${s[6]}px)`)&&Kt(e,"transform",r)},i(s){n||(he(t.$$.fragment,s),n=!0)},o(s){be(t.$$.fragment,s),n=!1},d(s){s&&w(e),Je(t)}}}function ZR(i){let e,t,r,n;return e=new MA({props:{path:i[4],markerEnd:i[2],style:i[3]}}),r=new qA({props:{$$slots:{default:[JR]},$$scope:{ctx:i}}}),{c(){Qe(e.$$.fragment),t=ve(),Qe(r.$$.fragment)},l(s){Ye(e.$$.fragment,s),t=ge(s),Ye(r.$$.fragment,s)},m(s,a){Ke(e,s,a),R(s,t,a),Ke(r,s,a),n=!0},p(s,[a]){const l={};a&16&&(l.path=s[4]),a&4&&(l.markerEnd=s[2]),a&8&&(l.style=s[3]),e.$set(l);const u={};a&4194403&&(u.$$scope={dirty:a,ctx:s}),r.$set(u)},i(s){n||(he(e.$$.fragment,s),he(r.$$.fragment,s),n=!0)},o(s){be(e.$$.fragment,s),be(r.$$.fragment,s),n=!1},d(s){s&&w(t),Je(e,s),Je(r,s)}}}function eP(i,e,t){let r,n,s,a=at,l=()=>(a(),a=Ai(n,q=>t(17,s=q)),n),u,f=at,h=()=>(f(),f=Ai(r,q=>t(18,u=q)),r);i.$$.on_destroy.push(()=>a()),i.$$.on_destroy.push(()=>f());let{id:_}=e,{data:p}=e,{sourceX:d}=e,{sourceY:v}=e,{source:m}=e,{sourcePosition:b}=e,{targetX:A}=e,{targetY:U}=e,{target:I}=e,{targetPosition:O}=e,{markerEnd:y=s1.ArrowClosed}=e,{style:N="stroke-width: 2px"}=e,T,j,F;return i.$$set=q=>{"id"in q&&t(0,_=q.id),"data"in q&&t(1,p=q.data),"sourceX"in q&&t(9,d=q.sourceX),"sourceY"in q&&t(10,v=q.sourceY),"source"in q&&t(11,m=q.source),"sourcePosition"in q&&t(12,b=q.sourcePosition),"targetX"in q&&t(13,A=q.targetX),"targetY"in q&&t(14,U=q.targetY),"target"in q&&t(15,I=q.target),"targetPosition"in q&&t(16,O=q.targetPosition),"markerEnd"in q&&t(2,y=q.markerEnd),"style"in q&&t(3,N=q.style)},i.$$.update=()=>{if(i.$$.dirty&2048&&h(t(8,r=M_(m))),i.$$.dirty&32768&&l(t(7,n=M_(I))),i.$$.dirty&393216)if(u&&s){const q=Kh(u,s);t(4,[T,j,F]=Sh({sourceX:q.sx,sourceY:q.sy,sourcePosition:q.sourcePos,targetX:q.tx,targetY:q.ty,targetPosition:q.targetPos}),T,(t(5,j),t(18,u),t(17,s)),(t(6,F),t(18,u),t(17,s)))}else t(4,T=void 0)},[_,p,y,N,T,j,F,n,r,d,v,m,b,A,U,I,O,s,u]}class tP extends Xt{constructor(e){super(),Wt(this,e,eP,ZR,kt,{id:0,data:1,sourceX:9,sourceY:10,source:11,sourcePosition:12,targetX:13,targetY:14,target:15,targetPosition:16,markerEnd:2,style:3})}}function Hm(i,e,t){const r=i.slice();return r[7]=e[t],r}function Vm(i){let e,t=lt(i[2]),r=[];for(let n=0;n<t.length;n+=1)r[n]=zm(Hm(i,t,n));return{c(){e=ae("div");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){e=se(n,"DIV",{class:!0});var s=Me(e);for(let a=0;a<r.length;a+=1)r[a].l(s);s.forEach(w),this.h()},h(){fe(e,"class","file-list svelte-9u10j")},m(n,s){R(n,e,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(n,s){if(s&20){t=lt(n[2]);let a;for(a=0;a<t.length;a+=1){const l=Hm(n,t,a);r[a]?r[a].p(l,s):(r[a]=zm(l),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(n){n&&w(e),er(r,n)}}}function zm(i){let e,t=i[7].name+"",r,n,s=i[7].nodeCount+"",a,l,u=i[7].edgeCount+"",f,h,_,p;function d(){return i[5](i[7])}return{c(){e=ae("div"),r=V(t),n=V(" ("),a=V(s),l=V(" nodes, "),f=V(u),h=V(` edges)
          `),this.h()},l(v){e=se(v,"DIV",{class:!0});var m=Me(e);r=z(m,t),n=z(m," ("),a=z(m,s),l=z(m," nodes, "),f=z(m,u),h=z(m,` edges)
          `),m.forEach(w),this.h()},h(){fe(e,"class","file-item svelte-9u10j")},m(v,m){R(v,e,m),G(e,r),G(e,n),G(e,a),G(e,l),G(e,f),G(e,h),_||(p=Pe(e,"click",d),_=!0)},p(v,m){i=v,m&4&&t!==(t=i[7].name+"")&&Se(r,t),m&4&&s!==(s=i[7].nodeCount+"")&&Se(a,s),m&4&&u!==(u=i[7].edgeCount+"")&&Se(f,u)},d(v){v&&w(e),_=!1,p()}}}function rP(i){let e,t,r,n,s,a,l=i[1]&&Vm(i);return{c(){e=ae("div"),t=ae("button"),r=V(i[0]),n=ve(),l&&l.c(),this.h()},l(u){e=se(u,"DIV",{class:!0});var f=Me(e);t=se(f,"BUTTON",{class:!0});var h=Me(t);r=z(h,i[0]),h.forEach(w),n=ge(f),l&&l.l(f),f.forEach(w),this.h()},h(){fe(t,"class","svelte-9u10j"),fe(e,"class","pick-list-container svelte-9u10j")},m(u,f){R(u,e,f),G(e,t),G(t,r),G(e,n),l&&l.m(e,null),s||(a=Pe(t,"click",i[3]),s=!0)},p(u,[f]){f&1&&Se(r,u[0]),u[1]?l?l.p(u,f):(l=Vm(u),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:at,o:at,d(u){u&&w(e),l&&l.d(),s=!1,a()}}}async function nP(){return await(await fetch("/cad/examples.json")).json()}function iP(i,e,t){const r=Cf();let n=!1,{selectedFile:s="Example Graphs"}=e,a=[];function l(){t(1,n=!n)}function u(h){t(0,s=h),t(1,n=!1),r("fileSelected",h)}kf(async()=>{t(2,a=await nP())});const f=h=>u(h.name);return i.$$set=h=>{"selectedFile"in h&&t(0,s=h.selectedFile)},[s,n,a,l,u,f]}class aP extends Xt{constructor(e){super(),Wt(this,e,iP,rP,kt,{selectedFile:0})}}function $m(i){let e,t,r,n,s;return{c(){e=__("path"),t=ve(),r=__("circle"),this.h()},l(a){e=v_(a,"path",{fill:!0,"stroke-width":!0,class:!0,stroke:!0,d:!0}),Me(e).forEach(w),t=ge(a),r=v_(a,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0}),Me(r).forEach(w),this.h()},h(){fe(e,"fill","transparent"),fe(e,"stroke-width",2.5),fe(e,"class","animated"),fe(e,"stroke","black"),fe(e,"d",i[2]),fe(r,"cx",n=i[0].tx),fe(r,"cy",s=i[0].ty),fe(r,"r",3),fe(r,"stroke","black"),fe(r,"stroke-width",1.5)},m(a,l){R(a,e,l),R(a,t,l),R(a,r,l)},p(a,l){l&4&&fe(e,"d",a[2]),l&1&&n!==(n=a[0].tx)&&fe(r,"cx",n),l&1&&s!==(s=a[0].ty)&&fe(r,"cy",s)},d(a){a&&(w(e),w(t),w(r))}}}function sP(i){let e,t=i[1].inProgress&&$m(i);return{c(){t&&t.c(),e=ze()},l(r){t&&t.l(r),e=ze()},m(r,n){t&&t.m(r,n),R(r,e,n)},p(r,[n]){r[1].inProgress?t?t.p(r,n):(t=$m(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:at,o:at,d(r){r&&w(e),t&&t.d(r)}}}function lP(i,e,t){let r;const n=ya();At(i,n,l=>t(1,r=l));let s,a;return i.$$.update=()=>{if(i.$$.dirty&3){const l=structuredClone(r.fromNode);r.isValid?(t(0,a=Kh(r.fromNode,r.toNode)),t(2,s=Sh({sourceX:a.sx,sourceY:a.sy,sourcePosition:a.sourcePos,targetX:a.tx,targetY:a.ty,targetPosition:a.targetPos})[0])):(l.id="-1",l.measured={width:1,height:1},l.position={x:r.to.x,y:r.to.y},l.internals.positionAbsolute={x:r.to.x,y:r.to.y},t(0,a=Kh(r.fromNode,l)),t(2,s=Sh({sourceX:a.sx,sourceY:a.sy,sourcePosition:a.sourcePos,targetX:a.tx,targetY:a.ty,targetPosition:a.targetPos})[0]))}},[a,r,s,n]}class oP extends Xt{constructor(e){super(),Wt(this,e,lP,sP,kt,{})}}function Gm(i,e,t){const r=i.slice();return r[11]=e[t],r}function Xm(i){let e,t,r,n,s,a,l,u,f,h,_,p,d;const v=i[7].default,m=Or(v,i,i[6],null);let b=lt(i[3]),A=[];for(let U=0;U<b.length;U+=1)A[U]=Wm(Gm(i,b,U));return{c(){e=ae("div"),t=ae("div"),r=ae("h2"),n=V(i[1]),s=ve(),a=ae("p"),l=V(i[2]),u=ve(),m&&m.c(),f=ve(),h=ae("div");for(let U=0;U<A.length;U+=1)A[U].c();this.h()},l(U){e=se(U,"DIV",{class:!0});var I=Me(e);t=se(I,"DIV",{class:!0});var O=Me(t);r=se(O,"H2",{});var y=Me(r);n=z(y,i[1]),y.forEach(w),s=ge(O),a=se(O,"P",{});var N=Me(a);l=z(N,i[2]),N.forEach(w),u=ge(O),m&&m.l(O),f=ge(O),h=se(O,"DIV",{class:!0});var T=Me(h);for(let j=0;j<A.length;j+=1)A[j].l(T);T.forEach(w),O.forEach(w),I.forEach(w),this.h()},h(){fe(h,"class","options svelte-zbcx3u"),fe(t,"class","modal-content center text-center svelte-zbcx3u"),fe(e,"class","modal-overlay svelte-zbcx3u")},m(U,I){R(U,e,I),G(e,t),G(t,r),G(r,n),G(t,s),G(t,a),G(a,l),G(t,u),m&&m.m(t,null),G(t,f),G(t,h);for(let O=0;O<A.length;O+=1)A[O]&&A[O].m(h,null);_=!0,p||(d=[Pe(t,"click",jr(i[8])),Pe(e,"click",i[4])],p=!0)},p(U,I){if((!_||I&2)&&Se(n,U[1]),(!_||I&4)&&Se(l,U[2]),m&&m.p&&(!_||I&64)&&Lr(m,v,U,U[6],_?Ur(v,U[6],I,null):Br(U[6]),null),I&40){b=lt(U[3]);let O;for(O=0;O<b.length;O+=1){const y=Gm(U,b,O);A[O]?A[O].p(y,I):(A[O]=Wm(y),A[O].c(),A[O].m(h,null))}for(;O<A.length;O+=1)A[O].d(1);A.length=b.length}},i(U){_||(he(m,U),_=!0)},o(U){be(m,U),_=!1},d(U){U&&w(e),m&&m.d(U),er(A,U),p=!1,zt(d)}}}function Wm(i){let e,t=i[11].label+"",r,n,s,a;function l(){return i[9](i[11])}return{c(){e=ae("button"),r=V(t),n=ve(),this.h()},l(u){e=se(u,"BUTTON",{class:!0});var f=Me(e);r=z(f,t),n=ge(f),f.forEach(w),this.h()},h(){fe(e,"class","svelte-zbcx3u")},m(u,f){R(u,e,f),G(e,r),G(e,n),s||(a=Pe(e,"click",l),s=!0)},p(u,f){i=u,f&8&&t!==(t=i[11].label+"")&&Se(r,t)},d(u){u&&w(e),s=!1,a()}}}function uP(i){let e,t,r=i[0]&&Xm(i);return{c(){r&&r.c(),e=ze()},l(n){r&&r.l(n),e=ze()},m(n,s){r&&r.m(n,s),R(n,e,s),t=!0},p(n,[s]){n[0]?r?(r.p(n,s),s&1&&he(r,1)):(r=Xm(n),r.c(),he(r,1),r.m(e.parentNode,e)):r&&(It(),be(r,1,1,()=>{r=null}),Rt())},i(n){t||(he(r),t=!0)},o(n){be(r),t=!1},d(n){n&&w(e),r&&r.d(n)}}}function fP(i,e,t){let{$$slots:r={},$$scope:n}=e,{is_open:s=!1}=e,{title:a=""}=e,{content:l=""}=e,{options:u=[{label:"Cancel",value:"cancel"}]}=e;const f=Cf();function h(){t(0,s=!1)}function _(v){f("close_button_modal",v),h()}function p(v){ni.call(this,i,v)}const d=v=>_(v);return i.$$set=v=>{"is_open"in v&&t(0,s=v.is_open),"title"in v&&t(1,a=v.title),"content"in v&&t(2,l=v.content),"options"in v&&t(3,u=v.options),"$$scope"in v&&t(6,n=v.$$scope)},[s,a,l,u,h,_,n,r,p,d]}class cP extends Xt{constructor(e){super(),Wt(this,e,fP,uP,kt,{is_open:0,title:1,content:2,options:3})}}function Qm(i,e,t){const r=i.slice();return r[64]=e[t],r[66]=t,r}function hP(i){let e,t='This is an (very) alpha-level preview release. Please review and file bugs <a href="https://github.com/d3fend/d3fend/issues/14">here. </a>Early stage <a href="./docs">docs.</a>';return{c(){e=ae("div"),e.innerHTML=t,this.h()},l(r){e=se(r,"DIV",{class:!0,"data-svelte-h":!0}),vt(e)!=="svelte-x19ykg"&&(e.innerHTML=t),this.h()},h(){fe(e,"class","font-small")},m(r,n){R(r,e,n)},p:at,d(r){r&&w(e)}}}function Ym(i){let e=i[64].message+"",t,r;return{c(){t=V(e),r=ae("br")},l(n){t=z(n,e),r=se(n,"BR",{})},m(n,s){R(n,t,s),R(n,r,s)},p(n,s){s[0]&32&&e!==(e=n[64].message+"")&&Se(t,e)},d(n){n&&(w(t),w(r))}}}function dP(i){let e,t="<code>The tool fixed the errors needed to run but here is list of all import errors and warnings.</code>",r,n,s,a,l,u,f,h,_,p=lt(i[5]),d=[];for(let v=0;v<p.length;v+=1)d[v]=Ym(Qm(i,p,v));return{c(){e=ae("div"),e.innerHTML=t,r=ve(),n=ae("br"),s=ve(),a=ae("br"),l=ve();for(let v=0;v<d.length;v+=1)d[v].c();u=ve(),f=ae("br"),h=ve(),_=ae("br")},l(v){e=se(v,"DIV",{"data-svelte-h":!0}),vt(e)!=="svelte-7el432"&&(e.innerHTML=t),r=ge(v),n=se(v,"BR",{}),s=ge(v),a=se(v,"BR",{}),l=ge(v);for(let m=0;m<d.length;m+=1)d[m].l(v);u=ge(v),f=se(v,"BR",{}),h=ge(v),_=se(v,"BR",{})},m(v,m){R(v,e,m),R(v,r,m),R(v,n,m),R(v,s,m),R(v,a,m),R(v,l,m);for(let b=0;b<d.length;b+=1)d[b]&&d[b].m(v,m);R(v,u,m),R(v,f,m),R(v,h,m),R(v,_,m)},p(v,m){if(m[0]&32){p=lt(v[5]);let b;for(b=0;b<p.length;b+=1){const A=Qm(v,p,b);d[b]?d[b].p(A,m):(d[b]=Ym(A),d[b].c(),d[b].m(u.parentNode,u))}for(;b<d.length;b+=1)d[b].d(1);d.length=p.length}},d(v){v&&(w(e),w(r),w(n),w(s),w(a),w(l),w(u),w(f),w(h),w(_)),er(d,v)}}}function pP(i){let e;return{c(){e=V("Please only load models from URLs you trust!")},l(t){e=z(t,"Please only load models from URLs you trust!")},m(t,r){R(t,e,r)},d(t){t&&w(e)}}}function _P(i){let e,t,r,n,s,a,l,u,f,h,_;return h=new Tf({props:{$$slots:{default:[pP]},$$scope:{ctx:i}}}),{c(){e=ae("br"),t=ve(),r=ae("code"),n=V(i[4]),s=ve(),a=ae("br"),l=ve(),u=ae("br"),f=ve(),Qe(h.$$.fragment),this.h()},l(p){e=se(p,"BR",{}),t=ge(p),r=se(p,"CODE",{class:!0});var d=Me(r);n=z(d,i[4]),d.forEach(w),s=ge(p),a=se(p,"BR",{}),l=ge(p),u=se(p,"BR",{}),f=ge(p),Ye(h.$$.fragment,p),this.h()},h(){fe(r,"class","center text-center")},m(p,d){R(p,e,d),R(p,t,d),R(p,r,d),G(r,n),R(p,s,d),R(p,a,d),R(p,l,d),R(p,u,d),R(p,f,d),Ke(h,p,d),_=!0},p(p,d){(!_||d[0]&16)&&Se(n,p[4]);const v={};d[2]&32&&(v.$$scope={dirty:d,ctx:p}),h.$set(v)},i(p){_||(he(h.$$.fragment,p),_=!0)},o(p){be(h.$$.fragment,p),_=!1},d(p){p&&(w(e),w(t),w(r),w(s),w(a),w(l),w(u),w(f)),Je(h,p)}}}function vP(i){let e;return{c(){e=V("Please only load models from URLs you trust!")},l(t){e=z(t,"Please only load models from URLs you trust!")},m(t,r){R(t,e,r)},d(t){t&&w(e)}}}function gP(i){let e,t,r,n,s,a;return s=new Tf({props:{$$slots:{default:[vP]},$$scope:{ctx:i}}}),{c(){e=ae("br"),t=ve(),r=ae("br"),n=ve(),Qe(s.$$.fragment)},l(l){e=se(l,"BR",{}),t=ge(l),r=se(l,"BR",{}),n=ge(l),Ye(s.$$.fragment,l)},m(l,u){R(l,e,u),R(l,t,u),R(l,r,u),R(l,n,u),Ke(s,l,u),a=!0},p(l,u){const f={};u[2]&32&&(f.$$scope={dirty:u,ctx:l}),s.$set(f)},i(l){a||(he(s.$$.fragment,l),a=!0)},o(l){be(s.$$.fragment,l),a=!1},d(l){l&&(w(e),w(t),w(r),w(n)),Je(s,l)}}}function Km(i){let e,t,r,n;return e=new Tf({props:{alert_type:"warning",$$slots:{default:[mP]},$$scope:{ctx:i}}}),{c(){Qe(e.$$.fragment),t=ve(),r=ae("br")},l(s){Ye(e.$$.fragment,s),t=ge(s),r=se(s,"BR",{})},m(s,a){Ke(e,s,a),R(s,t,a),R(s,r,a),n=!0},i(s){n||(he(e.$$.fragment,s),n=!0)},o(s){be(e.$$.fragment,s),n=!1},d(s){s&&(w(t),w(r)),Je(e,s)}}}function mP(i){let e;return{c(){e=V("Please note this is a limited sharing capability for very small CAD models. Large models may exceed URL length limitations in browsers and messaging apps.")},l(t){e=z(t,"Please note this is a limited sharing capability for very small CAD models. Large models may exceed URL length limitations in browsers and messaging apps.")},m(t,r){R(t,e,r)},d(t){t&&w(e)}}}function bP(i){let e,t,r,n,s=i[15].length+"",a,l,u,f,h,_,p,d,v,m,b="copy",A,U,I,O=i[15].length>2048&&Km(i);return{c(){O&&O.c(),e=ve(),t=ae("div"),r=ae("code"),n=V("The encoded model has a string length of "),a=V(s),l=V(" characters."),u=ve(),f=ae("p"),h=ae("button"),_=ae("a"),p=V("Share URL"),d=ve(),v=ae("span"),m=ae("button"),m.textContent=b,this.h()},l(y){O&&O.l(y),e=ge(y),t=se(y,"DIV",{});var N=Me(t);r=se(N,"CODE",{});var T=Me(r);n=z(T,"The encoded model has a string length of "),a=z(T,s),l=z(T," characters."),T.forEach(w),N.forEach(w),u=ge(y),f=se(y,"P",{});var j=Me(f);h=se(j,"BUTTON",{class:!0});var F=Me(h);_=se(F,"A",{href:!0});var q=Me(_);p=z(q,"Share URL"),q.forEach(w),F.forEach(w),d=ge(j),v=se(j,"SPAN",{});var k=Me(v);m=se(k,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(m)!=="svelte-1uua65l"&&(m.textContent=b),k.forEach(w),j.forEach(w),this.h()},h(){fe(_,"href",i[16]),fe(h,"class","svelte-ql5co9"),fe(m,"class","svelte-ql5co9")},m(y,N){O&&O.m(y,N),R(y,e,N),R(y,t,N),G(t,r),G(r,n),G(r,a),G(r,l),R(y,u,N),R(y,f,N),G(f,h),G(h,_),G(_,p),G(f,d),G(f,v),G(v,m),A=!0,U||(I=Pe(m,"click",i[38]),U=!0)},p(y,N){y[15].length>2048?O?N[0]&32768&&he(O,1):(O=Km(y),O.c(),he(O,1),O.m(e.parentNode,e)):O&&(It(),be(O,1,1,()=>{O=null}),Rt()),(!A||N[0]&32768)&&s!==(s=y[15].length+"")&&Se(a,s),(!A||N[0]&65536)&&fe(_,"href",y[16])},i(y){A||(he(O),A=!0)},o(y){be(O),A=!1},d(y){y&&(w(e),w(t),w(u),w(f)),O&&O.d(y),U=!1,I()}}}function Jm(i){let e,t,r,n,s,a=i[6]>1&&Zm();return{c(){e=ae("button"),t=V(i[6]),r=V(" import alert"),a&&a.c(),this.h()},l(l){e=se(l,"BUTTON",{class:!0});var u=Me(e);t=z(u,i[6]),r=z(u," import alert"),a&&a.l(u),u.forEach(w),this.h()},h(){fe(e,"class","svelte-ql5co9")},m(l,u){R(l,e,u),G(e,t),G(e,r),a&&a.m(e,null),n||(s=Pe(e,"click",i[24]),n=!0)},p(l,u){u[0]&64&&Se(t,l[6]),l[6]>1?a||(a=Zm(),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(l){l&&w(e),a&&a.d(),n=!1,s()}}}function Zm(i){let e;return{c(){e=V("s")},l(t){e=z(t,"s")},m(t,r){R(t,e,r)},d(t){t&&w(e)}}}function e1(i){let e,t,r,n,s,a,l;return r=new QA({props:{display:"inline"}}),{c(){e=ae("span"),t=ae("span"),Qe(r.$$.fragment),n=ve(),s=ae("span"),a=V(i[18]),this.h()},l(u){e=se(u,"SPAN",{class:!0});var f=Me(e);t=se(f,"SPAN",{});var h=Me(t);Ye(r.$$.fragment,h),h.forEach(w),n=ge(f),s=se(f,"SPAN",{});var _=Me(s);a=z(_,i[18]),_.forEach(w),f.forEach(w),this.h()},h(){fe(e,"class","right")},m(u,f){R(u,e,f),G(e,t),Ke(r,t,null),G(e,n),G(e,s),G(s,a),l=!0},p(u,f){(!l||f[0]&262144)&&Se(a,u[18])},i(u){l||(he(r.$$.fragment,u),l=!0)},o(u){be(r.$$.fragment,u),l=!1},d(u){u&&w(e),Je(r)}}}function t1(i){let e,t;return e=new U4({props:{onClick:i[33],id:i[10].id,top:i[10].top,left:i[10].left,right:i[10].right,bottom:i[10].bottom}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,n){const s={};n[0]&1024&&(s.id=r[10].id),n[0]&1024&&(s.top=r[10].top),n[0]&1024&&(s.left=r[10].left),n[0]&1024&&(s.right=r[10].right),n[0]&1024&&(s.bottom=r[10].bottom),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function wP(i){let e,t,r,n,s,a,l;e=new xA({props:{position:"top-left"}}),r=new HA({props:{variant:VA.Dots}});let u=i[10]&&t1(i);return a=new zA({props:{position:"top-right"}}),{c(){Qe(e.$$.fragment),t=ve(),Qe(r.$$.fragment),n=ve(),u&&u.c(),s=ve(),Qe(a.$$.fragment)},l(f){Ye(e.$$.fragment,f),t=ge(f),Ye(r.$$.fragment,f),n=ge(f),u&&u.l(f),s=ge(f),Ye(a.$$.fragment,f)},m(f,h){Ke(e,f,h),R(f,t,h),Ke(r,f,h),R(f,n,h),u&&u.m(f,h),R(f,s,h),Ke(a,f,h),l=!0},p(f,h){f[10]?u?(u.p(f,h),h[0]&1024&&he(u,1)):(u=t1(f),u.c(),he(u,1),u.m(s.parentNode,s)):u&&(It(),be(u,1,1,()=>{u=null}),Rt())},i(f){l||(he(e.$$.fragment,f),he(r.$$.fragment,f),he(u),he(a.$$.fragment,f),l=!0)},o(f){be(e.$$.fragment,f),be(r.$$.fragment,f),be(u),be(a.$$.fragment,f),l=!1},d(f){f&&(w(t),w(n),w(s)),Je(e,f),Je(r,f),u&&u.d(f),Je(a,f)}}}function yP(i){let e,t;return e=new oP({props:{slot:"connectionLine"}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p:at,i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function r1(i){let e,t="<b>-</b>",r,n,s="node properties",a,l;return{c(){e=ae("button"),e.innerHTML=t,r=ve(),n=ae("code"),n.textContent=s,this.h()},l(u){e=se(u,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(e)!=="svelte-1nlkb58"&&(e.innerHTML=t),r=ge(u),n=se(u,"CODE",{class:!0,"data-svelte-h":!0}),vt(n)!=="svelte-1xrwlep"&&(n.textContent=s),this.h()},h(){fe(e,"class","svelte-ql5co9"),fe(n,"class","text-center")},m(u,f){R(u,e,f),R(u,r,f),R(u,n,f),a||(l=Pe(e,"click",i[44]),a=!0)},p:at,d(u){u&&(w(e),w(r),w(n)),a=!1,l()}}}function n1(i){let e,t="<b>+</b>",r,n;return{c(){e=ae("button"),e.innerHTML=t,this.h()},l(s){e=se(s,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(e)!=="svelte-efi5au"&&(e.innerHTML=t),this.h()},h(){fe(e,"class","svelte-ql5co9")},m(s,a){R(s,e,a),r||(n=Pe(e,"click",i[45]),r=!0)},p:at,d(s){s&&w(e),r=!1,n()}}}function EP(i){let e,t,r,n,s,a,l,u,f,h,_,p,d,v,m,b,A,U="Load",I,O,y="Merge",N,T,j="Clear",F,q,k="Save",L,D,P,Q="Save As...",H,oe="Save As JSON...",re,te="Save As Turtle...",$,W="Save As D3FEND Extension...",de,J,pe="Share",it,tt,Fe,He,Ce,De,Ge,gt,rt,me,Be,Vt,ir,lr,or,pr,rr,Ft,jt,_r,vr;function rn(Ve){i[36](Ve)}let K={title:i[2].title,content:i[2].content,options:i[2].options,$$slots:{default:[_P]},$$scope:{ctx:i}};i[2].is_open!==void 0&&(K.is_open=i[2].is_open),e=new wg({props:K}),Fr.push(()=>En(e,"is_open",rn)),e.$on("optionSelected",i[19]);function S(Ve){i[37](Ve)}let M={title:i[3].title,content:i[3].content,options:i[3].options,$$slots:{default:[gP]},$$scope:{ctx:i}};i[3].is_open!==void 0&&(M.is_open=i[3].is_open),n=new wg({props:M}),Fr.push(()=>En(n,"is_open",S)),n.$on("optionSelected",i[20]);function Z(Ve){i[39](Ve)}let _e={title:"Share this model with a URL",$$slots:{default:[bP]},$$scope:{ctx:i}};i[14]!==void 0&&(_e.is_open=i[14]),l=new H4({props:_e}),Fr.push(()=>En(l,"is_open",Z));function Ie(Ve){i[40](Ve)}let Ue={};i[9]!==void 0&&(Ue.selectedFile=i[9]),_=new aP({props:Ue}),Fr.push(()=>En(_,"selectedFile",Ie)),_.$on("fileSelected",i[30]);let ct=i[6]&&Jm(i),wt=i[18]&&e1(i);rt=new jA({props:{nodes:Vn,nodeTypes:i[0],edges:Co,edgeTypes:i[1],fitView:!0,defaultEdgeOptions:i[21],maxZoom:2,minZoom:.3,$$slots:{connectionLine:[yP],default:[wP]},$$scope:{ctx:i}}}),rt.$on("dragover",i[27]),rt.$on("drop",i[29]),rt.$on("connect",i[28]),rt.$on("nodecontextmenu",i[32]),rt.$on("paneclick",i[33]),rt.$on("onedgecreate",AP),Be=new Y4({});let pt=i[17]&&r1(i),mt=!i[17]&&n1(i);return rr=new Z4({}),{c(){Qe(e.$$.fragment),r=ve(),Qe(n.$$.fragment),a=ve(),Qe(l.$$.fragment),f=ve(),h=ae("div"),Qe(_.$$.fragment),d=ve(),v=ae("br"),m=ve(),b=ae("div"),A=ae("button"),A.textContent=U,I=ve(),O=ae("button"),O.textContent=y,N=ve(),T=ae("button"),T.textContent=j,F=ve(),q=ae("button"),q.textContent=k,L=ve(),D=ae("select"),P=ae("option"),P.textContent=Q,H=ae("option"),H.textContent=oe,re=ae("option"),re.textContent=te,$=ae("option"),$.textContent=W,de=ve(),J=ae("button"),J.textContent=pe,it=V(`
     filename:   `),tt=ae("input"),Fe=ve(),ct&&ct.c(),He=ve(),wt&&wt.c(),Ce=ve(),De=ae("main"),Ge=ae("div"),gt=ae("div"),Qe(rt.$$.fragment),me=ve(),Qe(Be.$$.fragment),ir=ve(),lr=ae("div"),pt&&pt.c(),or=ve(),mt&&mt.c(),pr=ve(),Qe(rr.$$.fragment),this.h()},l(Ve){Ye(e.$$.fragment,Ve),r=ge(Ve),Ye(n.$$.fragment,Ve),a=ge(Ve),Ye(l.$$.fragment,Ve),f=ge(Ve),h=se(Ve,"DIV",{class:!0});var yt=Me(h);Ye(_.$$.fragment,yt),yt.forEach(w),d=ge(Ve),v=se(Ve,"BR",{}),m=ge(Ve),b=se(Ve,"DIV",{id:!0,class:!0});var fr=Me(b);A=se(fr,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(A)!=="svelte-r4end6"&&(A.textContent=U),I=ge(fr),O=se(fr,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(O)!=="svelte-1s1l97g"&&(O.textContent=y),N=ge(fr),T=se(fr,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(T)!=="svelte-1o4uly3"&&(T.textContent=j),F=ge(fr),q=se(fr,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(q)!=="svelte-qm8vdx"&&(q.textContent=k),L=ge(fr),D=se(fr,"SELECT",{class:!0});var Cr=Me(D);P=se(Cr,"OPTION",{"data-svelte-h":!0}),vt(P)!=="svelte-hmrlsb"&&(P.textContent=Q),H=se(Cr,"OPTION",{"data-svelte-h":!0}),vt(H)!=="svelte-1q30tr1"&&(H.textContent=oe),re=se(Cr,"OPTION",{"data-svelte-h":!0}),vt(re)!=="svelte-pf55hp"&&(re.textContent=te),$=se(Cr,"OPTION",{"data-svelte-h":!0}),vt($)!=="svelte-43fn33"&&($.textContent=W),Cr.forEach(w),de=ge(fr),J=se(fr,"BUTTON",{class:!0,"data-svelte-h":!0}),vt(J)!=="svelte-mqt2ui"&&(J.textContent=pe),it=z(fr,`
     filename:   `),tt=se(fr,"INPUT",{style:!0,type:!0}),Fe=ge(fr),ct&&ct.l(fr),He=ge(fr),wt&&wt.l(fr),fr.forEach(w),Ce=ge(Ve),De=se(Ve,"MAIN",{class:!0});var fn=Me(De);Ge=se(fn,"DIV",{id:!0,class:!0});var Gn=Me(Ge);gt=se(Gn,"DIV",{id:!0,class:!0});var nn=Me(gt);Ye(rt.$$.fragment,nn),me=ge(nn),Ye(Be.$$.fragment,nn),nn.forEach(w),ir=ge(Gn),lr=se(Gn,"DIV",{class:!0});var ii=Me(lr);pt&&pt.l(ii),or=ge(ii),mt&&mt.l(ii),pr=ge(ii),Ye(rr.$$.fragment,ii),ii.forEach(w),Gn.forEach(w),fn.forEach(w),this.h()},h(){fe(h,"class","toolbar-examples"),fe(A,"class","svelte-ql5co9"),fe(O,"class","svelte-ql5co9"),fe(T,"class","svelte-ql5co9"),fe(q,"class","svelte-ql5co9"),P.__value="",bt(P,P.__value),H.__value="json",bt(H,H.__value),re.__value="turtle",bt(re,re.__value),$.__value="extension",bt($,$.__value),fe(D,"class","save-as-dropdown svelte-ql5co9"),i[8]===void 0&&Nh(()=>i[41].call(D)),fe(J,"class"," svelte-ql5co9"),Kt(tt,"width","275px"),fe(tt,"type","text"),fe(b,"id","toolbar"),fe(b,"class","svelte-ql5co9"),fe(gt,"id","flow"),fe(gt,"class","svelte-ql5co9"),Nh(()=>i[43].call(gt)),fe(lr,"class",Ft="side-panel "+(i[17]?"open":"close")+" svelte-ql5co9"),fe(Ge,"id","main-container"),fe(Ge,"class","svelte-ql5co9"),fe(De,"class","svelte-ql5co9")},m(Ve,yt){Ke(e,Ve,yt),R(Ve,r,yt),Ke(n,Ve,yt),R(Ve,a,yt),Ke(l,Ve,yt),R(Ve,f,yt),R(Ve,h,yt),Ke(_,h,null),R(Ve,d,yt),R(Ve,v,yt),R(Ve,m,yt),R(Ve,b,yt),G(b,A),G(b,I),G(b,O),G(b,N),G(b,T),G(b,F),G(b,q),G(b,L),G(b,D),G(D,P),G(D,H),G(D,re),G(D,$),g_(D,i[8],!0),G(b,de),G(b,J),G(b,it),G(b,tt),bt(tt,i[7]),G(b,Fe),ct&&ct.m(b,null),G(b,He),wt&&wt.m(b,null),R(Ve,Ce,yt),R(Ve,De,yt),G(De,Ge),G(Ge,gt),Ke(rt,gt,null),G(gt,me),Ke(Be,gt,null),Vt=EA(gt,i[43].bind(gt)),G(Ge,ir),G(Ge,lr),pt&&pt.m(lr,null),G(lr,or),mt&&mt.m(lr,null),G(lr,pr),Ke(rr,lr,null),jt=!0,_r||(vr=[Pe(A,"click",i[25]),Pe(O,"click",i[26]),Pe(T,"click",i[31]),Pe(q,"click",i[22]),Pe(D,"change",i[41]),Pe(D,"change",i[23]),Pe(J,"click",i[34]),Pe(tt,"input",i[42])],_r=!0)},p(Ve,yt){const fr={};yt[0]&4&&(fr.title=Ve[2].title),yt[0]&4&&(fr.content=Ve[2].content),yt[0]&4&&(fr.options=Ve[2].options),yt[0]&16|yt[2]&32&&(fr.$$scope={dirty:yt,ctx:Ve}),!t&&yt[0]&4&&(t=!0,fr.is_open=Ve[2].is_open,yn(()=>t=!1)),e.$set(fr);const Cr={};yt[0]&8&&(Cr.title=Ve[3].title),yt[0]&8&&(Cr.content=Ve[3].content),yt[0]&8&&(Cr.options=Ve[3].options),yt[2]&32&&(Cr.$$scope={dirty:yt,ctx:Ve}),!s&&yt[0]&8&&(s=!0,Cr.is_open=Ve[3].is_open,yn(()=>s=!1)),n.$set(Cr);const fn={};yt[0]&98304|yt[2]&32&&(fn.$$scope={dirty:yt,ctx:Ve}),!u&&yt[0]&16384&&(u=!0,fn.is_open=Ve[14],yn(()=>u=!1)),l.$set(fn);const Gn={};!p&&yt[0]&512&&(p=!0,Gn.selectedFile=Ve[9],yn(()=>p=!1)),_.$set(Gn),yt[0]&256&&g_(D,Ve[8]),yt[0]&128&&tt.value!==Ve[7]&&bt(tt,Ve[7]),Ve[6]?ct?ct.p(Ve,yt):(ct=Jm(Ve),ct.c(),ct.m(b,He)):ct&&(ct.d(1),ct=null),Ve[18]?wt?(wt.p(Ve,yt),yt[0]&262144&&he(wt,1)):(wt=e1(Ve),wt.c(),he(wt,1),wt.m(b,null)):wt&&(It(),be(wt,1,1,()=>{wt=null}),Rt());const nn={};yt[0]&1024|yt[2]&32&&(nn.$$scope={dirty:yt,ctx:Ve}),rt.$set(nn),Ve[17]?pt?pt.p(Ve,yt):(pt=r1(Ve),pt.c(),pt.m(lr,or)):pt&&(pt.d(1),pt=null),Ve[17]?mt&&(mt.d(1),mt=null):mt?mt.p(Ve,yt):(mt=n1(Ve),mt.c(),mt.m(lr,pr)),(!jt||yt[0]&131072&&Ft!==(Ft="side-panel "+(Ve[17]?"open":"close")+" svelte-ql5co9"))&&fe(lr,"class",Ft)},i(Ve){jt||(he(e.$$.fragment,Ve),he(n.$$.fragment,Ve),he(l.$$.fragment,Ve),he(_.$$.fragment,Ve),he(wt),he(rt.$$.fragment,Ve),he(Be.$$.fragment,Ve),he(rr.$$.fragment,Ve),jt=!0)},o(Ve){be(e.$$.fragment,Ve),be(n.$$.fragment,Ve),be(l.$$.fragment,Ve),be(_.$$.fragment,Ve),be(wt),be(rt.$$.fragment,Ve),be(Be.$$.fragment,Ve),be(rr.$$.fragment,Ve),jt=!1},d(Ve){Ve&&(w(r),w(a),w(f),w(h),w(d),w(v),w(m),w(b),w(Ce),w(De)),Je(e,Ve),Je(n,Ve),Je(l,Ve),Je(_),ct&&ct.d(),wt&&wt.d(),Je(rt),Je(Be),Vt(),pt&&pt.d(),mt&&mt.d(),Je(rr),_r=!1,zt(vr)}}}function DP(i){let e,t,r,n,s,a,l='D3FEND <span class="snakes"></span> <span class="CAD"><span style="color:#e62929;">C</span><span class="A svelte-ql5co9" style="color:white;text-border:1px;">A</span><span style="color:blue;">D</span></span>',u,f,h,_,p,d,v,m;e=new YA({props:{title:"D3FEND CAD Tool",og_title:"D3FEND CAD Tool",og_description:"Cyber Attack-Defense Utility for Capturing Engagements and Understandable Scenarios",og_type:"app",og_url:"",og_image:""}}),f=new Tf({props:{alert_type:"warning",$$slots:{default:[hP]},$$scope:{ctx:i}}});function b(U){i[35](U)}let A={title:i[6]+" import alerts",$$slots:{default:[dP]},$$scope:{ctx:i}};return i[13]!==void 0&&(A.is_open=i[13]),_=new cP({props:A}),Fr.push(()=>En(_,"is_open",b)),v=new X4({props:{position:"right",$$slots:{default:[EP]},$$scope:{ctx:i}}}),{c(){Qe(e.$$.fragment),t=ve(),r=ae("div"),n=ae("div"),s=ae("div"),a=ae("h1"),a.innerHTML=l,u=ve(),Qe(f.$$.fragment),h=ve(),Qe(_.$$.fragment),d=ve(),Qe(v.$$.fragment),this.h()},l(U){Ye(e.$$.fragment,U),t=ge(U),r=se(U,"DIV",{class:!0});var I=Me(r);n=se(I,"DIV",{style:!0});var O=Me(n);s=se(O,"DIV",{style:!0});var y=Me(s);a=se(y,"H1",{class:!0,title:!0,"data-svelte-h":!0}),vt(a)!=="svelte-xxt2o6"&&(a.innerHTML=l),u=ge(y),Ye(f.$$.fragment,y),y.forEach(w),O.forEach(w),I.forEach(w),h=ge(U),Ye(_.$$.fragment,U),d=ge(U),Ye(v.$$.fragment,U),this.h()},h(){fe(a,"class","fancy-font svelte-ql5co9"),fe(a,"title","Cyber Attack-Defense Utility for Capturing Engagements and Understandable Scenarios"),Kt(s,"text-align","center"),Kt(s,"flex-grow","1"),Kt(n,"display","flex"),Kt(n,"just-content","space-between"),Kt(n,"align-items","center"),fe(r,"class","title-egg svelte-ql5co9")},m(U,I){Ke(e,U,I),R(U,t,I),R(U,r,I),G(r,n),G(n,s),G(s,a),G(s,u),Ke(f,s,null),R(U,h,I),Ke(_,U,I),R(U,d,I),Ke(v,U,I),m=!0},p(U,I){const O={};I[2]&32&&(O.$$scope={dirty:I,ctx:U}),f.$set(O);const y={};I[0]&64&&(y.title=U[6]+" import alerts"),I[0]&32|I[2]&32&&(y.$$scope={dirty:I,ctx:U}),!p&&I[0]&8192&&(p=!0,y.is_open=U[13],yn(()=>p=!1)),_.$set(y);const N={};I[0]&516060|I[2]&32&&(N.$$scope={dirty:I,ctx:U}),v.$set(N)},i(U){m||(he(e.$$.fragment,U),he(f.$$.fragment,U),he(_.$$.fragment,U),he(v.$$.fragment,U),m=!0)},o(U){be(e.$$.fragment,U),be(f.$$.fragment,U),be(_.$$.fragment,U),be(v.$$.fragment,U),m=!1},d(U){U&&(w(t),w(r),w(h),w(d)),Je(e,U),Je(f),Je(_,U),Je(v,U)}}}function AP(i){console.log(i),console.log(i)}function i1(i,e){for(const t of i)if(t.params.missingProperty=="user_properties"){let r=t.dataPath.replace(/\D/g,"");r=parseInt(r),e.nodes[r].data.user_properties=[]}return e}function kP(i,e,t){let r,n,s,a;At(i,kA,S=>t(47,r=S)),At(i,Co,S=>t(48,n=S)),At(i,Vn,S=>t(49,s=S)),At(i,In,S=>t(18,a=S));var l=this&&this.__awaiter||function(S,M,Z,_e){function Ie(Ue){return Ue instanceof Z?Ue:new Z(function(ct){ct(Ue)})}return new(Z||(Z=Promise))(function(Ue,ct){function wt(Ve){try{mt(_e.next(Ve))}catch(yt){ct(yt)}}function pt(Ve){try{mt(_e.throw(Ve))}catch(yt){ct(yt)}}function mt(Ve){Ve.done?Ue(Ve.value):Ie(Ve.value).then(wt,pt)}mt((_e=_e.apply(S,M||[])).next())})};const u=new BT({useDefaults:!0,allErrors:!0});let f={is_open:!1,title:"Confirmation to load remote model from URL",content:"This page is instructing D3FEND to remotely load a CAD model from this URL:",options:[{label:"Cancel",value:"cancel"},{label:"Load Model",value:"load"}]},h={is_open:!1,title:"Confirmation to load remote model from compressed URL",content:"This page is instructing D3FEND to load a CAD model from this URL",options:[{label:"Cancel",value:"cancel"},{label:"Load Model",value:"load"}]},_;r.url.searchParams.get("load")&&(_=r.url.searchParams.get("load"),f.is_open=!0),r.url.searchParams.get("loadg")&&(h.is_open=!0);function p(S){const M=S.detail;M.value==="load"?(In.add("loading remote URL"),H(_),In.clear()):M.value}function d(S){const M=S.detail;if(M.value==="load"){In.add("loading graph from URL");const Z=r.url.searchParams.get("loadg"),_e=S_.uncrush(Z);let Ie=JSON.parse(_e);q(Ie),In.clear()}else M.value}kf(()=>{In.add("Mounting app...");try{jf.initialize(),In.clear()}catch(S){console.error("Failed to initialize Oxigraph in +layout.svelte",S),S.message}});const v={artifactSelectorNode:PR,vulnerabilitySelectorNode:NR,attackSelectorNode:AR,countermeasureSelectorNode:BR,informationSelectorNode:jR,conditionDefinitionNode:VR,agentSelectorNode:GR,eventNode:YR},m={editableEdge:tP};let b={type:"editableEdge",data:{label:void 0},markerEnd:{type:s1.ArrowClosed}},A,U,I="d3fend-cad.json",O="";function y(){const S=JSON.stringify({nodes:s,edges:n},null,4),M=new Blob([S],{type:"application/json"}),Z=window.URL.createObjectURL(M),_e=document.createElement("a");_e.href=Z,_e.download=I,t(6,U=0),document.body.appendChild(_e),_e.click(),document.body.removeChild(_e),window.URL.revokeObjectURL(Z)}function N(){console.log("Saving As D3FEND Ontology Extension..."),In.add("Generating D3FEND Ontology Extension in Turtle file");let S=prompt("Enter extension name to save as D3FEND Ontology Extension Turtle file as d3fend-cad-ext-<extension-name-here>.ttl","my-extension");const M="d3fend-cad-ext-"+S+".ttl";$9(S).then(Z=>{In.clear();const _e=new Blob([Z],{type:"text/turtle"}),Ie=window.URL.createObjectURL(_e),Ue=document.createElement("a");Ue.href=Ie,M&&(Ue.download=M,document.body.appendChild(Ue),Ue.click(),document.body.removeChild(Ue)),window.URL.revokeObjectURL(Ie)}).catch(Z=>{console.error("Error generating D3FEND Ontology Extension in Turtle: ",Z)})}function T(){O==="json"?F():O==="turtle"?j():O==="extension"&&N(),t(8,O="")}function j(){In.add("generating ttl file"),console.log("!!! Turtle export engaged !!!"),z9().then(S=>{In.clear();const M=new Blob([S],{type:"text/turtle"}),Z=window.URL.createObjectURL(M),_e=document.createElement("a");_e.href=Z;let Ie=prompt("Enter filename to save as Turtle file",I.replace("json","ttl"));t(6,U=0),Ie&&(_e.download=Ie,document.body.appendChild(_e),_e.click(),document.body.removeChild(_e)),window.URL.revokeObjectURL(Z)}).catch(S=>{console.error("Error serializing graph to Turtle: ",S)})}function F(){const S=JSON.stringify({nodes:s,edges:n},null,4),M=new Blob([S],{type:"application/json"}),Z=window.URL.createObjectURL(M),_e=document.createElement("a");_e.href=Z;let Ie=prompt("Enter filename to save as JSON file",I);t(6,U=0),t(7,I=Ie),Ie&&(_e.download=Ie,document.body.appendChild(_e),_e.click(),document.body.removeChild(_e)),window.URL.revokeObjectURL(Z)}function q(S){try{const M=u.compile(y_),Z=M(S);t(5,A=M.errors),Z||(S=i1(M.errors,S));const _e=S.nodes,Ie=S.edges;In.add("loading graph from data..."),sf(_e,Ie),D(),window.addEventListener("beforeunload",Ue=>{console.log("User is leaving the page"),Ue.preventDefault(),Ue.returnValue=""}),In.clear()}catch(M){console.error("Error parsing JSON:",M)}}function k(){t(13,Ge=!0)}const{screenToFlowPosition:L,fitView:D}=lk();function P(S){const M=S.target.files[0];if(M){const Z=new FileReader;Z.onload=_e=>{if(typeof _e.target.result=="string"){console.log(_e.target.result),t(7,I=M.name),t(7,I=M.name);try{let Ie=JSON.parse(_e.target.result);const Ue=u.compile(y_),ct=Ue(Ie);t(5,A=Ue.errors),ct||(Ie=i1(Ue.errors,Ie));const wt=Ie.nodes,pt=Ie.edges;sf(wt,pt),D(),window.addEventListener("beforeunload",mt=>{console.log("User is leaving the page"),mt.preventDefault(),mt.returnValue=""})}catch(Ie){console.error("Error parsing JSON:",Ie)}}else console.error("File content is not a string.")},Z.onerror=()=>{console.error("Error reading file:",Z.error)},Z.readAsText(M)}}function Q(S){const M=S.target.files[0];if(M){const Z=new FileReader;Z.onload=_e=>{if(typeof _e.target.result=="string"){console.log(_e.target.result);try{const Ie=JSON.parse(_e.target.result);Vn.set([...s,...Ie.nodes]),Co.set([...n,...Ie.edges]),alert(` added ${Ie.nodes.length} nodes and ${Ie.edges.length} edges to the current graph `)}catch(Ie){console.error("Error parsing JSON:",Ie),alert(`Error parsing JSON:", ${Ie}`)}}else console.error("File content is not a string."),alert("File content is not a string.")},Z.onerror=()=>{console.error("Error reading file:",Z.error),alert(`Error reading file: ${Z.error}`)},Z.readAsText(M)}}function H(S){return l(this,void 0,void 0,function*(){if(S)try{const Z=yield(yield fetch(S)).json(),_e=Z.nodes,Ie=Z.edges;sf(_e,Ie),D()}catch(M){console.error("Error parsing JSON:",M)}})}function oe(){const S=document.createElement("input");S.type="file",S.accept=".json",S.onchange=M=>{P(M)},S.click()}function re(){const S=document.createElement("input");S.type="file",S.accept=".json",S.onchange=M=>{Q(M)},S.click()}const te=S=>{S.preventDefault(),S.dataTransfer&&(S.dataTransfer.dropEffect="move")},$=S=>console.log("handle onConnect",S),W=S=>{if(S.preventDefault(),!S.dataTransfer)return null;const M=S.dataTransfer.getData("application/svelteflow"),Z=L({x:S.clientX,y:S.clientY}),_e={id:`${Math.random()}`,type:M,position:Z,data:{label:null,sequence:"0",user_properties:[]},origin:[.5,0]};s.push(_e),Vn.set(s)};function de(S){return l(this,void 0,void 0,function*(){const M=S.detail;t(7,I=M);try{const Z=yield fetch(`/resources/cad/examples/${M}`);if(!Z.ok)throw new Error(`HTTP error! status: ${Z.status}`);const _e=yield Z.json();console.log("Selected file contents:",_e),q(_e)}catch(Z){console.error("Error fetching JSON file:",Z)}})}let J;function pe(){M9(),t(6,U=0),t(9,J="Example Graphs"),t(7,I="d3fend-cad.json")}let it,tt,Fe;function He({detail:{event:S,node:M}}){S.preventDefault();let Z=50;t(10,it={id:M.id,top:S.clientY<Fe-Z?S.clientY:void 0,left:S.clientX<tt-Z?S.clientX:void 0,right:S.clientX>=tt-Z?tt-S.clientX:void 0,bottom:S.clientY>=Fe-Z?Fe-S.clientY:void 0}),De({detail:{event:S,node:M}})}function Ce(){t(10,it=null),St.set(null)}function De({detail:{event:S,node:M}}){St.set(M)}let Ge=!1,gt=!1,rt,me;function Be(){In.add("compressing graph to string..."),t(14,gt=!0);const S=S_.crush(JSON.stringify({nodes:s,edges:n}));t(15,rt=encodeURIComponent(S)),t(16,me=r.url.origin+`/cad/?loadg=${rt}`),In.clear()}let Vt=!1;function ir(S){Ge=S,t(13,Ge)}function lr(S){i.$$.not_equal(f.is_open,S)&&(f.is_open=S,t(2,f))}function or(S){i.$$.not_equal(h.is_open,S)&&(h.is_open=S,t(3,h))}const pr=()=>TA(me);function rr(S){gt=S,t(14,gt)}function Ft(S){J=S,t(9,J)}function jt(){O=DA(this),t(8,O)}function _r(){I=this.value,t(7,I)}function vr(){tt=this.clientWidth,Fe=this.clientHeight,t(11,tt),t(12,Fe)}return[v,m,f,h,_,A,U,I,O,J,it,tt,Fe,Ge,gt,rt,me,Vt,a,p,d,b,y,T,k,oe,re,te,$,W,de,pe,He,Ce,Be,ir,lr,or,pr,rr,Ft,jt,_r,vr,()=>t(17,Vt=!Vt),()=>t(17,Vt=!Vt)]}class CP extends Xt{constructor(e){super(),Wt(this,e,kP,DP,kt,{nodeTypes:0,edgeTypes:1},null,[-1,-1,-1])}get nodeTypes(){return this.$$.ctx[0]}get edgeTypes(){return this.$$.ctx[1]}}function TP(i){let e,t;return e=new CP({}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function NP(i){let e,t;return e=new sk({props:{$$slots:{default:[TP]},$$scope:{ctx:i}}}),{c(){Qe(e.$$.fragment)},l(r){Ye(e.$$.fragment,r)},m(r,n){Ke(e,r,n),t=!0},p(r,[n]){const s={};n&4&&(s.$$scope={dirty:n,ctx:r}),e.$set(s)},i(r){t||(he(e.$$.fragment,r),t=!0)},o(r){be(e.$$.fragment,r),t=!1},d(r){Je(e,r)}}}function SP(i,e,t){let r,{data:n}=e;return i.$$set=s=>{"data"in s&&t(0,n=s.data)},i.$$.update=()=>{i.$$.dirty&1&&t(1,r=n.remote_d3fend_tree?n.remote_d3fend_tree.map(s=>({...s,children:Zh(s.children,s["rdfs:label"])})):[]),i.$$.dirty&3&&(f1.set(r),h1.set(n.attack),c1.set(n.dao),d1.set(n.events),p1.set(n.weaknesses),_1.set(n.properties),v1.set(n.digital_information))},[n,r]}class n8 extends Xt{constructor(e){super(),Wt(this,e,SP,NP,kt,{data:0})}}export{n8 as component,YP as universal};
